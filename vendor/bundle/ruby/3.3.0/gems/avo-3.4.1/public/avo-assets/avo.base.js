(()=>{var uCe=Object.create;var sA=Object.defineProperty,cCe=Object.defineProperties,fCe=Object.getOwnPropertyDescriptor,hCe=Object.getOwnPropertyDescriptors,dCe=Object.getOwnPropertyNames,SH=Object.getOwnPropertySymbols,pCe=Object.getPrototypeOf,TH=Object.prototype.hasOwnProperty,mCe=Object.prototype.propertyIsEnumerable;var aR=(r,e,t)=>e in r?sA(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,id=(r,e)=>{for(var t in e||(e={}))TH.call(e,t)&&aR(r,t,e[t]);if(SH)for(var t of SH(e))mCe.call(e,t)&&aR(r,t,e[t]);return r},cg=(r,e)=>cCe(r,hCe(e));var EH=(r=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(r,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):r)(function(r){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var ze=(r,e)=>()=>(r&&(e=r(r=0)),e);var de=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),kH=(r,e)=>{for(var t in e)sA(r,t,{get:e[t],enumerable:!0})},gCe=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of dCe(e))!TH.call(r,i)&&i!==t&&sA(r,i,{get:()=>e[i],enumerable:!(n=fCe(e,i))||n.enumerable});return r};var la=(r,e,t)=>(t=r!=null?uCe(pCe(r)):{},gCe(e||!r||!r.__esModule?sA(t,"default",{value:r,enumerable:!0}):t,r));var Wr=(r,e,t)=>(aR(r,typeof e!="symbol"?e+"":e,t),t);var z0=(r,e,t)=>new Promise((n,i)=>{var a=g=>{try{h(t.next(g))}catch(w){i(w)}},l=g=>{try{h(t.throw(g))}catch(w){i(w)}},h=g=>g.done?n(g.value):Promise.resolve(g.value).then(a,l);h((t=t.apply(r,e)).next())});var Un=de((sR,CH)=>{"use strict";var xw=function(r){return r&&r.Math===Math&&r};CH.exports=xw(typeof globalThis=="object"&&globalThis)||xw(typeof window=="object"&&window)||xw(typeof self=="object"&&self)||xw(typeof global=="object"&&global)||xw(typeof sR=="object"&&sR)||function(){return this}()||Function("return this")()});var rn=de((F1t,AH)=>{"use strict";AH.exports=function(r){try{return!!r()}catch{return!0}}});var Di=de((q1t,DH)=>{"use strict";var vCe=rn();DH.exports=!vCe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})});var U0=de((N1t,OH)=>{"use strict";var yCe=rn();OH.exports=!yCe(function(){var r=function(){}.bind();return typeof r!="function"||r.hasOwnProperty("prototype")})});var co=de((B1t,IH)=>{"use strict";var bCe=U0(),lA=Function.prototype.call;IH.exports=bCe?lA.bind(lA):function(){return lA.apply(lA,arguments)}});var _w=de(PH=>{"use strict";var MH={}.propertyIsEnumerable,LH=Object.getOwnPropertyDescriptor,xCe=LH&&!MH.call({1:2},1);PH.f=xCe?function(e){var t=LH(this,e);return!!t&&t.enumerable}:MH});var od=de((U1t,RH)=>{"use strict";RH.exports=function(r,e){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:e}}});var cn=de((j1t,NH)=>{"use strict";var FH=U0(),qH=Function.prototype,lR=qH.call,_Ce=FH&&qH.bind.bind(lR,lR);NH.exports=FH?_Ce:function(r){return function(){return lR.apply(r,arguments)}}});var gf=de((H1t,zH)=>{"use strict";var BH=cn(),wCe=BH({}.toString),SCe=BH("".slice);zH.exports=function(r){return SCe(wCe(r),8,-1)}});var zy=de((W1t,UH)=>{"use strict";var TCe=cn(),ECe=rn(),kCe=gf(),uR=Object,CCe=TCe("".split);UH.exports=ECe(function(){return!uR("z").propertyIsEnumerable(0)})?function(r){return kCe(r)==="String"?CCe(r,""):uR(r)}:uR});var Hf=de((V1t,jH)=>{"use strict";jH.exports=function(r){return r==null}});var nl=de(($1t,HH)=>{"use strict";var ACe=Hf(),DCe=TypeError;HH.exports=function(r){if(ACe(r))throw new DCe("Can't call method on "+r);return r}});var pc=de((G1t,WH)=>{"use strict";var OCe=zy(),ICe=nl();WH.exports=function(r){return OCe(ICe(r))}});var Xo=de((K1t,VH)=>{"use strict";var cR=typeof document=="object"&&document.all;VH.exports=typeof cR>"u"&&cR!==void 0?function(r){return typeof r=="function"||r===cR}:function(r){return typeof r=="function"}});var Fo=de((Y1t,$H)=>{"use strict";var MCe=Xo();$H.exports=function(r){return typeof r=="object"?r!==null:MCe(r)}});var Fs=de((Z1t,GH)=>{"use strict";var fR=Un(),LCe=Xo(),PCe=function(r){return LCe(r)?r:void 0};GH.exports=function(r,e){return arguments.length<2?PCe(fR[r]):fR[r]&&fR[r][e]}});var mh=de((X1t,KH)=>{"use strict";var RCe=cn();KH.exports=RCe({}.isPrototypeOf)});var dm=de((J1t,YH)=>{"use strict";YH.exports=typeof navigator<"u"&&String(navigator.userAgent)||""});var pm=de((Q1t,tW)=>{"use strict";var eW=Un(),hR=dm(),ZH=eW.process,XH=eW.Deno,JH=ZH&&ZH.versions||XH&&XH.version,QH=JH&&JH.v8,Op,uA;QH&&(Op=QH.split("."),uA=Op[0]>0&&Op[0]<4?1:+(Op[0]+Op[1]));!uA&&hR&&(Op=hR.match(/Edge\/(\d+)/),(!Op||Op[1]>=74)&&(Op=hR.match(/Chrome\/(\d+)/),Op&&(uA=+Op[1])));tW.exports=uA});var Uy=de((ewt,nW)=>{"use strict";var rW=pm(),FCe=rn(),qCe=Un(),NCe=qCe.String;nW.exports=!!Object.getOwnPropertySymbols&&!FCe(function(){var r=Symbol("symbol detection");return!NCe(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&rW&&rW<41})});var dR=de((twt,iW)=>{"use strict";var BCe=Uy();iW.exports=BCe&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var bv=de((rwt,oW)=>{"use strict";var zCe=Fs(),UCe=Xo(),jCe=mh(),HCe=dR(),WCe=Object;oW.exports=HCe?function(r){return typeof r=="symbol"}:function(r){var e=zCe("Symbol");return UCe(e)&&jCe(e.prototype,WCe(r))}});var xv=de((nwt,aW)=>{"use strict";var VCe=String;aW.exports=function(r){try{return VCe(r)}catch{return"Object"}}});var il=de((iwt,sW)=>{"use strict";var $Ce=Xo(),GCe=xv(),KCe=TypeError;sW.exports=function(r){if($Ce(r))return r;throw new KCe(GCe(r)+" is not a function")}});var mm=de((owt,lW)=>{"use strict";var YCe=il(),ZCe=Hf();lW.exports=function(r,e){var t=r[e];return ZCe(t)?void 0:YCe(t)}});var vR=de((awt,uW)=>{"use strict";var pR=co(),mR=Xo(),gR=Fo(),XCe=TypeError;uW.exports=function(r,e){var t,n;if(e==="string"&&mR(t=r.toString)&&!gR(n=pR(t,r))||mR(t=r.valueOf)&&!gR(n=pR(t,r))||e!=="string"&&mR(t=r.toString)&&!gR(n=pR(t,r)))return n;throw new XCe("Can't convert object to primitive value")}});var Al=de((swt,cW)=>{"use strict";cW.exports=!1});var cA=de((lwt,hW)=>{"use strict";var fW=Un(),JCe=Object.defineProperty;hW.exports=function(r,e){try{JCe(fW,r,{value:e,configurable:!0,writable:!0})}catch{fW[r]=e}return e}});var fA=de((uwt,pW)=>{"use strict";var QCe=Un(),eAe=cA(),dW="__core-js_shared__",tAe=QCe[dW]||eAe(dW,{});pW.exports=tAe});var jy=de((cwt,gW)=>{"use strict";var rAe=Al(),mW=fA();(gW.exports=function(r,e){return mW[r]||(mW[r]=e!==void 0?e:{})})("versions",[]).push({version:"3.35.1",mode:rAe?"pure":"global",copyright:"\xA9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.35.1/LICENSE",source:"https://github.com/zloirock/core-js"})});var Oa=de((fwt,vW)=>{"use strict";var nAe=nl(),iAe=Object;vW.exports=function(r){return iAe(nAe(r))}});var ua=de((hwt,yW)=>{"use strict";var oAe=cn(),aAe=Oa(),sAe=oAe({}.hasOwnProperty);yW.exports=Object.hasOwn||function(e,t){return sAe(aAe(e),t)}});var Hy=de((dwt,bW)=>{"use strict";var lAe=cn(),uAe=0,cAe=Math.random(),fAe=lAe(1 .toString);bW.exports=function(r){return"Symbol("+(r===void 0?"":r)+")_"+fAe(++uAe+cAe,36)}});var Ho=de((pwt,_W)=>{"use strict";var hAe=Un(),dAe=jy(),xW=ua(),pAe=Hy(),mAe=Uy(),gAe=dR(),j0=hAe.Symbol,yR=dAe("wks"),vAe=gAe?j0.for||j0:j0&&j0.withoutSetter||pAe;_W.exports=function(r){return xW(yR,r)||(yR[r]=mAe&&xW(j0,r)?j0[r]:vAe("Symbol."+r)),yR[r]}});var ww=de((mwt,TW)=>{"use strict";var yAe=co(),wW=Fo(),SW=bv(),bAe=mm(),xAe=vR(),_Ae=Ho(),wAe=TypeError,SAe=_Ae("toPrimitive");TW.exports=function(r,e){if(!wW(r)||SW(r))return r;var t=bAe(r,SAe),n;if(t){if(e===void 0&&(e="default"),n=yAe(t,r,e),!wW(n)||SW(n))return n;throw new wAe("Can't convert object to primitive value")}return e===void 0&&(e="number"),xAe(r,e)}});var gm=de((gwt,EW)=>{"use strict";var TAe=ww(),EAe=bv();EW.exports=function(r){var e=TAe(r,"string");return EAe(e)?e:e+""}});var Sw=de((vwt,CW)=>{"use strict";var kAe=Un(),kW=Fo(),bR=kAe.document,CAe=kW(bR)&&kW(bR.createElement);CW.exports=function(r){return CAe?bR.createElement(r):{}}});var xR=de((ywt,AW)=>{"use strict";var AAe=Di(),DAe=rn(),OAe=Sw();AW.exports=!AAe&&!DAe(function(){return Object.defineProperty(OAe("div"),"a",{get:function(){return 7}}).a!==7})});var vf=de(OW=>{"use strict";var IAe=Di(),MAe=co(),LAe=_w(),PAe=od(),RAe=pc(),FAe=gm(),qAe=ua(),NAe=xR(),DW=Object.getOwnPropertyDescriptor;OW.f=IAe?DW:function(e,t){if(e=RAe(e),t=FAe(t),NAe)try{return DW(e,t)}catch{}if(qAe(e,t))return PAe(!MAe(LAe.f,e,t),e[t])}});var _R=de((xwt,IW)=>{"use strict";var BAe=Di(),zAe=rn();IW.exports=BAe&&zAe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})});var yo=de((_wt,MW)=>{"use strict";var UAe=Fo(),jAe=String,HAe=TypeError;MW.exports=function(r){if(UAe(r))return r;throw new HAe(jAe(r)+" is not an object")}});var ol=de(PW=>{"use strict";var WAe=Di(),VAe=xR(),$Ae=_R(),hA=yo(),LW=gm(),GAe=TypeError,wR=Object.defineProperty,KAe=Object.getOwnPropertyDescriptor,SR="enumerable",TR="configurable",ER="writable";PW.f=WAe?$Ae?function(e,t,n){if(hA(e),t=LW(t),hA(n),typeof e=="function"&&t==="prototype"&&"value"in n&&ER in n&&!n[ER]){var i=KAe(e,t);i&&i[ER]&&(e[t]=n.value,n={configurable:TR in n?n[TR]:i[TR],enumerable:SR in n?n[SR]:i[SR],writable:!1})}return wR(e,t,n)}:wR:function(e,t,n){if(hA(e),t=LW(t),hA(n),VAe)try{return wR(e,t,n)}catch{}if("get"in n||"set"in n)throw new GAe("Accessors not supported");return"value"in n&&(e[t]=n.value),e}});var yf=de((Swt,RW)=>{"use strict";var YAe=Di(),ZAe=ol(),XAe=od();RW.exports=YAe?function(r,e,t){return ZAe.f(r,e,XAe(1,t))}:function(r,e,t){return r[e]=t,r}});var Wy=de((Twt,qW)=>{"use strict";var kR=Di(),JAe=ua(),FW=Function.prototype,QAe=kR&&Object.getOwnPropertyDescriptor,CR=JAe(FW,"name"),eDe=CR&&function(){}.name==="something",tDe=CR&&(!kR||kR&&QAe(FW,"name").configurable);qW.exports={EXISTS:CR,PROPER:eDe,CONFIGURABLE:tDe}});var dA=de((Ewt,NW)=>{"use strict";var rDe=cn(),nDe=Xo(),AR=fA(),iDe=rDe(Function.toString);nDe(AR.inspectSource)||(AR.inspectSource=function(r){return iDe(r)});NW.exports=AR.inspectSource});var DR=de((kwt,zW)=>{"use strict";var oDe=Un(),aDe=Xo(),BW=oDe.WeakMap;zW.exports=aDe(BW)&&/native code/.test(String(BW))});var Tw=de((Cwt,jW)=>{"use strict";var sDe=jy(),lDe=Hy(),UW=sDe("keys");jW.exports=function(r){return UW[r]||(UW[r]=lDe(r))}});var H0=de((Awt,HW)=>{"use strict";HW.exports={}});var Vu=de((Dwt,$W)=>{"use strict";var uDe=DR(),VW=Un(),cDe=Fo(),fDe=yf(),OR=ua(),IR=fA(),hDe=Tw(),dDe=H0(),WW="Object already initialized",MR=VW.TypeError,pDe=VW.WeakMap,pA,Ew,mA,mDe=function(r){return mA(r)?Ew(r):pA(r,{})},gDe=function(r){return function(e){var t;if(!cDe(e)||(t=Ew(e)).type!==r)throw new MR("Incompatible receiver, "+r+" required");return t}};uDe||IR.state?(Ip=IR.state||(IR.state=new pDe),Ip.get=Ip.get,Ip.has=Ip.has,Ip.set=Ip.set,pA=function(r,e){if(Ip.has(r))throw new MR(WW);return e.facade=r,Ip.set(r,e),e},Ew=function(r){return Ip.get(r)||{}},mA=function(r){return Ip.has(r)}):(Vy=hDe("state"),dDe[Vy]=!0,pA=function(r,e){if(OR(r,Vy))throw new MR(WW);return e.facade=r,fDe(r,Vy,e),e},Ew=function(r){return OR(r,Vy)?r[Vy]:{}},mA=function(r){return OR(r,Vy)});var Ip,Vy;$W.exports={set:pA,get:Ew,has:mA,enforce:mDe,getterFor:gDe}});var yA=de((Owt,YW)=>{"use strict";var PR=cn(),vDe=rn(),yDe=Xo(),gA=ua(),LR=Di(),bDe=Wy().CONFIGURABLE,xDe=dA(),KW=Vu(),_De=KW.enforce,wDe=KW.get,GW=String,vA=Object.defineProperty,SDe=PR("".slice),TDe=PR("".replace),EDe=PR([].join),kDe=LR&&!vDe(function(){return vA(function(){},"length",{value:8}).length!==8}),CDe=String(String).split("String"),ADe=YW.exports=function(r,e,t){SDe(GW(e),0,7)==="Symbol("&&(e="["+TDe(GW(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),t&&t.getter&&(e="get "+e),t&&t.setter&&(e="set "+e),(!gA(r,"name")||bDe&&r.name!==e)&&(LR?vA(r,"name",{value:e,configurable:!0}):r.name=e),kDe&&t&&gA(t,"arity")&&r.length!==t.arity&&vA(r,"length",{value:t.arity});try{t&&gA(t,"constructor")&&t.constructor?LR&&vA(r,"prototype",{writable:!1}):r.prototype&&(r.prototype=void 0)}catch{}var n=_De(r);return gA(n,"source")||(n.source=EDe(CDe,typeof e=="string"?e:"")),r};Function.prototype.toString=ADe(function(){return yDe(this)&&wDe(this).source||xDe(this)},"toString")});var Vs=de((Iwt,ZW)=>{"use strict";var DDe=Xo(),ODe=ol(),IDe=yA(),MDe=cA();ZW.exports=function(r,e,t,n){n||(n={});var i=n.enumerable,a=n.name!==void 0?n.name:e;if(DDe(t)&&IDe(t,a,n),n.global)i?r[e]=t:MDe(e,t);else{try{n.unsafe?r[e]&&(i=!0):delete r[e]}catch{}i?r[e]=t:ODe.f(r,e,{value:t,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return r}});var RR=de((Mwt,XW)=>{"use strict";var LDe=Math.ceil,PDe=Math.floor;XW.exports=Math.trunc||function(e){var t=+e;return(t>0?PDe:LDe)(t)}});var eu=de((Lwt,JW)=>{"use strict";var RDe=RR();JW.exports=function(r){var e=+r;return e!==e||e===0?0:RDe(e)}});var vm=de((Pwt,QW)=>{"use strict";var FDe=eu(),qDe=Math.max,NDe=Math.min;QW.exports=function(r,e){var t=FDe(r);return t<0?qDe(t+e,0):NDe(t,e)}});var gh=de((Rwt,e8)=>{"use strict";var BDe=eu(),zDe=Math.min;e8.exports=function(r){var e=BDe(r);return e>0?zDe(e,9007199254740991):0}});var Ja=de((Fwt,t8)=>{"use strict";var UDe=gh();t8.exports=function(r){return UDe(r.length)}});var W0=de((qwt,n8)=>{"use strict";var jDe=pc(),HDe=vm(),WDe=Ja(),r8=function(r){return function(e,t,n){var i=jDe(e),a=WDe(i),l=HDe(n,a),h;if(r&&t!==t){for(;a>l;)if(h=i[l++],h!==h)return!0}else for(;a>l;l++)if((r||l in i)&&i[l]===t)return r||l||0;return!r&&-1}};n8.exports={includes:r8(!0),indexOf:r8(!1)}});var qR=de((Nwt,o8)=>{"use strict";var VDe=cn(),FR=ua(),$De=pc(),GDe=W0().indexOf,KDe=H0(),i8=VDe([].push);o8.exports=function(r,e){var t=$De(r),n=0,i=[],a;for(a in t)!FR(KDe,a)&&FR(t,a)&&i8(i,a);for(;e.length>n;)FR(t,a=e[n++])&&(~GDe(i,a)||i8(i,a));return i}});var bA=de((Bwt,a8)=>{"use strict";a8.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var _v=de(s8=>{"use strict";var YDe=qR(),ZDe=bA(),XDe=ZDe.concat("length","prototype");s8.f=Object.getOwnPropertyNames||function(e){return YDe(e,XDe)}});var kw=de(l8=>{"use strict";l8.f=Object.getOwnPropertySymbols});var xA=de((jwt,u8)=>{"use strict";var JDe=Fs(),QDe=cn(),e2e=_v(),t2e=kw(),r2e=yo(),n2e=QDe([].concat);u8.exports=JDe("Reflect","ownKeys")||function(e){var t=e2e.f(r2e(e)),n=t2e.f;return n?n2e(t,n(e)):t}});var V0=de((Hwt,f8)=>{"use strict";var c8=ua(),i2e=xA(),o2e=vf(),a2e=ol();f8.exports=function(r,e,t){for(var n=i2e(e),i=a2e.f,a=o2e.f,l=0;l<n.length;l++){var h=n[l];!c8(r,h)&&!(t&&c8(t,h))&&i(r,h,a(e,h))}}});var $0=de((Wwt,h8)=>{"use strict";var s2e=rn(),l2e=Xo(),u2e=/#|\.prototype\./,Cw=function(r,e){var t=f2e[c2e(r)];return t===d2e?!0:t===h2e?!1:l2e(e)?s2e(e):!!e},c2e=Cw.normalize=function(r){return String(r).replace(u2e,".").toLowerCase()},f2e=Cw.data={},h2e=Cw.NATIVE="N",d2e=Cw.POLYFILL="P";h8.exports=Cw});var Ut=de((Vwt,d8)=>{"use strict";var _A=Un(),p2e=vf().f,m2e=yf(),g2e=Vs(),v2e=cA(),y2e=V0(),b2e=$0();d8.exports=function(r,e){var t=r.target,n=r.global,i=r.stat,a,l,h,g,w,C;if(n?l=_A:i?l=_A[t]||v2e(t,{}):l=_A[t]&&_A[t].prototype,l)for(h in e){if(w=e[h],r.dontCallGetSet?(C=p2e(l,h),g=C&&C.value):g=l[h],a=b2e(n?h:t+(i?".":"#")+h,r.forced),!a&&g!==void 0){if(typeof w==typeof g)continue;y2e(w,g)}(r.sham||g&&g.sham)&&m2e(w,"sham",!0),g2e(l,h,w,r)}}});var wA=de(($wt,m8)=>{"use strict";var x2e=Ho(),_2e=x2e("toStringTag"),p8={};p8[_2e]="z";m8.exports=String(p8)==="[object z]"});var Mp=de((Gwt,g8)=>{"use strict";var w2e=wA(),S2e=Xo(),SA=gf(),T2e=Ho(),E2e=T2e("toStringTag"),k2e=Object,C2e=SA(function(){return arguments}())==="Arguments",A2e=function(r,e){try{return r[e]}catch{}};g8.exports=w2e?SA:function(r){var e,t,n;return r===void 0?"Undefined":r===null?"Null":typeof(t=A2e(e=k2e(r),E2e))=="string"?t:C2e?SA(e):(n=SA(e))==="Object"&&S2e(e.callee)?"Arguments":n}});var Qi=de((Kwt,v8)=>{"use strict";var D2e=Mp(),O2e=String;v8.exports=function(r){if(D2e(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return O2e(r)}});var G0=de((Ywt,y8)=>{"use strict";var I2e=qR(),M2e=bA();y8.exports=Object.keys||function(e){return I2e(e,M2e)}});var TA=de(b8=>{"use strict";var L2e=Di(),P2e=_R(),R2e=ol(),F2e=yo(),q2e=pc(),N2e=G0();b8.f=L2e&&!P2e?Object.defineProperties:function(e,t){F2e(e);for(var n=q2e(t),i=N2e(t),a=i.length,l=0,h;a>l;)R2e.f(e,h=i[l++],n[h]);return e}});var NR=de((Xwt,x8)=>{"use strict";var B2e=Fs();x8.exports=B2e("document","documentElement")});var vh=de((Jwt,C8)=>{"use strict";var z2e=yo(),U2e=TA(),_8=bA(),j2e=H0(),H2e=NR(),W2e=Sw(),V2e=Tw(),w8=">",S8="<",zR="prototype",UR="script",E8=V2e("IE_PROTO"),BR=function(){},k8=function(r){return S8+UR+w8+r+S8+"/"+UR+w8},T8=function(r){r.write(k8("")),r.close();var e=r.parentWindow.Object;return r=null,e},$2e=function(){var r=W2e("iframe"),e="java"+UR+":",t;return r.style.display="none",H2e.appendChild(r),r.src=String(e),t=r.contentWindow.document,t.open(),t.write(k8("document.F=Object")),t.close(),t.F},EA,kA=function(){try{EA=new ActiveXObject("htmlfile")}catch{}kA=typeof document<"u"?document.domain&&EA?T8(EA):$2e():T8(EA);for(var r=_8.length;r--;)delete kA[zR][_8[r]];return kA()};j2e[E8]=!0;C8.exports=Object.create||function(e,t){var n;return e!==null?(BR[zR]=z2e(e),n=new BR,BR[zR]=null,n[E8]=e):n=kA(),t===void 0?n:U2e.f(n,t)}});var Hd=de((Qwt,A8)=>{"use strict";var G2e=cn();A8.exports=G2e([].slice)});var CA=de((eSt,I8)=>{"use strict";var K2e=gf(),Y2e=pc(),D8=_v().f,Z2e=Hd(),O8=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],X2e=function(r){try{return D8(r)}catch{return Z2e(O8)}};I8.exports.f=function(e){return O8&&K2e(e)==="Window"?X2e(e):D8(Y2e(e))}});var Ic=de((tSt,L8)=>{"use strict";var M8=yA(),J2e=ol();L8.exports=function(r,e,t){return t.get&&M8(t.get,e,{getter:!0}),t.set&&M8(t.set,e,{setter:!0}),J2e.f(r,e,t)}});var jR=de(P8=>{"use strict";var Q2e=Ho();P8.f=Q2e});var AA=de((nSt,R8)=>{"use strict";var eOe=Un();R8.exports=eOe});var Wf=de((iSt,q8)=>{"use strict";var F8=AA(),tOe=ua(),rOe=jR(),nOe=ol().f;q8.exports=function(r){var e=F8.Symbol||(F8.Symbol={});tOe(e,r)||nOe(e,r,{value:rOe.f(r)})}});var HR=de((oSt,N8)=>{"use strict";var iOe=co(),oOe=Fs(),aOe=Ho(),sOe=Vs();N8.exports=function(){var r=oOe("Symbol"),e=r&&r.prototype,t=e&&e.valueOf,n=aOe("toPrimitive");e&&!e[n]&&sOe(e,n,function(i){return iOe(t,this)},{arity:1})}});var Vf=de((aSt,z8)=>{"use strict";var lOe=ol().f,uOe=ua(),cOe=Ho(),B8=cOe("toStringTag");z8.exports=function(r,e,t){r&&!t&&(r=r.prototype),r&&!uOe(r,B8)&&lOe(r,B8,{configurable:!0,value:e})}});var wv=de((sSt,U8)=>{"use strict";var fOe=gf(),hOe=cn();U8.exports=function(r){if(fOe(r)==="Function")return hOe(r)}});var Wd=de((lSt,H8)=>{"use strict";var j8=wv(),dOe=il(),pOe=U0(),mOe=j8(j8.bind);H8.exports=function(r,e){return dOe(r),e===void 0?r:pOe?mOe(r,e):function(){return r.apply(e,arguments)}}});var fg=de((uSt,W8)=>{"use strict";var gOe=gf();W8.exports=Array.isArray||function(e){return gOe(e)==="Array"}});var $y=de((cSt,Y8)=>{"use strict";var vOe=cn(),yOe=rn(),V8=Xo(),bOe=Mp(),xOe=Fs(),_Oe=dA(),$8=function(){},G8=xOe("Reflect","construct"),WR=/^\s*(?:class|function)\b/,wOe=vOe(WR.exec),SOe=!WR.test($8),Aw=function(e){if(!V8(e))return!1;try{return G8($8,[],e),!0}catch{return!1}},K8=function(e){if(!V8(e))return!1;switch(bOe(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return SOe||!!wOe(WR,_Oe(e))}catch{return!0}};K8.sham=!0;Y8.exports=!G8||yOe(function(){var r;return Aw(Aw.call)||!Aw(Object)||!Aw(function(){r=!0})||r})?K8:Aw});var Q8=de((fSt,J8)=>{"use strict";var Z8=fg(),TOe=$y(),EOe=Fo(),kOe=Ho(),COe=kOe("species"),X8=Array;J8.exports=function(r){var e;return Z8(r)&&(e=r.constructor,TOe(e)&&(e===X8||Z8(e.prototype))?e=void 0:EOe(e)&&(e=e[COe],e===null&&(e=void 0))),e===void 0?X8:e}});var K0=de((hSt,eV)=>{"use strict";var AOe=Q8();eV.exports=function(r,e){return new(AOe(r))(e===0?0:e)}});var Mc=de((dSt,rV)=>{"use strict";var DOe=Wd(),OOe=cn(),IOe=zy(),MOe=Oa(),LOe=Ja(),POe=K0(),tV=OOe([].push),Sv=function(r){var e=r===1,t=r===2,n=r===3,i=r===4,a=r===6,l=r===7,h=r===5||a;return function(g,w,C,D){for(var F=MOe(g),z=IOe(F),Y=LOe(z),$=DOe(w,C),re=0,oe=D||POe,ne=e?oe(g,Y):t||l?oe(g,0):void 0,he,_;Y>re;re++)if((h||re in z)&&(he=z[re],_=$(he,re,F),r))if(e)ne[re]=_;else if(_)switch(r){case 3:return!0;case 5:return he;case 6:return re;case 2:tV(ne,he)}else switch(r){case 4:return!1;case 7:tV(ne,he)}return a?-1:n||i?i:ne}};rV.exports={forEach:Sv(0),map:Sv(1),filter:Sv(2),some:Sv(3),every:Sv(4),find:Sv(5),findIndex:Sv(6),filterReject:Sv(7)}});var bV=de(()=>{"use strict";var DA=Ut(),Iw=Un(),QR=co(),ROe=cn(),FOe=Al(),Y0=Di(),Z0=Uy(),qOe=rn(),Lc=ua(),NOe=mh(),KR=yo(),OA=pc(),eF=gm(),BOe=Qi(),YR=od(),X0=vh(),oV=G0(),zOe=_v(),aV=CA(),UOe=kw(),sV=vf(),lV=ol(),jOe=TA(),uV=_w(),VR=Vs(),HOe=Ic(),tF=jy(),WOe=Tw(),cV=H0(),nV=Hy(),VOe=Ho(),$Oe=jR(),GOe=Wf(),KOe=HR(),YOe=Vf(),fV=Vu(),IA=Mc().forEach,yh=WOe("hidden"),MA="Symbol",Ow="prototype",ZOe=fV.set,iV=fV.getterFor(MA),Vd=Object[Ow],Gy=Iw.Symbol,Dw=Gy&&Gy[Ow],XOe=Iw.RangeError,JOe=Iw.TypeError,$R=Iw.QObject,hV=sV.f,Ky=lV.f,dV=aV.f,QOe=uV.f,pV=ROe([].push),hg=tF("symbols"),Mw=tF("op-symbols"),eIe=tF("wks"),ZR=!$R||!$R[Ow]||!$R[Ow].findChild,mV=function(r,e,t){var n=hV(Vd,e);n&&delete Vd[e],Ky(r,e,t),n&&r!==Vd&&Ky(Vd,e,n)},XR=Y0&&qOe(function(){return X0(Ky({},"a",{get:function(){return Ky(this,"a",{value:7}).a}})).a!==7})?mV:Ky,GR=function(r,e){var t=hg[r]=X0(Dw);return ZOe(t,{type:MA,tag:r,description:e}),Y0||(t.description=e),t},LA=function(e,t,n){e===Vd&&LA(Mw,t,n),KR(e);var i=eF(t);return KR(n),Lc(hg,i)?(n.enumerable?(Lc(e,yh)&&e[yh][i]&&(e[yh][i]=!1),n=X0(n,{enumerable:YR(0,!1)})):(Lc(e,yh)||Ky(e,yh,YR(1,X0(null))),e[yh][i]=!0),XR(e,i,n)):Ky(e,i,n)},rF=function(e,t){KR(e);var n=OA(t),i=oV(n).concat(yV(n));return IA(i,function(a){(!Y0||QR(JR,n,a))&&LA(e,a,n[a])}),e},tIe=function(e,t){return t===void 0?X0(e):rF(X0(e),t)},JR=function(e){var t=eF(e),n=QR(QOe,this,t);return this===Vd&&Lc(hg,t)&&!Lc(Mw,t)?!1:n||!Lc(this,t)||!Lc(hg,t)||Lc(this,yh)&&this[yh][t]?n:!0},gV=function(e,t){var n=OA(e),i=eF(t);if(!(n===Vd&&Lc(hg,i)&&!Lc(Mw,i))){var a=hV(n,i);return a&&Lc(hg,i)&&!(Lc(n,yh)&&n[yh][i])&&(a.enumerable=!0),a}},vV=function(e){var t=dV(OA(e)),n=[];return IA(t,function(i){!Lc(hg,i)&&!Lc(cV,i)&&pV(n,i)}),n},yV=function(r){var e=r===Vd,t=dV(e?Mw:OA(r)),n=[];return IA(t,function(i){Lc(hg,i)&&(!e||Lc(Vd,i))&&pV(n,hg[i])}),n};Z0||(Gy=function(){if(NOe(Dw,this))throw new JOe("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:BOe(arguments[0]),t=nV(e),n=function(i){var a=this===void 0?Iw:this;a===Vd&&QR(n,Mw,i),Lc(a,yh)&&Lc(a[yh],t)&&(a[yh][t]=!1);var l=YR(1,i);try{XR(a,t,l)}catch(h){if(!(h instanceof XOe))throw h;mV(a,t,l)}};return Y0&&ZR&&XR(Vd,t,{configurable:!0,set:n}),GR(t,e)},Dw=Gy[Ow],VR(Dw,"toString",function(){return iV(this).tag}),VR(Gy,"withoutSetter",function(r){return GR(nV(r),r)}),uV.f=JR,lV.f=LA,jOe.f=rF,sV.f=gV,zOe.f=aV.f=vV,UOe.f=yV,$Oe.f=function(r){return GR(VOe(r),r)},Y0&&(HOe(Dw,"description",{configurable:!0,get:function(){return iV(this).description}}),FOe||VR(Vd,"propertyIsEnumerable",JR,{unsafe:!0})));DA({global:!0,constructor:!0,wrap:!0,forced:!Z0,sham:!Z0},{Symbol:Gy});IA(oV(eIe),function(r){GOe(r)});DA({target:MA,stat:!0,forced:!Z0},{useSetter:function(){ZR=!0},useSimple:function(){ZR=!1}});DA({target:"Object",stat:!0,forced:!Z0,sham:!Y0},{create:tIe,defineProperty:LA,defineProperties:rF,getOwnPropertyDescriptor:gV});DA({target:"Object",stat:!0,forced:!Z0},{getOwnPropertyNames:vV});KOe();YOe(Gy,MA);cV[yh]=!0});var nF=de((gSt,xV)=>{"use strict";var rIe=Uy();xV.exports=rIe&&!!Symbol.for&&!!Symbol.keyFor});var wV=de(()=>{"use strict";var nIe=Ut(),iIe=Fs(),oIe=ua(),aIe=Qi(),_V=jy(),sIe=nF(),iF=_V("string-to-symbol-registry"),lIe=_V("symbol-to-string-registry");nIe({target:"Symbol",stat:!0,forced:!sIe},{for:function(r){var e=aIe(r);if(oIe(iF,e))return iF[e];var t=iIe("Symbol")(e);return iF[e]=t,lIe[t]=e,t}})});var TV=de(()=>{"use strict";var uIe=Ut(),cIe=ua(),fIe=bv(),hIe=xv(),dIe=jy(),pIe=nF(),SV=dIe("symbol-to-string-registry");uIe({target:"Symbol",stat:!0,forced:!pIe},{keyFor:function(e){if(!fIe(e))throw new TypeError(hIe(e)+" is not a symbol");if(cIe(SV,e))return SV[e]}})});var $d=de((_St,AV)=>{"use strict";var mIe=U0(),CV=Function.prototype,EV=CV.apply,kV=CV.call;AV.exports=typeof Reflect=="object"&&Reflect.apply||(mIe?kV.bind(EV):function(){return kV.apply(EV,arguments)})});var LV=de((wSt,MV)=>{"use strict";var gIe=cn(),DV=fg(),vIe=Xo(),OV=gf(),yIe=Qi(),IV=gIe([].push);MV.exports=function(r){if(vIe(r))return r;if(!!DV(r)){for(var e=r.length,t=[],n=0;n<e;n++){var i=r[n];typeof i=="string"?IV(t,i):(typeof i=="number"||OV(i)==="Number"||OV(i)==="String")&&IV(t,yIe(i))}var a=t.length,l=!0;return function(h,g){if(l)return l=!1,g;if(DV(this))return g;for(var w=0;w<a;w++)if(t[w]===h)return g}}}});var oF=de(()=>{"use strict";var bIe=Ut(),UV=Fs(),jV=$d(),xIe=co(),Lw=cn(),HV=rn(),PV=Xo(),RV=bv(),WV=Hd(),_Ie=LV(),wIe=Uy(),SIe=String,Tv=UV("JSON","stringify"),PA=Lw(/./.exec),FV=Lw("".charAt),TIe=Lw("".charCodeAt),EIe=Lw("".replace),kIe=Lw(1 .toString),CIe=/[\uD800-\uDFFF]/g,qV=/^[\uD800-\uDBFF]$/,NV=/^[\uDC00-\uDFFF]$/,BV=!wIe||HV(function(){var r=UV("Symbol")("stringify detection");return Tv([r])!=="[null]"||Tv({a:r})!=="{}"||Tv(Object(r))!=="{}"}),zV=HV(function(){return Tv("\uDF06\uD834")!=='"\\udf06\\ud834"'||Tv("\uDEAD")!=='"\\udead"'}),AIe=function(r,e){var t=WV(arguments),n=_Ie(e);if(!(!PV(n)&&(r===void 0||RV(r))))return t[1]=function(i,a){if(PV(n)&&(a=xIe(n,this,SIe(i),a)),!RV(a))return a},jV(Tv,null,t)},DIe=function(r,e,t){var n=FV(t,e-1),i=FV(t,e+1);return PA(qV,r)&&!PA(NV,i)||PA(NV,r)&&!PA(qV,n)?"\\u"+kIe(TIe(r,0),16):r};Tv&&bIe({target:"JSON",stat:!0,arity:3,forced:BV||zV},{stringify:function(e,t,n){var i=WV(arguments),a=jV(BV?AIe:Tv,null,i);return zV&&typeof a=="string"?EIe(a,CIe,DIe):a}})});var $V=de(()=>{"use strict";var OIe=Ut(),IIe=Uy(),MIe=rn(),VV=kw(),LIe=Oa(),PIe=!IIe||MIe(function(){VV.f(1)});OIe({target:"Object",stat:!0,forced:PIe},{getOwnPropertySymbols:function(e){var t=VV.f;return t?t(LIe(e)):[]}})});var GV=de(()=>{"use strict";bV();wV();TV();oF();$V()});var e7=de(()=>{"use strict";var RIe=Ut(),FIe=Di(),qIe=Un(),RA=cn(),NIe=ua(),BIe=Xo(),zIe=mh(),UIe=Qi(),jIe=Ic(),HIe=V0(),dg=qIe.Symbol,Yy=dg&&dg.prototype;FIe&&BIe(dg)&&(!("description"in Yy)||dg().description!==void 0)&&(aF={},Pw=function(){var e=arguments.length<1||arguments[0]===void 0?void 0:UIe(arguments[0]),t=zIe(Yy,this)?new dg(e):e===void 0?dg():dg(e);return e===""&&(aF[t]=!0),t},HIe(Pw,dg),Pw.prototype=Yy,Yy.constructor=Pw,KV=String(dg("description detection"))==="Symbol(description detection)",YV=RA(Yy.valueOf),ZV=RA(Yy.toString),XV=/^Symbol\((.*)\)[^)]+$/,JV=RA("".replace),QV=RA("".slice),jIe(Yy,"description",{configurable:!0,get:function(){var e=YV(this);if(NIe(aF,e))return"";var t=ZV(e),n=KV?QV(t,7,-1):JV(t,XV,"$1");return n===""?void 0:n}}),RIe({global:!0,constructor:!0,forced:!0},{Symbol:Pw}));var aF,Pw,KV,YV,ZV,XV,JV,QV});var t7=de(()=>{"use strict";var WIe=Wf();WIe("asyncIterator")});var r7=de(()=>{"use strict";var VIe=Wf();VIe("hasInstance")});var n7=de(()=>{"use strict";var $Ie=Wf();$Ie("isConcatSpreadable")});var i7=de(()=>{"use strict";var GIe=Wf();GIe("iterator")});var o7=de(()=>{"use strict";var KIe=Wf();KIe("match")});var a7=de(()=>{"use strict";var YIe=Wf();YIe("matchAll")});var s7=de(()=>{"use strict";var ZIe=Wf();ZIe("replace")});var l7=de(()=>{"use strict";var XIe=Wf();XIe("search")});var u7=de(()=>{"use strict";var JIe=Wf();JIe("species")});var c7=de(()=>{"use strict";var QIe=Wf();QIe("split")});var f7=de(()=>{"use strict";var eMe=Wf(),tMe=HR();eMe("toPrimitive");tMe()});var h7=de(()=>{"use strict";var rMe=Fs(),nMe=Wf(),iMe=Vf();nMe("toStringTag");iMe(rMe("Symbol"),"Symbol")});var d7=de(()=>{"use strict";var oMe=Wf();oMe("unscopables")});var m7=de((nTt,p7)=>{"use strict";var aMe=cn(),sMe=il();p7.exports=function(r,e,t){try{return aMe(sMe(Object.getOwnPropertyDescriptor(r,e)[t]))}catch{}}});var sF=de((iTt,g7)=>{"use strict";var lMe=Fo();g7.exports=function(r){return lMe(r)||r===null}});var lF=de((oTt,v7)=>{"use strict";var uMe=sF(),cMe=String,fMe=TypeError;v7.exports=function(r){if(uMe(r))return r;throw new fMe("Can't set "+cMe(r)+" as a prototype")}});var Lp=de((aTt,y7)=>{"use strict";var hMe=m7(),dMe=yo(),pMe=lF();y7.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var r=!1,e={},t;try{t=hMe(Object.prototype,"__proto__","set"),t(e,[]),r=e instanceof Array}catch{}return function(i,a){return dMe(i),pMe(a),r?t(i,a):i.__proto__=a,i}}():void 0)});var uF=de((sTt,b7)=>{"use strict";var mMe=ol().f;b7.exports=function(r,e,t){t in r||mMe(r,t,{configurable:!0,get:function(){return e[t]},set:function(n){e[t]=n}})}});var Ev=de((lTt,_7)=>{"use strict";var gMe=Xo(),vMe=Fo(),x7=Lp();_7.exports=function(r,e,t){var n,i;return x7&&gMe(n=e.constructor)&&n!==t&&vMe(i=n.prototype)&&i!==t.prototype&&x7(r,i),r}});var J0=de((uTt,w7)=>{"use strict";var yMe=Qi();w7.exports=function(r,e){return r===void 0?arguments.length<2?"":e:yMe(r)}});var cF=de((cTt,S7)=>{"use strict";var bMe=Fo(),xMe=yf();S7.exports=function(r,e){bMe(e)&&"cause"in e&&xMe(r,"cause",e.cause)}});var FA=de((fTt,k7)=>{"use strict";var _Me=cn(),T7=Error,wMe=_Me("".replace),SMe=function(r){return String(new T7(r).stack)}("zxcasd"),E7=/\n\s*at [^:]*:[^\n]*/,TMe=E7.test(SMe);k7.exports=function(r,e){if(TMe&&typeof r=="string"&&!T7.prepareStackTrace)for(;e--;)r=wMe(r,E7,"");return r}});var fF=de((hTt,C7)=>{"use strict";var EMe=rn(),kMe=od();C7.exports=!EMe(function(){var r=new Error("a");return"stack"in r?(Object.defineProperty(r,"stack",kMe(1,7)),r.stack!==7):!0})});var hF=de((dTt,D7)=>{"use strict";var CMe=yf(),AMe=FA(),DMe=fF(),A7=Error.captureStackTrace;D7.exports=function(r,e,t,n){DMe&&(A7?A7(r,e):CMe(r,"stack",AMe(t,n)))}});var dF=de((pTt,F7)=>{"use strict";var O7=Fs(),OMe=ua(),I7=yf(),IMe=mh(),M7=Lp(),L7=V0(),P7=uF(),MMe=Ev(),LMe=J0(),PMe=cF(),RMe=hF(),FMe=Di(),R7=Al();F7.exports=function(r,e,t,n){var i="stackTraceLimit",a=n?2:1,l=r.split("."),h=l[l.length-1],g=O7.apply(null,l);if(!!g){var w=g.prototype;if(!R7&&OMe(w,"cause")&&delete w.cause,!t)return g;var C=O7("Error"),D=e(function(F,z){var Y=LMe(n?z:F,void 0),$=n?new g(F):new g;return Y!==void 0&&I7($,"message",Y),RMe($,D,$.stack,2),this&&IMe(w,this)&&MMe($,this,D),arguments.length>a&&PMe($,arguments[a]),$});if(D.prototype=w,h!=="Error"?M7?M7(D,C):L7(D,C,{name:!0}):FMe&&i in g&&(P7(D,g,i),P7(D,g,"prepareStackTrace")),L7(D,g),!R7)try{w.name!==h&&I7(w,"name",h),w.constructor=D}catch{}return D}}});var z7=de(()=>{"use strict";var N7=Ut(),qMe=Un(),ym=$d(),B7=dF(),pF="WebAssembly",q7=qMe[pF],qA=new Error("e",{cause:7}).cause!==7,Zy=function(r,e){var t={};t[r]=B7(r,e,qA),N7({global:!0,constructor:!0,arity:1,forced:qA},t)},mF=function(r,e){if(q7&&q7[r]){var t={};t[r]=B7(pF+"."+r,e,qA),N7({target:pF,stat:!0,constructor:!0,arity:1,forced:qA},t)}};Zy("Error",function(r){return function(t){return ym(r,this,arguments)}});Zy("EvalError",function(r){return function(t){return ym(r,this,arguments)}});Zy("RangeError",function(r){return function(t){return ym(r,this,arguments)}});Zy("ReferenceError",function(r){return function(t){return ym(r,this,arguments)}});Zy("SyntaxError",function(r){return function(t){return ym(r,this,arguments)}});Zy("TypeError",function(r){return function(t){return ym(r,this,arguments)}});Zy("URIError",function(r){return function(t){return ym(r,this,arguments)}});mF("CompileError",function(r){return function(t){return ym(r,this,arguments)}});mF("LinkError",function(r){return function(t){return ym(r,this,arguments)}});mF("RuntimeError",function(r){return function(t){return ym(r,this,arguments)}})});var gF=de((vTt,j7)=>{"use strict";var NMe=Di(),BMe=rn(),zMe=yo(),U7=J0(),NA=Error.prototype.toString,UMe=BMe(function(){if(NMe){var r=Object.create(Object.defineProperty({},"name",{get:function(){return this===r}}));if(NA.call(r)!=="true")return!0}return NA.call({message:1,name:2})!=="2: 1"||NA.call({})!=="Error"});j7.exports=UMe?function(){var e=zMe(this),t=U7(e.name,"Error"),n=U7(e.message);return t?n?t+": "+n:t:n}:NA});var V7=de(()=>{"use strict";var jMe=Vs(),H7=gF(),W7=Error.prototype;W7.toString!==H7&&jMe(W7,"toString",H7)});var BA=de((xTt,$7)=>{"use strict";var HMe=rn();$7.exports=!HMe(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype})});var ad=de((_Tt,K7)=>{"use strict";var WMe=ua(),VMe=Xo(),$Me=Oa(),GMe=Tw(),KMe=BA(),G7=GMe("IE_PROTO"),vF=Object,YMe=vF.prototype;K7.exports=KMe?vF.getPrototypeOf:function(r){var e=$Me(r);if(WMe(e,G7))return e[G7];var t=e.constructor;return VMe(t)&&e instanceof t?t.prototype:e instanceof vF?YMe:null}});var Q0=de((wTt,Y7)=>{"use strict";Y7.exports={}});var zA=de((STt,Z7)=>{"use strict";var ZMe=Ho(),XMe=Q0(),JMe=ZMe("iterator"),QMe=Array.prototype;Z7.exports=function(r){return r!==void 0&&(XMe.Array===r||QMe[JMe]===r)}});var ex=de((TTt,J7)=>{"use strict";var eLe=Mp(),X7=mm(),tLe=Hf(),rLe=Q0(),nLe=Ho(),iLe=nLe("iterator");J7.exports=function(r){if(!tLe(r))return X7(r,iLe)||X7(r,"@@iterator")||rLe[eLe(r)]}});var Rw=de((ETt,Q7)=>{"use strict";var oLe=co(),aLe=il(),sLe=yo(),lLe=xv(),uLe=ex(),cLe=TypeError;Q7.exports=function(r,e){var t=arguments.length<2?uLe(r):e;if(aLe(t))return sLe(oLe(t,r));throw new cLe(lLe(r)+" is not iterable")}});var yF=de((kTt,t$)=>{"use strict";var fLe=co(),e$=yo(),hLe=mm();t$.exports=function(r,e,t){var n,i;e$(r);try{if(n=hLe(r,"return"),!n){if(e==="throw")throw t;return t}n=fLe(n,r)}catch(a){i=!0,n=a}if(e==="throw")throw t;if(i)throw n;return e$(n),t}});var sd=de((CTt,o$)=>{"use strict";var dLe=Wd(),pLe=co(),mLe=yo(),gLe=xv(),vLe=zA(),yLe=Ja(),r$=mh(),bLe=Rw(),xLe=ex(),n$=yF(),_Le=TypeError,UA=function(r,e){this.stopped=r,this.result=e},i$=UA.prototype;o$.exports=function(r,e,t){var n=t&&t.that,i=!!(t&&t.AS_ENTRIES),a=!!(t&&t.IS_RECORD),l=!!(t&&t.IS_ITERATOR),h=!!(t&&t.INTERRUPTED),g=dLe(e,n),w,C,D,F,z,Y,$,re=function(ne){return w&&n$(w,"normal",ne),new UA(!0,ne)},oe=function(ne){return i?(mLe(ne),h?g(ne[0],ne[1],re):g(ne[0],ne[1])):h?g(ne,re):g(ne)};if(a)w=r.iterator;else if(l)w=r;else{if(C=xLe(r),!C)throw new _Le(gLe(r)+" is not iterable");if(vLe(C)){for(D=0,F=yLe(r);F>D;D++)if(z=oe(r[D]),z&&r$(i$,z))return z;return new UA(!1)}w=bLe(r,C)}for(Y=a?r.next:w.next;!($=pLe(Y,w)).done;){try{z=oe($.value)}catch(ne){n$(w,"throw",ne)}if(typeof z=="object"&&z&&r$(i$,z))return z}return new UA(!1)}});var s$=de(()=>{"use strict";var wLe=Ut(),SLe=mh(),TLe=ad(),jA=Lp(),ELe=V0(),a$=vh(),bF=yf(),xF=od(),kLe=cF(),CLe=hF(),ALe=sd(),DLe=J0(),OLe=Ho(),ILe=OLe("toStringTag"),HA=Error,MLe=[].push,tx=function(e,t){var n=SLe(_F,this),i;jA?i=jA(new HA,n?TLe(this):_F):(i=n?this:a$(_F),bF(i,ILe,"Error")),t!==void 0&&bF(i,"message",DLe(t)),CLe(i,tx,i.stack,1),arguments.length>2&&kLe(i,arguments[2]);var a=[];return ALe(e,MLe,{that:a}),bF(i,"errors",a),i};jA?jA(tx,HA):ELe(tx,HA,{name:!0});var _F=tx.prototype=a$(HA.prototype,{constructor:xF(1,tx),message:xF(1,""),name:xF(1,"AggregateError")});wLe({global:!0,constructor:!0,arity:2},{AggregateError:tx})});var l$=de(()=>{"use strict";s$()});var h$=de(()=>{"use strict";var LLe=Ut(),PLe=Fs(),RLe=$d(),u$=rn(),FLe=dF(),wF="AggregateError",c$=PLe(wF),f$=!u$(function(){return c$([1]).errors[0]!==1})&&u$(function(){return c$([1],wF,{cause:7}).cause!==7});LLe({global:!0,constructor:!0,arity:2,forced:f$},{AggregateError:FLe(wF,function(r){return function(t,n){return RLe(r,this,arguments)}},f$,!0)})});var $f=de((PTt,d$)=>{"use strict";var qLe=Ho(),NLe=vh(),BLe=ol().f,SF=qLe("unscopables"),TF=Array.prototype;TF[SF]===void 0&&BLe(TF,SF,{configurable:!0,value:NLe(null)});d$.exports=function(r){TF[SF][r]=!0}});var p$=de(()=>{"use strict";var zLe=Ut(),ULe=Oa(),jLe=Ja(),HLe=eu(),WLe=$f();zLe({target:"Array",proto:!0},{at:function(e){var t=ULe(this),n=jLe(t),i=HLe(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:t[a]}});WLe("at")});var Xy=de((qTt,m$)=>{"use strict";var VLe=TypeError,$Le=9007199254740991;m$.exports=function(r){if(r>$Le)throw VLe("Maximum allowed index exceeded");return r}});var pg=de((NTt,g$)=>{"use strict";var GLe=gm(),KLe=ol(),YLe=od();g$.exports=function(r,e,t){var n=GLe(e);n in r?KLe.f(r,n,YLe(0,t)):r[n]=t}});var rx=de((BTt,v$)=>{"use strict";var ZLe=rn(),XLe=Ho(),JLe=pm(),QLe=XLe("species");v$.exports=function(r){return JLe>=51||!ZLe(function(){var e=[],t=e.constructor={};return t[QLe]=function(){return{foo:1}},e[r](Boolean).foo!==1})}});var _$=de(()=>{"use strict";var ePe=Ut(),tPe=rn(),rPe=fg(),nPe=Fo(),iPe=Oa(),oPe=Ja(),y$=Xy(),b$=pg(),aPe=K0(),sPe=rx(),lPe=Ho(),uPe=pm(),x$=lPe("isConcatSpreadable"),cPe=uPe>=51||!tPe(function(){var r=[];return r[x$]=!1,r.concat()[0]!==r}),fPe=function(r){if(!nPe(r))return!1;var e=r[x$];return e!==void 0?!!e:rPe(r)},hPe=!cPe||!sPe("concat");ePe({target:"Array",proto:!0,arity:1,forced:hPe},{concat:function(e){var t=iPe(this),n=aPe(t,0),i=0,a,l,h,g,w;for(a=-1,h=arguments.length;a<h;a++)if(w=a===-1?t:arguments[a],fPe(w))for(g=oPe(w),y$(i+g),l=0;l<g;l++,i++)l in w&&b$(n,i,w[l]);else y$(i+1),b$(n,i++,w);return n.length=i,n}})});var Fw=de((jTt,S$)=>{"use strict";var w$=xv(),dPe=TypeError;S$.exports=function(r,e){if(!delete r[e])throw new dPe("Cannot delete property "+w$(e)+" of "+w$(r))}});var kF=de((HTt,T$)=>{"use strict";var pPe=Oa(),EF=vm(),mPe=Ja(),gPe=Fw(),vPe=Math.min;T$.exports=[].copyWithin||function(e,t){var n=pPe(this),i=mPe(n),a=EF(e,i),l=EF(t,i),h=arguments.length>2?arguments[2]:void 0,g=vPe((h===void 0?i:EF(h,i))-l,i-a),w=1;for(l<a&&a<l+g&&(w=-1,l+=g-1,a+=g-1);g-- >0;)l in n?n[a]=n[l]:gPe(n,a),a+=w,l+=w;return n}});var E$=de(()=>{"use strict";var yPe=Ut(),bPe=kF(),xPe=$f();yPe({target:"Array",proto:!0},{copyWithin:bPe});xPe("copyWithin")});var bm=de(($Tt,k$)=>{"use strict";var _Pe=rn();k$.exports=function(r,e){var t=[][r];return!!t&&_Pe(function(){t.call(null,e||function(){return 1},1)})}});var C$=de(()=>{"use strict";var wPe=Ut(),SPe=Mc().every,TPe=bm(),EPe=TPe("every");wPe({target:"Array",proto:!0,forced:!EPe},{every:function(e){return SPe(this,e,arguments.length>1?arguments[1]:void 0)}})});var WA=de((YTt,D$)=>{"use strict";var kPe=Oa(),A$=vm(),CPe=Ja();D$.exports=function(e){for(var t=kPe(this),n=CPe(t),i=arguments.length,a=A$(i>1?arguments[1]:void 0,n),l=i>2?arguments[2]:void 0,h=l===void 0?n:A$(l,n);h>a;)t[a++]=e;return t}});var O$=de(()=>{"use strict";var APe=Ut(),DPe=WA(),OPe=$f();APe({target:"Array",proto:!0},{fill:DPe});OPe("fill")});var I$=de(()=>{"use strict";var IPe=Ut(),MPe=Mc().filter,LPe=rx(),PPe=LPe("filter");IPe({target:"Array",proto:!0,forced:!PPe},{filter:function(e){return MPe(this,e,arguments.length>1?arguments[1]:void 0)}})});var L$=de(()=>{"use strict";var RPe=Ut(),FPe=Mc().find,qPe=$f(),CF="find",M$=!0;CF in[]&&Array(1)[CF](function(){M$=!1});RPe({target:"Array",proto:!0,forced:M$},{find:function(e){return FPe(this,e,arguments.length>1?arguments[1]:void 0)}});qPe(CF)});var R$=de(()=>{"use strict";var NPe=Ut(),BPe=Mc().findIndex,zPe=$f(),AF="findIndex",P$=!0;AF in[]&&Array(1)[AF](function(){P$=!1});NPe({target:"Array",proto:!0,forced:P$},{findIndex:function(e){return BPe(this,e,arguments.length>1?arguments[1]:void 0)}});zPe(AF)});var qw=de((iEt,q$)=>{"use strict";var UPe=Wd(),jPe=zy(),HPe=Oa(),WPe=Ja(),F$=function(r){var e=r===1;return function(t,n,i){for(var a=HPe(t),l=jPe(a),h=WPe(l),g=UPe(n,i),w,C;h-- >0;)if(w=l[h],C=g(w,h,a),C)switch(r){case 0:return w;case 1:return h}return e?-1:void 0}};q$.exports={findLast:F$(0),findLastIndex:F$(1)}});var N$=de(()=>{"use strict";var VPe=Ut(),$Pe=qw().findLast,GPe=$f();VPe({target:"Array",proto:!0},{findLast:function(e){return $Pe(this,e,arguments.length>1?arguments[1]:void 0)}});GPe("findLast")});var B$=de(()=>{"use strict";var KPe=Ut(),YPe=qw().findLastIndex,ZPe=$f();KPe({target:"Array",proto:!0},{findLastIndex:function(e){return YPe(this,e,arguments.length>1?arguments[1]:void 0)}});ZPe("findLastIndex")});var DF=de((uEt,U$)=>{"use strict";var XPe=fg(),JPe=Ja(),QPe=Xy(),eRe=Wd(),z$=function(r,e,t,n,i,a,l,h){for(var g=i,w=0,C=l?eRe(l,h):!1,D,F;w<n;)w in t&&(D=C?C(t[w],w,e):t[w],a>0&&XPe(D)?(F=JPe(D),g=z$(r,e,D,F,g,a-1)-1):(QPe(g+1),r[g]=D),g++),w++;return g};U$.exports=z$});var j$=de(()=>{"use strict";var tRe=Ut(),rRe=DF(),nRe=Oa(),iRe=Ja(),oRe=eu(),aRe=K0();tRe({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=nRe(this),n=iRe(t),i=aRe(t,0);return i.length=rRe(i,t,t,n,0,e===void 0?1:oRe(e)),i}})});var H$=de(()=>{"use strict";var sRe=Ut(),lRe=DF(),uRe=il(),cRe=Oa(),fRe=Ja(),hRe=K0();sRe({target:"Array",proto:!0},{flatMap:function(e){var t=cRe(this),n=fRe(t),i;return uRe(e),i=hRe(t,0),i.length=lRe(i,t,t,n,0,1,e,arguments.length>1?arguments[1]:void 0),i}})});var OF=de((pEt,W$)=>{"use strict";var dRe=Mc().forEach,pRe=bm(),mRe=pRe("forEach");W$.exports=mRe?[].forEach:function(e){return dRe(this,e,arguments.length>1?arguments[1]:void 0)}});var $$=de(()=>{"use strict";var gRe=Ut(),V$=OF();gRe({target:"Array",proto:!0,forced:[].forEach!==V$},{forEach:V$})});var K$=de((vEt,G$)=>{"use strict";var vRe=yo(),yRe=yF();G$.exports=function(r,e,t,n){try{return n?e(vRe(t)[0],t[1]):e(t)}catch(i){yRe(r,"throw",i)}}});var IF=de((yEt,X$)=>{"use strict";var bRe=Wd(),xRe=co(),_Re=Oa(),wRe=K$(),SRe=zA(),TRe=$y(),ERe=Ja(),Y$=pg(),kRe=Rw(),CRe=ex(),Z$=Array;X$.exports=function(e){var t=_Re(e),n=TRe(this),i=arguments.length,a=i>1?arguments[1]:void 0,l=a!==void 0;l&&(a=bRe(a,i>2?arguments[2]:void 0));var h=CRe(t),g=0,w,C,D,F,z,Y;if(h&&!(this===Z$&&SRe(h)))for(F=kRe(t,h),z=F.next,C=n?new this:[];!(D=xRe(z,F)).done;g++)Y=l?wRe(F,a,[D.value,g],!0):D.value,Y$(C,g,Y);else for(w=ERe(t),C=n?new this(w):Z$(w);w>g;g++)Y=l?a(t[g],g):t[g],Y$(C,g,Y);return C.length=g,C}});var Nw=de((bEt,tG)=>{"use strict";var ARe=Ho(),Q$=ARe("iterator"),eG=!1;try{J$=0,MF={next:function(){return{done:!!J$++}},return:function(){eG=!0}},MF[Q$]=function(){return this},Array.from(MF,function(){throw 2})}catch{}var J$,MF;tG.exports=function(r,e){try{if(!e&&!eG)return!1}catch{return!1}var t=!1;try{var n={};n[Q$]=function(){return{next:function(){return{done:t=!0}}}},r(n)}catch{}return t}});var rG=de(()=>{"use strict";var DRe=Ut(),ORe=IF(),IRe=Nw(),MRe=!IRe(function(r){Array.from(r)});DRe({target:"Array",stat:!0,forced:MRe},{from:ORe})});var nG=de(()=>{"use strict";var LRe=Ut(),PRe=W0().includes,RRe=rn(),FRe=$f(),qRe=RRe(function(){return!Array(1).includes()});LRe({target:"Array",proto:!0,forced:qRe},{includes:function(e){return PRe(this,e,arguments.length>1?arguments[1]:void 0)}});FRe("includes")});var oG=de(()=>{"use strict";var NRe=Ut(),BRe=wv(),zRe=W0().indexOf,URe=bm(),LF=BRe([].indexOf),iG=!!LF&&1/LF([1],1,-0)<0,jRe=iG||!URe("indexOf");NRe({target:"Array",proto:!0,forced:jRe},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return iG?LF(this,e,t)||0:zRe(this,e,t)}})});var aG=de(()=>{"use strict";var HRe=Ut(),WRe=fg();HRe({target:"Array",stat:!0},{isArray:WRe})});var qF=de((AEt,uG)=>{"use strict";var VRe=rn(),$Re=Xo(),GRe=Fo(),KRe=vh(),sG=ad(),YRe=Vs(),ZRe=Ho(),XRe=Al(),FF=ZRe("iterator"),lG=!1,mg,PF,RF;[].keys&&(RF=[].keys(),"next"in RF?(PF=sG(sG(RF)),PF!==Object.prototype&&(mg=PF)):lG=!0);var JRe=!GRe(mg)||VRe(function(){var r={};return mg[FF].call(r)!==r});JRe?mg={}:XRe&&(mg=KRe(mg));$Re(mg[FF])||YRe(mg,FF,function(){return this});uG.exports={IteratorPrototype:mg,BUGGY_SAFARI_ITERATORS:lG}});var VA=de((DEt,cG)=>{"use strict";var QRe=qF().IteratorPrototype,eFe=vh(),tFe=od(),rFe=Vf(),nFe=Q0(),iFe=function(){return this};cG.exports=function(r,e,t,n){var i=e+" Iterator";return r.prototype=eFe(QRe,{next:tFe(+!n,t)}),rFe(r,i,!1,!0),nFe[i]=iFe,r}});var KA=de((OEt,xG)=>{"use strict";var oFe=Ut(),aFe=co(),$A=Al(),yG=Wy(),sFe=Xo(),lFe=VA(),fG=ad(),hG=Lp(),uFe=Vf(),cFe=yf(),NF=Vs(),fFe=Ho(),dG=Q0(),bG=qF(),hFe=yG.PROPER,dFe=yG.CONFIGURABLE,pG=bG.IteratorPrototype,GA=bG.BUGGY_SAFARI_ITERATORS,Bw=fFe("iterator"),mG="keys",zw="values",gG="entries",vG=function(){return this};xG.exports=function(r,e,t,n,i,a,l){lFe(t,e,n);var h=function(oe){if(oe===i&&F)return F;if(!GA&&oe&&oe in C)return C[oe];switch(oe){case mG:return function(){return new t(this,oe)};case zw:return function(){return new t(this,oe)};case gG:return function(){return new t(this,oe)}}return function(){return new t(this)}},g=e+" Iterator",w=!1,C=r.prototype,D=C[Bw]||C["@@iterator"]||i&&C[i],F=!GA&&D||h(i),z=e==="Array"&&C.entries||D,Y,$,re;if(z&&(Y=fG(z.call(new r)),Y!==Object.prototype&&Y.next&&(!$A&&fG(Y)!==pG&&(hG?hG(Y,pG):sFe(Y[Bw])||NF(Y,Bw,vG)),uFe(Y,g,!0,!0),$A&&(dG[g]=vG))),hFe&&i===zw&&D&&D.name!==zw&&(!$A&&dFe?cFe(C,"name",zw):(w=!0,F=function(){return aFe(D,this)})),i)if($={values:h(zw),keys:a?F:h(mG),entries:h(gG)},l)for(re in $)(GA||w||!(re in C))&&NF(C,re,$[re]);else oFe({target:e,proto:!0,forced:GA||w},$);return(!$A||l)&&C[Bw]!==F&&NF(C,Bw,F,{name:i}),dG[e]=F,$}});var nx=de((IEt,_G)=>{"use strict";_G.exports=function(r,e){return{value:r,done:e}}});var Uw=de((MEt,kG)=>{"use strict";var pFe=pc(),BF=$f(),wG=Q0(),TG=Vu(),mFe=ol().f,gFe=KA(),YA=nx(),vFe=Al(),yFe=Di(),EG="Array Iterator",bFe=TG.set,xFe=TG.getterFor(EG);kG.exports=gFe(Array,"Array",function(r,e){bFe(this,{type:EG,target:pFe(r),index:0,kind:e})},function(){var r=xFe(this),e=r.target,t=r.index++;if(!e||t>=e.length)return r.target=void 0,YA(void 0,!0);switch(r.kind){case"keys":return YA(t,!1);case"values":return YA(e[t],!1)}return YA([t,e[t]],!1)},"values");var SG=wG.Arguments=wG.Array;BF("keys");BF("values");BF("entries");if(!vFe&&yFe&&SG.name!=="values")try{mFe(SG,"name",{value:"values"})}catch{}});var CG=de(()=>{"use strict";var _Fe=Ut(),wFe=cn(),SFe=zy(),TFe=pc(),EFe=bm(),kFe=wFe([].join),CFe=SFe!==Object,AFe=CFe||!EFe("join",",");_Fe({target:"Array",proto:!0,forced:AFe},{join:function(e){return kFe(TFe(this),e===void 0?",":e)}})});var UF=de((REt,DG)=>{"use strict";var DFe=$d(),OFe=pc(),IFe=eu(),MFe=Ja(),LFe=bm(),PFe=Math.min,zF=[].lastIndexOf,AG=!!zF&&1/[1].lastIndexOf(1,-0)<0,RFe=LFe("lastIndexOf"),FFe=AG||!RFe;DG.exports=FFe?function(e){if(AG)return DFe(zF,this,arguments)||0;var t=OFe(this),n=MFe(t),i=n-1;for(arguments.length>1&&(i=PFe(i,IFe(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in t&&t[i]===e)return i||0;return-1}:zF});var IG=de(()=>{"use strict";var qFe=Ut(),OG=UF();qFe({target:"Array",proto:!0,forced:OG!==[].lastIndexOf},{lastIndexOf:OG})});var MG=de(()=>{"use strict";var NFe=Ut(),BFe=Mc().map,zFe=rx(),UFe=zFe("map");NFe({target:"Array",proto:!0,forced:!UFe},{map:function(e){return BFe(this,e,arguments.length>1?arguments[1]:void 0)}})});var PG=de(()=>{"use strict";var jFe=Ut(),HFe=rn(),WFe=$y(),VFe=pg(),LG=Array,$Fe=HFe(function(){function r(){}return!(LG.of.call(r)instanceof r)});jFe({target:"Array",stat:!0,forced:$Fe},{of:function(){for(var e=0,t=arguments.length,n=new(WFe(this)?this:LG)(t);t>e;)VFe(n,e,arguments[e++]);return n.length=t,n}})});var ZA=de((jEt,RG)=>{"use strict";var GFe=Di(),KFe=fg(),YFe=TypeError,ZFe=Object.getOwnPropertyDescriptor,XFe=GFe&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(r){return r instanceof TypeError}}();RG.exports=XFe?function(r,e){if(KFe(r)&&!ZFe(r,"length").writable)throw new YFe("Cannot set read only .length");return r.length=e}:function(r,e){return r.length=e}});var FG=de(()=>{"use strict";var JFe=Ut(),QFe=Oa(),eqe=Ja(),tqe=ZA(),rqe=Xy(),nqe=rn(),iqe=nqe(function(){return[].push.call({length:4294967296},1)!==4294967297}),oqe=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(r){return r instanceof TypeError}},aqe=iqe||!oqe();JFe({target:"Array",proto:!0,arity:1,forced:aqe},{push:function(e){var t=QFe(this),n=eqe(t),i=arguments.length;rqe(n+i);for(var a=0;a<i;a++)t[n]=arguments[a],n++;return tqe(t,n),n}})});var jw=de((VEt,NG)=>{"use strict";var sqe=il(),lqe=Oa(),uqe=zy(),cqe=Ja(),fqe=TypeError,qG=function(r){return function(e,t,n,i){var a=lqe(e),l=uqe(a),h=cqe(a);sqe(t);var g=r?h-1:0,w=r?-1:1;if(n<2)for(;;){if(g in l){i=l[g],g+=w;break}if(g+=w,r?g<0:h<=g)throw new fqe("Reduce of empty array with no initial value")}for(;r?g>=0:h>g;g+=w)g in l&&(i=t(i,l[g],g,a));return i}};NG.exports={left:qG(!1),right:qG(!0)}});var gg=de(($Et,BG)=>{"use strict";var hqe=Un(),dqe=gf();BG.exports=dqe(hqe.process)==="process"});var UG=de(()=>{"use strict";var pqe=Ut(),mqe=jw().left,gqe=bm(),zG=pm(),vqe=gg(),yqe=!vqe&&zG>79&&zG<83,bqe=yqe||!gqe("reduce");pqe({target:"Array",proto:!0,forced:bqe},{reduce:function(e){var t=arguments.length;return mqe(this,e,t,t>1?arguments[1]:void 0)}})});var HG=de(()=>{"use strict";var xqe=Ut(),_qe=jw().right,wqe=bm(),jG=pm(),Sqe=gg(),Tqe=!Sqe&&jG>79&&jG<83,Eqe=Tqe||!wqe("reduceRight");xqe({target:"Array",proto:!0,forced:Eqe},{reduceRight:function(e){return _qe(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})});var VG=de(()=>{"use strict";var kqe=Ut(),Cqe=cn(),Aqe=fg(),Dqe=Cqe([].reverse),WG=[1,2];kqe({target:"Array",proto:!0,forced:String(WG)===String(WG.reverse())},{reverse:function(){return Aqe(this)&&(this.length=this.length),Dqe(this)}})});var KG=de(()=>{"use strict";var Oqe=Ut(),$G=fg(),Iqe=$y(),Mqe=Fo(),GG=vm(),Lqe=Ja(),Pqe=pc(),Rqe=pg(),Fqe=Ho(),qqe=rx(),Nqe=Hd(),Bqe=qqe("slice"),zqe=Fqe("species"),jF=Array,Uqe=Math.max;Oqe({target:"Array",proto:!0,forced:!Bqe},{slice:function(e,t){var n=Pqe(this),i=Lqe(n),a=GG(e,i),l=GG(t===void 0?i:t,i),h,g,w;if($G(n)&&(h=n.constructor,Iqe(h)&&(h===jF||$G(h.prototype))?h=void 0:Mqe(h)&&(h=h[zqe],h===null&&(h=void 0)),h===jF||h===void 0))return Nqe(n,a,l);for(g=new(h===void 0?jF:h)(Uqe(l-a,0)),w=0;a<l;a++,w++)a in n&&Rqe(g,w,n[a]);return g.length=w,g}})});var YG=de(()=>{"use strict";var jqe=Ut(),Hqe=Mc().some,Wqe=bm(),Vqe=Wqe("some");jqe({target:"Array",proto:!0,forced:!Vqe},{some:function(e){return Hqe(this,e,arguments.length>1?arguments[1]:void 0)}})});var XA=de((nkt,XG)=>{"use strict";var ZG=Hd(),$qe=Math.floor,HF=function(r,e){var t=r.length;if(t<8)for(var n=1,i,a;n<t;){for(a=n,i=r[n];a&&e(r[a-1],i)>0;)r[a]=r[--a];a!==n++&&(r[a]=i)}else for(var l=$qe(t/2),h=HF(ZG(r,0,l),e),g=HF(ZG(r,l),e),w=h.length,C=g.length,D=0,F=0;D<w||F<C;)r[D+F]=D<w&&F<C?e(h[D],g[F])<=0?h[D++]:g[F++]:D<w?h[D++]:g[F++];return r};XG.exports=HF});var WF=de((ikt,QG)=>{"use strict";var Gqe=dm(),JG=Gqe.match(/firefox\/(\d+)/i);QG.exports=!!JG&&+JG[1]});var VF=de((okt,eK)=>{"use strict";var Kqe=dm();eK.exports=/MSIE|Trident/.test(Kqe)});var JA=de((akt,rK)=>{"use strict";var Yqe=dm(),tK=Yqe.match(/AppleWebKit\/(\d+)\./);rK.exports=!!tK&&+tK[1]});var fK=de(()=>{"use strict";var Zqe=Ut(),uK=cn(),Xqe=il(),Jqe=Oa(),nK=Ja(),Qqe=Fw(),iK=Qi(),$F=rn(),e3e=XA(),t3e=bm(),oK=WF(),r3e=VF(),aK=pm(),sK=JA(),kv=[],lK=uK(kv.sort),n3e=uK(kv.push),i3e=$F(function(){kv.sort(void 0)}),o3e=$F(function(){kv.sort(null)}),a3e=t3e("sort"),cK=!$F(function(){if(aK)return aK<70;if(!(oK&&oK>3)){if(r3e)return!0;if(sK)return sK<603;var r="",e,t,n,i;for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)kv.push({k:t+i,v:n})}for(kv.sort(function(a,l){return l.v-a.v}),i=0;i<kv.length;i++)t=kv[i].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return r!=="DGBEFHACIJK"}}),s3e=i3e||!o3e||!a3e||!cK,l3e=function(r){return function(e,t){return t===void 0?-1:e===void 0?1:r!==void 0?+r(e,t)||0:iK(e)>iK(t)?1:-1}};Zqe({target:"Array",proto:!0,forced:s3e},{sort:function(e){e!==void 0&&Xqe(e);var t=Jqe(this);if(cK)return e===void 0?lK(t):lK(t,e);var n=[],i=nK(t),a,l;for(l=0;l<i;l++)l in t&&n3e(n,t[l]);for(e3e(n,l3e(e)),a=nK(n),l=0;l<a;)t[l]=n[l++];for(;l<i;)Qqe(t,l++);return t}})});var Jy=de((ukt,dK)=>{"use strict";var u3e=Fs(),c3e=Ic(),f3e=Ho(),h3e=Di(),hK=f3e("species");dK.exports=function(r){var e=u3e(r);h3e&&e&&!e[hK]&&c3e(e,hK,{configurable:!0,get:function(){return this}})}});var pK=de(()=>{"use strict";var d3e=Jy();d3e("Array")});var mK=de(()=>{"use strict";var p3e=Ut(),m3e=Oa(),g3e=vm(),v3e=eu(),y3e=Ja(),b3e=ZA(),x3e=Xy(),_3e=K0(),w3e=pg(),GF=Fw(),S3e=rx(),T3e=S3e("splice"),E3e=Math.max,k3e=Math.min;p3e({target:"Array",proto:!0,forced:!T3e},{splice:function(e,t){var n=m3e(this),i=y3e(n),a=g3e(e,i),l=arguments.length,h,g,w,C,D,F;for(l===0?h=g=0:l===1?(h=0,g=i-a):(h=l-2,g=k3e(E3e(v3e(t),0),i-a)),x3e(i+h-g),w=_3e(n,g),C=0;C<g;C++)D=a+C,D in n&&w3e(w,C,n[D]);if(w.length=g,h<g){for(C=a;C<i-g;C++)D=C+g,F=C+h,D in n?n[F]=n[D]:GF(n,F);for(C=i;C>i-g+h;C--)GF(n,C-1)}else if(h>g)for(C=i-g;C>a;C--)D=C+g-1,F=C+h-1,D in n?n[F]=n[D]:GF(n,F);for(C=0;C<h;C++)n[C+a]=arguments[C+2];return b3e(n,i-g+h),w}})});var KF=de((pkt,gK)=>{"use strict";var C3e=Ja();gK.exports=function(r,e){for(var t=C3e(r),n=new e(t),i=0;i<t;i++)n[i]=r[t-i-1];return n}});var vK=de(()=>{"use strict";var A3e=Ut(),D3e=KF(),O3e=pc(),I3e=$f(),M3e=Array;A3e({target:"Array",proto:!0},{toReversed:function(){return D3e(O3e(this),M3e)}});I3e("toReversed")});var Hw=de((vkt,yK)=>{"use strict";var L3e=Ja();yK.exports=function(r,e,t){for(var n=0,i=arguments.length>2?t:L3e(e),a=new r(i);i>n;)a[n]=e[n++];return a}});var xK=de((ykt,bK)=>{"use strict";var P3e=Un();bK.exports=function(r,e){var t=P3e[r],n=t&&t.prototype;return n&&n[e]}});var _K=de(()=>{"use strict";var R3e=Ut(),F3e=cn(),q3e=il(),N3e=pc(),B3e=Hw(),z3e=xK(),U3e=$f(),j3e=Array,H3e=F3e(z3e("Array","sort"));R3e({target:"Array",proto:!0},{toSorted:function(e){e!==void 0&&q3e(e);var t=N3e(this),n=B3e(j3e,t);return H3e(n,e)}});U3e("toSorted")});var wK=de(()=>{"use strict";var W3e=Ut(),V3e=$f(),$3e=Xy(),G3e=Ja(),K3e=vm(),Y3e=pc(),Z3e=eu(),X3e=Array,J3e=Math.max,Q3e=Math.min;W3e({target:"Array",proto:!0},{toSpliced:function(e,t){var n=Y3e(this),i=G3e(n),a=K3e(e,i),l=arguments.length,h=0,g,w,C,D;for(l===0?g=w=0:l===1?(g=0,w=i-a):(g=l-2,w=Q3e(J3e(Z3e(t),0),i-a)),C=$3e(i+g-w),D=X3e(C);h<a;h++)D[h]=n[h];for(;h<a+g;h++)D[h]=arguments[h-a+2];for(;h<C;h++)D[h]=n[h+w-g];return D}});V3e("toSpliced")});var SK=de(()=>{"use strict";var eNe=$f();eNe("flat")});var TK=de(()=>{"use strict";var tNe=$f();tNe("flatMap")});var EK=de(()=>{"use strict";var rNe=Ut(),nNe=Oa(),iNe=Ja(),oNe=ZA(),aNe=Fw(),sNe=Xy(),lNe=[].unshift(0)!==1,uNe=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(r){return r instanceof TypeError}},cNe=lNe||!uNe();rNe({target:"Array",proto:!0,arity:1,forced:cNe},{unshift:function(e){var t=nNe(this),n=iNe(t),i=arguments.length;if(i){sNe(n+i);for(var a=n;a--;){var l=a+i;a in t?t[l]=t[a]:aNe(t,l)}for(var h=0;h<i;h++)t[h]=arguments[h]}return oNe(t,n+i)}})});var YF=de((Dkt,kK)=>{"use strict";var fNe=Ja(),hNe=eu(),dNe=RangeError;kK.exports=function(r,e,t,n){var i=fNe(r),a=hNe(t),l=a<0?i+a:a;if(l>=i||l<0)throw new dNe("Incorrect index");for(var h=new e(i),g=0;g<i;g++)h[g]=g===l?n:r[g];return h}});var CK=de(()=>{"use strict";var pNe=Ut(),mNe=YF(),gNe=pc(),vNe=Array;pNe({target:"Array",proto:!0},{with:function(r,e){return mNe(gNe(this),vNe,r,e)}})});var QA=de((Mkt,AK)=>{"use strict";AK.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"});var ix=de((Lkt,DK)=>{"use strict";var yNe=Vs();DK.exports=function(r,e,t){for(var n in e)yNe(r,n,e[n],t);return r}});var Pp=de((Pkt,OK)=>{"use strict";var bNe=mh(),xNe=TypeError;OK.exports=function(r,e){if(bNe(e,r))return r;throw new xNe("Incorrect invocation")}});var ZF=de((Rkt,IK)=>{"use strict";var _Ne=eu(),wNe=gh(),SNe=RangeError;IK.exports=function(r){if(r===void 0)return 0;var e=_Ne(r),t=wNe(e);if(e!==t)throw new SNe("Wrong length or index");return t}});var eD=de((Fkt,MK)=>{"use strict";MK.exports=Math.sign||function(e){var t=+e;return t===0||t!==t?t:t<0?-1:1}});var FK=de((qkt,RK)=>{"use strict";var TNe=eD(),ENe=Math.abs,PK=2220446049250313e-31,LK=1/PK,kNe=function(r){return r+LK-LK};RK.exports=function(r,e,t,n){var i=+r,a=ENe(i),l=TNe(i);if(a<n)return l*kNe(a/n/e)*n*e;var h=(1+e/PK)*a,g=h-(h-a);return g>t||g!==g?l*(1/0):l*g}});var XF=de((Nkt,qK)=>{"use strict";var CNe=FK(),ANe=11920928955078125e-23,DNe=34028234663852886e22,ONe=11754943508222875e-54;qK.exports=Math.fround||function(e){return CNe(e,ANe,DNe,ONe)}});var BK=de((Bkt,NK)=>{"use strict";var INe=Array,MNe=Math.abs,vg=Math.pow,LNe=Math.floor,PNe=Math.log,RNe=Math.LN2,FNe=function(r,e,t){var n=INe(t),i=t*8-e-1,a=(1<<i)-1,l=a>>1,h=e===23?vg(2,-24)-vg(2,-77):0,g=r<0||r===0&&1/r<0?1:0,w=0,C,D,F;for(r=MNe(r),r!==r||r===1/0?(D=r!==r?1:0,C=a):(C=LNe(PNe(r)/RNe),F=vg(2,-C),r*F<1&&(C--,F*=2),C+l>=1?r+=h/F:r+=h*vg(2,1-l),r*F>=2&&(C++,F/=2),C+l>=a?(D=0,C=a):C+l>=1?(D=(r*F-1)*vg(2,e),C+=l):(D=r*vg(2,l-1)*vg(2,e),C=0));e>=8;)n[w++]=D&255,D/=256,e-=8;for(C=C<<e|D,i+=e;i>0;)n[w++]=C&255,C/=256,i-=8;return n[--w]|=g*128,n},qNe=function(r,e){var t=r.length,n=t*8-e-1,i=(1<<n)-1,a=i>>1,l=n-7,h=t-1,g=r[h--],w=g&127,C;for(g>>=7;l>0;)w=w*256+r[h--],l-=8;for(C=w&(1<<-l)-1,w>>=-l,l+=e;l>0;)C=C*256+r[h--],l-=8;if(w===0)w=1-a;else{if(w===i)return C?NaN:g?-1/0:1/0;C+=vg(2,e),w-=a}return(g?-1:1)*C*vg(2,w-e)};NK.exports={pack:FNe,unpack:qNe}});var $w=de((zkt,rY)=>{"use strict";var oD=Un(),rq=cn(),JF=Di(),NNe=QA(),XK=Wy(),BNe=yf(),zNe=Ic(),zK=ix(),QF=rn(),tD=Pp(),UNe=eu(),jNe=gh(),nD=ZF(),HNe=XF(),JK=BK(),WNe=ad(),UK=Lp(),VNe=WA(),$Ne=Hd(),GNe=Ev(),KNe=V0(),QK=Vf(),nq=Vu(),YNe=XK.PROPER,jK=XK.CONFIGURABLE,ax="ArrayBuffer",aD="DataView",sx="prototype",ZNe="Wrong length",eY="Wrong index",HK=nq.getterFor(ax),Vw=nq.getterFor(aD),WK=nq.set,Rp=oD[ax],ld=Rp,ox=ld&&ld[sx],xm=oD[aD],Qy=xm&&xm[sx],VK=Object.prototype,XNe=oD.Array,iD=oD.RangeError,JNe=rq(VNe),QNe=rq([].reverse),tY=JK.pack,$K=JK.unpack,GK=function(r){return[r&255]},KK=function(r){return[r&255,r>>8&255]},YK=function(r){return[r&255,r>>8&255,r>>16&255,r>>24&255]},ZK=function(r){return r[3]<<24|r[2]<<16|r[1]<<8|r[0]},eBe=function(r){return tY(HNe(r),23,4)},tBe=function(r){return tY(r,52,8)},rD=function(r,e,t){zNe(r[sx],e,{configurable:!0,get:function(){return t(this)[e]}})},Cv=function(r,e,t,n){var i=Vw(r),a=nD(t),l=!!n;if(a+e>i.byteLength)throw new iD(eY);var h=i.bytes,g=a+i.byteOffset,w=$Ne(h,g,g+e);return l?w:QNe(w)},Av=function(r,e,t,n,i,a){var l=Vw(r),h=nD(t),g=n(+i),w=!!a;if(h+e>l.byteLength)throw new iD(eY);for(var C=l.bytes,D=h+l.byteOffset,F=0;F<e;F++)C[D+F]=g[w?F:e-F-1]};NNe?(eq=YNe&&Rp.name!==ax,!QF(function(){Rp(1)})||!QF(function(){new Rp(-1)})||QF(function(){return new Rp,new Rp(1.5),new Rp(NaN),Rp.length!==1||eq&&!jK})?(ld=function(e){return tD(this,ox),GNe(new Rp(nD(e)),this,ld)},ld[sx]=ox,ox.constructor=ld,KNe(ld,Rp)):eq&&jK&&BNe(Rp,"name",ax),UK&&WNe(Qy)!==VK&&UK(Qy,VK),Ww=new xm(new ld(2)),tq=rq(Qy.setInt8),Ww.setInt8(0,2147483648),Ww.setInt8(1,2147483649),(Ww.getInt8(0)||!Ww.getInt8(1))&&zK(Qy,{setInt8:function(e,t){tq(this,e,t<<24>>24)},setUint8:function(e,t){tq(this,e,t<<24>>24)}},{unsafe:!0})):(ld=function(e){tD(this,ox);var t=nD(e);WK(this,{type:ax,bytes:JNe(XNe(t),0),byteLength:t}),JF||(this.byteLength=t,this.detached=!1)},ox=ld[sx],xm=function(e,t,n){tD(this,Qy),tD(e,ox);var i=HK(e),a=i.byteLength,l=UNe(t);if(l<0||l>a)throw new iD("Wrong offset");if(n=n===void 0?a-l:jNe(n),l+n>a)throw new iD(ZNe);WK(this,{type:aD,buffer:e,byteLength:n,byteOffset:l,bytes:i.bytes}),JF||(this.buffer=e,this.byteLength=n,this.byteOffset=l)},Qy=xm[sx],JF&&(rD(ld,"byteLength",HK),rD(xm,"buffer",Vw),rD(xm,"byteLength",Vw),rD(xm,"byteOffset",Vw)),zK(Qy,{getInt8:function(e){return Cv(this,1,e)[0]<<24>>24},getUint8:function(e){return Cv(this,1,e)[0]},getInt16:function(e){var t=Cv(this,2,e,arguments.length>1?arguments[1]:!1);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Cv(this,2,e,arguments.length>1?arguments[1]:!1);return t[1]<<8|t[0]},getInt32:function(e){return ZK(Cv(this,4,e,arguments.length>1?arguments[1]:!1))},getUint32:function(e){return ZK(Cv(this,4,e,arguments.length>1?arguments[1]:!1))>>>0},getFloat32:function(e){return $K(Cv(this,4,e,arguments.length>1?arguments[1]:!1),23)},getFloat64:function(e){return $K(Cv(this,8,e,arguments.length>1?arguments[1]:!1),52)},setInt8:function(e,t){Av(this,1,e,GK,t)},setUint8:function(e,t){Av(this,1,e,GK,t)},setInt16:function(e,t){Av(this,2,e,KK,t,arguments.length>2?arguments[2]:!1)},setUint16:function(e,t){Av(this,2,e,KK,t,arguments.length>2?arguments[2]:!1)},setInt32:function(e,t){Av(this,4,e,YK,t,arguments.length>2?arguments[2]:!1)},setUint32:function(e,t){Av(this,4,e,YK,t,arguments.length>2?arguments[2]:!1)},setFloat32:function(e,t){Av(this,4,e,eBe,t,arguments.length>2?arguments[2]:!1)},setFloat64:function(e,t){Av(this,8,e,tBe,t,arguments.length>2?arguments[2]:!1)}}));var eq,Ww,tq;QK(ld,ax);QK(xm,aD);rY.exports={ArrayBuffer:ld,DataView:xm}});var iY=de(()=>{"use strict";var rBe=Ut(),nBe=Un(),iBe=$w(),oBe=Jy(),iq="ArrayBuffer",nY=iBe[iq],aBe=nBe[iq];rBe({global:!0,constructor:!0,forced:aBe!==nY},{ArrayBuffer:nY});oBe(iq)});var qo=de((Hkt,pY)=>{"use strict";var sBe=QA(),lq=Di(),Gf=Un(),lY=Xo(),uD=Fo(),Ov=ua(),uq=Mp(),lBe=xv(),uBe=yf(),oq=Vs(),cBe=Ic(),fBe=mh(),cD=ad(),ux=Lp(),hBe=Ho(),dBe=Hy(),uY=Vu(),cY=uY.enforce,pBe=uY.get,sD=Gf.Int8Array,aq=sD&&sD.prototype,oY=Gf.Uint8ClampedArray,aY=oY&&oY.prototype,_m=sD&&cD(sD),Fp=aq&&cD(aq),mBe=Object.prototype,cq=Gf.TypeError,sY=hBe("toStringTag"),sq=dBe("TYPED_ARRAY_TAG"),lD="TypedArrayConstructor",yg=sBe&&!!ux&&uq(Gf.opera)!=="Opera",fY=!1,bh,Dv,lx,bg={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},fq={BigInt64Array:8,BigUint64Array:8},gBe=function(e){if(!uD(e))return!1;var t=uq(e);return t==="DataView"||Ov(bg,t)||Ov(fq,t)},hY=function(r){var e=cD(r);if(!!uD(e)){var t=pBe(e);return t&&Ov(t,lD)?t[lD]:hY(e)}},dY=function(r){if(!uD(r))return!1;var e=uq(r);return Ov(bg,e)||Ov(fq,e)},vBe=function(r){if(dY(r))return r;throw new cq("Target is not a typed array")},yBe=function(r){if(lY(r)&&(!ux||fBe(_m,r)))return r;throw new cq(lBe(r)+" is not a typed array constructor")},bBe=function(r,e,t,n){if(!!lq){if(t)for(var i in bg){var a=Gf[i];if(a&&Ov(a.prototype,r))try{delete a.prototype[r]}catch{try{a.prototype[r]=e}catch{}}}(!Fp[r]||t)&&oq(Fp,r,t?e:yg&&aq[r]||e,n)}},xBe=function(r,e,t){var n,i;if(!!lq){if(ux){if(t){for(n in bg)if(i=Gf[n],i&&Ov(i,r))try{delete i[r]}catch{}}if(!_m[r]||t)try{return oq(_m,r,t?e:yg&&_m[r]||e)}catch{}else return}for(n in bg)i=Gf[n],i&&(!i[r]||t)&&oq(i,r,e)}};for(bh in bg)Dv=Gf[bh],lx=Dv&&Dv.prototype,lx?cY(lx)[lD]=Dv:yg=!1;for(bh in fq)Dv=Gf[bh],lx=Dv&&Dv.prototype,lx&&(cY(lx)[lD]=Dv);if((!yg||!lY(_m)||_m===Function.prototype)&&(_m=function(){throw new cq("Incorrect invocation")},yg))for(bh in bg)Gf[bh]&&ux(Gf[bh],_m);if((!yg||!Fp||Fp===mBe)&&(Fp=_m.prototype,yg))for(bh in bg)Gf[bh]&&ux(Gf[bh].prototype,Fp);yg&&cD(aY)!==Fp&&ux(aY,Fp);if(lq&&!Ov(Fp,sY)){fY=!0,cBe(Fp,sY,{configurable:!0,get:function(){return uD(this)?this[sq]:void 0}});for(bh in bg)Gf[bh]&&uBe(Gf[bh],sq,bh)}pY.exports={NATIVE_ARRAY_BUFFER_VIEWS:yg,TYPED_ARRAY_TAG:fY&&sq,aTypedArray:vBe,aTypedArrayConstructor:yBe,exportTypedArrayMethod:bBe,exportTypedArrayStaticMethod:xBe,getTypedArrayConstructor:hY,isView:gBe,isTypedArray:dY,TypedArray:_m,TypedArrayPrototype:Fp}});var gY=de(()=>{"use strict";var _Be=Ut(),mY=qo(),wBe=mY.NATIVE_ARRAY_BUFFER_VIEWS;_Be({target:"ArrayBuffer",stat:!0,forced:!wBe},{isView:mY.isView})});var fD=de(($kt,vY)=>{"use strict";var SBe=$y(),TBe=xv(),EBe=TypeError;vY.exports=function(r){if(SBe(r))return r;throw new EBe(TBe(r)+" is not a constructor")}});var eb=de((Gkt,bY)=>{"use strict";var yY=yo(),kBe=fD(),CBe=Hf(),ABe=Ho(),DBe=ABe("species");bY.exports=function(r,e){var t=yY(r).constructor,n;return t===void 0||CBe(n=yY(t)[DBe])?e:kBe(n)}});var EY=de(()=>{"use strict";var OBe=Ut(),dq=wv(),IBe=rn(),SY=$w(),xY=yo(),_Y=vm(),MBe=gh(),LBe=eb(),pq=SY.ArrayBuffer,hq=SY.DataView,TY=hq.prototype,wY=dq(pq.prototype.slice),PBe=dq(TY.getUint8),RBe=dq(TY.setUint8),FBe=IBe(function(){return!new pq(2).slice(1,void 0).byteLength});OBe({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:FBe},{slice:function(e,t){if(wY&&t===void 0)return wY(xY(this),e);for(var n=xY(this).byteLength,i=_Y(e,n),a=_Y(t===void 0?n:t,n),l=new(LBe(this,pq))(MBe(a-i)),h=new hq(this),g=new hq(l),w=0;i<a;)RBe(g,w++,PBe(h,i++));return l}})});var kY=de(()=>{"use strict";var qBe=Ut(),NBe=$w(),BBe=QA();qBe({global:!0,constructor:!0,forced:!BBe},{DataView:NBe.DataView})});var CY=de(()=>{"use strict";kY()});var AY=de(()=>{"use strict";var zBe=Ut(),UBe=cn(),jBe=rn(),HBe=jBe(function(){return new Date(16e11).getYear()!==120}),WBe=UBe(Date.prototype.getFullYear);zBe({target:"Date",proto:!0,forced:HBe},{getYear:function(){return WBe(this)-1900}})});var OY=de(()=>{"use strict";var VBe=Ut(),$Be=cn(),DY=Date,GBe=$Be(DY.prototype.getTime);VBe({target:"Date",stat:!0},{now:function(){return GBe(new DY)}})});var LY=de(()=>{"use strict";var KBe=Ut(),IY=cn(),YBe=eu(),MY=Date.prototype,ZBe=IY(MY.getTime),XBe=IY(MY.setFullYear);KBe({target:"Date",proto:!0},{setYear:function(e){ZBe(this);var t=YBe(e),n=t>=0&&t<=99?t+1900:t;return XBe(this,n)}})});var PY=de(()=>{"use strict";var JBe=Ut();JBe({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})});var Gw=de((lCt,RY)=>{"use strict";var QBe=eu(),eze=Qi(),tze=nl(),rze=RangeError;RY.exports=function(e){var t=eze(tze(this)),n="",i=QBe(e);if(i<0||i===1/0)throw new rze("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))i&1&&(n+=t);return n}});var hD=de((uCt,BY)=>{"use strict";var NY=cn(),nze=gh(),FY=Qi(),ize=Gw(),oze=nl(),aze=NY(ize),sze=NY("".slice),lze=Math.ceil,qY=function(r){return function(e,t,n){var i=FY(oze(e)),a=nze(t),l=i.length,h=n===void 0?" ":FY(n),g,w;return a<=l||h===""?i:(g=a-l,w=aze(h,lze(g/h.length)),w.length>g&&(w=sze(w,0,g)),r?i+w:w+i)}};BY.exports={start:qY(!1),end:qY(!0)}});var jY=de((cCt,UY)=>{"use strict";var Iv=cn(),zY=rn(),tb=hD().start,uze=RangeError,cze=isFinite,fze=Math.abs,xg=Date.prototype,mq=xg.toISOString,hze=Iv(xg.getTime),dze=Iv(xg.getUTCDate),pze=Iv(xg.getUTCFullYear),mze=Iv(xg.getUTCHours),gze=Iv(xg.getUTCMilliseconds),vze=Iv(xg.getUTCMinutes),yze=Iv(xg.getUTCMonth),bze=Iv(xg.getUTCSeconds);UY.exports=zY(function(){return mq.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!zY(function(){mq.call(new Date(NaN))})?function(){if(!cze(hze(this)))throw new uze("Invalid time value");var e=this,t=pze(e),n=gze(e),i=t<0?"-":t>9999?"+":"";return i+tb(fze(t),i?6:4,0)+"-"+tb(yze(e)+1,2,0)+"-"+tb(dze(e),2,0)+"T"+tb(mze(e),2,0)+":"+tb(vze(e),2,0)+":"+tb(bze(e),2,0)+"."+tb(n,3,0)+"Z"}:mq});var WY=de(()=>{"use strict";var xze=Ut(),HY=jY();xze({target:"Date",proto:!0,forced:Date.prototype.toISOString!==HY},{toISOString:HY})});var VY=de(()=>{"use strict";var _ze=Ut(),wze=rn(),Sze=Oa(),Tze=ww(),Eze=wze(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});_ze({target:"Date",proto:!0,arity:1,forced:Eze},{toJSON:function(e){var t=Sze(this),n=Tze(t,"number");return typeof n=="number"&&!isFinite(n)?null:t.toISOString()}})});var GY=de((mCt,$Y)=>{"use strict";var kze=yo(),Cze=vR(),Aze=TypeError;$Y.exports=function(r){if(kze(this),r==="string"||r==="default")r="string";else if(r!=="number")throw new Aze("Incorrect hint");return Cze(this,r)}});var ZY=de(()=>{"use strict";var Dze=ua(),Oze=Vs(),Ize=GY(),Mze=Ho(),KY=Mze("toPrimitive"),YY=Date.prototype;Dze(YY,KY)||Oze(YY,KY,Ize)});var eZ=de(()=>{"use strict";var JY=cn(),Lze=Vs(),gq=Date.prototype,XY="Invalid Date",QY="toString",Pze=JY(gq[QY]),Rze=JY(gq.getTime);String(new Date(NaN))!==XY&&Lze(gq,QY,function(){var e=Rze(this);return e===e?Pze(this):XY})});var rZ=de(()=>{"use strict";var Fze=Ut(),Kw=cn(),qze=Qi(),Nze=Kw("".charAt),Bze=Kw("".charCodeAt),zze=Kw(/./.exec),Uze=Kw(1 .toString),jze=Kw("".toUpperCase),Hze=/[\w*+\-./@]/,tZ=function(r,e){for(var t=Uze(r,16);t.length<e;)t="0"+t;return t};Fze({global:!0},{escape:function(e){for(var t=qze(e),n="",i=t.length,a=0,l,h;a<i;)l=Nze(t,a++),zze(Hze,l)?n+=l:(h=Bze(l,0),h<256?n+="%"+tZ(h,2):n+="%u"+jze(tZ(h,4)));return n}})});var yq=de((wCt,aZ)=>{"use strict";var iZ=cn(),Wze=il(),Vze=Fo(),$ze=ua(),nZ=Hd(),Gze=U0(),oZ=Function,Kze=iZ([].concat),Yze=iZ([].join),vq={},Zze=function(r,e,t){if(!$ze(vq,e)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";vq[e]=oZ("C,a","return new C("+Yze(n,",")+")")}return vq[e](r,t)};aZ.exports=Gze?oZ.bind:function(e){var t=Wze(this),n=t.prototype,i=nZ(arguments,1),a=function(){var h=Kze(i,nZ(arguments));return this instanceof a?Zze(t,h.length,h):t.apply(e,h)};return Vze(n)&&(a.prototype=n),a}});var lZ=de(()=>{"use strict";var Xze=Ut(),sZ=yq();Xze({target:"Function",proto:!0,forced:Function.bind!==sZ},{bind:sZ})});var fZ=de(()=>{"use strict";var Jze=Xo(),uZ=Fo(),Qze=ol(),e5e=mh(),t5e=Ho(),r5e=yA(),bq=t5e("hasInstance"),cZ=Function.prototype;bq in cZ||Qze.f(cZ,bq,{value:r5e(function(r){if(!Jze(this)||!uZ(r))return!1;var e=this.prototype;return uZ(e)?e5e(e,r):r instanceof this},bq)})});var mZ=de(()=>{"use strict";var n5e=Di(),i5e=Wy().EXISTS,hZ=cn(),o5e=Ic(),dZ=Function.prototype,a5e=hZ(dZ.toString),pZ=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,s5e=hZ(pZ.exec),l5e="name";n5e&&!i5e&&o5e(dZ,l5e,{configurable:!0,get:function(){try{return s5e(pZ,a5e(this))[1]}catch{return""}}})});var gZ=de(()=>{"use strict";var u5e=Ut(),xq=Un();u5e({global:!0,forced:xq.globalThis!==xq},{globalThis:xq})});var vZ=de(()=>{"use strict";var c5e=Un(),f5e=Vf();f5e(c5e.JSON,"JSON",!0)});var dD=de((LCt,yZ)=>{"use strict";var h5e=rn();yZ.exports=h5e(function(){if(typeof ArrayBuffer=="function"){var r=new ArrayBuffer(8);Object.isExtensible(r)&&Object.defineProperty(r,"a",{value:8})}})});var mD=de((PCt,xZ)=>{"use strict";var d5e=rn(),p5e=Fo(),m5e=gf(),bZ=dD(),pD=Object.isExtensible,g5e=d5e(function(){pD(1)});xZ.exports=g5e||bZ?function(e){return!p5e(e)||bZ&&m5e(e)==="ArrayBuffer"?!1:pD?pD(e):!0}:pD});var rb=de((RCt,_Z)=>{"use strict";var v5e=rn();_Z.exports=!v5e(function(){return Object.isExtensible(Object.preventExtensions({}))})});var Mv=de((FCt,TZ)=>{"use strict";var y5e=Ut(),b5e=cn(),x5e=H0(),_5e=Fo(),_q=ua(),w5e=ol().f,wZ=_v(),S5e=CA(),wq=mD(),T5e=Hy(),E5e=rb(),SZ=!1,_g=T5e("meta"),k5e=0,Sq=function(r){w5e(r,_g,{value:{objectID:"O"+k5e++,weakData:{}}})},C5e=function(r,e){if(!_5e(r))return typeof r=="symbol"?r:(typeof r=="string"?"S":"P")+r;if(!_q(r,_g)){if(!wq(r))return"F";if(!e)return"E";Sq(r)}return r[_g].objectID},A5e=function(r,e){if(!_q(r,_g)){if(!wq(r))return!0;if(!e)return!1;Sq(r)}return r[_g].weakData},D5e=function(r){return E5e&&SZ&&wq(r)&&!_q(r,_g)&&Sq(r),r},O5e=function(){I5e.enable=function(){},SZ=!0;var r=wZ.f,e=b5e([].splice),t={};t[_g]=1,r(t).length&&(wZ.f=function(n){for(var i=r(n),a=0,l=i.length;a<l;a++)if(i[a]===_g){e(i,a,1);break}return i},y5e({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:S5e.f}))},I5e=TZ.exports={enable:O5e,fastKey:C5e,getWeakData:A5e,onFreeze:D5e};x5e[_g]=!0});var Yw=de((qCt,kZ)=>{"use strict";var M5e=Ut(),L5e=Un(),P5e=cn(),EZ=$0(),R5e=Vs(),F5e=Mv(),q5e=sd(),N5e=Pp(),B5e=Xo(),z5e=Hf(),Tq=Fo(),Eq=rn(),U5e=Nw(),j5e=Vf(),H5e=Ev();kZ.exports=function(r,e,t){var n=r.indexOf("Map")!==-1,i=r.indexOf("Weak")!==-1,a=n?"set":"add",l=L5e[r],h=l&&l.prototype,g=l,w={},C=function(oe){var ne=P5e(h[oe]);R5e(h,oe,oe==="add"?function(_){return ne(this,_===0?0:_),this}:oe==="delete"?function(he){return i&&!Tq(he)?!1:ne(this,he===0?0:he)}:oe==="get"?function(_){return i&&!Tq(_)?void 0:ne(this,_===0?0:_)}:oe==="has"?function(_){return i&&!Tq(_)?!1:ne(this,_===0?0:_)}:function(_,ge){return ne(this,_===0?0:_,ge),this})},D=EZ(r,!B5e(l)||!(i||h.forEach&&!Eq(function(){new l().entries().next()})));if(D)g=t.getConstructor(e,r,n,a),F5e.enable();else if(EZ(r,!0)){var F=new g,z=F[a](i?{}:-0,1)!==F,Y=Eq(function(){F.has(1)}),$=U5e(function(oe){new l(oe)}),re=!i&&Eq(function(){for(var oe=new l,ne=5;ne--;)oe[a](ne,ne);return!oe.has(-0)});$||(g=e(function(oe,ne){N5e(oe,h);var he=H5e(new l,oe,g);return z5e(ne)||q5e(ne,he[a],{that:he,AS_ENTRIES:n}),he}),g.prototype=h,h.constructor=g),(Y||re)&&(C("delete"),C("has"),n&&C("get")),(re||z)&&C(a),i&&h.clear&&delete h.clear}return w[r]=g,M5e({global:!0,constructor:!0,forced:g!==l},w),j5e(g,r),i||t.setStrong(g,r,n),g}});var Cq=de((NCt,MZ)=>{"use strict";var CZ=vh(),W5e=Ic(),AZ=ix(),V5e=Wd(),$5e=Pp(),G5e=Hf(),K5e=sd(),Y5e=KA(),gD=nx(),Z5e=Jy(),Zw=Di(),DZ=Mv().fastKey,IZ=Vu(),OZ=IZ.set,kq=IZ.getterFor;MZ.exports={getConstructor:function(r,e,t,n){var i=r(function(w,C){$5e(w,a),OZ(w,{type:e,index:CZ(null),first:void 0,last:void 0,size:0}),Zw||(w.size=0),G5e(C)||K5e(C,w[n],{that:w,AS_ENTRIES:t})}),a=i.prototype,l=kq(e),h=function(w,C,D){var F=l(w),z=g(w,C),Y,$;return z?z.value=D:(F.last=z={index:$=DZ(C,!0),key:C,value:D,previous:Y=F.last,next:void 0,removed:!1},F.first||(F.first=z),Y&&(Y.next=z),Zw?F.size++:w.size++,$!=="F"&&(F.index[$]=z)),w},g=function(w,C){var D=l(w),F=DZ(C),z;if(F!=="F")return D.index[F];for(z=D.first;z;z=z.next)if(z.key===C)return z};return AZ(a,{clear:function(){for(var C=this,D=l(C),F=D.first;F;)F.removed=!0,F.previous&&(F.previous=F.previous.next=void 0),F=F.next;D.first=D.last=void 0,D.index=CZ(null),Zw?D.size=0:C.size=0},delete:function(w){var C=this,D=l(C),F=g(C,w);if(F){var z=F.next,Y=F.previous;delete D.index[F.index],F.removed=!0,Y&&(Y.next=z),z&&(z.previous=Y),D.first===F&&(D.first=z),D.last===F&&(D.last=Y),Zw?D.size--:C.size--}return!!F},forEach:function(C){for(var D=l(this),F=V5e(C,arguments.length>1?arguments[1]:void 0),z;z=z?z.next:D.first;)for(F(z.value,z.key,this);z&&z.removed;)z=z.previous},has:function(C){return!!g(this,C)}}),AZ(a,t?{get:function(C){var D=g(this,C);return D&&D.value},set:function(C,D){return h(this,C===0?0:C,D)}}:{add:function(C){return h(this,C=C===0?0:C,C)}}),Zw&&W5e(a,"size",{configurable:!0,get:function(){return l(this).size}}),i},setStrong:function(r,e,t){var n=e+" Iterator",i=kq(e),a=kq(n);Y5e(r,e,function(l,h){OZ(this,{type:n,target:l,state:i(l),kind:h,last:void 0})},function(){for(var l=a(this),h=l.kind,g=l.last;g&&g.removed;)g=g.previous;return!l.target||!(l.last=g=g?g.next:l.state.first)?(l.target=void 0,gD(void 0,!0)):gD(h==="keys"?g.key:h==="values"?g.value:[g.key,g.value],!1)},t?"entries":"values",!t,!0),Z5e(e)}}});var LZ=de(()=>{"use strict";var X5e=Yw(),J5e=Cq();X5e("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},J5e)});var PZ=de(()=>{"use strict";LZ()});var Aq=de((HCt,RZ)=>{"use strict";var vD=cn(),Xw=Map.prototype;RZ.exports={Map,set:vD(Xw.set),get:vD(Xw.get),has:vD(Xw.has),remove:vD(Xw.delete),proto:Xw}});var FZ=de(()=>{"use strict";var Q5e=Ut(),e4e=cn(),t4e=il(),r4e=nl(),n4e=sd(),yD=Aq(),i4e=Al(),o4e=yD.Map,a4e=yD.has,s4e=yD.get,l4e=yD.set,u4e=e4e([].push);Q5e({target:"Map",stat:!0,forced:i4e},{groupBy:function(e,t){r4e(e),t4e(t);var n=new o4e,i=0;return n4e(e,function(a){var l=t(a,i++);a4e(n,l)?u4e(s4e(n,l),a):l4e(n,l,[a])}),n}})});var Dq=de(($Ct,qZ)=>{"use strict";var c4e=Math.log;qZ.exports=Math.log1p||function(e){var t=+e;return t>-1e-8&&t<1e-8?t-t*t/2:c4e(1+t)}});var BZ=de(()=>{"use strict";var f4e=Ut(),h4e=Dq(),Oq=Math.acosh,d4e=Math.log,NZ=Math.sqrt,p4e=Math.LN2,m4e=!Oq||Math.floor(Oq(Number.MAX_VALUE))!==710||Oq(1/0)!==1/0;f4e({target:"Math",stat:!0,forced:m4e},{acosh:function(e){var t=+e;return t<1?NaN:t>9490626562425156e-8?d4e(t)+p4e:h4e(t-1+NZ(t-1)*NZ(t+1))}})});var jZ=de(()=>{"use strict";var g4e=Ut(),zZ=Math.asinh,v4e=Math.log,y4e=Math.sqrt;function UZ(r){var e=+r;return!isFinite(e)||e===0?e:e<0?-UZ(-e):v4e(e+y4e(e*e+1))}var b4e=!(zZ&&1/zZ(0)>0);g4e({target:"Math",stat:!0,forced:b4e},{asinh:UZ})});var WZ=de(()=>{"use strict";var x4e=Ut(),HZ=Math.atanh,_4e=Math.log,w4e=!(HZ&&1/HZ(-0)<0);x4e({target:"Math",stat:!0,forced:w4e},{atanh:function(e){var t=+e;return t===0?t:_4e((1+t)/(1-t))/2}})});var VZ=de(()=>{"use strict";var S4e=Ut(),T4e=eD(),E4e=Math.abs,k4e=Math.pow;S4e({target:"Math",stat:!0},{cbrt:function(e){var t=+e;return T4e(t)*k4e(E4e(t),1/3)}})});var $Z=de(()=>{"use strict";var C4e=Ut(),A4e=Math.floor,D4e=Math.log,O4e=Math.LOG2E;C4e({target:"Math",stat:!0},{clz32:function(e){var t=e>>>0;return t?31-A4e(D4e(t+.5)*O4e):32}})});var Qw=de((nAt,GZ)=>{"use strict";var Jw=Math.expm1,I4e=Math.exp;GZ.exports=!Jw||Jw(10)>22025.465794806718||Jw(10)<22025.465794806718||Jw(-2e-17)!==-2e-17?function(e){var t=+e;return t===0?t:t>-1e-6&&t<1e-6?t+t*t/2:I4e(t)-1}:Jw});var YZ=de(()=>{"use strict";var M4e=Ut(),L4e=Qw(),KZ=Math.cosh,P4e=Math.abs,Iq=Math.E,R4e=!KZ||KZ(710)===1/0;M4e({target:"Math",stat:!0,forced:R4e},{cosh:function(e){var t=L4e(P4e(e)-1)+1;return(t+1/(t*Iq*Iq))*(Iq/2)}})});var XZ=de(()=>{"use strict";var F4e=Ut(),ZZ=Qw();F4e({target:"Math",stat:!0,forced:ZZ!==Math.expm1},{expm1:ZZ})});var JZ=de(()=>{"use strict";var q4e=Ut(),N4e=XF();q4e({target:"Math",stat:!0},{fround:N4e})});var eX=de(()=>{"use strict";var B4e=Ut(),QZ=Math.hypot,z4e=Math.abs,U4e=Math.sqrt,j4e=!!QZ&&QZ(1/0,NaN)!==1/0;B4e({target:"Math",stat:!0,arity:2,forced:j4e},{hypot:function(e,t){for(var n=0,i=0,a=arguments.length,l=0,h,g;i<a;)h=z4e(arguments[i++]),l<h?(g=l/h,n=n*g*g+1,l=h):h>0?(g=h/l,n+=g*g):n+=h;return l===1/0?1/0:l*U4e(n)}})});var rX=de(()=>{"use strict";var H4e=Ut(),W4e=rn(),tX=Math.imul,V4e=W4e(function(){return tX(4294967295,5)!==-5||tX.length!==2});H4e({target:"Math",stat:!0,forced:V4e},{imul:function(e,t){var n=65535,i=+e,a=+t,l=n&i,h=n&a;return 0|l*h+((n&i>>>16)*h+l*(n&a>>>16)<<16>>>0)}})});var Mq=de((pAt,nX)=>{"use strict";var $4e=Math.log,G4e=Math.LOG10E;nX.exports=Math.log10||function(e){return $4e(e)*G4e}});var iX=de(()=>{"use strict";var K4e=Ut(),Y4e=Mq();K4e({target:"Math",stat:!0},{log10:Y4e})});var oX=de(()=>{"use strict";var Z4e=Ut(),X4e=Dq();Z4e({target:"Math",stat:!0},{log1p:X4e})});var aX=de(()=>{"use strict";var J4e=Ut(),Q4e=Math.log,e6e=Math.LN2;J4e({target:"Math",stat:!0},{log2:function(e){return Q4e(e)/e6e}})});var sX=de(()=>{"use strict";var t6e=Ut(),r6e=eD();t6e({target:"Math",stat:!0},{sign:r6e})});var cX=de(()=>{"use strict";var n6e=Ut(),i6e=rn(),lX=Qw(),o6e=Math.abs,uX=Math.exp,a6e=Math.E,s6e=i6e(function(){return Math.sinh(-2e-17)!==-2e-17});n6e({target:"Math",stat:!0,forced:s6e},{sinh:function(e){var t=+e;return o6e(t)<1?(lX(t)-lX(-t))/2:(uX(t-1)-uX(-t-1))*(a6e/2)}})});var dX=de(()=>{"use strict";var l6e=Ut(),fX=Qw(),hX=Math.exp;l6e({target:"Math",stat:!0},{tanh:function(e){var t=+e,n=fX(t),i=fX(-t);return n===1/0?1:i===1/0?-1:(n-i)/(hX(t)+hX(-t))}})});var pX=de(()=>{"use strict";var u6e=Vf();u6e(Math,"Math",!0)});var mX=de(()=>{"use strict";var c6e=Ut(),f6e=RR();c6e({target:"Math",stat:!0},{trunc:f6e})});var eS=de((IAt,gX)=>{"use strict";var h6e=cn();gX.exports=h6e(1 .valueOf)});var tS=de((MAt,vX)=>{"use strict";vX.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`});var nb=de((LAt,bX)=>{"use strict";var d6e=cn(),p6e=nl(),m6e=Qi(),Pq=tS(),yX=d6e("".replace),g6e=RegExp("^["+Pq+"]+"),v6e=RegExp("(^|[^"+Pq+"])["+Pq+"]+$"),Lq=function(r){return function(e){var t=m6e(p6e(e));return r&1&&(t=yX(t,g6e,"")),r&2&&(t=yX(t,v6e,"$1")),t}};bX.exports={start:Lq(1),end:Lq(2),trim:Lq(3)}});var kX=de(()=>{"use strict";var y6e=Ut(),Rq=Al(),b6e=Di(),wX=Un(),Fq=AA(),SX=cn(),x6e=$0(),xX=ua(),_6e=Ev(),w6e=mh(),S6e=bv(),TX=ww(),T6e=rn(),E6e=_v().f,k6e=vf().f,C6e=ol().f,A6e=eS(),D6e=nb().trim,rS="Number",cx=wX[rS],_X=Fq[rS],qq=cx.prototype,O6e=wX.TypeError,I6e=SX("".slice),bD=SX("".charCodeAt),M6e=function(r){var e=TX(r,"number");return typeof e=="bigint"?e:L6e(e)},L6e=function(r){var e=TX(r,"number"),t,n,i,a,l,h,g,w;if(S6e(e))throw new O6e("Cannot convert a Symbol value to a number");if(typeof e=="string"&&e.length>2){if(e=D6e(e),t=bD(e,0),t===43||t===45){if(n=bD(e,2),n===88||n===120)return NaN}else if(t===48){switch(bD(e,1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+e}for(l=I6e(e,2),h=l.length,g=0;g<h;g++)if(w=bD(l,g),w<48||w>a)return NaN;return parseInt(l,i)}}return+e},Nq=x6e(rS,!cx(" 0o1")||!cx("0b1")||cx("+0x1")),P6e=function(r){return w6e(qq,r)&&T6e(function(){A6e(r)})},xD=function(e){var t=arguments.length<1?0:cx(M6e(e));return P6e(this)?_6e(Object(t),this,xD):t};xD.prototype=qq;Nq&&!Rq&&(qq.constructor=xD);y6e({global:!0,constructor:!0,wrap:!0,forced:Nq},{Number:xD});var EX=function(r,e){for(var t=b6e?E6e(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),n=0,i;t.length>n;n++)xX(e,i=t[n])&&!xX(r,i)&&C6e(r,i,k6e(e,i))};Rq&&_X&&EX(Fq[rS],_X);(Nq||Rq)&&EX(Fq[rS],cx)});var CX=de(()=>{"use strict";var R6e=Ut();R6e({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})});var DX=de((NAt,AX)=>{"use strict";var F6e=Un(),q6e=F6e.isFinite;AX.exports=Number.isFinite||function(e){return typeof e=="number"&&q6e(e)}});var OX=de(()=>{"use strict";var N6e=Ut(),B6e=DX();N6e({target:"Number",stat:!0},{isFinite:B6e})});var _D=de((UAt,IX)=>{"use strict";var z6e=Fo(),U6e=Math.floor;IX.exports=Number.isInteger||function(e){return!z6e(e)&&isFinite(e)&&U6e(e)===e}});var MX=de(()=>{"use strict";var j6e=Ut(),H6e=_D();j6e({target:"Number",stat:!0},{isInteger:H6e})});var LX=de(()=>{"use strict";var W6e=Ut();W6e({target:"Number",stat:!0},{isNaN:function(e){return e!==e}})});var PX=de(()=>{"use strict";var V6e=Ut(),$6e=_D(),G6e=Math.abs;V6e({target:"Number",stat:!0},{isSafeInteger:function(e){return $6e(e)&&G6e(e)<=9007199254740991}})});var RX=de(()=>{"use strict";var K6e=Ut();K6e({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})});var FX=de(()=>{"use strict";var Y6e=Ut();Y6e({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})});var Bq=de((JAt,zX)=>{"use strict";var BX=Un(),Z6e=rn(),X6e=cn(),J6e=Qi(),Q6e=nb().trim,eUe=tS(),tUe=X6e("".charAt),wD=BX.parseFloat,qX=BX.Symbol,NX=qX&&qX.iterator,rUe=1/wD(eUe+"-0")!==-1/0||NX&&!Z6e(function(){wD(Object(NX))});zX.exports=rUe?function(e){var t=Q6e(J6e(e)),n=wD(t);return n===0&&tUe(t,0)==="-"?-0:n}:wD});var jX=de(()=>{"use strict";var nUe=Ut(),UX=Bq();nUe({target:"Number",stat:!0,forced:Number.parseFloat!==UX},{parseFloat:UX})});var zq=de((tDt,KX)=>{"use strict";var $X=Un(),iUe=rn(),oUe=cn(),aUe=Qi(),sUe=nb().trim,HX=tS(),nS=$X.parseInt,WX=$X.Symbol,VX=WX&&WX.iterator,GX=/^[+-]?0x/i,lUe=oUe(GX.exec),uUe=nS(HX+"08")!==8||nS(HX+"0x16")!==22||VX&&!iUe(function(){nS(Object(VX))});KX.exports=uUe?function(e,t){var n=sUe(aUe(e));return nS(n,t>>>0||(lUe(GX,n)?16:10))}:nS});var ZX=de(()=>{"use strict";var cUe=Ut(),YX=zq();cUe({target:"Number",stat:!0,forced:Number.parseInt!==YX},{parseInt:YX})});var tJ=de(()=>{"use strict";var fUe=Ut(),jq=cn(),hUe=eu(),dUe=eS(),pUe=Gw(),mUe=Mq(),Uq=rn(),gUe=RangeError,XX=String,vUe=isFinite,yUe=Math.abs,bUe=Math.floor,JX=Math.pow,xUe=Math.round,wm=jq(1 .toExponential),_Ue=jq(pUe),QX=jq("".slice),eJ=wm(-69e-12,4)==="-6.9000e-11"&&wm(1.255,2)==="1.25e+0"&&wm(12345,3)==="1.235e+4"&&wm(25,0)==="3e+1",wUe=function(){return Uq(function(){wm(1,1/0)})&&Uq(function(){wm(1,-1/0)})},SUe=function(){return!Uq(function(){wm(1/0,1/0),wm(NaN,1/0)})},TUe=!eJ||!wUe()||!SUe();fUe({target:"Number",proto:!0,forced:TUe},{toExponential:function(e){var t=dUe(this);if(e===void 0)return wm(t);var n=hUe(e);if(!vUe(t))return String(t);if(n<0||n>20)throw new gUe("Incorrect fraction digits");if(eJ)return wm(t,n);var i="",a="",l=0,h="",g="";if(t<0&&(i="-",t=-t),t===0)l=0,a=_Ue("0",n+1);else{var w=mUe(t);l=bUe(w);var C=0,D=JX(10,l-n);C=xUe(t/D),2*t>=(2*C+1)*D&&(C+=1),C>=JX(10,n+1)&&(C/=10,l+=1),a=XX(C)}return n!==0&&(a=QX(a,0,1)+"."+QX(a,1)),l===0?(h="+",g="0"):(h=l>0?"+":"-",g=XX(yUe(l))),a+="e"+h+g,i+a}})});var sJ=de(()=>{"use strict";var EUe=Ut(),Vq=cn(),kUe=eu(),CUe=eS(),AUe=Gw(),rJ=rn(),DUe=RangeError,oJ=String,aJ=Math.floor,Wq=Vq(AUe),nJ=Vq("".slice),iS=Vq(1 .toFixed),hx=function(r,e,t){return e===0?t:e%2===1?hx(r,e-1,t*r):hx(r*r,e/2,t)},OUe=function(r){for(var e=0,t=r;t>=4096;)e+=12,t/=4096;for(;t>=2;)e+=1,t/=2;return e},fx=function(r,e,t){for(var n=-1,i=t;++n<6;)i+=e*r[n],r[n]=i%1e7,i=aJ(i/1e7)},Hq=function(r,e){for(var t=6,n=0;--t>=0;)n+=r[t],r[t]=aJ(n/e),n=n%e*1e7},iJ=function(r){for(var e=6,t="";--e>=0;)if(t!==""||e===0||r[e]!==0){var n=oJ(r[e]);t=t===""?n:t+Wq("0",7-n.length)+n}return t},IUe=rJ(function(){return iS(8e-5,3)!=="0.000"||iS(.9,0)!=="1"||iS(1.255,2)!=="1.25"||iS(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!rJ(function(){iS({})});EUe({target:"Number",proto:!0,forced:IUe},{toFixed:function(e){var t=CUe(this),n=kUe(e),i=[0,0,0,0,0,0],a="",l="0",h,g,w,C;if(n<0||n>20)throw new DUe("Incorrect fraction digits");if(t!==t)return"NaN";if(t<=-1e21||t>=1e21)return oJ(t);if(t<0&&(a="-",t=-t),t>1e-21)if(h=OUe(t*hx(2,69,1))-69,g=h<0?t*hx(2,-h,1):t/hx(2,h,1),g*=4503599627370496,h=52-h,h>0){for(fx(i,0,g),w=n;w>=7;)fx(i,1e7,0),w-=7;for(fx(i,hx(10,w,1),0),w=h-1;w>=23;)Hq(i,1<<23),w-=23;Hq(i,1<<w),fx(i,1,1),Hq(i,2),l=iJ(i)}else fx(i,0,g),fx(i,1<<-h,0),l=iJ(i)+Wq("0",n);return n>0?(C=l.length,l=a+(C<=n?"0."+Wq("0",n-C)+l:nJ(l,0,C-n)+"."+nJ(l,C-n))):l=a+l,l}})});var cJ=de(()=>{"use strict";var MUe=Ut(),LUe=cn(),lJ=rn(),uJ=eS(),SD=LUe(1 .toPrecision),PUe=lJ(function(){return SD(1,void 0)!=="1"})||!lJ(function(){SD({})});MUe({target:"Number",proto:!0,forced:PUe},{toPrecision:function(e){return e===void 0?SD(uJ(this)):SD(uJ(this),e)}})});var Gq=de((cDt,dJ)=>{"use strict";var fJ=Di(),RUe=cn(),FUe=co(),qUe=rn(),$q=G0(),NUe=kw(),BUe=_w(),zUe=Oa(),UUe=zy(),dx=Object.assign,hJ=Object.defineProperty,jUe=RUe([].concat);dJ.exports=!dx||qUe(function(){if(fJ&&dx({b:1},dx(hJ({},"a",{enumerable:!0,get:function(){hJ(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var r={},e={},t=Symbol("assign detection"),n="abcdefghijklmnopqrst";return r[t]=7,n.split("").forEach(function(i){e[i]=i}),dx({},r)[t]!==7||$q(dx({},e)).join("")!==n})?function(e,t){for(var n=zUe(e),i=arguments.length,a=1,l=NUe.f,h=BUe.f;i>a;)for(var g=UUe(arguments[a++]),w=l?jUe($q(g),l(g)):$q(g),C=w.length,D=0,F;C>D;)F=w[D++],(!fJ||FUe(h,g,F))&&(n[F]=g[F]);return n}:dx});var mJ=de(()=>{"use strict";var HUe=Ut(),pJ=Gq();HUe({target:"Object",stat:!0,arity:2,forced:Object.assign!==pJ},{assign:pJ})});var gJ=de(()=>{"use strict";var WUe=Ut(),VUe=Di(),$Ue=vh();WUe({target:"Object",stat:!0,sham:!VUe},{create:$Ue})});var oS=de((mDt,yJ)=>{"use strict";var GUe=Al(),KUe=Un(),YUe=rn(),vJ=JA();yJ.exports=GUe||!YUe(function(){if(!(vJ&&vJ<535)){var r=Math.random();__defineSetter__.call(null,r,function(){}),delete KUe[r]}})});var bJ=de(()=>{"use strict";var ZUe=Ut(),XUe=Di(),JUe=oS(),QUe=il(),eje=Oa(),tje=ol();XUe&&ZUe({target:"Object",proto:!0,forced:JUe},{__defineGetter__:function(e,t){tje.f(eje(this),e,{get:QUe(t),enumerable:!0,configurable:!0})}})});var _J=de(()=>{"use strict";var rje=Ut(),nje=Di(),xJ=TA().f;rje({target:"Object",stat:!0,forced:Object.defineProperties!==xJ,sham:!nje},{defineProperties:xJ})});var SJ=de(()=>{"use strict";var ije=Ut(),oje=Di(),wJ=ol().f;ije({target:"Object",stat:!0,forced:Object.defineProperty!==wJ,sham:!oje},{defineProperty:wJ})});var TJ=de(()=>{"use strict";var aje=Ut(),sje=Di(),lje=oS(),uje=il(),cje=Oa(),fje=ol();sje&&aje({target:"Object",proto:!0,forced:lje},{__defineSetter__:function(e,t){fje.f(cje(this),e,{set:uje(t),enumerable:!0,configurable:!0})}})});var Kq=de((TDt,DJ)=>{"use strict";var kJ=Di(),hje=rn(),CJ=cn(),dje=ad(),pje=G0(),mje=pc(),gje=_w().f,AJ=CJ(gje),vje=CJ([].push),yje=kJ&&hje(function(){var r=Object.create(null);return r[2]=2,!AJ(r,2)}),EJ=function(r){return function(e){for(var t=mje(e),n=pje(t),i=yje&&dje(t)===null,a=n.length,l=0,h=[],g;a>l;)g=n[l++],(!kJ||(i?g in t:AJ(t,g)))&&vje(h,r?[g,t[g]]:t[g]);return h}};DJ.exports={entries:EJ(!0),values:EJ(!1)}});var OJ=de(()=>{"use strict";var bje=Ut(),xje=Kq().entries;bje({target:"Object",stat:!0},{entries:function(e){return xje(e)}})});var IJ=de(()=>{"use strict";var _je=Ut(),wje=rb(),Sje=rn(),Tje=Fo(),Eje=Mv().onFreeze,Yq=Object.freeze,kje=Sje(function(){Yq(1)});_je({target:"Object",stat:!0,forced:kje,sham:!wje},{freeze:function(e){return Yq&&Tje(e)?Yq(Eje(e)):e}})});var MJ=de(()=>{"use strict";var Cje=Ut(),Aje=sd(),Dje=pg();Cje({target:"Object",stat:!0},{fromEntries:function(e){var t={};return Aje(e,function(n,i){Dje(t,n,i)},{AS_ENTRIES:!0}),t}})});var RJ=de(()=>{"use strict";var Oje=Ut(),Ije=rn(),Mje=pc(),LJ=vf().f,PJ=Di(),Lje=!PJ||Ije(function(){LJ(1)});Oje({target:"Object",stat:!0,forced:Lje,sham:!PJ},{getOwnPropertyDescriptor:function(e,t){return LJ(Mje(e),t)}})});var FJ=de(()=>{"use strict";var Pje=Ut(),Rje=Di(),Fje=xA(),qje=pc(),Nje=vf(),Bje=pg();Pje({target:"Object",stat:!0,sham:!Rje},{getOwnPropertyDescriptors:function(e){for(var t=qje(e),n=Nje.f,i=Fje(t),a={},l=0,h,g;i.length>l;)g=n(t,h=i[l++]),g!==void 0&&Bje(a,h,g);return a}})});var qJ=de(()=>{"use strict";var zje=Ut(),Uje=rn(),jje=CA().f,Hje=Uje(function(){return!Object.getOwnPropertyNames(1)});zje({target:"Object",stat:!0,forced:Hje},{getOwnPropertyNames:jje})});var BJ=de(()=>{"use strict";var Wje=Ut(),Vje=rn(),$je=Oa(),NJ=ad(),Gje=BA(),Kje=Vje(function(){NJ(1)});Wje({target:"Object",stat:!0,forced:Kje,sham:!Gje},{getPrototypeOf:function(e){return NJ($je(e))}})});var zJ=de(()=>{"use strict";var Yje=Ut(),Zje=Fs(),Xje=cn(),Jje=il(),Qje=nl(),e9e=gm(),t9e=sd(),r9e=Zje("Object","create"),n9e=Xje([].push);Yje({target:"Object",stat:!0},{groupBy:function(e,t){Qje(e),Jje(t);var n=r9e(null),i=0;return t9e(e,function(a){var l=e9e(t(a,i++));l in n?n9e(n[l],a):n[l]=[a]}),n}})});var UJ=de(()=>{"use strict";var i9e=Ut(),o9e=ua();i9e({target:"Object",stat:!0},{hasOwn:o9e})});var Zq=de((HDt,jJ)=>{"use strict";jJ.exports=Object.is||function(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}});var HJ=de(()=>{"use strict";var a9e=Ut(),s9e=Zq();a9e({target:"Object",stat:!0},{is:s9e})});var VJ=de(()=>{"use strict";var l9e=Ut(),WJ=mD();l9e({target:"Object",stat:!0,forced:Object.isExtensible!==WJ},{isExtensible:WJ})});var GJ=de(()=>{"use strict";var u9e=Ut(),c9e=rn(),f9e=Fo(),h9e=gf(),$J=dD(),Xq=Object.isFrozen,d9e=$J||c9e(function(){Xq(1)});u9e({target:"Object",stat:!0,forced:d9e},{isFrozen:function(e){return!f9e(e)||$J&&h9e(e)==="ArrayBuffer"?!0:Xq?Xq(e):!1}})});var YJ=de(()=>{"use strict";var p9e=Ut(),m9e=rn(),g9e=Fo(),v9e=gf(),KJ=dD(),Jq=Object.isSealed,y9e=KJ||m9e(function(){Jq(1)});p9e({target:"Object",stat:!0,forced:y9e},{isSealed:function(e){return!g9e(e)||KJ&&v9e(e)==="ArrayBuffer"?!0:Jq?Jq(e):!1}})});var XJ=de(()=>{"use strict";var b9e=Ut(),x9e=Oa(),ZJ=G0(),_9e=rn(),w9e=_9e(function(){ZJ(1)});b9e({target:"Object",stat:!0,forced:w9e},{keys:function(e){return ZJ(x9e(e))}})});var JJ=de(()=>{"use strict";var S9e=Ut(),T9e=Di(),E9e=oS(),k9e=Oa(),C9e=gm(),A9e=ad(),D9e=vf().f;T9e&&S9e({target:"Object",proto:!0,forced:E9e},{__lookupGetter__:function(e){var t=k9e(this),n=C9e(e),i;do if(i=D9e(t,n))return i.get;while(t=A9e(t))}})});var QJ=de(()=>{"use strict";var O9e=Ut(),I9e=Di(),M9e=oS(),L9e=Oa(),P9e=gm(),R9e=ad(),F9e=vf().f;I9e&&O9e({target:"Object",proto:!0,forced:M9e},{__lookupSetter__:function(e){var t=L9e(this),n=P9e(e),i;do if(i=F9e(t,n))return i.set;while(t=R9e(t))}})});var eQ=de(()=>{"use strict";var q9e=Ut(),N9e=Fo(),B9e=Mv().onFreeze,z9e=rb(),U9e=rn(),Qq=Object.preventExtensions,j9e=U9e(function(){Qq(1)});q9e({target:"Object",stat:!0,forced:j9e,sham:!z9e},{preventExtensions:function(e){return Qq&&N9e(e)?Qq(B9e(e)):e}})});var oQ=de(()=>{"use strict";var H9e=Di(),W9e=Ic(),V9e=Fo(),$9e=sF(),G9e=Oa(),K9e=nl(),tQ=Object.getPrototypeOf,rQ=Object.setPrototypeOf,nQ=Object.prototype,iQ="__proto__";if(H9e&&tQ&&rQ&&!(iQ in nQ))try{W9e(nQ,iQ,{configurable:!0,get:function(){return tQ(G9e(this))},set:function(e){var t=K9e(this);$9e(e)&&V9e(t)&&rQ(t,e)}})}catch{}});var aQ=de(()=>{"use strict";var Y9e=Ut(),Z9e=Fo(),X9e=Mv().onFreeze,J9e=rb(),Q9e=rn(),e3=Object.seal,eHe=Q9e(function(){e3(1)});Y9e({target:"Object",stat:!0,forced:eHe,sham:!J9e},{seal:function(e){return e3&&Z9e(e)?e3(X9e(e)):e}})});var sQ=de(()=>{"use strict";var tHe=Ut(),rHe=Lp();tHe({target:"Object",stat:!0},{setPrototypeOf:rHe})});var uQ=de((h2t,lQ)=>{"use strict";var nHe=wA(),iHe=Mp();lQ.exports=nHe?{}.toString:function(){return"[object "+iHe(this)+"]"}});var cQ=de(()=>{"use strict";var oHe=wA(),aHe=Vs(),sHe=uQ();oHe||aHe(Object.prototype,"toString",sHe,{unsafe:!0})});var fQ=de(()=>{"use strict";var lHe=Ut(),uHe=Kq().values;lHe({target:"Object",stat:!0},{values:function(e){return uHe(e)}})});var dQ=de(()=>{"use strict";var cHe=Ut(),hQ=Bq();cHe({global:!0,forced:parseFloat!==hQ},{parseFloat:hQ})});var mQ=de(()=>{"use strict";var fHe=Ut(),pQ=zq();fHe({global:!0,forced:parseInt!==pQ},{parseInt:pQ})});var Gd=de((_2t,gQ)=>{"use strict";var hHe=TypeError;gQ.exports=function(r,e){if(r<e)throw new hHe("Not enough arguments");return r}});var t3=de((w2t,vQ)=>{"use strict";var dHe=dm();vQ.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(dHe)});var lS=de((S2t,kQ)=>{"use strict";var ud=Un(),pHe=$d(),mHe=Wd(),yQ=Xo(),gHe=ua(),EQ=rn(),bQ=NR(),vHe=Hd(),xQ=Sw(),yHe=Gd(),bHe=t3(),xHe=gg(),s3=ud.setImmediate,l3=ud.clearImmediate,_He=ud.process,r3=ud.Dispatch,wHe=ud.Function,_Q=ud.MessageChannel,SHe=ud.String,n3=0,aS={},wQ="onreadystatechange",sS,ib,i3,o3;EQ(function(){sS=ud.location});var u3=function(r){if(gHe(aS,r)){var e=aS[r];delete aS[r],e()}},a3=function(r){return function(){u3(r)}},SQ=function(r){u3(r.data)},TQ=function(r){ud.postMessage(SHe(r),sS.protocol+"//"+sS.host)};(!s3||!l3)&&(s3=function(e){yHe(arguments.length,1);var t=yQ(e)?e:wHe(e),n=vHe(arguments,1);return aS[++n3]=function(){pHe(t,void 0,n)},ib(n3),n3},l3=function(e){delete aS[e]},xHe?ib=function(r){_He.nextTick(a3(r))}:r3&&r3.now?ib=function(r){r3.now(a3(r))}:_Q&&!bHe?(i3=new _Q,o3=i3.port2,i3.port1.onmessage=SQ,ib=mHe(o3.postMessage,o3)):ud.addEventListener&&yQ(ud.postMessage)&&!ud.importScripts&&sS&&sS.protocol!=="file:"&&!EQ(TQ)?(ib=TQ,ud.addEventListener("message",SQ,!1)):wQ in xQ("script")?ib=function(r){bQ.appendChild(xQ("script"))[wQ]=function(){bQ.removeChild(this),u3(r)}}:ib=function(r){setTimeout(a3(r),0)});kQ.exports={set:s3,clear:l3}});var c3=de((T2t,AQ)=>{"use strict";var CQ=Un(),THe=Di(),EHe=Object.getOwnPropertyDescriptor;AQ.exports=function(r){if(!THe)return CQ[r];var e=EHe(CQ,r);return e&&e.value}});var f3=de((E2t,OQ)=>{"use strict";var DQ=function(){this.head=null,this.tail=null};DQ.prototype={add:function(r){var e={item:r,next:null},t=this.tail;t?t.next=e:this.head=e,this.tail=e},get:function(){var r=this.head;if(r){var e=this.head=r.next;return e===null&&(this.tail=null),r.item}}};OQ.exports=DQ});var MQ=de((k2t,IQ)=>{"use strict";var kHe=dm();IQ.exports=/ipad|iphone|ipod/i.test(kHe)&&typeof Pebble<"u"});var PQ=de((C2t,LQ)=>{"use strict";var CHe=dm();LQ.exports=/web0s(?!.*chrome)/i.test(CHe)});var v3=de((A2t,zQ)=>{"use strict";var mx=Un(),AHe=c3(),RQ=Wd(),h3=lS().set,DHe=f3(),OHe=t3(),IHe=MQ(),MHe=PQ(),d3=gg(),FQ=mx.MutationObserver||mx.WebKitMutationObserver,qQ=mx.document,NQ=mx.process,TD=mx.Promise,g3=AHe("queueMicrotask"),px,p3,m3,ED,BQ;g3||(uS=new DHe,cS=function(){var r,e;for(d3&&(r=NQ.domain)&&r.exit();e=uS.get();)try{e()}catch(t){throw uS.head&&px(),t}r&&r.enter()},!OHe&&!d3&&!MHe&&FQ&&qQ?(p3=!0,m3=qQ.createTextNode(""),new FQ(cS).observe(m3,{characterData:!0}),px=function(){m3.data=p3=!p3}):!IHe&&TD&&TD.resolve?(ED=TD.resolve(void 0),ED.constructor=TD,BQ=RQ(ED.then,ED),px=function(){BQ(cS)}):d3?px=function(){NQ.nextTick(cS)}:(h3=RQ(h3,mx),px=function(){h3(cS)}),g3=function(r){uS.head||px(),uS.add(r)});var uS,cS;zQ.exports=g3});var jQ=de((D2t,UQ)=>{"use strict";UQ.exports=function(r,e){try{arguments.length===1?console.error(r):console.error(r,e)}catch{}}});var gx=de((O2t,HQ)=>{"use strict";HQ.exports=function(r){try{return{error:!1,value:r()}}catch(e){return{error:!0,value:e}}}});var ob=de((I2t,WQ)=>{"use strict";var LHe=Un();WQ.exports=LHe.Promise});var kD=de((M2t,VQ)=>{"use strict";VQ.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"});var y3=de((L2t,$Q)=>{"use strict";var PHe=kD(),RHe=gg();$Q.exports=!PHe&&!RHe&&typeof window=="object"&&typeof document=="object"});var vx=de((P2t,YQ)=>{"use strict";var FHe=Un(),fS=ob(),qHe=Xo(),NHe=$0(),BHe=dA(),zHe=Ho(),UHe=y3(),jHe=kD(),HHe=Al(),b3=pm(),GQ=fS&&fS.prototype,WHe=zHe("species"),x3=!1,KQ=qHe(FHe.PromiseRejectionEvent),VHe=NHe("Promise",function(){var r=BHe(fS),e=r!==String(fS);if(!e&&b3===66||HHe&&!(GQ.catch&&GQ.finally))return!0;if(!b3||b3<51||!/native code/.test(r)){var t=new fS(function(a){a(1)}),n=function(a){a(function(){},function(){})},i=t.constructor={};if(i[WHe]=n,x3=t.then(function(){})instanceof n,!x3)return!0}return!e&&(UHe||jHe)&&!KQ});YQ.exports={CONSTRUCTOR:VHe,REJECTION_EVENT:KQ,SUBCLASSING:x3}});var wg=de((R2t,XQ)=>{"use strict";var ZQ=il(),$He=TypeError,GHe=function(r){var e,t;this.promise=new r(function(n,i){if(e!==void 0||t!==void 0)throw new $He("Bad Promise constructor");e=n,t=i}),this.resolve=ZQ(e),this.reject=ZQ(t)};XQ.exports.f=function(r){return new GHe(r)}});var gee=de(()=>{"use strict";var KHe=Ut(),YHe=Al(),OD=gg(),Lv=Un(),_x=co(),JQ=Vs(),QQ=Lp(),ZHe=Vf(),XHe=Jy(),JHe=il(),DD=Xo(),QHe=Fo(),eWe=Pp(),tWe=eb(),iee=lS().set,E3=v3(),rWe=jQ(),nWe=gx(),iWe=f3(),oee=Vu(),ID=ob(),k3=vx(),aee=wg(),MD="Promise",see=k3.CONSTRUCTOR,oWe=k3.REJECTION_EVENT,aWe=k3.SUBCLASSING,_3=oee.getterFor(MD),sWe=oee.set,yx=ID&&ID.prototype,ab=ID,CD=yx,lee=Lv.TypeError,w3=Lv.document,C3=Lv.process,S3=aee.f,lWe=S3,uWe=!!(w3&&w3.createEvent&&Lv.dispatchEvent),uee="unhandledrejection",cWe="rejectionhandled",eee=0,cee=1,fWe=2,A3=1,fee=2,AD,tee,hWe,ree,hee=function(r){var e;return QHe(r)&&DD(e=r.then)?e:!1},dee=function(r,e){var t=e.value,n=e.state===cee,i=n?r.ok:r.fail,a=r.resolve,l=r.reject,h=r.domain,g,w,C;try{i?(n||(e.rejection===fee&&pWe(e),e.rejection=A3),i===!0?g=t:(h&&h.enter(),g=i(t),h&&(h.exit(),C=!0)),g===r.promise?l(new lee("Promise-chain cycle")):(w=hee(g))?_x(w,g,a,l):a(g)):l(t)}catch(D){h&&!C&&h.exit(),l(D)}},pee=function(r,e){r.notified||(r.notified=!0,E3(function(){for(var t=r.reactions,n;n=t.get();)dee(n,r);r.notified=!1,e&&!r.rejection&&dWe(r)}))},mee=function(r,e,t){var n,i;uWe?(n=w3.createEvent("Event"),n.promise=e,n.reason=t,n.initEvent(r,!1,!0),Lv.dispatchEvent(n)):n={promise:e,reason:t},!oWe&&(i=Lv["on"+r])?i(n):r===uee&&rWe("Unhandled promise rejection",t)},dWe=function(r){_x(iee,Lv,function(){var e=r.facade,t=r.value,n=nee(r),i;if(n&&(i=nWe(function(){OD?C3.emit("unhandledRejection",t,e):mee(uee,e,t)}),r.rejection=OD||nee(r)?fee:A3,i.error))throw i.value})},nee=function(r){return r.rejection!==A3&&!r.parent},pWe=function(r){_x(iee,Lv,function(){var e=r.facade;OD?C3.emit("rejectionHandled",e):mee(cWe,e,r.value)})},bx=function(r,e,t){return function(n){r(e,n,t)}},xx=function(r,e,t){r.done||(r.done=!0,t&&(r=t),r.value=e,r.state=fWe,pee(r,!0))},T3=function(r,e,t){if(!r.done){r.done=!0,t&&(r=t);try{if(r.facade===e)throw new lee("Promise can't be resolved itself");var n=hee(e);n?E3(function(){var i={done:!1};try{_x(n,e,bx(T3,i,r),bx(xx,i,r))}catch(a){xx(i,a,r)}}):(r.value=e,r.state=cee,pee(r,!1))}catch(i){xx({done:!1},i,r)}}};if(see&&(ab=function(e){eWe(this,CD),JHe(e),_x(AD,this);var t=_3(this);try{e(bx(T3,t),bx(xx,t))}catch(n){xx(t,n)}},CD=ab.prototype,AD=function(e){sWe(this,{type:MD,done:!1,notified:!1,parent:!1,reactions:new iWe,rejection:!1,state:eee,value:void 0})},AD.prototype=JQ(CD,"then",function(e,t){var n=_3(this),i=S3(tWe(this,ab));return n.parent=!0,i.ok=DD(e)?e:!0,i.fail=DD(t)&&t,i.domain=OD?C3.domain:void 0,n.state===eee?n.reactions.add(i):E3(function(){dee(i,n)}),i.promise}),tee=function(){var r=new AD,e=_3(r);this.promise=r,this.resolve=bx(T3,e),this.reject=bx(xx,e)},aee.f=S3=function(r){return r===ab||r===hWe?new tee(r):lWe(r)},!YHe&&DD(ID)&&yx!==Object.prototype)){ree=yx.then,aWe||JQ(yx,"then",function(e,t){var n=this;return new ab(function(i,a){_x(ree,n,i,a)}).then(e,t)},{unsafe:!0});try{delete yx.constructor}catch{}QQ&&QQ(yx,CD)}KHe({global:!0,constructor:!0,wrap:!0,forced:see},{Promise:ab});ZHe(ab,MD,!1,!0);XHe(MD)});var hS=de((N2t,vee)=>{"use strict";var mWe=ob(),gWe=Nw(),vWe=vx().CONSTRUCTOR;vee.exports=vWe||!gWe(function(r){mWe.all(r).then(void 0,function(){})})});var yee=de(()=>{"use strict";var yWe=Ut(),bWe=co(),xWe=il(),_We=wg(),wWe=gx(),SWe=sd(),TWe=hS();yWe({target:"Promise",stat:!0,forced:TWe},{all:function(e){var t=this,n=_We.f(t),i=n.resolve,a=n.reject,l=wWe(function(){var h=xWe(t.resolve),g=[],w=0,C=1;SWe(e,function(D){var F=w++,z=!1;C++,bWe(h,t,D).then(function(Y){z||(z=!0,g[F]=Y,--C||i(g))},a)}),--C||i(g)});return l.error&&a(l.value),n.promise}})});var xee=de(()=>{"use strict";var EWe=Ut(),kWe=Al(),CWe=vx().CONSTRUCTOR,O3=ob(),AWe=Fs(),DWe=Xo(),OWe=Vs(),bee=O3&&O3.prototype;EWe({target:"Promise",proto:!0,forced:CWe,real:!0},{catch:function(r){return this.then(void 0,r)}});!kWe&&DWe(O3)&&(D3=AWe("Promise").prototype.catch,bee.catch!==D3&&OWe(bee,"catch",D3,{unsafe:!0}));var D3});var _ee=de(()=>{"use strict";var IWe=Ut(),MWe=co(),LWe=il(),PWe=wg(),RWe=gx(),FWe=sd(),qWe=hS();IWe({target:"Promise",stat:!0,forced:qWe},{race:function(e){var t=this,n=PWe.f(t),i=n.reject,a=RWe(function(){var l=LWe(t.resolve);FWe(e,function(h){MWe(l,t,h).then(n.resolve,i)})});return a.error&&i(a.value),n.promise}})});var wee=de(()=>{"use strict";var NWe=Ut(),BWe=wg(),zWe=vx().CONSTRUCTOR;NWe({target:"Promise",stat:!0,forced:zWe},{reject:function(e){var t=BWe.f(this),n=t.reject;return n(e),t.promise}})});var I3=de((G2t,See)=>{"use strict";var UWe=yo(),jWe=Fo(),HWe=wg();See.exports=function(r,e){if(UWe(r),jWe(e)&&e.constructor===r)return e;var t=HWe.f(r),n=t.resolve;return n(e),t.promise}});var kee=de(()=>{"use strict";var WWe=Ut(),VWe=Fs(),Tee=Al(),$We=ob(),Eee=vx().CONSTRUCTOR,GWe=I3(),KWe=VWe("Promise"),YWe=Tee&&!Eee;WWe({target:"Promise",stat:!0,forced:Tee||Eee},{resolve:function(e){return GWe(YWe&&this===KWe?$We:this,e)}})});var Cee=de(()=>{"use strict";gee();yee();xee();_ee();wee();kee()});var Aee=de(()=>{"use strict";var ZWe=Ut(),XWe=co(),JWe=il(),QWe=wg(),e8e=gx(),t8e=sd(),r8e=hS();ZWe({target:"Promise",stat:!0,forced:r8e},{allSettled:function(e){var t=this,n=QWe.f(t),i=n.resolve,a=n.reject,l=e8e(function(){var h=JWe(t.resolve),g=[],w=0,C=1;t8e(e,function(D){var F=w++,z=!1;C++,XWe(h,t,D).then(function(Y){z||(z=!0,g[F]={status:"fulfilled",value:Y},--C||i(g))},function(Y){z||(z=!0,g[F]={status:"rejected",reason:Y},--C||i(g))})}),--C||i(g)});return l.error&&a(l.value),n.promise}})});var Oee=de(()=>{"use strict";var n8e=Ut(),i8e=co(),o8e=il(),a8e=Fs(),s8e=wg(),l8e=gx(),u8e=sd(),c8e=hS(),Dee="No one promise resolved";n8e({target:"Promise",stat:!0,forced:c8e},{any:function(e){var t=this,n=a8e("AggregateError"),i=s8e.f(t),a=i.resolve,l=i.reject,h=l8e(function(){var g=o8e(t.resolve),w=[],C=0,D=1,F=!1;u8e(e,function(z){var Y=C++,$=!1;D++,i8e(g,t,z).then(function(re){$||F||(F=!0,a(re))},function(re){$||F||($=!0,w[Y]=re,--D||l(new n(w,Dee)))})}),--D||l(new n(w,Dee))});return h.error&&l(h.value),i.promise}})});var Pee=de(()=>{"use strict";var f8e=Ut(),h8e=Al(),LD=ob(),d8e=rn(),Mee=Fs(),Lee=Xo(),p8e=eb(),Iee=I3(),m8e=Vs(),L3=LD&&LD.prototype,g8e=!!LD&&d8e(function(){L3.finally.call({then:function(){}},function(){})});f8e({target:"Promise",proto:!0,real:!0,forced:g8e},{finally:function(r){var e=p8e(this,Mee("Promise")),t=Lee(r);return this.then(t?function(n){return Iee(e,r()).then(function(){return n})}:r,t?function(n){return Iee(e,r()).then(function(){throw n})}:r)}});!h8e&&Lee(LD)&&(M3=Mee("Promise").prototype.finally,L3.finally!==M3&&m8e(L3,"finally",M3,{unsafe:!0}));var M3});var Ree=de(()=>{"use strict";var v8e=Ut(),y8e=wg();v8e({target:"Promise",stat:!0},{withResolvers:function(){var e=y8e.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}})});var Fee=de(()=>{"use strict";var b8e=Ut(),x8e=$d(),_8e=il(),w8e=yo(),S8e=rn(),T8e=!S8e(function(){Reflect.apply(function(){})});b8e({target:"Reflect",stat:!0,forced:T8e},{apply:function(e,t,n){return x8e(_8e(e),t,w8e(n))}})});var Hee=de(()=>{"use strict";var E8e=Ut(),k8e=Fs(),P3=$d(),C8e=yq(),qee=fD(),A8e=yo(),Nee=Fo(),D8e=vh(),zee=rn(),R3=k8e("Reflect","construct"),O8e=Object.prototype,I8e=[].push,Uee=zee(function(){function r(){}return!(R3(function(){},[],r)instanceof r)}),jee=!zee(function(){R3(function(){})}),Bee=Uee||jee;E8e({target:"Reflect",stat:!0,forced:Bee,sham:Bee},{construct:function(e,t){qee(e),A8e(t);var n=arguments.length<3?e:qee(arguments[2]);if(jee&&!Uee)return R3(e,t,n);if(e===n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return P3(I8e,i,t),new(P3(C8e,e,i))}var a=n.prototype,l=D8e(Nee(a)?a:O8e),h=P3(e,l,t);return Nee(h)?h:l}})});var $ee=de(()=>{"use strict";var M8e=Ut(),L8e=Di(),Wee=yo(),P8e=gm(),Vee=ol(),R8e=rn(),F8e=R8e(function(){Reflect.defineProperty(Vee.f({},1,{value:1}),1,{value:2})});M8e({target:"Reflect",stat:!0,forced:F8e,sham:!L8e},{defineProperty:function(e,t,n){Wee(e);var i=P8e(t);Wee(n);try{return Vee.f(e,i,n),!0}catch{return!1}}})});var Gee=de(()=>{"use strict";var q8e=Ut(),N8e=yo(),B8e=vf().f;q8e({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=B8e(N8e(e),t);return n&&!n.configurable?!1:delete e[t]}})});var F3=de((pOt,Yee)=>{"use strict";var Kee=ua();Yee.exports=function(r){return r!==void 0&&(Kee(r,"value")||Kee(r,"writable"))}});var Xee=de(()=>{"use strict";var z8e=Ut(),U8e=co(),j8e=Fo(),H8e=yo(),W8e=F3(),V8e=vf(),$8e=ad();function Zee(r,e){var t=arguments.length<3?r:arguments[2],n,i;if(H8e(r)===t)return r[e];if(n=V8e.f(r,e),n)return W8e(n)?n.value:n.get===void 0?void 0:U8e(n.get,t);if(j8e(i=$8e(r)))return Zee(i,e,t)}z8e({target:"Reflect",stat:!0},{get:Zee})});var Jee=de(()=>{"use strict";var G8e=Ut(),K8e=Di(),Y8e=yo(),Z8e=vf();G8e({target:"Reflect",stat:!0,sham:!K8e},{getOwnPropertyDescriptor:function(e,t){return Z8e.f(Y8e(e),t)}})});var Qee=de(()=>{"use strict";var X8e=Ut(),J8e=yo(),Q8e=ad(),eVe=BA();X8e({target:"Reflect",stat:!0,sham:!eVe},{getPrototypeOf:function(e){return Q8e(J8e(e))}})});var ete=de(()=>{"use strict";var tVe=Ut();tVe({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})});var tte=de(()=>{"use strict";var rVe=Ut(),nVe=yo(),iVe=mD();rVe({target:"Reflect",stat:!0},{isExtensible:function(e){return nVe(e),iVe(e)}})});var rte=de(()=>{"use strict";var oVe=Ut(),aVe=xA();oVe({target:"Reflect",stat:!0},{ownKeys:aVe})});var nte=de(()=>{"use strict";var sVe=Ut(),lVe=Fs(),uVe=yo(),cVe=rb();sVe({target:"Reflect",stat:!0,sham:!cVe},{preventExtensions:function(e){uVe(e);try{var t=lVe("Object","preventExtensions");return t&&t(e),!0}catch{return!1}}})});var lte=de(()=>{"use strict";var fVe=Ut(),hVe=co(),dVe=yo(),ite=Fo(),pVe=F3(),mVe=rn(),q3=ol(),ote=vf(),gVe=ad(),ate=od();function ste(r,e,t){var n=arguments.length<4?r:arguments[3],i=ote.f(dVe(r),e),a,l,h;if(!i){if(ite(l=gVe(r)))return ste(l,e,t,n);i=ate(0)}if(pVe(i)){if(i.writable===!1||!ite(n))return!1;if(a=ote.f(n,e)){if(a.get||a.set||a.writable===!1)return!1;a.value=t,q3.f(n,e,a)}else q3.f(n,e,ate(0,t))}else{if(h=i.set,h===void 0)return!1;hVe(h,n,t)}return!0}var vVe=mVe(function(){var r=function(){},e=q3.f(new r,"a",{configurable:!0});return Reflect.set(r.prototype,"a",1,e)!==!1});fVe({target:"Reflect",stat:!0,forced:vVe},{set:ste})});var cte=de(()=>{"use strict";var yVe=Ut(),bVe=yo(),xVe=lF(),ute=Lp();ute&&yVe({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){bVe(e),xVe(t);try{return ute(e,t),!0}catch{return!1}}})});var fte=de(()=>{"use strict";var _Ve=Ut(),wVe=Un(),SVe=Vf();_Ve({global:!0},{Reflect:{}});SVe(wVe.Reflect,"Reflect",!0)});var dS=de((ROt,hte)=>{"use strict";var TVe=Fo(),EVe=gf(),kVe=Ho(),CVe=kVe("match");hte.exports=function(r){var e;return TVe(r)&&((e=r[CVe])!==void 0?!!e:EVe(r)==="RegExp")}});var PD=de((FOt,dte)=>{"use strict";var AVe=yo();dte.exports=function(){var r=AVe(this),e="";return r.hasIndices&&(e+="d"),r.global&&(e+="g"),r.ignoreCase&&(e+="i"),r.multiline&&(e+="m"),r.dotAll&&(e+="s"),r.unicode&&(e+="u"),r.unicodeSets&&(e+="v"),r.sticky&&(e+="y"),e}});var wx=de((qOt,mte)=>{"use strict";var DVe=co(),OVe=ua(),IVe=mh(),MVe=PD(),pte=RegExp.prototype;mte.exports=function(r){var e=r.flags;return e===void 0&&!("flags"in pte)&&!OVe(r,"flags")&&IVe(pte,r)?DVe(MVe,r):e}});var pS=de((NOt,gte)=>{"use strict";var N3=rn(),LVe=Un(),B3=LVe.RegExp,z3=N3(function(){var r=B3("a","y");return r.lastIndex=2,r.exec("abcd")!==null}),PVe=z3||N3(function(){return!B3("a","y").sticky}),RVe=z3||N3(function(){var r=B3("^r","gy");return r.lastIndex=2,r.exec("str")!==null});gte.exports={BROKEN_CARET:RVe,MISSED_STICKY:PVe,UNSUPPORTED_Y:z3}});var RD=de((BOt,vte)=>{"use strict";var FVe=rn(),qVe=Un(),NVe=qVe.RegExp;vte.exports=FVe(function(){var r=NVe(".","s");return!(r.dotAll&&r.test(`
`)&&r.flags==="s")})});var U3=de((zOt,yte)=>{"use strict";var BVe=rn(),zVe=Un(),UVe=zVe.RegExp;yte.exports=BVe(function(){var r=UVe("(?<a>b)","g");return r.exec("b").groups.a!=="b"||"b".replace(r,"$<a>c")!=="bc"})});var Cte=de(()=>{"use strict";var jVe=Di(),V3=Un(),mS=cn(),HVe=$0(),WVe=Ev(),VVe=yf(),$Ve=vh(),GVe=_v().f,bte=mh(),KVe=dS(),xte=Qi(),YVe=wx(),Ste=pS(),ZVe=uF(),XVe=Vs(),JVe=rn(),QVe=ua(),e7e=Vu().enforce,t7e=Jy(),r7e=Ho(),Tte=RD(),Ete=U3(),n7e=r7e("match"),Rv=V3.RegExp,Sx=Rv.prototype,i7e=V3.SyntaxError,o7e=mS(Sx.exec),FD=mS("".charAt),_te=mS("".replace),wte=mS("".indexOf),a7e=mS("".slice),s7e=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,sb=/a/g,j3=/a/g,l7e=new Rv(sb)!==sb,kte=Ste.MISSED_STICKY,u7e=Ste.UNSUPPORTED_Y,c7e=jVe&&(!l7e||kte||Tte||Ete||JVe(function(){return j3[n7e]=!1,Rv(sb)!==sb||Rv(j3)===j3||String(Rv(sb,"i"))!=="/a/i"})),f7e=function(r){for(var e=r.length,t=0,n="",i=!1,a;t<=e;t++){if(a=FD(r,t),a==="\\"){n+=a+FD(r,++t);continue}!i&&a==="."?n+="[\\s\\S]":(a==="["?i=!0:a==="]"&&(i=!1),n+=a)}return n},h7e=function(r){for(var e=r.length,t=0,n="",i=[],a=$Ve(null),l=!1,h=!1,g=0,w="",C;t<=e;t++){if(C=FD(r,t),C==="\\")C+=FD(r,++t);else if(C==="]")l=!1;else if(!l)switch(!0){case C==="[":l=!0;break;case C==="(":o7e(s7e,a7e(r,t+1))&&(t+=2,h=!0),n+=C,g++;continue;case(C===">"&&h):if(w===""||QVe(a,w))throw new i7e("Invalid capture group name");a[w]=!0,i[i.length]=[w,g],h=!1,w="";continue}h?w+=C:n+=C}return[n,i]};if(HVe("RegExp",c7e)){for(Pv=function(e,t){var n=bte(Sx,this),i=KVe(e),a=t===void 0,l=[],h=e,g,w,C,D,F,z;if(!n&&i&&a&&e.constructor===Pv)return e;if((i||bte(Sx,e))&&(e=e.source,a&&(t=YVe(h))),e=e===void 0?"":xte(e),t=t===void 0?"":xte(t),h=e,Tte&&"dotAll"in sb&&(w=!!t&&wte(t,"s")>-1,w&&(t=_te(t,/s/g,""))),g=t,kte&&"sticky"in sb&&(C=!!t&&wte(t,"y")>-1,C&&u7e&&(t=_te(t,/y/g,""))),Ete&&(D=h7e(e),e=D[0],l=D[1]),F=WVe(Rv(e,t),n?this:Sx,Pv),(w||C||l.length)&&(z=e7e(F),w&&(z.dotAll=!0,z.raw=Pv(f7e(e),g)),C&&(z.sticky=!0),l.length&&(z.groups=l)),e!==h)try{VVe(F,"source",h===""?"(?:)":h)}catch{}return F},H3=GVe(Rv),W3=0;H3.length>W3;)ZVe(Pv,Rv,H3[W3++]);Sx.constructor=Pv,Pv.prototype=Sx,XVe(V3,"RegExp",Pv,{constructor:!0})}var Pv,H3,W3;t7e("RegExp")});var Dte=de(()=>{"use strict";var d7e=Di(),p7e=RD(),m7e=gf(),g7e=Ic(),v7e=Vu().get,Ate=RegExp.prototype,y7e=TypeError;d7e&&p7e&&g7e(Ate,"dotAll",{configurable:!0,get:function(){if(this!==Ate){if(m7e(this)==="RegExp")return!!v7e(this).dotAll;throw new y7e("Incompatible receiver, RegExp required")}}})});var BD=de((VOt,Ite)=>{"use strict";var Tx=co(),ND=cn(),b7e=Qi(),x7e=PD(),_7e=pS(),w7e=jy(),S7e=vh(),T7e=Vu().get,E7e=RD(),k7e=U3(),C7e=w7e("native-string-replace",String.prototype.replace),qD=RegExp.prototype.exec,G3=qD,A7e=ND("".charAt),D7e=ND("".indexOf),O7e=ND("".replace),$3=ND("".slice),K3=function(){var r=/a/,e=/b*/g;return Tx(qD,r,"a"),Tx(qD,e,"a"),r.lastIndex!==0||e.lastIndex!==0}(),Ote=_7e.BROKEN_CARET,Y3=/()??/.exec("")[1]!==void 0,I7e=K3||Y3||Ote||E7e||k7e;I7e&&(G3=function(e){var t=this,n=T7e(t),i=b7e(e),a=n.raw,l,h,g,w,C,D,F;if(a)return a.lastIndex=t.lastIndex,l=Tx(G3,a,i),t.lastIndex=a.lastIndex,l;var z=n.groups,Y=Ote&&t.sticky,$=Tx(x7e,t),re=t.source,oe=0,ne=i;if(Y&&($=O7e($,"y",""),D7e($,"g")===-1&&($+="g"),ne=$3(i,t.lastIndex),t.lastIndex>0&&(!t.multiline||t.multiline&&A7e(i,t.lastIndex-1)!==`
`)&&(re="(?: "+re+")",ne=" "+ne,oe++),h=new RegExp("^(?:"+re+")",$)),Y3&&(h=new RegExp("^"+re+"$(?!\\s)",$)),K3&&(g=t.lastIndex),w=Tx(qD,Y?h:t,ne),Y?w?(w.input=$3(w.input,oe),w[0]=$3(w[0],oe),w.index=t.lastIndex,t.lastIndex+=w[0].length):t.lastIndex=0:K3&&w&&(t.lastIndex=t.global?w.index+w[0].length:g),Y3&&w&&w.length>1&&Tx(C7e,w[0],h,function(){for(C=1;C<arguments.length-2;C++)arguments[C]===void 0&&(w[C]=void 0)}),w&&z)for(w.groups=D=S7e(null),C=0;C<z.length;C++)F=z[C],D[F[0]]=w[F[1]];return w});Ite.exports=G3});var zD=de(()=>{"use strict";var M7e=Ut(),Mte=BD();M7e({target:"RegExp",proto:!0,forced:/./.exec!==Mte},{exec:Mte})});var Rte=de(()=>{"use strict";var L7e=Un(),P7e=Di(),R7e=Ic(),F7e=PD(),q7e=rn(),Lte=L7e.RegExp,Pte=Lte.prototype,N7e=P7e&&q7e(function(){var r=!0;try{Lte(".","d")}catch{r=!1}var e={},t="",n=r?"dgimsy":"gimsy",i=function(g,w){Object.defineProperty(e,g,{get:function(){return t+=w,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};r&&(a.hasIndices="d");for(var l in a)i(l,a[l]);var h=Object.getOwnPropertyDescriptor(Pte,"flags").get.call(e);return h!==n||t!==n});N7e&&R7e(Pte,"flags",{configurable:!0,get:F7e})});var qte=de(()=>{"use strict";var B7e=Di(),z7e=pS().MISSED_STICKY,U7e=gf(),j7e=Ic(),H7e=Vu().get,Fte=RegExp.prototype,W7e=TypeError;B7e&&z7e&&j7e(Fte,"sticky",{configurable:!0,get:function(){if(this!==Fte){if(U7e(this)==="RegExp")return!!H7e(this).sticky;throw new W7e("Incompatible receiver, RegExp required")}}})});var zte=de(()=>{"use strict";zD();var V7e=Ut(),Nte=co(),$7e=Xo(),Bte=yo(),G7e=Qi(),K7e=function(){var r=!1,e=/[ac]/;return e.exec=function(){return r=!0,/./.exec.apply(this,arguments)},e.test("abc")===!0&&r}(),Y7e=/./.test;V7e({target:"RegExp",proto:!0,forced:!K7e},{test:function(r){var e=Bte(this),t=G7e(r),n=e.exec;if(!$7e(n))return Nte(Y7e,e,t);var i=Nte(n,e,t);return i===null?!1:(Bte(i),!0)}})});var Wte=de(()=>{"use strict";var Z7e=Wy().PROPER,X7e=Vs(),J7e=yo(),Ute=Qi(),Q7e=rn(),e$e=wx(),Z3="toString",jte=RegExp.prototype,Hte=jte[Z3],t$e=Q7e(function(){return Hte.call({source:"a",flags:"b"})!=="/a/b"}),r$e=Z7e&&Hte.name!==Z3;(t$e||r$e)&&X7e(jte,Z3,function(){var e=J7e(this),t=Ute(e.source),n=Ute(e$e(e));return"/"+t+"/"+n},{unsafe:!0})});var Vte=de(()=>{"use strict";var n$e=Yw(),i$e=Cq();n$e("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},i$e)});var $te=de(()=>{"use strict";Vte()});var Gte=de(()=>{"use strict";var o$e=Ut(),a$e=cn(),s$e=nl(),l$e=eu(),u$e=Qi(),c$e=rn(),f$e=a$e("".charAt),h$e=c$e(function(){return"\u{20BB7}".at(-2)!=="\uD842"});o$e({target:"String",proto:!0,forced:h$e},{at:function(e){var t=u$e(s$e(this)),n=t.length,i=l$e(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:f$e(t,a)}})});var gS=de((lIt,Zte)=>{"use strict";var X3=cn(),d$e=eu(),p$e=Qi(),m$e=nl(),g$e=X3("".charAt),Kte=X3("".charCodeAt),v$e=X3("".slice),Yte=function(r){return function(e,t){var n=p$e(m$e(e)),i=d$e(t),a=n.length,l,h;return i<0||i>=a?r?"":void 0:(l=Kte(n,i),l<55296||l>56319||i+1===a||(h=Kte(n,i+1))<56320||h>57343?r?g$e(n,i):l:r?v$e(n,i,i+2):(l-55296<<10)+(h-56320)+65536)}};Zte.exports={codeAt:Yte(!1),charAt:Yte(!0)}});var Xte=de(()=>{"use strict";var y$e=Ut(),b$e=gS().codeAt;y$e({target:"String",proto:!0},{codePointAt:function(e){return b$e(this,e)}})});var UD=de((fIt,Jte)=>{"use strict";var x$e=dS(),_$e=TypeError;Jte.exports=function(r){if(x$e(r))throw new _$e("The method doesn't accept regular expressions");return r}});var jD=de((hIt,Qte)=>{"use strict";var w$e=Ho(),S$e=w$e("match");Qte.exports=function(r){var e=/./;try{"/./"[r](e)}catch{try{return e[S$e]=!1,"/./"[r](e)}catch{}}return!1}});var rre=de(()=>{"use strict";var T$e=Ut(),E$e=wv(),k$e=vf().f,C$e=gh(),ere=Qi(),A$e=UD(),D$e=nl(),O$e=jD(),I$e=Al(),M$e=E$e("".slice),L$e=Math.min,tre=O$e("endsWith"),P$e=!I$e&&!tre&&!!function(){var r=k$e(String.prototype,"endsWith");return r&&!r.writable}();T$e({target:"String",proto:!0,forced:!P$e&&!tre},{endsWith:function(e){var t=ere(D$e(this));A$e(e);var n=arguments.length>1?arguments[1]:void 0,i=t.length,a=n===void 0?i:L$e(C$e(n),i),l=ere(e);return M$e(t,a-l.length,a)===l}})});var ore=de(()=>{"use strict";var R$e=Ut(),F$e=cn(),q$e=vm(),N$e=RangeError,nre=String.fromCharCode,ire=String.fromCodePoint,B$e=F$e([].join),z$e=!!ire&&ire.length!==1;R$e({target:"String",stat:!0,arity:1,forced:z$e},{fromCodePoint:function(e){for(var t=[],n=arguments.length,i=0,a;n>i;){if(a=+arguments[i++],q$e(a,1114111)!==a)throw new N$e(a+" is not a valid code point");t[i]=a<65536?nre(a):nre(((a-=65536)>>10)+55296,a%1024+56320)}return B$e(t,"")}})});var sre=de(()=>{"use strict";var U$e=Ut(),j$e=cn(),H$e=UD(),W$e=nl(),are=Qi(),V$e=jD(),$$e=j$e("".indexOf);U$e({target:"String",proto:!0,forced:!V$e("includes")},{includes:function(e){return!!~$$e(are(W$e(this)),are(H$e(e)),arguments.length>1?arguments[1]:void 0)}})});var ure=de(()=>{"use strict";var G$e=Ut(),K$e=cn(),Y$e=nl(),Z$e=Qi(),lre=K$e("".charCodeAt);G$e({target:"String",proto:!0},{isWellFormed:function(){for(var e=Z$e(Y$e(this)),t=e.length,n=0;n<t;n++){var i=lre(e,n);if((i&63488)===55296&&(i>=56320||++n>=t||(lre(e,n)&64512)!==56320))return!1}return!0}})});var J3=de(()=>{"use strict";var X$e=gS().charAt,J$e=Qi(),fre=Vu(),Q$e=KA(),cre=nx(),hre="String Iterator",eGe=fre.set,tGe=fre.getterFor(hre);Q$e(String,"String",function(r){eGe(this,{type:hre,string:J$e(r),index:0})},function(){var e=tGe(this),t=e.string,n=e.index,i;return n>=t.length?cre(void 0,!0):(i=X$e(t,n),e.index+=i.length,cre(i,!1))})});var vS=de((SIt,vre)=>{"use strict";zD();var dre=co(),pre=Vs(),rGe=BD(),mre=rn(),gre=Ho(),nGe=yf(),iGe=gre("species"),Q3=RegExp.prototype;vre.exports=function(r,e,t,n){var i=gre(r),a=!mre(function(){var w={};return w[i]=function(){return 7},""[r](w)!==7}),l=a&&!mre(function(){var w=!1,C=/a/;return r==="split"&&(C={},C.constructor={},C.constructor[iGe]=function(){return C},C.flags="",C[i]=/./[i]),C.exec=function(){return w=!0,null},C[i](""),!w});if(!a||!l||t){var h=/./[i],g=e(i,""[r],function(w,C,D,F,z){var Y=C.exec;return Y===rGe||Y===Q3.exec?a&&!z?{done:!0,value:dre(h,C,D,F)}:{done:!0,value:dre(w,D,C,F)}:{done:!1}});pre(String.prototype,r,g[0]),pre(Q3,i,g[1])}n&&nGe(Q3[i],"sham",!0)}});var yS=de((TIt,yre)=>{"use strict";var oGe=gS().charAt;yre.exports=function(r,e,t){return e+(t?oGe(r,e).length:1)}});var Ex=de((EIt,xre)=>{"use strict";var bre=co(),aGe=yo(),sGe=Xo(),lGe=gf(),uGe=BD(),cGe=TypeError;xre.exports=function(r,e){var t=r.exec;if(sGe(t)){var n=bre(t,r,e);return n!==null&&aGe(n),n}if(lGe(r)==="RegExp")return bre(uGe,r,e);throw new cGe("RegExp#exec called on incompatible receiver")}});var wre=de(()=>{"use strict";var fGe=co(),hGe=vS(),dGe=yo(),pGe=Hf(),mGe=gh(),eN=Qi(),gGe=nl(),vGe=mm(),yGe=yS(),_re=Ex();hGe("match",function(r,e,t){return[function(i){var a=gGe(this),l=pGe(i)?void 0:vGe(i,r);return l?fGe(l,i,a):new RegExp(i)[r](eN(a))},function(n){var i=dGe(this),a=eN(n),l=t(e,i,a);if(l.done)return l.value;if(!i.global)return _re(i,a);var h=i.unicode;i.lastIndex=0;for(var g=[],w=0,C;(C=_re(i,a))!==null;){var D=eN(C[0]);g[w]=D,D===""&&(i.lastIndex=yGe(a,mGe(i.lastIndex),h)),w++}return w===0?null:g}]})});var Mre=de(()=>{"use strict";var bGe=Ut(),Sre=co(),kre=wv(),xGe=VA(),HD=nx(),Tre=nl(),Cre=gh(),bS=Qi(),_Ge=yo(),wGe=Hf(),SGe=gf(),TGe=dS(),Are=wx(),EGe=mm(),kGe=Vs(),CGe=rn(),AGe=Ho(),DGe=eb(),OGe=yS(),IGe=Ex(),Dre=Vu(),rN=Al(),WD=AGe("matchAll"),Ore="RegExp String",Ire=Ore+" Iterator",MGe=Dre.set,LGe=Dre.getterFor(Ire),Ere=RegExp.prototype,PGe=TypeError,nN=kre("".indexOf),VD=kre("".matchAll),tN=!!VD&&!CGe(function(){VD("a",/./)}),RGe=xGe(function(e,t,n,i){MGe(this,{type:Ire,regexp:e,string:t,global:n,unicode:i,done:!1})},Ore,function(){var e=LGe(this);if(e.done)return HD(void 0,!0);var t=e.regexp,n=e.string,i=IGe(t,n);return i===null?(e.done=!0,HD(void 0,!0)):e.global?(bS(i[0])===""&&(t.lastIndex=OGe(n,Cre(t.lastIndex),e.unicode)),HD(i,!1)):(e.done=!0,HD(i,!1))}),iN=function(r){var e=_Ge(this),t=bS(r),n=DGe(e,RegExp),i=bS(Are(e)),a,l,h;return a=new n(n===RegExp?e.source:e,i),l=!!~nN(i,"g"),h=!!~nN(i,"u"),a.lastIndex=Cre(e.lastIndex),new RGe(a,t,l,h)};bGe({target:"String",proto:!0,forced:tN},{matchAll:function(e){var t=Tre(this),n,i,a,l;if(wGe(e)){if(tN)return VD(t,e)}else{if(TGe(e)&&(n=bS(Tre(Are(e))),!~nN(n,"g")))throw new PGe("`.matchAll` does not allow non-global regexes");if(tN)return VD(t,e);if(a=EGe(e,WD),a===void 0&&rN&&SGe(e)==="RegExp"&&(a=iN),a)return Sre(a,e,t)}return i=bS(t),l=new RegExp(e,"g"),rN?Sre(iN,l,i):l[WD](i)}});rN||WD in Ere||kGe(Ere,WD,iN)});var oN=de((OIt,Lre)=>{"use strict";var FGe=dm();Lre.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(FGe)});var Pre=de(()=>{"use strict";var qGe=Ut(),NGe=hD().end,BGe=oN();qGe({target:"String",proto:!0,forced:BGe},{padEnd:function(e){return NGe(this,e,arguments.length>1?arguments[1]:void 0)}})});var Rre=de(()=>{"use strict";var zGe=Ut(),UGe=hD().start,jGe=oN();zGe({target:"String",proto:!0,forced:jGe},{padStart:function(e){return UGe(this,e,arguments.length>1?arguments[1]:void 0)}})});var Bre=de(()=>{"use strict";var HGe=Ut(),Nre=cn(),WGe=pc(),VGe=Oa(),Fre=Qi(),$Ge=Ja(),qre=Nre([].push),GGe=Nre([].join);HGe({target:"String",stat:!0},{raw:function(e){var t=WGe(VGe(e).raw),n=$Ge(t);if(!n)return"";for(var i=arguments.length,a=[],l=0;;){if(qre(a,Fre(t[l++])),l===n)return GGe(a,"");l<i&&qre(a,Fre(arguments[l]))}}})});var zre=de(()=>{"use strict";var KGe=Ut(),YGe=Gw();KGe({target:"String",proto:!0},{repeat:YGe})});var uN=de((BIt,Ure)=>{"use strict";var lN=cn(),ZGe=Oa(),XGe=Math.floor,aN=lN("".charAt),JGe=lN("".replace),sN=lN("".slice),QGe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,eKe=/\$([$&'`]|\d{1,2})/g;Ure.exports=function(r,e,t,n,i,a){var l=t+r.length,h=n.length,g=eKe;return i!==void 0&&(i=ZGe(i),g=QGe),JGe(a,g,function(w,C){var D;switch(aN(C,0)){case"$":return"$";case"&":return r;case"`":return sN(e,0,t);case"'":return sN(e,l);case"<":D=i[sN(C,1,-1)];break;default:var F=+C;if(F===0)return w;if(F>h){var z=XGe(F/10);return z===0?w:z<=h?n[z-1]===void 0?aN(C,1):n[z-1]+aN(C,1):w}D=n[F-1]}return D===void 0?"":D})}});var $re=de(()=>{"use strict";var tKe=$d(),jre=co(),$D=cn(),rKe=vS(),nKe=rn(),iKe=yo(),oKe=Xo(),aKe=Hf(),sKe=eu(),lKe=gh(),kx=Qi(),uKe=nl(),cKe=yS(),fKe=mm(),hKe=uN(),dKe=Ex(),pKe=Ho(),fN=pKe("replace"),mKe=Math.max,gKe=Math.min,vKe=$D([].concat),cN=$D([].push),Hre=$D("".indexOf),Wre=$D("".slice),yKe=function(r){return r===void 0?r:String(r)},bKe=function(){return"a".replace(/./,"$0")==="$0"}(),Vre=function(){return/./[fN]?/./[fN]("a","$0")==="":!1}(),xKe=!nKe(function(){var r=/./;return r.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(r,"$<a>")!=="7"});rKe("replace",function(r,e,t){var n=Vre?"$":"$0";return[function(a,l){var h=uKe(this),g=aKe(a)?void 0:fKe(a,fN);return g?jre(g,a,h,l):jre(e,kx(h),a,l)},function(i,a){var l=iKe(this),h=kx(i);if(typeof a=="string"&&Hre(a,n)===-1&&Hre(a,"$<")===-1){var g=t(e,l,h,a);if(g.done)return g.value}var w=oKe(a);w||(a=kx(a));var C=l.global,D;C&&(D=l.unicode,l.lastIndex=0);for(var F=[],z;z=dKe(l,h),!(z===null||(cN(F,z),!C));){var Y=kx(z[0]);Y===""&&(l.lastIndex=cKe(h,lKe(l.lastIndex),D))}for(var $="",re=0,oe=0;oe<F.length;oe++){z=F[oe];for(var ne=kx(z[0]),he=mKe(gKe(sKe(z.index),h.length),0),_=[],ge,fe=1;fe<z.length;fe++)cN(_,yKe(z[fe]));var me=z.groups;if(w){var we=vKe([ne],_,he,h);me!==void 0&&cN(we,me),ge=kx(tKe(a,void 0,we))}else ge=hKe(ne,h,he,_,me,a);he>=re&&($+=Wre(h,re,he)+ge,re=he+ne.length)}return $+Wre(h,re)}]},!xKe||!bKe||Vre)});var Yre=de(()=>{"use strict";var _Ke=Ut(),wKe=co(),dN=cn(),Gre=nl(),SKe=Xo(),TKe=Hf(),EKe=dS(),Cx=Qi(),kKe=mm(),CKe=wx(),AKe=uN(),DKe=Ho(),OKe=Al(),IKe=DKe("replace"),MKe=TypeError,hN=dN("".indexOf),LKe=dN("".replace),Kre=dN("".slice),PKe=Math.max;_Ke({target:"String",proto:!0},{replaceAll:function(e,t){var n=Gre(this),i,a,l,h,g,w,C,D,F,z=0,Y=0,$="";if(!TKe(e)){if(i=EKe(e),i&&(a=Cx(Gre(CKe(e))),!~hN(a,"g")))throw new MKe("`.replaceAll` does not allow non-global regexes");if(l=kKe(e,IKe),l)return wKe(l,e,n,t);if(OKe&&i)return LKe(Cx(n),e,t)}for(h=Cx(n),g=Cx(e),w=SKe(t),w||(t=Cx(t)),C=g.length,D=PKe(1,C),z=hN(h,g);z!==-1;)F=w?Cx(t(g,z,h)):AKe(g,h,z,[],void 0,t),$+=Kre(h,Y,z)+F,Y=z+C,z=z+D>h.length?-1:hN(h,g,z+D);return Y<h.length&&($+=Kre(h,Y)),$}})});var Jre=de(()=>{"use strict";var RKe=co(),FKe=vS(),qKe=yo(),NKe=Hf(),BKe=nl(),Zre=Zq(),Xre=Qi(),zKe=mm(),UKe=Ex();FKe("search",function(r,e,t){return[function(i){var a=BKe(this),l=NKe(i)?void 0:zKe(i,r);return l?RKe(l,i,a):new RegExp(i)[r](Xre(a))},function(n){var i=qKe(this),a=Xre(n),l=t(e,i,a);if(l.done)return l.value;var h=i.lastIndex;Zre(h,0)||(i.lastIndex=0);var g=UKe(i,a);return Zre(i.lastIndex,h)||(i.lastIndex=h),g===null?-1:g.index}]})});var nne=de(()=>{"use strict";var pN=co(),rne=cn(),jKe=vS(),HKe=yo(),WKe=Hf(),VKe=nl(),$Ke=eb(),GKe=yS(),KKe=gh(),Qre=Qi(),YKe=mm(),ene=Ex(),ZKe=pS(),XKe=rn(),Ax=ZKe.UNSUPPORTED_Y,JKe=4294967295,QKe=Math.min,mN=rne([].push),gN=rne("".slice),eYe=!XKe(function(){var r=/(?:)/,e=r.exec;r.exec=function(){return e.apply(this,arguments)};var t="ab".split(r);return t.length!==2||t[0]!=="a"||t[1]!=="b"}),tne="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;jKe("split",function(r,e,t){var n="0".split(void 0,0).length?function(i,a){return i===void 0&&a===0?[]:pN(e,this,i,a)}:e;return[function(a,l){var h=VKe(this),g=WKe(a)?void 0:YKe(a,r);return g?pN(g,a,h,l):pN(n,Qre(h),a,l)},function(i,a){var l=HKe(this),h=Qre(i);if(!tne){var g=t(n,l,h,a,n!==e);if(g.done)return g.value}var w=$Ke(l,RegExp),C=l.unicode,D=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(Ax?"g":"y"),F=new w(Ax?"^(?:"+l.source+")":l,D),z=a===void 0?JKe:a>>>0;if(z===0)return[];if(h.length===0)return ene(F,h)===null?[h]:[];for(var Y=0,$=0,re=[];$<h.length;){F.lastIndex=Ax?0:$;var oe=ene(F,Ax?gN(h,$):h),ne;if(oe===null||(ne=QKe(KKe(F.lastIndex+(Ax?$:0)),h.length))===Y)$=GKe(h,$,C);else{if(mN(re,gN(h,Y,$)),re.length===z)return re;for(var he=1;he<=oe.length-1;he++)if(mN(re,oe[he]),re.length===z)return re;$=Y=ne}}return mN(re,gN(h,Y)),re}]},tne||!eYe,Ax)});var ane=de(()=>{"use strict";var tYe=Ut(),rYe=wv(),nYe=vf().f,iYe=gh(),ine=Qi(),oYe=UD(),aYe=nl(),sYe=jD(),lYe=Al(),uYe=rYe("".slice),cYe=Math.min,one=sYe("startsWith"),fYe=!lYe&&!one&&!!function(){var r=nYe(String.prototype,"startsWith");return r&&!r.writable}();tYe({target:"String",proto:!0,forced:!fYe&&!one},{startsWith:function(e){var t=ine(aYe(this));oYe(e);var n=iYe(cYe(arguments.length>1?arguments[1]:void 0,t.length)),i=ine(e);return uYe(t,n,n+i.length)===i}})});var lne=de(()=>{"use strict";var hYe=Ut(),dYe=cn(),pYe=nl(),sne=eu(),mYe=Qi(),gYe=dYe("".slice),vYe=Math.max,yYe=Math.min,bYe=!"".substr||"ab".substr(-1)!=="b";hYe({target:"String",proto:!0,forced:bYe},{substr:function(e,t){var n=mYe(pYe(this)),i=n.length,a=sne(e),l,h;return a===1/0&&(a=0),a<0&&(a=vYe(i+a,0)),l=t===void 0?i:sne(t),l<=0||l===1/0?"":(h=yYe(a+l,i),a>=h?"":gYe(n,a,h))}})});var hne=de(()=>{"use strict";var xYe=Ut(),fne=co(),bN=cn(),_Ye=nl(),wYe=Qi(),SYe=rn(),TYe=Array,vN=bN("".charAt),une=bN("".charCodeAt),EYe=bN([].join),yN="".toWellFormed,kYe="\uFFFD",cne=yN&&SYe(function(){return fne(yN,1)!=="1"});xYe({target:"String",proto:!0,forced:cne},{toWellFormed:function(){var e=wYe(_Ye(this));if(cne)return fne(yN,e);for(var t=e.length,n=TYe(t),i=0;i<t;i++){var a=une(e,i);(a&63488)!==55296?n[i]=vN(e,i):a>=56320||i+1>=t||(une(e,i+1)&64512)!==56320?n[i]=kYe:(n[i]=vN(e,i),n[++i]=vN(e,i))}return EYe(n,"")}})});var GD=de((eMt,mne)=>{"use strict";var CYe=Wy().PROPER,AYe=rn(),dne=tS(),pne="\u200B\x85\u180E";mne.exports=function(r){return AYe(function(){return!!dne[r]()||pne[r]()!==pne||CYe&&dne[r].name!==r})}});var gne=de(()=>{"use strict";var DYe=Ut(),OYe=nb().trim,IYe=GD();DYe({target:"String",proto:!0,forced:IYe("trim")},{trim:function(){return OYe(this)}})});var xN=de((nMt,vne)=>{"use strict";var MYe=nb().end,LYe=GD();vne.exports=LYe("trimEnd")?function(){return MYe(this)}:"".trimEnd});var bne=de(()=>{"use strict";var PYe=Ut(),yne=xN();PYe({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==yne},{trimRight:yne})});var _ne=de(()=>{"use strict";bne();var RYe=Ut(),xne=xN();RYe({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==xne},{trimEnd:xne})});var _N=de((lMt,wne)=>{"use strict";var FYe=nb().start,qYe=GD();wne.exports=qYe("trimStart")?function(){return FYe(this)}:"".trimStart});var Tne=de(()=>{"use strict";var NYe=Ut(),Sne=_N();NYe({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==Sne},{trimLeft:Sne})});var kne=de(()=>{"use strict";Tne();var BYe=Ut(),Ene=_N();BYe({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==Ene},{trimStart:Ene})});var xh=de((dMt,Ane)=>{"use strict";var zYe=cn(),UYe=nl(),Cne=Qi(),jYe=/"/g,HYe=zYe("".replace);Ane.exports=function(r,e,t,n){var i=Cne(UYe(r)),a="<"+e;return t!==""&&(a+=" "+t+'="'+HYe(Cne(n),jYe,"&quot;")+'"'),a+">"+i+"</"+e+">"}});var _h=de((pMt,Dne)=>{"use strict";var WYe=rn();Dne.exports=function(r){return WYe(function(){var e=""[r]('"');return e!==e.toLowerCase()||e.split('"').length>3})}});var One=de(()=>{"use strict";var VYe=Ut(),$Ye=xh(),GYe=_h();VYe({target:"String",proto:!0,forced:GYe("anchor")},{anchor:function(e){return $Ye(this,"a","name",e)}})});var Ine=de(()=>{"use strict";var KYe=Ut(),YYe=xh(),ZYe=_h();KYe({target:"String",proto:!0,forced:ZYe("big")},{big:function(){return YYe(this,"big","","")}})});var Mne=de(()=>{"use strict";var XYe=Ut(),JYe=xh(),QYe=_h();XYe({target:"String",proto:!0,forced:QYe("blink")},{blink:function(){return JYe(this,"blink","","")}})});var Lne=de(()=>{"use strict";var eZe=Ut(),tZe=xh(),rZe=_h();eZe({target:"String",proto:!0,forced:rZe("bold")},{bold:function(){return tZe(this,"b","","")}})});var Pne=de(()=>{"use strict";var nZe=Ut(),iZe=xh(),oZe=_h();nZe({target:"String",proto:!0,forced:oZe("fixed")},{fixed:function(){return iZe(this,"tt","","")}})});var Rne=de(()=>{"use strict";var aZe=Ut(),sZe=xh(),lZe=_h();aZe({target:"String",proto:!0,forced:lZe("fontcolor")},{fontcolor:function(e){return sZe(this,"font","color",e)}})});var Fne=de(()=>{"use strict";var uZe=Ut(),cZe=xh(),fZe=_h();uZe({target:"String",proto:!0,forced:fZe("fontsize")},{fontsize:function(e){return cZe(this,"font","size",e)}})});var qne=de(()=>{"use strict";var hZe=Ut(),dZe=xh(),pZe=_h();hZe({target:"String",proto:!0,forced:pZe("italics")},{italics:function(){return dZe(this,"i","","")}})});var Nne=de(()=>{"use strict";var mZe=Ut(),gZe=xh(),vZe=_h();mZe({target:"String",proto:!0,forced:vZe("link")},{link:function(e){return gZe(this,"a","href",e)}})});var Bne=de(()=>{"use strict";var yZe=Ut(),bZe=xh(),xZe=_h();yZe({target:"String",proto:!0,forced:xZe("small")},{small:function(){return bZe(this,"small","","")}})});var zne=de(()=>{"use strict";var _Ze=Ut(),wZe=xh(),SZe=_h();_Ze({target:"String",proto:!0,forced:SZe("strike")},{strike:function(){return wZe(this,"strike","","")}})});var Une=de(()=>{"use strict";var TZe=Ut(),EZe=xh(),kZe=_h();TZe({target:"String",proto:!0,forced:kZe("sub")},{sub:function(){return EZe(this,"sub","","")}})});var jne=de(()=>{"use strict";var CZe=Ut(),AZe=xh(),DZe=_h();CZe({target:"String",proto:!0,forced:DZe("sup")},{sup:function(){return AZe(this,"sup","","")}})});var KD=de((UMt,Wne)=>{"use strict";var Hne=Un(),wN=rn(),OZe=Nw(),IZe=qo().NATIVE_ARRAY_BUFFER_VIEWS,MZe=Hne.ArrayBuffer,lb=Hne.Int8Array;Wne.exports=!IZe||!wN(function(){lb(1)})||!wN(function(){new lb(-1)})||!OZe(function(r){new lb,new lb(null),new lb(1.5),new lb(r)},!0)||wN(function(){return new lb(new MZe(2),1,void 0).length!==1})});var $ne=de((jMt,Vne)=>{"use strict";var LZe=eu(),PZe=RangeError;Vne.exports=function(r){var e=LZe(r);if(e<0)throw new PZe("The argument can't be less than 0");return e}});var SN=de((HMt,Gne)=>{"use strict";var RZe=$ne(),FZe=RangeError;Gne.exports=function(r,e){var t=RZe(r);if(t%e)throw new FZe("Wrong offset");return t}});var Yne=de((WMt,Kne)=>{"use strict";var qZe=Math.round;Kne.exports=function(r){var e=qZe(r);return e<0?0:e>255?255:e&255}});var TN=de((VMt,Zne)=>{"use strict";var NZe=Mp();Zne.exports=function(r){var e=NZe(r);return e==="BigInt64Array"||e==="BigUint64Array"}});var YD=de(($Mt,Xne)=>{"use strict";var BZe=ww(),zZe=TypeError;Xne.exports=function(r){var e=BZe(r,"number");if(typeof e=="number")throw new zZe("Can't convert number to bigint");return BigInt(e)}});var EN=de((GMt,Jne)=>{"use strict";var UZe=Wd(),jZe=co(),HZe=fD(),WZe=Oa(),VZe=Ja(),$Ze=Rw(),GZe=ex(),KZe=zA(),YZe=TN(),ZZe=qo().aTypedArrayConstructor,XZe=YD();Jne.exports=function(e){var t=HZe(this),n=WZe(e),i=arguments.length,a=i>1?arguments[1]:void 0,l=a!==void 0,h=GZe(n),g,w,C,D,F,z,Y,$;if(h&&!KZe(h))for(Y=$Ze(n,h),$=Y.next,n=[];!(z=jZe($,Y)).done;)n.push(z.value);for(l&&i>2&&(a=UZe(a,arguments[2])),w=VZe(n),C=new(ZZe(t))(w),D=YZe(C),g=0;w>g;g++)F=l?a(n[g],g):n[g],C[g]=D?XZe(F):+F;return C}});var Sm=de((KMt,MN)=>{"use strict";var Qne=Ut(),cie=Un(),eie=co(),JZe=Di(),QZe=KD(),SS=qo(),fie=$w(),tie=Pp(),eXe=od(),xS=yf(),tXe=_D(),rXe=gh(),rie=ZF(),kN=SN(),nXe=Yne(),hie=gm(),_S=ua(),iXe=Mp(),DN=Fo(),oXe=bv(),aXe=vh(),sXe=mh(),ZD=Lp(),lXe=_v().f,nie=EN(),uXe=Mc().forEach,cXe=Jy(),fXe=Ic(),die=ol(),pie=vf(),iie=Hw(),LN=Vu(),hXe=Ev(),ON=LN.get,dXe=LN.set,pXe=LN.enforce,mie=die.f,mXe=pie.f,CN=cie.RangeError,gie=fie.ArrayBuffer,gXe=gie.prototype,vXe=fie.DataView,XD=SS.NATIVE_ARRAY_BUFFER_VIEWS,oie=SS.TYPED_ARRAY_TAG,aie=SS.TypedArray,wS=SS.TypedArrayPrototype,IN=SS.isTypedArray,JD="BYTES_PER_ELEMENT",AN="Wrong length",QD=function(r,e){fXe(r,e,{configurable:!0,get:function(){return ON(this)[e]}})},sie=function(r){var e;return sXe(gXe,r)||(e=iXe(r))==="ArrayBuffer"||e==="SharedArrayBuffer"},vie=function(r,e){return IN(r)&&!oXe(e)&&e in r&&tXe(+e)&&e>=0},lie=function(e,t){return t=hie(t),vie(e,t)?eXe(2,e[t]):mXe(e,t)},uie=function(e,t,n){return t=hie(t),vie(e,t)&&DN(n)&&_S(n,"value")&&!_S(n,"get")&&!_S(n,"set")&&!n.configurable&&(!_S(n,"writable")||n.writable)&&(!_S(n,"enumerable")||n.enumerable)?(e[t]=n.value,e):mie(e,t,n)};JZe?(XD||(pie.f=lie,die.f=uie,QD(wS,"buffer"),QD(wS,"byteOffset"),QD(wS,"byteLength"),QD(wS,"length")),Qne({target:"Object",stat:!0,forced:!XD},{getOwnPropertyDescriptor:lie,defineProperty:uie}),MN.exports=function(r,e,t){var n=r.match(/\d+/)[0]/8,i=r+(t?"Clamped":"")+"Array",a="get"+r,l="set"+r,h=cie[i],g=h,w=g&&g.prototype,C={},D=function($,re){var oe=ON($);return oe.view[a](re*n+oe.byteOffset,!0)},F=function($,re,oe){var ne=ON($);ne.view[l](re*n+ne.byteOffset,t?nXe(oe):oe,!0)},z=function($,re){mie($,re,{get:function(){return D(this,re)},set:function(oe){return F(this,re,oe)},enumerable:!0})};XD?QZe&&(g=e(function($,re,oe,ne){return tie($,w),hXe(function(){return DN(re)?sie(re)?ne!==void 0?new h(re,kN(oe,n),ne):oe!==void 0?new h(re,kN(oe,n)):new h(re):IN(re)?iie(g,re):eie(nie,g,re):new h(rie(re))}(),$,g)}),ZD&&ZD(g,aie),uXe(lXe(h),function($){$ in g||xS(g,$,h[$])}),g.prototype=w):(g=e(function($,re,oe,ne){tie($,w);var he=0,_=0,ge,fe,me;if(!DN(re))me=rie(re),fe=me*n,ge=new gie(fe);else if(sie(re)){ge=re,_=kN(oe,n);var we=re.byteLength;if(ne===void 0){if(we%n)throw new CN(AN);if(fe=we-_,fe<0)throw new CN(AN)}else if(fe=rXe(ne)*n,fe+_>we)throw new CN(AN);me=fe/n}else return IN(re)?iie(g,re):eie(nie,g,re);for(dXe($,{buffer:ge,byteOffset:_,byteLength:fe,length:me,view:new vXe(ge)});he<me;)z($,he++)}),ZD&&ZD(g,aie),w=g.prototype=aXe(wS)),w.constructor!==g&&xS(w,"constructor",g),pXe(w).TypedArrayConstructor=g,oie&&xS(w,oie,i);var Y=g!==h;C[i]=g,Qne({global:!0,constructor:!0,forced:Y,sham:!XD},C),JD in g||xS(g,JD,n),JD in w||xS(w,JD,n),cXe(i)}):MN.exports=function(){}});var yie=de(()=>{"use strict";var yXe=Sm();yXe("Float32",function(r){return function(t,n,i){return r(this,t,n,i)}})});var bie=de(()=>{"use strict";var bXe=Sm();bXe("Float64",function(r){return function(t,n,i){return r(this,t,n,i)}})});var xie=de(()=>{"use strict";var xXe=Sm();xXe("Int8",function(r){return function(t,n,i){return r(this,t,n,i)}})});var _ie=de(()=>{"use strict";var _Xe=Sm();_Xe("Int16",function(r){return function(t,n,i){return r(this,t,n,i)}})});var wie=de(()=>{"use strict";var wXe=Sm();wXe("Int32",function(r){return function(t,n,i){return r(this,t,n,i)}})});var Sie=de(()=>{"use strict";var SXe=Sm();SXe("Uint8",function(r){return function(t,n,i){return r(this,t,n,i)}})});var Tie=de(()=>{"use strict";var TXe=Sm();TXe("Uint8",function(r){return function(t,n,i){return r(this,t,n,i)}},!0)});var Eie=de(()=>{"use strict";var EXe=Sm();EXe("Uint16",function(r){return function(t,n,i){return r(this,t,n,i)}})});var kie=de(()=>{"use strict";var kXe=Sm();kXe("Uint32",function(r){return function(t,n,i){return r(this,t,n,i)}})});var Aie=de(()=>{"use strict";var Cie=qo(),CXe=Ja(),AXe=eu(),DXe=Cie.aTypedArray,OXe=Cie.exportTypedArrayMethod;OXe("at",function(e){var t=DXe(this),n=CXe(t),i=AXe(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:t[a]})});var Oie=de(()=>{"use strict";var IXe=cn(),Die=qo(),MXe=kF(),LXe=IXe(MXe),PXe=Die.aTypedArray,RXe=Die.exportTypedArrayMethod;RXe("copyWithin",function(e,t){return LXe(PXe(this),e,t,arguments.length>2?arguments[2]:void 0)})});var Mie=de(()=>{"use strict";var Iie=qo(),FXe=Mc().every,qXe=Iie.aTypedArray,NXe=Iie.exportTypedArrayMethod;NXe("every",function(e){return FXe(qXe(this),e,arguments.length>1?arguments[1]:void 0)})});var Pie=de(()=>{"use strict";var Lie=qo(),BXe=WA(),zXe=YD(),UXe=Mp(),jXe=co(),HXe=cn(),WXe=rn(),VXe=Lie.aTypedArray,$Xe=Lie.exportTypedArrayMethod,GXe=HXe("".slice),KXe=WXe(function(){var r=0;return new Int8Array(2).fill({valueOf:function(){return r++}}),r!==1});$Xe("fill",function(e){var t=arguments.length;VXe(this);var n=GXe(UXe(this),0,3)==="Big"?zXe(e):+e;return jXe(BXe,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)},KXe)});var TS=de((_Lt,Fie)=>{"use strict";var Rie=qo(),YXe=eb(),ZXe=Rie.aTypedArrayConstructor,XXe=Rie.getTypedArrayConstructor;Fie.exports=function(r){return ZXe(YXe(r,XXe(r)))}});var Nie=de((wLt,qie)=>{"use strict";var JXe=Hw(),QXe=TS();qie.exports=function(r,e){return JXe(QXe(r),e)}});var zie=de(()=>{"use strict";var Bie=qo(),eJe=Mc().filter,tJe=Nie(),rJe=Bie.aTypedArray,nJe=Bie.exportTypedArrayMethod;nJe("filter",function(e){var t=eJe(rJe(this),e,arguments.length>1?arguments[1]:void 0);return tJe(this,t)})});var jie=de(()=>{"use strict";var Uie=qo(),iJe=Mc().find,oJe=Uie.aTypedArray,aJe=Uie.exportTypedArrayMethod;aJe("find",function(e){return iJe(oJe(this),e,arguments.length>1?arguments[1]:void 0)})});var Wie=de(()=>{"use strict";var Hie=qo(),sJe=Mc().findIndex,lJe=Hie.aTypedArray,uJe=Hie.exportTypedArrayMethod;uJe("findIndex",function(e){return sJe(lJe(this),e,arguments.length>1?arguments[1]:void 0)})});var $ie=de(()=>{"use strict";var Vie=qo(),cJe=qw().findLast,fJe=Vie.aTypedArray,hJe=Vie.exportTypedArrayMethod;hJe("findLast",function(e){return cJe(fJe(this),e,arguments.length>1?arguments[1]:void 0)})});var Kie=de(()=>{"use strict";var Gie=qo(),dJe=qw().findLastIndex,pJe=Gie.aTypedArray,mJe=Gie.exportTypedArrayMethod;mJe("findLastIndex",function(e){return dJe(pJe(this),e,arguments.length>1?arguments[1]:void 0)})});var Zie=de(()=>{"use strict";var Yie=qo(),gJe=Mc().forEach,vJe=Yie.aTypedArray,yJe=Yie.exportTypedArrayMethod;yJe("forEach",function(e){gJe(vJe(this),e,arguments.length>1?arguments[1]:void 0)})});var Xie=de(()=>{"use strict";var bJe=KD(),xJe=qo().exportTypedArrayStaticMethod,_Je=EN();xJe("from",_Je,bJe)});var Qie=de(()=>{"use strict";var Jie=qo(),wJe=W0().includes,SJe=Jie.aTypedArray,TJe=Jie.exportTypedArrayMethod;TJe("includes",function(e){return wJe(SJe(this),e,arguments.length>1?arguments[1]:void 0)})});var toe=de(()=>{"use strict";var eoe=qo(),EJe=W0().indexOf,kJe=eoe.aTypedArray,CJe=eoe.exportTypedArrayMethod;CJe("indexOf",function(e){return EJe(kJe(this),e,arguments.length>1?arguments[1]:void 0)})});var aoe=de(()=>{"use strict";var AJe=Un(),DJe=rn(),PN=cn(),noe=qo(),RN=Uw(),OJe=Ho(),FN=OJe("iterator"),roe=AJe.Uint8Array,IJe=PN(RN.values),MJe=PN(RN.keys),LJe=PN(RN.entries),qN=noe.aTypedArray,e2=noe.exportTypedArrayMethod,Dx=roe&&roe.prototype,t2=!DJe(function(){Dx[FN].call([1])}),ioe=!!Dx&&Dx.values&&Dx[FN]===Dx.values&&Dx.values.name==="values",ooe=function(){return IJe(qN(this))};e2("entries",function(){return LJe(qN(this))},t2);e2("keys",function(){return MJe(qN(this))},t2);e2("values",ooe,t2||!ioe,{name:"values"});e2(FN,ooe,t2||!ioe,{name:"values"})});var loe=de(()=>{"use strict";var soe=qo(),PJe=cn(),RJe=soe.aTypedArray,FJe=soe.exportTypedArrayMethod,qJe=PJe([].join);FJe("join",function(e){return qJe(RJe(this),e)})});var coe=de(()=>{"use strict";var uoe=qo(),NJe=$d(),BJe=UF(),zJe=uoe.aTypedArray,UJe=uoe.exportTypedArrayMethod;UJe("lastIndexOf",function(e){var t=arguments.length;return NJe(BJe,zJe(this),t>1?[e,arguments[1]]:[e])})});var hoe=de(()=>{"use strict";var foe=qo(),jJe=Mc().map,HJe=TS(),WJe=foe.aTypedArray,VJe=foe.exportTypedArrayMethod;VJe("map",function(e){return jJe(WJe(this),e,arguments.length>1?arguments[1]:void 0,function(t,n){return new(HJe(t))(n)})})});var poe=de(()=>{"use strict";var doe=qo(),$Je=KD(),GJe=doe.aTypedArrayConstructor,KJe=doe.exportTypedArrayStaticMethod;KJe("of",function(){for(var e=0,t=arguments.length,n=new(GJe(this))(t);t>e;)n[e]=arguments[e++];return n},$Je)});var goe=de(()=>{"use strict";var moe=qo(),YJe=jw().left,ZJe=moe.aTypedArray,XJe=moe.exportTypedArrayMethod;XJe("reduce",function(e){var t=arguments.length;return YJe(ZJe(this),e,t,t>1?arguments[1]:void 0)})});var yoe=de(()=>{"use strict";var voe=qo(),JJe=jw().right,QJe=voe.aTypedArray,eQe=voe.exportTypedArrayMethod;eQe("reduceRight",function(e){var t=arguments.length;return JJe(QJe(this),e,t,t>1?arguments[1]:void 0)})});var xoe=de(()=>{"use strict";var boe=qo(),tQe=boe.aTypedArray,rQe=boe.exportTypedArrayMethod,nQe=Math.floor;rQe("reverse",function(){for(var e=this,t=tQe(e).length,n=nQe(t/2),i=0,a;i<n;)a=e[i],e[i++]=e[--t],e[t]=a;return e})});var koe=de(()=>{"use strict";var woe=Un(),Soe=co(),zN=qo(),iQe=Ja(),oQe=SN(),aQe=Oa(),Toe=rn(),sQe=woe.RangeError,NN=woe.Int8Array,_oe=NN&&NN.prototype,Eoe=_oe&&_oe.set,lQe=zN.aTypedArray,uQe=zN.exportTypedArrayMethod,BN=!Toe(function(){var r=new Uint8ClampedArray(2);return Soe(Eoe,r,{length:1,0:3},1),r[1]!==3}),cQe=BN&&zN.NATIVE_ARRAY_BUFFER_VIEWS&&Toe(function(){var r=new NN(2);return r.set(1),r.set("2",1),r[0]!==0||r[1]!==2});uQe("set",function(e){lQe(this);var t=oQe(arguments.length>1?arguments[1]:void 0,1),n=aQe(e);if(BN)return Soe(Eoe,this,n,t);var i=this.length,a=iQe(n),l=0;if(a+t>i)throw new sQe("Wrong length");for(;l<a;)this[t+l]=n[l++]},!BN||cQe)});var Aoe=de(()=>{"use strict";var Coe=qo(),fQe=TS(),hQe=rn(),dQe=Hd(),pQe=Coe.aTypedArray,mQe=Coe.exportTypedArrayMethod,gQe=hQe(function(){new Int8Array(1).slice()});mQe("slice",function(e,t){for(var n=dQe(pQe(this),e,t),i=fQe(this),a=0,l=n.length,h=new i(l);l>a;)h[a]=n[a++];return h},gQe)});var Ooe=de(()=>{"use strict";var Doe=qo(),vQe=Mc().some,yQe=Doe.aTypedArray,bQe=Doe.exportTypedArrayMethod;bQe("some",function(e){return vQe(yQe(this),e,arguments.length>1?arguments[1]:void 0)})});var Foe=de(()=>{"use strict";var xQe=Un(),_Qe=wv(),UN=rn(),wQe=il(),SQe=XA(),Roe=qo(),Ioe=WF(),TQe=VF(),Moe=pm(),Loe=JA(),EQe=Roe.aTypedArray,kQe=Roe.exportTypedArrayMethod,ES=xQe.Uint16Array,Ox=ES&&_Qe(ES.prototype.sort),CQe=!!Ox&&!(UN(function(){Ox(new ES(2),null)})&&UN(function(){Ox(new ES(2),{})})),Poe=!!Ox&&!UN(function(){if(Moe)return Moe<74;if(Ioe)return Ioe<67;if(TQe)return!0;if(Loe)return Loe<602;var r=new ES(516),e=Array(516),t,n;for(t=0;t<516;t++)n=t%4,r[t]=515-t,e[t]=t-2*n+3;for(Ox(r,function(i,a){return(i/4|0)-(a/4|0)}),t=0;t<516;t++)if(r[t]!==e[t])return!0}),AQe=function(r){return function(e,t){return r!==void 0?+r(e,t)||0:t!==t?-1:e!==e?1:e===0&&t===0?1/e>0&&1/t<0?1:-1:e>t}};kQe("sort",function(e){return e!==void 0&&wQe(e),Poe?Ox(this,e):SQe(EQe(this),AQe(e))},!Poe||CQe)});var Boe=de(()=>{"use strict";var Noe=qo(),DQe=gh(),qoe=vm(),OQe=TS(),IQe=Noe.aTypedArray,MQe=Noe.exportTypedArrayMethod;MQe("subarray",function(e,t){var n=IQe(this),i=n.length,a=qoe(e,i),l=OQe(n);return new l(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,DQe((t===void 0?i:qoe(t,i))-a))})});var Woe=de(()=>{"use strict";var LQe=Un(),PQe=$d(),joe=qo(),jN=rn(),zoe=Hd(),r2=LQe.Int8Array,Uoe=joe.aTypedArray,RQe=joe.exportTypedArrayMethod,Hoe=[].toLocaleString,FQe=!!r2&&jN(function(){Hoe.call(new r2(1))}),qQe=jN(function(){return[1,2].toLocaleString()!==new r2([1,2]).toLocaleString()})||!jN(function(){r2.prototype.toLocaleString.call([1,2])});RQe("toLocaleString",function(){return PQe(Hoe,FQe?zoe(Uoe(this)):Uoe(this),zoe(arguments))},qQe)});var Voe=de(()=>{"use strict";var NQe=KF(),HN=qo(),BQe=HN.aTypedArray,zQe=HN.exportTypedArrayMethod,UQe=HN.getTypedArrayConstructor;zQe("toReversed",function(){return NQe(BQe(this),UQe(this))})});var $oe=de(()=>{"use strict";var n2=qo(),jQe=cn(),HQe=il(),WQe=Hw(),VQe=n2.aTypedArray,$Qe=n2.getTypedArrayConstructor,GQe=n2.exportTypedArrayMethod,KQe=jQe(n2.TypedArrayPrototype.sort);GQe("toSorted",function(e){e!==void 0&&HQe(e);var t=VQe(this),n=WQe($Qe(t),t);return KQe(n,e)})});var Koe=de(()=>{"use strict";var YQe=qo().exportTypedArrayMethod,ZQe=rn(),XQe=Un(),JQe=cn(),Goe=XQe.Uint8Array,QQe=Goe&&Goe.prototype||{},i2=[].toString,eet=JQe([].join);ZQe(function(){i2.call({})})&&(i2=function(){return eet(this)});var tet=QQe.toString!==i2;YQe("toString",i2,tet)});var Yoe=de(()=>{"use strict";var ret=YF(),WN=qo(),net=TN(),iet=eu(),oet=YD(),aet=WN.aTypedArray,set=WN.getTypedArrayConstructor,uet=WN.exportTypedArrayMethod,cet=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(r){return r===8}}();uet("with",function(r,e){var t=aet(this),n=iet(r),i=net(t)?oet(e):+e;return ret(t,set(t),n,i)},!cet)});var eae=de(()=>{"use strict";var fet=Ut(),VN=cn(),het=Qi(),Zoe=String.fromCharCode,Xoe=VN("".charAt),Joe=VN(/./.exec),Qoe=VN("".slice),det=/^[\da-f]{2}$/i,pet=/^[\da-f]{4}$/i;fet({global:!0},{unescape:function(e){for(var t=het(e),n="",i=t.length,a=0,l,h;a<i;){if(l=Xoe(t,a++),l==="%"){if(Xoe(t,a)==="u"){if(h=Qoe(t,a+1,a+5),Joe(pet,h)){n+=Zoe(parseInt(h,16)),a+=5;continue}}else if(h=Qoe(t,a,a+2),Joe(det,h)){n+=Zoe(parseInt(h,16)),a+=2;continue}}n+=l}return n}})});var KN=de((EPt,aae)=>{"use strict";var met=cn(),tae=ix(),o2=Mv().getWeakData,get=Pp(),vet=yo(),yet=Hf(),$N=Fo(),bet=sd(),nae=Mc(),rae=ua(),iae=Vu(),xet=iae.set,_et=iae.getterFor,wet=nae.find,Tet=nae.findIndex,Eet=met([].splice),ket=0,a2=function(r){return r.frozen||(r.frozen=new oae)},oae=function(){this.entries=[]},GN=function(r,e){return wet(r.entries,function(t){return t[0]===e})};oae.prototype={get:function(r){var e=GN(this,r);if(e)return e[1]},has:function(r){return!!GN(this,r)},set:function(r,e){var t=GN(this,r);t?t[1]=e:this.entries.push([r,e])},delete:function(r){var e=Tet(this.entries,function(t){return t[0]===r});return~e&&Eet(this.entries,e,1),!!~e}};aae.exports={getConstructor:function(r,e,t,n){var i=r(function(g,w){get(g,a),xet(g,{type:e,id:ket++,frozen:void 0}),yet(w)||bet(w,g[n],{that:g,AS_ENTRIES:t})}),a=i.prototype,l=_et(e),h=function(g,w,C){var D=l(g),F=o2(vet(w),!0);return F===!0?a2(D).set(w,C):F[D.id]=C,g};return tae(a,{delete:function(g){var w=l(this);if(!$N(g))return!1;var C=o2(g);return C===!0?a2(w).delete(g):C&&rae(C,w.id)&&delete C[w.id]},has:function(w){var C=l(this);if(!$N(w))return!1;var D=o2(w);return D===!0?a2(C).has(w):D&&rae(D,C.id)}}),tae(a,t?{get:function(w){var C=l(this);if($N(w)){var D=o2(w);return D===!0?a2(C).get(w):D?D[C.id]:void 0}},set:function(w,C){return h(this,w,C)}}:{add:function(w){return h(this,w,!0)}}),i}}});var pae=de(()=>{"use strict";var Cet=rb(),sae=Un(),c2=cn(),lae=ix(),Aet=Mv(),Det=Yw(),uae=KN(),s2=Fo(),l2=Vu().enforce,Oet=rn(),Iet=DR(),AS=Object,Met=Array.isArray,u2=AS.isExtensible,cae=AS.isFrozen,Let=AS.isSealed,fae=AS.freeze,Pet=AS.seal,Ret=!sae.ActiveXObject&&"ActiveXObject"in sae,kS,hae=function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},dae=Det("WeakMap",hae,uae),Ix=dae.prototype,f2=c2(Ix.set),Fet=function(){return Cet&&Oet(function(){var r=fae([]);return f2(new dae,r,1),!cae(r)})};Iet&&(Ret?(kS=uae.getConstructor(hae,"WeakMap",!0),Aet.enable(),YN=c2(Ix.delete),CS=c2(Ix.has),ZN=c2(Ix.get),lae(Ix,{delete:function(r){if(s2(r)&&!u2(r)){var e=l2(this);return e.frozen||(e.frozen=new kS),YN(this,r)||e.frozen.delete(r)}return YN(this,r)},has:function(e){if(s2(e)&&!u2(e)){var t=l2(this);return t.frozen||(t.frozen=new kS),CS(this,e)||t.frozen.has(e)}return CS(this,e)},get:function(e){if(s2(e)&&!u2(e)){var t=l2(this);return t.frozen||(t.frozen=new kS),CS(this,e)?ZN(this,e):t.frozen.get(e)}return ZN(this,e)},set:function(e,t){if(s2(e)&&!u2(e)){var n=l2(this);n.frozen||(n.frozen=new kS),CS(this,e)?f2(this,e,t):n.frozen.set(e,t)}else f2(this,e,t);return this}})):Fet()&&lae(Ix,{set:function(e,t){var n;return Met(e)&&(cae(e)?n=fae:Let(e)&&(n=Pet)),f2(this,e,t),n&&n(e),this}}));var YN,CS,ZN});var mae=de(()=>{"use strict";pae()});var gae=de(()=>{"use strict";var qet=Yw(),Net=KN();qet("WeakSet",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},Net)});var vae=de(()=>{"use strict";gae()});var XN=de((PPt,wae)=>{"use strict";var _ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",yae=_ae+"+/",bae=_ae+"-_",xae=function(r){for(var e={},t=0;t<64;t++)e[r.charAt(t)]=t;return e};wae.exports={i2c:yae,c2i:xae(yae),i2cUrl:bae,c2iUrl:xae(bae)}});var Dae=de(()=>{"use strict";var Bet=Ut(),zet=Un(),Eae=Fs(),JN=cn(),Uet=co(),h2=rn(),jet=Qi(),Het=Gd(),Sae=XN().c2i,kae=/[^\d+/a-z]/i,Wet=/[\t\n\f\r ]+/g,Vet=/[=]{1,2}$/,ub=Eae("atob"),$et=String.fromCharCode,Get=JN("".charAt),Tae=JN("".replace),Ket=JN(kae.exec),Mx=!!ub&&!h2(function(){return ub("aGk=")!=="hi"}),Cae=Mx&&h2(function(){return ub(" ")!==""}),Aae=Mx&&!h2(function(){ub("a")}),Yet=Mx&&!h2(function(){ub()}),Zet=Mx&&ub.length!==1,Xet=!Mx||Cae||Aae||Yet||Zet;Bet({global:!0,bind:!0,enumerable:!0,forced:Xet},{atob:function(e){if(Het(arguments.length,1),Mx&&!Cae&&!Aae)return Uet(ub,zet,e);var t=Tae(jet(e),Wet,""),n="",i=0,a=0,l,h,g;if(t.length%4===0&&(t=Tae(t,Vet,"")),l=t.length,l%4===1||Ket(kae,t))throw new(Eae("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;i<l;)h=Get(t,i++),g=a%4?g*64+Sae[h]:Sae[h],a++%4&&(n+=$et(255&g>>(-2*a&6)));return n}})});var Pae=de(()=>{"use strict";var Jet=Ut(),Qet=Un(),Mae=Fs(),Lae=cn(),ett=co(),QN=rn(),Oae=Qi(),ttt=Gd(),rtt=XN().i2c,Lx=Mae("btoa"),Iae=Lae("".charAt),ntt=Lae("".charCodeAt),DS=!!Lx&&!QN(function(){return Lx("hi")!=="aGk="}),itt=DS&&!QN(function(){Lx()}),ott=DS&&QN(function(){return Lx(null)!=="bnVsbA=="}),att=DS&&Lx.length!==1;Jet({global:!0,bind:!0,enumerable:!0,forced:!DS||itt||ott||att},{btoa:function(e){if(ttt(arguments.length,1),DS)return ett(Lx,Qet,Oae(e));for(var t=Oae(e),n="",i=0,a=rtt,l,h;Iae(t,i)||(a="=",i%1);){if(h=ntt(t,i+=3/4),h>255)throw new(Mae("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");l=l<<8|h,n+=Iae(a,63&l>>8-i%1*8)}return n}})});var eB=de((BPt,Rae)=>{"use strict";Rae.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var rB=de((zPt,qae)=>{"use strict";var stt=Sw(),tB=stt("span").classList,Fae=tB&&tB.constructor&&tB.constructor.prototype;qae.exports=Fae===Object.prototype?void 0:Fae});var Uae=de(()=>{"use strict";var Nae=Un(),Bae=eB(),ltt=rB(),nB=OF(),utt=yf(),zae=function(r){if(r&&r.forEach!==nB)try{utt(r,"forEach",nB)}catch{r.forEach=nB}};for(d2 in Bae)Bae[d2]&&zae(Nae[d2]&&Nae[d2].prototype);var d2;zae(ltt)});var $ae=de(()=>{"use strict";var jae=Un(),Wae=eB(),ctt=rB(),OS=Uw(),Hae=yf(),ftt=Vf(),htt=Ho(),iB=htt("iterator"),oB=OS.values,Vae=function(r,e){if(r){if(r[iB]!==oB)try{Hae(r,iB,oB)}catch{r[iB]=oB}if(ftt(r,e,!0),Wae[e]){for(var t in OS)if(r[t]!==OS[t])try{Hae(r,t,OS[t])}catch{r[t]=OS[t]}}}};for(p2 in Wae)Vae(jae[p2]&&jae[p2].prototype,p2);var p2;Vae(ctt,"DOMTokenList")});var aB=de((VPt,Gae)=>{"use strict";var dtt=gg();Gae.exports=function(r){try{if(dtt)return Function('return require("'+r+'")')()}catch{}}});var sB=de(($Pt,Kae)=>{"use strict";Kae.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}});var ose=de(()=>{"use strict";var ptt=Ut(),mtt=aB(),v2=Fs(),dB=rn(),gtt=vh(),pB=od(),y2=ol().f,vtt=Vs(),m2=Ic(),g2=ua(),ytt=Pp(),btt=yo(),Xae=gF(),Yae=J0(),Px=sB(),xtt=FA(),Jae=Vu(),mB=Di(),Qae=Al(),Rx="DOMException",hB="DATA_CLONE_ERR",x2=v2("Error"),Sg=v2(Rx)||function(){try{var r=v2("MessageChannel")||mtt("worker_threads").MessageChannel;new r().port1.postMessage(new WeakMap)}catch(e){if(e.name===hB&&e.code===25)return e.constructor}}(),_tt=Sg&&Sg.prototype,ese=x2.prototype,wtt=Jae.set,Stt=Jae.getterFor(Rx),Ttt="stack"in new x2(Rx),tse=function(r){return g2(Px,r)&&Px[r].m?Px[r].c:0},gB=function(){ytt(this,MS);var e=arguments.length,t=Yae(e<1?void 0:arguments[0]),n=Yae(e<2?void 0:arguments[1],"Error"),i=tse(n);if(wtt(this,{type:Rx,name:n,message:t,code:i}),mB||(this.name=n,this.message=t,this.code=i),Ttt){var a=new x2(t);a.name=Rx,y2(this,"stack",pB(1,xtt(a.stack,1)))}},MS=gB.prototype=gtt(ese),rse=function(r){return{enumerable:!0,configurable:!0,get:r}},lB=function(r){return rse(function(){return Stt(this)[r]})};mB&&(m2(MS,"code",lB("code")),m2(MS,"message",lB("message")),m2(MS,"name",lB("name")));y2(MS,"constructor",pB(1,gB));var _2=dB(function(){return!(new Sg instanceof x2)}),nse=_2||dB(function(){return ese.toString!==Xae||String(new Sg(1,2))!=="2: 1"}),ise=_2||dB(function(){return new Sg(1,"DataCloneError").code!==25}),Ett=_2||Sg[hB]!==25||_tt[hB]!==25,Zae=Qae?nse||ise||Ett:_2;ptt({global:!0,constructor:!0,forced:Zae},{DOMException:Zae?gB:Sg});var LS=v2(Rx),b2=LS.prototype;nse&&(Qae||Sg===LS)&&vtt(b2,"toString",Xae);ise&&mB&&Sg===LS&&m2(b2,"code",rse(function(){return tse(btt(this).name)}));for(uB in Px)g2(Px,uB)&&(cB=Px[uB],IS=cB.s,fB=pB(6,cB.c),g2(LS,IS)||y2(LS,IS,fB),g2(b2,IS)||y2(b2,IS,fB));var cB,IS,fB,uB});var hse=de(()=>{"use strict";var ktt=Ut(),Ctt=Un(),TB=Fs(),wB=od(),SB=ol().f,ase=ua(),Att=Pp(),Dtt=Ev(),sse=J0(),vB=sB(),Ott=FA(),Itt=Di(),cse=Al(),RS="DOMException",fse=TB("Error"),FS=TB(RS),EB=function(){Att(this,Mtt);var e=arguments.length,t=sse(e<1?void 0:arguments[0]),n=sse(e<2?void 0:arguments[1],"Error"),i=new FS(t,n),a=new fse(t);return a.name=RS,SB(i,"stack",wB(1,Ott(a.stack,1))),Dtt(i,this,EB),i},Mtt=EB.prototype=FS.prototype,Ltt="stack"in new fse(RS),Ptt="stack"in new FS(1,2),yB=FS&&Itt&&Object.getOwnPropertyDescriptor(Ctt,RS),Rtt=!!yB&&!(yB.writable&&yB.configurable),lse=Ltt&&!Rtt&&!Ptt;ktt({global:!0,constructor:!0,forced:cse||lse},{DOMException:lse?EB:FS});var PS=TB(RS),use=PS.prototype;if(use.constructor!==PS){cse||SB(use,"constructor",wB(1,PS));for(bB in vB)ase(vB,bB)&&(xB=vB[bB],_B=xB.s,ase(PS,_B)||SB(PS,_B,wB(6,xB.c)))}var xB,_B,bB});var pse=de(()=>{"use strict";var Ftt=Fs(),qtt=Vf(),dse="DOMException";qtt(Ftt(dse),dse)});var gse=de(()=>{"use strict";var Ntt=Ut(),Btt=Un(),mse=lS().clear;Ntt({global:!0,bind:!0,enumerable:!0,forced:Btt.clearImmediate!==mse},{clearImmediate:mse})});var yse=de((tRt,vse)=>{"use strict";vse.exports=typeof Bun=="function"&&Bun&&typeof Bun.version=="string"});var w2=de((rRt,xse)=>{"use strict";var bse=Un(),ztt=$d(),Utt=Xo(),jtt=yse(),Htt=dm(),Wtt=Hd(),Vtt=Gd(),$tt=bse.Function,Gtt=/MSIE .\./.test(Htt)||jtt&&function(){var r=bse.Bun.version.split(".");return r.length<3||r[0]==="0"&&(r[1]<3||r[1]==="3"&&r[2]==="0")}();xse.exports=function(r,e){var t=e?2:1;return Gtt?function(n,i){var a=Vtt(arguments.length,1)>t,l=Utt(n)?n:$tt(n),h=a?Wtt(arguments,t):[],g=a?function(){ztt(l,this,h)}:l;return e?r(g,i):r(g)}:r}});var Tse=de(()=>{"use strict";var Ktt=Ut(),Sse=Un(),_se=lS().set,Ytt=w2(),wse=Sse.setImmediate?Ytt(_se,!1):_se;Ktt({global:!0,bind:!0,enumerable:!0,forced:Sse.setImmediate!==wse},{setImmediate:wse})});var Ese=de(()=>{"use strict";gse();Tse()});var kse=de(()=>{"use strict";var Ztt=Ut(),Xtt=v3(),Jtt=il(),Qtt=Gd();Ztt({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(e){Qtt(arguments.length,1),Xtt(Jtt(e))}})});var Ase=de(()=>{"use strict";var ert=Ut(),Fv=Un(),trt=Ic(),rrt=Di(),nrt=TypeError,irt=Object.defineProperty,Cse=Fv.self!==Fv;try{rrt?(S2=Object.getOwnPropertyDescriptor(Fv,"self"),(Cse||!S2||!S2.get||!S2.enumerable)&&trt(Fv,"self",{get:function(){return Fv},set:function(e){if(this!==Fv)throw new nrt("Illegal invocation");irt(Fv,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})):ert({global:!0,simple:!0,forced:Cse},{self:Fv})}catch{}var S2});var CB=de((fRt,Dse)=>{"use strict";var kB=cn(),T2=Set.prototype;Dse.exports={Set,add:kB(T2.add),has:kB(T2.has),remove:kB(T2.delete),proto:T2}});var Ise=de((hRt,Ose)=>{"use strict";var ort=co();Ose.exports=function(r,e,t){for(var n=t?r:r.iterator,i=r.next,a,l;!(a=ort(i,n)).done;)if(l=e(a.value),l!==void 0)return l}});var qse=de((dRt,Fse)=>{"use strict";var Mse=cn(),art=Ise(),Lse=CB(),srt=Lse.Set,Pse=Lse.proto,lrt=Mse(Pse.forEach),Rse=Mse(Pse.keys),urt=Rse(new srt).next;Fse.exports=function(r,e,t){return t?art({iterator:Rse(r),next:urt},e):lrt(r,e)}});var DB=de((pRt,Bse)=>{"use strict";var crt=Un(),frt=rn(),AB=pm(),hrt=y3(),drt=kD(),prt=gg(),Nse=crt.structuredClone;Bse.exports=!!Nse&&!frt(function(){if(drt&&AB>92||prt&&AB>94||hrt&&AB>97)return!1;var r=new ArrayBuffer(8),e=Nse(r,{transfer:[r]});return r.byteLength!==0||e.byteLength!==8})});var Hse=de((mRt,jse)=>{"use strict";var LB=Un(),mrt=aB(),grt=DB(),vrt=LB.structuredClone,zse=LB.ArrayBuffer,E2=LB.MessageChannel,MB=!1,OB,Use,k2,IB;if(grt)MB=function(r){vrt(r,{transfer:[r]})};else if(zse)try{E2||(OB=mrt("worker_threads"),OB&&(E2=OB.MessageChannel)),E2&&(Use=new E2,k2=new zse(2),IB=function(r){Use.port1.postMessage(null,[r])},k2.byteLength===2&&(IB(k2),k2.byteLength===0&&(MB=IB)))}catch{}jse.exports=MB});var ele=de(()=>{"use strict";var yrt=Al(),brt=Ut(),$c=Un(),NS=Fs(),zS=cn(),BB=rn(),xrt=Hy(),qx=Xo(),_rt=$y(),wrt=Hf(),I2=Fo(),Srt=bv(),Trt=sd(),$se=yo(),D2=Mp(),Ert=ua(),krt=pg(),PB=yf(),C2=Ja(),Crt=Gd(),Art=wx(),M2=Aq(),zB=CB(),Drt=qse(),Wse=Hse(),Ort=fF(),UB=DB(),qS=$c.Object,Irt=$c.Array,Gse=$c.Date,Kse=$c.Error,Mrt=$c.TypeError,Lrt=$c.PerformanceMark,cb=NS("DOMException"),qB=M2.Map,jB=M2.has,Yse=M2.get,O2=M2.set,Zse=zB.Set,Xse=zB.add,Prt=zB.has,Rrt=NS("Object","keys"),Frt=zS([].push),qrt=zS((!0).valueOf),Nrt=zS(1 .valueOf),Brt=zS("".valueOf),zrt=zS(Gse.prototype.getTime),NB=xrt("structuredClone"),BS="DataCloneError",A2="Transferring",Jse=function(r){return!BB(function(){var e=new $c.Set([7]),t=r(e),n=r(qS(7));return t===e||!t.has(7)||!I2(n)||+n!=7})&&r},Vse=function(r,e){return!BB(function(){var t=new e,n=r({a:t,b:t});return!(n&&n.a===n.b&&n.a instanceof e&&n.a.stack===t.stack)})},Urt=function(r){return!BB(function(){var e=r(new $c.AggregateError([1],NB,{cause:3}));return e.name!=="AggregateError"||e.errors[0]!==1||e.message!==NB||e.cause!==3})},Fx=$c.structuredClone,jrt=yrt||!Vse(Fx,Kse)||!Vse(Fx,cb)||!Urt(Fx),Hrt=!Fx&&Jse(function(r){return new Lrt(NB,{detail:r}).detail}),Tg=Jse(Fx)||Hrt,RB=function(r){throw new cb("Uncloneable type: "+r,BS)},wh=function(r,e){throw new cb((e||"Cloning")+" of "+r+" cannot be properly polyfilled in this engine",BS)},FB=function(r,e){return Tg||wh(e),Tg(r)},Wrt=function(){var r;try{r=new $c.DataTransfer}catch{try{r=new $c.ClipboardEvent("").clipboardData}catch{}}return r&&r.items&&r.files?r:null},Qse=function(r,e,t){if(jB(e,r))return Yse(e,r);var n=t||D2(r),i,a,l,h,g,w;if(n==="SharedArrayBuffer")Tg?i=Tg(r):i=r;else{var C=$c.DataView;!C&&!qx(r.slice)&&wh("ArrayBuffer");try{if(qx(r.slice)&&!r.resizable)i=r.slice(0);else for(a=r.byteLength,l=("maxByteLength"in r)?{maxByteLength:r.maxByteLength}:void 0,i=new ArrayBuffer(a,l),h=new C(r),g=new C(i),w=0;w<a;w++)g.setUint8(w,h.getUint8(w))}catch{throw new cb("ArrayBuffer is detached",BS)}}return O2(e,r,i),i},Vrt=function(r,e,t,n,i){var a=$c[e];return I2(a)||wh(e),new a(Qse(r.buffer,i),t,n)},Vc=function(r,e){if(Srt(r)&&RB("Symbol"),!I2(r))return r;if(e){if(jB(e,r))return Yse(e,r)}else e=new qB;var t=D2(r),n,i,a,l,h,g,w,C;switch(t){case"Array":a=Irt(C2(r));break;case"Object":a={};break;case"Map":a=new qB;break;case"Set":a=new Zse;break;case"RegExp":a=new RegExp(r.source,Art(r));break;case"Error":switch(i=r.name,i){case"AggregateError":a=new(NS(i))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":a=new(NS(i));break;case"CompileError":case"LinkError":case"RuntimeError":a=new(NS("WebAssembly",i));break;default:a=new Kse}break;case"DOMException":a=new cb(r.message,r.name);break;case"ArrayBuffer":case"SharedArrayBuffer":a=Qse(r,e,t);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":g=t==="DataView"?r.byteLength:r.length,a=Vrt(r,t,r.byteOffset,g,e);break;case"DOMQuad":try{a=new DOMQuad(Vc(r.p1,e),Vc(r.p2,e),Vc(r.p3,e),Vc(r.p4,e))}catch{a=FB(r,t)}break;case"File":if(Tg)try{a=Tg(r),D2(a)!==t&&(a=void 0)}catch{}if(!a)try{a=new File([r],r.name,r)}catch{}a||wh(t);break;case"FileList":if(l=Wrt(),l){for(h=0,g=C2(r);h<g;h++)l.items.add(Vc(r[h],e));a=l.files}else a=FB(r,t);break;case"ImageData":try{a=new ImageData(Vc(r.data,e),r.width,r.height,{colorSpace:r.colorSpace})}catch{a=FB(r,t)}break;default:if(Tg)a=Tg(r);else switch(t){case"BigInt":a=qS(r.valueOf());break;case"Boolean":a=qS(qrt(r));break;case"Number":a=qS(Nrt(r));break;case"String":a=qS(Brt(r));break;case"Date":a=new Gse(zrt(r));break;case"Blob":try{a=r.slice(0,r.size,r.type)}catch{wh(t)}break;case"DOMPoint":case"DOMPointReadOnly":n=$c[t];try{a=n.fromPoint?n.fromPoint(r):new n(r.x,r.y,r.z,r.w)}catch{wh(t)}break;case"DOMRect":case"DOMRectReadOnly":n=$c[t];try{a=n.fromRect?n.fromRect(r):new n(r.x,r.y,r.width,r.height)}catch{wh(t)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=$c[t];try{a=n.fromMatrix?n.fromMatrix(r):new n(r)}catch{wh(t)}break;case"AudioData":case"VideoFrame":qx(r.clone)||wh(t);try{a=r.clone()}catch{RB(t)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":wh(t);default:RB(t)}}switch(O2(e,r,a),t){case"Array":case"Object":for(w=Rrt(r),h=0,g=C2(w);h<g;h++)C=w[h],krt(a,C,Vc(r[C],e));break;case"Map":r.forEach(function(D,F){O2(a,Vc(F,e),Vc(D,e))});break;case"Set":r.forEach(function(D){Xse(a,Vc(D,e))});break;case"Error":PB(a,"message",Vc(r.message,e)),Ert(r,"cause")&&PB(a,"cause",Vc(r.cause,e)),i==="AggregateError"?a.errors=Vc(r.errors,e):i==="SuppressedError"&&(a.error=Vc(r.error,e),a.suppressed=Vc(r.suppressed,e));case"DOMException":Ort&&PB(a,"stack",Vc(r.stack,e))}return a},$rt=function(r,e){if(!I2(r))throw new Mrt("Transfer option cannot be converted to a sequence");var t=[];Trt(r,function(F){Frt(t,$se(F))});for(var n=0,i=C2(t),a=new Zse,l,h,g,w,C,D;n<i;){if(l=t[n++],h=D2(l),h==="ArrayBuffer"?Prt(a,l):jB(e,l))throw new cb("Duplicate transferable",BS);if(h==="ArrayBuffer"){Xse(a,l);continue}if(UB)w=Fx(l,{transfer:[l]});else switch(h){case"ImageBitmap":g=$c.OffscreenCanvas,_rt(g)||wh(h,A2);try{C=new g(l.width,l.height),D=C.getContext("bitmaprenderer"),D.transferFromImageBitmap(l),w=C.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!qx(l.clone)||!qx(l.close))&&wh(h,A2);try{w=l.clone(),l.close()}catch{}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":wh(h,A2)}if(w===void 0)throw new cb("This object cannot be transferred: "+h,BS);O2(e,l,w)}return a},Grt=function(r){Drt(r,function(e){UB?Tg(e,{transfer:[e]}):qx(e.transfer)?e.transfer():Wse?Wse(e):wh("ArrayBuffer",A2)})};brt({global:!0,enumerable:!0,sham:!UB,forced:jrt},{structuredClone:function(e){var t=Crt(arguments.length,1)>1&&!wrt(arguments[1])?$se(arguments[1]):void 0,n=t?t.transfer:void 0,i,a;n!==void 0&&(i=new qB,a=$rt(n,i));var l=Vc(e,i);return a&&Grt(a),l}})});var nle=de(()=>{"use strict";var Krt=Ut(),rle=Un(),Yrt=w2(),tle=Yrt(rle.setInterval,!0);Krt({global:!0,bind:!0,forced:rle.setInterval!==tle},{setInterval:tle})});var ale=de(()=>{"use strict";var Zrt=Ut(),ole=Un(),Xrt=w2(),ile=Xrt(ole.setTimeout,!0);Zrt({global:!0,bind:!0,forced:ole.setTimeout!==ile},{setTimeout:ile})});var sle=de(()=>{"use strict";nle();ale()});var L2=de((TRt,ule)=>{"use strict";var Jrt=rn(),Qrt=Ho(),ent=Di(),lle=Al(),tnt=Qrt("iterator");ule.exports=!Jrt(function(){var r=new URL("b?a=1&b=2&c=3","http://a"),e=r.searchParams,t=new URLSearchParams("a=1&a=2&b=3"),n="";return r.pathname="c%20d",e.forEach(function(i,a){e.delete("b"),n+=a+i}),t.delete("a",2),t.delete("b",void 0),lle&&(!r.toJSON||!t.has("a",1)||t.has("a",2)||!t.has("a",void 0)||t.has("b"))||!e.size&&(lle||!ent)||!e.sort||r.href!=="http://a/c%20d?a=1&c=3"||e.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!e[tnt]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||n!=="a1c3"||new URL("http://x",void 0).host!=="x"})});var yle=de((ERt,vle)=>{"use strict";var fb=cn(),HB=2147483647,US=36,ple=1,$B=26,rnt=38,nnt=700,int=72,ont=128,ant="-",snt=/[^\0-\u007E]/,mle=/[.\u3002\uFF0E\uFF61]/g,cle="Overflow: input needs wider integers to process",WB=US-ple,fle=RangeError,lnt=fb(mle.exec),Nx=Math.floor,VB=String.fromCharCode,hle=fb("".charCodeAt),gle=fb([].join),qv=fb([].push),unt=fb("".replace),cnt=fb("".split),fnt=fb("".toLowerCase),hnt=function(r){for(var e=[],t=0,n=r.length;t<n;){var i=hle(r,t++);if(i>=55296&&i<=56319&&t<n){var a=hle(r,t++);(a&64512)===56320?qv(e,((i&1023)<<10)+(a&1023)+65536):(qv(e,i),t--)}else qv(e,i)}return e},dle=function(r){return r+22+75*(r<26)},dnt=function(r,e,t){var n=0;for(r=t?Nx(r/nnt):r>>1,r+=Nx(r/e);r>WB*$B>>1;)r=Nx(r/WB),n+=US;return Nx(n+(WB+1)*r/(r+rnt))},pnt=function(r){var e=[];r=hnt(r);var t=r.length,n=ont,i=0,a=int,l,h;for(l=0;l<r.length;l++)h=r[l],h<128&&qv(e,VB(h));var g=e.length,w=g;for(g&&qv(e,ant);w<t;){var C=HB;for(l=0;l<r.length;l++)h=r[l],h>=n&&h<C&&(C=h);var D=w+1;if(C-n>Nx((HB-i)/D))throw new fle(cle);for(i+=(C-n)*D,n=C,l=0;l<r.length;l++){if(h=r[l],h<n&&++i>HB)throw new fle(cle);if(h===n){for(var F=i,z=US;;){var Y=z<=a?ple:z>=a+$B?$B:z-a;if(F<Y)break;var $=F-Y,re=US-Y;qv(e,VB(dle(Y+$%re))),F=Nx($/re),z+=US}qv(e,VB(dle(F))),a=dnt(i,D,w===g),i=0,w++}}i++,n++}return gle(e,"")};vle.exports=function(r){var e=[],t=cnt(unt(fnt(r),mle,"."),"."),n,i;for(n=0;n<t.length;n++)i=t[n],qv(e,lnt(snt,i)?"xn--"+pnt(i):i);return gle(e,".")}});var tz=de((kRt,Ble)=>{"use strict";Uw();var XB=Ut(),N2=Un(),QB=c3(),P2=co(),Tm=cn(),jS=Di(),Ile=L2(),Mle=Vs(),mnt=Ic(),gnt=ix(),vnt=Vf(),ynt=VA(),ez=Vu(),Lle=Pp(),GB=Xo(),bnt=ua(),xnt=Wd(),_nt=Mp(),wnt=yo(),Ple=Fo(),Kf=Qi(),Snt=vh(),ble=od(),xle=Rw(),Tnt=ex(),R2=nx(),Bx=Gd(),Ent=Ho(),knt=XA(),Cnt=Ent("iterator"),Ux="URLSearchParams",Rle=Ux+"Iterator",Fle=ez.set,Kd=ez.getterFor(Ux),Ant=ez.getterFor(Rle),_le=QB("fetch"),q2=QB("Request"),HS=QB("Headers"),KB=q2&&q2.prototype,wle=HS&&HS.prototype,Dnt=N2.RegExp,Ont=N2.TypeError,qle=N2.decodeURIComponent,Int=N2.encodeURIComponent,Mnt=Tm("".charAt),Sle=Tm([].join),hb=Tm([].push),JB=Tm("".replace),Lnt=Tm([].shift),Tle=Tm([].splice),Ele=Tm("".split),Pnt=Tm("".slice),Rnt=/\+/g,kle=Array(4),Fnt=function(r){return kle[r-1]||(kle[r-1]=Dnt("((?:%[\\da-f]{2}){"+r+"})","gi"))},qnt=function(r){try{return qle(r)}catch{return r}},Cle=function(r){var e=JB(r,Rnt," "),t=4;try{return qle(e)}catch{for(;t;)e=JB(e,Fnt(t--),qnt);return e}},Nnt=/[!'()~]|%20/g,Bnt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},znt=function(r){return Bnt[r]},Ale=function(r){return JB(Int(r),Nnt,znt)},YB=ynt(function(e,t){Fle(this,{type:Rle,target:Kd(e).entries,index:0,kind:t})},Ux,function(){var e=Ant(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,R2(void 0,!0);var i=t[n];switch(e.kind){case"keys":return R2(i.key,!1);case"values":return R2(i.value,!1)}return R2([i.key,i.value],!1)},!0),Nle=function(r){this.entries=[],this.url=null,r!==void 0&&(Ple(r)?this.parseObject(r):this.parseQuery(typeof r=="string"?Mnt(r,0)==="?"?Pnt(r,1):r:Kf(r)))};Nle.prototype={type:Ux,bindURL:function(r){this.url=r,this.update()},parseObject:function(r){var e=this.entries,t=Tnt(r),n,i,a,l,h,g,w;if(t)for(n=xle(r,t),i=n.next;!(a=P2(i,n)).done;){if(l=xle(wnt(a.value)),h=l.next,(g=P2(h,l)).done||(w=P2(h,l)).done||!P2(h,l).done)throw new Ont("Expected sequence with length 2");hb(e,{key:Kf(g.value),value:Kf(w.value)})}else for(var C in r)bnt(r,C)&&hb(e,{key:C,value:Kf(r[C])})},parseQuery:function(r){if(r)for(var e=this.entries,t=Ele(r,"&"),n=0,i,a;n<t.length;)i=t[n++],i.length&&(a=Ele(i,"="),hb(e,{key:Cle(Lnt(a)),value:Cle(Sle(a,"="))}))},serialize:function(){for(var r=this.entries,e=[],t=0,n;t<r.length;)n=r[t++],hb(e,Ale(n.key)+"="+Ale(n.value));return Sle(e,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var B2=function(){Lle(this,zx);var e=arguments.length>0?arguments[0]:void 0,t=Fle(this,new Nle(e));jS||(this.size=t.entries.length)},zx=B2.prototype;gnt(zx,{append:function(e,t){var n=Kd(this);Bx(arguments.length,2),hb(n.entries,{key:Kf(e),value:Kf(t)}),jS||this.length++,n.updateURL()},delete:function(r){for(var e=Kd(this),t=Bx(arguments.length,1),n=e.entries,i=Kf(r),a=t<2?void 0:arguments[1],l=a===void 0?a:Kf(a),h=0;h<n.length;){var g=n[h];if(g.key===i&&(l===void 0||g.value===l)){if(Tle(n,h,1),l!==void 0)break}else h++}jS||(this.size=n.length),e.updateURL()},get:function(e){var t=Kd(this).entries;Bx(arguments.length,1);for(var n=Kf(e),i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){var t=Kd(this).entries;Bx(arguments.length,1);for(var n=Kf(e),i=[],a=0;a<t.length;a++)t[a].key===n&&hb(i,t[a].value);return i},has:function(e){for(var t=Kd(this).entries,n=Bx(arguments.length,1),i=Kf(e),a=n<2?void 0:arguments[1],l=a===void 0?a:Kf(a),h=0;h<t.length;){var g=t[h++];if(g.key===i&&(l===void 0||g.value===l))return!0}return!1},set:function(e,t){var n=Kd(this);Bx(arguments.length,1);for(var i=n.entries,a=!1,l=Kf(e),h=Kf(t),g=0,w;g<i.length;g++)w=i[g],w.key===l&&(a?Tle(i,g--,1):(a=!0,w.value=h));a||hb(i,{key:l,value:h}),jS||(this.size=i.length),n.updateURL()},sort:function(){var e=Kd(this);knt(e.entries,function(t,n){return t.key>n.key?1:-1}),e.updateURL()},forEach:function(e){for(var t=Kd(this).entries,n=xnt(e,arguments.length>1?arguments[1]:void 0),i=0,a;i<t.length;)a=t[i++],n(a.value,a.key,this)},keys:function(){return new YB(this,"keys")},values:function(){return new YB(this,"values")},entries:function(){return new YB(this,"entries")}},{enumerable:!0});Mle(zx,Cnt,zx.entries,{name:"entries"});Mle(zx,"toString",function(){return Kd(this).serialize()},{enumerable:!0});jS&&mnt(zx,"size",{get:function(){return Kd(this).entries.length},configurable:!0,enumerable:!0});vnt(B2,Ux);XB({global:!0,constructor:!0,forced:!Ile},{URLSearchParams:B2});!Ile&&GB(HS)&&(Dle=Tm(wle.has),Ole=Tm(wle.set),ZB=function(r){if(Ple(r)){var e=r.body,t;if(_nt(e)===Ux)return t=r.headers?new HS(r.headers):new HS,Dle(t,"content-type")||Ole(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),Snt(r,{body:ble(0,Kf(e)),headers:ble(0,t)})}return r},GB(_le)&&XB({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return _le(e,arguments.length>1?ZB(arguments[1]):{})}}),GB(q2)&&(F2=function(e){return Lle(this,KB),new q2(e,arguments.length>1?ZB(arguments[1]):{})},KB.constructor=F2,F2.prototype=KB,XB({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:F2})));var Dle,Ole,ZB,F2;Ble.exports={URLSearchParams:B2,getState:Kd}});var nue=de(()=>{"use strict";J3();var Unt=Ut(),yz=Di(),jnt=L2(),bz=Un(),zle=Wd(),Qd=cn(),W2=Vs(),Yd=Ic(),Hnt=Pp(),mz=ua(),xz=Gq(),jx=IF(),qp=Hd(),Wnt=gS().codeAt,Vnt=yle(),kg=Qi(),$nt=Vf(),Gnt=Gd(),Xle=tz(),Jle=Vu(),Knt=Jle.set,V2=Jle.getterFor("URL"),Ynt=Xle.URLSearchParams,Znt=Xle.getState,WS=bz.URL,gz=bz.TypeError,$2=bz.parseInt,Xnt=Math.floor,Ule=Math.pow,Jd=Qd("".charAt),Np=Qd(/./.exec),$S=Qd([].join),Jnt=Qd(1 .toString),Qnt=Qd([].pop),Wx=Qd([].push),rz=Qd("".replace),eit=Qd([].shift),tit=Qd("".split),KS=Qd("".slice),G2=Qd("".toLowerCase),rit=Qd([].unshift),nit="Invalid authority",nz="Invalid scheme",db="Invalid host",jle="Invalid port",Qle=/[a-z]/i,iit=/[\d+-.a-z]/i,vz=/\d/,oit=/^0x/i,ait=/^[0-7]+$/,sit=/^\d+$/,eue=/^[\da-f]+$/i,lit=/[\0\t\n\r #%/:<>?@[\\\]^|]/,uit=/[\0\t\n\r #/:<>?@[\\\]^|]/,cit=/^[\u0000-\u0020]+/,fit=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,hit=/[\t\n\r]/g,Zd,dit=function(r){var e=tit(r,"."),t,n,i,a,l,h,g;if(e.length&&e[e.length-1]===""&&e.length--,t=e.length,t>4)return r;for(n=[],i=0;i<t;i++){if(a=e[i],a==="")return r;if(l=10,a.length>1&&Jd(a,0)==="0"&&(l=Np(oit,a)?16:8,a=KS(a,l===8?1:2)),a==="")h=0;else{if(!Np(l===10?sit:l===8?ait:eue,a))return r;h=$2(a,l)}Wx(n,h)}for(i=0;i<t;i++)if(h=n[i],i===t-1){if(h>=Ule(256,5-t))return null}else if(h>255)return null;for(g=Qnt(n),i=0;i<n.length;i++)g+=n[i]*Ule(256,3-i);return g},pit=function(r){var e=[0,0,0,0,0,0,0,0],t=0,n=null,i=0,a,l,h,g,w,C,D,F=function(){return Jd(r,i)};if(F()===":"){if(Jd(r,1)!==":")return;i+=2,t++,n=t}for(;F();){if(t===8)return;if(F()===":"){if(n!==null)return;i++,t++,n=t;continue}for(a=l=0;l<4&&Np(eue,F());)a=a*16+$2(F(),16),i++,l++;if(F()==="."){if(l===0||(i-=l,t>6))return;for(h=0;F();){if(g=null,h>0)if(F()==="."&&h<4)i++;else return;if(!Np(vz,F()))return;for(;Np(vz,F());){if(w=$2(F(),10),g===null)g=w;else{if(g===0)return;g=g*10+w}if(g>255)return;i++}e[t]=e[t]*256+g,h++,(h===2||h===4)&&t++}if(h!==4)return;break}else if(F()===":"){if(i++,!F())return}else if(F())return;e[t++]=a}if(n!==null)for(C=t-n,t=7;t!==0&&C>0;)D=e[t],e[t--]=e[n+C-1],e[n+--C]=D;else if(t!==8)return;return e},mit=function(r){for(var e=null,t=1,n=null,i=0,a=0;a<8;a++)r[a]!==0?(i>t&&(e=n,t=i),n=null,i=0):(n===null&&(n=a),++i);return i>t&&(e=n,t=i),e},VS=function(r){var e,t,n,i;if(typeof r=="number"){for(e=[],t=0;t<4;t++)rit(e,r%256),r=Xnt(r/256);return $S(e,".")}else if(typeof r=="object"){for(e="",n=mit(r),t=0;t<8;t++)i&&r[t]===0||(i&&(i=!1),n===t?(e+=t?":":"::",i=!0):(e+=Jnt(r[t],16),t<7&&(e+=":")));return"["+e+"]"}return r},H2={},tue=xz({},H2,{" ":1,'"':1,"<":1,">":1,"`":1}),rue=xz({},tue,{"#":1,"?":1,"{":1,"}":1}),iz=xz({},rue,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Nv=function(r,e){var t=Wnt(r,0);return t>32&&t<127&&!mz(e,r)?r:encodeURIComponent(r)},z2={ftp:21,file:null,http:80,https:443,ws:80,wss:443},GS=function(r,e){var t;return r.length===2&&Np(Qle,Jd(r,0))&&((t=Jd(r,1))===":"||!e&&t==="|")},Hle=function(r){var e;return r.length>1&&GS(KS(r,0,2))&&(r.length===2||(e=Jd(r,2))==="/"||e==="\\"||e==="?"||e==="#")},git=function(r){return r==="."||G2(r)==="%2e"},vit=function(r){return r=G2(r),r===".."||r==="%2e."||r===".%2e"||r==="%2e%2e"},oz={},Wle={},az={},Vle={},$le={},sz={},Gle={},Kle={},U2={},j2={},lz={},uz={},cz={},fz={},Yle={},hz={},Hx={},Em={},Zle={},pb={},Eg={},_z=function(r,e,t){var n=kg(r),i,a,l;if(e){if(a=this.parse(n),a)throw new gz(a);this.searchParams=null}else{if(t!==void 0&&(i=new _z(t,!0)),a=this.parse(n,null,i),a)throw new gz(a);l=Znt(new Ynt),l.bindURL(this),this.searchParams=l}};_z.prototype={type:"URL",parse:function(r,e,t){var n=this,i=e||oz,a=0,l="",h=!1,g=!1,w=!1,C,D,F,z;for(r=kg(r),e||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,r=rz(r,cit,""),r=rz(r,fit,"$1")),r=rz(r,hit,""),C=jx(r);a<=C.length;){switch(D=C[a],i){case oz:if(D&&Np(Qle,D))l+=G2(D),i=Wle;else{if(e)return nz;i=az;continue}break;case Wle:if(D&&(Np(iit,D)||D==="+"||D==="-"||D==="."))l+=G2(D);else if(D===":"){if(e&&(n.isSpecial()!==mz(z2,l)||l==="file"&&(n.includesCredentials()||n.port!==null)||n.scheme==="file"&&!n.host))return;if(n.scheme=l,e){n.isSpecial()&&z2[n.scheme]===n.port&&(n.port=null);return}l="",n.scheme==="file"?i=fz:n.isSpecial()&&t&&t.scheme===n.scheme?i=Vle:n.isSpecial()?i=Kle:C[a+1]==="/"?(i=$le,a++):(n.cannotBeABaseURL=!0,Wx(n.path,""),i=Zle)}else{if(e)return nz;l="",i=az,a=0;continue}break;case az:if(!t||t.cannotBeABaseURL&&D!=="#")return nz;if(t.cannotBeABaseURL&&D==="#"){n.scheme=t.scheme,n.path=qp(t.path),n.query=t.query,n.fragment="",n.cannotBeABaseURL=!0,i=Eg;break}i=t.scheme==="file"?fz:sz;continue;case Vle:if(D==="/"&&C[a+1]==="/")i=U2,a++;else{i=sz;continue}break;case $le:if(D==="/"){i=j2;break}else{i=Em;continue}case sz:if(n.scheme=t.scheme,D===Zd)n.username=t.username,n.password=t.password,n.host=t.host,n.port=t.port,n.path=qp(t.path),n.query=t.query;else if(D==="/"||D==="\\"&&n.isSpecial())i=Gle;else if(D==="?")n.username=t.username,n.password=t.password,n.host=t.host,n.port=t.port,n.path=qp(t.path),n.query="",i=pb;else if(D==="#")n.username=t.username,n.password=t.password,n.host=t.host,n.port=t.port,n.path=qp(t.path),n.query=t.query,n.fragment="",i=Eg;else{n.username=t.username,n.password=t.password,n.host=t.host,n.port=t.port,n.path=qp(t.path),n.path.length--,i=Em;continue}break;case Gle:if(n.isSpecial()&&(D==="/"||D==="\\"))i=U2;else if(D==="/")i=j2;else{n.username=t.username,n.password=t.password,n.host=t.host,n.port=t.port,i=Em;continue}break;case Kle:if(i=U2,D!=="/"||Jd(l,a+1)!=="/")continue;a++;break;case U2:if(D!=="/"&&D!=="\\"){i=j2;continue}break;case j2:if(D==="@"){h&&(l="%40"+l),h=!0,F=jx(l);for(var Y=0;Y<F.length;Y++){var $=F[Y];if($===":"&&!w){w=!0;continue}var re=Nv($,iz);w?n.password+=re:n.username+=re}l=""}else if(D===Zd||D==="/"||D==="?"||D==="#"||D==="\\"&&n.isSpecial()){if(h&&l==="")return nit;a-=jx(l).length+1,l="",i=lz}else l+=D;break;case lz:case uz:if(e&&n.scheme==="file"){i=hz;continue}else if(D===":"&&!g){if(l==="")return db;if(z=n.parseHost(l),z)return z;if(l="",i=cz,e===uz)return}else if(D===Zd||D==="/"||D==="?"||D==="#"||D==="\\"&&n.isSpecial()){if(n.isSpecial()&&l==="")return db;if(e&&l===""&&(n.includesCredentials()||n.port!==null))return;if(z=n.parseHost(l),z)return z;if(l="",i=Hx,e)return;continue}else D==="["?g=!0:D==="]"&&(g=!1),l+=D;break;case cz:if(Np(vz,D))l+=D;else if(D===Zd||D==="/"||D==="?"||D==="#"||D==="\\"&&n.isSpecial()||e){if(l!==""){var oe=$2(l,10);if(oe>65535)return jle;n.port=n.isSpecial()&&oe===z2[n.scheme]?null:oe,l=""}if(e)return;i=Hx;continue}else return jle;break;case fz:if(n.scheme="file",D==="/"||D==="\\")i=Yle;else if(t&&t.scheme==="file")switch(D){case Zd:n.host=t.host,n.path=qp(t.path),n.query=t.query;break;case"?":n.host=t.host,n.path=qp(t.path),n.query="",i=pb;break;case"#":n.host=t.host,n.path=qp(t.path),n.query=t.query,n.fragment="",i=Eg;break;default:Hle($S(qp(C,a),""))||(n.host=t.host,n.path=qp(t.path),n.shortenPath()),i=Em;continue}else{i=Em;continue}break;case Yle:if(D==="/"||D==="\\"){i=hz;break}t&&t.scheme==="file"&&!Hle($S(qp(C,a),""))&&(GS(t.path[0],!0)?Wx(n.path,t.path[0]):n.host=t.host),i=Em;continue;case hz:if(D===Zd||D==="/"||D==="\\"||D==="?"||D==="#"){if(!e&&GS(l))i=Em;else if(l===""){if(n.host="",e)return;i=Hx}else{if(z=n.parseHost(l),z)return z;if(n.host==="localhost"&&(n.host=""),e)return;l="",i=Hx}continue}else l+=D;break;case Hx:if(n.isSpecial()){if(i=Em,D!=="/"&&D!=="\\")continue}else if(!e&&D==="?")n.query="",i=pb;else if(!e&&D==="#")n.fragment="",i=Eg;else if(D!==Zd&&(i=Em,D!=="/"))continue;break;case Em:if(D===Zd||D==="/"||D==="\\"&&n.isSpecial()||!e&&(D==="?"||D==="#")){if(vit(l)?(n.shortenPath(),D!=="/"&&!(D==="\\"&&n.isSpecial())&&Wx(n.path,"")):git(l)?D!=="/"&&!(D==="\\"&&n.isSpecial())&&Wx(n.path,""):(n.scheme==="file"&&!n.path.length&&GS(l)&&(n.host&&(n.host=""),l=Jd(l,0)+":"),Wx(n.path,l)),l="",n.scheme==="file"&&(D===Zd||D==="?"||D==="#"))for(;n.path.length>1&&n.path[0]==="";)eit(n.path);D==="?"?(n.query="",i=pb):D==="#"&&(n.fragment="",i=Eg)}else l+=Nv(D,rue);break;case Zle:D==="?"?(n.query="",i=pb):D==="#"?(n.fragment="",i=Eg):D!==Zd&&(n.path[0]+=Nv(D,H2));break;case pb:!e&&D==="#"?(n.fragment="",i=Eg):D!==Zd&&(D==="'"&&n.isSpecial()?n.query+="%27":D==="#"?n.query+="%23":n.query+=Nv(D,H2));break;case Eg:D!==Zd&&(n.fragment+=Nv(D,tue));break}a++}},parseHost:function(r){var e,t,n;if(Jd(r,0)==="["){if(Jd(r,r.length-1)!=="]"||(e=pit(KS(r,1,-1)),!e))return db;this.host=e}else if(this.isSpecial()){if(r=Vnt(r),Np(lit,r)||(e=dit(r),e===null))return db;this.host=e}else{if(Np(uit,r))return db;for(e="",t=jx(r),n=0;n<t.length;n++)e+=Nv(t[n],H2);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return mz(z2,this.scheme)},shortenPath:function(){var r=this.path,e=r.length;e&&(this.scheme!=="file"||e!==1||!GS(r[0],!0))&&r.length--},serialize:function(){var r=this,e=r.scheme,t=r.username,n=r.password,i=r.host,a=r.port,l=r.path,h=r.query,g=r.fragment,w=e+":";return i!==null?(w+="//",r.includesCredentials()&&(w+=t+(n?":"+n:"")+"@"),w+=VS(i),a!==null&&(w+=":"+a)):e==="file"&&(w+="//"),w+=r.cannotBeABaseURL?l[0]:l.length?"/"+$S(l,"/"):"",h!==null&&(w+="?"+h),g!==null&&(w+="#"+g),w},setHref:function(r){var e=this.parse(r);if(e)throw new gz(e);this.searchParams.update()},getOrigin:function(){var r=this.scheme,e=this.port;if(r==="blob")try{return new Vx(r.path[0]).origin}catch{return"null"}return r==="file"||!this.isSpecial()?"null":r+"://"+VS(this.host)+(e!==null?":"+e:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(r){this.parse(kg(r)+":",oz)},getUsername:function(){return this.username},setUsername:function(r){var e=jx(kg(r));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var t=0;t<e.length;t++)this.username+=Nv(e[t],iz)}},getPassword:function(){return this.password},setPassword:function(r){var e=jx(kg(r));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var t=0;t<e.length;t++)this.password+=Nv(e[t],iz)}},getHost:function(){var r=this.host,e=this.port;return r===null?"":e===null?VS(r):VS(r)+":"+e},setHost:function(r){this.cannotBeABaseURL||this.parse(r,lz)},getHostname:function(){var r=this.host;return r===null?"":VS(r)},setHostname:function(r){this.cannotBeABaseURL||this.parse(r,uz)},getPort:function(){var r=this.port;return r===null?"":kg(r)},setPort:function(r){this.cannotHaveUsernamePasswordPort()||(r=kg(r),r===""?this.port=null:this.parse(r,cz))},getPathname:function(){var r=this.path;return this.cannotBeABaseURL?r[0]:r.length?"/"+$S(r,"/"):""},setPathname:function(r){this.cannotBeABaseURL||(this.path=[],this.parse(r,Hx))},getSearch:function(){var r=this.query;return r?"?"+r:""},setSearch:function(r){r=kg(r),r===""?this.query=null:(Jd(r,0)==="?"&&(r=KS(r,1)),this.query="",this.parse(r,pb)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var r=this.fragment;return r?"#"+r:""},setHash:function(r){if(r=kg(r),r===""){this.fragment=null;return}Jd(r,0)==="#"&&(r=KS(r,1)),this.fragment="",this.parse(r,Eg)},update:function(){this.query=this.searchParams.serialize()||null}};var Vx=function(e){var t=Hnt(this,Yf),n=Gnt(arguments.length,1)>1?arguments[1]:void 0,i=Knt(t,new _z(e,!1,n));yz||(t.href=i.serialize(),t.origin=i.getOrigin(),t.protocol=i.getProtocol(),t.username=i.getUsername(),t.password=i.getPassword(),t.host=i.getHost(),t.hostname=i.getHostname(),t.port=i.getPort(),t.pathname=i.getPathname(),t.search=i.getSearch(),t.searchParams=i.getSearchParams(),t.hash=i.getHash())},Yf=Vx.prototype,Xd=function(r,e){return{get:function(){return V2(this)[r]()},set:e&&function(t){return V2(this)[e](t)},configurable:!0,enumerable:!0}};yz&&(Yd(Yf,"href",Xd("serialize","setHref")),Yd(Yf,"origin",Xd("getOrigin")),Yd(Yf,"protocol",Xd("getProtocol","setProtocol")),Yd(Yf,"username",Xd("getUsername","setUsername")),Yd(Yf,"password",Xd("getPassword","setPassword")),Yd(Yf,"host",Xd("getHost","setHost")),Yd(Yf,"hostname",Xd("getHostname","setHostname")),Yd(Yf,"port",Xd("getPort","setPort")),Yd(Yf,"pathname",Xd("getPathname","setPathname")),Yd(Yf,"search",Xd("getSearch","setSearch")),Yd(Yf,"searchParams",Xd("getSearchParams")),Yd(Yf,"hash",Xd("getHash","setHash")));W2(Yf,"toJSON",function(){return V2(this).serialize()},{enumerable:!0});W2(Yf,"toString",function(){return V2(this).serialize()},{enumerable:!0});WS&&(dz=WS.createObjectURL,pz=WS.revokeObjectURL,dz&&W2(Vx,"createObjectURL",zle(dz,WS)),pz&&W2(Vx,"revokeObjectURL",zle(pz,WS)));var dz,pz;$nt(Vx,"URL");Unt({global:!0,constructor:!0,forced:!jnt,sham:!yz},{URL:Vx})});var iue=de(()=>{"use strict";nue()});var sue=de(()=>{"use strict";var yit=Ut(),bit=Fs(),xit=rn(),_it=Gd(),oue=Qi(),wit=L2(),aue=bit("URL"),Sit=wit&&xit(function(){aue.canParse()});yit({target:"URL",stat:!0,forced:!Sit},{canParse:function(e){var t=_it(arguments.length,1),n=oue(e),i=t<2||arguments[1]===void 0?void 0:oue(arguments[1]);try{return!!new aue(n,i)}catch{return!1}}})});var lue=de(()=>{"use strict";var Tit=Ut(),Eit=co();Tit({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return Eit(URL.prototype.toString,this)}})});var uue=de(()=>{"use strict";tz()});var due=de(()=>{"use strict";var kit=Vs(),K2=cn(),cue=Qi(),Cit=Gd(),hue=URLSearchParams,Y2=hue.prototype,Ait=K2(Y2.append),fue=K2(Y2.delete),Dit=K2(Y2.forEach),Oit=K2([].push),wz=new hue("a=1&a=2&b=3");wz.delete("a",1);wz.delete("b",void 0);wz+""!="a=2"&&kit(Y2,"delete",function(r){var e=arguments.length,t=e<2?void 0:arguments[1];if(e&&t===void 0)return fue(this,r);var n=[];Dit(this,function(D,F){Oit(n,{key:F,value:D})}),Cit(e,1);for(var i=cue(r),a=cue(t),l=0,h=0,g=!1,w=n.length,C;l<w;)C=n[l++],g||C.key===i?(g=!0,fue(this,C.key)):h++;for(;h<w;)C=n[h++],C.key===i&&C.value===a||Ait(this,C.key,C.value)},{enumerable:!0,unsafe:!0})});var vue=de(()=>{"use strict";var Iit=Vs(),mue=cn(),Mit=Qi(),Lit=Gd(),gue=URLSearchParams,Sz=gue.prototype,Pit=mue(Sz.getAll),Rit=mue(Sz.has),pue=new gue("a=1");(pue.has("a",2)||!pue.has("a",void 0))&&Iit(Sz,"has",function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&n===void 0)return Rit(this,e);var i=Pit(this,e);Lit(t,1);for(var a=Mit(n),l=0;l<i.length;)if(i[l++]===a)return!0;return!1},{enumerable:!0,unsafe:!0})});var yue=de(()=>{"use strict";var Fit=Di(),qit=cn(),Nit=Ic(),Tz=URLSearchParams.prototype,Bit=qit(Tz.forEach);Fit&&!("size"in Tz)&&Nit(Tz,"size",{get:function(){var e=0;return Bit(this,function(){e++}),e},configurable:!0,enumerable:!0})});var xue=de((HRt,bue)=>{"use strict";GV();e7();t7();r7();n7();i7();o7();a7();s7();l7();u7();c7();f7();h7();d7();z7();V7();l$();h$();p$();_$();E$();C$();O$();I$();L$();R$();N$();B$();j$();H$();$$();rG();nG();oG();aG();Uw();CG();IG();MG();PG();FG();UG();HG();VG();KG();YG();fK();pK();mK();vK();_K();wK();SK();TK();EK();CK();iY();gY();EY();CY();AY();OY();LY();PY();WY();VY();ZY();eZ();rZ();lZ();fZ();mZ();gZ();oF();vZ();PZ();FZ();BZ();jZ();WZ();VZ();$Z();YZ();XZ();JZ();eX();rX();iX();oX();aX();sX();cX();dX();pX();mX();kX();CX();OX();MX();LX();PX();RX();FX();jX();ZX();tJ();sJ();cJ();mJ();gJ();bJ();_J();SJ();TJ();OJ();IJ();MJ();RJ();FJ();qJ();BJ();zJ();UJ();HJ();VJ();GJ();YJ();XJ();JJ();QJ();eQ();oQ();aQ();sQ();cQ();fQ();dQ();mQ();Cee();Aee();Oee();Pee();Ree();Fee();Hee();$ee();Gee();Xee();Jee();Qee();ete();tte();rte();nte();lte();cte();fte();Cte();Dte();zD();Rte();qte();zte();Wte();$te();Gte();Xte();rre();ore();sre();ure();J3();wre();Mre();Pre();Rre();Bre();zre();$re();Yre();Jre();nne();ane();lne();hne();gne();_ne();kne();One();Ine();Mne();Lne();Pne();Rne();Fne();qne();Nne();Bne();zne();Une();jne();yie();bie();xie();_ie();wie();Sie();Tie();Eie();kie();Aie();Oie();Mie();Pie();zie();jie();Wie();$ie();Kie();Zie();Xie();Qie();toe();aoe();loe();coe();hoe();poe();goe();yoe();xoe();koe();Aoe();Ooe();Foe();Boe();Woe();Voe();$oe();Koe();Yoe();eae();mae();vae();Dae();Pae();Uae();$ae();ose();hse();pse();Ese();kse();Ase();ele();sle();iue();sue();lue();uue();due();vue();yue();bue.exports=AA()});var _ue=de((Ez,kz)=>{(function(r,e){typeof Ez=="object"&&typeof kz<"u"?kz.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self,r.Chartkick=e())})(Ez,function(){"use strict";function r(se){return Object.prototype.toString.call(se)==="[object Array]"}function e(se){return se instanceof Function}function t(se){return Object.prototype.toString.call(se)==="[object Object]"&&!e(se)&&se instanceof Object}function n(se,ie){var ye;for(ye in ie)ye!=="__proto__"&&(t(ie[ye])||r(ie[ye])?(t(ie[ye])&&!t(se[ye])&&(se[ye]={}),r(ie[ye])&&!r(se[ye])&&(se[ye]=[]),n(se[ye],ie[ye])):ie[ye]!==void 0&&(se[ye]=ie[ye]))}function i(se,ie){var ye={};return n(ye,se),n(ye,ie),ye}var a=/^(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)$/i;function l(se){var ie,ye,Ge;for(ie=0;ie<se.length;ie++)for(Ge=se[ie].data,ye=0;ye<Ge.length;ye++)if(Ge[ye][1]<0)return!0;return!1}function h(se){return""+se}function g(se){return parseFloat(se)}function w(se){var ie,ye,Ge,dt;if(typeof se!="object")if(typeof se=="number")se=new Date(se*1e3);else{if(se=h(se),ie=se.match(a))return ye=parseInt(ie[1],10),Ge=parseInt(ie[3],10)-1,dt=parseInt(ie[5],10),new Date(ye,Ge,dt);var Gt=se.replace(/ /,"T").replace(" ","").replace("UTC","Z");se=new Date(Date.parse(Gt)||se)}return se}function C(se){if(!r(se)){var ie=[],ye;for(ye in se)se.hasOwnProperty(ye)&&ie.push([ye,se[ye]]);se=ie}return se}function D(se,ie,ye,Ge,dt,Gt,tr,Or){return function(Ur,fr,En){var Dn=Ur.data,an=i({},se);return an=i(an,En||{}),(Ur.singleSeriesFormat||"legend"in fr)&&ie(an,fr.legend,Ur.singleSeriesFormat),fr.title&&ye(an,fr.title),"min"in fr?Ge(an,fr.min):l(Dn)||Ge(an,0),fr.max&&dt(an,fr.max),"stacked"in fr&&Gt(an,fr.stacked),fr.colors&&(an.colors=fr.colors),fr.xtitle&&tr(an,fr.xtitle),fr.ytitle&&Or(an,fr.ytitle),an=i(an,fr.library||{}),an}}function F(se,ie){return se[0].getTime()-ie[0].getTime()}function z(se,ie){return se[0]-ie[0]}function Y(se,ie){return se-ie}function $(se){return se.getMilliseconds()===0&&se.getSeconds()===0}function re(se){return $(se)&&se.getMinutes()===0}function oe(se){return re(se)&&se.getHours()===0}function ne(se,ie){return oe(se)&&se.getDay()===ie}function he(se){return oe(se)&&se.getDate()===1}function _(se){return he(se)&&se.getMonth()===0}function ge(se){return!isNaN(w(se))&&h(se).length>=6}function fe(se){return typeof se=="number"}var me=["bytes","KB","MB","GB","TB","PB","EB"];function we(se,ie,ye,Ge){se=se||"",ye.prefix&&(ie<0&&(ie=ie*-1,se+="-"),se+=ye.prefix);var dt=ye.suffix||"",Gt=ye.precision,tr=ye.round;if(ye.byteScale){var Or,Ur=Ge?ye.byteScale:ie;Ur>=1152921504606847e3?(ie/=1152921504606847e3,Or=6):Ur>=0x4000000000000?(ie/=0x4000000000000,Or=5):Ur>=1099511627776?(ie/=1099511627776,Or=4):Ur>=1073741824?(ie/=1073741824,Or=3):Ur>=1048576?(ie/=1048576,Or=2):Ur>=1024?(ie/=1024,Or=1):Or=0,Gt===void 0&&tr===void 0&&(ie>=1023.5&&Or<me.length-1&&(ie=1,Or+=1),Gt=ie>=1e3?4:3),dt=" "+me[Or]}if(Gt!==void 0&&tr!==void 0)throw Error("Use either round or precision, not both");if(!Ge&&(Gt!==void 0&&(ie=ie.toPrecision(Gt),ye.zeros||(ie=parseFloat(ie))),tr!==void 0))if(tr<0){var fr=Math.pow(10,-1*tr);ie=parseInt((1*ie/fr).toFixed(0))*fr}else ie=ie.toFixed(tr),ye.zeros||(ie=parseFloat(ie));if(ye.thousands||ye.decimal){ie=h(ie);var En=ie.split(".");ie=En[0],ye.thousands&&(ie=ie.replace(/\B(?=(\d{3})+(?!\d))/g,ye.thousands)),En.length>1&&(ie+=(ye.decimal||".")+En[1])}return se+ie+dt}function Se(se,ie,ye){return ye in ie?ie[ye]:ye in se.options?se.options[ye]:null}function be(se){var ie,ye,Ge;for(ie=0;ie<se.length;ie++)for(Ge=se[ie].data,ye=0;ye<Ge.length;ye++)if(Ge[ye][1]!=0)return!1;return!0}var $e={maintainAspectRatio:!1,animation:!1,plugins:{legend:{},tooltip:{displayColors:!1,callbacks:{}},title:{font:{size:20},color:"#333"}},interaction:{}},q={scales:{y:{ticks:{maxTicksLimit:4},title:{font:{size:16},color:"#333"},grid:{}},x:{grid:{drawOnChartArea:!1},title:{font:{size:16},color:"#333"},time:{},ticks:{}}}},ee=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#651067"],R=function(se,ie,ye){ie!==void 0?(se.plugins.legend.display=!!ie,ie&&ie!==!0&&(se.plugins.legend.position=ie)):ye&&(se.plugins.legend.display=!1)},j=function(se,ie){se.plugins.title.display=!0,se.plugins.title.text=ie},G=function(se,ie){ie!==null&&(se.scales.y.min=g(ie))},V=function(se,ie){se.scales.y.max=g(ie)},te=function(se,ie){ie!==null&&(se.scales.x.min=g(ie))},_e=function(se,ie){se.scales.x.max=g(ie)},K=function(se,ie){se.scales.x.stacked=!!ie,se.scales.y.stacked=!!ie},U=function(se,ie){se.scales.x.title.display=!0,se.scales.x.title.text=ie},Ue=function(se,ie){se.scales.y.title.display=!0,se.scales.y.title.text=ie},Je=function(se,ie){var ye=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(se);return ye?"rgba("+parseInt(ye[1],16)+", "+parseInt(ye[2],16)+", "+parseInt(ye[3],16)+", "+ie+")":se},Qe=function(se){return se!=null},Ct=function(se,ie,ye){var Ge=Math.ceil(se.element.offsetWidth/4/ie.labels.length);Ge>25?Ge=25:Ge<10&&(Ge=10),ye.scales.x.ticks.callback||(ye.scales.x.ticks.callback=function(dt){return dt=h(this.getLabelForValue(dt)),dt.length>Ge?dt.substring(0,Ge-2)+"...":dt})},Tt=function(se,ie,ye){var Ge={prefix:se.options.prefix,suffix:se.options.suffix,thousands:se.options.thousands,decimal:se.options.decimal,precision:se.options.precision,round:se.options.round,zeros:se.options.zeros};if(se.options.bytes){var dt=se.data;ye==="pie"&&(dt=[{data:dt}]);for(var Gt=0,tr=0;tr<dt.length;tr++)for(var Or=dt[tr],Ur=0;Ur<Or.data.length;Ur++)Or.data[Ur][1]>Gt&&(Gt=Or.data[Ur][1]);for(var fr=1;Gt>=1024;)fr*=1024,Gt/=1024;Ge.byteScale=fr}if(ye!=="pie"){var En=ie.scales.y;ye==="bar"&&(En=ie.scales.x),Ge.byteScale&&(En.ticks.stepSize||(En.ticks.stepSize=Ge.byteScale/2),En.ticks.maxTicksLimit||(En.ticks.maxTicksLimit=4)),En.ticks.callback||(En.ticks.callback=function(an){return we("",an,Ge,!0)})}if(!ie.plugins.tooltip.callbacks.label)if(ye==="scatter")ie.plugins.tooltip.callbacks.label=function(an){var Qr=an.dataset.label||"";return Qr&&(Qr+=": "),Qr+"("+an.label+", "+an.formattedValue+")"};else if(ye==="bubble")ie.plugins.tooltip.callbacks.label=function(an){var Qr=an.dataset.label||"";Qr&&(Qr+=": ");var sn=an.raw;return Qr+"("+sn.x+", "+sn.y+", "+sn.v+")"};else if(ye==="pie")ie.plugins.tooltip.callbacks.label=function(an){var Qr=an.label,sn=": ";return r(Qr)?(Qr=Qr.slice(),Qr[0]+=sn):Qr+=sn,we(Qr,an.parsed,Ge)};else{var Dn=ye==="bar"?"x":"y";ie.plugins.tooltip.callbacks.label=function(an){if(an.parsed[Dn]!==null){var Qr=an.dataset.label||"";return Qr&&(Qr+=": "),we(Qr,an.parsed[Dn],Ge)}}}},Ht=D(i($e,q),R,j,G,V,K,U,Ue),Rt=function(se,ie,ye){var Ge=[],dt=[],Gt=se.options.colors||ee,tr=!0,Or=!0,Ur,fr=!0,En=!0,Dn=!0,an=!0,Qr=se.data,sn=0;if(ye==="bubble")for(var Xn=0;Xn<Qr.length;Xn++)for(var zo=Qr[Xn],As=0;As<zo.data.length;As++)zo.data[As][2]>sn&&(sn=zo.data[As][2]);var ei,Ci,ya,ql,Gi,Bs=[],ho=[];if(ye==="bar"||ye==="column"||se.xtype!=="number"&&se.xtype!=="bubble"){var Ki=[];for(ei=0;ei<Qr.length;ei++)for(ya=Qr[ei],Ci=0;Ci<ya.data.length;Ci++)ql=ya.data[Ci],Gi=se.xtype=="datetime"?ql[0].getTime():ql[0],Bs[Gi]||(Bs[Gi]=new Array(Qr.length)),Bs[Gi][ei]=g(ql[1]),Ki.indexOf(Gi)===-1&&Ki.push(Gi);for((se.xtype==="datetime"||se.xtype==="number")&&Ki.sort(Y),Ci=0;Ci<Qr.length;Ci++)ho.push([]);var Do,ii;for(ii=0;ii<Ki.length;ii++)for(ei=Ki[ii],se.xtype==="datetime"?(Do=new Date(g(ei)),tr=tr&&oe(Do),Ur||(Ur=Do.getDay()),Or=Or&&ne(Do,Ur),fr=fr&&he(Do),En=En&&_(Do),Dn=Dn&&re(Do),an=an&&$(Do)):Do=ei,dt.push(Do),Ci=0;Ci<Qr.length;Ci++)ho[Ci].push(Bs[ei][Ci]===void 0?null:Bs[ei][Ci])}else for(var Pa=0;Pa<Qr.length;Pa++){for(var Ua=Qr[Pa],ku=[],ro=0;ro<Ua.data.length;ro++){var Qc={x:g(Ua.data[ro][0]),y:g(Ua.data[ro][1])};ye==="bubble"&&(Qc.r=g(Ua.data[ro][2])*20/sn,Qc.v=Ua.data[ro][2]),ku.push(Qc)}ho.push(ku)}var ba,Oo;for(ei=0;ei<Qr.length;ei++){if(ya=Qr[ei],se.options.colors&&se.singleSeriesFormat&&(ye==="bar"||ye==="column")&&!ya.color&&r(se.options.colors)&&!r(se.options.colors[0])){ba=Gt,Oo=[];for(var ts=0;ts<Gt.length;ts++)Oo[ts]=Je(ba[ts],.5)}else ba=ya.color||Gt[ei],Oo=ye!=="line"?Je(ba,.5):ba;var Ai={label:ya.name||"",data:ho[ei],fill:ye==="area",borderColor:ba,backgroundColor:Oo,borderWidth:2},gn=ye==="line"||ye==="area"||ye==="scatter"||ye==="bubble";gn&&(Ai.pointBackgroundColor=ba,Ai.pointHoverBackgroundColor=ba,Ai.pointHitRadius=50),ye==="bubble"&&(Ai.pointBackgroundColor=Oo,Ai.pointHoverBackgroundColor=Oo,Ai.pointHoverBorderWidth=2),ya.stack&&(Ai.stack=ya.stack);var Vt=Se(se,ya,"curve");Vt===!1?Ai.tension=0:gn&&(Ai.tension=.4);var jr=Se(se,ya,"points");jr===!1&&(Ai.pointRadius=0,Ai.pointHoverRadius=0),Ai=i(Ai,se.options.dataset||{}),Ai=i(Ai,ya.library||{}),Ai=i(Ai,ya.dataset||{}),Ge.push(Ai)}var un=se.options.xmin,Cn=se.options.xmax;if(se.xtype==="datetime"?(Qe(un)&&(ie.scales.x.min=w(un).getTime()),Qe(Cn)&&(ie.scales.x.max=w(Cn).getTime())):se.xtype==="number"&&(Qe(un)&&(ie.scales.x.min=un),Qe(Cn)&&(ie.scales.x.max=Cn)),se.xtype==="datetime"&&dt.length===0&&(Qe(un)&&dt.push(w(un)),Qe(Cn)&&dt.push(w(Cn)),tr=!1,Or=!1,fr=!1,En=!1,Dn=!1,an=!1),se.xtype==="datetime"&&dt.length>0){var Gn=(Qe(un)?w(un):dt[0]).getTime(),Vo=(Qe(Cn)?w(Cn):dt[0]).getTime();for(ei=1;ei<dt.length;ei++){var xa=dt[ei].getTime();xa<Gn&&(Gn=xa),xa>Vo&&(Vo=xa)}var ps=(Vo-Gn)/(86400*1e3);if(!ie.scales.x.time.unit){var no;if(En||ps>365*10?(ie.scales.x.time.unit="year",no=365):fr||ps>30*10?(ie.scales.x.time.unit="month",no=30):tr||ps>10?(ie.scales.x.time.unit="day",no=1):Dn||ps>.5?(ie.scales.x.time.displayFormats={hour:"MMM d, h a"},ie.scales.x.time.unit="hour",no=1/24):an&&(ie.scales.x.time.displayFormats={minute:"h:mm a"},ie.scales.x.time.unit="minute",no=1/24/60),no&&ps>0){var ja=se.element.offsetWidth;if(ja>0){var ou=Math.ceil(ps/no/(ja/100));Or&&no===1&&(ou=Math.ceil(ou/7)*7),ie.scales.x.time.stepSize=ou}}}ie.scales.x.time.tooltipFormat||(tr?ie.scales.x.time.tooltipFormat="PP":Dn?ie.scales.x.time.tooltipFormat="MMM d, h a":an&&(ie.scales.x.time.tooltipFormat="h:mm a"))}var rs={labels:dt,datasets:Ge};return rs},Yt=function(ie){this.name="chartjs",this.library=ie};Yt.prototype.renderLineChart=function(ie,ye){var Ge={};!ie.options.max&&be(ie.data)&&(Ge.max=1);var dt=Ht(ie,i(Ge,ie.options));Tt(ie,dt,ye);var Gt=Rt(ie,dt,ye||"line");ie.xtype==="number"?(dt.scales.x.type=dt.scales.x.type||"linear",dt.scales.x.position=dt.scales.x.position||"bottom"):dt.scales.x.type=ie.xtype==="string"?"category":"time",this.drawChart(ie,"line",Gt,dt)},Yt.prototype.renderPieChart=function(ie){var ye=i({},$e);ie.options.donut&&(ye.cutout="50%"),"legend"in ie.options&&R(ye,ie.options.legend),ie.options.title&&j(ye,ie.options.title),ye=i(ye,ie.options.library||{}),Tt(ie,ye,"pie");for(var Ge=[],dt=[],Gt=0;Gt<ie.data.length;Gt++){var tr=ie.data[Gt];Ge.push(tr[0]),dt.push(tr[1])}var Or={data:dt,backgroundColor:ie.options.colors||ee};Or=i(Or,ie.options.dataset||{});var Ur={labels:Ge,datasets:[Or]};this.drawChart(ie,"pie",Ur,ye)},Yt.prototype.renderColumnChart=function(ie,ye){var Ge;if(ye==="bar"){var dt=i($e,q);dt.indexAxis="y",dt.scales.x.grid.drawOnChartArea=!0,dt.scales.y.grid.drawOnChartArea=!1,delete dt.scales.y.ticks.maxTicksLimit,Ge=D(dt,R,j,te,_e,K,U,Ue)(ie,ie.options)}else Ge=Ht(ie,ie.options);Tt(ie,Ge,ye);var Gt=Rt(ie,Ge,"column");ye!=="bar"&&Ct(ie,Gt,Ge),this.drawChart(ie,"bar",Gt,Ge)},Yt.prototype.renderAreaChart=function(ie){this.renderLineChart(ie,"area")},Yt.prototype.renderBarChart=function(ie){this.renderColumnChart(ie,"bar")},Yt.prototype.renderScatterChart=function(ie,ye){ye=ye||"scatter";var Ge=Ht(ie,ie.options);Tt(ie,Ge,ye),"showLine"in Ge||(Ge.showLine=!1);var dt=Rt(ie,Ge,ye);Ge.scales.x.type=Ge.scales.x.type||"linear",Ge.scales.x.position=Ge.scales.x.position||"bottom","mode"in Ge.interaction||(Ge.interaction.mode="nearest"),this.drawChart(ie,ye,dt,Ge)},Yt.prototype.renderBubbleChart=function(ie){this.renderScatterChart(ie,"bubble")},Yt.prototype.destroy=function(ie){ie.chart&&ie.chart.destroy()},Yt.prototype.drawChart=function(ie,ye,Ge,dt){if(this.destroy(ie),!ie.destroyed){var Gt={type:ye,data:Ge,options:dt};ie.options.code&&window.console.log("new Chart(ctx, "+JSON.stringify(Gt)+");"),ie.element.innerHTML="<canvas></canvas>";var tr=ie.element.getElementsByTagName("CANVAS")[0];ie.chart=new this.library(tr,Gt)}};var cr={chart:{},xAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},area:{},series:{marker:{}}},time:{useUTC:!1}},Tr=function(se,ie,ye){ie!==void 0?(se.legend.enabled=!!ie,ie&&ie!==!0&&(ie==="top"||ie==="bottom"?se.legend.verticalAlign=ie:(se.legend.layout="vertical",se.legend.verticalAlign="middle",se.legend.align=ie))):ye&&(se.legend.enabled=!1)},ir=function(se,ie){se.title.text=ie},At=function(se,ie){se.yAxis.min=ie},kt=function(se,ie){se.yAxis.max=ie},rt=function(se,ie){var ye=ie?ie===!0?"normal":ie:null;se.plotOptions.series.stacking=ye,se.plotOptions.area.stacking=ye,se.plotOptions.areaspline.stacking=ye},ce=function(se,ie){se.xAxis.title.text=ie},Te=function(se,ie){se.yAxis.title.text=ie},Ne=D(cr,Tr,ir,At,kt,rt,ce,Te),Wt=function(se,ie,ye){var Ge={prefix:se.options.prefix,suffix:se.options.suffix,thousands:se.options.thousands,decimal:se.options.decimal,precision:se.options.precision,round:se.options.round,zeros:se.options.zeros};ye!=="pie"&&!r(ie.yAxis)&&!ie.yAxis.labels.formatter&&(ie.yAxis.labels.formatter=function(){return we("",this.value,Ge)}),!ie.tooltip.pointFormatter&&!ie.tooltip.pointFormat&&(ie.tooltip.pointFormatter=function(){return'<span style="color:'+this.color+'">\u25CF</span> '+we(this.series.name+": <b>",this.y,Ge)+"</b><br/>"})},ft=function(ie){this.name="highcharts",this.library=ie};ft.prototype.renderLineChart=function(ie,ye){ye=ye||"spline";var Ge={};ye==="areaspline"&&(Ge={plotOptions:{areaspline:{stacking:"normal"},area:{stacking:"normal"},series:{marker:{enabled:!1}}}}),ie.options.curve===!1&&(ye==="areaspline"?ye="area":ye==="spline"&&(ye="line"));var dt=Ne(ie,ie.options,Ge),Gt,tr,Or;ie.xtype==="number"?dt.xAxis.type=dt.xAxis.type||"linear":dt.xAxis.type=ie.xtype==="string"?"category":"datetime",dt.chart.type||(dt.chart.type=ye),Wt(ie,dt,ye);var Ur=ie.data;for(tr=0;tr<Ur.length;tr++){if(Ur[tr].name=Ur[tr].name||"Value",Gt=Ur[tr].data,ie.xtype==="datetime")for(Or=0;Or<Gt.length;Or++)Gt[Or][0]=Gt[Or][0].getTime();Ur[tr].marker={symbol:"circle"},ie.options.points===!1&&(Ur[tr].marker.enabled=!1)}this.drawChart(ie,Ur,dt)},ft.prototype.renderScatterChart=function(ie){var ye=Ne(ie,ie.options,{});ye.chart.type="scatter",this.drawChart(ie,ie.data,ye)},ft.prototype.renderPieChart=function(ie){var ye=i(cr,{});ie.options.colors&&(ye.colors=ie.options.colors),ie.options.donut&&(ye.plotOptions={pie:{innerSize:"50%"}}),"legend"in ie.options&&Tr(ye,ie.options.legend),ie.options.title&&ir(ye,ie.options.title);var Ge=i(ye,ie.options.library||{});Wt(ie,Ge,"pie");var dt=[{type:"pie",name:ie.options.label||"Value",data:ie.data}];this.drawChart(ie,dt,Ge)},ft.prototype.renderColumnChart=function(ie,ye){ye=ye||"column";var Ge=ie.data,dt=Ne(ie,ie.options),Gt,tr,Or,Ur,fr=[],En=[];for(dt.chart.type=ye,Wt(ie,dt,ye),Gt=0;Gt<Ge.length;Gt++)for(Or=Ge[Gt],tr=0;tr<Or.data.length;tr++)Ur=Or.data[tr],fr[Ur[0]]||(fr[Ur[0]]=new Array(Ge.length),En.push(Ur[0])),fr[Ur[0]][Gt]=Ur[1];ie.xtype==="number"&&En.sort(Y),dt.xAxis.categories=En;var Dn=[],an;for(Gt=0;Gt<Ge.length;Gt++){for(Ur=[],tr=0;tr<En.length;tr++)Ur.push(fr[En[tr]][Gt]||0);an={name:Ge[Gt].name||"Value",data:Ur},Ge[Gt].stack&&(an.stack=Ge[Gt].stack),Dn.push(an)}this.drawChart(ie,Dn,dt)},ft.prototype.renderBarChart=function(ie){this.renderColumnChart(ie,"bar")},ft.prototype.renderAreaChart=function(ie){this.renderLineChart(ie,"areaspline")},ft.prototype.destroy=function(ie){ie.chart&&ie.chart.destroy()},ft.prototype.drawChart=function(ie,ye,Ge){this.destroy(ie),!ie.destroyed&&(Ge.chart.renderTo=ie.element.id,Ge.series=ye,ie.options.code&&window.console.log("new Highcharts.Chart("+JSON.stringify(Ge)+");"),ie.chart=new this.library.Chart(Ge))};var qt={},Nt=[],vr={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}},_r=function(se,ie,ye){if(ie!==void 0){var Ge;ie?ie===!0?Ge="right":Ge=ie:Ge="none",se.legend.position=Ge}else ye&&(se.legend.position="none")},Dr=function(se,ie){se.title=ie,se.titleTextStyle={color:"#333",fontSize:"20px"}},kr=function(se,ie){se.vAxis.viewWindow.min=ie},et=function(se,ie){se.vAxis.viewWindow.max=ie},pt=function(se,ie){se.hAxis.viewWindow.min=ie},er=function(se,ie){se.hAxis.viewWindow.max=ie},Lr=function(se,ie){se.isStacked=ie||!1},ki=function(se,ie){se.hAxis.title=ie,se.hAxis.titleTextStyle.italic=!1},zr=function(se,ie){se.vAxis.title=ie,se.vAxis.titleTextStyle.italic=!1},$n=D(vr,_r,Dr,kr,et,Lr,ki,zr),Dt=function(se){window.attachEvent?window.attachEvent("onresize",se):window.addEventListener&&window.addEventListener("resize",se,!0),se()},Et=function(ie){this.name="google",this.library=ie};Et.prototype.renderLineChart=function(ie){var ye=this;this.waitForLoaded(ie,function(){var Ge={};ie.options.curve===!1&&(Ge.curveType="none"),ie.options.points===!1&&(Ge.pointSize=0);var dt=$n(ie,ie.options,Ge),Gt=ye.createDataTable(ie.data,ie.xtype);ye.drawChart(ie,"LineChart",Gt,dt)})},Et.prototype.renderPieChart=function(ie){var ye=this;this.waitForLoaded(ie,function(){var Ge={chartArea:{top:"10%",height:"80%"},legend:{}};ie.options.colors&&(Ge.colors=ie.options.colors),ie.options.donut&&(Ge.pieHole=.5),"legend"in ie.options&&_r(Ge,ie.options.legend),ie.options.title&&Dr(Ge,ie.options.title);var dt=i(i(vr,Ge),ie.options.library||{}),Gt=new ye.library.visualization.DataTable;Gt.addColumn("string",""),Gt.addColumn("number","Value"),Gt.addRows(ie.data),ye.drawChart(ie,"PieChart",Gt,dt)})},Et.prototype.renderColumnChart=function(ie){var ye=this;this.waitForLoaded(ie,function(){var Ge=$n(ie,ie.options),dt=ye.createDataTable(ie.data,ie.xtype);ye.drawChart(ie,"ColumnChart",dt,Ge)})},Et.prototype.renderBarChart=function(ie){var ye=this;this.waitForLoaded(ie,function(){var Ge={hAxis:{gridlines:{color:"#ccc"}}},dt=D(vr,_r,Dr,pt,er,Lr,ki,zr)(ie,ie.options,Ge),Gt=ye.createDataTable(ie.data,ie.xtype);ye.drawChart(ie,"BarChart",Gt,dt)})},Et.prototype.renderAreaChart=function(ie){var ye=this;this.waitForLoaded(ie,function(){var Ge={isStacked:!0,pointSize:0,areaOpacity:.5},dt=$n(ie,ie.options,Ge),Gt=ye.createDataTable(ie.data,ie.xtype);ye.drawChart(ie,"AreaChart",Gt,dt)})},Et.prototype.renderGeoChart=function(ie){var ye=this;this.waitForLoaded(ie,"geochart",function(){var Ge={legend:"none",colorAxis:{colors:ie.options.colors||["#f6c7b6","#ce502d"]}},dt=i(i(vr,Ge),ie.options.library||{}),Gt=new ye.library.visualization.DataTable;Gt.addColumn("string",""),Gt.addColumn("number",ie.options.label||"Value"),Gt.addRows(ie.data),ye.drawChart(ie,"GeoChart",Gt,dt)})},Et.prototype.renderScatterChart=function(ie){var ye=this;this.waitForLoaded(ie,function(){var Ge={},dt=$n(ie,ie.options,Ge),Gt=ie.data,tr=[],Or,Ur,fr,En;for(Or=0;Or<Gt.length;Or++)for(Gt[Or].name=Gt[Or].name||"Value",En=Gt[Or].data,Ur=0;Ur<En.length;Ur++){var Dn=new Array(Gt.length+1);Dn[0]=En[Ur][0],Dn[Or+1]=En[Ur][1],tr.push(Dn)}for(fr=new ye.library.visualization.DataTable,fr.addColumn("number",""),Or=0;Or<Gt.length;Or++)fr.addColumn("number",Gt[Or].name);fr.addRows(tr),ye.drawChart(ie,"ScatterChart",fr,dt)})},Et.prototype.renderTimeline=function(ie){var ye=this;this.waitForLoaded(ie,"timeline",function(){var Ge={legend:"none"};ie.options.colors&&(Ge.colors=ie.options.colors);var dt=i(i(vr,Ge),ie.options.library||{}),Gt=new ye.library.visualization.DataTable;Gt.addColumn({type:"string",id:"Name"}),Gt.addColumn({type:"date",id:"Start"}),Gt.addColumn({type:"date",id:"End"}),Gt.addRows(ie.data),ie.element.style.lineHeight="normal",ye.drawChart(ie,"Timeline",Gt,dt)})},Et.prototype.destroy=function(ie){ie.chart&&ie.chart.clearChart()},Et.prototype.drawChart=function(ie,ye,Ge,dt){this.destroy(ie),!ie.destroyed&&(ie.options.code&&window.console.log("var data = new google.visualization.DataTable("+Ge.toJSON()+`);
var chart = new google.visualization.`+ye+`(element);
chart.draw(data, `+JSON.stringify(dt)+");"),ie.chart=new this.library.visualization[ye](ie.element),Dt(function(){ie.chart.draw(Ge,dt)}))},Et.prototype.waitForLoaded=function(ie,ye,Ge){var dt=this;if(Ge||(Ge=ye,ye="corechart"),Nt.push({pack:ye,callback:Ge}),qt[ye])this.runCallbacks();else{qt[ye]=!0;var Gt={packages:[ye],callback:function(){dt.runCallbacks()}},tr=ie.__config();tr.language&&(Gt.language=tr.language),ye==="geochart"&&tr.mapsApiKey&&(Gt.mapsApiKey=tr.mapsApiKey),this.library.charts.load("current",Gt)}},Et.prototype.runCallbacks=function(){for(var ie,ye,Ge=0;Ge<Nt.length;Ge++)ie=Nt[Ge],ye=this.library.visualization&&(ie.pack==="corechart"&&this.library.visualization.LineChart||ie.pack==="timeline"&&this.library.visualization.Timeline||ie.pack==="geochart"&&this.library.visualization.GeoChart),ye&&(ie.callback(),Nt.splice(Ge,1),Ge--)},Et.prototype.createDataTable=function(ie,ye){var Ge,dt,Gt,tr,Or,Ur=[],fr=[];for(Ge=0;Ge<ie.length;Ge++)for(Gt=ie[Ge],ie[Ge].name=ie[Ge].name||"Value",dt=0;dt<Gt.data.length;dt++)tr=Gt.data[dt],Or=ye==="datetime"?tr[0].getTime():tr[0],Ur[Or]||(Ur[Or]=new Array(ie.length),fr.push(Or)),Ur[Or][Ge]=g(tr[1]);var En=[],Dn=!0,an;for(dt=0;dt<fr.length;dt++)Ge=fr[dt],ye==="datetime"?(an=new Date(g(Ge)),Dn=Dn&&oe(an)):ye==="number"?an=g(Ge):an=Ge,En.push([an].concat(Ur[Ge]));if(ye==="datetime")En.sort(F);else if(ye==="number"){for(En.sort(z),Ge=0;Ge<En.length;Ge++)En[Ge][0]=h(En[Ge][0]);ye="string"}var Qr=new this.library.visualization.DataTable;for(ye=ye==="datetime"&&Dn?"date":ye,Qr.addColumn(ye,""),Ge=0;Ge<ie.length;Ge++)Qr.addColumn("number",ie[Ge].name);return Qr.addRows(En),Qr};function Er(se,ie){var ye=[],Ge,dt;if(ie==="number"?dt=g:ie==="datetime"?dt=w:dt=h,ie==="bubble")for(Ge=0;Ge<se.length;Ge++)ye.push([g(se[Ge][0]),g(se[Ge][1]),g(se[Ge][2])]);else for(Ge=0;Ge<se.length;Ge++)ye.push([dt(se[Ge][0]),g(se[Ge][1])]);return ie==="datetime"?ye.sort(F):ie==="number"&&ye.sort(z),ye}function on(se,ie,ye){return fo(se)?(ye.xmin||ye.xmax)&&(!ye.xmin||ge(ye.xmin))&&(!ye.xmax||ge(ye.xmax))?"datetime":"number":Vr(se,fe)?"number":!ie&&Vr(se,ge)?"datetime":"string"}function Vr(se,ie){var ye,Ge,dt;for(ye=0;ye<se.length;ye++)for(dt=C(se[ye].data),Ge=0;Ge<dt.length;Ge++)if(!ie(dt[Ge][0]))return!1;return!0}function yn(se){var ie=[],ye,Ge;for(ye=0;ye<se.length;ye++){var dt={};for(Ge in se[ye])se[ye].hasOwnProperty(Ge)&&(dt[Ge]=se[ye][Ge]);ie.push(dt)}return ie}function Rn(se,ie,ye){var Ge,dt=se.options,Gt=se.rawData;for(se.singleSeriesFormat=!r(Gt)||typeof Gt[0]!="object"||r(Gt[0]),se.singleSeriesFormat&&(Gt=[{name:dt.label,data:Gt}]),Gt=yn(Gt),Ge=0;Ge<Gt.length;Ge++)Gt[Ge].data=C(Gt[Ge].data);for(se.xtype=ie||(dt.discrete?"string":on(Gt,ye,dt)),Ge=0;Ge<Gt.length;Ge++)Gt[Ge].data=Er(Gt[Ge].data,se.xtype);return Gt}function mi(se){var ie=C(se.rawData),ye;for(ye=0;ye<ie.length;ye++)ie[ye]=[h(ie[ye][0]),g(ie[ye][1])];return ie}function fo(se,ie){if(ie==="PieChart"||ie==="GeoChart"||ie==="Timeline")return se.length===0;for(var ye=0;ye<se.length;ye++)if(se[ye].data.length>0)return!1;return!0}function gi(se){var ie=se.element,ye=document.createElement("a"),Ge=se.options.download;Ge===!0?Ge={}:typeof Ge=="string"&&(Ge={filename:Ge}),ye.download=Ge.filename||"chart.png",ye.style.position="absolute",ye.style.top="20px",ye.style.right="20px",ye.style.zIndex=1e3,ye.style.lineHeight="20px",ye.target="_blank";var dt=document.createElement("img");dt.alt="Download",dt.style.border="none",dt.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABCFBMVEUAAADMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMywEsqxAAAAV3RSTlMAAQIDBggJCgsMDQ4PERQaHB0eISIjJCouLzE0OTo/QUJHSUpLTU5PUllhYmltcHh5foWLjI+SlaCio6atr7S1t7m6vsHHyM7R2tze5Obo7fHz9ff5+/1hlxK2AAAA30lEQVQYGUXBhVYCQQBA0TdYWAt2d3d3YWAHyur7/z9xgD16Lw0DW+XKx+1GgX+FRzM3HWQWrHl5N/oapW5RPe0PkBu+UYeICvozTWZVK23Ao04B79oJrOsJDOoxkZoQPWgX29pHpCZEk7rEvQYiNSFq1UMqvlCjJkRBS1R8hb00Vb/TajtBL7nTHE1X1vyMQF732dQhyF2o6SAwrzP06iUQzvwsArlnzcOdrgBhJyHa1QOgO9U1GsKuvjUTjavliZYQ8nNPapG6sap/3nrIdJ6bOWzmX/fy0XVpfzZP3S8OJT3g9EEiJwAAAABJRU5ErkJggg==",ye.appendChild(dt),ie.style.position="relative",se.__downloadAttached=!0,se.__enterEvent=Xe(ie,"mouseover",function(Gt){var tr=Gt.relatedTarget;(!tr||tr!==this&&!Mt(this,tr))&&se.options.download&&(ye.href=se.toImage(Ge),ie.appendChild(ye))}),se.__leaveEvent=Xe(ie,"mouseout",function(Gt){var tr=Gt.relatedTarget;(!tr||tr!==this&&!Mt(this,tr))&&ye.parentNode&&ye.parentNode.removeChild(ye)})}function Xe(se,ie,ye){if(se.addEventListener)return se.addEventListener(ie,ye,!1),ye;var Ge=function(){return ye.call(se,window.event)};return se.attachEvent("on"+ie,Ge),Ge}function st(se,ie,ye){se.removeEventListener?se.removeEventListener(ie,ye,!1):se.detachEvent("on"+ie,ye)}function Mt(se,ie){if(se===ie)return!1;for(;ie&&ie!==se;)ie=ie.parentNode;return ie===se}var nr=[],Pr=0,qr=4;function Nn(se,ie,ye){nr.push([se,ie,ye]),Nr()}function Nr(){if(Pr<qr){var se=nr.shift();se&&(Pr++,Fr(se[0],se[1],se[2]),Nr())}}function Fn(){Pr--,Nr()}function Fr(se,ie,ye){mn(se,ie,function(Ge,dt,Gt){var tr=typeof Gt=="string"?Gt:Gt.message;ye(tr)})}function mn(se,ie,ye){var Ge=window.jQuery||window.Zepto||window.$;if(Ge&&Ge.ajax)Ge.ajax({dataType:"json",url:se,success:ie,error:ye,complete:Fn});else{var dt=new XMLHttpRequest;dt.open("GET",se,!0),dt.setRequestHeader("Content-Type","application/json"),dt.onload=function(){Fn(),dt.status===200?ie(JSON.parse(dt.responseText),dt.statusText,dt):ye(dt,"error",dt.statusText)},dt.send()}}var bn={},vi=[];function Ri(se,ie){document.body.innerText?se.innerText=ie:se.textContent=ie}function La(se,ie,ye){ye||(ie="Error Loading Chart: "+ie),Ri(se,ie),se.style.color="#ff0000"}function li(se){try{se.__render()}catch(ie){throw La(se.element,ie.message),ie}}function ke(se,ie,ye){if(ye&&se.options.loading&&(typeof ie=="string"||typeof ie=="function")&&Ri(se.element,se.options.loading),typeof ie=="string")Nn(ie,function(Ge){se.rawData=Ge,li(se)},function(Ge){La(se.element,Ge)});else if(typeof ie=="function")try{ie(function(Ge){se.rawData=Ge,li(se)},function(Ge){La(se.element,Ge,!0)})}catch(Ge){La(se.element,Ge,!0)}else se.rawData=ie,li(se)}function Ie(se){if(se){if(se.product==="Highcharts")return ft;if(se.charts)return Et;if(e(se))return Yt}throw new Error("Unknown adapter")}function Fe(se){var ie=Ie(se),ye=new ie(se);vi.indexOf(ye)===-1&&vi.push(ye)}function Ye(){"Chart"in window&&Fe(window.Chart),"Highcharts"in window&&Fe(window.Highcharts),window.google&&window.google.charts&&Fe(window.google)}function ot(se,ie){if(fo(ie.data,se)){var ye=ie.options.empty||ie.options.messages&&ie.options.messages.empty||"No data";Ri(ie.element,ye)}else yt(se,ie),ie.options.download&&!ie.__downloadAttached&&ie.adapter==="chartjs"&&gi(ie)}function yt(se,ie){var ye,Ge,dt,Gt;for(dt="render"+se,Gt=ie.options.adapter,Ye(),ye=0;ye<vi.length;ye++)if(Ge=vi[ye],(!Gt||Gt===Ge.name)&&e(Ge[dt]))return ie.adapter=Ge.name,ie.__adapterObject=Ge,Ge[dt](ie);throw vi.length>0?new Error("No charting library found for "+se):new Error("No charting libraries found - be sure to include one before your charts")}var mt=function(ie,ye,Ge){var dt;if(typeof ie=="string"&&(dt=ie,ie=document.getElementById(ie),!ie))throw new Error("No element with id "+dt);this.element=ie,this.options=i(Pe.options,Ge||{}),this.dataSource=ye,Pe.charts[ie.id]=this,ke(this,ye,!0),this.options.refresh&&this.startRefresh()};mt.prototype.getElement=function(){return this.element},mt.prototype.getDataSource=function(){return this.dataSource},mt.prototype.getData=function(){return this.data},mt.prototype.getOptions=function(){return this.options},mt.prototype.getChartObject=function(){return this.chart},mt.prototype.getAdapter=function(){return this.adapter},mt.prototype.updateData=function(ie,ye){this.dataSource=ie,ye&&this.__updateOptions(ye),ke(this,ie,!0)},mt.prototype.setOptions=function(ie){this.__updateOptions(ie),this.redraw()},mt.prototype.redraw=function(){ke(this,this.rawData)},mt.prototype.refreshData=function(){if(typeof this.dataSource=="string"){var ie=this.dataSource.indexOf("?")===-1?"?":"&",ye=this.dataSource+ie+"_="+new Date().getTime();ke(this,ye)}else typeof this.dataSource=="function"&&ke(this,this.dataSource)},mt.prototype.startRefresh=function(){var ie=this,ye=this.options.refresh;if(ye&&typeof this.dataSource!="string"&&typeof this.dataSource!="function")throw new Error("Data source must be a URL or callback for refresh");if(!this.intervalId)if(ye)this.intervalId=setInterval(function(){ie.refreshData()},ye*1e3);else throw new Error("No refresh interval")},mt.prototype.stopRefresh=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},mt.prototype.toImage=function(ie){if(this.adapter==="chartjs")if(ie&&ie.background&&ie.background!=="transparent"){var ye=this.chart.canvas,Ge=this.chart.ctx,dt=document.createElement("canvas"),Gt=dt.getContext("2d");return dt.width=Ge.canvas.width,dt.height=Ge.canvas.height,Gt.fillStyle=ie.background,Gt.fillRect(0,0,dt.width,dt.height),Gt.drawImage(ye,0,0),dt.toDataURL("image/png")}else return this.chart.toBase64Image();else throw new Error("Feature only available for Chart.js")},mt.prototype.destroy=function(){this.destroyed=!0,this.stopRefresh(),this.__adapterObject&&this.__adapterObject.destroy(this),this.__enterEvent&&st(this.element,"mouseover",this.__enterEvent),this.__leaveEvent&&st(this.element,"mouseout",this.__leaveEvent)},mt.prototype.__updateOptions=function(ie){var ye=ie.refresh&&ie.refresh!==this.options.refresh;this.options=i(Pe.options,ie),ye&&(this.stopRefresh(),this.startRefresh())},mt.prototype.__render=function(){this.data=this.__processData(),ot(this.__chartName(),this)},mt.prototype.__config=function(){return bn};var qe=function(se){function ie(){se.apply(this,arguments)}return se&&(ie.__proto__=se),ie.prototype=Object.create(se&&se.prototype),ie.prototype.constructor=ie,ie.prototype.__processData=function(){return Rn(this)},ie.prototype.__chartName=function(){return"LineChart"},ie}(mt),Ke=function(se){function ie(){se.apply(this,arguments)}return se&&(ie.__proto__=se),ie.prototype=Object.create(se&&se.prototype),ie.prototype.constructor=ie,ie.prototype.__processData=function(){return mi(this)},ie.prototype.__chartName=function(){return"PieChart"},ie}(mt),Ot=function(se){function ie(){se.apply(this,arguments)}return se&&(ie.__proto__=se),ie.prototype=Object.create(se&&se.prototype),ie.prototype.constructor=ie,ie.prototype.__processData=function(){return Rn(this,null,!0)},ie.prototype.__chartName=function(){return"ColumnChart"},ie}(mt),lr=function(se){function ie(){se.apply(this,arguments)}return se&&(ie.__proto__=se),ie.prototype=Object.create(se&&se.prototype),ie.prototype.constructor=ie,ie.prototype.__processData=function(){return Rn(this,null,!0)},ie.prototype.__chartName=function(){return"BarChart"},ie}(mt),jt=function(se){function ie(){se.apply(this,arguments)}return se&&(ie.__proto__=se),ie.prototype=Object.create(se&&se.prototype),ie.prototype.constructor=ie,ie.prototype.__processData=function(){return Rn(this)},ie.prototype.__chartName=function(){return"AreaChart"},ie}(mt),Bt=function(se){function ie(){se.apply(this,arguments)}return se&&(ie.__proto__=se),ie.prototype=Object.create(se&&se.prototype),ie.prototype.constructor=ie,ie.prototype.__processData=function(){return mi(this)},ie.prototype.__chartName=function(){return"GeoChart"},ie}(mt),hr=function(se){function ie(){se.apply(this,arguments)}return se&&(ie.__proto__=se),ie.prototype=Object.create(se&&se.prototype),ie.prototype.constructor=ie,ie.prototype.__processData=function(){return Rn(this,"number")},ie.prototype.__chartName=function(){return"ScatterChart"},ie}(mt),Ae=function(se){function ie(){se.apply(this,arguments)}return se&&(ie.__proto__=se),ie.prototype=Object.create(se&&se.prototype),ie.prototype.constructor=ie,ie.prototype.__processData=function(){return Rn(this,"bubble")},ie.prototype.__chartName=function(){return"BubbleChart"},ie}(mt),je=function(se){function ie(){se.apply(this,arguments)}return se&&(ie.__proto__=se),ie.prototype=Object.create(se&&se.prototype),ie.prototype.constructor=ie,ie.prototype.__processData=function(){var Ge,dt=this.rawData;for(Ge=0;Ge<dt.length;Ge++)dt[Ge][1]=w(dt[Ge][1]),dt[Ge][2]=w(dt[Ge][2]);return dt},ie.prototype.__chartName=function(){return"Timeline"},ie}(mt),Pe={LineChart:qe,PieChart:Ke,ColumnChart:Ot,BarChart:lr,AreaChart:jt,GeoChart:Bt,ScatterChart:hr,BubbleChart:Ae,Timeline:je,charts:{},configure:function(se){for(var ie in se)se.hasOwnProperty(ie)&&(bn[ie]=se[ie])},setDefaultOptions:function(se){Pe.options=se},eachChart:function(se){for(var ie in Pe.charts)Pe.charts.hasOwnProperty(ie)&&se(Pe.charts[ie])},destroyAll:function(){for(var se in Pe.charts)Pe.charts.hasOwnProperty(se)&&(Pe.charts[se].destroy(),delete Pe.charts[se])},config:bn,options:{},adapters:vi,addAdapter:Fe,use:function(se){return Fe(se),Pe}};return typeof window<"u"&&!window.Chartkick&&(window.Chartkick=Pe,document.addEventListener("turbolinks:before-render",function(){bn.autoDestroy!==!1&&Pe.destroyAll()}),document.addEventListener("turbo:before-render",function(){bn.autoDestroy!==!1&&Pe.destroyAll()}),setTimeout(function(){window.dispatchEvent(new Event("chartkick:load"))},0)),Pe.default=Pe,Pe})});function Lz(r,e,t){let n=t||(l=>Array.prototype.slice.call(l)),i=!1,a=[];return function(...l){a=n(l),i||(i=!0,Mz.call(window,()=>{i=!1,r.apply(e,a)}))}}function Fue(r,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(r,e,n)):r.apply(this,n),e}}function km(){}function ca(r){return r===null||typeof r>"u"}function Ts(r){if(Array.isArray&&Array.isArray(r))return!0;let e=Object.prototype.toString.call(r);return e.substr(0,7)==="[object"&&e.substr(-6)==="Array]"}function Wo(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}function fd(r,e){return tu(r)?r:e}function eo(r,e){return typeof r>"u"?e:r}function Es(r,e,t){if(r&&typeof r.call=="function")return r.apply(t,e)}function za(r,e,t,n){let i,a,l;if(Ts(r))if(a=r.length,n)for(i=a-1;i>=0;i--)e.call(t,r[i],i);else for(i=0;i<a;i++)e.call(t,r[i],i);else if(Wo(r))for(l=Object.keys(r),a=l.length,i=0;i<a;i++)e.call(t,r[l[i]],l[i])}function eT(r,e){let t,n,i,a;if(!r||!e||r.length!==e.length)return!1;for(t=0,n=r.length;t<n;++t)if(i=r[t],a=e[t],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function tO(r){if(Ts(r))return r.map(tO);if(Wo(r)){let e=Object.create(null),t=Object.keys(r),n=t.length,i=0;for(;i<n;++i)e[t[i]]=tO(r[t[i]]);return e}return r}function zue(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function zit(r,e,t,n){if(!zue(r))return;let i=e[r],a=t[r];Wo(i)&&Wo(a)?Gx(i,a,n):e[r]=tO(a)}function Gx(r,e,t){let n=Ts(e)?e:[e],i=n.length;if(!Wo(r))return r;t=t||{};let a=t.merger||zit;for(let l=0;l<i;++l){if(e=n[l],!Wo(e))continue;let h=Object.keys(e);for(let g=0,w=h.length;g<w;++g)a(h[g],r,e,t)}return r}function Zx(r,e){return Gx(r,e,{merger:Uit})}function Uit(r,e,t){if(!zue(r))return;let n=e[r],i=t[r];Wo(n)&&Wo(i)?Zx(n,i):Object.prototype.hasOwnProperty.call(e,r)||(e[r]=tO(i))}function wue(r,e){let t=r.indexOf(Hit,e);return t===-1?r.length:t}function Uv(r,e){if(e===jit)return r;let t=0,n=wue(e,t);for(;r&&n>t;)r=r[e.substr(t,n-t)],t=n+1,n=wue(e,t);return r}function aO(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Uue(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}function Fz(r){let e=Math.round(r);r=Jx(r,e,r/1e3)?e:r;let t=Math.pow(10,Math.floor(hd(r))),n=r/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function jue(r){let e=[],t=Math.sqrt(r),n;for(n=1;n<t;n++)r%n===0&&(e.push(n),e.push(r/n));return t===(t|0)&&e.push(t),e.sort((i,a)=>i-a).pop(),e}function Xx(r){return!isNaN(parseFloat(r))&&isFinite(r)}function Jx(r,e,t){return Math.abs(r-e)<t}function Hue(r,e){let t=Math.round(r);return t-e<=r&&t+e>=r}function qz(r,e,t){let n,i,a;for(n=0,i=r.length;n<i;n++)a=r[n][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function tp(r){return r*($s/180)}function sO(r){return r*(180/$s)}function Nz(r){if(!tu(r))return;let e=1,t=0;for(;Math.round(r*e)/e!==r;)e*=10,t++;return t}function Bz(r,e){let t=e.x-r.x,n=e.y-r.y,i=Math.sqrt(t*t+n*n),a=Math.atan2(n,t);return a<-.5*$s&&(a+=ds),{angle:a,distance:i}}function nO(r,e){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function $it(r,e){return(r-e+Wit)%ds-$s}function Sh(r){return(r%ds+ds)%ds}function Qx(r,e,t,n){let i=Sh(r),a=Sh(e),l=Sh(t),h=Sh(a-i),g=Sh(l-i),w=Sh(i-a),C=Sh(i-l);return i===a||i===l||n&&a===l||h>g&&w<C}function mc(r,e,t){return Math.max(e,Math.min(t,r))}function Wue(r){return mc(r,-32768,32767)}function Cm(r,e,t,n=1e-6){return r>=Math.min(e,t)-n&&r<=Math.max(e,t)+n}function Yit(r){return X2(r.r)&&X2(r.g)&&X2(r.b)&&X2(r.a)}function Zit(r){var e=r.length,t;return r[0]==="#"&&(e===4||e===5?t={r:255&ep[r[1]]*17,g:255&ep[r[2]]*17,b:255&ep[r[3]]*17,a:e===5?ep[r[4]]*17:255}:(e===7||e===9)&&(t={r:ep[r[1]]<<4|ep[r[2]],g:ep[r[3]]<<4|ep[r[4]],b:ep[r[5]]<<4|ep[r[6]],a:e===9?ep[r[7]]<<4|ep[r[8]]:255})),t}function Xit(r){var e=Yit(r)?Git:Kit;return r&&"#"+e(r.r)+e(r.g)+e(r.b)+(r.a<255?e(r.a):"")}function tT(r){return r+.5|0}function ZS(r){return lO(tT(r*2.55),0,255)}function JS(r){return lO(tT(r*255),0,255)}function zz(r){return lO(tT(r/2.55)/100,0,1)}function kue(r){return lO(tT(r*100),0,100)}function Qit(r){let e=Jit.exec(r),t=255,n,i,a;if(!!e){if(e[7]!==n){let l=+e[7];t=255&(e[8]?ZS(l):l*255)}return n=+e[1],i=+e[3],a=+e[5],n=255&(e[2]?ZS(n):n),i=255&(e[4]?ZS(i):i),a=255&(e[6]?ZS(a):a),{r:n,g:i,b:a,a:t}}}function eot(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${zz(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}function Vue(r,e,t){let n=e*Math.min(t,1-t),i=(a,l=(a+r/30)%12)=>t-n*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function rot(r,e,t){let n=(i,a=(i+r/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function not(r,e,t){let n=Vue(r,1,.5),i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)n[i]*=1-e-t,n[i]+=e;return n}function Uz(r){let t=r.r/255,n=r.g/255,i=r.b/255,a=Math.max(t,n,i),l=Math.min(t,n,i),h=(a+l)/2,g,w,C;return a!==l&&(C=a-l,w=h>.5?C/(2-a-l):C/(a+l),g=a===t?(n-i)/C+(n<i?6:0):a===n?(i-t)/C+2:(t-n)/C+4,g=g*60+.5),[g|0,w||0,h]}function jz(r,e,t,n){return(Array.isArray(e)?r(e[0],e[1],e[2]):r(e,t,n)).map(JS)}function Hz(r,e,t){return jz(Vue,r,e,t)}function iot(r,e,t){return jz(not,r,e,t)}function oot(r,e,t){return jz(rot,r,e,t)}function $ue(r){return(r%360+360)%360}function aot(r){let e=tot.exec(r),t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?ZS(+e[5]):JS(+e[5]));let i=$ue(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?n=iot(i,a,l):e[1]==="hsv"?n=oot(i,a,l):n=Hz(i,a,l),{r:n[0],g:n[1],b:n[2],a:t}}function sot(r,e){var t=Uz(r);t[0]=$ue(t[0]+e),t=Hz(t),r.r=t[0],r.g=t[1],r.b=t[2]}function lot(r){if(!r)return;let e=Uz(r),t=e[0],n=kue(e[1]),i=kue(e[2]);return r.a<255?`hsla(${t}, ${n}%, ${i}%, ${zz(r.a)})`:`hsl(${t}, ${n}%, ${i}%)`}function uot(){let r={},e=Object.keys(Aue),t=Object.keys(Cue),n,i,a,l,h;for(n=0;n<e.length;n++){for(l=h=e[n],i=0;i<t.length;i++)a=t[i],h=h.replace(a,Cue[a]);a=parseInt(Aue[l],16),r[h]=[a>>16&255,a>>8&255,a&255]}return r}function cot(r){J2||(J2=uot(),J2.transparent=[0,0,0,0]);let e=J2[r.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}function Q2(r,e,t){if(r){let n=Uz(r);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=Hz(n),r.r=n[0],r.g=n[1],r.b=n[2]}}function Gue(r,e){return r&&Object.assign(e||{},r)}function Due(r){var e={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(e={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(e.a=JS(r[3]))):(e=Gue(r,{r:0,g:0,b:0,a:1}),e.a=JS(e.a)),e}function fot(r){return r.charAt(0)==="r"?Qit(r):aot(r)}function Kue(r){return new Kx(r)}function Wz(r){return Yue(r)?r:Kue(r)}function Cz(r){return Yue(r)?r:Kue(r).saturate(.5).darken(.1).hexString()}function XS(r,e){if(!e)return r;let t=e.split(".");for(let n=0,i=t.length;n<i;++n){let a=t[n];r=r[a]||(r[a]=Object.create(null))}return r}function Az(r,e,t){return typeof e=="string"?Gx(XS(r,e),t):Gx(XS(r,""),e)}function hot(r){return!r||ca(r.size)||ca(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function QS(r,e,t,n,i){let a=e[i];return a||(a=e[i]=r.measureText(i).width,t.push(i)),a>n&&(n=a),n}function Zue(r,e,t,n){n=n||{};let i=n.data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},a=n.garbageCollect=[],n.font=e),r.save(),r.font=e;let l=0,h=t.length,g,w,C,D,F;for(g=0;g<h;g++)if(D=t[g],D!=null&&Ts(D)!==!0)l=QS(r,i,a,l,D);else if(Ts(D))for(w=0,C=D.length;w<C;w++)F=D[w],F!=null&&!Ts(F)&&(l=QS(r,i,a,l,F));r.restore();let z=a.length/2;if(z>t.length){for(g=0;g<z;g++)delete i[a[g]];a.splice(0,z)}return l}function Hv(r,e,t){let n=r.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*n)/n+i}function Vz(r,e){e=e||r.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,r.width,r.height),e.restore()}function rT(r,e,t,n){let i,a,l,h,g,w=e.pointStyle,C=e.rotation,D=e.radius,F=(C||0)*Vit;if(w&&typeof w=="object"&&(i=w.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){r.save(),r.translate(t,n),r.rotate(F),r.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),r.restore();return}if(!(isNaN(D)||D<=0)){switch(r.beginPath(),w){default:r.arc(t,n,D,0,ds),r.closePath();break;case"triangle":r.moveTo(t+Math.sin(F)*D,n-Math.cos(F)*D),F+=Sue,r.lineTo(t+Math.sin(F)*D,n-Math.cos(F)*D),F+=Sue,r.lineTo(t+Math.sin(F)*D,n-Math.cos(F)*D),r.closePath();break;case"rectRounded":g=D*.516,h=D-g,a=Math.cos(F+YS)*h,l=Math.sin(F+YS)*h,r.arc(t-a,n-l,g,F-$s,F-Dl),r.arc(t+l,n-a,g,F-Dl,F),r.arc(t+a,n+l,g,F,F+Dl),r.arc(t-l,n+a,g,F+Dl,F+$s),r.closePath();break;case"rect":if(!C){h=Math.SQRT1_2*D,r.rect(t-h,n-h,2*h,2*h);break}F+=YS;case"rectRot":a=Math.cos(F)*D,l=Math.sin(F)*D,r.moveTo(t-a,n-l),r.lineTo(t+l,n-a),r.lineTo(t+a,n+l),r.lineTo(t-l,n+a),r.closePath();break;case"crossRot":F+=YS;case"cross":a=Math.cos(F)*D,l=Math.sin(F)*D,r.moveTo(t-a,n-l),r.lineTo(t+a,n+l),r.moveTo(t+l,n-a),r.lineTo(t-l,n+a);break;case"star":a=Math.cos(F)*D,l=Math.sin(F)*D,r.moveTo(t-a,n-l),r.lineTo(t+a,n+l),r.moveTo(t+l,n-a),r.lineTo(t-l,n+a),F+=YS,a=Math.cos(F)*D,l=Math.sin(F)*D,r.moveTo(t-a,n-l),r.lineTo(t+a,n+l),r.moveTo(t+l,n-a),r.lineTo(t-l,n+a);break;case"line":a=Math.cos(F)*D,l=Math.sin(F)*D,r.moveTo(t-a,n-l),r.lineTo(t+a,n+l);break;case"dash":r.moveTo(t,n),r.lineTo(t+Math.cos(F)*D,n+Math.sin(F)*D);break}r.fill(),e.borderWidth>0&&r.stroke()}}function zv(r,e,t){return t=t||.5,!e||r&&r.x>e.left-t&&r.x<e.right+t&&r.y>e.top-t&&r.y<e.bottom+t}function nT(r,e){r.save(),r.beginPath(),r.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),r.clip()}function iT(r){r.restore()}function Xue(r,e,t,n,i){if(!e)return r.lineTo(t.x,t.y);if(i==="middle"){let a=(e.x+t.x)/2;r.lineTo(a,e.y),r.lineTo(a,t.y)}else i==="after"!=!!n?r.lineTo(e.x,t.y):r.lineTo(t.x,e.y);r.lineTo(t.x,t.y)}function Jue(r,e,t,n){if(!e)return r.lineTo(t.x,t.y);r.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function Wv(r,e,t,n,i,a={}){let l=Ts(e)?e:[e],h=a.strokeWidth>0&&a.strokeColor!=="",g,w;for(r.save(),r.font=i.string,dot(r,a),g=0;g<l.length;++g)w=l[g],h&&(a.strokeColor&&(r.strokeStyle=a.strokeColor),ca(a.strokeWidth)||(r.lineWidth=a.strokeWidth),r.strokeText(w,t,n,a.maxWidth)),r.fillText(w,t,n,a.maxWidth),pot(r,t,n,w,a),n+=i.lineHeight;r.restore()}function dot(r,e){e.translation&&r.translate(e.translation[0],e.translation[1]),ca(e.rotation)||r.rotate(e.rotation),e.color&&(r.fillStyle=e.color),e.textAlign&&(r.textAlign=e.textAlign),e.textBaseline&&(r.textBaseline=e.textBaseline)}function pot(r,e,t,n,i){if(i.strikethrough||i.underline){let a=r.measureText(n),l=e-a.actualBoundingBoxLeft,h=e+a.actualBoundingBoxRight,g=t-a.actualBoundingBoxAscent,w=t+a.actualBoundingBoxDescent,C=i.strikethrough?(g+w)/2:w;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=i.decorationWidth||2,r.moveTo(l,C),r.lineTo(h,C),r.stroke()}}function oT(r,e){let{x:t,y:n,w:i,h:a,radius:l}=e;r.arc(t+l.topLeft,n+l.topLeft,l.topLeft,-Dl,$s,!0),r.lineTo(t,n+a-l.bottomLeft),r.arc(t+l.bottomLeft,n+a-l.bottomLeft,l.bottomLeft,$s,Dl,!0),r.lineTo(t+i-l.bottomRight,n+a),r.arc(t+i-l.bottomRight,n+a-l.bottomRight,l.bottomRight,Dl,0,!0),r.lineTo(t+i,n+l.topRight),r.arc(t+i-l.topRight,n+l.topRight,l.topRight,0,-Dl,!0),r.lineTo(t+l.topLeft,n)}function vot(r,e){let t=(""+r).match(mot);if(!t||t[1]==="normal")return e*1.2;switch(r=+t[2],t[3]){case"px":return r;case"%":r/=100;break}return e*r}function cO(r,e){let t={},n=Wo(e),i=n?Object.keys(e):e,a=Wo(r)?n?l=>eo(r[l],r[e[l]]):l=>r[l]:()=>r;for(let l of i)t[l]=yot(a(l));return t}function $z(r){return cO(r,{top:"y",right:"x",bottom:"y",left:"x"})}function vb(r){return cO(r,["topLeft","topRight","bottomLeft","bottomRight"])}function Kc(r){let e=$z(r);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function $u(r,e){r=r||{},e=e||No.font;let t=eo(r.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=eo(r.style,e.style);n&&!(""+n).match(got)&&(console.warn('Invalid font style specified: "'+n+'"'),n="");let i={family:eo(r.family,e.family),lineHeight:vot(eo(r.lineHeight,e.lineHeight),t),size:t,style:n,weight:eo(r.weight,e.weight),string:""};return i.string=hot(i),i}function e_(r,e,t,n){let i=!0,a,l,h;for(a=0,l=r.length;a<l;++a)if(h=r[a],h!==void 0&&(e!==void 0&&typeof h=="function"&&(h=h(e),i=!1),t!==void 0&&Ts(h)&&(h=h[t%h.length],i=!1),h!==void 0))return n&&!i&&(n.cacheable=!1),h}function Que(r,e,t){let{min:n,max:i}=r,a=Pz(e,(i-n)/2),l=(h,g)=>t&&h===0?0:h+g;return{min:l(n,-Math.abs(a)),max:l(i,a)}}function Ag(r,e){return Object.assign(Object.create(r),e)}function fO(r,e,t){t=t||(l=>r[l]<e);let n=r.length-1,i=0,a;for(;n-i>1;)a=i+n>>1,t(a)?i=a:n=a;return{lo:i,hi:n}}function tce(r,e,t){let n=0,i=r.length;for(;n<i&&r[n]<e;)n++;for(;i>n&&r[i-1]>t;)i--;return n>0||i<r.length?r.slice(n,i):r}function nce(r,e){if(r._chartjs){r._chartjs.listeners.push(e);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),rce.forEach(t=>{let n="_onData"+aO(t),i=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...a){let l=i.apply(this,a);return r._chartjs.listeners.forEach(h=>{typeof h[n]=="function"&&h[n](...a)}),l}})})}function Gz(r,e){let t=r._chartjs;if(!t)return;let n=t.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(rce.forEach(a=>{delete r[a]}),delete r._chartjs)}function Kz(r){let e=new Set,t,n;for(t=0,n=r.length;t<n;++t)e.add(r[t]);return e.size===n?r:Array.from(e)}function hO(r,e=[""],t=r,n,i=()=>r[0]){cd(n)||(n=ace("_fallback",r));let a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:t,_fallback:n,_getTarget:i,override:l=>hO([l,...r],e,t,n)};return new Proxy(a,{deleteProperty(l,h){return delete l[h],delete l._keys,delete r[0][h],!0},get(l,h){return ice(l,h,()=>kot(h,e,r,l))},getOwnPropertyDescriptor(l,h){return Reflect.getOwnPropertyDescriptor(l._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(l,h){return Iue(l).includes(h)},ownKeys(l){return Iue(l)},set(l,h,g){let w=l._storage||(l._storage=i());return l[h]=w[h]=g,delete l._keys,!0}})}function gb(r,e,t,n){let i={_cacheable:!1,_proxy:r,_context:e,_subProxy:t,_stack:new Set,_descriptors:Yz(r,n),setContext:a=>gb(r,a,t,n),override:a=>gb(r.override(a),e,t,n)};return new Proxy(i,{deleteProperty(a,l){return delete a[l],delete r[l],!0},get(a,l,h){return ice(a,l,()=>xot(a,l,h))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(r,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,l)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(a,l){return Reflect.has(r,l)},ownKeys(){return Reflect.ownKeys(r)},set(a,l,h){return r[l]=h,delete a[l],!0}})}function Yz(r,e={scriptable:!0,indexable:!0}){let{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=r;return{allKeys:i,scriptable:t,indexable:n,isScriptable:Cg(t)?t:()=>t,isIndexable:Cg(n)?n:()=>n}}function ice(r,e,t){if(Object.prototype.hasOwnProperty.call(r,e))return r[e];let n=t();return r[e]=n,n}function xot(r,e,t){let{_proxy:n,_context:i,_subProxy:a,_descriptors:l}=r,h=n[e];return Cg(h)&&l.isScriptable(e)&&(h=_ot(e,h,r,t)),Ts(h)&&h.length&&(h=wot(e,h,r,l.isIndexable)),Zz(e,h)&&(h=gb(h,i,a&&a[e],l)),h}function _ot(r,e,t,n){let{_proxy:i,_context:a,_subProxy:l,_stack:h}=t;if(h.has(r))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+r);return h.add(r),e=e(a,l||n),h.delete(r),Zz(r,e)&&(e=Xz(i._scopes,i,r,e)),e}function wot(r,e,t,n){let{_proxy:i,_context:a,_subProxy:l,_descriptors:h}=t;if(cd(a.index)&&n(r))e=e[a.index%e.length];else if(Wo(e[0])){let g=e,w=i._scopes.filter(C=>C!==g);e=[];for(let C of g){let D=Xz(w,i,r,C);e.push(gb(D,a,l&&l[r],h))}}return e}function oce(r,e,t){return Cg(r)?r(e,t):r}function Tot(r,e,t,n,i){for(let a of e){let l=Sot(t,a);if(l){r.add(l);let h=oce(l._fallback,t,i);if(cd(h)&&h!==t&&h!==n)return h}else if(l===!1&&cd(n)&&t!==n)return null}return!1}function Xz(r,e,t,n){let i=e._rootScopes,a=oce(e._fallback,t,n),l=[...r,...i],h=new Set;h.add(n);let g=Oue(h,l,t,a||t,n);return g===null||cd(a)&&a!==t&&(g=Oue(h,l,a,g,n),g===null)?!1:hO(Array.from(h),[""],i,a,()=>Eot(e,t,n))}function Oue(r,e,t,n,i){for(;t;)t=Tot(r,e,t,n,i);return t}function Eot(r,e,t){let n=r._getTarget();e in n||(n[e]={});let i=n[e];return Ts(i)&&Wo(t)?t:i}function kot(r,e,t,n){let i;for(let a of e)if(i=ace(bot(a,r),t),cd(i))return Zz(r,i)?Xz(t,n,r,i):i}function ace(r,e){for(let t of e){if(!t)continue;let n=t[r];if(cd(n))return n}}function Iue(r){let e=r._keys;return e||(e=r._keys=Cot(r._scopes)),e}function Cot(r){let e=new Set;for(let t of r)for(let n of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}function Dot(r,e,t,n){let i=r.skip?e:r,a=e,l=t.skip?e:t,h=nO(a,i),g=nO(l,a),w=h/(h+g),C=g/(h+g);w=isNaN(w)?0:w,C=isNaN(C)?0:C;let D=n*w,F=n*C;return{previous:{x:a.x-D*(l.x-i.x),y:a.y-D*(l.y-i.y)},next:{x:a.x+F*(l.x-i.x),y:a.y+F*(l.y-i.y)}}}function Oot(r,e,t){let n=r.length,i,a,l,h,g,w=Yx(r,0);for(let C=0;C<n-1;++C)if(g=w,w=Yx(r,C+1),!(!g||!w)){if(Jx(e[C],0,Aot)){t[C]=t[C+1]=0;continue}i=t[C]/e[C],a=t[C+1]/e[C],h=Math.pow(i,2)+Math.pow(a,2),!(h<=9)&&(l=3/Math.sqrt(h),t[C]=i*l*e[C],t[C+1]=a*l*e[C])}}function Iot(r,e,t="x"){let n=sce(t),i=r.length,a,l,h,g=Yx(r,0);for(let w=0;w<i;++w){if(l=h,h=g,g=Yx(r,w+1),!h)continue;let C=h[t],D=h[n];l&&(a=(C-l[t])/3,h[`cp1${t}`]=C-a,h[`cp1${n}`]=D-a*e[w]),g&&(a=(g[t]-C)/3,h[`cp2${t}`]=C+a,h[`cp2${n}`]=D+a*e[w])}}function Mot(r,e="x"){let t=sce(e),n=r.length,i=Array(n).fill(0),a=Array(n),l,h,g,w=Yx(r,0);for(l=0;l<n;++l)if(h=g,g=w,w=Yx(r,l+1),!!g){if(w){let C=w[e]-g[e];i[l]=C!==0?(w[t]-g[t])/C:0}a[l]=h?w?Bp(i[l-1])!==Bp(i[l])?0:(i[l-1]+i[l])/2:i[l-1]:i[l]}Oot(r,i,a),Iot(r,a,e)}function eO(r,e,t){return Math.max(Math.min(r,t),e)}function Lot(r,e){let t,n,i,a,l,h=zv(r[0],e);for(t=0,n=r.length;t<n;++t)l=a,a=h,h=t<n-1&&zv(r[t+1],e),a&&(i=r[t],l&&(i.cp1x=eO(i.cp1x,e.left,e.right),i.cp1y=eO(i.cp1y,e.top,e.bottom)),h&&(i.cp2x=eO(i.cp2x,e.left,e.right),i.cp2y=eO(i.cp2y,e.top,e.bottom)))}function lce(r,e,t,n,i){let a,l,h,g;if(e.spanGaps&&(r=r.filter(w=>!w.skip)),e.cubicInterpolationMode==="monotone")Mot(r,i);else{let w=n?r[r.length-1]:r[0];for(a=0,l=r.length;a<l;++a)h=r[a],g=Dot(w,h,r[Math.min(a+1,l-(n?0:1))%l],e.tension),h.cp1x=g.previous.x,h.cp1y=g.previous.y,h.cp2x=g.next.x,h.cp2y=g.next.y,w=h}e.capBezierPoints&&Lot(r,t)}function Jz(){return typeof window<"u"&&typeof document<"u"}function dO(r){let e=r.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function iO(r,e,t){let n;return typeof r=="string"?(n=parseInt(r,10),r.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=r,n}function Pot(r,e){return pO(r).getPropertyValue(e)}function mb(r,e,t){let n={};t=t?"-"+t:"";for(let i=0;i<4;i++){let a=Rot[i];n[a]=parseFloat(r[e+"-"+a+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function qot(r,e){let t=r.native||r,n=t.touches,i=n&&n.length?n[0]:t,{offsetX:a,offsetY:l}=i,h=!1,g,w;if(Fot(a,l,t.target))g=a,w=l;else{let C=e.getBoundingClientRect();g=i.clientX-C.left,w=i.clientY-C.top,h=!0}return{x:g,y:w,box:h}}function Qz(r,e){let{canvas:t,currentDevicePixelRatio:n}=e,i=pO(t),a=i.boxSizing==="border-box",l=mb(i,"padding"),h=mb(i,"border","width"),{x:g,y:w,box:C}=qot(r,t),D=l.left+(C&&h.left),F=l.top+(C&&h.top),{width:z,height:Y}=e;return a&&(z-=l.width+h.width,Y-=l.height+h.height),{x:Math.round((g-D)/z*t.width/n),y:Math.round((w-F)/Y*t.height/n)}}function Not(r,e,t){let n,i;if(e===void 0||t===void 0){let a=dO(r);if(!a)e=r.clientWidth,t=r.clientHeight;else{let l=a.getBoundingClientRect(),h=pO(a),g=mb(h,"border","width"),w=mb(h,"padding");e=l.width-w.width-g.width,t=l.height-w.height-g.height,n=iO(h.maxWidth,a,"clientWidth"),i=iO(h.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:n||rO,maxHeight:i||rO}}function uce(r,e,t,n){let i=pO(r),a=mb(i,"margin"),l=iO(i.maxWidth,r,"clientWidth")||rO,h=iO(i.maxHeight,r,"clientHeight")||rO,g=Not(r,e,t),{width:w,height:C}=g;if(i.boxSizing==="content-box"){let D=mb(i,"border","width"),F=mb(i,"padding");w-=F.width+D.width,C-=F.height+D.height}return w=Math.max(0,w-a.width),C=Math.max(0,n?Math.floor(w/n):C-a.height),w=Dz(Math.min(w,l,g.maxWidth)),C=Dz(Math.min(C,h,g.maxHeight)),w&&!C&&(C=Dz(w/2)),{width:w,height:C}}function e5(r,e,t){let n=e||1,i=Math.floor(r.height*n),a=Math.floor(r.width*n);r.height=i/n,r.width=a/n;let l=r.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${r.height}px`,l.style.width=`${r.width}px`),r.currentDevicePixelRatio!==n||l.height!==i||l.width!==a?(r.currentDevicePixelRatio=n,l.height=i,l.width=a,r.ctx.setTransform(n,0,0,n,0,0),!0):!1}function t5(r,e){let t=Pot(r,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Bv(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:r.y+t*(e.y-r.y)}}function fce(r,e,t,n){return{x:r.x+t*(e.x-r.x),y:n==="middle"?t<.5?r.y:e.y:n==="after"?t<1?r.y:e.y:t>0?e.y:r.y}}function hce(r,e,t,n){let i={x:r.cp2x,y:r.cp2y},a={x:e.cp1x,y:e.cp1y},l=Bv(r,i,t),h=Bv(i,a,t),g=Bv(a,e,t),w=Bv(l,h,t),C=Bv(h,g,t);return Bv(w,C,t)}function Bot(r,e){e=e||{};let t=r+JSON.stringify(e),n=Mue.get(t);return n||(n=new Intl.NumberFormat(r,e),Mue.set(t,n)),n}function t_(r,e,t){return Bot(e,t).format(r)}function yb(r,e,t){return r?zot(e,t):Uot()}function r5(r,e){let t,n;(e==="ltr"||e==="rtl")&&(t=r.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),r.prevTextDirection=n)}function n5(r,e){e!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",e[0],e[1]))}function dce(r){return r==="angle"?{between:Qx,compare:$it,normalize:Sh}:{between:Cm,compare:(e,t)=>e-t,normalize:e=>e}}function Lue({start:r,end:e,count:t,loop:n,style:i}){return{start:r%t,end:e%t,loop:n&&(e-r+1)%t===0,style:i}}function jot(r,e,t){let{property:n,start:i,end:a}=t,{between:l,normalize:h}=dce(n),g=e.length,{start:w,end:C,loop:D}=r,F,z;if(D){for(w+=g,C+=g,F=0,z=g;F<z&&l(h(e[w%g][n]),i,a);++F)w--,C--;w%=g,C%=g}return C<w&&(C+=g),{start:w,end:C,loop:D,style:r.style}}function i5(r,e,t){if(!t)return[r];let{property:n,start:i,end:a}=t,l=e.length,{compare:h,between:g,normalize:w}=dce(n),{start:C,end:D,loop:F,style:z}=jot(r,e,t),Y=[],$=!1,re=null,oe,ne,he,_=()=>g(i,he,oe)&&h(i,he)!==0,ge=()=>h(a,oe)===0||g(a,he,oe),fe=()=>$||_(),me=()=>!$||ge();for(let we=C,Se=C;we<=D;++we)ne=e[we%l],!ne.skip&&(oe=w(ne[n]),oe!==he&&($=g(oe,i,a),re===null&&fe()&&(re=h(oe,i)===0?we:Se),re!==null&&me()&&(Y.push(Lue({start:re,end:we,loop:F,count:l,style:z})),re=null),Se=we,he=oe));return re!==null&&Y.push(Lue({start:re,end:D,loop:F,count:l,style:z})),Y}function o5(r,e){let t=[],n=r.segments;for(let i=0;i<n.length;i++){let a=i5(n[i],r.points,e);a.length&&t.push(...a)}return t}function Hot(r,e,t,n){let i=0,a=e-1;if(t&&!n)for(;i<e&&!r[i].skip;)i++;for(;i<e&&r[i].skip;)i++;for(i%=e,t&&(a+=i);a>i&&r[a%e].skip;)a--;return a%=e,{start:i,end:a}}function Wot(r,e,t,n){let i=r.length,a=[],l=e,h=r[e],g;for(g=e+1;g<=t;++g){let w=r[g%i];w.skip||w.stop?h.skip||(n=!1,a.push({start:e%i,end:(g-1)%i,loop:n}),e=l=w.stop?g:null):(l=g,h.skip&&(e=g)),h=w}return l!==null&&a.push({start:e%i,end:l%i,loop:n}),a}function pce(r,e){let t=r.points,n=r.options.spanGaps,i=t.length;if(!i)return[];let a=!!r._loop,{start:l,end:h}=Hot(t,i,a,n);if(n===!0)return Pue(r,[{start:l,end:h,loop:a}],t,e);let g=h<l?h+i:h,w=!!r._fullLoop&&l===0&&h===i-1;return Pue(r,Wot(t,l,g,w),t,e)}function Pue(r,e,t,n){return!n||!n.setContext||!t?e:Vot(r,e,t,n)}function Vot(r,e,t,n){let i=r._chart.getContext(),a=Rue(r.options),{_datasetIndex:l,options:{spanGaps:h}}=r,g=t.length,w=[],C=a,D=e[0].start,F=D;function z(Y,$,re,oe){let ne=h?-1:1;if(Y!==$){for(Y+=g;t[Y%g].skip;)Y-=ne;for(;t[$%g].skip;)$+=ne;Y%g!==$%g&&(w.push({start:Y%g,end:$%g,loop:re,style:oe}),C=oe,D=$%g)}}for(let Y of e){D=h?D:Y.start;let $=t[D%g],re;for(F=D+1;F<=Y.end;F++){let oe=t[F%g];re=Rue(n.setContext(Ag(i,{type:"segment",p0:$,p1:oe,p0DataIndex:(F-1)%g,p1DataIndex:F%g,datasetIndex:l}))),$ot(re,C)&&z(D,F-1,Y.loop,C),$=oe,C=re}D<F-1&&z(D,F-1,Y.loop,C)}return w}function Rue(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function $ot(r,e){return e&&JSON.stringify(r)!==JSON.stringify(e)}var Mz,oO,Gc,que,Nue,tu,Bue,Pz,jit,Hit,cd,Cg,Rz,$s,ds,Wit,rO,Vit,Dl,YS,Sue,hd,Bp,Z2,Tue,Eue,$x,ep,Oz,Git,Kit,X2,lO,Jit,tot,Cue,Aue,J2,Kx,Yue,jv,uO,Iz,No,mot,got,yot,Am,ece,rce,bot,Zz,Sot,Aot,Yx,sce,pO,Rot,Fot,Dz,cce,Mue,zot,Uot,a5=ze(()=>{Mz=function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame}();oO=r=>r==="start"?"left":r==="end"?"right":"center",Gc=(r,e,t)=>r==="start"?e:r==="end"?t:(e+t)/2,que=(r,e,t,n)=>r===(n?"left":"right")?t:r==="center"?(e+t)/2:e;Nue=function(){let r=0;return function(){return r++}}();tu=r=>(typeof r=="number"||r instanceof Number)&&isFinite(+r);Bue=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:r/e,Pz=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*e:+r;jit="",Hit=".";cd=r=>typeof r<"u",Cg=r=>typeof r=="function",Rz=(r,e)=>{if(r.size!==e.size)return!1;for(let t of r)if(!e.has(t))return!1;return!0};$s=Math.PI,ds=2*$s,Wit=ds+$s,rO=Number.POSITIVE_INFINITY,Vit=$s/180,Dl=$s/2,YS=$s/4,Sue=$s*2/3,hd=Math.log10,Bp=Math.sign;Z2=r=>r===0||r===1,Tue=(r,e,t)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-e)*ds/t)),Eue=(r,e,t)=>Math.pow(2,-10*r)*Math.sin((r-e)*ds/t)+1,$x={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*Dl)+1,easeOutSine:r=>Math.sin(r*Dl),easeInOutSine:r=>-.5*(Math.cos($s*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>Z2(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>Z2(r)?r:Tue(r,.075,.3),easeOutElastic:r=>Z2(r)?r:Eue(r,.075,.3),easeInOutElastic(r){return Z2(r)?r:r<.5?.5*Tue(r*2,.1125,.45):.5+.5*Eue(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let e=1.70158;return(r/=.5)<1?.5*(r*r*(((e*=1.525)+1)*r-e)):.5*((r-=2)*r*(((e*=1.525)+1)*r+e)+2)},easeInBounce:r=>1-$x.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?$x.easeInBounce(r*2)*.5:$x.easeOutBounce(r*2-1)*.5+.5};ep={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Oz="0123456789ABCDEF",Git=r=>Oz[r&15],Kit=r=>Oz[(r&240)>>4]+Oz[r&15],X2=r=>(r&240)>>4===(r&15);lO=(r,e,t)=>Math.max(Math.min(r,t),e);Jit=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;tot=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;Cue={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Aue={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};Kx=class{constructor(e){if(e instanceof Kx)return e;let t=typeof e,n;t==="object"?n=Due(e):t==="string"&&(n=Zit(e)||cot(e)||fot(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Gue(this._rgb);return e&&(e.a=zz(e.a)),e}set rgb(e){this._rgb=Due(e)}rgbString(){return this._valid?eot(this._rgb):this._rgb}hexString(){return this._valid?Xit(this._rgb):this._rgb}hslString(){return this._valid?lot(this._rgb):this._rgb}mix(e,t){let n=this;if(e){let i=n.rgb,a=e.rgb,l,h=t===l?.5:t,g=2*h-1,w=i.a-a.a,C=((g*w===-1?g:(g+w)/(1+g*w))+1)/2;l=1-C,i.r=255&C*i.r+l*a.r+.5,i.g=255&C*i.g+l*a.g+.5,i.b=255&C*i.b+l*a.b+.5,i.a=h*i.a+(1-h)*a.a,n.rgb=i}return n}clone(){return new Kx(this.rgb)}alpha(e){return this._rgb.a=JS(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=tT(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Q2(this._rgb,2,e),this}darken(e){return Q2(this._rgb,2,-e),this}saturate(e){return Q2(this._rgb,1,e),this}desaturate(e){return Q2(this._rgb,1,-e),this}rotate(e){return sot(this._rgb,e),this}};Yue=r=>r instanceof CanvasGradient||r instanceof CanvasPattern;jv=Object.create(null),uO=Object.create(null);Iz=class{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,n)=>Cz(n.backgroundColor),this.hoverBorderColor=(t,n)=>Cz(n.borderColor),this.hoverColor=(t,n)=>Cz(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return Az(this,e,t)}get(e){return XS(this,e)}describe(e,t){return Az(uO,e,t)}override(e,t){return Az(jv,e,t)}route(e,t,n,i){let a=XS(this,e),l=XS(this,n),h="_"+t;Object.defineProperties(a,{[h]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){let g=this[h],w=l[i];return Wo(g)?Object.assign({},w,g):eo(g,w)},set(g){this[h]=g}}})}},No=new Iz({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});mot=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),got=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);yot=r=>+r||0;Am=(r,e,t)=>fO(r,t,n=>r[n][e]<t),ece=(r,e,t)=>fO(r,t,n=>r[n][e]>=t);rce=["push","pop","shift","splice","unshift"];bot=(r,e)=>r?r+aO(e):e,Zz=(r,e)=>Wo(e)&&r!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);Sot=(r,e)=>r===!0?e:typeof r=="string"?Uv(e,r):void 0;Aot=Number.EPSILON||1e-14,Yx=(r,e)=>e<r.length&&!r[e].skip&&r[e],sce=r=>r==="x"?"y":"x";pO=r=>window.getComputedStyle(r,null);Rot=["top","right","bottom","left"];Fot=(r,e,t)=>(r>0||e>0)&&(!t||!t.shadowRoot);Dz=r=>Math.round(r*10)/10;cce=function(){let r=!1;try{let e={get passive(){return r=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return r}();Mue=new Map;zot=function(r,e){return{x(t){return r+r+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},Uot=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,e){return r+e},leftForLtr(r,e){return r}}}});function Xot(r,e){let t=[],n=Object.keys(e);for(let i=0;i<n.length;i++){let a=r[n[i]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function Jot(r,e){if(!e)return;let t=r.options;if(!t){r.options=e;return}return t.$shared&&(r.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function gce(r,e){let t=r&&r.options||{},n=t.reverse,i=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:n?a:i,end:n?i:a}}function Qot(r,e,t){if(t===!1)return!1;let n=gce(r,t),i=gce(e,t);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function eat(r){let e,t,n,i;return Wo(r)?(e=r.top,t=r.right,n=r.bottom,i=r.left):e=t=n=i=r,{top:e,right:t,bottom:n,left:i,disabled:r===!1}}function ofe(r,e){let t=[],n=r._getSortedDatasetMetas(e),i,a;for(i=0,a=n.length;i<a;++i)t.push(n[i].index);return t}function vce(r,e,t,n={}){let i=r.keys,a=n.mode==="single",l,h,g,w;if(e!==null){for(l=0,h=i.length;l<h;++l){if(g=+i[l],g===t){if(n.all)continue;break}w=r.values[g],tu(w)&&(a||e===0||Bp(e)===Bp(w))&&(e+=w)}return e}}function tat(r){let e=Object.keys(r),t=new Array(e.length),n,i,a;for(n=0,i=e.length;n<i;++n)a=e[n],t[n]={x:a,y:r[a]};return t}function yce(r,e){let t=r&&r.options.stacked;return t||t===void 0&&e.stack!==void 0}function rat(r,e,t){return`${r.id}.${e.id}.${t.stack||t.type}`}function nat(r){let{min:e,max:t,minDefined:n,maxDefined:i}=r.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function iat(r,e,t){let n=r[e]||(r[e]={});return n[t]||(n[t]={})}function bce(r,e,t,n){for(let i of e.getMatchingVisibleMetas(n).reverse()){let a=r[i.index];if(t&&a>0||!t&&a<0)return i.index}return null}function xce(r,e){let{chart:t,_cachedMeta:n}=r,i=t._stacks||(t._stacks={}),{iScale:a,vScale:l,index:h}=n,g=a.axis,w=l.axis,C=rat(a,l,n),D=e.length,F;for(let z=0;z<D;++z){let Y=e[z],{[g]:$,[w]:re}=Y,oe=Y._stacks||(Y._stacks={});F=oe[w]=iat(i,C,$),F[h]=re,F._top=bce(F,l,!0,n.type),F._bottom=bce(F,l,!1,n.type)}}function s5(r,e){let t=r.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function oat(r,e){return Ag(r,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function aat(r,e,t){return Ag(r,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function aT(r,e){let t=r.controller.index,n=r.vScale&&r.vScale.axis;if(!!n){e=e||r._parsed;for(let i of e){let a=i._stacks;if(!a||a[n]===void 0||a[n][t]===void 0)return;delete a[n][t]}}}function lat(r,e){if(!r._cache.$bar){let t=r.getMatchingVisibleMetas(e),n=[];for(let i=0,a=t.length;i<a;i++)n=n.concat(t[i].controller.getAllParsedValues(r));r._cache.$bar=Kz(n.sort((i,a)=>i-a))}return r._cache.$bar}function uat(r){let e=r.iScale,t=lat(e,r.type),n=e._length,i,a,l,h,g=()=>{l===32767||l===-32768||(cd(h)&&(n=Math.min(n,Math.abs(l-h)||n)),h=l)};for(i=0,a=t.length;i<a;++i)l=e.getPixelForValue(t[i]),g();for(h=void 0,i=0,a=e.ticks.length;i<a;++i)l=e.getPixelForTick(i),g();return n}function cat(r,e,t,n){let i=t.barThickness,a,l;return ca(i)?(a=e.min*t.categoryPercentage,l=t.barPercentage):(a=i*n,l=1),{chunk:a/n,ratio:l,start:e.pixels[r]-a/2}}function fat(r,e,t,n){let i=e.pixels,a=i[r],l=r>0?i[r-1]:null,h=r<i.length-1?i[r+1]:null,g=t.categoryPercentage;l===null&&(l=a-(h===null?e.end-e.start:h-a)),h===null&&(h=a+a-l);let w=a-(a-Math.min(l,h))/2*g;return{chunk:Math.abs(h-l)/2*g/n,ratio:t.barPercentage,start:w}}function hat(r,e,t,n){let i=t.parse(r[0],n),a=t.parse(r[1],n),l=Math.min(i,a),h=Math.max(i,a),g=l,w=h;Math.abs(l)>Math.abs(h)&&(g=h,w=l),e[t.axis]=w,e._custom={barStart:g,barEnd:w,start:i,end:a,min:l,max:h}}function afe(r,e,t,n){return Ts(r)?hat(r,e,t,n):e[t.axis]=t.parse(r,n),e}function wce(r,e,t,n){let i=r.iScale,a=r.vScale,l=i.getLabels(),h=i===a,g=[],w,C,D,F;for(w=t,C=t+n;w<C;++w)F=e[w],D={},D[i.axis]=h||i.parse(l[w],w),g.push(afe(F,D,a,w));return g}function u5(r){return r&&r.barStart!==void 0&&r.barEnd!==void 0}function dat(r,e,t){return r!==0?Bp(r):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function pat(r){let e,t,n,i,a;return r.horizontal?(e=r.base>r.x,t="left",n="right"):(e=r.base<r.y,t="bottom",n="top"),e?(i="end",a="start"):(i="start",a="end"),{start:t,end:n,reverse:e,top:i,bottom:a}}function mat(r,e,t,n){let i=e.borderSkipped,a={};if(!i){r.borderSkipped=a;return}let{start:l,end:h,reverse:g,top:w,bottom:C}=pat(r);i==="middle"&&t&&(r.enableBorderRadius=!0,(t._top||0)===n?i=w:(t._bottom||0)===n?i=C:(a[Sce(C,l,h,g)]=!0,i=w)),a[Sce(i,l,h,g)]=!0,r.borderSkipped=a}function Sce(r,e,t,n){return n?(r=gat(r,e,t),r=Tce(r,t,e)):r=Tce(r,e,t),r}function gat(r,e,t){return r===e?t:r===t?e:r}function Tce(r,e,t){return r==="start"?e:r==="end"?t:r}function vat(r,{inflateAmount:e},t){r.inflateAmount=e==="auto"?t===1?.33:0:e}function yat(r,e,t){let n=1,i=1,a=0,l=0;if(e<ds){let h=r,g=h+e,w=Math.cos(h),C=Math.sin(h),D=Math.cos(g),F=Math.sin(g),z=(he,_,ge)=>Qx(he,h,g,!0)?1:Math.max(_,_*t,ge,ge*t),Y=(he,_,ge)=>Qx(he,h,g,!0)?-1:Math.min(_,_*t,ge,ge*t),$=z(0,w,D),re=z(Dl,C,F),oe=Y($s,w,D),ne=Y($s+Dl,C,F);n=($-oe)/2,i=(re-ne)/2,a=-($+oe)/2,l=-(re+ne)/2}return{ratioX:n,ratioY:i,offsetX:a,offsetY:l}}function bat(r,e,t){let n=e.length,i=0,a=n;if(r._sorted){let{iScale:l,_parsed:h}=r,g=l.axis,{min:w,max:C,minDefined:D,maxDefined:F}=l.getUserBounds();D&&(i=mc(Math.min(Am(h,l.axis,w).lo,t?n:Am(e,g,l.getPixelForValue(w)).lo),0,n-1)),F?a=mc(Math.max(Am(h,l.axis,C).hi+1,t?0:Am(e,g,l.getPixelForValue(C)).hi+1),i,n)-i:a=n-i}return{start:i,count:a}}function xat(r){let{xScale:e,yScale:t,_scaleRanges:n}=r,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return r._scaleRanges=i,!0;let a=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,i),a}function bb(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}function fT(r,e){return"native"in r?{x:r.x,y:r.y}:Qz(r,e)}function wat(r,e){let t=r.getSortedVisibleDatasetMetas(),n,i,a;for(let l=0,h=t.length;l<h;++l){({index:n,data:i}=t[l]);for(let g=0,w=i.length;g<w;++g)a=i[g],a.skip||e(a,n,g)}}function Sat(r,e,t,n){let{controller:i,data:a,_sorted:l}=r,h=i._cachedMeta.iScale;if(h&&e===h.axis&&e!=="r"&&l&&a.length){let g=h._reversePixels?ece:Am;if(n){if(i._sharedOptions){let w=a[0],C=typeof w.getRange=="function"&&w.getRange(e);if(C){let D=g(a,e,t-C),F=g(a,e,t+C);return{lo:D.lo,hi:F.hi}}}}else return g(a,e,t)}return{lo:0,hi:a.length-1}}function O5(r,e,t,n,i){let a=r.getSortedVisibleDatasetMetas(),l=t[e];for(let h=0,g=a.length;h<g;++h){let{index:w,data:C}=a[h],{lo:D,hi:F}=Sat(a[h],e,l,i);for(let z=D;z<=F;++z){let Y=C[z];Y.skip||n(Y,w,z)}}}function Tat(r){let e=r.indexOf("x")!==-1,t=r.indexOf("y")!==-1;return function(n,i){let a=e?Math.abs(n.x-i.x):0,l=t?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function c5(r,e,t,n){let i=[];return zv(e,r.chartArea,r._minPadding)&&O5(r,t,e,function(l,h,g){l.inRange(e.x,e.y,n)&&i.push({element:l,datasetIndex:h,index:g})},!0),i}function Eat(r,e,t,n){let i=[];function a(l,h,g){let{startAngle:w,endAngle:C}=l.getProps(["startAngle","endAngle"],n),{angle:D}=Bz(l,{x:e.x,y:e.y});Qx(D,w,C)&&i.push({element:l,datasetIndex:h,index:g})}return O5(r,t,e,a),i}function kat(r,e,t,n,i){let a=[],l=Tat(t),h=Number.POSITIVE_INFINITY;function g(w,C,D){let F=w.inRange(e.x,e.y,i);if(n&&!F)return;let z=w.getCenterPoint(i);if(!zv(z,r.chartArea,r._minPadding)&&!F)return;let $=l(e,z);$<h?(a=[{element:w,datasetIndex:C,index:D}],h=$):$===h&&a.push({element:w,datasetIndex:C,index:D})}return O5(r,t,e,g),a}function f5(r,e,t,n,i){return zv(e,r.chartArea,r._minPadding)?t==="r"&&!n?Eat(r,e,t,i):kat(r,e,t,n,i):[]}function Ece(r,e,t,n){let i=fT(e,r),a=[],l=t.axis,h=l==="x"?"inXRange":"inYRange",g=!1;return wat(r,(w,C,D)=>{w[h](i[l],n)&&a.push({element:w,datasetIndex:C,index:D}),w.inRange(i.x,i.y,n)&&(g=!0)}),t.intersect&&!g?[]:a}function sT(r,e){return r.filter(t=>t.pos===e)}function kce(r,e){return r.filter(t=>sfe.indexOf(t.pos)===-1&&t.box.axis===e)}function lT(r,e){return r.sort((t,n)=>{let i=e?n:t,a=e?t:n;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function Aat(r){let e=[],t,n,i,a,l,h;for(t=0,n=(r||[]).length;t<n;++t)i=r[t],{position:a,options:{stack:l,stackWeight:h=1}}=i,e.push({index:t,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&a+l,stackWeight:h});return e}function Dat(r){let e={};for(let t of r){let{stack:n,pos:i,stackWeight:a}=t;if(!n||!sfe.includes(i))continue;let l=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function Oat(r,e){let t=Dat(r),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e,a,l,h;for(a=0,l=r.length;a<l;++a){h=r[a];let{fullSize:g}=h.box,w=t[h.stack],C=w&&h.stackWeight/w.weight;h.horizontal?(h.width=C?C*n:g&&e.availableWidth,h.height=i):(h.width=n,h.height=C?C*i:g&&e.availableHeight)}return t}function Iat(r){let e=Aat(r),t=lT(e.filter(w=>w.box.fullSize),!0),n=lT(sT(e,"left"),!0),i=lT(sT(e,"right")),a=lT(sT(e,"top"),!0),l=lT(sT(e,"bottom")),h=kce(e,"x"),g=kce(e,"y");return{fullSize:t,leftAndTop:n.concat(a),rightAndBottom:i.concat(g).concat(l).concat(h),chartArea:sT(e,"chartArea"),vertical:n.concat(i).concat(g),horizontal:a.concat(l).concat(h)}}function Cce(r,e,t,n){return Math.max(r[t],e[t])+Math.max(r[n],e[n])}function lfe(r,e){r.top=Math.max(r.top,e.top),r.left=Math.max(r.left,e.left),r.bottom=Math.max(r.bottom,e.bottom),r.right=Math.max(r.right,e.right)}function Mat(r,e,t,n){let{pos:i,box:a}=t,l=r.maxPadding;if(!Wo(i)){t.size&&(r[i]-=t.size);let D=n[t.stack]||{size:0,count:1};D.size=Math.max(D.size,t.horizontal?a.height:a.width),t.size=D.size/D.count,r[i]+=t.size}a.getPadding&&lfe(l,a.getPadding());let h=Math.max(0,e.outerWidth-Cce(l,r,"left","right")),g=Math.max(0,e.outerHeight-Cce(l,r,"top","bottom")),w=h!==r.w,C=g!==r.h;return r.w=h,r.h=g,t.horizontal?{same:w,other:C}:{same:C,other:w}}function Lat(r){let e=r.maxPadding;function t(n){let i=Math.max(e[n]-r[n],0);return r[n]+=i,i}r.y+=t("top"),r.x+=t("left"),t("right"),t("bottom")}function Pat(r,e){let t=e.maxPadding;function n(i){let a={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{a[l]=Math.max(e[l],t[l])}),a}return n(r?["left","right"]:["top","bottom"])}function hT(r,e,t,n){let i=[],a,l,h,g,w,C;for(a=0,l=r.length,w=0;a<l;++a){h=r[a],g=h.box,g.update(h.width||e.w,h.height||e.h,Pat(h.horizontal,e));let{same:D,other:F}=Mat(e,t,h,n);w|=D&&i.length,C=C||F,g.fullSize||i.push(h)}return w&&hT(i,e,t,n)||C}function mO(r,e,t,n,i){r.top=t,r.left=e,r.right=e+n,r.bottom=t+i,r.width=n,r.height=i}function Ace(r,e,t,n){let i=t.padding,{x:a,y:l}=e;for(let h of r){let g=h.box,w=n[h.stack]||{count:1,placed:0,weight:1},C=h.stackWeight/w.weight||1;if(h.horizontal){let D=e.w*C,F=w.size||g.height;cd(w.start)&&(l=w.start),g.fullSize?mO(g,i.left,l,t.outerWidth-i.right-i.left,F):mO(g,e.left+w.placed,l,D,F),w.start=l,w.placed+=D,l=g.bottom}else{let D=e.h*C,F=w.size||g.width;cd(w.start)&&(a=w.start),g.fullSize?mO(g,a,i.top,F,t.outerHeight-i.bottom-i.top):mO(g,a,e.top+w.placed,F,D),w.start=a,w.placed+=D,a=g.right}}e.x=a,e.y=l}function Fat(r,e){let t=r.style,n=r.getAttribute("height"),i=r.getAttribute("width");if(r[_O]={initial:{height:n,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Dce(i)){let a=t5(r,"width");a!==void 0&&(r.width=a)}if(Dce(n))if(r.style.height==="")r.height=r.width/(e||2);else{let a=t5(r,"height");a!==void 0&&(r.height=a)}return r}function qat(r,e,t){r.addEventListener(e,t,ufe)}function Nat(r,e,t){r.canvas.removeEventListener(e,t,ufe)}function Bat(r,e){let t=Rat[r.type]||r.type,{x:n,y:i}=Qz(r,e);return{type:t,chart:e,native:r,x:n!==void 0?n:null,y:i!==void 0?i:null}}function TO(r,e){for(let t of r)if(t===e||t.contains(e))return!0}function zat(r,e,t){let n=r.canvas,i=new MutationObserver(a=>{let l=!1;for(let h of a)l=l||TO(h.addedNodes,n),l=l&&!TO(h.removedNodes,n);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function Uat(r,e,t){let n=r.canvas,i=new MutationObserver(a=>{let l=!1;for(let h of a)l=l||TO(h.removedNodes,n),l=l&&!TO(h.addedNodes,n);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function cfe(){let r=window.devicePixelRatio;r!==Oce&&(Oce=r,gT.forEach((e,t)=>{t.currentDevicePixelRatio!==r&&e()}))}function jat(r,e){gT.size||window.addEventListener("resize",cfe),gT.set(r,e)}function Hat(r){gT.delete(r),gT.size||window.removeEventListener("resize",cfe)}function Wat(r,e,t){let n=r.canvas,i=n&&dO(n);if(!i)return;let a=Lz((h,g)=>{let w=i.clientWidth;t(h,g),w<i.clientWidth&&t()},window),l=new ResizeObserver(h=>{let g=h[0],w=g.contentRect.width,C=g.contentRect.height;w===0&&C===0||a(w,C)});return l.observe(i),jat(r,a),l}function h5(r,e,t){t&&t.disconnect(),e==="resize"&&Hat(r)}function Vat(r,e,t){let n=r.canvas,i=Lz(a=>{r.ctx!==null&&t(Bat(a,r))},r,a=>{let l=a[0];return[l,l.offsetX,l.offsetY]});return qat(n,e,i),i}function $at(r){return!Jz()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?y5:b5}function Gat(r,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&r!==Math.floor(r)&&(t=r-Math.floor(r)),t}function Kat(r,e){let t=r.options.ticks,n=t.maxTicksLimit||Yat(r),i=t.major.enabled?Xat(e):[],a=i.length,l=i[0],h=i[a-1],g=[];if(a>n)return Jat(e,g,i,a/n),g;let w=Zat(i,e,n);if(a>0){let C,D,F=a>1?Math.round((h-l)/(a-1)):null;for(gO(e,g,w,ca(F)?0:l-F,l),C=0,D=a-1;C<D;C++)gO(e,g,w,i[C],i[C+1]);return gO(e,g,w,h,ca(F)?e.length:h+F),g}return gO(e,g,w),g}function Yat(r){let e=r.options.offset,t=r._tickSize(),n=r._length/t+(e?0:1),i=r._maxLength/t;return Math.floor(Math.min(n,i))}function Zat(r,e,t){let n=Qat(r),i=e.length/t;if(!n)return Math.max(i,1);let a=jue(n);for(let l=0,h=a.length-1;l<h;l++){let g=a[l];if(g>i)return g}return Math.max(i,1)}function Xat(r){let e=[],t,n;for(t=0,n=r.length;t<n;t++)r[t].major&&e.push(t);return e}function Jat(r,e,t,n){let i=0,a=t[0],l;for(n=Math.ceil(n),l=0;l<r.length;l++)l===a&&(e.push(r[l]),i++,a=t[i*n])}function gO(r,e,t,n,i){let a=eo(n,0),l=Math.min(eo(i,r.length),r.length),h=0,g,w,C;for(t=Math.ceil(t),i&&(g=i-n,t=g/Math.floor(g/t)),C=a;C<0;)h++,C=Math.round(a+h*t);for(w=Math.max(a,0);w<l;w++)w===C&&(e.push(r[w]),h++,C=Math.round(a+h*t))}function Qat(r){let e=r.length,t,n;if(e<2)return!1;for(n=r[0],t=1;t<e;++t)if(r[t]-r[t-1]!==n)return!1;return n}function Mce(r,e){let t=[],n=r.length/e,i=r.length,a=0;for(;a<i;a+=n)t.push(r[Math.floor(a)]);return t}function tst(r,e,t){let n=r.ticks.length,i=Math.min(e,n-1),a=r._startPixel,l=r._endPixel,h=1e-6,g=r.getPixelForTick(i),w;if(!(t&&(n===1?w=Math.max(g-a,l-g):e===0?w=(r.getPixelForTick(1)-g)/2:w=(g-r.getPixelForTick(i-1))/2,g+=i<e?w:-w,g<a-h||g>l+h)))return g}function rst(r,e){za(r,t=>{let n=t.gc,i=n.length/2,a;if(i>e){for(a=0;a<i;++a)delete t.data[n[a]];n.splice(0,i)}})}function uT(r){return r.drawTicks?r.tickLength:0}function Lce(r,e){if(!r.display)return 0;let t=$u(r.font,e),n=Kc(r.padding);return(Ts(r.text)?r.text.length:1)*t.lineHeight+n.height}function nst(r,e){return Ag(r,{scale:e,type:"scale"})}function ist(r,e,t){return Ag(r,{tick:t,index:e,type:"tick"})}function ost(r,e,t){let n=oO(r);return(t&&e!=="right"||!t&&e==="right")&&(n=est(n)),n}function ast(r,e,t,n){let{top:i,left:a,bottom:l,right:h,chart:g}=r,{chartArea:w,scales:C}=g,D=0,F,z,Y,$=l-i,re=h-a;if(r.isHorizontal()){if(z=Gc(n,a,h),Wo(t)){let oe=Object.keys(t)[0],ne=t[oe];Y=C[oe].getPixelForValue(ne)+$-e}else t==="center"?Y=(w.bottom+w.top)/2+$-e:Y=Ice(r,t,e);F=h-a}else{if(Wo(t)){let oe=Object.keys(t)[0],ne=t[oe];z=C[oe].getPixelForValue(ne)-re+e}else t==="center"?z=(w.left+w.right)/2-re+e:z=Ice(r,t,e);Y=Gc(n,l,i),D=t==="left"?-Dl:Dl}return{titleX:z,titleY:Y,maxWidth:F,rotation:D}}function sst(r,e,t){let n=Gx(Object.create(null),[t?No.get(t):{},No.get(e),r.defaults]);No.set(e,n),r.defaultRoutes&&lst(e,r.defaultRoutes),r.descriptors&&No.describe(e,r.descriptors)}function lst(r,e){Object.keys(e).forEach(t=>{let n=t.split("."),i=n.pop(),a=[r].concat(n).join("."),l=e[t].split("."),h=l.pop(),g=l.join(".");No.route(a,i,g,h)})}function ust(r){return"id"in r&&"defaults"in r}function cst(r){let e=[],t=Object.keys(Ig.plugins.items);for(let i=0;i<t.length;i++)e.push(Ig.getPlugin(t[i]));let n=r.plugins||[];for(let i=0;i<n.length;i++){let a=n[i];e.indexOf(a)===-1&&e.push(a)}return e}function fst(r,e){return!e&&r===!1?null:r===!0?{}:r}function hst(r,e,t,n){let i=[],a=r.getContext();for(let l=0;l<e.length;l++){let h=e[l],g=h.id,w=fst(t[g],n);w!==null&&i.push({plugin:h,options:dst(r.config,h,w,a)})}return i}function dst(r,e,t,n){let i=r.pluginScopeKeys(e),a=r.getOptionScopes(t,i);return r.createResolver(a,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function w5(r,e){let t=No.datasets[r]||{};return((e.datasets||{})[r]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function pst(r,e){let t=r;return r==="_index_"?t=e:r==="_value_"&&(t=e==="x"?"y":"x"),t}function mst(r,e){return r===e?"_index_":"_value_"}function gst(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function S5(r,e){return r==="x"||r==="y"?r:e.axis||gst(e.position)||r.charAt(0).toLowerCase()}function vst(r,e){let t=jv[r.type]||{scales:{}},n=e.scales||{},i=w5(r.type,e),a=Object.create(null),l=Object.create(null);return Object.keys(n).forEach(h=>{let g=n[h];if(!Wo(g))return console.error(`Invalid scale configuration for scale: ${h}`);if(g._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${h}`);let w=S5(h,g),C=mst(w,i),D=t.scales||{};a[w]=a[w]||h,l[h]=Zx(Object.create(null),[{axis:w},g,D[w],D[C]])}),r.data.datasets.forEach(h=>{let g=h.type||r.type,w=h.indexAxis||w5(g,e),D=(jv[g]||{}).scales||{};Object.keys(D).forEach(F=>{let z=pst(F,w),Y=h[z+"AxisID"]||a[z]||z;l[Y]=l[Y]||Object.create(null),Zx(l[Y],[{axis:z},n[Y],D[F]])})}),Object.keys(l).forEach(h=>{let g=l[h];Zx(g,[No.scales[g.type],No.scale])}),l}function hfe(r){let e=r.options||(r.options={});e.plugins=eo(e.plugins,{}),e.scales=vst(r,e)}function dfe(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function yst(r){return r=r||{},r.data=dfe(r.data),hfe(r),r}function vO(r,e){let t=Pce.get(r);return t||(t=e(),Pce.set(r,t),pfe.add(t)),t}function Rce(r,e,t){let n=r.get(e);n||(n=new Map,r.set(e,n));let i=t.join(),a=n.get(i);return a||(a={resolver:hO(e,t),subPrefixes:t.filter(h=>!h.toLowerCase().includes("hover"))},n.set(i,a)),a}function xst(r,e){let{isScriptable:t,isIndexable:n}=Yz(r);for(let i of e){let a=t(i),l=n(i),h=(l||a)&&r[i];if(a&&(Cg(h)||bst(h))||l&&Ts(h))return!0}return!1}function Fce(r,e){return r==="top"||r==="bottom"||wst.indexOf(r)===-1&&e==="x"}function qce(r,e){return function(t,n){return t[r]===n[r]?t[e]-n[e]:t[r]-n[r]}}function Nce(r){let e=r.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Es(t&&t.onComplete,[r],e)}function Sst(r){let e=r.chart,t=e.options.animation;Es(t&&t.onProgress,[r],e)}function mfe(r){return Jz()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}function Tst(r,e,t){let n=Object.keys(r);for(let i of n){let a=+i;if(a>=e){let l=r[i];delete r[i],(t>0||a>e)&&(r[a+t]=l)}}}function Est(r,e,t,n){return!t||r.type==="mouseout"?null:n?e:r}function vfe(r,e,t){let{startAngle:n,pixelMargin:i,x:a,y:l,outerRadius:h,innerRadius:g}=e,w=i/h;r.beginPath(),r.arc(a,l,h,n-w,t+w),g>i?(w=i/g,r.arc(a,l,g,t+w,n-w,!0)):r.arc(a,l,i,t+Dl,n-Dl),r.closePath(),r.clip()}function kst(r){return cO(r,["outerStart","outerEnd","innerStart","innerEnd"])}function Cst(r,e,t,n){let i=kst(r.options.borderRadius),a=(t-e)/2,l=Math.min(a,n*e/2),h=g=>{let w=(t-Math.min(a,g))*n/2;return mc(g,0,Math.min(a,w))};return{outerStart:h(i.outerStart),outerEnd:h(i.outerEnd),innerStart:mc(i.innerStart,0,l),innerEnd:mc(i.innerEnd,0,l)}}function r_(r,e,t,n){return{x:t+r*Math.cos(e),y:n+r*Math.sin(e)}}function E5(r,e,t,n,i){let{x:a,y:l,startAngle:h,pixelMargin:g,innerRadius:w}=e,C=Math.max(e.outerRadius+n+t-g,0),D=w>0?w+n+t+g:0,F=0,z=i-h;if(n){let G=w>0?w-n:0,V=C>0?C-n:0,te=(G+V)/2,_e=te!==0?z*te/(te+n):z;F=(z-_e)/2}let Y=Math.max(.001,z*C-t/$s)/C,$=(z-Y)/2,re=h+$+F,oe=i-$-F,{outerStart:ne,outerEnd:he,innerStart:_,innerEnd:ge}=Cst(e,D,C,oe-re),fe=C-ne,me=C-he,we=re+ne/fe,Se=oe-he/me,be=D+_,$e=D+ge,q=re+_/be,ee=oe-ge/$e;if(r.beginPath(),r.arc(a,l,C,we,Se),he>0){let G=r_(me,Se,a,l);r.arc(G.x,G.y,he,Se,oe+Dl)}let R=r_($e,oe,a,l);if(r.lineTo(R.x,R.y),ge>0){let G=r_($e,ee,a,l);r.arc(G.x,G.y,ge,oe+Dl,ee+Math.PI)}if(r.arc(a,l,D,oe-ge/D,re+_/D,!0),_>0){let G=r_(be,q,a,l);r.arc(G.x,G.y,_,q+Math.PI,re-Dl)}let j=r_(fe,re,a,l);if(r.lineTo(j.x,j.y),ne>0){let G=r_(fe,we,a,l);r.arc(G.x,G.y,ne,re-Dl,we)}r.closePath()}function Ast(r,e,t,n){let{fullCircles:i,startAngle:a,circumference:l}=e,h=e.endAngle;if(i){E5(r,e,t,n,a+ds);for(let g=0;g<i;++g)r.fill();isNaN(l)||(h=a+l%ds,l%ds===0&&(h+=ds))}return E5(r,e,t,n,h),r.fill(),h}function Dst(r,e,t){let{x:n,y:i,startAngle:a,pixelMargin:l,fullCircles:h}=e,g=Math.max(e.outerRadius-l,0),w=e.innerRadius+l,C;for(t&&vfe(r,e,a+ds),r.beginPath(),r.arc(n,i,w,a+ds,a,!0),C=0;C<h;++C)r.stroke();for(r.beginPath(),r.arc(n,i,g,a,a+ds),C=0;C<h;++C)r.stroke()}function Ost(r,e,t,n,i){let{options:a}=e,{borderWidth:l,borderJoinStyle:h}=a,g=a.borderAlign==="inner";!l||(g?(r.lineWidth=l*2,r.lineJoin=h||"round"):(r.lineWidth=l,r.lineJoin=h||"bevel"),e.fullCircles&&Dst(r,e,g),g&&vfe(r,e,i),E5(r,e,t,n,i),r.stroke())}function yfe(r,e,t=e){r.lineCap=eo(t.borderCapStyle,e.borderCapStyle),r.setLineDash(eo(t.borderDash,e.borderDash)),r.lineDashOffset=eo(t.borderDashOffset,e.borderDashOffset),r.lineJoin=eo(t.borderJoinStyle,e.borderJoinStyle),r.lineWidth=eo(t.borderWidth,e.borderWidth),r.strokeStyle=eo(t.borderColor,e.borderColor)}function Ist(r,e,t){r.lineTo(t.x,t.y)}function Mst(r){return r.stepped?Xue:r.tension||r.cubicInterpolationMode==="monotone"?Jue:Ist}function bfe(r,e,t={}){let n=r.length,{start:i=0,end:a=n-1}=t,{start:l,end:h}=e,g=Math.max(i,l),w=Math.min(a,h),C=i<l&&a<l||i>h&&a>h;return{count:n,start:g,loop:e.loop,ilen:w<g&&!C?n+w-g:w-g}}function Lst(r,e,t,n){let{points:i,options:a}=e,{count:l,start:h,loop:g,ilen:w}=bfe(i,t,n),C=Mst(a),{move:D=!0,reverse:F}=n||{},z,Y,$;for(z=0;z<=w;++z)Y=i[(h+(F?w-z:z))%l],!Y.skip&&(D?(r.moveTo(Y.x,Y.y),D=!1):C(r,$,Y,F,a.stepped),$=Y);return g&&(Y=i[(h+(F?w:0))%l],C(r,$,Y,F,a.stepped)),!!g}function Pst(r,e,t,n){let i=e.points,{count:a,start:l,ilen:h}=bfe(i,t,n),{move:g=!0,reverse:w}=n||{},C=0,D=0,F,z,Y,$,re,oe,ne=_=>(l+(w?h-_:_))%a,he=()=>{$!==re&&(r.lineTo(C,re),r.lineTo(C,$),r.lineTo(C,oe))};for(g&&(z=i[ne(0)],r.moveTo(z.x,z.y)),F=0;F<=h;++F){if(z=i[ne(F)],z.skip)continue;let _=z.x,ge=z.y,fe=_|0;fe===Y?(ge<$?$=ge:ge>re&&(re=ge),C=(D*C+_)/++D):(he(),r.lineTo(_,ge),Y=fe,D=0,$=re=ge),oe=ge}he()}function k5(r){let e=r.options,t=e.borderDash&&e.borderDash.length;return!r._decimated&&!r._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?Pst:Lst}function Rst(r){return r.stepped?fce:r.tension||r.cubicInterpolationMode==="monotone"?hce:Bv}function Fst(r,e,t,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,n)&&i.closePath()),yfe(r,e.options),r.stroke(i)}function qst(r,e,t,n){let{segments:i,options:a}=e,l=k5(e);for(let h of i)yfe(r,a,h.style),r.beginPath(),l(r,e,h,{start:t,end:t+n-1})&&r.closePath(),r.stroke()}function Bst(r,e,t,n){Nst&&!e.options.segment?Fst(r,e,t,n):qst(r,e,t,n)}function zce(r,e,t,n){let i=r.options,{[t]:a}=r.getProps([t],n);return Math.abs(e-a)<i.radius+i.hitRadius}function xfe(r,e){let{x:t,y:n,base:i,width:a,height:l}=r.getProps(["x","y","base","width","height"],e),h,g,w,C,D;return r.horizontal?(D=l/2,h=Math.min(t,i),g=Math.max(t,i),w=n-D,C=n+D):(D=a/2,h=t-D,g=t+D,w=Math.min(n,i),C=Math.max(n,i)),{left:h,top:w,right:g,bottom:C}}function $v(r,e,t,n){return r?0:mc(e,t,n)}function zst(r,e,t){let n=r.options.borderWidth,i=r.borderSkipped,a=$z(n);return{t:$v(i.top,a.top,0,t),r:$v(i.right,a.right,0,e),b:$v(i.bottom,a.bottom,0,t),l:$v(i.left,a.left,0,e)}}function Ust(r,e,t){let{enableBorderRadius:n}=r.getProps(["enableBorderRadius"]),i=r.options.borderRadius,a=vb(i),l=Math.min(e,t),h=r.borderSkipped,g=n||Wo(i);return{topLeft:$v(!g||h.top||h.left,a.topLeft,0,l),topRight:$v(!g||h.top||h.right,a.topRight,0,l),bottomLeft:$v(!g||h.bottom||h.left,a.bottomLeft,0,l),bottomRight:$v(!g||h.bottom||h.right,a.bottomRight,0,l)}}function jst(r){let e=xfe(r),t=e.right-e.left,n=e.bottom-e.top,i=zst(r,t/2,n/2),a=Ust(r,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:a},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function d5(r,e,t,n){let i=e===null,a=t===null,h=r&&!(i&&a)&&xfe(r,n);return h&&(i||Cm(e,h.left,h.right))&&(a||Cm(t,h.top,h.bottom))}function Hst(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}function Wst(r,e){r.rect(e.x,e.y,e.w,e.h)}function p5(r,e,t={}){let n=r.x!==t.x?-e:0,i=r.y!==t.y?-e:0,a=(r.x+r.w!==t.x+t.w?e:0)-n,l=(r.y+r.h!==t.y+t.h?e:0)-i;return{x:r.x+n,y:r.y+i,w:r.w+a,h:r.h+l,radius:r.radius}}function $st(r,e,t,n,i){let a=i.samples||n;if(a>=t)return r.slice(e,e+t);let l=[],h=(t-2)/(a-2),g=0,w=e+t-1,C=e,D,F,z,Y,$;for(l[g++]=r[C],D=0;D<a-2;D++){let re=0,oe=0,ne,he=Math.floor((D+1)*h)+1+e,_=Math.min(Math.floor((D+2)*h)+1,t)+e,ge=_-he;for(ne=he;ne<_;ne++)re+=r[ne].x,oe+=r[ne].y;re/=ge,oe/=ge;let fe=Math.floor(D*h)+1+e,me=Math.min(Math.floor((D+1)*h)+1,t)+e,{x:we,y:Se}=r[C];for(z=Y=-1,ne=fe;ne<me;ne++)Y=.5*Math.abs((we-re)*(r[ne].y-Se)-(we-r[ne].x)*(oe-Se)),Y>z&&(z=Y,F=r[ne],$=ne);l[g++]=F,C=$}return l[g++]=r[w],l}function Gst(r,e,t,n){let i=0,a=0,l,h,g,w,C,D,F,z,Y,$,re=[],oe=e+t-1,ne=r[e].x,_=r[oe].x-ne;for(l=e;l<e+t;++l){h=r[l],g=(h.x-ne)/_*n,w=h.y;let ge=g|0;if(ge===C)w<Y?(Y=w,D=l):w>$&&($=w,F=l),i=(a*i+h.x)/++a;else{let fe=l-1;if(!ca(D)&&!ca(F)){let me=Math.min(D,F),we=Math.max(D,F);me!==z&&me!==fe&&re.push({...r[me],x:i}),we!==z&&we!==fe&&re.push({...r[we],x:i})}l>0&&fe!==z&&re.push(r[fe]),re.push(h),C=ge,a=0,Y=$=w,D=F=z=l}}return re}function _fe(r){if(r._decimated){let e=r._data;delete r._decimated,delete r._data,Object.defineProperty(r,"data",{value:e})}}function Uce(r){r.data.datasets.forEach(e=>{_fe(e)})}function Kst(r,e){let t=e.length,n=0,i,{iScale:a}=r,{min:l,max:h,minDefined:g,maxDefined:w}=a.getUserBounds();return g&&(n=mc(Am(e,a.axis,l).lo,0,t-1)),w?i=mc(Am(e,a.axis,h).hi+1,n,t)-n:i=t-n,{start:n,count:i}}function Zst(r,e){let t=r.getDatasetMeta(e);return t&&r.isDatasetVisible(e)?t.dataset:null}function Xst(r){let e=r.options,t=e.fill,n=eo(t&&t.target,t);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Jst(r,e,t){let n=Xst(r);if(Wo(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return tu(i)&&Math.floor(i)===i?((n[0]==="-"||n[0]==="+")&&(i=e+i),i===e||i<0||i>=t?!1:i):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Qst(r){let{scale:e={},fill:t}=r,n=null,i;return t==="start"?n=e.bottom:t==="end"?n=e.top:Wo(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),tu(n)?(i=e.isHorizontal(),{x:i?n:null,y:i?null:n}):null}function elt(r){let{scale:e,fill:t}=r,n=e.options,i=e.getLabels().length,a=[],l=n.reverse?e.max:e.min,h=n.reverse?e.min:e.max,g,w,C;if(t==="start"?C=l:t==="end"?C=h:Wo(t)?C=t.value:C=e.getBaseValue(),n.grid.circular)return w=e.getPointPositionForValue(0,l),new kO({x:w.x,y:w.y,radius:e.getDistanceFromCenterForValue(C)});for(g=0;g<i;++g)a.push(e.getPointPositionForValue(g,C));return a}function tlt(r){return(r.scale||{}).getPointPositionForValue?elt(r):Qst(r)}function wfe(r,e,t){for(;e>r;e--){let n=t[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function rlt(r,e){let{x:t=null,y:n=null}=r||{},i=e.points,a=[];return e.segments.forEach(({start:l,end:h})=>{h=wfe(l,h,i);let g=i[l],w=i[h];n!==null?(a.push({x:g.x,y:n}),a.push({x:w.x,y:n})):t!==null&&(a.push({x:t,y:g.y}),a.push({x:t,y:w.y}))}),a}function nlt(r){let{scale:e,index:t,line:n}=r,i=[],a=n.segments,l=n.points,h=ilt(e,t);h.push(Sfe({x:null,y:e.bottom},n));for(let g=0;g<a.length;g++){let w=a[g];for(let C=w.start;C<=w.end;C++)olt(i,l[C],h)}return new Om({points:i,options:{}})}function ilt(r,e){let t=[],n=r.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){let a=n[i];if(a.index===e)break;a.hidden||t.unshift(a.dataset)}return t}function olt(r,e,t){let n=[];for(let i=0;i<t.length;i++){let a=t[i],{first:l,last:h,point:g}=alt(a,e,"x");if(!(!g||l&&h)){if(l)n.unshift(g);else if(r.push(g),!h)break}}r.push(...n)}function alt(r,e,t){let n=r.interpolate(e,t);if(!n)return{};let i=n[t],a=r.segments,l=r.points,h=!1,g=!1;for(let w=0;w<a.length;w++){let C=a[w],D=l[C.start][t],F=l[C.end][t];if(Cm(i,D,F)){h=i===D,g=i===F;break}}return{first:h,last:g,point:n}}function slt(r){let{chart:e,fill:t,line:n}=r;if(tu(t))return Zst(e,t);if(t==="stack")return nlt(r);if(t==="shape")return!0;let i=tlt(r);return i instanceof kO?i:Sfe(i,n)}function Sfe(r,e){let t=[],n=!1;return Ts(r)?(n=!0,t=r):t=rlt(r,e),t.length?new Om({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function llt(r,e,t){let i=r[e].fill,a=[e],l;if(!t)return i;for(;i!==!1&&a.indexOf(i)===-1;){if(!tu(i))return i;if(l=r[i],!l)return!1;if(l.visible)return i;a.push(i),i=l.fill}return!1}function jce(r,e,t){r.beginPath(),e.path(r),r.lineTo(e.last().x,t),r.lineTo(e.first().x,t),r.closePath(),r.clip()}function C5(r,e,t,n){if(n)return;let i=e[r],a=t[r];return r==="angle"&&(i=Sh(i),a=Sh(a)),{property:r,start:i,end:a}}function Hce(r,e,t,n){return r&&e?n(r[t],e[t]):r?r[t]:e?e[t]:0}function ult(r,e,t){let n=r.segments,i=r.points,a=e.points,l=[];for(let h of n){let{start:g,end:w}=h;w=wfe(g,w,i);let C=C5(t,i[g],i[w],h.loop);if(!e.segments){l.push({source:h,target:C,start:i[g],end:i[w]});continue}let D=o5(e,C);for(let F of D){let z=C5(t,a[F.start],a[F.end],F.loop),Y=i5(h,i,z);for(let $ of Y)l.push({source:$,target:F,start:{[t]:Hce(C,z,"start",Math.max)},end:{[t]:Hce(C,z,"end",Math.min)}})}}return l}function clt(r,e,t){let{top:n,bottom:i}=e.chart.chartArea,{property:a,start:l,end:h}=t||{};a==="x"&&(r.beginPath(),r.rect(l,n,h-l,i-n),r.clip())}function Wce(r,e,t,n){let i=e.interpolate(t,n);i&&r.lineTo(i.x,i.y)}function Vce(r,e){let{line:t,target:n,property:i,color:a,scale:l}=e,h=ult(t,n,i);for(let{source:g,target:w,start:C,end:D}of h){let{style:{backgroundColor:F=a}={}}=g,z=n!==!0;r.save(),r.fillStyle=F,clt(r,l,z&&C5(i,C,D)),r.beginPath();let Y=!!t.pathSegment(r,g),$;if(z){Y?r.closePath():Wce(r,n,D,i);let re=!!n.pathSegment(r,w,{move:Y,reverse:!0});$=Y&&re,$||Wce(r,n,C,i)}r.closePath(),r.fill($?"evenodd":"nonzero"),r.restore()}}function flt(r,e){let{line:t,target:n,above:i,below:a,area:l,scale:h}=e,g=t._loop?"angle":e.axis;r.save(),g==="x"&&a!==i&&(jce(r,n,l.top),Vce(r,{line:t,target:n,color:i,scale:h,property:g}),r.restore(),r.save(),jce(r,n,l.bottom)),Vce(r,{line:t,target:n,color:a,scale:h,property:g}),r.restore()}function m5(r,e,t){let n=slt(e),{line:i,scale:a,axis:l}=e,h=i.options,g=h.fill,w=h.backgroundColor,{above:C=w,below:D=w}=g||{};n&&i.points.length&&(nT(r,t),flt(r,{line:i,target:n,above:C,below:D,area:t,scale:a,axis:l}),iT(r))}function plt(r,e){return!!(r==="mousemove"&&(e.onHover||e.onLeave)||e.onClick&&(r==="click"||r==="mouseup"))}function glt(r,e){let t=new vT({ctx:r.ctx,options:e,chart:r});bf.configure(r,t,e),bf.addBox(r,t),r.titleBlock=t}function Dm(r,e){return e&&(Ts(e)?Array.prototype.push.apply(r,e):r.push(e)),r}function Og(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function blt(r,e){let{element:t,datasetIndex:n,index:i}=e,a=r.getDatasetMeta(n).controller,{label:l,value:h}=a.getLabelAndValue(i);return{chart:r,label:l,parsed:a.getParsed(i),raw:r.data.datasets[n].data[i],formattedValue:h,dataset:a.getDataset(),dataIndex:i,datasetIndex:n,element:t}}function Gce(r,e){let t=r.chart.ctx,{body:n,footer:i,title:a}=r,{boxWidth:l,boxHeight:h}=e,g=$u(e.bodyFont),w=$u(e.titleFont),C=$u(e.footerFont),D=a.length,F=i.length,z=n.length,Y=Kc(e.padding),$=Y.height,re=0,oe=n.reduce((_,ge)=>_+ge.before.length+ge.lines.length+ge.after.length,0);if(oe+=r.beforeBody.length+r.afterBody.length,D&&($+=D*w.lineHeight+(D-1)*e.titleSpacing+e.titleMarginBottom),oe){let _=e.displayColors?Math.max(h,g.lineHeight):g.lineHeight;$+=z*_+(oe-z)*g.lineHeight+(oe-1)*e.bodySpacing}F&&($+=e.footerMarginTop+F*C.lineHeight+(F-1)*e.footerSpacing);let ne=0,he=function(_){re=Math.max(re,t.measureText(_).width+ne)};return t.save(),t.font=w.string,za(r.title,he),t.font=g.string,za(r.beforeBody.concat(r.afterBody),he),ne=e.displayColors?l+2+e.boxPadding:0,za(n,_=>{za(_.before,he),za(_.lines,he),za(_.after,he)}),ne=0,t.font=C.string,za(r.footer,he),t.restore(),re+=Y.width,{width:re,height:$}}function xlt(r,e){let{y:t,height:n}=e;return t<n/2?"top":t>r.height-n/2?"bottom":"center"}function _lt(r,e,t,n){let{x:i,width:a}=n,l=t.caretSize+t.caretPadding;if(r==="left"&&i+a+l>e.width||r==="right"&&i-a-l<0)return!0}function wlt(r,e,t,n){let{x:i,width:a}=t,{width:l,chartArea:{left:h,right:g}}=r,w="center";return n==="center"?w=i<=(h+g)/2?"left":"right":i<=a/2?w="left":i>=l-a/2&&(w="right"),_lt(w,r,e,t)&&(w="center"),w}function Kce(r,e,t){let n=t.yAlign||e.yAlign||xlt(r,t);return{xAlign:t.xAlign||e.xAlign||wlt(r,e,t,n),yAlign:n}}function Slt(r,e){let{x:t,width:n}=r;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function Tlt(r,e,t){let{y:n,height:i}=r;return e==="top"?n+=t:e==="bottom"?n-=i+t:n-=i/2,n}function Yce(r,e,t,n){let{caretSize:i,caretPadding:a,cornerRadius:l}=r,{xAlign:h,yAlign:g}=t,w=i+a,{topLeft:C,topRight:D,bottomLeft:F,bottomRight:z}=vb(l),Y=Slt(e,h),$=Tlt(e,g,w);return g==="center"?h==="left"?Y+=w:h==="right"&&(Y-=w):h==="left"?Y-=Math.max(C,F)+i:h==="right"&&(Y+=Math.max(D,z)+i),{x:mc(Y,0,n.width-e.width),y:mc($,0,n.height-e.height)}}function bO(r,e,t){let n=Kc(t.padding);return e==="center"?r.x+r.width/2:e==="right"?r.x+r.width-n.right:r.x+n.left}function Zce(r){return Dm([],Og(r))}function Elt(r,e,t){return Ag(r,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Xce(r,e){let t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?r.override(t):r}function Dlt(r,e,t,n){let i=r.indexOf(e);if(i===-1)return Alt(r,e,t,n);let a=r.lastIndexOf(e);return i!==a?t:i}function Ilt(r,e){let t=[],{bounds:i,step:a,min:l,max:h,precision:g,count:w,maxTicks:C,maxDigits:D,includeBounds:F}=r,z=a||1,Y=C-1,{min:$,max:re}=e,oe=!ca(l),ne=!ca(h),he=!ca(w),_=(re-$)/(D+1),ge=Fz((re-$)/Y/z)*z,fe,me,we,Se;if(ge<1e-14&&!oe&&!ne)return[{value:$},{value:re}];Se=Math.ceil(re/ge)-Math.floor($/ge),Se>Y&&(ge=Fz(Se*ge/Y/z)*z),ca(g)||(fe=Math.pow(10,g),ge=Math.ceil(ge*fe)/fe),i==="ticks"?(me=Math.floor($/ge)*ge,we=Math.ceil(re/ge)*ge):(me=$,we=re),oe&&ne&&a&&Hue((h-l)/a,ge/1e3)?(Se=Math.round(Math.min((h-l)/ge,C)),ge=(h-l)/Se,me=l,we=h):he?(me=oe?l:me,we=ne?h:we,Se=w-1,ge=(we-me)/Se):(Se=(we-me)/ge,Jx(Se,Math.round(Se),ge/1e3)?Se=Math.round(Se):Se=Math.ceil(Se));let be=Math.max(Nz(ge),Nz(me));fe=Math.pow(10,ca(g)?be:g),me=Math.round(me*fe)/fe,we=Math.round(we*fe)/fe;let $e=0;for(oe&&(F&&me!==l?(t.push({value:l}),me<l&&$e++,Jx(Math.round((me+$e*ge)*fe)/fe,l,Jce(l,_,r))&&$e++):me<l&&$e++);$e<Se;++$e)t.push({value:Math.round((me+$e*ge)*fe)/fe});return ne&&F&&we!==h?t.length&&Jx(t[t.length-1].value,h,Jce(h,_,r))?t[t.length-1].value=h:t.push({value:h}):(!ne||we===h)&&t.push({value:we}),t}function Jce(r,e,{horizontal:t,minRotation:n}){let i=tp(n),a=(t?Math.sin(i):Math.cos(i))||.001,l=.75*e*(""+r).length;return Math.min(e/a,l)}function Qce(r){return r/Math.pow(10,Math.floor(hd(r)))===1}function Mlt(r,e){let t=Math.floor(hd(e.max)),n=Math.ceil(e.max/Math.pow(10,t)),i=[],a=fd(r.min,Math.pow(10,Math.floor(hd(e.min)))),l=Math.floor(hd(a)),h=Math.floor(a/Math.pow(10,l)),g=l<0?Math.pow(10,Math.abs(l)):1;do i.push({value:a,major:Qce(a)}),++h,h===10&&(h=1,++l,g=l>=0?1:g),a=Math.round(h*Math.pow(10,l)*g)/g;while(l<t||l===t&&h<n);let w=fd(r.max,a);return i.push({value:w,major:Qce(a)}),i}function A5(r){let e=r.ticks;if(e.display&&r.display){let t=Kc(e.backdropPadding);return eo(e.font&&e.font.size,No.font.size)+t.height}return 0}function Llt(r,e,t){return t=Ts(t)?t:[t],{w:Zue(r,e.string,t),h:t.length*e.lineHeight}}function efe(r,e,t,n,i){return r===n||r===i?{start:e-t/2,end:e+t/2}:r<n||r>i?{start:e-t,end:e}:{start:e,end:e+t}}function Plt(r){let e={l:r.left+r._padding.left,r:r.right-r._padding.right,t:r.top+r._padding.top,b:r.bottom-r._padding.bottom},t=Object.assign({},e),n=[],i=[],a=r._pointLabels.length,l=r.options.pointLabels,h=l.centerPointLabels?$s/a:0;for(let g=0;g<a;g++){let w=l.setContext(r.getPointLabelContext(g));i[g]=w.padding;let C=r.getPointPosition(g,r.drawingArea+i[g],h),D=$u(w.font),F=Llt(r.ctx,D,r._pointLabels[g]);n[g]=F;let z=Sh(r.getIndexAngle(g)+h),Y=Math.round(sO(z)),$=efe(Y,C.x,F.w,0,180),re=efe(Y,C.y,F.h,90,270);Rlt(t,e,z,$,re)}r.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),r._pointLabelItems=Flt(r,n,i)}function Rlt(r,e,t,n,i){let a=Math.abs(Math.sin(t)),l=Math.abs(Math.cos(t)),h=0,g=0;n.start<e.l?(h=(e.l-n.start)/a,r.l=Math.min(r.l,e.l-h)):n.end>e.r&&(h=(n.end-e.r)/a,r.r=Math.max(r.r,e.r+h)),i.start<e.t?(g=(e.t-i.start)/l,r.t=Math.min(r.t,e.t-g)):i.end>e.b&&(g=(i.end-e.b)/l,r.b=Math.max(r.b,e.b+g))}function Flt(r,e,t){let n=[],i=r._pointLabels.length,a=r.options,l=A5(a)/2,h=r.drawingArea,g=a.pointLabels.centerPointLabels?$s/i:0;for(let w=0;w<i;w++){let C=r.getPointPosition(w,h+l+t[w],g),D=Math.round(sO(Sh(C.angle+Dl))),F=e[w],z=Blt(C.y,F.h,D),Y=qlt(D),$=Nlt(C.x,F.w,Y);n.push({x:C.x,y:z,textAlign:Y,left:$,top:z,right:$+F.w,bottom:z+F.h})}return n}function qlt(r){return r===0||r===180?"center":r<180?"left":"right"}function Nlt(r,e,t){return t==="right"?r-=e:t==="center"&&(r-=e/2),r}function Blt(r,e,t){return t===90||t===270?r-=e/2:(t>270||t<90)&&(r-=e),r}function zlt(r,e){let{ctx:t,options:{pointLabels:n}}=r;for(let i=e-1;i>=0;i--){let a=n.setContext(r.getPointLabelContext(i)),l=$u(a.font),{x:h,y:g,textAlign:w,left:C,top:D,right:F,bottom:z}=r._pointLabelItems[i],{backdropColor:Y}=a;if(!ca(Y)){let $=Kc(a.backdropPadding);t.fillStyle=Y,t.fillRect(C-$.left,D-$.top,F-C+$.width,z-D+$.height)}Wv(t,r._pointLabels[i],h,g+l.lineHeight/2,l,{color:a.color,textAlign:w,textBaseline:"middle"})}}function Tfe(r,e,t,n){let{ctx:i}=r;if(t)i.arc(r.xCenter,r.yCenter,e,0,ds);else{let a=r.getPointPosition(0,e);i.moveTo(a.x,a.y);for(let l=1;l<n;l++)a=r.getPointPosition(l,e),i.lineTo(a.x,a.y)}}function Ult(r,e,t,n){let i=r.ctx,a=e.circular,{color:l,lineWidth:h}=e;!a&&!n||!l||!h||t<0||(i.save(),i.strokeStyle=l,i.lineWidth=h,i.setLineDash(e.borderDash),i.lineDashOffset=e.borderDashOffset,i.beginPath(),Tfe(r,t,a,n),i.closePath(),i.stroke(),i.restore())}function jlt(r,e,t){return Ag(r,{label:t,index:e,type:"pointLabel"})}function Hlt(r,e){return r-e}function tfe(r,e){if(ca(e))return null;let t=r._adapter,{parser:n,round:i,isoWeekday:a}=r._parseOpts,l=e;return typeof n=="function"&&(l=n(l)),tu(l)||(l=typeof n=="string"?t.parse(l,n):t.parse(l)),l===null?null:(i&&(l=i==="week"&&(Xx(a)||a===!0)?t.startOf(l,"isoWeek",a):t.startOf(l,i)),+l)}function rfe(r,e,t,n){let i=Th.length;for(let a=Th.indexOf(r);a<i-1;++a){let l=DO[Th[a]],h=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(h*l.size))<=n)return Th[a]}return Th[i-1]}function Wlt(r,e,t,n,i){for(let a=Th.length-1;a>=Th.indexOf(t);a--){let l=Th[a];if(DO[l].common&&r._adapter.diff(i,n,l)>=e-1)return l}return Th[t?Th.indexOf(t):0]}function Vlt(r){for(let e=Th.indexOf(r)+1,t=Th.length;e<t;++e)if(DO[Th[e]].common)return Th[e]}function nfe(r,e,t){if(!t)r[e]=!0;else if(t.length){let{lo:n,hi:i}=fO(t,e),a=t[n]>=e?t[n]:t[i];r[a]=!0}}function $lt(r,e,t,n){let i=r._adapter,a=+i.startOf(e[0].value,n),l=e[e.length-1].value,h,g;for(h=a;h<=l;h=+i.add(h,1,n))g=t[h],g>=0&&(e[g].major=!0);return e}function ife(r,e,t){let n=[],i={},a=e.length,l,h;for(l=0;l<a;++l)h=e[l],i[h]=l,n.push({value:h,major:!1});return a===0||!t?n:$lt(r,n,i,t)}function xO(r,e,t){let n=0,i=r.length-1,a,l,h,g;t?(e>=r[n].pos&&e<=r[i].pos&&({lo:n,hi:i}=Am(r,"pos",e)),{pos:a,time:h}=r[n],{pos:l,time:g}=r[i]):(e>=r[n].time&&e<=r[i].time&&({lo:n,hi:i}=Am(r,"time",e)),{time:a,pos:h}=r[n],{time:l,pos:g}=r[i]);let w=l-a;return w?h+(g-h)*(e-a)/w:h}var g5,Dg,mce,Got,v5,Kot,Yot,Zot,wO,l5,_ce,sat,rp,i_,o_,Gv,xb,a_,pT,s_,l_,_at,mT,D5,Cat,sfe,bf,SO,y5,_O,Rat,Dce,ufe,gT,Oce,b5,dd,ffe,AO,est,Ice,Mg,n_,x5,Ig,_5,Pce,pfe,cT,T5,bst,_st,wst,EO,gfe,_b,Bce,Vv,u_,Nst,Om,c_,f_,Vst,Yst,kO,hlt,$ce,dlt,CO,mlt,vT,vlt,yO,ylt,dT,yT,klt,Clt,Alt,Olt,h_,d_,bT,xT,wb,DO,Th,Sb,_T,Glt,Efe,I5=ze(()=>{a5();a5();g5=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){let a=t.listeners[i],l=t.duration;a.forEach(h=>h({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(n-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Mz.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;let a=n.items,l=a.length-1,h=!1,g;for(;l>=0;--l)g=a[l],g._active?(g._total>n.duration&&(n.duration=g._total),g.tick(e),h=!0):(a[l]=a[a.length-1],a.pop());h&&(i.draw(),this._notify(i,n,e,"progress")),a.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){let t=this._charts,n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);!t||(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let n=t.items,i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},Dg=new g5,mce="transparent",Got={boolean(r,e,t){return t>.5?e:r},color(r,e,t){let n=Wz(r||mce),i=n.valid&&Wz(e||mce);return i&&i.valid?i.mix(n,t).hexString():e},number(r,e,t){return r+(e-r)*t}},v5=class{constructor(e,t,n,i){let a=t[n];i=e_([e.to,i,a,e.from]);let l=e_([e.from,a,i]);this._active=!0,this._fn=e.fn||Got[e.type||typeof l],this._easing=$x[e.easing]||$x.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);let i=this._target[this._prop],a=n-this._start,l=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=e_([e.to,t,i,e.from]),this._from=e_([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t=e-this._start,n=this._duration,i=this._prop,a=this._from,l=this._loop,h=this._to,g;if(this._active=a!==h&&(l||t<n),!this._active){this._target[i]=h,this._notify(!0);return}if(t<0){this._target[i]=a;return}g=t/n%2,g=l&&g>1?2-g:g,g=this._easing(Math.min(1,Math.max(0,g))),this._target[i]=this._fn(a,h,g)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){let t=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][t]()}},Kot=["x","y","borderWidth","radius","tension"],Yot=["color","borderColor","backgroundColor"];No.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});Zot=Object.keys(No.animation);No.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:r=>r!=="onProgress"&&r!=="onComplete"&&r!=="fn"});No.set("animations",{colors:{type:"color",properties:Yot},numbers:{type:"number",properties:Kot}});No.describe("animations",{_fallback:"animation"});No.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:r=>r|0}}}});wO=class{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Wo(e))return;let t=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{let i=e[n];if(!Wo(i))return;let a={};for(let l of Zot)a[l]=i[l];(Ts(i.properties)&&i.properties||[n]).forEach(l=>{(l===n||!t.has(l))&&t.set(l,a)})})}_animateOptions(e,t){let n=t.options,i=Jot(e,n);if(!i)return[];let a=this._createAnimations(i,n);return n.$shared&&Xot(e.options.$animations,n).then(()=>{e.options=n},()=>{}),a}_createAnimations(e,t){let n=this._properties,i=[],a=e.$animations||(e.$animations={}),l=Object.keys(t),h=Date.now(),g;for(g=l.length-1;g>=0;--g){let w=l[g];if(w.charAt(0)==="$")continue;if(w==="options"){i.push(...this._animateOptions(e,t));continue}let C=t[w],D=a[w],F=n.get(w);if(D)if(F&&D.active()){D.update(F,C,h);continue}else D.cancel();if(!F||!F.duration){e[w]=C;continue}a[w]=D=new v5(F,e,w,C),i.push(D)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}let n=this._createAnimations(e,t);if(n.length)return Dg.add(this._chart,n),!0}};l5=r=>r==="reset"||r==="none",_ce=(r,e)=>e?r:Object.assign({},r),sat=(r,e,t)=>r&&!e.hidden&&e._stacked&&{keys:ofe(t,!0),values:null},rp=class{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=yce(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&aT(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(D,F,z,Y)=>D==="x"?F:D==="r"?Y:z,a=t.xAxisID=eo(n.xAxisID,s5(e,"x")),l=t.yAxisID=eo(n.yAxisID,s5(e,"y")),h=t.rAxisID=eo(n.rAxisID,s5(e,"r")),g=t.indexAxis,w=t.iAxisID=i(g,a,l,h),C=t.vAxisID=i(g,l,a,h);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(h),t.iScale=this.getScaleForId(w),t.vScale=this.getScaleForId(C)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&Gz(this._data,this),e._stacked&&aT(e)}_dataCheck(){let e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Wo(t))this._data=tat(t);else if(n!==t){if(n){Gz(n,this);let i=this._cachedMeta;aT(i),i._parsed=[]}t&&Object.isExtensible(t)&&nce(t,this),this._syncList=[],this._data=t}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let t=this._cachedMeta,n=this.getDataset(),i=!1;this._dataCheck();let a=t._stacked;t._stacked=yce(t.vScale,t),t.stack!==n.stack&&(i=!0,aT(t),t.stack=n.stack),this._resyncElements(e),(i||a!==t._stacked)&&xce(this,t._parsed)}configure(){let e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){let{_cachedMeta:n,_data:i}=this,{iScale:a,_stacked:l}=n,h=a.axis,g=e===0&&t===i.length?!0:n._sorted,w=e>0&&n._parsed[e-1],C,D,F;if(this._parsing===!1)n._parsed=i,n._sorted=!0,F=i;else{Ts(i[e])?F=this.parseArrayData(n,i,e,t):Wo(i[e])?F=this.parseObjectData(n,i,e,t):F=this.parsePrimitiveData(n,i,e,t);let z=()=>D[h]===null||w&&D[h]<w[h];for(C=0;C<t;++C)n._parsed[C+e]=D=F[C],g&&(z()&&(g=!1),w=D);n._sorted=g}l&&xce(this,F)}parsePrimitiveData(e,t,n,i){let{iScale:a,vScale:l}=e,h=a.axis,g=l.axis,w=a.getLabels(),C=a===l,D=new Array(i),F,z,Y;for(F=0,z=i;F<z;++F)Y=F+n,D[F]={[h]:C||a.parse(w[Y],Y),[g]:l.parse(t[Y],Y)};return D}parseArrayData(e,t,n,i){let{xScale:a,yScale:l}=e,h=new Array(i),g,w,C,D;for(g=0,w=i;g<w;++g)C=g+n,D=t[C],h[g]={x:a.parse(D[0],C),y:l.parse(D[1],C)};return h}parseObjectData(e,t,n,i){let{xScale:a,yScale:l}=e,{xAxisKey:h="x",yAxisKey:g="y"}=this._parsing,w=new Array(i),C,D,F,z;for(C=0,D=i;C<D;++C)F=C+n,z=t[F],w[C]={x:a.parse(Uv(z,h),F),y:l.parse(Uv(z,g),F)};return w}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){let i=this.chart,a=this._cachedMeta,l=t[e.axis],h={keys:ofe(i,!0),values:t._stacks[e.axis]};return vce(h,l,a.index,{mode:n})}updateRangeFromParsed(e,t,n,i){let a=n[t.axis],l=a===null?NaN:a,h=i&&n._stacks[t.axis];i&&h&&(i.values=h,l=vce(i,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){let n=this._cachedMeta,i=n._parsed,a=n._sorted&&e===n.iScale,l=i.length,h=this._getOtherScale(e),g=sat(t,n,this.chart),w={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:C,max:D}=nat(h),F,z;function Y(){z=i[F];let $=z[h.axis];return!tu(z[e.axis])||C>$||D<$}for(F=0;F<l&&!(!Y()&&(this.updateRangeFromParsed(w,e,z,g),a));++F);if(a){for(F=l-1;F>=0;--F)if(!Y()){this.updateRangeFromParsed(w,e,z,g);break}}return w}getAllParsedValues(e){let t=this._cachedMeta._parsed,n=[],i,a,l;for(i=0,a=t.length;i<a;++i)l=t[i][e.axis],tu(l)&&n.push(l);return n}getMaxOverflow(){return!1}getLabelAndValue(e){let t=this._cachedMeta,n=t.iScale,i=t.vScale,a=this.getParsed(e);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(e){let t=this._cachedMeta;this.update(e||"default"),t._clip=eat(eo(this.options.clip,Qot(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],a=t.chartArea,l=[],h=this._drawStart||0,g=this._drawCount||i.length-h,w=this.options.drawActiveElementsOnTop,C;for(n.dataset&&n.dataset.draw(e,a,h,g),C=h;C<h+g;++C){let D=i[C];D.hidden||(D.active&&w?l.push(D):D.draw(e,a))}for(C=0;C<l.length;++C)l[C].draw(e,a)}getStyle(e,t){let n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){let i=this.getDataset(),a;if(e>=0&&e<this._cachedMeta.data.length){let l=this._cachedMeta.data[e];a=l.$context||(l.$context=aat(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=i.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=oat(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=n,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){let i=t==="active",a=this._cachedDataOpts,l=e+"-"+t,h=a[l],g=this.enableOptionSharing&&cd(n);if(h)return _ce(h,g);let w=this.chart.config,C=w.datasetElementScopeKeys(this._type,e),D=i?[`${e}Hover`,"hover",e,""]:[e,""],F=w.getOptionScopes(this.getDataset(),C),z=Object.keys(No.elements[e]),Y=()=>this.getContext(n,i),$=w.resolveNamedOptions(F,z,Y,D);return $.$shared&&($.$shared=g,a[l]=Object.freeze(_ce($,g))),$}_resolveAnimations(e,t,n){let i=this.chart,a=this._cachedDataOpts,l=`animation-${t}`,h=a[l];if(h)return h;let g;if(i.options.animation!==!1){let C=this.chart.config,D=C.datasetAnimationScopeKeys(this._type,t),F=C.getOptionScopes(this.getDataset(),D);g=C.createResolver(F,this.getContext(e,n,t))}let w=new wO(i,g&&g.animations);return g&&g._cacheable&&(a[l]=Object.freeze(w)),w}getSharedOptions(e){if(!!e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||l5(e)||this.chart._animationsDisabled}updateElement(e,t,n,i){l5(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!l5(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;let a=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let t=this._data,n=this._cachedMeta.data;for(let[h,g,w]of this._syncList)this[h](g,w);this._syncList=[];let i=n.length,a=t.length,l=Math.min(a,i);l&&this.parse(0,l),a>i?this._insertElements(i,a-i,e):a<i&&this._removeElements(a,i-a)}_insertElements(e,t,n=!0){let i=this._cachedMeta,a=i.data,l=e+t,h,g=w=>{for(w.length+=t,h=w.length-1;h>=l;h--)w[h]=w[h-t]};for(g(a),h=e;h<l;++h)a[h]=new this.dataElementType;this._parsing&&g(i._parsed),this.parse(e,t),n&&this.updateElements(a,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){let n=this._cachedMeta;if(this._parsing){let i=n._parsed.splice(e,t);n._stacked&&aT(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);let n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}};rp.defaults={};rp.prototype.datasetElementType=null;rp.prototype.dataElementType=null;i_=class extends rp{parsePrimitiveData(e,t,n,i){return wce(e,t,n,i)}parseArrayData(e,t,n,i){return wce(e,t,n,i)}parseObjectData(e,t,n,i){let{iScale:a,vScale:l}=e,{xAxisKey:h="x",yAxisKey:g="y"}=this._parsing,w=a.axis==="x"?h:g,C=l.axis==="x"?h:g,D=[],F,z,Y,$;for(F=n,z=n+i;F<z;++F)$=t[F],Y={},Y[a.axis]=a.parse(Uv($,w),F),D.push(afe(Uv($,C),Y,l,F));return D}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);let a=n._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let t=this._cachedMeta,{iScale:n,vScale:i}=t,a=this.getParsed(e),l=a._custom,h=u5(l)?"["+l.start+", "+l.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+n.getLabelForValue(a[n.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){let a=i==="reset",{index:l,_cachedMeta:{vScale:h}}=this,g=h.getBasePixel(),w=h.isHorizontal(),C=this._getRuler(),D=this.resolveDataElementOptions(t,i),F=this.getSharedOptions(D),z=this.includeOptions(i,F);this.updateSharedOptions(F,i,D);for(let Y=t;Y<t+n;Y++){let $=this.getParsed(Y),re=a||ca($[h.axis])?{base:g,head:g}:this._calculateBarValuePixels(Y),oe=this._calculateBarIndexPixels(Y,C),ne=($._stacks||{})[h.axis],he={horizontal:w,base:re.base,enableBorderRadius:!ne||u5($._custom)||l===ne._top||l===ne._bottom,x:w?re.head:oe.center,y:w?oe.center:re.head,height:w?oe.size:Math.abs(re.size),width:w?Math.abs(re.size):oe.size};z&&(he.options=F||this.resolveDataElementOptions(Y,e[Y].active?"active":i));let _=he.options||e[Y].options;mat(he,_,ne,l),vat(he,_,C.ratio),this.updateElement(e[Y],Y,he,i)}}_getStacks(e,t){let i=this._cachedMeta.iScale,a=i.getMatchingVisibleMetas(this._type),l=i.options.stacked,h=a.length,g=[],w,C;for(w=0;w<h;++w)if(C=a[w],!!C.controller.options.grouped){if(typeof t<"u"){let D=C.controller.getParsed(t)[C.controller._cachedMeta.vScale.axis];if(ca(D)||isNaN(D))continue}if((l===!1||g.indexOf(C.stack)===-1||l===void 0&&C.stack===void 0)&&g.push(C.stack),C.index===e)break}return g.length||g.push(void 0),g}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){let i=this._getStacks(e,n),a=t!==void 0?i.indexOf(t):-1;return a===-1?i.length-1:a}_getRuler(){let e=this.options,t=this._cachedMeta,n=t.iScale,i=[],a,l;for(a=0,l=t.data.length;a<l;++a)i.push(n.getPixelForValue(this.getParsed(a)[n.axis],a));let h=e.barThickness;return{min:h||uat(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:h?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:t,_stacked:n},options:{base:i,minBarLength:a}}=this,l=i||0,h=this.getParsed(e),g=h._custom,w=u5(g),C=h[t.axis],D=0,F=n?this.applyStack(t,h,n):C,z,Y;F!==C&&(D=F-C,F=C),w&&(C=g.barStart,F=g.barEnd-g.barStart,C!==0&&Bp(C)!==Bp(g.barEnd)&&(D=0),D+=C);let $=!ca(i)&&!w?i:D,re=t.getPixelForValue($);if(this.chart.getDataVisibility(e)?z=t.getPixelForValue(D+F):z=re,Y=z-re,Math.abs(Y)<a&&(Y=dat(Y,t,l)*a,C===l&&(re-=Y/2),z=re+Y),re===t.getPixelForValue(l)){let oe=Bp(Y)*t.getLineWidthForValue(l)/2;re+=oe,Y-=oe}return{size:Y,base:re,head:z,center:z+Y/2}}_calculateBarIndexPixels(e,t){let n=t.scale,i=this.options,a=i.skipNull,l=eo(i.maxBarThickness,1/0),h,g;if(t.grouped){let w=a?this._getStackCount(e):t.stackCount,C=i.barThickness==="flex"?fat(e,t,i,w):cat(e,t,i,w),D=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);h=C.start+C.chunk*D+C.chunk/2,g=Math.min(l,C.chunk*C.ratio)}else h=n.getPixelForValue(this.getParsed(e)[n.axis],e),g=Math.min(l,t.min*t.ratio);return{base:h-g/2,head:h+g/2,center:h,size:g}}draw(){let e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length,a=0;for(;a<i;++a)this.getParsed(a)[t.axis]!==null&&n[a].draw(this._ctx)}};i_.id="bar";i_.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};i_.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};o_=class extends rp{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,i){let a=super.parsePrimitiveData(e,t,n,i);for(let l=0;l<a.length;l++)a[l]._custom=this.resolveDataElementOptions(l+n).radius;return a}parseArrayData(e,t,n,i){let a=super.parseArrayData(e,t,n,i);for(let l=0;l<a.length;l++){let h=t[n+l];a[l]._custom=eo(h[2],this.resolveDataElementOptions(l+n).radius)}return a}parseObjectData(e,t,n,i){let a=super.parseObjectData(e,t,n,i);for(let l=0;l<a.length;l++){let h=t[n+l];a[l]._custom=eo(h&&h.r&&+h.r,this.resolveDataElementOptions(l+n).radius)}return a}getMaxOverflow(){let e=this._cachedMeta.data,t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){let t=this._cachedMeta,{xScale:n,yScale:i}=t,a=this.getParsed(e),l=n.getLabelForValue(a.x),h=i.getLabelForValue(a.y),g=a._custom;return{label:t.label,value:"("+l+", "+h+(g?", "+g:"")+")"}}update(e){let t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,i){let a=i==="reset",{iScale:l,vScale:h}=this._cachedMeta,g=this.resolveDataElementOptions(t,i),w=this.getSharedOptions(g),C=this.includeOptions(i,w),D=l.axis,F=h.axis;for(let z=t;z<t+n;z++){let Y=e[z],$=!a&&this.getParsed(z),re={},oe=re[D]=a?l.getPixelForDecimal(.5):l.getPixelForValue($[D]),ne=re[F]=a?h.getBasePixel():h.getPixelForValue($[F]);re.skip=isNaN(oe)||isNaN(ne),C&&(re.options=this.resolveDataElementOptions(z,Y.active?"active":i),a&&(re.options.radius=0)),this.updateElement(Y,z,re,i)}this.updateSharedOptions(w,i,g)}resolveDataElementOptions(e,t){let n=this.getParsed(e),i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));let a=i.radius;return t!=="active"&&(i.radius=0),i.radius+=eo(n&&n._custom,a),i}};o_.id="bubble";o_.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};o_.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};Gv=class extends rp{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){let n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let a=g=>+n[g];if(Wo(n[e])){let{key:g="value"}=this._parsing;a=w=>+Uv(n[w],g)}let l,h;for(l=e,h=e+t;l<h;++l)i._parsed[l]=a(l)}}_getRotation(){return tp(this.options.rotation-90)}_getCircumference(){return tp(this.options.circumference)}_getRotationExtents(){let e=ds,t=-ds;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){let i=this.chart.getDatasetMeta(n).controller,a=i._getRotation(),l=i._getCircumference();e=Math.min(e,a),t=Math.max(t,a+l)}return{rotation:e,circumference:t-e}}update(e){let t=this.chart,{chartArea:n}=t,i=this._cachedMeta,a=i.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,h=Math.max((Math.min(n.width,n.height)-l)/2,0),g=Math.min(Bue(this.options.cutout,h),1),w=this._getRingWeight(this.index),{circumference:C,rotation:D}=this._getRotationExtents(),{ratioX:F,ratioY:z,offsetX:Y,offsetY:$}=yat(D,C,g),re=(n.width-l)/F,oe=(n.height-l)/z,ne=Math.max(Math.min(re,oe)/2,0),he=Pz(this.options.radius,ne),_=Math.max(he*g,0),ge=(he-_)/this._getVisibleDatasetWeightTotal();this.offsetX=Y*he,this.offsetY=$*he,i.total=this.calculateTotal(),this.outerRadius=he-ge*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ge*w,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){let n=this.options,i=this._cachedMeta,a=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*a/ds)}updateElements(e,t,n,i){let a=i==="reset",l=this.chart,h=l.chartArea,w=l.options.animation,C=(h.left+h.right)/2,D=(h.top+h.bottom)/2,F=a&&w.animateScale,z=F?0:this.innerRadius,Y=F?0:this.outerRadius,$=this.resolveDataElementOptions(t,i),re=this.getSharedOptions($),oe=this.includeOptions(i,re),ne=this._getRotation(),he;for(he=0;he<t;++he)ne+=this._circumference(he,a);for(he=t;he<t+n;++he){let _=this._circumference(he,a),ge=e[he],fe={x:C+this.offsetX,y:D+this.offsetY,startAngle:ne,endAngle:ne+_,circumference:_,outerRadius:Y,innerRadius:z};oe&&(fe.options=re||this.resolveDataElementOptions(he,ge.active?"active":i)),ne+=_,this.updateElement(ge,he,fe,i)}this.updateSharedOptions(re,i,$)}calculateTotal(){let e=this._cachedMeta,t=e.data,n=0,i;for(i=0;i<t.length;i++){let a=e._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(n+=Math.abs(a))}return n}calculateCircumference(e){let t=this._cachedMeta.total;return t>0&&!isNaN(e)?ds*(Math.abs(e)/t):0}getLabelAndValue(e){let t=this._cachedMeta,n=this.chart,i=n.data.labels||[],a=t_(t._parsed[e],n.options.locale);return{label:i[e]||"",value:a}}getMaxBorderWidth(e){let t=0,n=this.chart,i,a,l,h,g;if(!e){for(i=0,a=n.data.datasets.length;i<a;++i)if(n.isDatasetVisible(i)){l=n.getDatasetMeta(i),e=l.data,h=l.controller;break}}if(!e)return 0;for(i=0,a=e.length;i<a;++i)g=h.resolveDataElementOptions(i),g.borderAlign!=="inner"&&(t=Math.max(t,g.borderWidth||0,g.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){let a=this.resolveDataElementOptions(n);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(eo(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}};Gv.id="doughnut";Gv.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};Gv.descriptors={_scriptable:r=>r!=="spacing",_indexable:r=>r!=="spacing"};Gv.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){let e=r.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:t}}=r.legend.options;return e.labels.map((n,i)=>{let l=r.getDatasetMeta(0).controller.getStyle(i);return{text:n,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,lineWidth:l.borderWidth,pointStyle:t,hidden:!r.getDataVisibility(i),index:i}})}return[]}},onClick(r,e,t){t.chart.toggleDataVisibility(e.index),t.chart.update()}},tooltip:{callbacks:{title(){return""},label(r){let e=r.label,t=": "+r.formattedValue;return Ts(e)?(e=e.slice(),e[0]+=t):e+=t,e}}}}};xb=class extends rp{initialize(){this.enableOptionSharing=!0,super.initialize()}update(e){let t=this._cachedMeta,{dataset:n,data:i=[],_dataset:a}=t,l=this.chart._animationsDisabled,{start:h,count:g}=bat(t,i,l);this._drawStart=h,this._drawCount=g,xat(t)&&(h=0,g=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=i;let w=this.resolveDatasetElementOptions(e);this.options.showLine||(w.borderWidth=0),w.segment=this.options.segment,this.updateElement(n,void 0,{animated:!l,options:w},e),this.updateElements(i,h,g,e)}updateElements(e,t,n,i){let a=i==="reset",{iScale:l,vScale:h,_stacked:g,_dataset:w}=this._cachedMeta,C=this.resolveDataElementOptions(t,i),D=this.getSharedOptions(C),F=this.includeOptions(i,D),z=l.axis,Y=h.axis,{spanGaps:$,segment:re}=this.options,oe=Xx($)?$:Number.POSITIVE_INFINITY,ne=this.chart._animationsDisabled||a||i==="none",he=t>0&&this.getParsed(t-1);for(let _=t;_<t+n;++_){let ge=e[_],fe=this.getParsed(_),me=ne?ge:{},we=ca(fe[Y]),Se=me[z]=l.getPixelForValue(fe[z],_),be=me[Y]=a||we?h.getBasePixel():h.getPixelForValue(g?this.applyStack(h,fe,g):fe[Y],_);me.skip=isNaN(Se)||isNaN(be)||we,me.stop=_>0&&fe[z]-he[z]>oe,re&&(me.parsed=fe,me.raw=w.data[_]),F&&(me.options=D||this.resolveDataElementOptions(_,ge.active?"active":i)),ne||this.updateElement(ge,_,me,i),he=fe}this.updateSharedOptions(D,i,C)}getMaxOverflow(){let e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;let a=i[0].size(this.resolveDataElementOptions(0)),l=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,a,l)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}};xb.id="line";xb.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};xb.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};a_=class extends rp{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let t=this._cachedMeta,n=this.chart,i=n.data.labels||[],a=t_(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:a}}update(e){let t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}_updateRadius(){let e=this.chart,t=e.chartArea,n=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),a=Math.max(i/2,0),l=Math.max(n.cutoutPercentage?a/100*n.cutoutPercentage:1,0),h=(a-l)/e.getVisibleDatasetCount();this.outerRadius=a-h*this.index,this.innerRadius=this.outerRadius-h}updateElements(e,t,n,i){let a=i==="reset",l=this.chart,h=this.getDataset(),w=l.options.animation,C=this._cachedMeta.rScale,D=C.xCenter,F=C.yCenter,z=C.getIndexAngle(0)-.5*$s,Y=z,$,re=360/this.countVisibleElements();for($=0;$<t;++$)Y+=this._computeAngle($,i,re);for($=t;$<t+n;$++){let oe=e[$],ne=Y,he=Y+this._computeAngle($,i,re),_=l.getDataVisibility($)?C.getDistanceFromCenterForValue(h.data[$]):0;Y=he,a&&(w.animateScale&&(_=0),w.animateRotate&&(ne=he=z));let ge={x:D,y:F,innerRadius:0,outerRadius:_,startAngle:ne,endAngle:he,options:this.resolveDataElementOptions($,oe.active?"active":i)};this.updateElement(oe,$,ge,i)}}countVisibleElements(){let e=this.getDataset(),t=this._cachedMeta,n=0;return t.data.forEach((i,a)=>{!isNaN(e.data[a])&&this.chart.getDataVisibility(a)&&n++}),n}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?tp(this.resolveDataElementOptions(e,t).angle||n):0}};a_.id="polarArea";a_.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};a_.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){let e=r.data;if(e.labels.length&&e.datasets.length){let{labels:{pointStyle:t}}=r.legend.options;return e.labels.map((n,i)=>{let l=r.getDatasetMeta(0).controller.getStyle(i);return{text:n,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,lineWidth:l.borderWidth,pointStyle:t,hidden:!r.getDataVisibility(i),index:i}})}return[]}},onClick(r,e,t){t.chart.toggleDataVisibility(e.index),t.chart.update()}},tooltip:{callbacks:{title(){return""},label(r){return r.chart.data.labels[r.dataIndex]+": "+r.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};pT=class extends Gv{};pT.id="pie";pT.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};s_=class extends rp{getLabelAndValue(e){let t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}update(e){let t=this._cachedMeta,n=t.dataset,i=t.data||[],a=t.iScale.getLabels();if(n.points=i,e!=="resize"){let l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0);let h={_loop:!0,_fullLoop:a.length===i.length,options:l};this.updateElement(n,void 0,h,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,n,i){let a=this.getDataset(),l=this._cachedMeta.rScale,h=i==="reset";for(let g=t;g<t+n;g++){let w=e[g],C=this.resolveDataElementOptions(g,w.active?"active":i),D=l.getPointPositionForValue(g,a.data[g]),F=h?l.xCenter:D.x,z=h?l.yCenter:D.y,Y={x:F,y:z,angle:D.angle,skip:isNaN(F)||isNaN(z),options:C};this.updateElement(w,g,Y,i)}}};s_.id="radar";s_.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};s_.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};l_=class extends xb{};l_.id="scatter";l_.defaults={showLine:!1,fill:!1};l_.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(r){return"("+r.label+", "+r.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};_at=Object.freeze({__proto__:null,BarController:i_,BubbleController:o_,DoughnutController:Gv,LineController:xb,PolarAreaController:a_,PieController:pT,RadarController:s_,ScatterController:l_});mT=class{constructor(e){this.options=e||{}}formats(){return bb()}parse(e,t){return bb()}format(e,t){return bb()}add(e,t,n){return bb()}diff(e,t,n){return bb()}startOf(e,t,n){return bb()}endOf(e,t){return bb()}};mT.override=function(r){Object.assign(mT.prototype,r)};D5={_date:mT};Cat={modes:{index(r,e,t,n){let i=fT(e,r),a=t.axis||"x",l=t.intersect?c5(r,i,a,n):f5(r,i,a,!1,n),h=[];return l.length?(r.getSortedVisibleDatasetMetas().forEach(g=>{let w=l[0].index,C=g.data[w];C&&!C.skip&&h.push({element:C,datasetIndex:g.index,index:w})}),h):[]},dataset(r,e,t,n){let i=fT(e,r),a=t.axis||"xy",l=t.intersect?c5(r,i,a,n):f5(r,i,a,!1,n);if(l.length>0){let h=l[0].datasetIndex,g=r.getDatasetMeta(h).data;l=[];for(let w=0;w<g.length;++w)l.push({element:g[w],datasetIndex:h,index:w})}return l},point(r,e,t,n){let i=fT(e,r),a=t.axis||"xy";return c5(r,i,a,n)},nearest(r,e,t,n){let i=fT(e,r),a=t.axis||"xy";return f5(r,i,a,t.intersect,n)},x(r,e,t,n){return Ece(r,e,{axis:"x",intersect:t.intersect},n)},y(r,e,t,n){return Ece(r,e,{axis:"y",intersect:t.intersect},n)}}},sfe=["left","top","right","bottom"];No.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});bf={addBox(r,e){r.boxes||(r.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},r.boxes.push(e)},removeBox(r,e){let t=r.boxes?r.boxes.indexOf(e):-1;t!==-1&&r.boxes.splice(t,1)},configure(r,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(r,e,t,n){if(!r)return;let i=Kc(r.options.layout.padding),a=Math.max(e-i.width,0),l=Math.max(t-i.height,0),h=Iat(r.boxes),g=h.vertical,w=h.horizontal;za(r.boxes,$=>{typeof $.beforeLayout=="function"&&$.beforeLayout()});let C=g.reduce(($,re)=>re.box.options&&re.box.options.display===!1?$:$+1,0)||1,D=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/C,hBoxMaxHeight:l/2}),F=Object.assign({},i);lfe(F,Kc(n));let z=Object.assign({maxPadding:F,w:a,h:l,x:i.left,y:i.top},i),Y=Oat(g.concat(w),D);hT(h.fullSize,z,D,Y),hT(g,z,D,Y),hT(w,z,D,Y)&&hT(g,z,D,Y),Lat(z),Ace(h.leftAndTop,z,D,Y),z.x+=z.w,z.y+=z.h,Ace(h.rightAndBottom,z,D,Y),r.chartArea={left:z.left,top:z.top,right:z.left+z.w,bottom:z.top+z.h,height:z.h,width:z.w},za(h.chartArea,$=>{let re=$.box;Object.assign(re,r.chartArea),re.update(z.w,z.h,{left:0,top:0,right:0,bottom:0})})}},SO=class{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}},y5=class extends SO{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},_O="$chartjs",Rat={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Dce=r=>r===null||r==="";ufe=cce?{passive:!0}:!1;gT=new Map,Oce=0;b5=class extends SO{acquireContext(e,t){let n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(Fat(e,t),n):null}releaseContext(e){let t=e.canvas;if(!t[_O])return!1;let n=t[_O].initial;["height","width"].forEach(a=>{let l=n[a];ca(l)?t.removeAttribute(a):t.setAttribute(a,l)});let i=n.style||{};return Object.keys(i).forEach(a=>{t.style[a]=i[a]}),t.width=t.width,delete t[_O],!0}addEventListener(e,t,n){this.removeEventListener(e,t);let i=e.$proxies||(e.$proxies={}),l={attach:zat,detach:Uat,resize:Wat}[t]||Vat;i[t]=l(e,t,n)}removeEventListener(e,t){let n=e.$proxies||(e.$proxies={}),i=n[t];if(!i)return;({attach:h5,detach:h5,resize:h5}[t]||Nat)(e,t,i),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return uce(e,t,n,i)}isAttached(e){let t=dO(e);return!!(t&&t.isConnected)}};dd=class{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){let{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Xx(this.x)&&Xx(this.y)}getProps(e,t){let n=this.$animations;if(!t||!n)return this;let i={};return e.forEach(a=>{i[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),i}};dd.defaults={};dd.defaultRoutes=void 0;ffe={values(r){return Ts(r)?r:""+r},numeric(r,e,t){if(r===0)return"0";let n=this.chart.options.locale,i,a=r;if(t.length>1){let w=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(w<1e-4||w>1e15)&&(i="scientific"),a=Gat(r,t)}let l=hd(Math.abs(a)),h=Math.max(Math.min(-1*Math.floor(l),20),0),g={notation:i,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(g,this.options.ticks.format),t_(r,n,g)},logarithmic(r,e,t){if(r===0)return"0";let n=r/Math.pow(10,Math.floor(hd(r)));return n===1||n===2||n===5?ffe.numeric.call(this,r,e,t):""}};AO={formatters:ffe};No.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(r,e)=>e.lineWidth,tickColor:(r,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:AO.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});No.route("scale.ticks","color","","color");No.route("scale.grid","color","","borderColor");No.route("scale.grid","borderColor","","borderColor");No.route("scale.title","color","","color");No.describe("scale",{_fallback:!1,_scriptable:r=>!r.startsWith("before")&&!r.startsWith("after")&&r!=="callback"&&r!=="parser",_indexable:r=>r!=="borderDash"&&r!=="tickBorderDash"});No.describe("scales",{_fallback:"scale"});No.describe("scale.ticks",{_scriptable:r=>r!=="backdropPadding"&&r!=="callback",_indexable:r=>r!=="backdropPadding"});est=r=>r==="left"?"right":r==="right"?"left":r,Ice=(r,e,t)=>e==="top"||e==="left"?r[e]+t:r[e]-t;Mg=class extends dd{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=fd(e,Number.POSITIVE_INFINITY),t=fd(t,Number.NEGATIVE_INFINITY),n=fd(n,Number.POSITIVE_INFINITY),i=fd(i,Number.NEGATIVE_INFINITY),{min:fd(e,n),max:fd(t,i),minDefined:tu(e),maxDefined:tu(t)}}getMinMax(e){let{min:t,max:n,minDefined:i,maxDefined:a}=this.getUserBounds(),l;if(i&&a)return{min:t,max:n};let h=this.getMatchingVisibleMetas();for(let g=0,w=h.length;g<w;++g)l=h[g].controller.getMinMax(this,e),i||(t=Math.min(t,l.min)),a||(n=Math.max(n,l.max));return t=a&&t>n?n:t,n=i&&t>n?t:n,{min:fd(t,fd(n,t)),max:fd(n,fd(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Es(this.options.beforeUpdate,[this])}update(e,t,n){let{beginAtZero:i,grace:a,ticks:l}=this.options,h=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Que(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let g=h<this.ticks.length;this._convertTicksToLabels(g?Mce(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Kat(this,this.ticks),this._labelSizes=null),g&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Es(this.options.afterUpdate,[this])}beforeSetDimensions(){Es(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Es(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Es(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Es(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t=this.options.ticks,n,i,a;for(n=0,i=e.length;n<i;n++)a=e[n],a.label=Es(t.callback,[a.value,n,e],this)}afterTickToLabelConversion(){Es(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Es(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,t=e.ticks,n=this.ticks.length,i=t.minRotation||0,a=t.maxRotation,l=i,h,g,w;if(!this._isVisible()||!t.display||i>=a||n<=1||!this.isHorizontal()){this.labelRotation=i;return}let C=this._getLabelSizes(),D=C.widest.width,F=C.highest.height,z=mc(this.chart.width-D,0,this.maxWidth);h=e.offset?this.maxWidth/n:z/(n-1),D+6>h&&(h=z/(n-(e.offset?.5:1)),g=this.maxHeight-uT(e.grid)-t.padding-Lce(e.title,this.chart.options.font),w=Math.sqrt(D*D+F*F),l=sO(Math.min(Math.asin(mc((C.highest.height+6)/h,-1,1)),Math.asin(mc(g/w,-1,1))-Math.asin(mc(F/w,-1,1)))),l=Math.max(i,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Es(this.options.afterCalculateLabelRotation,[this])}beforeFit(){Es(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:a}}=this,l=this._isVisible(),h=this.isHorizontal();if(l){let g=Lce(i,t.options.font);if(h?(e.width=this.maxWidth,e.height=uT(a)+g):(e.height=this.maxHeight,e.width=uT(a)+g),n.display&&this.ticks.length){let{first:w,last:C,widest:D,highest:F}=this._getLabelSizes(),z=n.padding*2,Y=tp(this.labelRotation),$=Math.cos(Y),re=Math.sin(Y);if(h){let oe=n.mirror?0:re*D.width+$*F.height;e.height=Math.min(this.maxHeight,e.height+oe+z)}else{let oe=n.mirror?0:$*D.width+re*F.height;e.width=Math.min(this.maxWidth,e.width+oe+z)}this._calculatePadding(w,C,re,$)}}this._handleMargins(),h?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){let{ticks:{align:a,padding:l},position:h}=this.options,g=this.labelRotation!==0,w=h!=="top"&&this.axis==="x";if(this.isHorizontal()){let C=this.getPixelForTick(0)-this.left,D=this.right-this.getPixelForTick(this.ticks.length-1),F=0,z=0;g?w?(F=i*e.width,z=n*t.height):(F=n*e.height,z=i*t.width):a==="start"?z=t.width:a==="end"?F=e.width:(F=e.width/2,z=t.width/2),this.paddingLeft=Math.max((F-C+l)*this.width/(this.width-C),0),this.paddingRight=Math.max((z-D+l)*this.width/(this.width-D),0)}else{let C=t.height/2,D=e.height/2;a==="start"?(C=0,D=e.height):a==="end"&&(C=t.height,D=0),this.paddingTop=C+l,this.paddingBottom=D+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Es(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)ca(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,n=this.ticks;t<n.length&&(n=Mce(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length)}return e}_computeLabelSizes(e,t){let{ctx:n,_longestTextCache:i}=this,a=[],l=[],h=0,g=0,w,C,D,F,z,Y,$,re,oe,ne,he;for(w=0;w<t;++w){if(F=e[w].label,z=this._resolveTickFontOptions(w),n.font=Y=z.string,$=i[Y]=i[Y]||{data:{},gc:[]},re=z.lineHeight,oe=ne=0,!ca(F)&&!Ts(F))oe=QS(n,$.data,$.gc,oe,F),ne=re;else if(Ts(F))for(C=0,D=F.length;C<D;++C)he=F[C],!ca(he)&&!Ts(he)&&(oe=QS(n,$.data,$.gc,oe,he),ne+=re);a.push(oe),l.push(ne),h=Math.max(oe,h),g=Math.max(ne,g)}rst(i,t);let _=a.indexOf(h),ge=l.indexOf(g),fe=me=>({width:a[me]||0,height:l[me]||0});return{first:fe(0),last:fe(t-1),widest:fe(_),highest:fe(ge),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return Wue(this._alignToPixels?Hv(this.chart,t,0):t)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let n=t[e];return n.$context||(n.$context=ist(this.getContext(),e,n))}return this.$context||(this.$context=nst(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,t=tp(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,h=a?a.widest.width+l:0,g=a?a.highest.height+l:0;return this.isHorizontal()?g*n>h*i?h/n:g/i:g*i<h*n?g/n:h/i}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t=this.axis,n=this.chart,i=this.options,{grid:a,position:l}=i,h=a.offset,g=this.isHorizontal(),C=this.ticks.length+(h?1:0),D=uT(a),F=[],z=a.setContext(this.getContext()),Y=z.drawBorder?z.borderWidth:0,$=Y/2,re=function(j){return Hv(n,j,Y)},oe,ne,he,_,ge,fe,me,we,Se,be,$e,q;if(l==="top")oe=re(this.bottom),fe=this.bottom-D,we=oe-$,be=re(e.top)+$,q=e.bottom;else if(l==="bottom")oe=re(this.top),be=e.top,q=re(e.bottom)-$,fe=oe+$,we=this.top+D;else if(l==="left")oe=re(this.right),ge=this.right-D,me=oe-$,Se=re(e.left)+$,$e=e.right;else if(l==="right")oe=re(this.left),Se=e.left,$e=re(e.right)-$,ge=oe+$,me=this.left+D;else if(t==="x"){if(l==="center")oe=re((e.top+e.bottom)/2+.5);else if(Wo(l)){let j=Object.keys(l)[0],G=l[j];oe=re(this.chart.scales[j].getPixelForValue(G))}be=e.top,q=e.bottom,fe=oe+$,we=fe+D}else if(t==="y"){if(l==="center")oe=re((e.left+e.right)/2);else if(Wo(l)){let j=Object.keys(l)[0],G=l[j];oe=re(this.chart.scales[j].getPixelForValue(G))}ge=oe-$,me=ge-D,Se=e.left,$e=e.right}let ee=eo(i.ticks.maxTicksLimit,C),R=Math.max(1,Math.ceil(C/ee));for(ne=0;ne<C;ne+=R){let j=a.setContext(this.getContext(ne)),G=j.lineWidth,V=j.color,te=a.borderDash||[],_e=j.borderDashOffset,K=j.tickWidth,U=j.tickColor,Ue=j.tickBorderDash||[],Je=j.tickBorderDashOffset;he=tst(this,ne,h),he!==void 0&&(_=Hv(n,he,G),g?ge=me=Se=$e=_:fe=we=be=q=_,F.push({tx1:ge,ty1:fe,tx2:me,ty2:we,x1:Se,y1:be,x2:$e,y2:q,width:G,color:V,borderDash:te,borderDashOffset:_e,tickWidth:K,tickColor:U,tickBorderDash:Ue,tickBorderDashOffset:Je}))}return this._ticksLength=C,this._borderValue=oe,F}_computeLabelItems(e){let t=this.axis,n=this.options,{position:i,ticks:a}=n,l=this.isHorizontal(),h=this.ticks,{align:g,crossAlign:w,padding:C,mirror:D}=a,F=uT(n.grid),z=F+C,Y=D?-C:z,$=-tp(this.labelRotation),re=[],oe,ne,he,_,ge,fe,me,we,Se,be,$e,q,ee="middle";if(i==="top")fe=this.bottom-Y,me=this._getXAxisLabelAlignment();else if(i==="bottom")fe=this.top+Y,me=this._getXAxisLabelAlignment();else if(i==="left"){let j=this._getYAxisLabelAlignment(F);me=j.textAlign,ge=j.x}else if(i==="right"){let j=this._getYAxisLabelAlignment(F);me=j.textAlign,ge=j.x}else if(t==="x"){if(i==="center")fe=(e.top+e.bottom)/2+z;else if(Wo(i)){let j=Object.keys(i)[0],G=i[j];fe=this.chart.scales[j].getPixelForValue(G)+z}me=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")ge=(e.left+e.right)/2-z;else if(Wo(i)){let j=Object.keys(i)[0],G=i[j];ge=this.chart.scales[j].getPixelForValue(G)}me=this._getYAxisLabelAlignment(F).textAlign}t==="y"&&(g==="start"?ee="top":g==="end"&&(ee="bottom"));let R=this._getLabelSizes();for(oe=0,ne=h.length;oe<ne;++oe){he=h[oe],_=he.label;let j=a.setContext(this.getContext(oe));we=this.getPixelForTick(oe)+a.labelOffset,Se=this._resolveTickFontOptions(oe),be=Se.lineHeight,$e=Ts(_)?_.length:1;let G=$e/2,V=j.color,te=j.textStrokeColor,_e=j.textStrokeWidth;l?(ge=we,i==="top"?w==="near"||$!==0?q=-$e*be+be/2:w==="center"?q=-R.highest.height/2-G*be+be:q=-R.highest.height+be/2:w==="near"||$!==0?q=be/2:w==="center"?q=R.highest.height/2-G*be:q=R.highest.height-$e*be,D&&(q*=-1)):(fe=we,q=(1-$e)*be/2);let K;if(j.showLabelBackdrop){let U=Kc(j.backdropPadding),Ue=R.heights[oe],Je=R.widths[oe],Qe=fe+q-U.top,Ct=ge-U.left;switch(ee){case"middle":Qe-=Ue/2;break;case"bottom":Qe-=Ue;break}switch(me){case"center":Ct-=Je/2;break;case"right":Ct-=Je;break}K={left:Ct,top:Qe,width:Je+U.width,height:Ue+U.height,color:j.backdropColor}}re.push({rotation:$,label:_,font:Se,color:V,strokeColor:te,strokeWidth:_e,textOffset:q,textAlign:me,textBaseline:ee,translation:[ge,fe],backdrop:K})}return re}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-tp(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"&&(i="right"),i}_getYAxisLabelAlignment(e){let{position:t,ticks:{crossAlign:n,mirror:i,padding:a}}=this.options,l=this._getLabelSizes(),h=e+a,g=l.widest.width,w,C;return t==="left"?i?(C=this.right+a,n==="near"?w="left":n==="center"?(w="center",C+=g/2):(w="right",C+=g)):(C=this.right-h,n==="near"?w="right":n==="center"?(w="center",C-=g/2):(w="left",C=this.left)):t==="right"?i?(C=this.left+a,n==="near"?w="right":n==="center"?(w="center",C-=g/2):(w="left",C-=g)):(C=this.left+h,n==="near"?w="left":n==="center"?(w="center",C+=g/2):(w="right",C=this.right)):w="right",{textAlign:w,x:C}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:n,top:i,width:a,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,a,l),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let i=this.ticks.findIndex(a=>a.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){let t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),a,l,h=(g,w,C)=>{!C.width||!C.color||(n.save(),n.lineWidth=C.width,n.strokeStyle=C.color,n.setLineDash(C.borderDash||[]),n.lineDashOffset=C.borderDashOffset,n.beginPath(),n.moveTo(g.x,g.y),n.lineTo(w.x,w.y),n.stroke(),n.restore())};if(t.display)for(a=0,l=i.length;a<l;++a){let g=i[a];t.drawOnChartArea&&h({x:g.x1,y:g.y1},{x:g.x2,y:g.y2},g),t.drawTicks&&h({x:g.tx1,y:g.ty1},{x:g.tx2,y:g.ty2},{color:g.tickColor,width:g.tickWidth,borderDash:g.tickBorderDash,borderDashOffset:g.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:t,options:{grid:n}}=this,i=n.setContext(this.getContext()),a=n.drawBorder?i.borderWidth:0;if(!a)return;let l=n.setContext(this.getContext(0)).lineWidth,h=this._borderValue,g,w,C,D;this.isHorizontal()?(g=Hv(e,this.left,a)-a/2,w=Hv(e,this.right,l)+l/2,C=D=h):(C=Hv(e,this.top,a)-a/2,D=Hv(e,this.bottom,l)+l/2,g=w=h),t.save(),t.lineWidth=i.borderWidth,t.strokeStyle=i.borderColor,t.beginPath(),t.moveTo(g,C),t.lineTo(w,D),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;let n=this.ctx,i=this._computeLabelArea();i&&nT(n,i);let a=this._labelItems||(this._labelItems=this._computeLabelItems(e)),l,h;for(l=0,h=a.length;l<h;++l){let g=a[l],w=g.font,C=g.label;g.backdrop&&(n.fillStyle=g.backdrop.color,n.fillRect(g.backdrop.left,g.backdrop.top,g.backdrop.width,g.backdrop.height));let D=g.textOffset;Wv(n,C,0,D,w,g)}i&&iT(n)}drawTitle(){let{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;let a=$u(n.font),l=Kc(n.padding),h=n.align,g=a.lineHeight/2;t==="bottom"||t==="center"||Wo(t)?(g+=l.bottom,Ts(n.text)&&(g+=a.lineHeight*(n.text.length-1))):g+=l.top;let{titleX:w,titleY:C,maxWidth:D,rotation:F}=ast(this,g,t,h);Wv(e,n.text,0,0,a,{color:n.color,maxWidth:D,rotation:F,textAlign:ost(h,t,i),textBaseline:"middle",translation:[w,C]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,n=eo(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==Mg.prototype.draw?[{z:t,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:n+1,draw:()=>{this.drawBorder()}},{z:t,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){let t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[],a,l;for(a=0,l=t.length;a<l;++a){let h=t[a];h[n]===this.id&&(!e||h.type===e)&&i.push(h)}return i}_resolveTickFontOptions(e){let t=this.options.ticks.setContext(this.getContext(e));return $u(t.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},n_=class{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t=Object.getPrototypeOf(e),n;ust(t)&&(n=this.register(t));let i=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in i||(i[a]=e,sst(e,l,n),this.override&&No.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){let t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in No[i]&&(delete No[i][n],this.override&&delete jv[n])}};x5=class{constructor(){this.controllers=new n_(rp,"datasets",!0),this.elements=new n_(dd,"elements"),this.plugins=new n_(Object,"plugins"),this.scales=new n_(Mg,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(i=>{let a=n||this._getRegistryForType(i);n||a.isForType(i)||a===this.plugins&&i.id?this._exec(e,a,i):za(i,l=>{let h=n||this._getRegistryForType(l);this._exec(e,h,l)})})}_exec(e,t,n){let i=aO(e);Es(n["before"+i],[],n),t[e](n),Es(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){let i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}},Ig=new x5,_5=class{constructor(){this._init=[]}notify(e,t,n,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let a=i?this._descriptors(e).filter(i):this._descriptors(e),l=this._notify(a,e,t,n);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,n,i){i=i||{};for(let a of e){let l=a.plugin,h=l[n],g=[t,i,a.options];if(Es(h,g,l)===!1&&i.cancelable)return!1}return!0}invalidate(){ca(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let n=e&&e.config,i=eo(n.options&&n.options.plugins,{}),a=cst(n);return i===!1&&!t?[]:hst(e,a,i,t)}_notifyStateChanges(e){let t=this._oldCache||[],n=this._cache,i=(a,l)=>a.filter(h=>!l.some(g=>h.plugin.id===g.plugin.id));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}};Pce=new Map,pfe=new Set;cT=(r,e,t)=>{let n=Uv(e,t);n!==void 0&&r.add(n)},T5=class{constructor(e){this._config=yst(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=dfe(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),hfe(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return vO(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return vO(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return vO(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,n=this.type;return vO(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let n=this._scopeCache,i=n.get(e);return(!i||t)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){let{options:i,type:a}=this,l=this._cachedScopes(e,n),h=l.get(t);if(h)return h;let g=new Set;t.forEach(C=>{e&&(g.add(e),C.forEach(D=>cT(g,e,D))),C.forEach(D=>cT(g,i,D)),C.forEach(D=>cT(g,jv[a]||{},D)),C.forEach(D=>cT(g,No,D)),C.forEach(D=>cT(g,uO,D))});let w=Array.from(g);return w.length===0&&w.push(Object.create(null)),pfe.has(t)&&l.set(t,w),w}chartOptionScopes(){let{options:e,type:t}=this;return[e,jv[t]||{},No.datasets[t]||{},{type:t},No,uO]}resolveNamedOptions(e,t,n,i=[""]){let a={$shared:!0},{resolver:l,subPrefixes:h}=Rce(this._resolverCache,e,i),g=l;if(xst(l,t)){a.$shared=!1,n=Cg(n)?n():n;let w=this.createResolver(e,n,h);g=gb(l,n,w)}for(let w of t)a[w]=g[w];return a}createResolver(e,t,n=[""],i){let{resolver:a}=Rce(this._resolverCache,e,n);return Wo(t)?gb(a,t,void 0,i):a}};bst=r=>Wo(r)&&Object.getOwnPropertyNames(r).reduce((e,t)=>e||Cg(r[t]),!1);_st="3.7.0",wst=["top","bottom","left","right","chartArea"];EO={},gfe=r=>{let e=mfe(r);return Object.values(EO).filter(t=>t.canvas===e).pop()};_b=class{constructor(e,t){let n=this.config=new T5(t),i=mfe(e),a=gfe(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas can be reused.");let l=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||$at(i)),this.platform.updateConfig(n);let h=this.platform.acquireContext(i,l.aspectRatio),g=h&&h.canvas,w=g&&g.height,C=g&&g.width;if(this.id=Nue(),this.ctx=h,this.canvas=g,this.width=C,this.height=w,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new _5,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Fue(D=>this.update(D),l.resizeDelay||0),this._dataChanges=[],EO[this.id]=this,!h||!g){console.error("Failed to create chart: can't acquire context from the given item");return}Dg.listen(this,"complete",Nce),Dg.listen(this,"progress",Sst),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:a}=this;return ca(e)?t&&a?a:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():e5(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Vz(this.canvas,this.ctx),this}stop(){return Dg.stop(this),this}resize(e,t){Dg.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){let n=this.options,i=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,e,t,a),h=n.devicePixelRatio||this.platform.getDevicePixelRatio(),g=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,e5(this,h,!0)&&(this.notifyPlugins("resize",{size:l}),Es(n.onResize,[this,l],this),this.attached&&this._doResize(g)&&this.render())}ensureScalesHaveIDs(){let t=this.options.scales||{};za(t,(n,i)=>{n.id=i})}buildOrUpdateScales(){let e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce((l,h)=>(l[h]=!1,l),{}),a=[];t&&(a=a.concat(Object.keys(t).map(l=>{let h=t[l],g=S5(l,h),w=g==="r",C=g==="x";return{options:h,dposition:w?"chartArea":C?"bottom":"left",dtype:w?"radialLinear":C?"category":"linear"}}))),za(a,l=>{let h=l.options,g=h.id,w=S5(g,h),C=eo(h.type,l.dtype);(h.position===void 0||Fce(h.position,w)!==Fce(l.dposition))&&(h.position=l.dposition),i[g]=!0;let D=null;if(g in n&&n[g].type===C)D=n[g];else{let F=Ig.getScale(C);D=new F({id:g,type:C,ctx:this.ctx,chart:this}),n[D.id]=D}D.init(h,e)}),za(i,(l,h)=>{l||delete n[h]}),za(n,l=>{bf.configure(this,l,l.options),bf.addBox(this,l)})}_updateMetasets(){let e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((i,a)=>i.index-a.index),n>t){for(let i=t;i<n;++i)this._destroyDatasetMeta(i);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(qce("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,i)=>{t.filter(a=>a===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){let e=[],t=this.data.datasets,n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){let a=t[n],l=this.getDatasetMeta(n),h=a.type||this.config.type;if(l.type&&l.type!==h&&(this._destroyDatasetMeta(n),l=this.getDatasetMeta(n)),l.type=h,l.indexAxis=a.indexAxis||w5(h,this.options),l.order=a.order||0,l.index=n,l.label=""+a.label,l.visible=this.isDatasetVisible(n),l.controller)l.controller.updateIndex(n),l.controller.linkScales();else{let g=Ig.getController(h),{datasetElementType:w,dataElementType:C}=No.datasets[h];Object.assign(g.prototype,{dataElementType:Ig.getElement(C),datasetElementType:w&&Ig.getElement(w)}),l.controller=new g(this,n),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){za(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let t=this.config;t.update();let n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let w=0,C=this.data.datasets.length;w<C;w++){let{controller:D}=this.getDatasetMeta(w),F=!i&&a.indexOf(D)===-1;D.buildOrUpdateElements(F),l=Math.max(+D.getMaxOverflow(),l)}l=this._minPadding=n.layout.autoPadding?l:0,this._updateLayout(l),i||za(a,w=>{w.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(qce("z","_idx"));let{_active:h,_lastEvent:g}=this;g?this._eventHandler(g,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){za(this.scales,e=>{bf.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!Rz(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(let{method:n,start:i,count:a}of t){let l=n==="_removeElements"?-a:a;Tst(e,i,l)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let t=this.data.datasets.length,n=a=>new Set(e.filter(l=>l[0]===a).map((l,h)=>h+","+l.splice(1).join(","))),i=n(0);for(let a=1;a<t;a++)if(!Rz(i,n(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;bf.update(this,this.width,this.height,e);let t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],za(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Cg(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){let n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Dg.has(this)?this.attached&&!Dg.running(this)&&Dg.start(this):(this.draw(),Nce({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:n,height:i}=this._resizeBeforeDraw;this._resize(n,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let t=this._sortedMetasets,n=[],i,a;for(i=0,a=t.length;i<a;++i){let l=t[i];(!e||l.visible)&&n.push(l)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let t=this.ctx,n=e._clip,i=!n.disabled,a=this.chartArea,l={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(i&&nT(t,{left:n.left===!1?0:a.left-n.left,right:n.right===!1?this.width:a.right+n.right,top:n.top===!1?0:a.top-n.top,bottom:n.bottom===!1?this.height:a.bottom+n.bottom}),e.controller.draw(),i&&iT(t),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}getElementsAtEventForMode(e,t,n,i){let a=Cat.modes[t];return typeof a=="function"?a(this,e,n,i):[]}getDatasetMeta(e){let t=this.data.datasets[e],n=this._metasets,i=n.filter(a=>a&&a._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Ag(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let t=this.data.datasets[e];if(!t)return!1;let n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){let n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){let i=n?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,i);cd(t)?(a.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),l.update(a,{visible:n}),this.update(h=>h.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){let t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Dg.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Vz(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete EO[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,t=this.platform,n=(a,l)=>{t.addEventListener(this,a,l),e[a]=l},i=(a,l,h)=>{a.offsetX=l,a.offsetY=h,this._eventHandler(a)};za(this.options.events,a=>n(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,t=this.platform,n=(g,w)=>{t.addEventListener(this,g,w),e[g]=w},i=(g,w)=>{e[g]&&(t.removeEventListener(this,g,w),delete e[g])},a=(g,w)=>{this.canvas&&this.resize(g,w)},l,h=()=>{i("attach",h),this.attached=!0,this.resize(),n("resize",a),n("detach",l)};l=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),n("attach",h)},t.isAttached(this.canvas)?h():l()}unbindEvents(){za(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},za(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){let i=n?"set":"remove",a,l,h,g;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),h=0,g=e.length;h<g;++h){l=e[h];let w=l&&this.getDatasetMeta(l.datasetIndex).controller;w&&w[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let t=this._active||[],n=e.map(({datasetIndex:a,index:l})=>{let h=this.getDatasetMeta(a);if(!h)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:h.data[l],index:l}});!eT(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}_updateHoverStyles(e,t,n){let i=this.options.hover,a=(g,w)=>g.filter(C=>!w.some(D=>C.datasetIndex===D.datasetIndex&&C.index===D.index)),l=a(t,e),h=n?e:a(e,t);l.length&&this.updateHoverStyle(l,i.mode,!1),h.length&&i.mode&&this.updateHoverStyle(h,i.mode,!0)}_eventHandler(e,t){let n={event:e,replay:t,cancelable:!0,inChartArea:zv(e,this.chartArea,this._minPadding)},i=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;let a=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(a||n.changed)&&this.render(),this}_handleEvent(e,t,n){let{_active:i=[],options:a}=this,l=t,h=this._getActiveElements(e,i,n,l),g=Uue(e),w=Est(e,this._lastEvent,n,g);n&&(this._lastEvent=null,Es(a.onHover,[e,h,this],this),g&&Es(a.onClick,[e,h,this],this));let C=!eT(h,i);return(C||t)&&(this._active=h,this._updateHoverStyles(h,i,t)),this._lastEvent=w,C}_getActiveElements(e,t,n,i){if(e.type==="mouseout")return[];if(!n)return t;let a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,i)}},Bce=()=>za(_b.instances,r=>r._plugins.invalidate()),Vv=!0;Object.defineProperties(_b,{defaults:{enumerable:Vv,value:No},instances:{enumerable:Vv,value:EO},overrides:{enumerable:Vv,value:jv},registry:{enumerable:Vv,value:Ig},version:{enumerable:Vv,value:_st},getChart:{enumerable:Vv,value:gfe},register:{enumerable:Vv,value:(...r)=>{Ig.add(...r),Bce()}},unregister:{enumerable:Vv,value:(...r)=>{Ig.remove(...r),Bce()}}});u_=class extends dd{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){let i=this.getProps(["x","y"],n),{angle:a,distance:l}=Bz(i,{x:e,y:t}),{startAngle:h,endAngle:g,innerRadius:w,outerRadius:C,circumference:D}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),F=this.options.spacing/2,Y=eo(D,g-h)>=ds||Qx(a,h,g),$=Cm(l,w+F,C+F);return Y&&$}getCenterPoint(e){let{x:t,y:n,startAngle:i,endAngle:a,innerRadius:l,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:g,spacing:w}=this.options,C=(i+a)/2,D=(l+h+w+g)/2;return{x:t+Math.cos(C)*D,y:n+Math.sin(C)*D}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:n}=this,i=(t.offset||0)/2,a=(t.spacing||0)/2;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=n>ds?Math.floor(n/ds):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let l=0;if(i){l=i/2;let g=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(g)*l,Math.sin(g)*l),this.circumference>=$s&&(l=i)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;let h=Ast(e,this,l,a);Ost(e,this,l,a,h),e.restore()}};u_.id="arc";u_.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0};u_.defaultRoutes={backgroundColor:"backgroundColor"};Nst=typeof Path2D=="function";Om=class extends dd{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){let n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){let i=n.spanGaps?this._loop:this._fullLoop;lce(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=pce(this,this.options.segment))}first(){let e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){let e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){let n=this.options,i=e[t],a=this.points,l=o5(this,{property:t,start:i,end:i});if(!l.length)return;let h=[],g=Rst(n),w,C;for(w=0,C=l.length;w<C;++w){let{start:D,end:F}=l[w],z=a[D],Y=a[F];if(z===Y){h.push(z);continue}let $=Math.abs((i-z[t])/(Y[t]-z[t])),re=g(z,Y,$,n.stepped);re[t]=e[t],h.push(re)}return h.length===1?h[0]:h}pathSegment(e,t,n){return k5(this)(e,this,t,n)}path(e,t,n){let i=this.segments,a=k5(this),l=this._loop;t=t||0,n=n||this.points.length-t;for(let h of i)l&=a(e,this,h,{start:t,end:t+n-1});return!!l}draw(e,t,n,i){let a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),Bst(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}};Om.id="line";Om.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Om.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Om.descriptors={_scriptable:!0,_indexable:r=>r!=="borderDash"&&r!=="fill"};c_=class extends dd{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){let i=this.options,{x:a,y:l}=this.getProps(["x","y"],n);return Math.pow(e-a,2)+Math.pow(t-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return zce(this,e,"x",t)}inYRange(e,t){return zce(this,e,"y",t)}getCenterPoint(e){let{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);let n=t&&e.borderWidth||0;return(t+n)*2}draw(e,t){let n=this.options;this.skip||n.radius<.1||!zv(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,rT(e,n,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}};c_.id="point";c_.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};c_.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};f_=class extends dd{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:a,outer:l}=jst(this),h=Hst(l.radius)?oT:Wst;e.save(),(l.w!==a.w||l.h!==a.h)&&(e.beginPath(),h(e,p5(l,t,a)),e.clip(),h(e,p5(a,-t,l)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),h(e,p5(a,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return d5(this,e,t,n)}inXRange(e,t){return d5(this,e,null,t)}inYRange(e,t){return d5(this,null,e,t)}getCenterPoint(e){let{x:t,y:n,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+i)/2:t,y:a?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}};f_.id="bar";f_.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};f_.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Vst=Object.freeze({__proto__:null,ArcElement:u_,LineElement:Om,PointElement:c_,BarElement:f_});Yst={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(r,e,t)=>{if(!t.enabled){Uce(r);return}let n=r.width;r.data.datasets.forEach((i,a)=>{let{_data:l,indexAxis:h}=i,g=r.getDatasetMeta(a),w=l||i.data;if(e_([h,r.options.indexAxis])==="y"||g.type!=="line")return;let C=r.scales[g.xAxisID];if(C.type!=="linear"&&C.type!=="time"||r.options.parsing)return;let{start:D,count:F}=Kst(g,w),z=t.threshold||4*n;if(F<=z){_fe(i);return}ca(l)&&(i._data=w,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function($){this._data=$}}));let Y;switch(t.algorithm){case"lttb":Y=$st(w,D,F,n,t);break;case"min-max":Y=Gst(w,D,F,n);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=Y})},destroy(r){Uce(r)}};kO=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){let{x:i,y:a,radius:l}=this;return t=t||{start:0,end:ds},e.arc(i,a,l,t.end,t.start,!0),!n.bounds}interpolate(e){let{x:t,y:n,radius:i}=this,a=e.angle;return{x:t+Math.cos(a)*i,y:n+Math.sin(a)*i,angle:a}}};hlt={id:"filler",afterDatasetsUpdate(r,e,t){let n=(r.data.datasets||[]).length,i=[],a,l,h,g;for(l=0;l<n;++l)a=r.getDatasetMeta(l),h=a.dataset,g=null,h&&h.options&&h instanceof Om&&(g={visible:r.isDatasetVisible(l),index:l,fill:Jst(h,l,n),chart:r,axis:a.controller.options.indexAxis,scale:a.vScale,line:h}),a.$filler=g,i.push(g);for(l=0;l<n;++l)g=i[l],!(!g||g.fill===!1)&&(g.fill=llt(i,l,t.propagate))},beforeDraw(r,e,t){let n=t.drawTime==="beforeDraw",i=r.getSortedVisibleDatasetMetas(),a=r.chartArea;for(let l=i.length-1;l>=0;--l){let h=i[l].$filler;!h||(h.line.updateControlPoints(a,h.axis),n&&m5(r.ctx,h,a))}},beforeDatasetsDraw(r,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;let n=r.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){let a=n[i].$filler;a&&m5(r.ctx,a,r.chartArea)}},beforeDatasetDraw(r,e,t){let n=e.meta.$filler;!n||n.fill===!1||t.drawTime!=="beforeDatasetDraw"||m5(r.ctx,n,r.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},$ce=(r,e)=>{let{boxHeight:t=e,boxWidth:n=e}=r;return r.usePointStyle&&(t=Math.min(t,e),n=Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},dlt=(r,e)=>r!==null&&e!==null&&r.datasetIndex===e.datasetIndex&&r.index===e.index,CO=class extends dd{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},t=Es(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}let n=e.labels,i=$u(n.font),a=i.size,l=this._computeTitleHeight(),{boxWidth:h,itemHeight:g}=$ce(n,a),w,C;t.font=i.string,this.isHorizontal()?(w=this.maxWidth,C=this._fitRows(l,a,h,g)+10):(C=this.maxHeight,w=this._fitCols(l,a,h,g)+10),this.width=Math.min(w,e.maxWidth||this.maxWidth),this.height=Math.min(C,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){let{ctx:a,maxWidth:l,options:{labels:{padding:h}}}=this,g=this.legendHitBoxes=[],w=this.lineWidths=[0],C=i+h,D=e;a.textAlign="left",a.textBaseline="middle";let F=-1,z=-C;return this.legendItems.forEach((Y,$)=>{let re=n+t/2+a.measureText(Y.text).width;($===0||w[w.length-1]+re+2*h>l)&&(D+=C,w[w.length-($>0?0:1)]=0,z+=C,F++),g[$]={left:0,top:z,row:F,width:re,height:i},w[w.length-1]+=re+h}),D}_fitCols(e,t,n,i){let{ctx:a,maxHeight:l,options:{labels:{padding:h}}}=this,g=this.legendHitBoxes=[],w=this.columnSizes=[],C=l-e,D=h,F=0,z=0,Y=0,$=0;return this.legendItems.forEach((re,oe)=>{let ne=n+t/2+a.measureText(re.text).width;oe>0&&z+i+2*h>C&&(D+=F+h,w.push({width:F,height:z}),Y+=F+h,$++,F=z=0),g[oe]={left:Y,top:z,col:$,width:ne,height:i},F=Math.max(F,ne),z+=i+h}),D+=F,w.push({width:F,height:z}),D}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:a}}=this,l=yb(a,this.left,this.width);if(this.isHorizontal()){let h=0,g=Gc(n,this.left+i,this.right-this.lineWidths[h]);for(let w of t)h!==w.row&&(h=w.row,g=Gc(n,this.left+i,this.right-this.lineWidths[h])),w.top+=this.top+e+i,w.left=l.leftForLtr(l.x(g),w.width),g+=w.width+i}else{let h=0,g=Gc(n,this.top+e+i,this.bottom-this.columnSizes[h].height);for(let w of t)w.col!==h&&(h=w.col,g=Gc(n,this.top+e+i,this.bottom-this.columnSizes[h].height)),w.top=g,w.left+=this.left+i,w.left=l.leftForLtr(l.x(w.left),w.width),g+=w.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;nT(e,this),this._draw(),iT(e)}}_draw(){let{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:a,labels:l}=e,h=No.color,g=yb(e.rtl,this.left,this.width),w=$u(l.font),{color:C,padding:D}=l,F=w.size,z=F/2,Y;this.drawTitle(),i.textAlign=g.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=w.string;let{boxWidth:$,boxHeight:re,itemHeight:oe}=$ce(l,F),ne=function(me,we,Se){if(isNaN($)||$<=0||isNaN(re)||re<0)return;i.save();let be=eo(Se.lineWidth,1);if(i.fillStyle=eo(Se.fillStyle,h),i.lineCap=eo(Se.lineCap,"butt"),i.lineDashOffset=eo(Se.lineDashOffset,0),i.lineJoin=eo(Se.lineJoin,"miter"),i.lineWidth=be,i.strokeStyle=eo(Se.strokeStyle,h),i.setLineDash(eo(Se.lineDash,[])),l.usePointStyle){let $e={radius:$*Math.SQRT2/2,pointStyle:Se.pointStyle,rotation:Se.rotation,borderWidth:be},q=g.xPlus(me,$/2),ee=we+z;rT(i,$e,q,ee)}else{let $e=we+Math.max((F-re)/2,0),q=g.leftForLtr(me,$),ee=vb(Se.borderRadius);i.beginPath(),Object.values(ee).some(R=>R!==0)?oT(i,{x:q,y:$e,w:$,h:re,radius:ee}):i.rect(q,$e,$,re),i.fill(),be!==0&&i.stroke()}i.restore()},he=function(me,we,Se){Wv(i,Se.text,me,we+oe/2,w,{strikethrough:Se.hidden,textAlign:g.textAlign(Se.textAlign)})},_=this.isHorizontal(),ge=this._computeTitleHeight();_?Y={x:Gc(a,this.left+D,this.right-n[0]),y:this.top+D+ge,line:0}:Y={x:this.left+D,y:Gc(a,this.top+ge+D,this.bottom-t[0].height),line:0},r5(this.ctx,e.textDirection);let fe=oe+D;this.legendItems.forEach((me,we)=>{i.strokeStyle=me.fontColor||C,i.fillStyle=me.fontColor||C;let Se=i.measureText(me.text).width,be=g.textAlign(me.textAlign||(me.textAlign=l.textAlign)),$e=$+z+Se,q=Y.x,ee=Y.y;g.setWidth(this.width),_?we>0&&q+$e+D>this.right&&(ee=Y.y+=fe,Y.line++,q=Y.x=Gc(a,this.left+D,this.right-n[Y.line])):we>0&&ee+fe>this.bottom&&(q=Y.x=q+t[Y.line].width+D,Y.line++,ee=Y.y=Gc(a,this.top+ge+D,this.bottom-t[Y.line].height));let R=g.x(q);ne(R,ee,me),q=que(be,q+$+z,_?q+$e:this.right,e.rtl),he(g.x(q),ee,me),_?Y.x+=$e+D:Y.y+=fe}),n5(this.ctx,e.textDirection)}drawTitle(){let e=this.options,t=e.title,n=$u(t.font),i=Kc(t.padding);if(!t.display)return;let a=yb(e.rtl,this.left,this.width),l=this.ctx,h=t.position,g=n.size/2,w=i.top+g,C,D=this.left,F=this.width;if(this.isHorizontal())F=Math.max(...this.lineWidths),C=this.top+w,D=Gc(e.align,D,this.right-F);else{let Y=this.columnSizes.reduce(($,re)=>Math.max($,re.height),0);C=w+Gc(e.align,this.top,this.bottom-Y-e.labels.padding-this._computeTitleHeight())}let z=Gc(h,D,D+F);l.textAlign=a.textAlign(oO(h)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=n.string,Wv(l,t.text,z,C,n)}_computeTitleHeight(){let e=this.options.title,t=$u(e.font),n=Kc(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,a;if(Cm(e,this.left,this.right)&&Cm(t,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(i=a[n],Cm(e,i.left,i.left+i.width)&&Cm(t,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){let t=this.options;if(!plt(e.type,t))return;let n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"){let i=this._hoveredItem,a=dlt(i,n);i&&!a&&Es(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!a&&Es(t.onHover,[e,n,this],this)}else n&&Es(t.onClick,[e,n,this],this)}};mlt={id:"legend",_element:CO,start(r,e,t){let n=r.legend=new CO({ctx:r.ctx,options:t,chart:r});bf.configure(r,n,t),bf.addBox(r,n)},stop(r){bf.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,e,t){let n=r.legend;bf.configure(r,n,t),n.options=t},afterUpdate(r){let e=r.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(r,e){e.replay||r.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,e,t){let n=e.datasetIndex,i=t.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){let e=r.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:i,color:a}}=r.legend.options;return r._getSortedDatasetMetas().map(l=>{let h=l.controller.getStyle(t?0:void 0),g=Kc(h.borderWidth);return{text:e[l.index].label,fillStyle:h.backgroundColor,fontColor:a,hidden:!l.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:h.borderColor,pointStyle:n||h.pointStyle,rotation:h.rotation,textAlign:i||h.textAlign,borderRadius:0,datasetIndex:l.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}},vT=class extends dd{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){let n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;let i=Ts(n.text)?n.text.length:1;this._padding=Kc(n.padding);let a=i*$u(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:t,left:n,bottom:i,right:a,options:l}=this,h=l.align,g=0,w,C,D;return this.isHorizontal()?(C=Gc(h,n,a),D=t+e,w=a-n):(l.position==="left"?(C=n+e,D=Gc(h,i,t),g=$s*-.5):(C=a-e,D=Gc(h,t,i),g=$s*.5),w=i-t),{titleX:C,titleY:D,maxWidth:w,rotation:g}}draw(){let e=this.ctx,t=this.options;if(!t.display)return;let n=$u(t.font),a=n.lineHeight/2+this._padding.top,{titleX:l,titleY:h,maxWidth:g,rotation:w}=this._drawArgs(a);Wv(e,t.text,0,0,n,{color:t.color,maxWidth:g,rotation:w,textAlign:oO(t.align),textBaseline:"middle",translation:[l,h]})}};vlt={id:"title",_element:vT,start(r,e,t){glt(r,t)},stop(r){let e=r.titleBlock;bf.removeBox(r,e),delete r.titleBlock},beforeUpdate(r,e,t){let n=r.titleBlock;bf.configure(r,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},yO=new WeakMap,ylt={id:"subtitle",start(r,e,t){let n=new vT({ctx:r.ctx,options:t,chart:r});bf.configure(r,n,t),bf.addBox(r,n),yO.set(r,n)},stop(r){bf.removeBox(r,yO.get(r)),yO.delete(r)},beforeUpdate(r,e,t){let n=yO.get(r);bf.configure(r,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},dT={average(r){if(!r.length)return!1;let e,t,n=0,i=0,a=0;for(e=0,t=r.length;e<t;++e){let l=r[e].element;if(l&&l.hasValue()){let h=l.tooltipPosition();n+=h.x,i+=h.y,++a}}return{x:n/a,y:i/a}},nearest(r,e){if(!r.length)return!1;let t=e.x,n=e.y,i=Number.POSITIVE_INFINITY,a,l,h;for(a=0,l=r.length;a<l;++a){let g=r[a].element;if(g&&g.hasValue()){let w=g.getCenterPoint(),C=nO(e,w);C<i&&(i=C,h=g)}}if(h){let g=h.tooltipPosition();t=g.x,n=g.y}return{x:t,y:n}}};yT=class extends dd{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,a=new wO(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=Elt(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){let{callbacks:n}=t,i=n.beforeTitle.apply(this,[e]),a=n.title.apply(this,[e]),l=n.afterTitle.apply(this,[e]),h=[];return h=Dm(h,Og(i)),h=Dm(h,Og(a)),h=Dm(h,Og(l)),h}getBeforeBody(e,t){return Zce(t.callbacks.beforeBody.apply(this,[e]))}getBody(e,t){let{callbacks:n}=t,i=[];return za(e,a=>{let l={before:[],lines:[],after:[]},h=Xce(n,a);Dm(l.before,Og(h.beforeLabel.call(this,a))),Dm(l.lines,h.label.call(this,a)),Dm(l.after,Og(h.afterLabel.call(this,a))),i.push(l)}),i}getAfterBody(e,t){return Zce(t.callbacks.afterBody.apply(this,[e]))}getFooter(e,t){let{callbacks:n}=t,i=n.beforeFooter.apply(this,[e]),a=n.footer.apply(this,[e]),l=n.afterFooter.apply(this,[e]),h=[];return h=Dm(h,Og(i)),h=Dm(h,Og(a)),h=Dm(h,Og(l)),h}_createItems(e){let t=this._active,n=this.chart.data,i=[],a=[],l=[],h=[],g,w;for(g=0,w=t.length;g<w;++g)h.push(blt(this.chart,t[g]));return e.filter&&(h=h.filter((C,D,F)=>e.filter(C,D,F,n))),e.itemSort&&(h=h.sort((C,D)=>e.itemSort(C,D,n))),za(h,C=>{let D=Xce(e.callbacks,C);i.push(D.labelColor.call(this,C)),a.push(D.labelPointStyle.call(this,C)),l.push(D.labelTextColor.call(this,C))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=h,h}update(e,t){let n=this.options.setContext(this.getContext()),i=this._active,a,l=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{let h=dT[n.position].call(this,i,this._eventPosition);l=this._createItems(n),this.title=this.getTitle(l,n),this.beforeBody=this.getBeforeBody(l,n),this.body=this.getBody(l,n),this.afterBody=this.getAfterBody(l,n),this.footer=this.getFooter(l,n);let g=this._size=Gce(this,n),w=Object.assign({},h,g),C=Kce(this.chart,n,w),D=Yce(n,w,C,this.chart);this.xAlign=C.xAlign,this.yAlign=C.yAlign,a={opacity:1,x:D.x,y:D.y,width:g.width,height:g.height,caretX:h.x,caretY:h.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){let a=this.getCaretPosition(e,n,i);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,n){let{xAlign:i,yAlign:a}=this,{caretSize:l,cornerRadius:h}=n,{topLeft:g,topRight:w,bottomLeft:C,bottomRight:D}=vb(h),{x:F,y:z}=e,{width:Y,height:$}=t,re,oe,ne,he,_,ge;return a==="center"?(_=z+$/2,i==="left"?(re=F,oe=re-l,he=_+l,ge=_-l):(re=F+Y,oe=re+l,he=_-l,ge=_+l),ne=re):(i==="left"?oe=F+Math.max(g,C)+l:i==="right"?oe=F+Y-Math.max(w,D)-l:oe=this.caretX,a==="top"?(he=z,_=he-l,re=oe-l,ne=oe+l):(he=z+$,_=he+l,re=oe+l,ne=oe-l),ge=he),{x1:re,x2:oe,x3:ne,y1:he,y2:_,y3:ge}}drawTitle(e,t,n){let i=this.title,a=i.length,l,h,g;if(a){let w=yb(n.rtl,this.x,this.width);for(e.x=bO(this,n.titleAlign,n),t.textAlign=w.textAlign(n.titleAlign),t.textBaseline="middle",l=$u(n.titleFont),h=n.titleSpacing,t.fillStyle=n.titleColor,t.font=l.string,g=0;g<a;++g)t.fillText(i[g],w.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+h,g+1===a&&(e.y+=n.titleMarginBottom-h)}}_drawColorBox(e,t,n,i,a){let l=this.labelColors[n],h=this.labelPointStyles[n],{boxHeight:g,boxWidth:w,boxPadding:C}=a,D=$u(a.bodyFont),F=bO(this,"left",a),z=i.x(F),Y=g<D.lineHeight?(D.lineHeight-g)/2:0,$=t.y+Y;if(a.usePointStyle){let re={radius:Math.min(w,g)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},oe=i.leftForLtr(z,w)+w/2,ne=$+g/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,rT(e,re,oe,ne),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,rT(e,re,oe,ne)}else{e.lineWidth=l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;let re=i.leftForLtr(z,w-C),oe=i.leftForLtr(i.xPlus(z,1),w-C-2),ne=vb(l.borderRadius);Object.values(ne).some(he=>he!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,oT(e,{x:re,y:$,w,h:g,radius:ne}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),oT(e,{x:oe,y:$+1,w:w-2,h:g-2,radius:ne}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(re,$,w,g),e.strokeRect(re,$,w,g),e.fillStyle=l.backgroundColor,e.fillRect(oe,$+1,w-2,g-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){let{body:i}=this,{bodySpacing:a,bodyAlign:l,displayColors:h,boxHeight:g,boxWidth:w,boxPadding:C}=n,D=$u(n.bodyFont),F=D.lineHeight,z=0,Y=yb(n.rtl,this.x,this.width),$=function(we){t.fillText(we,Y.x(e.x+z),e.y+F/2),e.y+=F+a},re=Y.textAlign(l),oe,ne,he,_,ge,fe,me;for(t.textAlign=l,t.textBaseline="middle",t.font=D.string,e.x=bO(this,re,n),t.fillStyle=n.bodyColor,za(this.beforeBody,$),z=h&&re!=="right"?l==="center"?w/2+C:w+2+C:0,_=0,fe=i.length;_<fe;++_){for(oe=i[_],ne=this.labelTextColors[_],t.fillStyle=ne,za(oe.before,$),he=oe.lines,h&&he.length&&(this._drawColorBox(t,e,_,Y,n),F=Math.max(D.lineHeight,g)),ge=0,me=he.length;ge<me;++ge)$(he[ge]),F=D.lineHeight;za(oe.after,$)}z=0,F=D.lineHeight,za(this.afterBody,$),e.y-=a}drawFooter(e,t,n){let i=this.footer,a=i.length,l,h;if(a){let g=yb(n.rtl,this.x,this.width);for(e.x=bO(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=g.textAlign(n.footerAlign),t.textBaseline="middle",l=$u(n.footerFont),t.fillStyle=n.footerColor,t.font=l.string,h=0;h<a;++h)t.fillText(i[h],g.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){let{xAlign:a,yAlign:l}=this,{x:h,y:g}=e,{width:w,height:C}=n,{topLeft:D,topRight:F,bottomLeft:z,bottomRight:Y}=vb(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(h+D,g),l==="top"&&this.drawCaret(e,t,n,i),t.lineTo(h+w-F,g),t.quadraticCurveTo(h+w,g,h+w,g+F),l==="center"&&a==="right"&&this.drawCaret(e,t,n,i),t.lineTo(h+w,g+C-Y),t.quadraticCurveTo(h+w,g+C,h+w-Y,g+C),l==="bottom"&&this.drawCaret(e,t,n,i),t.lineTo(h+z,g+C),t.quadraticCurveTo(h,g+C,h,g+C-z),l==="center"&&a==="left"&&this.drawCaret(e,t,n,i),t.lineTo(h,g+D),t.quadraticCurveTo(h,g,h+D,g),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){let t=this.chart,n=this.$animations,i=n&&n.x,a=n&&n.y;if(i||a){let l=dT[e.position].call(this,this._active,this._eventPosition);if(!l)return;let h=this._size=Gce(this,e),g=Object.assign({},l,this._size),w=Kce(t,e,g),C=Yce(e,g,w,t);(i._to!==C.x||a._to!==C.y)&&(this.xAlign=w.xAlign,this.yAlign=w.yAlign,this.width=h.width,this.height=h.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,C))}}draw(e){let t=this.options.setContext(this.getContext()),n=this.opacity;if(!n)return;this._updateAnimationTarget(t);let i={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;let l=Kc(t.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&h&&(e.save(),e.globalAlpha=n,this.drawBackground(a,e,i,t),r5(e,t.textDirection),a.y+=l.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),n5(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){let n=this._active,i=e.map(({datasetIndex:h,index:g})=>{let w=this.chart.getDatasetMeta(h);if(!w)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:w.data[g],index:g}}),a=!eT(n,i),l=this._positionChanged(i,t);(a||l)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let i=this.options,a=this._active||[],l=this._getActiveElements(e,a,t,n),h=this._positionChanged(l,e),g=t||!eT(l,a)||h;return g&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),g}_getActiveElements(e,t,n,i){let a=this.options;if(e.type==="mouseout")return[];if(!i)return t;let l=this.chart.getElementsAtEventForMode(e,a.mode,a,n);return a.reverse&&l.reverse(),l}_positionChanged(e,t){let{caretX:n,caretY:i,options:a}=this,l=dT[a.position].call(this,e,t);return l!==!1&&(n!==l.x||i!==l.y)}};yT.positioners=dT;klt={id:"tooltip",_element:yT,positioners:dT,afterInit(r,e,t){t&&(r.tooltip=new yT({chart:r,options:t}))},beforeUpdate(r,e,t){r.tooltip&&r.tooltip.initialize(t)},reset(r,e,t){r.tooltip&&r.tooltip.initialize(t)},afterDraw(r){let e=r.tooltip,t={tooltip:e};r.notifyPlugins("beforeTooltipDraw",t)!==!1&&(e&&e.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",t))},afterEvent(r,e){if(r.tooltip){let t=e.replay;r.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,e)=>e.bodyFont.size,boxWidth:(r,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:km,title(r){if(r.length>0){let e=r[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:km,beforeBody:km,beforeLabel:km,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let e=r.dataset.label||"";e&&(e+=": ");let t=r.formattedValue;return ca(t)||(e+=t),e},labelColor(r){let t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){let t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:km,afterBody:km,beforeFooter:km,footer:km,afterFooter:km}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Clt=Object.freeze({__proto__:null,Decimation:Yst,Filler:hlt,Legend:mlt,SubTitle:ylt,Title:vlt,Tooltip:klt}),Alt=(r,e,t,n)=>(typeof e=="string"?(t=r.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);Olt=(r,e)=>r===null?null:mc(Math.round(r),0,e),h_=class extends Mg{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let t=this._addedLabels;if(t.length){let n=this.getLabels();for(let{index:i,label:a}of t)n[i]===a&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(ca(e))return null;let n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:Dlt(n,e,eo(t,e),this._addedLabels),Olt(t,n.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){let e=this.min,t=this.max,n=this.options.offset,i=[],a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let l=e;l<=t;l++)i.push({value:l});return i}getLabelForValue(e){let t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}};h_.id="category";h_.defaults={ticks:{callback:h_.prototype.getLabelForValue}};d_=class extends Mg{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ca(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds(),{min:i,max:a}=this,l=g=>i=t?i:g,h=g=>a=n?a:g;if(e){let g=Bp(i),w=Bp(a);g<0&&w<0?h(0):g>0&&w>0&&l(0)}if(i===a){let g=1;(a>=Number.MAX_SAFE_INTEGER||i<=Number.MIN_SAFE_INTEGER)&&(g=Math.abs(a*.05)),h(a+g),e||l(i-g)}this.min=i,this.max=a}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:t,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,n=this.getTickLimit();n=Math.max(2,n);let i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,l=Ilt(i,a);return e.bounds==="ticks"&&qz(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){let e=this.ticks,t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){let i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return t_(e,this.chart.options.locale,this.options.ticks.format)}},bT=class extends d_{determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=tu(e)?e:0,this.max=tu(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,n=tp(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}};bT.id="linear";bT.defaults={ticks:{callback:AO.formatters.numeric}};xT=class extends Mg{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let n=d_.prototype.parse.apply(this,[e,t]);if(n===0){this._zero=!0;return}return tu(n)&&n>0?n:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=tu(e)?Math.max(0,e):null,this.max=tu(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),n=this.min,i=this.max,a=g=>n=e?n:g,l=g=>i=t?i:g,h=(g,w)=>Math.pow(10,Math.floor(hd(g))+w);n===i&&(n<=0?(a(1),l(10)):(a(h(n,-1)),l(h(i,1)))),n<=0&&a(h(i,-1)),i<=0&&l(h(n,1)),this._zero&&this.min!==this._suggestedMin&&n===h(this.min,0)&&a(h(n,-1)),this.min=n,this.max=i}buildTicks(){let e=this.options,t={min:this._userMin,max:this._userMax},n=Mlt(t,this);return e.bounds==="ticks"&&qz(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":t_(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=hd(e),this._valueRange=hd(this.max)-hd(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(hd(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}};xT.id="logarithmic";xT.defaults={ticks:{callback:AO.formatters.logarithmic,major:{enabled:!0}}};wb=class extends d_{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=Kc(A5(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=tu(e)&&!isNaN(e)?e:0,this.max=tu(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/A5(this.options))}generateTickLabels(e){d_.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,n)=>{let i=Es(this.options.pointLabels.callback,[t,n],this);return i||i===0?i:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){let e=this.options;e.display&&e.pointLabels.display?Plt(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){let t=ds/(this._pointLabels.length||1),n=this.options.startAngle||0;return Sh(e*t+tp(n))}getDistanceFromCenterForValue(e){if(ca(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(ca(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let n=t[e];return jlt(this.getContext(),e,n)}}getPointPosition(e,t,n=0){let i=this.getIndexAngle(e)-Dl+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:n,right:i,bottom:a}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:a}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let n=this.ctx;n.save(),n.beginPath(),Tfe(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){let e=this.ctx,t=this.options,{angleLines:n,grid:i}=t,a=this._pointLabels.length,l,h,g;if(t.pointLabels.display&&zlt(this,a),i.display&&this.ticks.forEach((w,C)=>{if(C!==0){h=this.getDistanceFromCenterForValue(w.value);let D=i.setContext(this.getContext(C-1));Ult(this,D,h,a)}}),n.display){for(e.save(),l=a-1;l>=0;l--){let w=n.setContext(this.getPointLabelContext(l)),{color:C,lineWidth:D}=w;!D||!C||(e.lineWidth=D,e.strokeStyle=C,e.setLineDash(w.borderDash),e.lineDashOffset=w.borderDashOffset,h=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),g=this.getPointPosition(l,h),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(g.x,g.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;let i=this.getIndexAngle(0),a,l;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((h,g)=>{if(g===0&&!t.reverse)return;let w=n.setContext(this.getContext(g)),C=$u(w.font);if(a=this.getDistanceFromCenterForValue(this.ticks[g].value),w.showLabelBackdrop){e.font=C.string,l=e.measureText(h.label).width,e.fillStyle=w.backdropColor;let D=Kc(w.backdropPadding);e.fillRect(-l/2-D.left,-a-C.size/2-D.top,l+D.width,C.size+D.height)}Wv(e,h.label,0,-a,C,{color:w.color})}),e.restore()}drawTitle(){}};wb.id="radialLinear";wb.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:AO.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(r){return r},padding:5,centerPointLabels:!1}};wb.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};wb.descriptors={angleLines:{_fallback:"grid"}};DO={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Th=Object.keys(DO);Sb=class extends Mg{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t){let n=e.time||(e.time={}),i=this._adapter=new D5._date(e.adapters.date);Zx(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:tfe(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,t=this._adapter,n=e.time.unit||"day",{min:i,max:a,minDefined:l,maxDefined:h}=this.getUserBounds();function g(w){!l&&!isNaN(w.min)&&(i=Math.min(i,w.min)),!h&&!isNaN(w.max)&&(a=Math.max(a,w.max))}(!l||!h)&&(g(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&g(this.getMinMax(!1))),i=tu(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),a=tu(a)&&!isNaN(a)?a:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){let e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){let e=this.options,t=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);let a=this.min,l=this.max,h=tce(i,a,l);return this._unit=t.unit||(n.autoSkip?rfe(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):Wlt(this,h.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Vlt(this._unit),this.initOffsets(i),e.reverse&&h.reverse(),ife(this,h,this._majorUnit)}initOffsets(e){let t=0,n=0,i,a;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?n=a:n=(a-this.getDecimalForValue(e[e.length-2]))/2);let l=e.length<3?.5:.25;t=mc(t,0,l),n=mc(n,0,l),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){let e=this._adapter,t=this.min,n=this.max,i=this.options,a=i.time,l=a.unit||rfe(a.minUnit,t,n,this._getLabelCapacity(t)),h=eo(a.stepSize,1),g=l==="week"?a.isoWeekday:!1,w=Xx(g)||g===!0,C={},D=t,F,z;if(w&&(D=+e.startOf(D,"isoWeek",g)),D=+e.startOf(D,w?"day":l),e.diff(n,t,l)>1e5*h)throw new Error(t+" and "+n+" are too far apart with stepSize of "+h+" "+l);let Y=i.ticks.source==="data"&&this.getDataTimestamps();for(F=D,z=0;F<n;F=+e.add(F,h,l),z++)nfe(C,F,Y);return(F===n||i.bounds==="ticks"||z===1)&&nfe(C,F,Y),Object.keys(C).sort(($,re)=>$-re).map($=>+$)}getLabelForValue(e){let t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}_tickFormatFunction(e,t,n,i){let a=this.options,l=a.time.displayFormats,h=this._unit,g=this._majorUnit,w=h&&l[h],C=g&&l[g],D=n[t],F=g&&C&&D&&D.major,z=this._adapter.format(e,i||(F?C:w)),Y=a.ticks.callback;return Y?Es(Y,[z,t,n],this):z}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){let t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){let t=this.options.ticks,n=this.ctx.measureText(e).width,i=tp(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(i),l=Math.sin(i),h=this._resolveTickFontOptions(0).size;return{w:n*a+h*l,h:n*l+h*a}}_getLabelCapacity(e){let t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,a=this._tickFormatFunction(e,0,ife(this,[e],this._majorUnit),i),l=this._getLabelSize(a),h=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return h>0?h:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;let i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,n=i.length;t<n;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],t,n;if(e.length)return e;let i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(tfe(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Kz(e.sort(Hlt))}};Sb.id="time";Sb.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};_T=class extends Sb{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=xO(t,this.min),this._tableRange=xO(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:t,max:n}=this,i=[],a=[],l,h,g,w,C;for(l=0,h=e.length;l<h;++l)w=e[l],w>=t&&w<=n&&i.push(w);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(l=0,h=i.length;l<h;++l)C=i[l+1],g=i[l-1],w=i[l],Math.round((C+g)/2)!==w&&a.push({time:w,pos:l/(h-1)});return a}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(xO(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return xO(this._table,n*this._tableRange+this._minPos,!0)}};_T.id="timeseries";_T.defaults=Sb.defaults;Glt=Object.freeze({__proto__:null,CategoryScale:h_,LinearScale:bT,LogarithmicScale:xT,RadialLinearScale:wb,TimeScale:Sb,TimeSeriesScale:_T}),Efe=[_at,Vst,Clt,Glt]});var kfe,Cfe=ze(()=>{I5();_b.register(...Efe);kfe=_b});function Zn(r){if(r===null||r===!0||r===!1)return NaN;var e=Number(r);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}var Ol=ze(()=>{});function Cr(r,e){if(e.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+e.length+" present")}var Yn=ze(()=>{});function Yr(r){Cr(1,arguments);var e=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&e==="[object Date]"?new Date(r.getTime()):typeof r=="number"||e==="[object Number]"?new Date(r):((typeof r=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}var $i=ze(()=>{Yn()});function p_(r,e){Cr(2,arguments);var t=Yr(r),n=Zn(e);return isNaN(n)?new Date(NaN):(n&&t.setDate(t.getDate()+n),t)}var M5=ze(()=>{Ol();$i();Yn()});function Kv(r,e){Cr(2,arguments);var t=Yr(r),n=Zn(e);if(isNaN(n))return new Date(NaN);if(!n)return t;var i=t.getDate(),a=new Date(t.getTime());a.setMonth(t.getMonth()+n+1,0);var l=a.getDate();return i>=l?a:(t.setFullYear(a.getFullYear(),a.getMonth(),i),t)}var OO=ze(()=>{Ol();$i();Yn()});function np(r,e){Cr(2,arguments);var t=Yr(r).getTime(),n=Zn(e);return new Date(t+n)}var m_=ze(()=>{Ol();$i();Yn()});function IO(r,e){Cr(2,arguments);var t=Zn(e);return np(r,t*Klt)}var Klt,Afe=ze(()=>{Ol();m_();Yn();Klt=36e5});function wT(r,e){Cr(1,arguments);var t=e||{},n=t.locale,i=n&&n.options&&n.options.weekStartsOn,a=i==null?0:Zn(i),l=t.weekStartsOn==null?a:Zn(t.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Yr(r),g=h.getDay(),w=(g<l?7:0)+g-l;return h.setDate(h.getDate()-w),h.setHours(0,0,0,0),h}var Dfe=ze(()=>{$i();Ol();Yn()});function Yv(r){var e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),r.getTime()-e.getTime()}var MO=ze(()=>{});function Tb(r){Cr(1,arguments);var e=Yr(r);return e.setHours(0,0,0,0),e}var L5=ze(()=>{$i();Yn()});function P5(r,e){Cr(2,arguments);var t=Tb(r),n=Tb(e),i=t.getTime()-Yv(t),a=n.getTime()-Yv(n);return Math.round((i-a)/Ylt)}var Ylt,Ofe=ze(()=>{MO();L5();Yn();Ylt=864e5});function LO(r,e){Cr(2,arguments);var t=Zn(e);return np(r,t*Zlt)}var Zlt,Ife=ze(()=>{Ol();m_();Yn();Zlt=6e4});function PO(r,e){Cr(2,arguments);var t=Zn(e),n=t*3;return Kv(r,n)}var Mfe=ze(()=>{Ol();OO();Yn()});function RO(r,e){Cr(2,arguments);var t=Zn(e);return np(r,t*1e3)}var Lfe=ze(()=>{Ol();m_();Yn()});function FO(r,e){Cr(2,arguments);var t=Zn(e),n=t*7;return p_(r,n)}var Pfe=ze(()=>{Ol();M5();Yn()});function qO(r,e){Cr(2,arguments);var t=Zn(e);return Kv(r,t*12)}var Rfe=ze(()=>{Ol();OO();Yn()});function Zv(r,e){Cr(2,arguments);var t=Yr(r),n=Yr(e),i=t.getTime()-n.getTime();return i<0?-1:i>0?1:i}var R5=ze(()=>{$i();Yn()});var Xlt,ST,TT,XFt,ET=ze(()=>{Xlt=Math.pow(10,8)*24*60*60*1e3,ST=6e4,TT=36e5,XFt=-Xlt});function F5(r){return Cr(1,arguments),r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}var Ffe=ze(()=>{Yn()});function g_(r){if(Cr(1,arguments),!F5(r)&&typeof r!="number")return!1;var e=Yr(r);return!isNaN(Number(e))}var q5=ze(()=>{Ffe();$i();Yn()});function N5(r,e){Cr(2,arguments);var t=Yr(r),n=Yr(e),i=t.getFullYear()-n.getFullYear(),a=t.getMonth()-n.getMonth();return i*12+a}var qfe=ze(()=>{$i();Yn()});function B5(r,e){Cr(2,arguments);var t=Yr(r),n=Yr(e);return t.getFullYear()-n.getFullYear()}var Nfe=ze(()=>{$i();Yn()});function Bfe(r,e){var t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function v_(r,e){Cr(2,arguments);var t=Yr(r),n=Yr(e),i=Bfe(t,n),a=Math.abs(P5(t,n));t.setDate(t.getDate()-i*a);var l=Number(Bfe(t,n)===-i),h=i*(a-l);return h===0?0:h}var z5=ze(()=>{$i();Ofe();Yn()});function Im(r,e){return Cr(2,arguments),Yr(r).getTime()-Yr(e).getTime()}var kT=ze(()=>{$i();Yn()});function Mm(r){return r?zfe[r]:zfe[Jlt]}var zfe,Jlt,y_=ze(()=>{zfe={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(r){return r<0?Math.ceil(r):Math.floor(r)}},Jlt="trunc"});function NO(r,e,t){Cr(2,arguments);var n=Im(r,e)/TT;return Mm(t?.roundingMethod)(n)}var Ufe=ze(()=>{ET();kT();Yn();y_()});function BO(r,e,t){Cr(2,arguments);var n=Im(r,e)/ST;return Mm(t?.roundingMethod)(n)}var jfe=ze(()=>{ET();kT();Yn();y_()});function b_(r){Cr(1,arguments);var e=Yr(r);return e.setHours(23,59,59,999),e}var U5=ze(()=>{$i();Yn()});function x_(r){Cr(1,arguments);var e=Yr(r),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}var j5=ze(()=>{$i();Yn()});function H5(r){Cr(1,arguments);var e=Yr(r);return b_(e).getTime()===x_(e).getTime()}var Hfe=ze(()=>{$i();U5();j5();Yn()});function __(r,e){Cr(2,arguments);var t=Yr(r),n=Yr(e),i=Zv(t,n),a=Math.abs(N5(t,n)),l;if(a<1)l=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-i*a);var h=Zv(t,n)===-i;H5(Yr(r))&&a===1&&Zv(r,n)===1&&(h=!1),l=i*(a-Number(h))}return l===0?0:l}var W5=ze(()=>{$i();qfe();R5();Yn();Hfe()});function zO(r,e,t){Cr(2,arguments);var n=__(r,e)/3;return Mm(t?.roundingMethod)(n)}var Wfe=ze(()=>{W5();Yn();y_()});function UO(r,e,t){Cr(2,arguments);var n=Im(r,e)/1e3;return Mm(t?.roundingMethod)(n)}var Vfe=ze(()=>{kT();Yn();y_()});function jO(r,e,t){Cr(2,arguments);var n=v_(r,e)/7;return Mm(t?.roundingMethod)(n)}var $fe=ze(()=>{z5();Yn();y_()});function HO(r,e){Cr(2,arguments);var t=Yr(r),n=Yr(e),i=Zv(t,n),a=Math.abs(B5(t,n));t.setFullYear(1584),n.setFullYear(1584);var l=Zv(t,n)===-i,h=i*(a-Number(l));return h===0?0:h}var Gfe=ze(()=>{$i();Nfe();R5();Yn()});function WO(r){Cr(1,arguments);var e=Yr(r);return e.setSeconds(0,0),e}var Kfe=ze(()=>{$i();Yn()});function VO(r){Cr(1,arguments);var e=Yr(r),t=e.getMonth(),n=t-t%3;return e.setMonth(n,1),e.setHours(0,0,0,0),e}var Yfe=ze(()=>{$i();Yn()});function $O(r){Cr(1,arguments);var e=Yr(r);return e.setDate(1),e.setHours(0,0,0,0),e}var Zfe=ze(()=>{$i();Yn()});function GO(r){Cr(1,arguments);var e=Yr(r),t=new Date(0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}var Xfe=ze(()=>{$i();Yn()});function KO(r){Cr(1,arguments);var e=Yr(r),t=e.getFullYear();return e.setFullYear(t+1,0,0),e.setHours(23,59,59,999),e}var Jfe=ze(()=>{$i();Yn()});function YO(r){Cr(1,arguments);var e=Yr(r);return e.setMinutes(59,59,999),e}var Qfe=ze(()=>{$i();Yn()});function ZO(r,e){Cr(1,arguments);var t=e||{},n=t.locale,i=n&&n.options&&n.options.weekStartsOn,a=i==null?0:Zn(i),l=t.weekStartsOn==null?a:Zn(t.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Yr(r),g=h.getDay(),w=(g<l?-7:0)+6-(g-l);return h.setDate(h.getDate()+w),h.setHours(23,59,59,999),h}var ehe=ze(()=>{$i();Ol();Yn()});function XO(r){Cr(1,arguments);var e=Yr(r);return e.setSeconds(59,999),e}var the=ze(()=>{$i();Yn()});function JO(r){Cr(1,arguments);var e=Yr(r),t=e.getMonth(),n=t-t%3+3;return e.setMonth(n,0),e.setHours(23,59,59,999),e}var rhe=ze(()=>{$i();Yn()});function QO(r){Cr(1,arguments);var e=Yr(r);return e.setMilliseconds(999),e}var nhe=ze(()=>{$i();Yn()});var Qlt,eut,ihe,ohe=ze(()=>{Qlt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},eut=function(r,e,t){var n,i=Qlt[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n},ihe=eut});function CT(r){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):r.defaultWidth,n=r.formats[t]||r.formats[r.defaultWidth];return n}}var ahe=ze(()=>{});var tut,rut,nut,iut,she,lhe=ze(()=>{ahe();tut={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rut={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nut={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iut={date:CT({formats:tut,defaultWidth:"full"}),time:CT({formats:rut,defaultWidth:"full"}),dateTime:CT({formats:nut,defaultWidth:"full"})},she=iut});var out,aut,uhe,che=ze(()=>{out={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},aut=function(r,e,t,n){return out[r]},uhe=aut});function Eb(r){return function(e,t){var n=t||{},i=n.context?String(n.context):"standalone",a;if(i==="formatting"&&r.formattingValues){var l=r.defaultFormattingWidth||r.defaultWidth,h=n.width?String(n.width):l;a=r.formattingValues[h]||r.formattingValues[l]}else{var g=r.defaultWidth,w=n.width?String(n.width):r.defaultWidth;a=r.values[w]||r.values[g]}var C=r.argumentCallback?r.argumentCallback(e):e;return a[C]}}var fhe=ze(()=>{});var sut,lut,uut,cut,fut,hut,dut,put,hhe,dhe=ze(()=>{fhe();sut={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lut={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uut={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cut={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fut={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hut={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dut=function(r,e){var t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},put={ordinalNumber:dut,era:Eb({values:sut,defaultWidth:"wide"}),quarter:Eb({values:lut,defaultWidth:"wide",argumentCallback:function(r){return r-1}}),month:Eb({values:uut,defaultWidth:"wide"}),day:Eb({values:cut,defaultWidth:"wide"}),dayPeriod:Eb({values:fut,defaultWidth:"wide",formattingValues:hut,defaultFormattingWidth:"wide"})},hhe=put});function kb(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],a=e.match(i);if(!a)return null;var l=a[0],h=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],g=Array.isArray(h)?gut(h,function(D){return D.test(l)}):mut(h,function(D){return D.test(l)}),w;w=r.valueCallback?r.valueCallback(g):g,w=t.valueCallback?t.valueCallback(w):w;var C=e.slice(l.length);return{value:w,rest:C}}}function mut(r,e){for(var t in r)if(r.hasOwnProperty(t)&&e(r[t]))return t}function gut(r,e){for(var t=0;t<r.length;t++)if(e(r[t]))return t}var phe=ze(()=>{});function V5(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(r.matchPattern);if(!n)return null;var i=n[0],a=e.match(r.parsePattern);if(!a)return null;var l=r.valueCallback?r.valueCallback(a[0]):a[0];l=t.valueCallback?t.valueCallback(l):l;var h=e.slice(i.length);return{value:l,rest:h}}}var mhe=ze(()=>{});var vut,yut,but,xut,_ut,wut,Sut,Tut,Eut,kut,Cut,Aut,Dut,ghe,vhe=ze(()=>{phe();mhe();vut=/^(\d+)(th|st|nd|rd)?/i,yut=/\d+/i,but={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xut={any:[/^b/i,/^(a|c)/i]},_ut={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wut={any:[/1/i,/2/i,/3/i,/4/i]},Sut={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Tut={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Eut={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kut={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Cut={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Aut={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Dut={ordinalNumber:V5({matchPattern:vut,parsePattern:yut,valueCallback:function(r){return parseInt(r,10)}}),era:kb({matchPatterns:but,defaultMatchWidth:"wide",parsePatterns:xut,defaultParseWidth:"any"}),quarter:kb({matchPatterns:_ut,defaultMatchWidth:"wide",parsePatterns:wut,defaultParseWidth:"any",valueCallback:function(r){return r+1}}),month:kb({matchPatterns:Sut,defaultMatchWidth:"wide",parsePatterns:Tut,defaultParseWidth:"any"}),day:kb({matchPatterns:Eut,defaultMatchWidth:"wide",parsePatterns:kut,defaultParseWidth:"any"}),dayPeriod:kb({matchPatterns:Cut,defaultMatchWidth:"any",parsePatterns:Aut,defaultParseWidth:"any"})},ghe=Dut});var Out,eI,$5=ze(()=>{ohe();lhe();che();dhe();vhe();Out={code:"en-US",formatDistance:ihe,formatLong:she,formatRelative:uhe,localize:hhe,match:ghe,options:{weekStartsOn:0,firstWeekContainsDate:1}},eI=Out});function AT(r,e){Cr(2,arguments);var t=Zn(e);return np(r,-t)}var G5=ze(()=>{Ol();m_();Yn()});function K5(r){Cr(1,arguments);var e=Yr(r),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=t-n;return Math.floor(i/Iut)+1}var Iut,yhe=ze(()=>{$i();Yn();Iut=864e5});function zp(r){Cr(1,arguments);var e=1,t=Yr(r),n=t.getUTCDay(),i=(n<e?7:0)+n-e;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}var DT=ze(()=>{$i();Yn()});function OT(r){Cr(1,arguments);var e=Yr(r),t=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(t+1,0,4),n.setUTCHours(0,0,0,0);var i=zp(n),a=new Date(0);a.setUTCFullYear(t,0,4),a.setUTCHours(0,0,0,0);var l=zp(a);return e.getTime()>=i.getTime()?t+1:e.getTime()>=l.getTime()?t:t-1}var Y5=ze(()=>{$i();Yn();DT()});function Z5(r){Cr(1,arguments);var e=OT(r),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var n=zp(t);return n}var bhe=ze(()=>{Y5();DT();Yn()});function IT(r){Cr(1,arguments);var e=Yr(r),t=zp(e).getTime()-Z5(e).getTime();return Math.round(t/Mut)+1}var Mut,X5=ze(()=>{$i();DT();bhe();Yn();Mut=6048e5});function ip(r,e){Cr(1,arguments);var t=e||{},n=t.locale,i=n&&n.options&&n.options.weekStartsOn,a=i==null?0:Zn(i),l=t.weekStartsOn==null?a:Zn(t.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Yr(r),g=h.getUTCDay(),w=(g<l?7:0)+g-l;return h.setUTCDate(h.getUTCDate()-w),h.setUTCHours(0,0,0,0),h}var MT=ze(()=>{$i();Yn();Ol()});function Cb(r,e){Cr(1,arguments);var t=Yr(r),n=t.getUTCFullYear(),i=e||{},a=i.locale,l=a&&a.options&&a.options.firstWeekContainsDate,h=l==null?1:Zn(l),g=i.firstWeekContainsDate==null?h:Zn(i.firstWeekContainsDate);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setUTCFullYear(n+1,0,g),w.setUTCHours(0,0,0,0);var C=ip(w,e),D=new Date(0);D.setUTCFullYear(n,0,g),D.setUTCHours(0,0,0,0);var F=ip(D,e);return t.getTime()>=C.getTime()?n+1:t.getTime()>=F.getTime()?n:n-1}var tI=ze(()=>{$i();Yn();MT();Ol()});function J5(r,e){Cr(1,arguments);var t=e||{},n=t.locale,i=n&&n.options&&n.options.firstWeekContainsDate,a=i==null?1:Zn(i),l=t.firstWeekContainsDate==null?a:Zn(t.firstWeekContainsDate),h=Cb(r,e),g=new Date(0);g.setUTCFullYear(h,0,l),g.setUTCHours(0,0,0,0);var w=ip(g,e);return w}var xhe=ze(()=>{tI();Yn();MT();Ol()});function LT(r,e){Cr(1,arguments);var t=Yr(r),n=ip(t,e).getTime()-J5(t,e).getTime();return Math.round(n/Lut)+1}var Lut,Q5=ze(()=>{$i();MT();xhe();Yn();Lut=6048e5});function ga(r,e){for(var t=r<0?"-":"",n=Math.abs(r).toString();n.length<e;)n="0"+n;return t+n}var e4=ze(()=>{});var Put,Lg,_he=ze(()=>{e4();Put={y:function(r,e){var t=r.getUTCFullYear(),n=t>0?t:1-t;return ga(e==="yy"?n%100:n,e.length)},M:function(r,e){var t=r.getUTCMonth();return e==="M"?String(t+1):ga(t+1,2)},d:function(r,e){return ga(r.getUTCDate(),e.length)},a:function(r,e){var t=r.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h:function(r,e){return ga(r.getUTCHours()%12||12,e.length)},H:function(r,e){return ga(r.getUTCHours(),e.length)},m:function(r,e){return ga(r.getUTCMinutes(),e.length)},s:function(r,e){return ga(r.getUTCSeconds(),e.length)},S:function(r,e){var t=e.length,n=r.getUTCMilliseconds(),i=Math.floor(n*Math.pow(10,t-3));return ga(i,e.length)}},Lg=Put});function whe(r,e){var t=r>0?"-":"+",n=Math.abs(r),i=Math.floor(n/60),a=n%60;if(a===0)return t+String(i);var l=e||"";return t+String(i)+l+ga(a,2)}function She(r,e){if(r%60===0){var t=r>0?"-":"+";return t+ga(Math.abs(r)/60,2)}return Ab(r,e)}function Ab(r,e){var t=e||"",n=r>0?"-":"+",i=Math.abs(r),a=ga(Math.floor(i/60),2),l=ga(i%60,2);return n+a+t+l}var w_,Rut,The,Ehe=ze(()=>{yhe();X5();Y5();Q5();tI();e4();_he();w_={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Rut={G:function(r,e,t){var n=r.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){var n=r.getUTCFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return Lg.y(r,e)},Y:function(r,e,t,n){var i=Cb(r,n),a=i>0?i:1-i;if(e==="YY"){var l=a%100;return ga(l,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):ga(a,e.length)},R:function(r,e){var t=OT(r);return ga(t,e.length)},u:function(r,e){var t=r.getUTCFullYear();return ga(t,e.length)},Q:function(r,e,t){var n=Math.ceil((r.getUTCMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ga(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){var n=Math.ceil((r.getUTCMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ga(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){var n=r.getUTCMonth();switch(e){case"M":case"MM":return Lg.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){var n=r.getUTCMonth();switch(e){case"L":return String(n+1);case"LL":return ga(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){var i=LT(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):ga(i,e.length)},I:function(r,e,t){var n=IT(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):ga(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getUTCDate(),{unit:"date"}):Lg.d(r,e)},D:function(r,e,t){var n=K5(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):ga(n,e.length)},E:function(r,e,t){var n=r.getUTCDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){var i=r.getUTCDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return ga(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){var i=r.getUTCDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return ga(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){var n=r.getUTCDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return ga(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){var n=r.getUTCHours(),i=n/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){var n=r.getUTCHours(),i;switch(n===12?i=w_.noon:n===0?i=w_.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){var n=r.getUTCHours(),i;switch(n>=17?i=w_.evening:n>=12?i=w_.afternoon:n>=4?i=w_.morning:i=w_.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){var n=r.getUTCHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Lg.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getUTCHours(),{unit:"hour"}):Lg.H(r,e)},K:function(r,e,t){var n=r.getUTCHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):ga(n,e.length)},k:function(r,e,t){var n=r.getUTCHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):ga(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getUTCMinutes(),{unit:"minute"}):Lg.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getUTCSeconds(),{unit:"second"}):Lg.s(r,e)},S:function(r,e){return Lg.S(r,e)},X:function(r,e,t,n){var i=n._originalDate||r,a=i.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return She(a);case"XXXX":case"XX":return Ab(a);case"XXXXX":case"XXX":default:return Ab(a,":")}},x:function(r,e,t,n){var i=n._originalDate||r,a=i.getTimezoneOffset();switch(e){case"x":return She(a);case"xxxx":case"xx":return Ab(a);case"xxxxx":case"xxx":default:return Ab(a,":")}},O:function(r,e,t,n){var i=n._originalDate||r,a=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+whe(a,":");case"OOOO":default:return"GMT"+Ab(a,":")}},z:function(r,e,t,n){var i=n._originalDate||r,a=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+whe(a,":");case"zzzz":default:return"GMT"+Ab(a,":")}},t:function(r,e,t,n){var i=n._originalDate||r,a=Math.floor(i.getTime()/1e3);return ga(a,e.length)},T:function(r,e,t,n){var i=n._originalDate||r,a=i.getTime();return ga(a,e.length)}};The=Rut});function khe(r,e){switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function Che(r,e){switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}function Fut(r,e){var t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return khe(r,e);var a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",khe(n,e)).replace("{{time}}",Che(i,e))}var qut,rI,t4=ze(()=>{qut={p:Che,P:Fut},rI=qut});function nI(r){return Nut.indexOf(r)!==-1}function iI(r){return But.indexOf(r)!==-1}function S_(r,e,t){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://git.io/fxCyr"))}var Nut,But,r4=ze(()=>{Nut=["D","DD"],But=["YY","YYYY"]});function oI(r,e,t){Cr(2,arguments);var n=String(e),i=t||{},a=i.locale||eI,l=a.options&&a.options.firstWeekContainsDate,h=l==null?1:Zn(l),g=i.firstWeekContainsDate==null?h:Zn(i.firstWeekContainsDate);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=a.options&&a.options.weekStartsOn,C=w==null?0:Zn(w),D=i.weekStartsOn==null?C:Zn(i.weekStartsOn);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!a.localize)throw new RangeError("locale must contain localize property");if(!a.formatLong)throw new RangeError("locale must contain formatLong property");var F=Yr(r);if(!g_(F))throw new RangeError("Invalid time value");var z=Yv(F),Y=AT(F,z),$={firstWeekContainsDate:g,weekStartsOn:D,locale:a,_originalDate:F},re=n.match(Uut).map(function(oe){var ne=oe[0];if(ne==="p"||ne==="P"){var he=rI[ne];return he(oe,a.formatLong,$)}return oe}).join("").match(zut).map(function(oe){if(oe==="''")return"'";var ne=oe[0];if(ne==="'")return Vut(oe);var he=The[ne];if(he)return!i.useAdditionalWeekYearTokens&&iI(oe)&&S_(oe,e,r),!i.useAdditionalDayOfYearTokens&&nI(oe)&&S_(oe,e,r),he(Y,oe,a.localize,$);if(ne.match(Wut))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ne+"`");return oe}).join("");return re}function Vut(r){return r.match(jut)[1].replace(Hut,"'")}var zut,Uut,jut,Hut,Wut,Ahe=ze(()=>{q5();$5();G5();$i();Ehe();t4();MO();r4();Ol();Yn();zut=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Uut=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jut=/^'([^]*?)'?$/,Hut=/''/g,Wut=/[a-zA-Z]/});function n4(r,e){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");e=e||{};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r}var Dhe=ze(()=>{});function PT(r,e,t){Cr(2,arguments);var n=t||{},i=n.locale,a=i&&i.options&&i.options.weekStartsOn,l=a==null?0:Zn(a),h=n.weekStartsOn==null?l:Zn(n.weekStartsOn);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=Yr(r),w=Zn(e),C=g.getUTCDay(),D=w%7,F=(D+7)%7,z=(F<h?7:0)+w-C;return g.setUTCDate(g.getUTCDate()+z),g}var Ohe=ze(()=>{$i();Yn();Ol()});function i4(r,e){Cr(2,arguments);var t=Zn(e);t%7===0&&(t=t-7);var n=1,i=Yr(r),a=i.getUTCDay(),l=t%7,h=(l+7)%7,g=(h<n?7:0)+t-a;return i.setUTCDate(i.getUTCDate()+g),i}var Ihe=ze(()=>{$i();Yn();Ol()});function o4(r,e){Cr(2,arguments);var t=Yr(r),n=Zn(e),i=IT(t)-n;return t.setUTCDate(t.getUTCDate()-i*7),t}var Mhe=ze(()=>{Ol();$i();X5();Yn()});function a4(r,e,t){Cr(2,arguments);var n=Yr(r),i=Zn(e),a=LT(n,t)-i;return n.setUTCDate(n.getUTCDate()-a*7),n}var Lhe=ze(()=>{Ol();$i();Q5();Yn()});function Il(r,e,t){var n=e.match(r);if(!n)return null;var i=parseInt(n[0],10);return{value:t?t(i):i,rest:e.slice(n[0].length)}}function Pm(r,e){var t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};var n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:n*(i*$ut+a*Gut+l*Kut),rest:e.slice(t[0].length)}}function Phe(r,e){return Il(Tu.anyDigitsSigned,r,e)}function ru(r,e,t){switch(r){case 1:return Il(Tu.singleDigit,e,t);case 2:return Il(Tu.twoDigits,e,t);case 3:return Il(Tu.threeDigits,e,t);case 4:return Il(Tu.fourDigits,e,t);default:return Il(new RegExp("^\\d{1,"+r+"}"),e,t)}}function aI(r,e,t){switch(r){case 1:return Il(Tu.singleDigitSigned,e,t);case 2:return Il(Tu.twoDigitsSigned,e,t);case 3:return Il(Tu.threeDigitsSigned,e,t);case 4:return Il(Tu.fourDigitsSigned,e,t);default:return Il(new RegExp("^-?\\d{1,"+r+"}"),e,t)}}function s4(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Rhe(r,e){var t=e>0,n=t?e:1-e,i;if(n<=50)i=r||100;else{var a=n+50,l=Math.floor(a/100)*100,h=r>=a%100;i=r+l-(h?100:0)}return t?i:1-i}function Fhe(r){return r%400===0||r%4===0&&r%100!==0}var $ut,Gut,Kut,Tu,Lm,Yut,Zut,Xut,qhe,Nhe=ze(()=>{tI();Ohe();Ihe();Mhe();Lhe();DT();MT();$ut=36e5,Gut=6e4,Kut=1e3,Tu={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Lm={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};Yut=[31,28,31,30,31,30,31,31,30,31,30,31],Zut=[31,29,31,30,31,30,31,31,30,31,30,31];Xut={G:{priority:140,parse:function(r,e,t,n){switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"})||t.era(r,{width:"narrow"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})||t.era(r,{width:"abbreviated"})||t.era(r,{width:"narrow"})}},set:function(r,e,t,n){return e.era=t,r.setUTCFullYear(t,0,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(r,e,t,n){var i=function(a){return{year:a,isTwoDigitYear:e==="yy"}};switch(e){case"y":return ru(4,r,i);case"yo":return t.ordinalNumber(r,{unit:"year",valueCallback:i});default:return ru(e.length,r,i)}},validate:function(r,e,t){return e.isTwoDigitYear||e.year>0},set:function(r,e,t,n){var i=r.getUTCFullYear();if(t.isTwoDigitYear){var a=Rhe(t.year,i);return r.setUTCFullYear(a,0,1),r.setUTCHours(0,0,0,0),r}var l=!("era"in e)||e.era===1?t.year:1-t.year;return r.setUTCFullYear(l,0,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(r,e,t,n){var i=function(a){return{year:a,isTwoDigitYear:e==="YY"}};switch(e){case"Y":return ru(4,r,i);case"Yo":return t.ordinalNumber(r,{unit:"year",valueCallback:i});default:return ru(e.length,r,i)}},validate:function(r,e,t){return e.isTwoDigitYear||e.year>0},set:function(r,e,t,n){var i=Cb(r,n);if(t.isTwoDigitYear){var a=Rhe(t.year,i);return r.setUTCFullYear(a,0,n.firstWeekContainsDate),r.setUTCHours(0,0,0,0),ip(r,n)}var l=!("era"in e)||e.era===1?t.year:1-t.year;return r.setUTCFullYear(l,0,n.firstWeekContainsDate),r.setUTCHours(0,0,0,0),ip(r,n)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(r,e,t,n){return aI(e==="R"?4:e.length,r)},set:function(r,e,t,n){var i=new Date(0);return i.setUTCFullYear(t,0,4),i.setUTCHours(0,0,0,0),zp(i)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(r,e,t,n){return aI(e==="u"?4:e.length,r)},set:function(r,e,t,n){return r.setUTCFullYear(t,0,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(r,e,t,n){switch(e){case"Q":case"QQ":return ru(e.length,r);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"})||t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})||t.quarter(r,{width:"abbreviated",context:"formatting"})||t.quarter(r,{width:"narrow",context:"formatting"})}},validate:function(r,e,t){return e>=1&&e<=4},set:function(r,e,t,n){return r.setUTCMonth((t-1)*3,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(r,e,t,n){switch(e){case"q":case"qq":return ru(e.length,r);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"})||t.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})||t.quarter(r,{width:"abbreviated",context:"standalone"})||t.quarter(r,{width:"narrow",context:"standalone"})}},validate:function(r,e,t){return e>=1&&e<=4},set:function(r,e,t,n){return r.setUTCMonth((t-1)*3,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(r,e,t,n){var i=function(a){return a-1};switch(e){case"M":return Il(Tu.month,r,i);case"MM":return ru(2,r,i);case"Mo":return t.ordinalNumber(r,{unit:"month",valueCallback:i});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"})||t.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})||t.month(r,{width:"abbreviated",context:"formatting"})||t.month(r,{width:"narrow",context:"formatting"})}},validate:function(r,e,t){return e>=0&&e<=11},set:function(r,e,t,n){return r.setUTCMonth(t,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(r,e,t,n){var i=function(a){return a-1};switch(e){case"L":return Il(Tu.month,r,i);case"LL":return ru(2,r,i);case"Lo":return t.ordinalNumber(r,{unit:"month",valueCallback:i});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"})||t.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})||t.month(r,{width:"abbreviated",context:"standalone"})||t.month(r,{width:"narrow",context:"standalone"})}},validate:function(r,e,t){return e>=0&&e<=11},set:function(r,e,t,n){return r.setUTCMonth(t,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(r,e,t,n){switch(e){case"w":return Il(Tu.week,r);case"wo":return t.ordinalNumber(r,{unit:"week"});default:return ru(e.length,r)}},validate:function(r,e,t){return e>=1&&e<=53},set:function(r,e,t,n){return ip(a4(r,t,n),n)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(r,e,t,n){switch(e){case"I":return Il(Tu.week,r);case"Io":return t.ordinalNumber(r,{unit:"week"});default:return ru(e.length,r)}},validate:function(r,e,t){return e>=1&&e<=53},set:function(r,e,t,n){return zp(o4(r,t,n),n)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(r,e,t,n){switch(e){case"d":return Il(Tu.date,r);case"do":return t.ordinalNumber(r,{unit:"date"});default:return ru(e.length,r)}},validate:function(r,e,t){var n=r.getUTCFullYear(),i=Fhe(n),a=r.getUTCMonth();return i?e>=1&&e<=Zut[a]:e>=1&&e<=Yut[a]},set:function(r,e,t,n){return r.setUTCDate(t),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(r,e,t,n){switch(e){case"D":case"DD":return Il(Tu.dayOfYear,r);case"Do":return t.ordinalNumber(r,{unit:"date"});default:return ru(e.length,r)}},validate:function(r,e,t){var n=r.getUTCFullYear(),i=Fhe(n);return i?e>=1&&e<=366:e>=1&&e<=365},set:function(r,e,t,n){return r.setUTCMonth(0,t),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(r,e,t,n){switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"})||t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})||t.day(r,{width:"abbreviated",context:"formatting"})||t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"})}},validate:function(r,e,t){return e>=0&&e<=6},set:function(r,e,t,n){return r=PT(r,t,n),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(r,e,t,n){var i=function(a){var l=Math.floor((a-1)/7)*7;return(a+n.weekStartsOn+6)%7+l};switch(e){case"e":case"ee":return ru(e.length,r,i);case"eo":return t.ordinalNumber(r,{unit:"day",valueCallback:i});case"eee":return t.day(r,{width:"abbreviated",context:"formatting"})||t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"});case"eeeee":return t.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return t.day(r,{width:"wide",context:"formatting"})||t.day(r,{width:"abbreviated",context:"formatting"})||t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"})}},validate:function(r,e,t){return e>=0&&e<=6},set:function(r,e,t,n){return r=PT(r,t,n),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(r,e,t,n){var i=function(a){var l=Math.floor((a-1)/7)*7;return(a+n.weekStartsOn+6)%7+l};switch(e){case"c":case"cc":return ru(e.length,r,i);case"co":return t.ordinalNumber(r,{unit:"day",valueCallback:i});case"ccc":return t.day(r,{width:"abbreviated",context:"standalone"})||t.day(r,{width:"short",context:"standalone"})||t.day(r,{width:"narrow",context:"standalone"});case"ccccc":return t.day(r,{width:"narrow",context:"standalone"});case"cccccc":return t.day(r,{width:"short",context:"standalone"})||t.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return t.day(r,{width:"wide",context:"standalone"})||t.day(r,{width:"abbreviated",context:"standalone"})||t.day(r,{width:"short",context:"standalone"})||t.day(r,{width:"narrow",context:"standalone"})}},validate:function(r,e,t){return e>=0&&e<=6},set:function(r,e,t,n){return r=PT(r,t,n),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(r,e,t,n){var i=function(a){return a===0?7:a};switch(e){case"i":case"ii":return ru(e.length,r);case"io":return t.ordinalNumber(r,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting",valueCallback:i})||t.day(r,{width:"short",context:"formatting",valueCallback:i})||t.day(r,{width:"narrow",context:"formatting",valueCallback:i});case"iiiii":return t.day(r,{width:"narrow",context:"formatting",valueCallback:i});case"iiiiii":return t.day(r,{width:"short",context:"formatting",valueCallback:i})||t.day(r,{width:"narrow",context:"formatting",valueCallback:i});case"iiii":default:return t.day(r,{width:"wide",context:"formatting",valueCallback:i})||t.day(r,{width:"abbreviated",context:"formatting",valueCallback:i})||t.day(r,{width:"short",context:"formatting",valueCallback:i})||t.day(r,{width:"narrow",context:"formatting",valueCallback:i})}},validate:function(r,e,t){return e>=1&&e<=7},set:function(r,e,t,n){return r=i4(r,t,n),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(r,e,t,n){switch(e){case"a":case"aa":case"aaa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})||t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"})}},set:function(r,e,t,n){return r.setUTCHours(s4(t),0,0,0),r},incompatibleTokens:["b","B","H","k","t","T"]},b:{priority:80,parse:function(r,e,t,n){switch(e){case"b":case"bb":case"bbb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})||t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"})}},set:function(r,e,t,n){return r.setUTCHours(s4(t),0,0,0),r},incompatibleTokens:["a","B","H","k","t","T"]},B:{priority:80,parse:function(r,e,t,n){switch(e){case"B":case"BB":case"BBB":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})||t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"})}},set:function(r,e,t,n){return r.setUTCHours(s4(t),0,0,0),r},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(r,e,t,n){switch(e){case"h":return Il(Tu.hour12h,r);case"ho":return t.ordinalNumber(r,{unit:"hour"});default:return ru(e.length,r)}},validate:function(r,e,t){return e>=1&&e<=12},set:function(r,e,t,n){var i=r.getUTCHours()>=12;return i&&t<12?r.setUTCHours(t+12,0,0,0):!i&&t===12?r.setUTCHours(0,0,0,0):r.setUTCHours(t,0,0,0),r},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(r,e,t,n){switch(e){case"H":return Il(Tu.hour23h,r);case"Ho":return t.ordinalNumber(r,{unit:"hour"});default:return ru(e.length,r)}},validate:function(r,e,t){return e>=0&&e<=23},set:function(r,e,t,n){return r.setUTCHours(t,0,0,0),r},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(r,e,t,n){switch(e){case"K":return Il(Tu.hour11h,r);case"Ko":return t.ordinalNumber(r,{unit:"hour"});default:return ru(e.length,r)}},validate:function(r,e,t){return e>=0&&e<=11},set:function(r,e,t,n){var i=r.getUTCHours()>=12;return i&&t<12?r.setUTCHours(t+12,0,0,0):r.setUTCHours(t,0,0,0),r},incompatibleTokens:["h","H","k","t","T"]},k:{priority:70,parse:function(r,e,t,n){switch(e){case"k":return Il(Tu.hour24h,r);case"ko":return t.ordinalNumber(r,{unit:"hour"});default:return ru(e.length,r)}},validate:function(r,e,t){return e>=1&&e<=24},set:function(r,e,t,n){var i=t<=24?t%24:t;return r.setUTCHours(i,0,0,0),r},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(r,e,t,n){switch(e){case"m":return Il(Tu.minute,r);case"mo":return t.ordinalNumber(r,{unit:"minute"});default:return ru(e.length,r)}},validate:function(r,e,t){return e>=0&&e<=59},set:function(r,e,t,n){return r.setUTCMinutes(t,0,0),r},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(r,e,t,n){switch(e){case"s":return Il(Tu.second,r);case"so":return t.ordinalNumber(r,{unit:"second"});default:return ru(e.length,r)}},validate:function(r,e,t){return e>=0&&e<=59},set:function(r,e,t,n){return r.setUTCSeconds(t,0),r},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(r,e,t,n){var i=function(a){return Math.floor(a*Math.pow(10,-e.length+3))};return ru(e.length,r,i)},set:function(r,e,t,n){return r.setUTCMilliseconds(t),r},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(r,e,t,n){switch(e){case"X":return Pm(Lm.basicOptionalMinutes,r);case"XX":return Pm(Lm.basic,r);case"XXXX":return Pm(Lm.basicOptionalSeconds,r);case"XXXXX":return Pm(Lm.extendedOptionalSeconds,r);case"XXX":default:return Pm(Lm.extended,r)}},set:function(r,e,t,n){return e.timestampIsSet?r:new Date(r.getTime()-t)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(r,e,t,n){switch(e){case"x":return Pm(Lm.basicOptionalMinutes,r);case"xx":return Pm(Lm.basic,r);case"xxxx":return Pm(Lm.basicOptionalSeconds,r);case"xxxxx":return Pm(Lm.extendedOptionalSeconds,r);case"xxx":default:return Pm(Lm.extended,r)}},set:function(r,e,t,n){return e.timestampIsSet?r:new Date(r.getTime()-t)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(r,e,t,n){return Phe(r)},set:function(r,e,t,n){return[new Date(t*1e3),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(r,e,t,n){return Phe(r)},set:function(r,e,t,n){return[new Date(t),{timestampIsSet:!0}]},incompatibleTokens:"*"}},qhe=Xut});function sI(r,e,t,n){Cr(3,arguments);var i=String(r),a=String(e),l=n||{},h=l.locale||eI;if(!h.match)throw new RangeError("locale must contain match property");var g=h.options&&h.options.firstWeekContainsDate,w=g==null?1:Zn(g),C=l.firstWeekContainsDate==null?w:Zn(l.firstWeekContainsDate);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=h.options&&h.options.weekStartsOn,F=D==null?0:Zn(D),z=l.weekStartsOn==null?F:Zn(l.weekStartsOn);if(!(z>=0&&z<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(a==="")return i===""?Yr(t):new Date(NaN);var Y={firstWeekContainsDate:C,weekStartsOn:z,locale:h},$=[{priority:Jut,subPriority:-1,set:oct,index:0}],re,oe=a.match(ect).map(function(V){var te=V[0];if(te==="p"||te==="P"){var _e=rI[te];return _e(V,h.formatLong,Y)}return V}).join("").match(Qut),ne=[];for(re=0;re<oe.length;re++){var he=oe[re];!l.useAdditionalWeekYearTokens&&iI(he)&&S_(he,a,r),!l.useAdditionalDayOfYearTokens&&nI(he)&&S_(he,a,r);var _=he[0],ge=qhe[_];if(ge){var fe=ge.incompatibleTokens;if(Array.isArray(fe)){for(var me=void 0,we=0;we<ne.length;we++){var Se=ne[we].token;if(fe.indexOf(Se)!==-1||Se===_){me=ne[we];break}}if(me)throw new RangeError("The format string mustn't contain `".concat(me.fullToken,"` and `").concat(he,"` at the same time"))}else if(ge.incompatibleTokens==="*"&&ne.length)throw new RangeError("The format string mustn't contain `".concat(he,"` and any other token at the same time"));ne.push({token:_,fullToken:he});var be=ge.parse(i,he,h.match,Y);if(!be)return new Date(NaN);$.push({priority:ge.priority,subPriority:ge.subPriority||0,set:ge.set,validate:ge.validate,value:be.value,index:$.length}),i=be.rest}else{if(_.match(ict))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");if(he==="''"?he="'":_==="'"&&(he=act(he)),i.indexOf(he)===0)i=i.slice(he.length);else return new Date(NaN)}}if(i.length>0&&nct.test(i))return new Date(NaN);var $e=$.map(function(V){return V.priority}).sort(function(V,te){return te-V}).filter(function(V,te,_e){return _e.indexOf(V)===te}).map(function(V){return $.filter(function(te){return te.priority===V}).sort(function(te,_e){return _e.subPriority-te.subPriority})}).map(function(V){return V[0]}),q=Yr(t);if(isNaN(q))return new Date(NaN);var ee=AT(q,Yv(q)),R={};for(re=0;re<$e.length;re++){var j=$e[re];if(j.validate&&!j.validate(ee,j.value,Y))return new Date(NaN);var G=j.set(ee,R,j.value,Y);G[0]?(ee=G[0],n4(R,G[1])):ee=G}return ee}function oct(r,e){if(e.timestampIsSet)return r;var t=new Date(0);return t.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),t.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),t}function act(r){return r.match(tct)[1].replace(rct,"'")}var Jut,Qut,ect,tct,rct,nct,ict,Bhe=ze(()=>{$5();G5();$i();Dhe();t4();MO();r4();Ol();Nhe();Yn();Jut=10,Qut=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ect=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tct=/^'([^]*?)'?$/,rct=/''/g,nct=/\S/,ict=/[a-zA-Z]/});function lI(r){Cr(1,arguments);var e=Yr(r);return e.setMinutes(0,0,0),e}var zhe=ze(()=>{$i();Yn()});function uI(r){Cr(1,arguments);var e=Yr(r);return e.setMilliseconds(0),e}var Uhe=ze(()=>{$i();Yn()});function fI(r,e){Cr(1,arguments);var t=e||{},n=t.additionalDigits==null?2:Zn(t.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof r=="string"||Object.prototype.toString.call(r)==="[object String]"))return new Date(NaN);var i=cct(r),a;if(i.date){var l=fct(i.date,n);a=hct(l.restDateString,l.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var h=a.getTime(),g=0,w;if(i.time&&(g=dct(i.time),isNaN(g)))return new Date(NaN);if(i.timezone){if(w=pct(i.timezone),isNaN(w))return new Date(NaN)}else{var C=new Date(h+g),D=new Date(0);return D.setFullYear(C.getUTCFullYear(),C.getUTCMonth(),C.getUTCDate()),D.setHours(C.getUTCHours(),C.getUTCMinutes(),C.getUTCSeconds(),C.getUTCMilliseconds()),D}return new Date(h+g+w)}function cct(r){var e={},t=r.split(cI.dateTimeDelimiter),n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],cI.timeZoneDelimiter.test(e.date)&&(e.date=r.split(cI.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){var i=cI.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function fct(r,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};var i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:r.slice((n[1]||n[2]).length)}}function hct(r,e){if(e===null)return new Date(NaN);var t=r.match(sct);if(!t)return new Date(NaN);var n=!!t[4],i=RT(t[1]),a=RT(t[2])-1,l=RT(t[3]),h=RT(t[4]),g=RT(t[5])-1;if(n)return bct(e,h,g)?mct(e,h,g):new Date(NaN);var w=new Date(0);return!vct(e,a,l)||!yct(e,i)?new Date(NaN):(w.setUTCFullYear(e,a,Math.max(i,l)),w)}function RT(r){return r?parseInt(r):1}function dct(r){var e=r.match(lct);if(!e)return NaN;var t=l4(e[1]),n=l4(e[2]),i=l4(e[3]);return xct(t,n,i)?t*TT+n*ST+i*1e3:NaN}function l4(r){return r&&parseFloat(r.replace(",","."))||0}function pct(r){if(r==="Z")return 0;var e=r.match(uct);if(!e)return 0;var t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return _ct(n,i)?t*(n*TT+i*ST):NaN}function mct(r,e,t){var n=new Date(0);n.setUTCFullYear(r,0,4);var i=n.getUTCDay()||7,a=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+a),n}function jhe(r){return r%400===0||r%4===0&&r%100!==0}function vct(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(gct[e]||(jhe(r)?29:28))}function yct(r,e){return e>=1&&e<=(jhe(r)?366:365)}function bct(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function xct(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function _ct(r,e){return e>=0&&e<=59}var cI,sct,lct,uct,gct,Hhe=ze(()=>{ET();Yn();Ol();cI={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},sct=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,lct=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,uct=/^([+-])(\d{2})(?::?(\d{2}))?$/;gct=[31,null,31,30,31,30,31,31,30,31,30,31]});var Whe=ze(()=>{M5();Afe();m_();Ife();OO();Mfe();Lfe();Pfe();Rfe();z5();Ufe();kT();jfe();W5();Wfe();Vfe();$fe();Gfe();U5();Qfe();the();j5();rhe();nhe();ehe();Jfe();Ahe();q5();Bhe();Hhe();L5();zhe();Kfe();Zfe();Yfe();Uhe();Dfe();Xfe();$i();ET()});var wct,Vhe=ze(()=>{I5();Whe();wct={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};D5._date.override({_id:"date-fns",formats:function(){return wct},parse:function(r,e){if(r===null||typeof r>"u")return null;let t=typeof r;return t==="number"||r instanceof Date?r=Yr(r):t==="string"&&(typeof e=="string"?r=sI(r,e,new Date,this.options):r=fI(r,this.options)),g_(r)?r.getTime():null},format:function(r,e){return oI(r,e,this.options)},add:function(r,e,t){switch(t){case"millisecond":return np(r,e);case"second":return RO(r,e);case"minute":return LO(r,e);case"hour":return IO(r,e);case"day":return p_(r,e);case"week":return FO(r,e);case"month":return Kv(r,e);case"quarter":return PO(r,e);case"year":return qO(r,e);default:return r}},diff:function(r,e,t){switch(t){case"millisecond":return Im(r,e);case"second":return UO(r,e);case"minute":return BO(r,e);case"hour":return NO(r,e);case"day":return v_(r,e);case"week":return jO(r,e);case"month":return __(r,e);case"quarter":return zO(r,e);case"year":return HO(r,e);default:return 0}},startOf:function(r,e,t){switch(e){case"second":return uI(r);case"minute":return WO(r);case"hour":return lI(r);case"day":return Tb(r);case"week":return wT(r);case"isoWeek":return wT(r,{weekStartsOn:+t});case"month":return $O(r);case"quarter":return VO(r);case"year":return GO(r);default:return r}},endOf:function(r,e){switch(e){case"second":return QO(r);case"minute":return XO(r);case"hour":return YO(r);case"day":return b_(r);case"week":return ZO(r);case"month":return x_(r);case"quarter":return JO(r);case"year":return KO(r);default:return r}}})});var $he,Ghe=ze(()=>{$he=la(_ue());Cfe();Vhe();$he.default.use(kfe)});var Khe=ze(()=>{(function(r,e){typeof exports=="object"&&typeof module<"u"?module.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self,r.Mapkick=e())})(void 0,function(){"use strict";function r(Y,$){$===void 0&&($={});var re=$.insertAt;if(!(!Y||typeof document>"u")){var oe=document.head||document.getElementsByTagName("head")[0],ne=document.createElement("style");ne.type="text/css",re==="top"&&oe.firstChild?oe.insertBefore(ne,oe.firstChild):oe.appendChild(ne),ne.styleSheet?ne.styleSheet.cssText=Y:ne.appendChild(document.createTextNode(Y))}}var e=`.mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){-moz-box-shadow:0 0 2px rgba(0,0,0,.1);-webkit-box-shadow:0 0 2px rgba(0,0,0,.1);box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl button::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.mapboxgl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:focus:only-child{border-radius:inherit}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{-webkit-animation:mapboxgl-spin 2s linear infinite;-moz-animation:mapboxgl-spin 2s infinite linear;-o-animation:mapboxgl-spin 2s infinite linear;-ms-animation:mapboxgl-spin 2s infinite linear;animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}}@-webkit-keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@-moz-keyframes mapboxgl-spin{0%{-moz-transform:rotate(0deg)}to{-moz-transform:rotate(1turn)}}@-o-keyframes mapboxgl-spin{0%{-o-transform:rotate(0deg)}to{-o-transform:rotate(1turn)}}@-ms-keyframes mapboxgl-spin{0%{-ms-transform:rotate(0deg)}to{-ms-transform:rotate(1turn)}}@keyframes mapboxgl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg opacity='.3' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg opacity='.9' fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23fff' stroke-width='3' fill='%23fff'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/svg%3E")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:hsla(0,0%,100%,.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E");background-color:hsla(0,0%,100%,.5);width:24px;height:24px;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:-webkit-flex;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{-webkit-flex-direction:column;flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{-webkit-flex-direction:column-reverse;flex-direction:column-reverse}.mapboxgl-popup-anchor-left{-webkit-flex-direction:row;flex-direction:row}.mapboxgl-popup-anchor-right{-webkit-flex-direction:row-reverse;flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:"";position:absolute;-webkit-animation:mapboxgl-user-location-dot-pulse 2s infinite;-moz-animation:mapboxgl-user-location-dot-pulse 2s infinite;-ms-animation:mapboxgl-user-location-dot-pulse 2s infinite;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px;box-sizing:border-box;box-shadow:0 0 3px rgba(0,0,0,.35)}@-webkit-keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);opacity:0}to{-webkit-transform:scale(1);opacity:0}}@-ms-keyframes mapboxgl-user-location-dot-pulse{0%{-ms-transform:scale(1);opacity:1}70%{-ms-transform:scale(3);opacity:0}to{-ms-transform:scale(1);opacity:0}}@keyframes mapboxgl-user-location-dot-pulse{0%{transform:scale(1);opacity:1}70%{transform:scale(3);opacity:0}to{transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}`;r(e);var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n={},i={get exports(){return n},set exports(Y){n=Y}};(function(Y,$){(function(re,oe){Y.exports=oe()})(t,function(){var re,oe,ne;function he(_,ge){if(!re)re=ge;else if(!oe)oe=ge;else{var fe="var sharedChunk = {}; ("+re+")(sharedChunk); ("+oe+")(sharedChunk);",me={};re(me),ne=ge(me),typeof window<"u"&&(ne.workerUrl=window.URL.createObjectURL(new Blob([fe],{type:"text/javascript"})))}}return he(["exports"],function(_){function ge(s,c){return s(c={exports:{}},c.exports),c.exports}var fe=me;function me(s,c,d,E){this.cx=3*s,this.bx=3*(d-s)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*c,this.by=3*(E-c)-this.cy,this.ay=1-this.cy-this.by,this.p1x=s,this.p1y=E,this.p2x=d,this.p2y=E}me.prototype.sampleCurveX=function(s){return((this.ax*s+this.bx)*s+this.cx)*s},me.prototype.sampleCurveY=function(s){return((this.ay*s+this.by)*s+this.cy)*s},me.prototype.sampleCurveDerivativeX=function(s){return(3*this.ax*s+2*this.bx)*s+this.cx},me.prototype.solveCurveX=function(s,c){var d,E,I,L,B;for(c===void 0&&(c=1e-6),I=s,B=0;B<8;B++){if(L=this.sampleCurveX(I)-s,Math.abs(L)<c)return I;var J=this.sampleCurveDerivativeX(I);if(Math.abs(J)<1e-6)break;I-=L/J}if((I=s)<(d=0))return d;if(I>(E=1))return E;for(;d<E;){if(L=this.sampleCurveX(I),Math.abs(L-s)<c)return I;s>L?d=I:E=I,I=.5*(E-d)+d}return I},me.prototype.solve=function(s,c){return this.sampleCurveY(this.solveCurveX(s,c))};var we=Se;function Se(s,c){this.x=s,this.y=c}Se.prototype={clone:function(){return new Se(this.x,this.y)},add:function(s){return this.clone()._add(s)},sub:function(s){return this.clone()._sub(s)},multByPoint:function(s){return this.clone()._multByPoint(s)},divByPoint:function(s){return this.clone()._divByPoint(s)},mult:function(s){return this.clone()._mult(s)},div:function(s){return this.clone()._div(s)},rotate:function(s){return this.clone()._rotate(s)},rotateAround:function(s,c){return this.clone()._rotateAround(s,c)},matMult:function(s){return this.clone()._matMult(s)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(s){return this.x===s.x&&this.y===s.y},dist:function(s){return Math.sqrt(this.distSqr(s))},distSqr:function(s){var c=s.x-this.x,d=s.y-this.y;return c*c+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(s){return Math.atan2(this.y-s.y,this.x-s.x)},angleWith:function(s){return this.angleWithSep(s.x,s.y)},angleWithSep:function(s,c){return Math.atan2(this.x*c-this.y*s,this.x*s+this.y*c)},_matMult:function(s){var c=s[2]*this.x+s[3]*this.y;return this.x=s[0]*this.x+s[1]*this.y,this.y=c,this},_add:function(s){return this.x+=s.x,this.y+=s.y,this},_sub:function(s){return this.x-=s.x,this.y-=s.y,this},_mult:function(s){return this.x*=s,this.y*=s,this},_div:function(s){return this.x/=s,this.y/=s,this},_multByPoint:function(s){return this.x*=s.x,this.y*=s.y,this},_divByPoint:function(s){return this.x/=s.x,this.y/=s.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var s=this.y;return this.y=this.x,this.x=-s,this},_rotate:function(s){var c=Math.cos(s),d=Math.sin(s),E=d*this.x+c*this.y;return this.x=c*this.x-d*this.y,this.y=E,this},_rotateAround:function(s,c){var d=Math.cos(s),E=Math.sin(s),I=c.y+E*(this.x-c.x)+d*(this.y-c.y);return this.x=c.x+d*(this.x-c.x)-E*(this.y-c.y),this.y=I,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Se.convert=function(s){return s instanceof Se?s:Array.isArray(s)?new Se(s[0],s[1]):s};var be=typeof self<"u"?self:{},$e=Math.pow(2,53)-1;function q(s,c,d,E){var I=new fe(s,c,d,E);return function(L){return I.solve(L)}}var ee=q(.25,.1,.25,1);function R(s,c,d){return Math.min(d,Math.max(c,s))}function j(s,c,d){var E=d-c,I=((s-c)%E+E)%E+c;return I===c?d:I}function G(s){for(var c=arguments,d=[],E=arguments.length-1;E-- >0;)d[E]=c[E+1];for(var I=0,L=d;I<L.length;I+=1){var B=L[I];for(var J in B)s[J]=B[J]}return s}var V=1;function te(){return V++}function _e(){return function s(c){return c?(c^16*Math.random()>>c/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,s)}()}function K(s){return!!s&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(s)}function U(s,c){s.forEach(function(d){c[d]&&(c[d]=c[d].bind(c))})}function Ue(s,c){return s.indexOf(c,s.length-c.length)!==-1}function Je(s,c,d){var E={};for(var I in s)E[I]=c.call(d||this,s[I],I,s);return E}function Qe(s,c,d){var E={};for(var I in s)c.call(d||this,s[I],I,s)&&(E[I]=s[I]);return E}function Ct(s){return Array.isArray(s)?s.map(Ct):typeof s=="object"&&s?Je(s,Ct):s}var Tt={};function Ht(s){Tt[s]||(typeof console<"u"&&console.warn(s),Tt[s]=!0)}function Rt(s,c,d){return(d.y-s.y)*(c.x-s.x)>(c.y-s.y)*(d.x-s.x)}function Yt(s){for(var c=0,d=0,E=s.length,I=E-1,L=void 0,B=void 0;d<E;I=d++)c+=((B=s[I]).x-(L=s[d]).x)*(L.y+B.y);return c}function cr(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Tr(s){var c={};if(s.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(E,I,L,B){var J=L||B;return c[I]=!J||J.toLowerCase(),""}),c["max-age"]){var d=parseInt(c["max-age"],10);isNaN(d)?delete c["max-age"]:c["max-age"]=d}return c}var ir=null;function At(s){if(ir==null){var c=s.navigator?s.navigator.userAgent:null;ir=!!s.safari||!(!c||!(/\b(iPad|iPhone|iPod)\b/.test(c)||c.match("Safari")&&!c.match("Chrome")))}return ir}function kt(s){try{var c=be[s];return c.setItem("_mapbox_test_",1),c.removeItem("_mapbox_test_"),!0}catch{return!1}}var rt,ce,Te,Ne,Wt=be.performance&&be.performance.now?be.performance.now.bind(be.performance):Date.now.bind(Date),ft=be.requestAnimationFrame||be.mozRequestAnimationFrame||be.webkitRequestAnimationFrame||be.msRequestAnimationFrame,qt=be.cancelAnimationFrame||be.mozCancelAnimationFrame||be.webkitCancelAnimationFrame||be.msCancelAnimationFrame,Nt={now:Wt,frame:function(s){var c=ft(s);return{cancel:function(){return qt(c)}}},getImageData:function(s,c){c===void 0&&(c=0);var d=be.document.createElement("canvas"),E=d.getContext("2d");if(!E)throw new Error("failed to create canvas 2d context");return d.width=s.width,d.height=s.height,E.drawImage(s,0,0,s.width,s.height),E.getImageData(-c,-c,s.width+2*c,s.height+2*c)},resolveURL:function(s){return rt||(rt=be.document.createElement("a")),rt.href=s,rt.href},hardwareConcurrency:be.navigator&&be.navigator.hardwareConcurrency||4,get devicePixelRatio(){return be.devicePixelRatio},get prefersReducedMotion(){return!!be.matchMedia&&(ce==null&&(ce=be.matchMedia("(prefers-reduced-motion: reduce)")),ce.matches)}},vr={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},_r={supported:!1,testSupport:function(s){!Dr&&Ne&&(kr?et(s):Te=s)}},Dr=!1,kr=!1;function et(s){var c=s.createTexture();s.bindTexture(s.TEXTURE_2D,c);try{if(s.texImage2D(s.TEXTURE_2D,0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE,Ne),s.isContextLost())return;_r.supported=!0}catch{}s.deleteTexture(c),Dr=!0}be.document&&((Ne=be.document.createElement("img")).onload=function(){Te&&et(Te),Te=null,kr=!0},Ne.onerror=function(){Dr=!0,Te=null},Ne.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var pt="01",er=function(s,c){this._transformRequestFn=s,this._customAccessToken=c,this._createSkuToken()};function Lr(s){return s.indexOf("mapbox:")===0}er.prototype._createSkuToken=function(){var s=function(){for(var c="",d=0;d<10;d++)c+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",pt,c].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=s.token,this._skuTokenExpiresAt=s.tokenExpiresAt},er.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},er.prototype.transformRequest=function(s,c){return this._transformRequestFn&&this._transformRequestFn(s,c)||{url:s}},er.prototype.normalizeStyleURL=function(s,c){if(!Lr(s))return s;var d=Dt(s);return d.path="/styles/v1"+d.path,this._makeAPIURL(d,this._customAccessToken||c)},er.prototype.normalizeGlyphsURL=function(s,c){if(!Lr(s))return s;var d=Dt(s);return d.path="/fonts/v1"+d.path,this._makeAPIURL(d,this._customAccessToken||c)},er.prototype.normalizeSourceURL=function(s,c){if(!Lr(s))return s;var d=Dt(s);return d.path="/v4/"+d.authority+".json",d.params.push("secure"),this._makeAPIURL(d,this._customAccessToken||c)},er.prototype.normalizeSpriteURL=function(s,c,d,E){var I=Dt(s);return Lr(s)?(I.path="/styles/v1"+I.path+"/sprite"+c+d,this._makeAPIURL(I,this._customAccessToken||E)):(I.path+=""+c+d,Et(I))},er.prototype.normalizeTileURL=function(s,c){if(this._isSkuTokenExpired()&&this._createSkuToken(),s&&!Lr(s))return s;var d=Dt(s);d.path=d.path.replace(/(\.(png|jpg)\d*)(?=$)/,(Nt.devicePixelRatio>=2||c===512?"@2x":"")+(_r.supported?".webp":"$1")),d.path=d.path.replace(/^.+\/v4\//,"/"),d.path="/v4"+d.path;var E=this._customAccessToken||function(I){for(var L=0,B=I;L<B.length;L+=1){var J=B[L].match(/^access_token=(.*)$/);if(J)return J[1]}return null}(d.params)||vr.ACCESS_TOKEN;return vr.REQUIRE_ACCESS_TOKEN&&E&&this._skuToken&&d.params.push("sku="+this._skuToken),this._makeAPIURL(d,E)},er.prototype.canonicalizeTileURL=function(s,c){var d=Dt(s);if(!d.path.match(/(^\/v4\/)/)||!d.path.match(/\.[\w]+$/))return s;var E="mapbox://tiles/";E+=d.path.replace("/v4/","");var I=d.params;return c&&(I=I.filter(function(L){return!L.match(/^access_token=/)})),I.length&&(E+="?"+I.join("&")),E},er.prototype.canonicalizeTileset=function(s,c){for(var d=!!c&&Lr(c),E=[],I=0,L=s.tiles||[];I<L.length;I+=1){var B=L[I];zr(B)?E.push(this.canonicalizeTileURL(B,d)):E.push(B)}return E},er.prototype._makeAPIURL=function(s,c){var d="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",E=Dt(vr.API_URL);if(s.protocol=E.protocol,s.authority=E.authority,s.protocol==="http"){var I=s.params.indexOf("secure");I>=0&&s.params.splice(I,1)}if(E.path!=="/"&&(s.path=""+E.path+s.path),!vr.REQUIRE_ACCESS_TOKEN)return Et(s);if(!(c=c||vr.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+d);if(c[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+d);return s.params=s.params.filter(function(L){return L.indexOf("access_token")===-1}),s.params.push("access_token="+c),Et(s)};var ki=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function zr(s){return ki.test(s)}var $n=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Dt(s){var c=s.match($n);if(!c)throw new Error("Unable to parse URL object");return{protocol:c[1],authority:c[2],path:c[3]||"/",params:c[4]?c[4].split("&"):[]}}function Et(s){var c=s.params.length?"?"+s.params.join("&"):"";return s.protocol+"://"+s.authority+s.path+c}function Er(s){if(!s)return null;var c=s.split(".");if(!c||c.length!==3)return null;try{return JSON.parse(decodeURIComponent(be.atob(c[1]).split("").map(function(d){return"%"+("00"+d.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var on=function(s){this.type=s,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};on.prototype.getStorageKey=function(s){var c,d=Er(vr.ACCESS_TOKEN);return c=d&&d.u?be.btoa(encodeURIComponent(d.u).replace(/%([0-9A-F]{2})/g,function(E,I){return String.fromCharCode(Number("0x"+I))})):vr.ACCESS_TOKEN||"",s?"mapbox.eventData."+s+":"+c:"mapbox.eventData:"+c},on.prototype.fetchEventData=function(){var s=kt("localStorage"),c=this.getStorageKey(),d=this.getStorageKey("uuid");if(s)try{var E=be.localStorage.getItem(c);E&&(this.eventData=JSON.parse(E));var I=be.localStorage.getItem(d);I&&(this.anonId=I)}catch{Ht("Unable to read from LocalStorage")}},on.prototype.saveEventData=function(){var s=kt("localStorage"),c=this.getStorageKey(),d=this.getStorageKey("uuid");if(s)try{be.localStorage.setItem(d,this.anonId),Object.keys(this.eventData).length>=1&&be.localStorage.setItem(c,JSON.stringify(this.eventData))}catch{Ht("Unable to write to LocalStorage")}},on.prototype.processRequests=function(s){},on.prototype.postEvent=function(s,c,d,E){var I=this;if(vr.EVENTS_URL){var L=Dt(vr.EVENTS_URL);L.params.push("access_token="+(E||vr.ACCESS_TOKEN||""));var B={event:this.type,created:new Date(s).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.3",skuId:pt,userId:this.anonId},J=c?G(B,c):B,le={url:Et(L),headers:{"Content-Type":"text/plain"},body:JSON.stringify([J])};this.pendingRequest=li(le,function(ve){I.pendingRequest=null,d(ve),I.saveEventData(),I.processRequests(E)})}},on.prototype.queueRequest=function(s,c){this.queue.push(s),this.processRequests(c)};var Vr,yn,Rn=function(s){function c(){s.call(this,"map.load"),this.success={},this.skuToken=""}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.postMapLoadEvent=function(d,E,I,L){this.skuToken=I;var B=!(!L&&!vr.ACCESS_TOKEN),J=Array.isArray(d)&&d.some(function(le){return Lr(le)||zr(le)});vr.EVENTS_URL&&B&&J&&this.queueRequest({id:E,timestamp:Date.now()},L)},c.prototype.processRequests=function(d){var E=this;if(!this.pendingRequest&&this.queue.length!==0){var I=this.queue.shift(),L=I.id,B=I.timestamp;L&&this.success[L]||(this.anonId||this.fetchEventData(),K(this.anonId)||(this.anonId=_e()),this.postEvent(B,{skuToken:this.skuToken},function(J){J||L&&(E.success[L]=!0)},d))}},c}(on),mi=new(function(s){function c(d){s.call(this,"appUserTurnstile"),this._customAccessToken=d}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.postTurnstileEvent=function(d,E){vr.EVENTS_URL&&vr.ACCESS_TOKEN&&Array.isArray(d)&&d.some(function(I){return Lr(I)||zr(I)})&&this.queueRequest(Date.now(),E)},c.prototype.processRequests=function(d){var E=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var I=Er(vr.ACCESS_TOKEN),L=I?I.u:vr.ACCESS_TOKEN,B=L!==this.eventData.tokenU;K(this.anonId)||(this.anonId=_e(),B=!0);var J=this.queue.shift();if(this.eventData.lastSuccess){var le=new Date(this.eventData.lastSuccess),ve=new Date(J),Ee=(J-this.eventData.lastSuccess)/864e5;B=B||Ee>=1||Ee<-1||le.getDate()!==ve.getDate()}else B=!0;if(!B)return this.processRequests();this.postEvent(J,{"enabled.telemetry":!1},function(De){De||(E.eventData.lastSuccess=J,E.eventData.tokenU=L)},d)}},c}(on)),fo=mi.postTurnstileEvent.bind(mi),gi=new Rn,Xe=gi.postMapLoadEvent.bind(gi),st=500,Mt=50;function nr(){be.caches&&!Vr&&(Vr=be.caches.open("mapbox-tiles"))}function Pr(s){var c=s.indexOf("?");return c<0?s:s.slice(0,c)}var qr,Nn=1/0;function Nr(){return qr==null&&(qr=be.OffscreenCanvas&&new be.OffscreenCanvas(1,1).getContext("2d")&&typeof be.createImageBitmap=="function"),qr}var Fn={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Fn);var Fr=function(s){function c(d,E,I){E===401&&zr(I)&&(d+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),s.call(this,d),this.status=E,this.url=I,this.name=this.constructor.name,this.message=d}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},c}(Error),mn=cr()?function(){return self.worker&&self.worker.referrer}:function(){return(be.location.protocol==="blob:"?be.parent:be).location.href},bn,vi,Ri=function(s,c){if(!(/^file:/.test(d=s.url)||/^file:/.test(mn())&&!/^\w+:/.test(d))){if(be.fetch&&be.Request&&be.AbortController&&be.Request.prototype.hasOwnProperty("signal"))return function(E,I){var L,B=new be.AbortController,J=new be.Request(E.url,{method:E.method||"GET",body:E.body,credentials:E.credentials,headers:E.headers,referrer:mn(),signal:B.signal}),le=!1,ve=!1,Ee=(L=J.url).indexOf("sku=")>0&&zr(L);E.type==="json"&&J.headers.set("Accept","application/json");var De=function(Ve,ut,ct){if(!ve){if(Ve&&Ve.message!=="SecurityError"&&Ht(Ve),ut&&ct)return Le(ut);var xt=Date.now();be.fetch(J).then(function(gt){if(gt.ok){var Lt=Ee?gt.clone():null;return Le(gt,Lt,xt)}return I(new Fr(gt.statusText,gt.status,E.url))}).catch(function(gt){gt.code!==20&&I(new Error(gt.message))})}},Le=function(Ve,ut,ct){(E.type==="arrayBuffer"?Ve.arrayBuffer():E.type==="json"?Ve.json():Ve.text()).then(function(xt){ve||(ut&&ct&&function(gt,Lt,Kt){if(nr(),Vr){var Qt={status:Lt.status,statusText:Lt.statusText,headers:new be.Headers};Lt.headers.forEach(function(pr,Ar){return Qt.headers.set(Ar,pr)});var ar=Tr(Lt.headers.get("Cache-Control")||"");ar["no-store"]||(ar["max-age"]&&Qt.headers.set("Expires",new Date(Kt+1e3*ar["max-age"]).toUTCString()),new Date(Qt.headers.get("Expires")).getTime()-Kt<42e4||function(pr,Ar){if(yn===void 0)try{new Response(new ReadableStream),yn=!0}catch{yn=!1}yn?Ar(pr.body):pr.blob().then(Ar)}(Lt,function(pr){var Ar=new be.Response(pr,Qt);nr(),Vr&&Vr.then(function(Hr){return Hr.put(Pr(gt.url),Ar)}).catch(function(Hr){return Ht(Hr.message)})}))}}(J,ut,ct),le=!0,I(null,xt,Ve.headers.get("Cache-Control"),Ve.headers.get("Expires")))}).catch(function(xt){ve||I(new Error(xt.message))})};return Ee?function(Ve,ut){if(nr(),!Vr)return ut(null);var ct=Pr(Ve.url);Vr.then(function(xt){xt.match(ct).then(function(gt){var Lt=function(Kt){if(!Kt)return!1;var Qt=new Date(Kt.headers.get("Expires")||0),ar=Tr(Kt.headers.get("Cache-Control")||"");return Qt>Date.now()&&!ar["no-cache"]}(gt);xt.delete(ct),Lt&&xt.put(ct,gt.clone()),ut(null,gt,Lt)}).catch(ut)}).catch(ut)}(J,De):De(null,null),{cancel:function(){ve=!0,le||B.abort()}}}(s,c);if(cr()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",s,c,void 0,!0)}var d;return function(E,I){var L=new be.XMLHttpRequest;for(var B in L.open(E.method||"GET",E.url,!0),E.type==="arrayBuffer"&&(L.responseType="arraybuffer"),E.headers)L.setRequestHeader(B,E.headers[B]);return E.type==="json"&&(L.responseType="text",L.setRequestHeader("Accept","application/json")),L.withCredentials=E.credentials==="include",L.onerror=function(){I(new Error(L.statusText))},L.onload=function(){if((L.status>=200&&L.status<300||L.status===0)&&L.response!==null){var J=L.response;if(E.type==="json")try{J=JSON.parse(L.response)}catch(le){return I(le)}I(null,J,L.getResponseHeader("Cache-Control"),L.getResponseHeader("Expires"))}else I(new Fr(L.statusText,L.status,E.url))},L.send(E.body),{cancel:function(){return L.abort()}}}(s,c)},La=function(s,c){return Ri(G(s,{type:"arrayBuffer"}),c)},li=function(s,c){return Ri(G(s,{method:"POST"}),c)},ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";bn=[],vi=0;var Ie=function(s,c){if(_r.supported&&(s.headers||(s.headers={}),s.headers.accept="image/webp,*/*"),vi>=vr.MAX_PARALLEL_IMAGE_REQUESTS){var d={requestParameters:s,callback:c,cancelled:!1,cancel:function(){this.cancelled=!0}};return bn.push(d),d}vi++;var E=!1,I=function(){if(!E)for(E=!0,vi--;bn.length&&vi<vr.MAX_PARALLEL_IMAGE_REQUESTS;){var B=bn.shift();B.cancelled||(B.cancel=Ie(B.requestParameters,B.callback).cancel)}},L=La(s,function(B,J,le,ve){I(),B?c(B):J&&(Nr()?function(Ee,De){var Le=new be.Blob([new Uint8Array(Ee)],{type:"image/png"});be.createImageBitmap(Le).then(function(Ve){De(null,Ve)}).catch(function(Ve){De(new Error("Could not load image because of "+Ve.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(J,c):function(Ee,De,Le,Ve){var ut=new be.Image,ct=be.URL;ut.onload=function(){De(null,ut),ct.revokeObjectURL(ut.src),ut.onload=null,be.requestAnimationFrame(function(){ut.src=ke})},ut.onerror=function(){return De(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var xt=new be.Blob([new Uint8Array(Ee)],{type:"image/png"});ut.cacheControl=Le,ut.expires=Ve,ut.src=Ee.byteLength?ct.createObjectURL(xt):ke}(J,c,le,ve))});return{cancel:function(){L.cancel(),I()}}};function Fe(s,c,d){d[s]&&d[s].indexOf(c)!==-1||(d[s]=d[s]||[],d[s].push(c))}function Ye(s,c,d){if(d&&d[s]){var E=d[s].indexOf(c);E!==-1&&d[s].splice(E,1)}}var ot=function(s,c){c===void 0&&(c={}),G(this,c),this.type=s},yt=function(s){function c(d,E){E===void 0&&(E={}),s.call(this,"error",G({error:d},E))}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c}(ot),mt=function(){};mt.prototype.on=function(s,c){return this._listeners=this._listeners||{},Fe(s,c,this._listeners),this},mt.prototype.off=function(s,c){return Ye(s,c,this._listeners),Ye(s,c,this._oneTimeListeners),this},mt.prototype.once=function(s,c){return this._oneTimeListeners=this._oneTimeListeners||{},Fe(s,c,this._oneTimeListeners),this},mt.prototype.fire=function(s,c){typeof s=="string"&&(s=new ot(s,c||{}));var d=s.type;if(this.listens(d)){s.target=this;for(var E=0,I=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];E<I.length;E+=1)I[E].call(this,s);for(var L=0,B=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];L<B.length;L+=1){var J=B[L];Ye(d,J,this._oneTimeListeners),J.call(this,s)}var le=this._eventedParent;le&&(G(s,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),le.fire(s))}else s instanceof yt&&console.error(s.error);return this},mt.prototype.listens=function(s){return this._listeners&&this._listeners[s]&&this._listeners[s].length>0||this._oneTimeListeners&&this._oneTimeListeners[s]&&this._oneTimeListeners[s].length>0||this._eventedParent&&this._eventedParent.listens(s)},mt.prototype.setEventedParent=function(s,c){return this._eventedParent=s,this._eventedParentData=c,this};var qe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Ke=function(s,c,d,E){this.message=(s?s+": ":"")+d,E&&(this.identifier=E),c!=null&&c.__line__&&(this.line=c.__line__)};function Ot(s){var c=s.value;return c?[new Ke(s.key,c,"constants have been deprecated as of v8")]:[]}function lr(s){for(var c=arguments,d=[],E=arguments.length-1;E-- >0;)d[E]=c[E+1];for(var I=0,L=d;I<L.length;I+=1){var B=L[I];for(var J in B)s[J]=B[J]}return s}function jt(s){return s instanceof Number||s instanceof String||s instanceof Boolean?s.valueOf():s}function Bt(s){if(Array.isArray(s))return s.map(Bt);if(s instanceof Object&&!(s instanceof Number||s instanceof String||s instanceof Boolean)){var c={};for(var d in s)c[d]=Bt(s[d]);return c}return jt(s)}var hr=function(s){function c(d,E){s.call(this,E),this.message=E,this.key=d}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c}(Error),Ae=function(s,c){c===void 0&&(c=[]),this.parent=s,this.bindings={};for(var d=0,E=c;d<E.length;d+=1){var I=E[d];this.bindings[I[0]]=I[1]}};Ae.prototype.concat=function(s){return new Ae(this,s)},Ae.prototype.get=function(s){if(this.bindings[s])return this.bindings[s];if(this.parent)return this.parent.get(s);throw new Error(s+" not found in scope.")},Ae.prototype.has=function(s){return!!this.bindings[s]||!!this.parent&&this.parent.has(s)};var je={kind:"null"},Pe={kind:"number"},se={kind:"string"},ie={kind:"boolean"},ye={kind:"color"},Ge={kind:"object"},dt={kind:"value"},Gt={kind:"collator"},tr={kind:"formatted"},Or={kind:"resolvedImage"};function Ur(s,c){return{kind:"array",itemType:s,N:c}}function fr(s){if(s.kind==="array"){var c=fr(s.itemType);return typeof s.N=="number"?"array<"+c+", "+s.N+">":s.itemType.kind==="value"?"array":"array<"+c+">"}return s.kind}var En=[je,Pe,se,ie,ye,tr,Ge,Ur(dt),Or];function Dn(s,c){if(c.kind==="error")return null;if(s.kind==="array"){if(c.kind==="array"&&(c.N===0&&c.itemType.kind==="value"||!Dn(s.itemType,c.itemType))&&(typeof s.N!="number"||s.N===c.N))return null}else{if(s.kind===c.kind)return null;if(s.kind==="value"){for(var d=0,E=En;d<E.length;d+=1)if(!Dn(E[d],c))return null}}return"Expected "+fr(s)+" but found "+fr(c)+" instead."}function an(s,c){return c.some(function(d){return d.kind===s.kind})}function Qr(s,c){return c.some(function(d){return d==="null"?s===null:d==="array"?Array.isArray(s):d==="object"?s&&!Array.isArray(s)&&typeof s=="object":d===typeof s})}var sn=ge(function(s,c){var d={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function E(J){return(J=Math.round(J))<0?0:J>255?255:J}function I(J){return E(J[J.length-1]==="%"?parseFloat(J)/100*255:parseInt(J))}function L(J){return(le=J[J.length-1]==="%"?parseFloat(J)/100:parseFloat(J))<0?0:le>1?1:le;var le}function B(J,le,ve){return ve<0?ve+=1:ve>1&&(ve-=1),6*ve<1?J+(le-J)*ve*6:2*ve<1?le:3*ve<2?J+(le-J)*(2/3-ve)*6:J}try{c.parseCSSColor=function(J){var le,ve=J.replace(/ /g,"").toLowerCase();if(ve in d)return d[ve].slice();if(ve[0]==="#")return ve.length===4?(le=parseInt(ve.substr(1),16))>=0&&le<=4095?[(3840&le)>>4|(3840&le)>>8,240&le|(240&le)>>4,15&le|(15&le)<<4,1]:null:ve.length===7&&(le=parseInt(ve.substr(1),16))>=0&&le<=16777215?[(16711680&le)>>16,(65280&le)>>8,255&le,1]:null;var Ee=ve.indexOf("("),De=ve.indexOf(")");if(Ee!==-1&&De+1===ve.length){var Le=ve.substr(0,Ee),Ve=ve.substr(Ee+1,De-(Ee+1)).split(","),ut=1;switch(Le){case"rgba":if(Ve.length!==4)return null;ut=L(Ve.pop());case"rgb":return Ve.length!==3?null:[I(Ve[0]),I(Ve[1]),I(Ve[2]),ut];case"hsla":if(Ve.length!==4)return null;ut=L(Ve.pop());case"hsl":if(Ve.length!==3)return null;var ct=(parseFloat(Ve[0])%360+360)%360/360,xt=L(Ve[1]),gt=L(Ve[2]),Lt=gt<=.5?gt*(xt+1):gt+xt-gt*xt,Kt=2*gt-Lt;return[E(255*B(Kt,Lt,ct+1/3)),E(255*B(Kt,Lt,ct)),E(255*B(Kt,Lt,ct-1/3)),ut];default:return null}}return null}}catch{}}).parseCSSColor,Xn=function(s,c,d,E){E===void 0&&(E=1),this.r=s,this.g=c,this.b=d,this.a=E};Xn.parse=function(s){if(s){if(s instanceof Xn)return s;if(typeof s=="string"){var c=sn(s);if(c)return new Xn(c[0]/255*c[3],c[1]/255*c[3],c[2]/255*c[3],c[3])}}},Xn.prototype.toString=function(){var s=this.toArray(),c=s[1],d=s[2],E=s[3];return"rgba("+Math.round(s[0])+","+Math.round(c)+","+Math.round(d)+","+E+")"},Xn.prototype.toArray=function(){var s=this.a;return s===0?[0,0,0,0]:[255*this.r/s,255*this.g/s,255*this.b/s,s]},Xn.black=new Xn(0,0,0,1),Xn.white=new Xn(1,1,1,1),Xn.transparent=new Xn(0,0,0,0),Xn.red=new Xn(1,0,0,1);var zo=function(s,c,d){this.sensitivity=s?c?"variant":"case":c?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};zo.prototype.compare=function(s,c){return this.collator.compare(s,c)},zo.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var As=function(s,c,d,E,I){this.text=s,this.image=c,this.scale=d,this.fontStack=E,this.textColor=I},ei=function(s){this.sections=s};ei.fromString=function(s){return new ei([new As(s,null,null,null,null)])},ei.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(s){return s.text.length!==0||s.image&&s.image.name.length!==0})},ei.factory=function(s){return s instanceof ei?s:ei.fromString(s)},ei.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(s){return s.text}).join("")},ei.prototype.serialize=function(){for(var s=["format"],c=0,d=this.sections;c<d.length;c+=1){var E=d[c];if(E.image)s.push(["image",E.image.name]);else{s.push(E.text);var I={};E.fontStack&&(I["text-font"]=["literal",E.fontStack.split(",")]),E.scale&&(I["font-scale"]=E.scale),E.textColor&&(I["text-color"]=["rgba"].concat(E.textColor.toArray())),s.push(I)}}return s};var Ci=function(s){this.name=s.name,this.available=s.available};function ya(s,c,d,E){return typeof s=="number"&&s>=0&&s<=255&&typeof c=="number"&&c>=0&&c<=255&&typeof d=="number"&&d>=0&&d<=255?E===void 0||typeof E=="number"&&E>=0&&E<=1?null:"Invalid rgba value ["+[s,c,d,E].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof E=="number"?[s,c,d,E]:[s,c,d]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function ql(s){if(s===null||typeof s=="string"||typeof s=="boolean"||typeof s=="number"||s instanceof Xn||s instanceof zo||s instanceof ei||s instanceof Ci)return!0;if(Array.isArray(s)){for(var c=0,d=s;c<d.length;c+=1)if(!ql(d[c]))return!1;return!0}if(typeof s=="object"){for(var E in s)if(!ql(s[E]))return!1;return!0}return!1}function Gi(s){if(s===null)return je;if(typeof s=="string")return se;if(typeof s=="boolean")return ie;if(typeof s=="number")return Pe;if(s instanceof Xn)return ye;if(s instanceof zo)return Gt;if(s instanceof ei)return tr;if(s instanceof Ci)return Or;if(Array.isArray(s)){for(var c,d=s.length,E=0,I=s;E<I.length;E+=1){var L=Gi(I[E]);if(c){if(c===L)continue;c=dt;break}c=L}return Ur(c||dt,d)}return Ge}function Bs(s){var c=typeof s;return s===null?"":c==="string"||c==="number"||c==="boolean"?String(s):s instanceof Xn||s instanceof ei||s instanceof Ci?s.toString():JSON.stringify(s)}Ci.prototype.toString=function(){return this.name},Ci.fromString=function(s){return s?new Ci({name:s,available:!1}):null},Ci.prototype.serialize=function(){return["image",this.name]};var ho=function(s,c){this.type=s,this.value=c};ho.parse=function(s,c){if(s.length!==2)return c.error("'literal' expression requires exactly one argument, but found "+(s.length-1)+" instead.");if(!ql(s[1]))return c.error("invalid value");var d=s[1],E=Gi(d),I=c.expectedType;return E.kind!=="array"||E.N!==0||!I||I.kind!=="array"||typeof I.N=="number"&&I.N!==0||(E=I),new ho(E,d)},ho.prototype.evaluate=function(){return this.value},ho.prototype.eachChild=function(){},ho.prototype.outputDefined=function(){return!0},ho.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Xn?["rgba"].concat(this.value.toArray()):this.value instanceof ei?this.value.serialize():this.value};var Ki=function(s){this.name="ExpressionEvaluationError",this.message=s};Ki.prototype.toJSON=function(){return this.message};var Do={string:se,number:Pe,boolean:ie,object:Ge},ii=function(s,c){this.type=s,this.args=c};ii.parse=function(s,c){if(s.length<2)return c.error("Expected at least one argument.");var d,E=1,I=s[0];if(I==="array"){var L,B;if(s.length>2){var J=s[1];if(typeof J!="string"||!(J in Do)||J==="object")return c.error('The item type argument of "array" must be one of string, number, boolean',1);L=Do[J],E++}else L=dt;if(s.length>3){if(s[2]!==null&&(typeof s[2]!="number"||s[2]<0||s[2]!==Math.floor(s[2])))return c.error('The length argument to "array" must be a positive integer literal',2);B=s[2],E++}d=Ur(L,B)}else d=Do[I];for(var le=[];E<s.length;E++){var ve=c.parse(s[E],E,dt);if(!ve)return null;le.push(ve)}return new ii(d,le)},ii.prototype.evaluate=function(s){for(var c=0;c<this.args.length;c++){var d=this.args[c].evaluate(s);if(!Dn(this.type,Gi(d)))return d;if(c===this.args.length-1)throw new Ki("Expected value to be of type "+fr(this.type)+", but found "+fr(Gi(d))+" instead.")}return null},ii.prototype.eachChild=function(s){this.args.forEach(s)},ii.prototype.outputDefined=function(){return this.args.every(function(s){return s.outputDefined()})},ii.prototype.serialize=function(){var s=this.type,c=[s.kind];if(s.kind==="array"){var d=s.itemType;if(d.kind==="string"||d.kind==="number"||d.kind==="boolean"){c.push(d.kind);var E=s.N;(typeof E=="number"||this.args.length>1)&&c.push(E)}}return c.concat(this.args.map(function(I){return I.serialize()}))};var Pa=function(s){this.type=tr,this.sections=s};Pa.parse=function(s,c){if(s.length<2)return c.error("Expected at least one argument.");var d=s[1];if(!Array.isArray(d)&&typeof d=="object")return c.error("First argument must be an image or text section.");for(var E=[],I=!1,L=1;L<=s.length-1;++L){var B=s[L];if(I&&typeof B=="object"&&!Array.isArray(B)){I=!1;var J=null;if(B["font-scale"]&&!(J=c.parse(B["font-scale"],1,Pe)))return null;var le=null;if(B["text-font"]&&!(le=c.parse(B["text-font"],1,Ur(se))))return null;var ve=null;if(B["text-color"]&&!(ve=c.parse(B["text-color"],1,ye)))return null;var Ee=E[E.length-1];Ee.scale=J,Ee.font=le,Ee.textColor=ve}else{var De=c.parse(s[L],1,dt);if(!De)return null;var Le=De.type.kind;if(Le!=="string"&&Le!=="value"&&Le!=="null"&&Le!=="resolvedImage")return c.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");I=!0,E.push({content:De,scale:null,font:null,textColor:null})}}return new Pa(E)},Pa.prototype.evaluate=function(s){return new ei(this.sections.map(function(c){var d=c.content.evaluate(s);return Gi(d)===Or?new As("",d,null,null,null):new As(Bs(d),null,c.scale?c.scale.evaluate(s):null,c.font?c.font.evaluate(s).join(","):null,c.textColor?c.textColor.evaluate(s):null)}))},Pa.prototype.eachChild=function(s){for(var c=0,d=this.sections;c<d.length;c+=1){var E=d[c];s(E.content),E.scale&&s(E.scale),E.font&&s(E.font),E.textColor&&s(E.textColor)}},Pa.prototype.outputDefined=function(){return!1},Pa.prototype.serialize=function(){for(var s=["format"],c=0,d=this.sections;c<d.length;c+=1){var E=d[c];s.push(E.content.serialize());var I={};E.scale&&(I["font-scale"]=E.scale.serialize()),E.font&&(I["text-font"]=E.font.serialize()),E.textColor&&(I["text-color"]=E.textColor.serialize()),s.push(I)}return s};var Ua=function(s){this.type=Or,this.input=s};Ua.parse=function(s,c){if(s.length!==2)return c.error("Expected two arguments.");var d=c.parse(s[1],1,se);return d?new Ua(d):c.error("No image name provided.")},Ua.prototype.evaluate=function(s){var c=this.input.evaluate(s),d=Ci.fromString(c);return d&&s.availableImages&&(d.available=s.availableImages.indexOf(c)>-1),d},Ua.prototype.eachChild=function(s){s(this.input)},Ua.prototype.outputDefined=function(){return!1},Ua.prototype.serialize=function(){return["image",this.input.serialize()]};var ku={"to-boolean":ie,"to-color":ye,"to-number":Pe,"to-string":se},ro=function(s,c){this.type=s,this.args=c};ro.parse=function(s,c){if(s.length<2)return c.error("Expected at least one argument.");var d=s[0];if((d==="to-boolean"||d==="to-string")&&s.length!==2)return c.error("Expected one argument.");for(var E=ku[d],I=[],L=1;L<s.length;L++){var B=c.parse(s[L],L,dt);if(!B)return null;I.push(B)}return new ro(E,I)},ro.prototype.evaluate=function(s){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(s));if(this.type.kind==="color"){for(var c,d,E=0,I=this.args;E<I.length;E+=1){if(d=null,(c=I[E].evaluate(s))instanceof Xn)return c;if(typeof c=="string"){var L=s.parseColor(c);if(L)return L}else if(Array.isArray(c)&&!(d=c.length<3||c.length>4?"Invalid rbga value "+JSON.stringify(c)+": expected an array containing either three or four numeric values.":ya(c[0],c[1],c[2],c[3])))return new Xn(c[0]/255,c[1]/255,c[2]/255,c[3])}throw new Ki(d||"Could not parse color from value '"+(typeof c=="string"?c:String(JSON.stringify(c)))+"'")}if(this.type.kind==="number"){for(var B=null,J=0,le=this.args;J<le.length;J+=1){if((B=le[J].evaluate(s))===null)return 0;var ve=Number(B);if(!isNaN(ve))return ve}throw new Ki("Could not convert "+JSON.stringify(B)+" to number.")}return this.type.kind==="formatted"?ei.fromString(Bs(this.args[0].evaluate(s))):this.type.kind==="resolvedImage"?Ci.fromString(Bs(this.args[0].evaluate(s))):Bs(this.args[0].evaluate(s))},ro.prototype.eachChild=function(s){this.args.forEach(s)},ro.prototype.outputDefined=function(){return this.args.every(function(s){return s.outputDefined()})},ro.prototype.serialize=function(){if(this.type.kind==="formatted")return new Pa([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Ua(this.args[0]).serialize();var s=["to-"+this.type.kind];return this.eachChild(function(c){s.push(c.serialize())}),s};var Qc=["Unknown","Point","LineString","Polygon"],ba=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};ba.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},ba.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Qc[this.feature.type]:this.feature.type:null},ba.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},ba.prototype.canonicalID=function(){return this.canonical},ba.prototype.properties=function(){return this.feature&&this.feature.properties||{}},ba.prototype.parseColor=function(s){var c=this._parseColorCache[s];return c||(c=this._parseColorCache[s]=Xn.parse(s)),c};var Oo=function(s,c,d,E){this.name=s,this.type=c,this._evaluate=d,this.args=E};Oo.prototype.evaluate=function(s){return this._evaluate(s,this.args)},Oo.prototype.eachChild=function(s){this.args.forEach(s)},Oo.prototype.outputDefined=function(){return!1},Oo.prototype.serialize=function(){return[this.name].concat(this.args.map(function(s){return s.serialize()}))},Oo.parse=function(s,c){var d,E=s[0],I=Oo.definitions[E];if(!I)return c.error('Unknown expression "'+E+'". If you wanted a literal array, use ["literal", [...]].',0);for(var L=Array.isArray(I)?I[0]:I.type,B=Array.isArray(I)?[[I[1],I[2]]]:I.overloads,J=B.filter(function(An){var tn=An[0];return!Array.isArray(tn)||tn.length===s.length-1}),le=null,ve=0,Ee=J;ve<Ee.length;ve+=1){var De=Ee[ve],Le=De[0],Ve=De[1];le=new po(c.registry,c.path,null,c.scope);for(var ut=[],ct=!1,xt=1;xt<s.length;xt++){var gt=s[xt],Lt=Array.isArray(Le)?Le[xt-1]:Le.type,Kt=le.parse(gt,1+ut.length,Lt);if(!Kt){ct=!0;break}ut.push(Kt)}if(!ct)if(Array.isArray(Le)&&Le.length!==ut.length)le.error("Expected "+Le.length+" arguments, but found "+ut.length+" instead.");else{for(var Qt=0;Qt<ut.length;Qt++){var ar=Array.isArray(Le)?Le[Qt]:Le.type,pr=ut[Qt];le.concat(Qt+1).checkSubtype(ar,pr.type)}if(le.errors.length===0)return new Oo(E,L,Ve,ut)}}if(J.length===1)(d=c.errors).push.apply(d,le.errors);else{for(var Ar=(J.length?J:B).map(function(An){var tn;return tn=An[0],Array.isArray(tn)?"("+tn.map(fr).join(", ")+")":"("+fr(tn.type)+"...)"}).join(" | "),Hr=[],wn=1;wn<s.length;wn++){var Xr=c.parse(s[wn],1+Hr.length);if(!Xr)return null;Hr.push(fr(Xr.type))}c.error("Expected arguments of type "+Ar+", but found ("+Hr.join(", ")+") instead.")}return null},Oo.register=function(s,c){for(var d in Oo.definitions=c,c)s[d]=Oo};var ts=function(s,c,d){this.type=Gt,this.locale=d,this.caseSensitive=s,this.diacriticSensitive=c};function Ai(s,c){s[0]=Math.min(s[0],c[0]),s[1]=Math.min(s[1],c[1]),s[2]=Math.max(s[2],c[0]),s[3]=Math.max(s[3],c[1])}function gn(s,c){return!(s[0]<=c[0]||s[2]>=c[2]||s[1]<=c[1]||s[3]>=c[3])}function Vt(s,c){var d=(180+s[0])/360,E=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+s[1]*Math.PI/360)))/360,I=Math.pow(2,c.z);return[Math.round(d*I*8192),Math.round(E*I*8192)]}function jr(s,c,d){return c[1]>s[1]!=d[1]>s[1]&&s[0]<(d[0]-c[0])*(s[1]-c[1])/(d[1]-c[1])+c[0]}function un(s,c){for(var d,E,I,L,B,J,le,ve=!1,Ee=0,De=c.length;Ee<De;Ee++)for(var Le=c[Ee],Ve=0,ut=Le.length;Ve<ut-1;Ve++){if((L=(d=s)[0]-(E=Le[Ve])[0])*(le=d[1]-(I=Le[Ve+1])[1])-(J=d[0]-I[0])*(B=d[1]-E[1])==0&&L*J<=0&&B*le<=0)return!1;jr(s,Le[Ve],Le[Ve+1])&&(ve=!ve)}return ve}function Cn(s,c){for(var d=0;d<c.length;d++)if(un(s,c[d]))return!0;return!1}function Gn(s,c,d,E){var I=E[0]-d[0],L=E[1]-d[1],B=(s[0]-d[0])*L-I*(s[1]-d[1]),J=(c[0]-d[0])*L-I*(c[1]-d[1]);return B>0&&J<0||B<0&&J>0}function Vo(s,c,d){for(var E=0,I=d;E<I.length;E+=1)for(var L=I[E],B=0;B<L.length-1;++B)if((De=[(Ee=L[B+1])[0]-(ve=L[B])[0],Ee[1]-ve[1]])[0]*(Le=[(le=c)[0]-(J=s)[0],le[1]-J[1]])[1]-De[1]*Le[0]!=0&&Gn(J,le,ve,Ee)&&Gn(ve,Ee,J,le))return!0;var J,le,ve,Ee,De,Le;return!1}function xa(s,c){for(var d=0;d<s.length;++d)if(!un(s[d],c))return!1;for(var E=0;E<s.length-1;++E)if(Vo(s[E],s[E+1],c))return!1;return!0}function ps(s,c){for(var d=0;d<c.length;d++)if(xa(s,c[d]))return!0;return!1}function no(s,c,d){for(var E=[],I=0;I<s.length;I++){for(var L=[],B=0;B<s[I].length;B++){var J=Vt(s[I][B],d);Ai(c,J),L.push(J)}E.push(L)}return E}function ja(s,c,d){for(var E=[],I=0;I<s.length;I++){var L=no(s[I],c,d);E.push(L)}return E}function ou(s,c,d,E){if(s[0]<d[0]||s[0]>d[2]){var I=.5*E,L=s[0]-d[0]>I?-E:d[0]-s[0]>I?E:0;L===0&&(L=s[0]-d[2]>I?-E:d[2]-s[0]>I?E:0),s[0]+=L}Ai(c,s)}function rs(s,c,d,E){for(var I=8192*Math.pow(2,E.z),L=[8192*E.x,8192*E.y],B=[],J=0,le=s;J<le.length;J+=1)for(var ve=0,Ee=le[J];ve<Ee.length;ve+=1){var De=Ee[ve],Le=[De.x+L[0],De.y+L[1]];ou(Le,c,d,I),B.push(Le)}return B}function Bh(s,c,d,E){for(var I,L=8192*Math.pow(2,E.z),B=[8192*E.x,8192*E.y],J=[],le=0,ve=s;le<ve.length;le+=1){for(var Ee=[],De=0,Le=ve[le];De<Le.length;De+=1){var Ve=Le[De],ut=[Ve.x+B[0],Ve.y+B[1]];Ai(c,ut),Ee.push(ut)}J.push(Ee)}if(c[2]-c[0]<=L/2){(I=c)[0]=I[1]=1/0,I[2]=I[3]=-1/0;for(var ct=0,xt=J;ct<xt.length;ct+=1)for(var gt=0,Lt=xt[ct];gt<Lt.length;gt+=1)ou(Lt[gt],c,d,L)}return J}ts.parse=function(s,c){if(s.length!==2)return c.error("Expected one argument.");var d=s[1];if(typeof d!="object"||Array.isArray(d))return c.error("Collator options argument must be an object.");var E=c.parse(d["case-sensitive"]!==void 0&&d["case-sensitive"],1,ie);if(!E)return null;var I=c.parse(d["diacritic-sensitive"]!==void 0&&d["diacritic-sensitive"],1,ie);if(!I)return null;var L=null;return d.locale&&!(L=c.parse(d.locale,1,se))?null:new ts(E,I,L)},ts.prototype.evaluate=function(s){return new zo(this.caseSensitive.evaluate(s),this.diacriticSensitive.evaluate(s),this.locale?this.locale.evaluate(s):null)},ts.prototype.eachChild=function(s){s(this.caseSensitive),s(this.diacriticSensitive),this.locale&&s(this.locale)},ts.prototype.outputDefined=function(){return!1},ts.prototype.serialize=function(){var s={};return s["case-sensitive"]=this.caseSensitive.serialize(),s["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(s.locale=this.locale.serialize()),["collator",s]};var Ni=function(s,c){this.type=ie,this.geojson=s,this.geometries=c};function Nl(s){if(s instanceof Oo&&(s.name==="get"&&s.args.length===1||s.name==="feature-state"||s.name==="has"&&s.args.length===1||s.name==="properties"||s.name==="geometry-type"||s.name==="id"||/^filter-/.test(s.name))||s instanceof Ni)return!1;var c=!0;return s.eachChild(function(d){c&&!Nl(d)&&(c=!1)}),c}function _a(s){if(s instanceof Oo&&s.name==="feature-state")return!1;var c=!0;return s.eachChild(function(d){c&&!_a(d)&&(c=!1)}),c}function Ds(s,c){if(s instanceof Oo&&c.indexOf(s.name)>=0)return!1;var d=!0;return s.eachChild(function(E){d&&!Ds(E,c)&&(d=!1)}),d}Ni.parse=function(s,c){if(s.length!==2)return c.error("'within' expression requires exactly one argument, but found "+(s.length-1)+" instead.");if(ql(s[1])){var d=s[1];if(d.type==="FeatureCollection")for(var E=0;E<d.features.length;++E){var I=d.features[E].geometry.type;if(I==="Polygon"||I==="MultiPolygon")return new Ni(d,d.features[E].geometry)}else if(d.type==="Feature"){var L=d.geometry.type;if(L==="Polygon"||L==="MultiPolygon")return new Ni(d,d.geometry)}else if(d.type==="Polygon"||d.type==="MultiPolygon")return new Ni(d,d)}return c.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Ni.prototype.evaluate=function(s){if(s.geometry()!=null&&s.canonicalID()!=null){if(s.geometryType()==="Point")return function(c,d){var E=[1/0,1/0,-1/0,-1/0],I=[1/0,1/0,-1/0,-1/0],L=c.canonicalID();if(d.type==="Polygon"){var B=no(d.coordinates,I,L),J=rs(c.geometry(),E,I,L);if(!gn(E,I))return!1;for(var le=0,ve=J;le<ve.length;le+=1)if(!un(ve[le],B))return!1}if(d.type==="MultiPolygon"){var Ee=ja(d.coordinates,I,L),De=rs(c.geometry(),E,I,L);if(!gn(E,I))return!1;for(var Le=0,Ve=De;Le<Ve.length;Le+=1)if(!Cn(Ve[Le],Ee))return!1}return!0}(s,this.geometries);if(s.geometryType()==="LineString")return function(c,d){var E=[1/0,1/0,-1/0,-1/0],I=[1/0,1/0,-1/0,-1/0],L=c.canonicalID();if(d.type==="Polygon"){var B=no(d.coordinates,I,L),J=Bh(c.geometry(),E,I,L);if(!gn(E,I))return!1;for(var le=0,ve=J;le<ve.length;le+=1)if(!xa(ve[le],B))return!1}if(d.type==="MultiPolygon"){var Ee=ja(d.coordinates,I,L),De=Bh(c.geometry(),E,I,L);if(!gn(E,I))return!1;for(var Le=0,Ve=De;Le<Ve.length;Le+=1)if(!ps(Ve[Le],Ee))return!1}return!0}(s,this.geometries)}return!1},Ni.prototype.eachChild=function(){},Ni.prototype.outputDefined=function(){return!0},Ni.prototype.serialize=function(){return["within",this.geojson]};var Bl=function(s,c){this.type=c.type,this.name=s,this.boundExpression=c};Bl.parse=function(s,c){if(s.length!==2||typeof s[1]!="string")return c.error("'var' expression requires exactly one string literal argument.");var d=s[1];return c.scope.has(d)?new Bl(d,c.scope.get(d)):c.error('Unknown variable "'+d+'". Make sure "'+d+'" has been bound in an enclosing "let" expression before using it.',1)},Bl.prototype.evaluate=function(s){return this.boundExpression.evaluate(s)},Bl.prototype.eachChild=function(){},Bl.prototype.outputDefined=function(){return!1},Bl.prototype.serialize=function(){return["var",this.name]};var po=function(s,c,d,E,I){c===void 0&&(c=[]),E===void 0&&(E=new Ae),I===void 0&&(I=[]),this.registry=s,this.path=c,this.key=c.map(function(L){return"["+L+"]"}).join(""),this.scope=E,this.errors=I,this.expectedType=d};function ef(s,c){for(var d,E=s.length-1,I=0,L=E,B=0;I<=L;)if((d=s[B=Math.floor((I+L)/2)])<=c){if(B===E||c<s[B+1])return B;I=B+1}else{if(!(d>c))throw new Ki("Input is not a number.");L=B-1}return 0}po.prototype.parse=function(s,c,d,E,I){return I===void 0&&(I={}),c?this.concat(c,d,E)._parse(s,I):this._parse(s,I)},po.prototype._parse=function(s,c){function d(ve,Ee,De){return De==="assert"?new ii(Ee,[ve]):De==="coerce"?new ro(Ee,[ve]):ve}if(s!==null&&typeof s!="string"&&typeof s!="boolean"&&typeof s!="number"||(s=["literal",s]),Array.isArray(s)){if(s.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var E=s[0];if(typeof E!="string")return this.error("Expression name must be a string, but found "+typeof E+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var I=this.registry[E];if(I){var L=I.parse(s,this);if(!L)return null;if(this.expectedType){var B=this.expectedType,J=L.type;if(B.kind!=="string"&&B.kind!=="number"&&B.kind!=="boolean"&&B.kind!=="object"&&B.kind!=="array"||J.kind!=="value")if(B.kind!=="color"&&B.kind!=="formatted"&&B.kind!=="resolvedImage"||J.kind!=="value"&&J.kind!=="string"){if(this.checkSubtype(B,J))return null}else L=d(L,B,c.typeAnnotation||"coerce");else L=d(L,B,c.typeAnnotation||"assert")}if(!(L instanceof ho)&&L.type.kind!=="resolvedImage"&&function ve(Ee){if(Ee instanceof Bl)return ve(Ee.boundExpression);if(Ee instanceof Oo&&Ee.name==="error"||Ee instanceof ts||Ee instanceof Ni)return!1;var De=Ee instanceof ro||Ee instanceof ii,Le=!0;return Ee.eachChild(function(Ve){Le=De?Le&&ve(Ve):Le&&Ve instanceof ho}),!!Le&&Nl(Ee)&&Ds(Ee,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(L)){var le=new ba;try{L=new ho(L.type,L.evaluate(le))}catch(ve){return this.error(ve.message),null}}return L}return this.error('Unknown expression "'+E+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(s===void 0?"'undefined' value invalid. Use null instead.":typeof s=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof s+" instead.")},po.prototype.concat=function(s,c,d){var E=typeof s=="number"?this.path.concat(s):this.path,I=d?this.scope.concat(d):this.scope;return new po(this.registry,E,c||null,I,this.errors)},po.prototype.error=function(s){for(var c=arguments,d=[],E=arguments.length-1;E-- >0;)d[E]=c[E+1];var I=""+this.key+d.map(function(L){return"["+L+"]"}).join("");this.errors.push(new hr(I,s))},po.prototype.checkSubtype=function(s,c){var d=Dn(s,c);return d&&this.error(d),d};var zs=function(s,c,d){this.type=s,this.input=c,this.labels=[],this.outputs=[];for(var E=0,I=d;E<I.length;E+=1){var L=I[E],B=L[1];this.labels.push(L[0]),this.outputs.push(B)}};function Uo(s,c,d){return s*(1-d)+c*d}zs.parse=function(s,c){if(s.length-1<4)return c.error("Expected at least 4 arguments, but found only "+(s.length-1)+".");if((s.length-1)%2!=0)return c.error("Expected an even number of arguments.");var d=c.parse(s[1],1,Pe);if(!d)return null;var E=[],I=null;c.expectedType&&c.expectedType.kind!=="value"&&(I=c.expectedType);for(var L=1;L<s.length;L+=2){var B=L===1?-1/0:s[L],J=s[L+1],le=L,ve=L+1;if(typeof B!="number")return c.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',le);if(E.length&&E[E.length-1][0]>=B)return c.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',le);var Ee=c.parse(J,ve,I);if(!Ee)return null;I=I||Ee.type,E.push([B,Ee])}return new zs(I,d,E)},zs.prototype.evaluate=function(s){var c=this.labels,d=this.outputs;if(c.length===1)return d[0].evaluate(s);var E=this.input.evaluate(s);if(E<=c[0])return d[0].evaluate(s);var I=c.length;return E>=c[I-1]?d[I-1].evaluate(s):d[ef(c,E)].evaluate(s)},zs.prototype.eachChild=function(s){s(this.input);for(var c=0,d=this.outputs;c<d.length;c+=1)s(d[c])},zs.prototype.outputDefined=function(){return this.outputs.every(function(s){return s.outputDefined()})},zs.prototype.serialize=function(){for(var s=["step",this.input.serialize()],c=0;c<this.labels.length;c++)c>0&&s.push(this.labels[c]),s.push(this.outputs[c].serialize());return s};var kf=Object.freeze({__proto__:null,number:Uo,color:function(s,c,d){return new Xn(Uo(s.r,c.r,d),Uo(s.g,c.g,d),Uo(s.b,c.b,d),Uo(s.a,c.a,d))},array:function(s,c,d){return s.map(function(E,I){return Uo(E,c[I],d)})}}),wd=6/29*3*(6/29),hp=Math.PI/180,au=180/Math.PI;function Sd(s){return s>.008856451679035631?Math.pow(s,1/3):s/wd+4/29}function cl(s){return s>6/29?s*s*s:wd*(s-4/29)}function dp(s){return 255*(s<=.0031308?12.92*s:1.055*Math.pow(s,1/2.4)-.055)}function zh(s){return(s/=255)<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4)}function Nc(s){var c=zh(s.r),d=zh(s.g),E=zh(s.b),I=Sd((.4124564*c+.3575761*d+.1804375*E)/.95047),L=Sd((.2126729*c+.7151522*d+.072175*E)/1);return{l:116*L-16,a:500*(I-L),b:200*(L-Sd((.0193339*c+.119192*d+.9503041*E)/1.08883)),alpha:s.a}}function Qf(s){var c=(s.l+16)/116,d=isNaN(s.a)?c:c+s.a/500,E=isNaN(s.b)?c:c-s.b/200;return c=1*cl(c),d=.95047*cl(d),E=1.08883*cl(E),new Xn(dp(3.2404542*d-1.5371385*c-.4985314*E),dp(-.969266*d+1.8760108*c+.041556*E),dp(.0556434*d-.2040259*c+1.0572252*E),s.alpha)}function Cf(s,c,d){var E=c-s;return s+d*(E>180||E<-180?E-360*Math.round(E/360):E)}var io={forward:Nc,reverse:Qf,interpolate:function(s,c,d){return{l:Uo(s.l,c.l,d),a:Uo(s.a,c.a,d),b:Uo(s.b,c.b,d),alpha:Uo(s.alpha,c.alpha,d)}}},su={forward:function(s){var c=Nc(s),d=c.l,E=c.a,I=c.b,L=Math.atan2(I,E)*au;return{h:L<0?L+360:L,c:Math.sqrt(E*E+I*I),l:d,alpha:s.a}},reverse:function(s){var c=s.h*hp,d=s.c;return Qf({l:s.l,a:Math.cos(c)*d,b:Math.sin(c)*d,alpha:s.alpha})},interpolate:function(s,c,d){return{h:Cf(s.h,c.h,d),c:Uo(s.c,c.c,d),l:Uo(s.l,c.l,d),alpha:Uo(s.alpha,c.alpha,d)}}},Af=Object.freeze({__proto__:null,lab:io,hcl:su}),wa=function(s,c,d,E,I){this.type=s,this.operator=c,this.interpolation=d,this.input=E,this.labels=[],this.outputs=[];for(var L=0,B=I;L<B.length;L+=1){var J=B[L],le=J[1];this.labels.push(J[0]),this.outputs.push(le)}};function Bc(s,c,d,E){var I=E-d,L=s-d;return I===0?0:c===1?L/I:(Math.pow(c,L)-1)/(Math.pow(c,I)-1)}wa.interpolationFactor=function(s,c,d,E){var I=0;if(s.name==="exponential")I=Bc(c,s.base,d,E);else if(s.name==="linear")I=Bc(c,1,d,E);else if(s.name==="cubic-bezier"){var L=s.controlPoints;I=new fe(L[0],L[1],L[2],L[3]).solve(Bc(c,1,d,E))}return I},wa.parse=function(s,c){var d=s[0],E=s[1],I=s[2],L=s.slice(3);if(!Array.isArray(E)||E.length===0)return c.error("Expected an interpolation type expression.",1);if(E[0]==="linear")E={name:"linear"};else if(E[0]==="exponential"){var B=E[1];if(typeof B!="number")return c.error("Exponential interpolation requires a numeric base.",1,1);E={name:"exponential",base:B}}else{if(E[0]!=="cubic-bezier")return c.error("Unknown interpolation type "+String(E[0]),1,0);var J=E.slice(1);if(J.length!==4||J.some(function(xt){return typeof xt!="number"||xt<0||xt>1}))return c.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);E={name:"cubic-bezier",controlPoints:J}}if(s.length-1<4)return c.error("Expected at least 4 arguments, but found only "+(s.length-1)+".");if((s.length-1)%2!=0)return c.error("Expected an even number of arguments.");if(!(I=c.parse(I,2,Pe)))return null;var le=[],ve=null;d==="interpolate-hcl"||d==="interpolate-lab"?ve=ye:c.expectedType&&c.expectedType.kind!=="value"&&(ve=c.expectedType);for(var Ee=0;Ee<L.length;Ee+=2){var De=L[Ee],Le=L[Ee+1],Ve=Ee+3,ut=Ee+4;if(typeof De!="number")return c.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Ve);if(le.length&&le[le.length-1][0]>=De)return c.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Ve);var ct=c.parse(Le,ut,ve);if(!ct)return null;ve=ve||ct.type,le.push([De,ct])}return ve.kind==="number"||ve.kind==="color"||ve.kind==="array"&&ve.itemType.kind==="number"&&typeof ve.N=="number"?new wa(ve,d,E,I,le):c.error("Type "+fr(ve)+" is not interpolatable.")},wa.prototype.evaluate=function(s){var c=this.labels,d=this.outputs;if(c.length===1)return d[0].evaluate(s);var E=this.input.evaluate(s);if(E<=c[0])return d[0].evaluate(s);var I=c.length;if(E>=c[I-1])return d[I-1].evaluate(s);var L=ef(c,E),B=wa.interpolationFactor(this.interpolation,E,c[L],c[L+1]),J=d[L].evaluate(s),le=d[L+1].evaluate(s);return this.operator==="interpolate"?kf[this.type.kind.toLowerCase()](J,le,B):this.operator==="interpolate-hcl"?su.reverse(su.interpolate(su.forward(J),su.forward(le),B)):io.reverse(io.interpolate(io.forward(J),io.forward(le),B))},wa.prototype.eachChild=function(s){s(this.input);for(var c=0,d=this.outputs;c<d.length;c+=1)s(d[c])},wa.prototype.outputDefined=function(){return this.outputs.every(function(s){return s.outputDefined()})},wa.prototype.serialize=function(){var s;s=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var c=[this.operator,s,this.input.serialize()],d=0;d<this.labels.length;d++)c.push(this.labels[d],this.outputs[d].serialize());return c};var ta=function(s,c){this.type=s,this.args=c};ta.parse=function(s,c){if(s.length<2)return c.error("Expectected at least one argument.");var d=null,E=c.expectedType;E&&E.kind!=="value"&&(d=E);for(var I=[],L=0,B=s.slice(1);L<B.length;L+=1){var J=c.parse(B[L],1+I.length,d,void 0,{typeAnnotation:"omit"});if(!J)return null;d=d||J.type,I.push(J)}var le=E&&I.some(function(ve){return Dn(E,ve.type)});return new ta(le?dt:d,I)},ta.prototype.evaluate=function(s){for(var c,d=null,E=0,I=0,L=this.args;I<L.length&&(E++,(d=L[I].evaluate(s))&&d instanceof Ci&&!d.available&&(c||(c=d.name),d=null,E===this.args.length&&(d=c)),d===null);I+=1);return d},ta.prototype.eachChild=function(s){this.args.forEach(s)},ta.prototype.outputDefined=function(){return this.args.every(function(s){return s.outputDefined()})},ta.prototype.serialize=function(){var s=["coalesce"];return this.eachChild(function(c){s.push(c.serialize())}),s};var tf=function(s,c){this.type=c.type,this.bindings=[].concat(s),this.result=c};tf.prototype.evaluate=function(s){return this.result.evaluate(s)},tf.prototype.eachChild=function(s){for(var c=0,d=this.bindings;c<d.length;c+=1)s(d[c][1]);s(this.result)},tf.parse=function(s,c){if(s.length<4)return c.error("Expected at least 3 arguments, but found "+(s.length-1)+" instead.");for(var d=[],E=1;E<s.length-1;E+=2){var I=s[E];if(typeof I!="string")return c.error("Expected string, but found "+typeof I+" instead.",E);if(/[^a-zA-Z0-9_]/.test(I))return c.error("Variable names must contain only alphanumeric characters or '_'.",E);var L=c.parse(s[E+1],E+1);if(!L)return null;d.push([I,L])}var B=c.parse(s[s.length-1],s.length-1,c.expectedType,d);return B?new tf(d,B):null},tf.prototype.outputDefined=function(){return this.result.outputDefined()},tf.prototype.serialize=function(){for(var s=["let"],c=0,d=this.bindings;c<d.length;c+=1){var E=d[c];s.push(E[0],E[1].serialize())}return s.push(this.result.serialize()),s};var Cu=function(s,c,d){this.type=s,this.index=c,this.input=d};Cu.parse=function(s,c){if(s.length!==3)return c.error("Expected 2 arguments, but found "+(s.length-1)+" instead.");var d=c.parse(s[1],1,Pe),E=c.parse(s[2],2,Ur(c.expectedType||dt));return d&&E?new Cu(E.type.itemType,d,E):null},Cu.prototype.evaluate=function(s){var c=this.index.evaluate(s),d=this.input.evaluate(s);if(c<0)throw new Ki("Array index out of bounds: "+c+" < 0.");if(c>=d.length)throw new Ki("Array index out of bounds: "+c+" > "+(d.length-1)+".");if(c!==Math.floor(c))throw new Ki("Array index must be an integer, but found "+c+" instead.");return d[c]},Cu.prototype.eachChild=function(s){s(this.index),s(this.input)},Cu.prototype.outputDefined=function(){return!1},Cu.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var wo=function(s,c){this.type=ie,this.needle=s,this.haystack=c};wo.parse=function(s,c){if(s.length!==3)return c.error("Expected 2 arguments, but found "+(s.length-1)+" instead.");var d=c.parse(s[1],1,dt),E=c.parse(s[2],2,dt);return d&&E?an(d.type,[ie,se,Pe,je,dt])?new wo(d,E):c.error("Expected first argument to be of type boolean, string, number or null, but found "+fr(d.type)+" instead"):null},wo.prototype.evaluate=function(s){var c=this.needle.evaluate(s),d=this.haystack.evaluate(s);if(!d)return!1;if(!Qr(c,["boolean","string","number","null"]))throw new Ki("Expected first argument to be of type boolean, string, number or null, but found "+fr(Gi(c))+" instead.");if(!Qr(d,["string","array"]))throw new Ki("Expected second argument to be of type array or string, but found "+fr(Gi(d))+" instead.");return d.indexOf(c)>=0},wo.prototype.eachChild=function(s){s(this.needle),s(this.haystack)},wo.prototype.outputDefined=function(){return!0},wo.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Xu=function(s,c,d){this.type=Pe,this.needle=s,this.haystack=c,this.fromIndex=d};Xu.parse=function(s,c){if(s.length<=2||s.length>=5)return c.error("Expected 3 or 4 arguments, but found "+(s.length-1)+" instead.");var d=c.parse(s[1],1,dt),E=c.parse(s[2],2,dt);if(!d||!E)return null;if(!an(d.type,[ie,se,Pe,je,dt]))return c.error("Expected first argument to be of type boolean, string, number or null, but found "+fr(d.type)+" instead");if(s.length===4){var I=c.parse(s[3],3,Pe);return I?new Xu(d,E,I):null}return new Xu(d,E)},Xu.prototype.evaluate=function(s){var c=this.needle.evaluate(s),d=this.haystack.evaluate(s);if(!Qr(c,["boolean","string","number","null"]))throw new Ki("Expected first argument to be of type boolean, string, number or null, but found "+fr(Gi(c))+" instead.");if(!Qr(d,["string","array"]))throw new Ki("Expected second argument to be of type array or string, but found "+fr(Gi(d))+" instead.");if(this.fromIndex){var E=this.fromIndex.evaluate(s);return d.indexOf(c,E)}return d.indexOf(c)},Xu.prototype.eachChild=function(s){s(this.needle),s(this.haystack),this.fromIndex&&s(this.fromIndex)},Xu.prototype.outputDefined=function(){return!1},Xu.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var s=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),s]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var zl=function(s,c,d,E,I,L){this.inputType=s,this.type=c,this.input=d,this.cases=E,this.outputs=I,this.otherwise=L};zl.parse=function(s,c){if(s.length<5)return c.error("Expected at least 4 arguments, but found only "+(s.length-1)+".");if(s.length%2!=1)return c.error("Expected an even number of arguments.");var d,E;c.expectedType&&c.expectedType.kind!=="value"&&(E=c.expectedType);for(var I={},L=[],B=2;B<s.length-1;B+=2){var J=s[B],le=s[B+1];Array.isArray(J)||(J=[J]);var ve=c.concat(B);if(J.length===0)return ve.error("Expected at least one branch label.");for(var Ee=0,De=J;Ee<De.length;Ee+=1){var Le=De[Ee];if(typeof Le!="number"&&typeof Le!="string")return ve.error("Branch labels must be numbers or strings.");if(typeof Le=="number"&&Math.abs(Le)>Number.MAX_SAFE_INTEGER)return ve.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof Le=="number"&&Math.floor(Le)!==Le)return ve.error("Numeric branch labels must be integer values.");if(d){if(ve.checkSubtype(d,Gi(Le)))return null}else d=Gi(Le);if(I[String(Le)]!==void 0)return ve.error("Branch labels must be unique.");I[String(Le)]=L.length}var Ve=c.parse(le,B,E);if(!Ve)return null;E=E||Ve.type,L.push(Ve)}var ut=c.parse(s[1],1,dt);if(!ut)return null;var ct=c.parse(s[s.length-1],s.length-1,E);return ct?ut.type.kind!=="value"&&c.concat(1).checkSubtype(d,ut.type)?null:new zl(d,E,ut,I,L,ct):null},zl.prototype.evaluate=function(s){var c=this.input.evaluate(s);return(Gi(c)===this.inputType&&this.outputs[this.cases[c]]||this.otherwise).evaluate(s)},zl.prototype.eachChild=function(s){s(this.input),this.outputs.forEach(s),s(this.otherwise)},zl.prototype.outputDefined=function(){return this.outputs.every(function(s){return s.outputDefined()})&&this.otherwise.outputDefined()},zl.prototype.serialize=function(){for(var s=this,c=["match",this.input.serialize()],d=[],E={},I=0,L=Object.keys(this.cases).sort();I<L.length;I+=1){var B=L[I];(De=E[this.cases[B]])===void 0?(E[this.cases[B]]=d.length,d.push([this.cases[B],[B]])):d[De][1].push(B)}for(var J=function(Ve){return s.inputType.kind==="number"?Number(Ve):Ve},le=0,ve=d;le<ve.length;le+=1){var Ee=ve[le],De=Ee[0],Le=Ee[1];c.push(Le.length===1?J(Le[0]):Le.map(J)),c.push(this.outputs[outputIndex$1].serialize())}return c.push(this.otherwise.serialize()),c};var Ju=function(s,c,d){this.type=s,this.branches=c,this.otherwise=d};Ju.parse=function(s,c){if(s.length<4)return c.error("Expected at least 3 arguments, but found only "+(s.length-1)+".");if(s.length%2!=0)return c.error("Expected an odd number of arguments.");var d;c.expectedType&&c.expectedType.kind!=="value"&&(d=c.expectedType);for(var E=[],I=1;I<s.length-1;I+=2){var L=c.parse(s[I],I,ie);if(!L)return null;var B=c.parse(s[I+1],I+1,d);if(!B)return null;E.push([L,B]),d=d||B.type}var J=c.parse(s[s.length-1],s.length-1,d);return J?new Ju(d,E,J):null},Ju.prototype.evaluate=function(s){for(var c=0,d=this.branches;c<d.length;c+=1){var E=d[c],I=E[1];if(E[0].evaluate(s))return I.evaluate(s)}return this.otherwise.evaluate(s)},Ju.prototype.eachChild=function(s){for(var c=0,d=this.branches;c<d.length;c+=1){var E=d[c],I=E[1];s(E[0]),s(I)}s(this.otherwise)},Ju.prototype.outputDefined=function(){return this.branches.every(function(s){return s[1].outputDefined()})&&this.otherwise.outputDefined()},Ju.prototype.serialize=function(){var s=["case"];return this.eachChild(function(c){s.push(c.serialize())}),s};var Qu=function(s,c,d,E){this.type=s,this.input=c,this.beginIndex=d,this.endIndex=E};function Uh(s,c){return s==="=="||s==="!="?c.kind==="boolean"||c.kind==="string"||c.kind==="number"||c.kind==="null"||c.kind==="value":c.kind==="string"||c.kind==="number"||c.kind==="value"}function Td(s,c,d,E){return E.compare(c,d)===0}function Ui(s,c,d){var E=s!=="=="&&s!=="!=";return function(){function I(L,B,J){this.type=ie,this.lhs=L,this.rhs=B,this.collator=J,this.hasUntypedArgument=L.type.kind==="value"||B.type.kind==="value"}return I.parse=function(L,B){if(L.length!==3&&L.length!==4)return B.error("Expected two or three arguments.");var J=L[0],le=B.parse(L[1],1,dt);if(!le)return null;if(!Uh(J,le.type))return B.concat(1).error('"'+J+`" comparisons are not supported for type '`+fr(le.type)+"'.");var ve=B.parse(L[2],2,dt);if(!ve)return null;if(!Uh(J,ve.type))return B.concat(2).error('"'+J+`" comparisons are not supported for type '`+fr(ve.type)+"'.");if(le.type.kind!==ve.type.kind&&le.type.kind!=="value"&&ve.type.kind!=="value")return B.error("Cannot compare types '"+fr(le.type)+"' and '"+fr(ve.type)+"'.");E&&(le.type.kind==="value"&&ve.type.kind!=="value"?le=new ii(ve.type,[le]):le.type.kind!=="value"&&ve.type.kind==="value"&&(ve=new ii(le.type,[ve])));var Ee=null;if(L.length===4){if(le.type.kind!=="string"&&ve.type.kind!=="string"&&le.type.kind!=="value"&&ve.type.kind!=="value")return B.error("Cannot use collator to compare non-string types.");if(!(Ee=B.parse(L[3],3,Gt)))return null}return new I(le,ve,Ee)},I.prototype.evaluate=function(L){var B=this.lhs.evaluate(L),J=this.rhs.evaluate(L);if(E&&this.hasUntypedArgument){var le=Gi(B),ve=Gi(J);if(le.kind!==ve.kind||le.kind!=="string"&&le.kind!=="number")throw new Ki('Expected arguments for "'+s+'" to be (string, string) or (number, number), but found ('+le.kind+", "+ve.kind+") instead.")}if(this.collator&&!E&&this.hasUntypedArgument){var Ee=Gi(B),De=Gi(J);if(Ee.kind!=="string"||De.kind!=="string")return c(L,B,J)}return this.collator?d(L,B,J,this.collator.evaluate(L)):c(L,B,J)},I.prototype.eachChild=function(L){L(this.lhs),L(this.rhs),this.collator&&L(this.collator)},I.prototype.outputDefined=function(){return!0},I.prototype.serialize=function(){var L=[s];return this.eachChild(function(B){L.push(B.serialize())}),L},I}()}Qu.parse=function(s,c){if(s.length<=2||s.length>=5)return c.error("Expected 3 or 4 arguments, but found "+(s.length-1)+" instead.");var d=c.parse(s[1],1,dt),E=c.parse(s[2],2,Pe);if(!d||!E)return null;if(!an(d.type,[Ur(dt),se,dt]))return c.error("Expected first argument to be of type array or string, but found "+fr(d.type)+" instead");if(s.length===4){var I=c.parse(s[3],3,Pe);return I?new Qu(d.type,d,E,I):null}return new Qu(d.type,d,E)},Qu.prototype.evaluate=function(s){var c=this.input.evaluate(s),d=this.beginIndex.evaluate(s);if(!Qr(c,["string","array"]))throw new Ki("Expected first argument to be of type array or string, but found "+fr(Gi(c))+" instead.");if(this.endIndex){var E=this.endIndex.evaluate(s);return c.slice(d,E)}return c.slice(d)},Qu.prototype.eachChild=function(s){s(this.input),s(this.beginIndex),this.endIndex&&s(this.endIndex)},Qu.prototype.outputDefined=function(){return!1},Qu.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var s=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),s]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Ed=Ui("==",function(s,c,d){return c===d},Td),jh=Ui("!=",function(s,c,d){return c!==d},function(s,c,d,E){return!Td(0,c,d,E)}),kd=Ui("<",function(s,c,d){return c<d},function(s,c,d,E){return E.compare(c,d)<0}),zc=Ui(">",function(s,c,d){return c>d},function(s,c,d,E){return E.compare(c,d)>0}),ec=Ui("<=",function(s,c,d){return c<=d},function(s,c,d,E){return E.compare(c,d)<=0}),eh=Ui(">=",function(s,c,d){return c>=d},function(s,c,d,E){return E.compare(c,d)>=0}),ra=function(s,c,d,E,I){this.type=se,this.number=s,this.locale=c,this.currency=d,this.minFractionDigits=E,this.maxFractionDigits=I};ra.parse=function(s,c){if(s.length!==3)return c.error("Expected two arguments.");var d=c.parse(s[1],1,Pe);if(!d)return null;var E=s[2];if(typeof E!="object"||Array.isArray(E))return c.error("NumberFormat options argument must be an object.");var I=null;if(E.locale&&!(I=c.parse(E.locale,1,se)))return null;var L=null;if(E.currency&&!(L=c.parse(E.currency,1,se)))return null;var B=null;if(E["min-fraction-digits"]&&!(B=c.parse(E["min-fraction-digits"],1,Pe)))return null;var J=null;return E["max-fraction-digits"]&&!(J=c.parse(E["max-fraction-digits"],1,Pe))?null:new ra(d,I,L,B,J)},ra.prototype.evaluate=function(s){return new Intl.NumberFormat(this.locale?this.locale.evaluate(s):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(s):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(s):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(s):void 0}).format(this.number.evaluate(s))},ra.prototype.eachChild=function(s){s(this.number),this.locale&&s(this.locale),this.currency&&s(this.currency),this.minFractionDigits&&s(this.minFractionDigits),this.maxFractionDigits&&s(this.maxFractionDigits)},ra.prototype.outputDefined=function(){return!1},ra.prototype.serialize=function(){var s={};return this.locale&&(s.locale=this.locale.serialize()),this.currency&&(s.currency=this.currency.serialize()),this.minFractionDigits&&(s["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(s["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),s]};var ms=function(s){this.type=Pe,this.input=s};ms.parse=function(s,c){if(s.length!==2)return c.error("Expected 1 argument, but found "+(s.length-1)+" instead.");var d=c.parse(s[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?c.error("Expected argument of type string or array, but found "+fr(d.type)+" instead."):new ms(d):null},ms.prototype.evaluate=function(s){var c=this.input.evaluate(s);if(typeof c=="string"||Array.isArray(c))return c.length;throw new Ki("Expected value to be of type string or array, but found "+fr(Gi(c))+" instead.")},ms.prototype.eachChild=function(s){s(this.input)},ms.prototype.outputDefined=function(){return!1},ms.prototype.serialize=function(){var s=["length"];return this.eachChild(function(c){s.push(c.serialize())}),s};var Sa={"==":Ed,"!=":jh,">":zc,"<":kd,">=":eh,"<=":ec,array:ii,at:Cu,boolean:ii,case:Ju,coalesce:ta,collator:ts,format:Pa,image:Ua,in:wo,"index-of":Xu,interpolate:wa,"interpolate-hcl":wa,"interpolate-lab":wa,length:ms,let:tf,literal:ho,match:zl,number:ii,"number-format":ra,object:ii,slice:Qu,step:zs,string:ii,"to-boolean":ro,"to-color":ro,"to-number":ro,"to-string":ro,var:Bl,within:Ni};function tc(s,c){var d=c[0],E=c[1],I=c[2],L=c[3];d=d.evaluate(s),E=E.evaluate(s),I=I.evaluate(s);var B=L?L.evaluate(s):1,J=ya(d,E,I,B);if(J)throw new Ki(J);return new Xn(d/255*B,E/255*B,I/255*B,B)}function th(s,c){return s in c}function Au(s,c){var d=c[s];return d===void 0?null:d}function Ul(s){return{type:s}}function Cd(s){return{result:"success",value:s}}function rf(s){return{result:"error",value:s}}function bc(s){return s["property-type"]==="data-driven"||s["property-type"]==="cross-faded-data-driven"}function Du(s){return!!s.expression&&s.expression.parameters.indexOf("zoom")>-1}function fl(s){return!!s.expression&&s.expression.interpolated}function mo(s){return s instanceof Number?"number":s instanceof String?"string":s instanceof Boolean?"boolean":Array.isArray(s)?"array":s===null?"null":typeof s}function Ou(s){return typeof s=="object"&&s!==null&&!Array.isArray(s)}function rc(s){return s}function jl(s,c,d){return s!==void 0?s:c!==void 0?c:d!==void 0?d:void 0}function rh(s,c,d,E,I){return jl(typeof d===I?E[d]:void 0,s.default,c.default)}function nm(s,c,d){if(mo(d)!=="number")return jl(s.default,c.default);var E=s.stops.length;if(E===1||d<=s.stops[0][0])return s.stops[0][1];if(d>=s.stops[E-1][0])return s.stops[E-1][1];var I=ef(s.stops.map(function(L){return L[0]}),d);return s.stops[I][1]}function pp(s,c,d){var E=s.base!==void 0?s.base:1;if(mo(d)!=="number")return jl(s.default,c.default);var I=s.stops.length;if(I===1||d<=s.stops[0][0])return s.stops[0][1];if(d>=s.stops[I-1][0])return s.stops[I-1][1];var L=ef(s.stops.map(function(De){return De[0]}),d),B=function(De,Le,Ve,ut){var ct=ut-Ve,xt=De-Ve;return ct===0?0:Le===1?xt/ct:(Math.pow(Le,xt)-1)/(Math.pow(Le,ct)-1)}(d,E,s.stops[L][0],s.stops[L+1][0]),J=s.stops[L][1],le=s.stops[L+1][1],ve=kf[c.type]||rc;if(s.colorSpace&&s.colorSpace!=="rgb"){var Ee=Af[s.colorSpace];ve=function(De,Le){return Ee.reverse(Ee.interpolate(Ee.forward(De),Ee.forward(Le),B))}}return typeof J.evaluate=="function"?{evaluate:function(){for(var De=arguments,Le=[],Ve=arguments.length;Ve--;)Le[Ve]=De[Ve];var ut=J.evaluate.apply(void 0,Le),ct=le.evaluate.apply(void 0,Le);if(ut!==void 0&&ct!==void 0)return ve(ut,ct,B)}}:ve(J,le,B)}function nf(s,c,d){return c.type==="color"?d=Xn.parse(d):c.type==="formatted"?d=ei.fromString(d.toString()):c.type==="resolvedImage"?d=Ci.fromString(d.toString()):mo(d)===c.type||c.type==="enum"&&c.values[d]||(d=void 0),jl(d,s.default,c.default)}Oo.register(Sa,{error:[{kind:"error"},[se],function(s,c){throw new Ki(c[0].evaluate(s))}],typeof:[se,[dt],function(s,c){return fr(Gi(c[0].evaluate(s)))}],"to-rgba":[Ur(Pe,4),[ye],function(s,c){return c[0].evaluate(s).toArray()}],rgb:[ye,[Pe,Pe,Pe],tc],rgba:[ye,[Pe,Pe,Pe,Pe],tc],has:{type:ie,overloads:[[[se],function(s,c){return th(c[0].evaluate(s),s.properties())}],[[se,Ge],function(s,c){var d=c[1];return th(c[0].evaluate(s),d.evaluate(s))}]]},get:{type:dt,overloads:[[[se],function(s,c){return Au(c[0].evaluate(s),s.properties())}],[[se,Ge],function(s,c){var d=c[1];return Au(c[0].evaluate(s),d.evaluate(s))}]]},"feature-state":[dt,[se],function(s,c){return Au(c[0].evaluate(s),s.featureState||{})}],properties:[Ge,[],function(s){return s.properties()}],"geometry-type":[se,[],function(s){return s.geometryType()}],id:[dt,[],function(s){return s.id()}],zoom:[Pe,[],function(s){return s.globals.zoom}],"heatmap-density":[Pe,[],function(s){return s.globals.heatmapDensity||0}],"line-progress":[Pe,[],function(s){return s.globals.lineProgress||0}],accumulated:[dt,[],function(s){return s.globals.accumulated===void 0?null:s.globals.accumulated}],"+":[Pe,Ul(Pe),function(s,c){for(var d=0,E=0,I=c;E<I.length;E+=1)d+=I[E].evaluate(s);return d}],"*":[Pe,Ul(Pe),function(s,c){for(var d=1,E=0,I=c;E<I.length;E+=1)d*=I[E].evaluate(s);return d}],"-":{type:Pe,overloads:[[[Pe,Pe],function(s,c){var d=c[1];return c[0].evaluate(s)-d.evaluate(s)}],[[Pe],function(s,c){return-c[0].evaluate(s)}]]},"/":[Pe,[Pe,Pe],function(s,c){var d=c[1];return c[0].evaluate(s)/d.evaluate(s)}],"%":[Pe,[Pe,Pe],function(s,c){var d=c[1];return c[0].evaluate(s)%d.evaluate(s)}],ln2:[Pe,[],function(){return Math.LN2}],pi:[Pe,[],function(){return Math.PI}],e:[Pe,[],function(){return Math.E}],"^":[Pe,[Pe,Pe],function(s,c){var d=c[1];return Math.pow(c[0].evaluate(s),d.evaluate(s))}],sqrt:[Pe,[Pe],function(s,c){return Math.sqrt(c[0].evaluate(s))}],log10:[Pe,[Pe],function(s,c){return Math.log(c[0].evaluate(s))/Math.LN10}],ln:[Pe,[Pe],function(s,c){return Math.log(c[0].evaluate(s))}],log2:[Pe,[Pe],function(s,c){return Math.log(c[0].evaluate(s))/Math.LN2}],sin:[Pe,[Pe],function(s,c){return Math.sin(c[0].evaluate(s))}],cos:[Pe,[Pe],function(s,c){return Math.cos(c[0].evaluate(s))}],tan:[Pe,[Pe],function(s,c){return Math.tan(c[0].evaluate(s))}],asin:[Pe,[Pe],function(s,c){return Math.asin(c[0].evaluate(s))}],acos:[Pe,[Pe],function(s,c){return Math.acos(c[0].evaluate(s))}],atan:[Pe,[Pe],function(s,c){return Math.atan(c[0].evaluate(s))}],min:[Pe,Ul(Pe),function(s,c){return Math.min.apply(Math,c.map(function(d){return d.evaluate(s)}))}],max:[Pe,Ul(Pe),function(s,c){return Math.max.apply(Math,c.map(function(d){return d.evaluate(s)}))}],abs:[Pe,[Pe],function(s,c){return Math.abs(c[0].evaluate(s))}],round:[Pe,[Pe],function(s,c){var d=c[0].evaluate(s);return d<0?-Math.round(-d):Math.round(d)}],floor:[Pe,[Pe],function(s,c){return Math.floor(c[0].evaluate(s))}],ceil:[Pe,[Pe],function(s,c){return Math.ceil(c[0].evaluate(s))}],"filter-==":[ie,[se,dt],function(s,c){var d=c[0],E=c[1];return s.properties()[d.value]===E.value}],"filter-id-==":[ie,[dt],function(s,c){var d=c[0];return s.id()===d.value}],"filter-type-==":[ie,[se],function(s,c){var d=c[0];return s.geometryType()===d.value}],"filter-<":[ie,[se,dt],function(s,c){var d=c[0],E=c[1],I=s.properties()[d.value],L=E.value;return typeof I==typeof L&&I<L}],"filter-id-<":[ie,[dt],function(s,c){var d=c[0],E=s.id(),I=d.value;return typeof E==typeof I&&E<I}],"filter->":[ie,[se,dt],function(s,c){var d=c[0],E=c[1],I=s.properties()[d.value],L=E.value;return typeof I==typeof L&&I>L}],"filter-id->":[ie,[dt],function(s,c){var d=c[0],E=s.id(),I=d.value;return typeof E==typeof I&&E>I}],"filter-<=":[ie,[se,dt],function(s,c){var d=c[0],E=c[1],I=s.properties()[d.value],L=E.value;return typeof I==typeof L&&I<=L}],"filter-id-<=":[ie,[dt],function(s,c){var d=c[0],E=s.id(),I=d.value;return typeof E==typeof I&&E<=I}],"filter->=":[ie,[se,dt],function(s,c){var d=c[0],E=c[1],I=s.properties()[d.value],L=E.value;return typeof I==typeof L&&I>=L}],"filter-id->=":[ie,[dt],function(s,c){var d=c[0],E=s.id(),I=d.value;return typeof E==typeof I&&E>=I}],"filter-has":[ie,[dt],function(s,c){return c[0].value in s.properties()}],"filter-has-id":[ie,[],function(s){return s.id()!==null&&s.id()!==void 0}],"filter-type-in":[ie,[Ur(se)],function(s,c){return c[0].value.indexOf(s.geometryType())>=0}],"filter-id-in":[ie,[Ur(dt)],function(s,c){return c[0].value.indexOf(s.id())>=0}],"filter-in-small":[ie,[se,Ur(dt)],function(s,c){var d=c[0];return c[1].value.indexOf(s.properties()[d.value])>=0}],"filter-in-large":[ie,[se,Ur(dt)],function(s,c){var d=c[0],E=c[1];return function(I,L,B,J){for(;B<=J;){var le=B+J>>1;if(L[le]===I)return!0;L[le]>I?J=le-1:B=le+1}return!1}(s.properties()[d.value],E.value,0,E.value.length-1)}],all:{type:ie,overloads:[[[ie,ie],function(s,c){var d=c[1];return c[0].evaluate(s)&&d.evaluate(s)}],[Ul(ie),function(s,c){for(var d=0,E=c;d<E.length;d+=1)if(!E[d].evaluate(s))return!1;return!0}]]},any:{type:ie,overloads:[[[ie,ie],function(s,c){var d=c[1];return c[0].evaluate(s)||d.evaluate(s)}],[Ul(ie),function(s,c){for(var d=0,E=c;d<E.length;d+=1)if(E[d].evaluate(s))return!0;return!1}]]},"!":[ie,[ie],function(s,c){return!c[0].evaluate(s)}],"is-supported-script":[ie,[se],function(s,c){var d=s.globals&&s.globals.isSupportedScript;return!d||d(c[0].evaluate(s))}],upcase:[se,[se],function(s,c){return c[0].evaluate(s).toUpperCase()}],downcase:[se,[se],function(s,c){return c[0].evaluate(s).toLowerCase()}],concat:[se,Ul(dt),function(s,c){return c.map(function(d){return Bs(d.evaluate(s))}).join("")}],"resolved-locale":[se,[Gt],function(s,c){return c[0].evaluate(s).resolvedLocale()}]});var lu=function(s,c){this.expression=s,this._warningHistory={},this._evaluator=new ba,this._defaultValue=c?function(d){return d.type==="color"&&Ou(d.default)?new Xn(0,0,0,0):d.type==="color"?Xn.parse(d.default)||null:d.default===void 0?null:d.default}(c):null,this._enumValues=c&&c.type==="enum"?c.values:null};function Us(s){return Array.isArray(s)&&s.length>0&&typeof s[0]=="string"&&s[0]in Sa}function nc(s,c){var d=new po(Sa,[],c?function(I){var L={color:ye,string:se,number:Pe,enum:se,boolean:ie,formatted:tr,resolvedImage:Or};return I.type==="array"?Ur(L[I.value]||dt,I.length):L[I.type]}(c):void 0),E=d.parse(s,void 0,void 0,void 0,c&&c.type==="string"?{typeAnnotation:"coerce"}:void 0);return E?Cd(new lu(E,c)):rf(d.errors)}lu.prototype.evaluateWithoutErrorHandling=function(s,c,d,E,I,L){return this._evaluator.globals=s,this._evaluator.feature=c,this._evaluator.featureState=d,this._evaluator.canonical=E,this._evaluator.availableImages=I||null,this._evaluator.formattedSection=L,this.expression.evaluate(this._evaluator)},lu.prototype.evaluate=function(s,c,d,E,I,L){this._evaluator.globals=s,this._evaluator.feature=c||null,this._evaluator.featureState=d||null,this._evaluator.canonical=E,this._evaluator.availableImages=I||null,this._evaluator.formattedSection=L||null;try{var B=this.expression.evaluate(this._evaluator);if(B==null||typeof B=="number"&&B!=B)return this._defaultValue;if(this._enumValues&&!(B in this._enumValues))throw new Ki("Expected value to be one of "+Object.keys(this._enumValues).map(function(J){return JSON.stringify(J)}).join(", ")+", but found "+JSON.stringify(B)+" instead.");return B}catch(J){return this._warningHistory[J.message]||(this._warningHistory[J.message]=!0,typeof console<"u"&&console.warn(J.message)),this._defaultValue}};var Uc=function(s,c){this.kind=s,this._styleExpression=c,this.isStateDependent=s!=="constant"&&!_a(c.expression)};Uc.prototype.evaluateWithoutErrorHandling=function(s,c,d,E,I,L){return this._styleExpression.evaluateWithoutErrorHandling(s,c,d,E,I,L)},Uc.prototype.evaluate=function(s,c,d,E,I,L){return this._styleExpression.evaluate(s,c,d,E,I,L)};var of=function(s,c,d,E){this.kind=s,this.zoomStops=d,this._styleExpression=c,this.isStateDependent=s!=="camera"&&!_a(c.expression),this.interpolationType=E};function nh(s,c){if((s=nc(s,c)).result==="error")return s;var d=s.value.expression,E=Nl(d);if(!E&&!bc(c))return rf([new hr("","data expressions not supported")]);var I=Ds(d,["zoom"]);if(!I&&!Du(c))return rf([new hr("","zoom expressions not supported")]);var L=function B(J){var le=null;if(J instanceof tf)le=B(J.result);else if(J instanceof ta)for(var ve=0,Ee=J.args;ve<Ee.length&&!(le=B(Ee[ve]));ve+=1);else(J instanceof zs||J instanceof wa)&&J.input instanceof Oo&&J.input.name==="zoom"&&(le=J);return le instanceof hr||J.eachChild(function(De){var Le=B(De);Le instanceof hr?le=Le:!le&&Le?le=new hr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):le&&Le&&le!==Le&&(le=new hr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),le}(d);return L||I?L instanceof hr?rf([L]):L instanceof wa&&!fl(c)?rf([new hr("",'"interpolate" expressions cannot be used with this property')]):Cd(L?new of(E?"camera":"composite",s.value,L.labels,L instanceof wa?L.interpolation:void 0):new Uc(E?"constant":"source",s.value)):rf([new hr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}of.prototype.evaluateWithoutErrorHandling=function(s,c,d,E,I,L){return this._styleExpression.evaluateWithoutErrorHandling(s,c,d,E,I,L)},of.prototype.evaluate=function(s,c,d,E,I,L){return this._styleExpression.evaluate(s,c,d,E,I,L)},of.prototype.interpolationFactor=function(s,c,d){return this.interpolationType?wa.interpolationFactor(this.interpolationType,s,c,d):0};var gs=function(s,c){this._parameters=s,this._specification=c,lr(this,function d(E,I){var L,B,J,le=I.type==="color",ve=E.stops&&typeof E.stops[0][0]=="object",Ee=ve||!(ve||E.property!==void 0),De=E.type||(fl(I)?"exponential":"interval");if(le&&((E=lr({},E)).stops&&(E.stops=E.stops.map(function(Xr){return[Xr[0],Xn.parse(Xr[1])]})),E.default=Xn.parse(E.default?E.default:I.default)),E.colorSpace&&E.colorSpace!=="rgb"&&!Af[E.colorSpace])throw new Error("Unknown color space: "+E.colorSpace);if(De==="exponential")L=pp;else if(De==="interval")L=nm;else if(De==="categorical"){L=rh,B=Object.create(null);for(var Le=0,Ve=E.stops;Le<Ve.length;Le+=1){var ut=Ve[Le];B[ut[0]]=ut[1]}J=typeof E.stops[0][0]}else{if(De!=="identity")throw new Error('Unknown function type "'+De+'"');L=nf}if(ve){for(var ct={},xt=[],gt=0;gt<E.stops.length;gt++){var Lt=E.stops[gt],Kt=Lt[0].zoom;ct[Kt]===void 0&&(ct[Kt]={zoom:Kt,type:E.type,property:E.property,default:E.default,stops:[]},xt.push(Kt)),ct[Kt].stops.push([Lt[0].value,Lt[1]])}for(var Qt=[],ar=0,pr=xt;ar<pr.length;ar+=1){var Ar=pr[ar];Qt.push([ct[Ar].zoom,d(ct[Ar],I)])}var Hr={name:"linear"};return{kind:"composite",interpolationType:Hr,interpolationFactor:wa.interpolationFactor.bind(void 0,Hr),zoomStops:Qt.map(function(Xr){return Xr[0]}),evaluate:function(Xr,An){var tn=Xr.zoom;return pp({stops:Qt,base:E.base},I,tn).evaluate(tn,An)}}}if(Ee){var wn=De==="exponential"?{name:"exponential",base:E.base!==void 0?E.base:1}:null;return{kind:"camera",interpolationType:wn,interpolationFactor:wa.interpolationFactor.bind(void 0,wn),zoomStops:E.stops.map(function(Xr){return Xr[0]}),evaluate:function(Xr){return L(E,I,Xr.zoom,B,J)}}}return{kind:"source",evaluate:function(Xr,An){var tn=An&&An.properties?An.properties[E.property]:void 0;return tn===void 0?jl(E.default,I.default):L(E,I,tn,B,J)}}}(this._parameters,this._specification))};function uu(s){var c=s.key,d=s.value,E=s.valueSpec||{},I=s.objectElementValidators||{},L=s.style,B=s.styleSpec,J=[],le=mo(d);if(le!=="object")return[new Ke(c,d,"object expected, "+le+" found")];for(var ve in d){var Ee=ve.split(".")[0],De=E[Ee]||E["*"],Le=void 0;if(I[Ee])Le=I[Ee];else if(E[Ee])Le=ui;else if(I["*"])Le=I["*"];else{if(!E["*"]){J.push(new Ke(c,d[ve],'unknown property "'+ve+'"'));continue}Le=ui}J=J.concat(Le({key:(c&&c+".")+ve,value:d[ve],valueSpec:De,style:L,styleSpec:B,object:d,objectKey:ve},d))}for(var Ve in E)I[Ve]||E[Ve].required&&E[Ve].default===void 0&&d[Ve]===void 0&&J.push(new Ke(c,d,'missing required property "'+Ve+'"'));return J}function Hl(s){var c=s.value,d=s.valueSpec,E=s.style,I=s.styleSpec,L=s.key,B=s.arrayElementValidator||ui;if(mo(c)!=="array")return[new Ke(L,c,"array expected, "+mo(c)+" found")];if(d.length&&c.length!==d.length)return[new Ke(L,c,"array length "+d.length+" expected, length "+c.length+" found")];if(d["min-length"]&&c.length<d["min-length"])return[new Ke(L,c,"array length at least "+d["min-length"]+" expected, length "+c.length+" found")];var J={type:d.value,values:d.values};I.$version<7&&(J.function=d.function),mo(d.value)==="object"&&(J=d.value);for(var le=[],ve=0;ve<c.length;ve++)le=le.concat(B({array:c,arrayIndex:ve,value:c[ve],valueSpec:J,style:E,styleSpec:I,key:L+"["+ve+"]"}));return le}function Pt(s){var c=s.key,d=s.value,E=s.valueSpec,I=mo(d);return I==="number"&&d!=d&&(I="NaN"),I!=="number"?[new Ke(c,d,"number expected, "+I+" found")]:"minimum"in E&&d<E.minimum?[new Ke(c,d,d+" is less than the minimum value "+E.minimum)]:"maximum"in E&&d>E.maximum?[new Ke(c,d,d+" is greater than the maximum value "+E.maximum)]:[]}function gr(s){var c,d,E,I=s.valueSpec,L=jt(s.value.type),B={},J=L!=="categorical"&&s.value.property===void 0,le=!J,ve=mo(s.value.stops)==="array"&&mo(s.value.stops[0])==="array"&&mo(s.value.stops[0][0])==="object",Ee=uu({key:s.key,value:s.value,valueSpec:s.styleSpec.function,style:s.style,styleSpec:s.styleSpec,objectElementValidators:{stops:function(Ve){if(L==="identity")return[new Ke(Ve.key,Ve.value,'identity function may not have a "stops" property')];var ut=[],ct=Ve.value;return ut=ut.concat(Hl({key:Ve.key,value:ct,valueSpec:Ve.valueSpec,style:Ve.style,styleSpec:Ve.styleSpec,arrayElementValidator:De})),mo(ct)==="array"&&ct.length===0&&ut.push(new Ke(Ve.key,ct,"array must have at least one stop")),ut},default:function(Ve){return ui({key:Ve.key,value:Ve.value,valueSpec:I,style:Ve.style,styleSpec:Ve.styleSpec})}}});return L==="identity"&&J&&Ee.push(new Ke(s.key,s.value,'missing required property "property"')),L==="identity"||s.value.stops||Ee.push(new Ke(s.key,s.value,'missing required property "stops"')),L==="exponential"&&s.valueSpec.expression&&!fl(s.valueSpec)&&Ee.push(new Ke(s.key,s.value,"exponential functions not supported")),s.styleSpec.$version>=8&&(le&&!bc(s.valueSpec)?Ee.push(new Ke(s.key,s.value,"property functions not supported")):J&&!Du(s.valueSpec)&&Ee.push(new Ke(s.key,s.value,"zoom functions not supported"))),L!=="categorical"&&!ve||s.value.property!==void 0||Ee.push(new Ke(s.key,s.value,'"property" property is required')),Ee;function De(Ve){var ut=[],ct=Ve.value,xt=Ve.key;if(mo(ct)!=="array")return[new Ke(xt,ct,"array expected, "+mo(ct)+" found")];if(ct.length!==2)return[new Ke(xt,ct,"array length 2 expected, length "+ct.length+" found")];if(ve){if(mo(ct[0])!=="object")return[new Ke(xt,ct,"object expected, "+mo(ct[0])+" found")];if(ct[0].zoom===void 0)return[new Ke(xt,ct,"object stop key must have zoom")];if(ct[0].value===void 0)return[new Ke(xt,ct,"object stop key must have value")];if(E&&E>jt(ct[0].zoom))return[new Ke(xt,ct[0].zoom,"stop zoom values must appear in ascending order")];jt(ct[0].zoom)!==E&&(E=jt(ct[0].zoom),d=void 0,B={}),ut=ut.concat(uu({key:xt+"[0]",value:ct[0],valueSpec:{zoom:{}},style:Ve.style,styleSpec:Ve.styleSpec,objectElementValidators:{zoom:Pt,value:Le}}))}else ut=ut.concat(Le({key:xt+"[0]",value:ct[0],valueSpec:{},style:Ve.style,styleSpec:Ve.styleSpec},ct));return Us(Bt(ct[1]))?ut.concat([new Ke(xt+"[1]",ct[1],"expressions are not allowed in function stops.")]):ut.concat(ui({key:xt+"[1]",value:ct[1],valueSpec:I,style:Ve.style,styleSpec:Ve.styleSpec}))}function Le(Ve,ut){var ct=mo(Ve.value),xt=jt(Ve.value),gt=Ve.value!==null?Ve.value:ut;if(c){if(ct!==c)return[new Ke(Ve.key,gt,ct+" stop domain type must match previous stop domain type "+c)]}else c=ct;if(ct!=="number"&&ct!=="string"&&ct!=="boolean")return[new Ke(Ve.key,gt,"stop domain value must be a number, string, or boolean")];if(ct!=="number"&&L!=="categorical"){var Lt="number expected, "+ct+" found";return bc(I)&&L===void 0&&(Lt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ke(Ve.key,gt,Lt)]}return L!=="categorical"||ct!=="number"||isFinite(xt)&&Math.floor(xt)===xt?L!=="categorical"&&ct==="number"&&d!==void 0&&xt<d?[new Ke(Ve.key,gt,"stop domain values must appear in ascending order")]:(d=xt,L==="categorical"&&xt in B?[new Ke(Ve.key,gt,"stop domain values must be unique")]:(B[xt]=!0,[])):[new Ke(Ve.key,gt,"integer expected, found "+xt)]}}function sr(s){var c=(s.expressionContext==="property"?nh:nc)(Bt(s.value),s.valueSpec);if(c.result==="error")return c.value.map(function(E){return new Ke(""+s.key+E.key,s.value,E.message)});var d=c.value.expression||c.value._styleExpression.expression;if(s.expressionContext==="property"&&s.propertyKey==="text-font"&&!d.outputDefined())return[new Ke(s.key,s.value,'Invalid data expression for "'+s.propertyKey+'". Output values must be contained as literals within the expression.')];if(s.expressionContext==="property"&&s.propertyType==="layout"&&!_a(d))return[new Ke(s.key,s.value,'"feature-state" data expressions are not supported with layout properties.')];if(s.expressionContext==="filter"&&!_a(d))return[new Ke(s.key,s.value,'"feature-state" data expressions are not supported with filters.')];if(s.expressionContext&&s.expressionContext.indexOf("cluster")===0){if(!Ds(d,["zoom","feature-state"]))return[new Ke(s.key,s.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(s.expressionContext==="cluster-initial"&&!Nl(d))return[new Ke(s.key,s.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function fn(s){var c=s.key,d=s.value,E=s.valueSpec,I=[];return Array.isArray(E.values)?E.values.indexOf(jt(d))===-1&&I.push(new Ke(c,d,"expected one of ["+E.values.join(", ")+"], "+JSON.stringify(d)+" found")):Object.keys(E.values).indexOf(jt(d))===-1&&I.push(new Ke(c,d,"expected one of ["+Object.keys(E.values).join(", ")+"], "+JSON.stringify(d)+" found")),I}function ti(s){if(s===!0||s===!1)return!0;if(!Array.isArray(s)||s.length===0)return!1;switch(s[0]){case"has":return s.length>=2&&s[1]!=="$id"&&s[1]!=="$type";case"in":return s.length>=3&&(typeof s[1]!="string"||Array.isArray(s[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return s.length!==3||Array.isArray(s[1])||Array.isArray(s[2]);case"any":case"all":for(var c=0,d=s.slice(1);c<d.length;c+=1){var E=d[c];if(!ti(E)&&typeof E!="boolean")return!1}return!0;default:return!0}}gs.deserialize=function(s){return new gs(s._parameters,s._specification)},gs.serialize=function(s){return{_parameters:s._parameters,_specification:s._specification}};var Yi={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function fa(s){if(s==null)return{filter:function(){return!0},needGeometry:!1};ti(s)||(s=ic(s));var c=nc(s,Yi);if(c.result==="error")throw new Error(c.value.map(function(d){return d.key+": "+d.message}).join(", "));return{filter:function(d,E,I){return c.value.evaluate(d,E,{},I)},needGeometry:function d(E){if(!Array.isArray(E))return!1;if(E[0]==="within")return!0;for(var I=1;I<E.length;I++)if(d(E[I]))return!0;return!1}(s)}}function oo(s,c){return s<c?-1:s>c?1:0}function ic(s){if(!s)return!0;var c,d=s[0];return s.length<=1?d!=="any":d==="=="?af(s[1],s[2],"=="):d==="!="?xc(af(s[1],s[2],"==")):d==="<"||d===">"||d==="<="||d===">="?af(s[1],s[2],d):d==="any"?(c=s.slice(1),["any"].concat(c.map(ic))):d==="all"?["all"].concat(s.slice(1).map(ic)):d==="none"?["all"].concat(s.slice(1).map(ic).map(xc)):d==="in"?Ha(s[1],s.slice(2)):d==="!in"?xc(Ha(s[1],s.slice(2))):d==="has"?Iu(s[1]):d==="!has"?xc(Iu(s[1])):d!=="within"||s}function af(s,c,d){switch(s){case"$type":return["filter-type-"+d,c];case"$id":return["filter-id-"+d,c];default:return["filter-"+d,s,c]}}function Ha(s,c){if(c.length===0)return!1;switch(s){case"$type":return["filter-type-in",["literal",c]];case"$id":return["filter-id-in",["literal",c]];default:return c.length>200&&!c.some(function(d){return typeof d!=typeof c[0]})?["filter-in-large",s,["literal",c.sort(oo)]]:["filter-in-small",s,["literal",c]]}}function Iu(s){switch(s){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",s]}}function xc(s){return["!",s]}function Mu(s){return ti(Bt(s.value))?sr(lr({},s,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function c(d){var E=d.value,I=d.key;if(mo(E)!=="array")return[new Ke(I,E,"array expected, "+mo(E)+" found")];var L,B=d.styleSpec,J=[];if(E.length<1)return[new Ke(I,E,"filter array must have at least 1 element")];switch(J=J.concat(fn({key:I+"[0]",value:E[0],valueSpec:B.filter_operator,style:d.style,styleSpec:d.styleSpec})),jt(E[0])){case"<":case"<=":case">":case">=":E.length>=2&&jt(E[1])==="$type"&&J.push(new Ke(I,E,'"$type" cannot be use with operator "'+E[0]+'"'));case"==":case"!=":E.length!==3&&J.push(new Ke(I,E,'filter array for operator "'+E[0]+'" must have 3 elements'));case"in":case"!in":E.length>=2&&(L=mo(E[1]))!=="string"&&J.push(new Ke(I+"[1]",E[1],"string expected, "+L+" found"));for(var le=2;le<E.length;le++)L=mo(E[le]),jt(E[1])==="$type"?J=J.concat(fn({key:I+"["+le+"]",value:E[le],valueSpec:B.geometry_type,style:d.style,styleSpec:d.styleSpec})):L!=="string"&&L!=="number"&&L!=="boolean"&&J.push(new Ke(I+"["+le+"]",E[le],"string, number, or boolean expected, "+L+" found"));break;case"any":case"all":case"none":for(var ve=1;ve<E.length;ve++)J=J.concat(c({key:I+"["+ve+"]",value:E[ve],style:d.style,styleSpec:d.styleSpec}));break;case"has":case"!has":L=mo(E[1]),E.length!==2?J.push(new Ke(I,E,'filter array for "'+E[0]+'" operator must have 2 elements')):L!=="string"&&J.push(new Ke(I+"[1]",E[1],"string expected, "+L+" found"));break;case"within":L=mo(E[1]),E.length!==2?J.push(new Ke(I,E,'filter array for "'+E[0]+'" operator must have 2 elements')):L!=="object"&&J.push(new Ke(I+"[1]",E[1],"object expected, "+L+" found"))}return J}(s)}function Wl(s,c){var d=s.key,E=s.style,I=s.styleSpec,L=s.value,B=s.objectKey,J=I[c+"_"+s.layerType];if(!J)return[];var le=B.match(/^(.*)-transition$/);if(c==="paint"&&le&&J[le[1]]&&J[le[1]].transition)return ui({key:d,value:L,valueSpec:I.transition,style:E,styleSpec:I});var ve,Ee=s.valueSpec||J[B];if(!Ee)return[new Ke(d,L,'unknown property "'+B+'"')];if(mo(L)==="string"&&bc(Ee)&&!Ee.tokens&&(ve=/^{([^}]+)}$/.exec(L)))return[new Ke(d,L,'"'+B+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(ve[1])+" }`.")];var De=[];return s.layerType==="symbol"&&(B==="text-field"&&E&&!E.glyphs&&De.push(new Ke(d,L,'use of "text-field" requires a style "glyphs" property')),B==="text-font"&&Ou(Bt(L))&&jt(L.type)==="identity"&&De.push(new Ke(d,L,'"text-font" does not support identity functions'))),De.concat(ui({key:s.key,value:L,valueSpec:Ee,style:E,styleSpec:I,expressionContext:"property",propertyType:c,propertyKey:B}))}function cu(s){return Wl(s,"paint")}function Jn(s){return Wl(s,"layout")}function hl(s){var c=[],d=s.value,E=s.key,I=s.style,L=s.styleSpec;d.type||d.ref||c.push(new Ke(E,d,'either "type" or "ref" is required'));var B,J=jt(d.type),le=jt(d.ref);if(d.id)for(var ve=jt(d.id),Ee=0;Ee<s.arrayIndex;Ee++){var De=I.layers[Ee];jt(De.id)===ve&&c.push(new Ke(E,d.id,'duplicate layer id "'+d.id+'", previously used at line '+De.id.__line__))}if("ref"in d)["type","source","source-layer","filter","layout"].forEach(function(ut){ut in d&&c.push(new Ke(E,d[ut],'"'+ut+'" is prohibited for ref layers'))}),I.layers.forEach(function(ut){jt(ut.id)===le&&(B=ut)}),B?B.ref?c.push(new Ke(E,d.ref,"ref cannot reference another ref layer")):J=jt(B.type):c.push(new Ke(E,d.ref,'ref layer "'+le+'" not found'));else if(J!=="background")if(d.source){var Le=I.sources&&I.sources[d.source],Ve=Le&&jt(Le.type);Le?Ve==="vector"&&J==="raster"?c.push(new Ke(E,d.source,'layer "'+d.id+'" requires a raster source')):Ve==="raster"&&J!=="raster"?c.push(new Ke(E,d.source,'layer "'+d.id+'" requires a vector source')):Ve!=="vector"||d["source-layer"]?Ve==="raster-dem"&&J!=="hillshade"?c.push(new Ke(E,d.source,"raster-dem source can only be used with layer type 'hillshade'.")):J!=="line"||!d.paint||!d.paint["line-gradient"]||Ve==="geojson"&&Le.lineMetrics||c.push(new Ke(E,d,'layer "'+d.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):c.push(new Ke(E,d,'layer "'+d.id+'" must specify a "source-layer"')):c.push(new Ke(E,d.source,'source "'+d.source+'" not found'))}else c.push(new Ke(E,d,'missing required property "source"'));return c=c.concat(uu({key:E,value:d,valueSpec:L.layer,style:s.style,styleSpec:s.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return ui({key:E+".type",value:d.type,valueSpec:L.layer.type,style:s.style,styleSpec:s.styleSpec,object:d,objectKey:"type"})},filter:Mu,layout:function(ut){return uu({layer:d,key:ut.key,value:ut.value,style:ut.style,styleSpec:ut.styleSpec,objectElementValidators:{"*":function(ct){return Jn(lr({layerType:J},ct))}}})},paint:function(ut){return uu({layer:d,key:ut.key,value:ut.value,style:ut.style,styleSpec:ut.styleSpec,objectElementValidators:{"*":function(ct){return cu(lr({layerType:J},ct))}}})}}}))}function Wa(s){var c=s.value,d=s.key,E=mo(c);return E!=="string"?[new Ke(d,c,"string expected, "+E+" found")]:[]}var ri={promoteId:function(s){var c=s.key,d=s.value;if(mo(d)==="string")return Wa({key:c,value:d});var E=[];for(var I in d)E.push.apply(E,Wa({key:c+"."+I,value:d[I]}));return E}};function oc(s){var c=s.value,d=s.key,E=s.styleSpec,I=s.style;if(!c.type)return[new Ke(d,c,'"type" is required')];var L,B=jt(c.type);switch(B){case"vector":case"raster":case"raster-dem":return uu({key:d,value:c,valueSpec:E["source_"+B.replace("-","_")],style:s.style,styleSpec:E,objectElementValidators:ri});case"geojson":if(L=uu({key:d,value:c,valueSpec:E.source_geojson,style:I,styleSpec:E,objectElementValidators:ri}),c.cluster)for(var J in c.clusterProperties){var le=c.clusterProperties[J],ve=le[0],Ee=typeof ve=="string"?[ve,["accumulated"],["get",J]]:ve;L.push.apply(L,sr({key:d+"."+J+".map",value:le[1],expressionContext:"cluster-map"})),L.push.apply(L,sr({key:d+"."+J+".reduce",value:Ee,expressionContext:"cluster-reduce"}))}return L;case"video":return uu({key:d,value:c,valueSpec:E.source_video,style:I,styleSpec:E});case"image":return uu({key:d,value:c,valueSpec:E.source_image,style:I,styleSpec:E});case"canvas":return[new Ke(d,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return fn({key:d+".type",value:c.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:I,styleSpec:E})}}function dl(s){var c=s.value,d=s.styleSpec,E=d.light,I=s.style,L=[],B=mo(c);if(c===void 0)return L;if(B!=="object")return L.concat([new Ke("light",c,"object expected, "+B+" found")]);for(var J in c){var le=J.match(/^(.*)-transition$/);L=L.concat(le&&E[le[1]]&&E[le[1]].transition?ui({key:J,value:c[J],valueSpec:d.transition,style:I,styleSpec:d}):E[J]?ui({key:J,value:c[J],valueSpec:E[J],style:I,styleSpec:d}):[new Ke(J,c[J],'unknown property "'+J+'"')])}return L}var pl={"*":function(){return[]},array:Hl,boolean:function(s){var c=s.value,d=s.key,E=mo(c);return E!=="boolean"?[new Ke(d,c,"boolean expected, "+E+" found")]:[]},number:Pt,color:function(s){var c=s.key,d=s.value,E=mo(d);return E!=="string"?[new Ke(c,d,"color expected, "+E+" found")]:sn(d)===null?[new Ke(c,d,'color expected, "'+d+'" found')]:[]},constants:Ot,enum:fn,filter:Mu,function:gr,layer:hl,object:uu,source:oc,light:dl,string:Wa,formatted:function(s){return Wa(s).length===0?[]:sr(s)},resolvedImage:function(s){return Wa(s).length===0?[]:sr(s)}};function ui(s){var c=s.value,d=s.valueSpec,E=s.styleSpec;return d.expression&&Ou(jt(c))?gr(s):d.expression&&Us(Bt(c))?sr(s):d.type&&pl[d.type]?pl[d.type](s):uu(lr({},s,{valueSpec:d.type?E[d.type]:d}))}function Mi(s){var c=s.value,d=s.key,E=Wa(s);return E.length||(c.indexOf("{fontstack}")===-1&&E.push(new Ke(d,c,'"glyphs" url must include a "{fontstack}" token')),c.indexOf("{range}")===-1&&E.push(new Ke(d,c,'"glyphs" url must include a "{range}" token'))),E}function Ta(s,c){c===void 0&&(c=qe);var d=[];return d=d.concat(ui({key:"",value:s,valueSpec:c.$root,styleSpec:c,style:s,objectElementValidators:{glyphs:Mi,"*":function(){return[]}}})),s.constants&&(d=d.concat(Ot({key:"constants",value:s.constants,style:s,styleSpec:c}))),Df(d)}function Df(s){return[].concat(s).sort(function(c,d){return c.line-d.line})}function fu(s){return function(){for(var c=arguments,d=[],E=arguments.length;E--;)d[E]=c[E];return Df(s.apply(this,d))}}Ta.source=fu(oc),Ta.light=fu(dl),Ta.layer=fu(hl),Ta.filter=fu(Mu),Ta.paintProperty=fu(cu),Ta.layoutProperty=fu(Jn);var _c=Ta,Ad=_c.light,sf=_c.paintProperty,Lu=_c.layoutProperty;function Vl(s,c){var d=!1;if(c&&c.length)for(var E=0,I=c;E<I.length;E+=1)s.fire(new yt(new Error(I[E].message))),d=!0;return d}var Os=go;function go(s,c,d){var E=this.cells=[];if(s instanceof ArrayBuffer){this.arrayBuffer=s;var I=new Int32Array(this.arrayBuffer);s=I[0],this.d=(c=I[1])+2*(d=I[2]);for(var L=0;L<this.d*this.d;L++){var B=I[3+L],J=I[3+L+1];E.push(B===J?null:I.subarray(B,J))}var le=I[3+E.length+1];this.keys=I.subarray(I[3+E.length],le),this.bboxes=I.subarray(le),this.insert=this._insertReadonly}else{this.d=c+2*d;for(var ve=0;ve<this.d*this.d;ve++)E.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=s,this.padding=d,this.scale=c/s,this.uid=0;var Ee=d/c*s;this.min=-Ee,this.max=s+Ee}go.prototype.insert=function(s,c,d,E,I){this._forEachCell(c,d,E,I,this._insertCell,this.uid++),this.keys.push(s),this.bboxes.push(c),this.bboxes.push(d),this.bboxes.push(E),this.bboxes.push(I)},go.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},go.prototype._insertCell=function(s,c,d,E,I,L){this.cells[I].push(L)},go.prototype.query=function(s,c,d,E,I){var L=this.min,B=this.max;if(s<=L&&c<=L&&B<=d&&B<=E&&!I)return Array.prototype.slice.call(this.keys);var J=[];return this._forEachCell(s,c,d,E,this._queryCell,J,{},I),J},go.prototype._queryCell=function(s,c,d,E,I,L,B,J){var le=this.cells[I];if(le!==null)for(var ve=this.keys,Ee=this.bboxes,De=0;De<le.length;De++){var Le=le[De];if(B[Le]===void 0){var Ve=4*Le;(J?J(Ee[Ve+0],Ee[Ve+1],Ee[Ve+2],Ee[Ve+3]):s<=Ee[Ve+2]&&c<=Ee[Ve+3]&&d>=Ee[Ve+0]&&E>=Ee[Ve+1])?(B[Le]=!0,L.push(ve[Le])):B[Le]=!1}}},go.prototype._forEachCell=function(s,c,d,E,I,L,B,J){for(var le=this._convertToCellCoord(s),ve=this._convertToCellCoord(c),Ee=this._convertToCellCoord(d),De=this._convertToCellCoord(E),Le=le;Le<=Ee;Le++)for(var Ve=ve;Ve<=De;Ve++){var ut=this.d*Ve+Le;if((!J||J(this._convertFromCellCoord(Le),this._convertFromCellCoord(Ve),this._convertFromCellCoord(Le+1),this._convertFromCellCoord(Ve+1)))&&I.call(this,s,c,d,E,ut,L,B,J))return}},go.prototype._convertFromCellCoord=function(s){return(s-this.padding)/this.scale},go.prototype._convertToCellCoord=function(s){return Math.max(0,Math.min(this.d-1,Math.floor(s*this.scale)+this.padding))},go.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var s=this.cells,c=3+this.cells.length+1+1,d=0,E=0;E<this.cells.length;E++)d+=this.cells[E].length;var I=new Int32Array(c+d+this.keys.length+this.bboxes.length);I[0]=this.extent,I[1]=this.n,I[2]=this.padding;for(var L=c,B=0;B<s.length;B++){var J=s[B];I[3+B]=L,I.set(J,L),L+=J.length}return I[3+s.length]=L,I.set(this.keys,L),I[3+s.length+1]=L+=this.keys.length,I.set(this.bboxes,L),L+=this.bboxes.length,I.buffer};var lf=be.ImageData,mp=be.ImageBitmap,na={};function Zr(s,c,d){d===void 0&&(d={}),Object.defineProperty(c,"_classRegistryKey",{value:s,writeable:!1}),na[s]={klass:c,omit:d.omit||[],shallow:d.shallow||[]}}for(var vs in Zr("Object",Object),Os.serialize=function(s,c){var d=s.toArrayBuffer();return c&&c.push(d),{buffer:d}},Os.deserialize=function(s){return new Os(s.buffer)},Zr("Grid",Os),Zr("Color",Xn),Zr("Error",Error),Zr("ResolvedImage",Ci),Zr("StylePropertyFunction",gs),Zr("StyleExpression",lu,{omit:["_evaluator"]}),Zr("ZoomDependentExpression",of),Zr("ZoomConstantExpression",Uc),Zr("CompoundExpression",Oo,{omit:["_evaluate"]}),Sa)Sa[vs]._classRegistryKey||Zr("Expression_"+vs,Sa[vs]);function ac(s){return s&&typeof ArrayBuffer<"u"&&(s instanceof ArrayBuffer||s.constructor&&s.constructor.name==="ArrayBuffer")}function Pu(s){return mp&&s instanceof mp}function $l(s,c){if(s==null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||s instanceof Boolean||s instanceof Number||s instanceof String||s instanceof Date||s instanceof RegExp)return s;if(ac(s)||Pu(s))return c&&c.push(s),s;if(ArrayBuffer.isView(s)){var d=s;return c&&c.push(d.buffer),d}if(s instanceof lf)return c&&c.push(s.data.buffer),s;if(Array.isArray(s)){for(var E=[],I=0,L=s;I<L.length;I+=1)E.push($l(L[I],c));return E}if(typeof s=="object"){var B=s.constructor,J=B._classRegistryKey;if(!J)throw new Error("can't serialize object of unregistered class");var le=B.serialize?B.serialize(s,c):{};if(!B.serialize){for(var ve in s)if(s.hasOwnProperty(ve)&&!(na[J].omit.indexOf(ve)>=0)){var Ee=s[ve];le[ve]=na[J].shallow.indexOf(ve)>=0?Ee:$l(Ee,c)}s instanceof Error&&(le.message=s.message)}if(le.$name)throw new Error("$name property is reserved for worker serialization logic.");return J!=="Object"&&(le.$name=J),le}throw new Error("can't serialize object of type "+typeof s)}function Ra(s){if(s==null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||s instanceof Boolean||s instanceof Number||s instanceof String||s instanceof Date||s instanceof RegExp||ac(s)||Pu(s)||ArrayBuffer.isView(s)||s instanceof lf)return s;if(Array.isArray(s))return s.map(Ra);if(typeof s=="object"){var c=s.$name||"Object",d=na[c].klass;if(!d)throw new Error("can't deserialize unregistered class "+c);if(d.deserialize)return d.deserialize(s);for(var E=Object.create(d.prototype),I=0,L=Object.keys(s);I<L.length;I+=1){var B=L[I];if(B!=="$name"){var J=s[B];E[B]=na[c].shallow.indexOf(B)>=0?J:Ra(J)}}return E}throw new Error("can't deserialize object of type "+typeof s)}var uf=function(){this.first=!0};uf.prototype.update=function(s,c){var d=Math.floor(s);return this.first?(this.first=!1,this.lastIntegerZoom=d,this.lastIntegerZoomTime=0,this.lastZoom=s,this.lastFloorZoom=d,!0):(this.lastFloorZoom>d?(this.lastIntegerZoom=d+1,this.lastIntegerZoomTime=c):this.lastFloorZoom<d&&(this.lastIntegerZoom=d,this.lastIntegerZoomTime=c),s!==this.lastZoom&&(this.lastZoom=s,this.lastFloorZoom=d,!0))};var wr={"Latin-1 Supplement":function(s){return s>=128&&s<=255},Arabic:function(s){return s>=1536&&s<=1791},"Arabic Supplement":function(s){return s>=1872&&s<=1919},"Arabic Extended-A":function(s){return s>=2208&&s<=2303},"Hangul Jamo":function(s){return s>=4352&&s<=4607},"Unified Canadian Aboriginal Syllabics":function(s){return s>=5120&&s<=5759},Khmer:function(s){return s>=6016&&s<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(s){return s>=6320&&s<=6399},"General Punctuation":function(s){return s>=8192&&s<=8303},"Letterlike Symbols":function(s){return s>=8448&&s<=8527},"Number Forms":function(s){return s>=8528&&s<=8591},"Miscellaneous Technical":function(s){return s>=8960&&s<=9215},"Control Pictures":function(s){return s>=9216&&s<=9279},"Optical Character Recognition":function(s){return s>=9280&&s<=9311},"Enclosed Alphanumerics":function(s){return s>=9312&&s<=9471},"Geometric Shapes":function(s){return s>=9632&&s<=9727},"Miscellaneous Symbols":function(s){return s>=9728&&s<=9983},"Miscellaneous Symbols and Arrows":function(s){return s>=11008&&s<=11263},"CJK Radicals Supplement":function(s){return s>=11904&&s<=12031},"Kangxi Radicals":function(s){return s>=12032&&s<=12255},"Ideographic Description Characters":function(s){return s>=12272&&s<=12287},"CJK Symbols and Punctuation":function(s){return s>=12288&&s<=12351},Hiragana:function(s){return s>=12352&&s<=12447},Katakana:function(s){return s>=12448&&s<=12543},Bopomofo:function(s){return s>=12544&&s<=12591},"Hangul Compatibility Jamo":function(s){return s>=12592&&s<=12687},Kanbun:function(s){return s>=12688&&s<=12703},"Bopomofo Extended":function(s){return s>=12704&&s<=12735},"CJK Strokes":function(s){return s>=12736&&s<=12783},"Katakana Phonetic Extensions":function(s){return s>=12784&&s<=12799},"Enclosed CJK Letters and Months":function(s){return s>=12800&&s<=13055},"CJK Compatibility":function(s){return s>=13056&&s<=13311},"CJK Unified Ideographs Extension A":function(s){return s>=13312&&s<=19903},"Yijing Hexagram Symbols":function(s){return s>=19904&&s<=19967},"CJK Unified Ideographs":function(s){return s>=19968&&s<=40959},"Yi Syllables":function(s){return s>=40960&&s<=42127},"Yi Radicals":function(s){return s>=42128&&s<=42191},"Hangul Jamo Extended-A":function(s){return s>=43360&&s<=43391},"Hangul Syllables":function(s){return s>=44032&&s<=55215},"Hangul Jamo Extended-B":function(s){return s>=55216&&s<=55295},"Private Use Area":function(s){return s>=57344&&s<=63743},"CJK Compatibility Ideographs":function(s){return s>=63744&&s<=64255},"Arabic Presentation Forms-A":function(s){return s>=64336&&s<=65023},"Vertical Forms":function(s){return s>=65040&&s<=65055},"CJK Compatibility Forms":function(s){return s>=65072&&s<=65103},"Small Form Variants":function(s){return s>=65104&&s<=65135},"Arabic Presentation Forms-B":function(s){return s>=65136&&s<=65279},"Halfwidth and Fullwidth Forms":function(s){return s>=65280&&s<=65519}};function Fa(s){for(var c=0,d=s;c<d.length;c+=1)if(sc(d[c].charCodeAt(0)))return!0;return!1}function sc(s){return!(s!==746&&s!==747&&(s<4352||!(wr["Bopomofo Extended"](s)||wr.Bopomofo(s)||wr["CJK Compatibility Forms"](s)&&!(s>=65097&&s<=65103)||wr["CJK Compatibility Ideographs"](s)||wr["CJK Compatibility"](s)||wr["CJK Radicals Supplement"](s)||wr["CJK Strokes"](s)||!(!wr["CJK Symbols and Punctuation"](s)||s>=12296&&s<=12305||s>=12308&&s<=12319||s===12336)||wr["CJK Unified Ideographs Extension A"](s)||wr["CJK Unified Ideographs"](s)||wr["Enclosed CJK Letters and Months"](s)||wr["Hangul Compatibility Jamo"](s)||wr["Hangul Jamo Extended-A"](s)||wr["Hangul Jamo Extended-B"](s)||wr["Hangul Jamo"](s)||wr["Hangul Syllables"](s)||wr.Hiragana(s)||wr["Ideographic Description Characters"](s)||wr.Kanbun(s)||wr["Kangxi Radicals"](s)||wr["Katakana Phonetic Extensions"](s)||wr.Katakana(s)&&s!==12540||!(!wr["Halfwidth and Fullwidth Forms"](s)||s===65288||s===65289||s===65293||s>=65306&&s<=65310||s===65339||s===65341||s===65343||s>=65371&&s<=65503||s===65507||s>=65512&&s<=65519)||!(!wr["Small Form Variants"](s)||s>=65112&&s<=65118||s>=65123&&s<=65126)||wr["Unified Canadian Aboriginal Syllabics"](s)||wr["Unified Canadian Aboriginal Syllabics Extended"](s)||wr["Vertical Forms"](s)||wr["Yijing Hexagram Symbols"](s)||wr["Yi Syllables"](s)||wr["Yi Radicals"](s))))}function lc(s){return!(sc(s)||function(c){return!!(wr["Latin-1 Supplement"](c)&&(c===167||c===169||c===174||c===177||c===188||c===189||c===190||c===215||c===247)||wr["General Punctuation"](c)&&(c===8214||c===8224||c===8225||c===8240||c===8241||c===8251||c===8252||c===8258||c===8263||c===8264||c===8265||c===8273)||wr["Letterlike Symbols"](c)||wr["Number Forms"](c)||wr["Miscellaneous Technical"](c)&&(c>=8960&&c<=8967||c>=8972&&c<=8991||c>=8996&&c<=9e3||c===9003||c>=9085&&c<=9114||c>=9150&&c<=9165||c===9167||c>=9169&&c<=9179||c>=9186&&c<=9215)||wr["Control Pictures"](c)&&c!==9251||wr["Optical Character Recognition"](c)||wr["Enclosed Alphanumerics"](c)||wr["Geometric Shapes"](c)||wr["Miscellaneous Symbols"](c)&&!(c>=9754&&c<=9759)||wr["Miscellaneous Symbols and Arrows"](c)&&(c>=11026&&c<=11055||c>=11088&&c<=11097||c>=11192&&c<=11243)||wr["CJK Symbols and Punctuation"](c)||wr.Katakana(c)||wr["Private Use Area"](c)||wr["CJK Compatibility Forms"](c)||wr["Small Form Variants"](c)||wr["Halfwidth and Fullwidth Forms"](c)||c===8734||c===8756||c===8757||c>=9984&&c<=10087||c>=10102&&c<=10131||c===65532||c===65533)}(s))}function ns(s){return s>=1424&&s<=2303||wr["Arabic Presentation Forms-A"](s)||wr["Arabic Presentation Forms-B"](s)}function ha(s,c){return!(!c&&ns(s)||s>=2304&&s<=3583||s>=3840&&s<=4255||wr.Khmer(s))}function ml(s){for(var c=0,d=s;c<d.length;c+=1)if(ns(d[c].charCodeAt(0)))return!0;return!1}var gl=null,Va="unavailable",is=null,Of=function(s){s&&typeof s=="string"&&s.indexOf("NetworkError")>-1&&(Va="error"),gl&&gl(s)};function Ys(){hu.fire(new ot("pluginStateChange",{pluginStatus:Va,pluginURL:is}))}var hu=new mt,cf=function(){return Va},js=function(){if(Va!=="deferred"||!is)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Va="loading",Ys(),is&&La({url:is},function(s){s?Of(s):(Va="loaded",Ys())})},ys={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Va==="loaded"||ys.applyArabicShaping!=null},isLoading:function(){return Va==="loading"},setState:function(s){Va=s.pluginStatus,is=s.pluginURL},isParsed:function(){return ys.applyArabicShaping!=null&&ys.processBidirectionalText!=null&&ys.processStyledBidirectionalText!=null},getPluginURL:function(){return is}},ci=function(s,c){this.zoom=s,c?(this.now=c.now,this.fadeDuration=c.fadeDuration,this.zoomHistory=c.zoomHistory,this.transition=c.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new uf,this.transition={})};ci.prototype.isSupportedScript=function(s){return function(c,d){for(var E=0,I=c;E<I.length;E+=1)if(!ha(I[E].charCodeAt(0),d))return!1;return!0}(s,ys.isLoaded())},ci.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},ci.prototype.getCrossfadeParameters=function(){var s=this.zoom,c=s-Math.floor(s),d=this.crossFadingFactor();return s>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:c+(1-c)*d}:{fromScale:.5,toScale:1,t:1-(1-d)*c}};var wc=function(s,c){this.property=s,this.value=c,this.expression=function(d,E){if(Ou(d))return new gs(d,E);if(Us(d)){var I=nh(d,E);if(I.result==="error")throw new Error(I.value.map(function(B){return B.key+": "+B.message}).join(", "));return I.value}var L=d;return typeof d=="string"&&E.type==="color"&&(L=Xn.parse(d)),{kind:"constant",evaluate:function(){return L}}}(c===void 0?s.specification.default:c,s.specification)};wc.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},wc.prototype.possiblyEvaluate=function(s,c,d){return this.property.possiblyEvaluate(this,s,c,d)};var Ru=function(s){this.property=s,this.value=new wc(s,void 0)};Ru.prototype.transitioned=function(s,c){return new Io(this.property,this.value,c,G({},s.transition,this.transition),s.now)},Ru.prototype.untransitioned=function(){return new Io(this.property,this.value,null,{},0)};var Zi=function(s){this._properties=s,this._values=Object.create(s.defaultTransitionablePropertyValues)};Zi.prototype.getValue=function(s){return Ct(this._values[s].value.value)},Zi.prototype.setValue=function(s,c){this._values.hasOwnProperty(s)||(this._values[s]=new Ru(this._values[s].property)),this._values[s].value=new wc(this._values[s].property,c===null?void 0:Ct(c))},Zi.prototype.getTransition=function(s){return Ct(this._values[s].transition)},Zi.prototype.setTransition=function(s,c){this._values.hasOwnProperty(s)||(this._values[s]=new Ru(this._values[s].property)),this._values[s].transition=Ct(c)||void 0},Zi.prototype.serialize=function(){for(var s={},c=0,d=Object.keys(this._values);c<d.length;c+=1){var E=d[c],I=this.getValue(E);I!==void 0&&(s[E]=I);var L=this.getTransition(E);L!==void 0&&(s[E+"-transition"]=L)}return s},Zi.prototype.transitioned=function(s,c){for(var d=new da(this._properties),E=0,I=Object.keys(this._values);E<I.length;E+=1){var L=I[E];d._values[L]=this._values[L].transitioned(s,c._values[L])}return d},Zi.prototype.untransitioned=function(){for(var s=new da(this._properties),c=0,d=Object.keys(this._values);c<d.length;c+=1){var E=d[c];s._values[E]=this._values[E].untransitioned()}return s};var Io=function(s,c,d,E,I){this.property=s,this.value=c,this.begin=I+E.delay||0,this.end=this.begin+E.duration||0,s.specification.transition&&(E.delay||E.duration)&&(this.prior=d)};Io.prototype.possiblyEvaluate=function(s,c,d){var E=s.now||0,I=this.value.possiblyEvaluate(s,c,d),L=this.prior;if(L){if(E>this.end)return this.prior=null,I;if(this.value.isDataDriven())return this.prior=null,I;if(E<this.begin)return L.possiblyEvaluate(s,c,d);var B=(E-this.begin)/(this.end-this.begin);return this.property.interpolate(L.possiblyEvaluate(s,c,d),I,function(J){if(J<=0)return 0;if(J>=1)return 1;var le=J*J,ve=le*J;return 4*(J<.5?ve:3*(J-le)+ve-.75)}(B))}return I};var da=function(s){this._properties=s,this._values=Object.create(s.defaultTransitioningPropertyValues)};da.prototype.possiblyEvaluate=function(s,c,d){for(var E=new Ea(this._properties),I=0,L=Object.keys(this._values);I<L.length;I+=1){var B=L[I];E._values[B]=this._values[B].possiblyEvaluate(s,c,d)}return E},da.prototype.hasTransition=function(){for(var s=0,c=Object.keys(this._values);s<c.length;s+=1)if(this._values[c[s]].prior)return!0;return!1};var Be=function(s){this._properties=s,this._values=Object.create(s.defaultPropertyValues)};Be.prototype.getValue=function(s){return Ct(this._values[s].value)},Be.prototype.setValue=function(s,c){this._values[s]=new wc(this._values[s].property,c===null?void 0:Ct(c))},Be.prototype.serialize=function(){for(var s={},c=0,d=Object.keys(this._values);c<d.length;c+=1){var E=d[c],I=this.getValue(E);I!==void 0&&(s[E]=I)}return s},Be.prototype.possiblyEvaluate=function(s,c,d){for(var E=new Ea(this._properties),I=0,L=Object.keys(this._values);I<L.length;I+=1){var B=L[I];E._values[B]=this._values[B].possiblyEvaluate(s,c,d)}return E};var yi=function(s,c,d){this.property=s,this.value=c,this.parameters=d};yi.prototype.isConstant=function(){return this.value.kind==="constant"},yi.prototype.constantOr=function(s){return this.value.kind==="constant"?this.value.value:s},yi.prototype.evaluate=function(s,c,d,E){return this.property.evaluate(this.value,this.parameters,s,c,d,E)};var Ea=function(s){this._properties=s,this._values=Object.create(s.defaultPossiblyEvaluatedValues)};Ea.prototype.get=function(s){return this._values[s]};var Rr=function(s){this.specification=s};Rr.prototype.possiblyEvaluate=function(s,c){return s.expression.evaluate(c)},Rr.prototype.interpolate=function(s,c,d){var E=kf[this.specification.type];return E?E(s,c,d):s};var Sr=function(s,c){this.specification=s,this.overrides=c};Sr.prototype.possiblyEvaluate=function(s,c,d,E){return new yi(this,s.expression.kind==="constant"||s.expression.kind==="camera"?{kind:"constant",value:s.expression.evaluate(c,null,{},d,E)}:s.expression,c)},Sr.prototype.interpolate=function(s,c,d){if(s.value.kind!=="constant"||c.value.kind!=="constant")return s;if(s.value.value===void 0||c.value.value===void 0)return new yi(this,{kind:"constant",value:void 0},s.parameters);var E=kf[this.specification.type];return E?new yi(this,{kind:"constant",value:E(s.value.value,c.value.value,d)},s.parameters):s},Sr.prototype.evaluate=function(s,c,d,E,I,L){return s.kind==="constant"?s.value:s.evaluate(c,d,E,I,L)};var Dd=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.possiblyEvaluate=function(d,E,I,L){if(d.value===void 0)return new yi(this,{kind:"constant",value:void 0},E);if(d.expression.kind==="constant"){var B=d.expression.evaluate(E,null,{},I,L),J=d.property.specification.type==="resolvedImage"&&typeof B!="string"?B.name:B,le=this._calculate(J,J,J,E);return new yi(this,{kind:"constant",value:le},E)}if(d.expression.kind==="camera"){var ve=this._calculate(d.expression.evaluate({zoom:E.zoom-1}),d.expression.evaluate({zoom:E.zoom}),d.expression.evaluate({zoom:E.zoom+1}),E);return new yi(this,{kind:"constant",value:ve},E)}return new yi(this,d.expression,E)},c.prototype.evaluate=function(d,E,I,L,B,J){if(d.kind==="source"){var le=d.evaluate(E,I,L,B,J);return this._calculate(le,le,le,E)}return d.kind==="composite"?this._calculate(d.evaluate({zoom:Math.floor(E.zoom)-1},I,L),d.evaluate({zoom:Math.floor(E.zoom)},I,L),d.evaluate({zoom:Math.floor(E.zoom)+1},I,L),E):d.value},c.prototype._calculate=function(d,E,I,L){return L.zoom>L.zoomHistory.lastIntegerZoom?{from:d,to:E}:{from:I,to:E}},c.prototype.interpolate=function(d){return d},c}(Sr),bs=function(s){this.specification=s};bs.prototype.possiblyEvaluate=function(s,c,d,E){if(s.value!==void 0){if(s.expression.kind==="constant"){var I=s.expression.evaluate(c,null,{},d,E);return this._calculate(I,I,I,c)}return this._calculate(s.expression.evaluate(new ci(Math.floor(c.zoom-1),c)),s.expression.evaluate(new ci(Math.floor(c.zoom),c)),s.expression.evaluate(new ci(Math.floor(c.zoom+1),c)),c)}},bs.prototype._calculate=function(s,c,d,E){return E.zoom>E.zoomHistory.lastIntegerZoom?{from:s,to:c}:{from:d,to:c}},bs.prototype.interpolate=function(s){return s};var du=function(s){this.specification=s};du.prototype.possiblyEvaluate=function(s,c,d,E){return!!s.expression.evaluate(c,null,{},d,E)},du.prototype.interpolate=function(){return!1};var ia=function(s){for(var c in this.properties=s,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],s){var d=s[c];d.specification.overridable&&this.overridableProperties.push(c);var E=this.defaultPropertyValues[c]=new wc(d,void 0),I=this.defaultTransitionablePropertyValues[c]=new Ru(d);this.defaultTransitioningPropertyValues[c]=I.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=E.possiblyEvaluate({})}};Zr("DataDrivenProperty",Sr),Zr("DataConstantProperty",Rr),Zr("CrossFadedDataDrivenProperty",Dd),Zr("CrossFadedProperty",bs),Zr("ColorRampProperty",du);var Fu=function(s){function c(d,E){if(s.call(this),this.id=d.id,this.type=d.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},d.type!=="custom"&&(this.metadata=(d=d).metadata,this.minzoom=d.minzoom,this.maxzoom=d.maxzoom,d.type!=="background"&&(this.source=d.source,this.sourceLayer=d["source-layer"],this.filter=d.filter),E.layout&&(this._unevaluatedLayout=new Be(E.layout)),E.paint)){for(var I in this._transitionablePaint=new Zi(E.paint),d.paint)this.setPaintProperty(I,d.paint[I],{validate:!1});for(var L in d.layout)this.setLayoutProperty(L,d.layout[L],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ea(E.paint)}}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},c.prototype.getLayoutProperty=function(d){return d==="visibility"?this.visibility:this._unevaluatedLayout.getValue(d)},c.prototype.setLayoutProperty=function(d,E,I){I===void 0&&(I={}),E!=null&&this._validate(Lu,"layers."+this.id+".layout."+d,d,E,I)||(d!=="visibility"?this._unevaluatedLayout.setValue(d,E):this.visibility=E)},c.prototype.getPaintProperty=function(d){return Ue(d,"-transition")?this._transitionablePaint.getTransition(d.slice(0,-11)):this._transitionablePaint.getValue(d)},c.prototype.setPaintProperty=function(d,E,I){if(I===void 0&&(I={}),E!=null&&this._validate(sf,"layers."+this.id+".paint."+d,d,E,I))return!1;if(Ue(d,"-transition"))return this._transitionablePaint.setTransition(d.slice(0,-11),E||void 0),!1;var L=this._transitionablePaint._values[d],B=L.property.specification["property-type"]==="cross-faded-data-driven",J=L.value.isDataDriven(),le=L.value;this._transitionablePaint.setValue(d,E),this._handleSpecialPaintPropertyUpdate(d);var ve=this._transitionablePaint._values[d].value;return ve.isDataDriven()||J||B||this._handleOverridablePaintPropertyUpdate(d,le,ve)},c.prototype._handleSpecialPaintPropertyUpdate=function(d){},c.prototype._handleOverridablePaintPropertyUpdate=function(d,E,I){return!1},c.prototype.isHidden=function(d){return!!(this.minzoom&&d<this.minzoom)||!!(this.maxzoom&&d>=this.maxzoom)||this.visibility==="none"},c.prototype.updateTransitions=function(d){this._transitioningPaint=this._transitionablePaint.transitioned(d,this._transitioningPaint)},c.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},c.prototype.recalculate=function(d,E){d.getCrossfadeParameters&&(this._crossfadeParameters=d.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(d,void 0,E)),this.paint=this._transitioningPaint.possiblyEvaluate(d,void 0,E)},c.prototype.serialize=function(){var d={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(d.layout=d.layout||{},d.layout.visibility=this.visibility),Qe(d,function(E,I){return!(E===void 0||I==="layout"&&!Object.keys(E).length||I==="paint"&&!Object.keys(E).length)})},c.prototype._validate=function(d,E,I,L,B){return B===void 0&&(B={}),(!B||B.validate!==!1)&&Vl(this,d.call(_c,{key:E,layerType:this.type,objectKey:I,value:L,styleSpec:qe,style:{glyphs:!0,sprite:!0}}))},c.prototype.is3D=function(){return!1},c.prototype.isTileClipped=function(){return!1},c.prototype.hasOffscreenPass=function(){return!1},c.prototype.resize=function(){},c.prototype.isStateDependent=function(){for(var d in this.paint._values){var E=this.paint.get(d);if(E instanceof yi&&bc(E.property.specification)&&(E.value.kind==="source"||E.value.kind==="composite")&&E.value.isStateDependent)return!0}return!1},c}(mt),Hh={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},If=function(s,c){this._structArray=s,this._pos1=c*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Li=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function os(s,c){c===void 0&&(c=1);var d=0,E=0;return{members:s.map(function(I){var L=Hh[I.type].BYTES_PER_ELEMENT,B=d=pu(d,Math.max(c,L)),J=I.components||1;return E=Math.max(E,L),d+=L*J,{name:I.name,type:I.type,components:J,offset:B}}),size:pu(d,Math.max(E,c)),alignment:c}}function pu(s,c){return Math.ceil(s/c)*c}Li.serialize=function(s,c){return s._trim(),c&&(s.isTransferred=!0,c.push(s.arrayBuffer)),{length:s.length,arrayBuffer:s.arrayBuffer}},Li.deserialize=function(s){var c=Object.create(this.prototype);return c.arrayBuffer=s.arrayBuffer,c.length=s.length,c.capacity=s.arrayBuffer.byteLength/c.bytesPerElement,c._refreshViews(),c},Li.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Li.prototype.clear=function(){this.length=0},Li.prototype.resize=function(s){this.reserve(s),this.length=s},Li.prototype.reserve=function(s){if(s>this.capacity){this.capacity=Math.max(s,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var c=this.uint8;this._refreshViews(),c&&this.uint8.set(c)}},Li.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var uc=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,E){var I=this.length;return this.resize(I+1),this.emplace(I,d,E)},c.prototype.emplace=function(d,E,I){var L=2*d;return this.int16[L+0]=E,this.int16[L+1]=I,d},c}(Li);uc.prototype.bytesPerElement=4,Zr("StructArrayLayout2i4",uc);var Wh=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,E,I,L){var B=this.length;return this.resize(B+1),this.emplace(B,d,E,I,L)},c.prototype.emplace=function(d,E,I,L,B){var J=4*d;return this.int16[J+0]=E,this.int16[J+1]=I,this.int16[J+2]=L,this.int16[J+3]=B,d},c}(Li);Wh.prototype.bytesPerElement=8,Zr("StructArrayLayout4i8",Wh);var Gl=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,E,I,L,B,J){var le=this.length;return this.resize(le+1),this.emplace(le,d,E,I,L,B,J)},c.prototype.emplace=function(d,E,I,L,B,J,le){var ve=6*d;return this.int16[ve+0]=E,this.int16[ve+1]=I,this.int16[ve+2]=L,this.int16[ve+3]=B,this.int16[ve+4]=J,this.int16[ve+5]=le,d},c}(Li);Gl.prototype.bytesPerElement=12,Zr("StructArrayLayout2i4i12",Gl);var Zs=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,E,I,L,B,J){var le=this.length;return this.resize(le+1),this.emplace(le,d,E,I,L,B,J)},c.prototype.emplace=function(d,E,I,L,B,J,le){var ve=4*d,Ee=8*d;return this.int16[ve+0]=E,this.int16[ve+1]=I,this.uint8[Ee+4]=L,this.uint8[Ee+5]=B,this.uint8[Ee+6]=J,this.uint8[Ee+7]=le,d},c}(Li);Zs.prototype.bytesPerElement=8,Zr("StructArrayLayout2i4ub8",Zs);var Sc=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,E){var I=this.length;return this.resize(I+1),this.emplace(I,d,E)},c.prototype.emplace=function(d,E,I){var L=2*d;return this.float32[L+0]=E,this.float32[L+1]=I,d},c}(Li);Sc.prototype.bytesPerElement=8,Zr("StructArrayLayout2f8",Sc);var Xi=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,E,I,L,B,J,le,ve,Ee,De){var Le=this.length;return this.resize(Le+1),this.emplace(Le,d,E,I,L,B,J,le,ve,Ee,De)},c.prototype.emplace=function(d,E,I,L,B,J,le,ve,Ee,De,Le){var Ve=10*d;return this.uint16[Ve+0]=E,this.uint16[Ve+1]=I,this.uint16[Ve+2]=L,this.uint16[Ve+3]=B,this.uint16[Ve+4]=J,this.uint16[Ve+5]=le,this.uint16[Ve+6]=ve,this.uint16[Ve+7]=Ee,this.uint16[Ve+8]=De,this.uint16[Ve+9]=Le,d},c}(Li);Xi.prototype.bytesPerElement=20,Zr("StructArrayLayout10ui20",Xi);var Vh=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,E,I,L,B,J,le,ve,Ee,De,Le,Ve){var ut=this.length;return this.resize(ut+1),this.emplace(ut,d,E,I,L,B,J,le,ve,Ee,De,Le,Ve)},c.prototype.emplace=function(d,E,I,L,B,J,le,ve,Ee,De,Le,Ve,ut){var ct=12*d;return this.int16[ct+0]=E,this.int16[ct+1]=I,this.int16[ct+2]=L,this.int16[ct+3]=B,this.uint16[ct+4]=J,this.uint16[ct+5]=le,this.uint16[ct+6]=ve,this.uint16[ct+7]=Ee,this.int16[ct+8]=De,this.int16[ct+9]=Le,this.int16[ct+10]=Ve,this.int16[ct+11]=ut,d},c}(Li);Vh.prototype.bytesPerElement=24,Zr("StructArrayLayout4i4ui4i24",Vh);var jc=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,E,I){var L=this.length;return this.resize(L+1),this.emplace(L,d,E,I)},c.prototype.emplace=function(d,E,I,L){var B=3*d;return this.float32[B+0]=E,this.float32[B+1]=I,this.float32[B+2]=L,d},c}(Li);jc.prototype.bytesPerElement=12,Zr("StructArrayLayout3f12",jc);var Kl=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d){var E=this.length;return this.resize(E+1),this.emplace(E,d)},c.prototype.emplace=function(d,E){return this.uint32[1*d+0]=E,d},c}(Li);Kl.prototype.bytesPerElement=4,Zr("StructArrayLayout1ul4",Kl);var Xs=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,E,I,L,B,J,le,ve,Ee){var De=this.length;return this.resize(De+1),this.emplace(De,d,E,I,L,B,J,le,ve,Ee)},c.prototype.emplace=function(d,E,I,L,B,J,le,ve,Ee,De){var Le=10*d,Ve=5*d;return this.int16[Le+0]=E,this.int16[Le+1]=I,this.int16[Le+2]=L,this.int16[Le+3]=B,this.int16[Le+4]=J,this.int16[Le+5]=le,this.uint32[Ve+3]=ve,this.uint16[Le+8]=Ee,this.uint16[Le+9]=De,d},c}(Li);Xs.prototype.bytesPerElement=20,Zr("StructArrayLayout6i1ul2ui20",Xs);var Fi=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,E,I,L,B,J){var le=this.length;return this.resize(le+1),this.emplace(le,d,E,I,L,B,J)},c.prototype.emplace=function(d,E,I,L,B,J,le){var ve=6*d;return this.int16[ve+0]=E,this.int16[ve+1]=I,this.int16[ve+2]=L,this.int16[ve+3]=B,this.int16[ve+4]=J,this.int16[ve+5]=le,d},c}(Li);Fi.prototype.bytesPerElement=12,Zr("StructArrayLayout2i2i2i12",Fi);var pa=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,E,I,L,B){var J=this.length;return this.resize(J+1),this.emplace(J,d,E,I,L,B)},c.prototype.emplace=function(d,E,I,L,B,J){var le=4*d,ve=8*d;return this.float32[le+0]=E,this.float32[le+1]=I,this.float32[le+2]=L,this.int16[ve+6]=B,this.int16[ve+7]=J,d},c}(Li);pa.prototype.bytesPerElement=16,Zr("StructArrayLayout2f1f2i16",pa);var qa=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,E,I,L){var B=this.length;return this.resize(B+1),this.emplace(B,d,E,I,L)},c.prototype.emplace=function(d,E,I,L,B){var J=12*d,le=3*d;return this.uint8[J+0]=E,this.uint8[J+1]=I,this.float32[le+1]=L,this.float32[le+2]=B,d},c}(Li);qa.prototype.bytesPerElement=12,Zr("StructArrayLayout2ub2f12",qa);var oi=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,E,I){var L=this.length;return this.resize(L+1),this.emplace(L,d,E,I)},c.prototype.emplace=function(d,E,I,L){var B=3*d;return this.uint16[B+0]=E,this.uint16[B+1]=I,this.uint16[B+2]=L,d},c}(Li);oi.prototype.bytesPerElement=6,Zr("StructArrayLayout3ui6",oi);var Mo=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,E,I,L,B,J,le,ve,Ee,De,Le,Ve,ut,ct,xt,gt,Lt){var Kt=this.length;return this.resize(Kt+1),this.emplace(Kt,d,E,I,L,B,J,le,ve,Ee,De,Le,Ve,ut,ct,xt,gt,Lt)},c.prototype.emplace=function(d,E,I,L,B,J,le,ve,Ee,De,Le,Ve,ut,ct,xt,gt,Lt,Kt){var Qt=24*d,ar=12*d,pr=48*d;return this.int16[Qt+0]=E,this.int16[Qt+1]=I,this.uint16[Qt+2]=L,this.uint16[Qt+3]=B,this.uint32[ar+2]=J,this.uint32[ar+3]=le,this.uint32[ar+4]=ve,this.uint16[Qt+10]=Ee,this.uint16[Qt+11]=De,this.uint16[Qt+12]=Le,this.float32[ar+7]=Ve,this.float32[ar+8]=ut,this.uint8[pr+36]=ct,this.uint8[pr+37]=xt,this.uint8[pr+38]=gt,this.uint32[ar+10]=Lt,this.int16[Qt+22]=Kt,d},c}(Li);Mo.prototype.bytesPerElement=48,Zr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Mo);var mu=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,E,I,L,B,J,le,ve,Ee,De,Le,Ve,ut,ct,xt,gt,Lt,Kt,Qt,ar,pr,Ar,Hr,wn,Xr,An,tn,hi){var zn=this.length;return this.resize(zn+1),this.emplace(zn,d,E,I,L,B,J,le,ve,Ee,De,Le,Ve,ut,ct,xt,gt,Lt,Kt,Qt,ar,pr,Ar,Hr,wn,Xr,An,tn,hi)},c.prototype.emplace=function(d,E,I,L,B,J,le,ve,Ee,De,Le,Ve,ut,ct,xt,gt,Lt,Kt,Qt,ar,pr,Ar,Hr,wn,Xr,An,tn,hi,zn){var pn=34*d,Ei=17*d;return this.int16[pn+0]=E,this.int16[pn+1]=I,this.int16[pn+2]=L,this.int16[pn+3]=B,this.int16[pn+4]=J,this.int16[pn+5]=le,this.int16[pn+6]=ve,this.int16[pn+7]=Ee,this.uint16[pn+8]=De,this.uint16[pn+9]=Le,this.uint16[pn+10]=Ve,this.uint16[pn+11]=ut,this.uint16[pn+12]=ct,this.uint16[pn+13]=xt,this.uint16[pn+14]=gt,this.uint16[pn+15]=Lt,this.uint16[pn+16]=Kt,this.uint16[pn+17]=Qt,this.uint16[pn+18]=ar,this.uint16[pn+19]=pr,this.uint16[pn+20]=Ar,this.uint16[pn+21]=Hr,this.uint16[pn+22]=wn,this.uint32[Ei+12]=Xr,this.float32[Ei+13]=An,this.float32[Ei+14]=tn,this.float32[Ei+15]=hi,this.float32[Ei+16]=zn,d},c}(Li);mu.prototype.bytesPerElement=68,Zr("StructArrayLayout8i15ui1ul4f68",mu);var Js=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d){var E=this.length;return this.resize(E+1),this.emplace(E,d)},c.prototype.emplace=function(d,E){return this.float32[1*d+0]=E,d},c}(Li);Js.prototype.bytesPerElement=4,Zr("StructArrayLayout1f4",Js);var gu=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,E,I){var L=this.length;return this.resize(L+1),this.emplace(L,d,E,I)},c.prototype.emplace=function(d,E,I,L){var B=3*d;return this.int16[B+0]=E,this.int16[B+1]=I,this.int16[B+2]=L,d},c}(Li);gu.prototype.bytesPerElement=6,Zr("StructArrayLayout3i6",gu);var Mf=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,E,I){var L=this.length;return this.resize(L+1),this.emplace(L,d,E,I)},c.prototype.emplace=function(d,E,I,L){var B=4*d;return this.uint32[2*d+0]=E,this.uint16[B+2]=I,this.uint16[B+3]=L,d},c}(Li);Mf.prototype.bytesPerElement=8,Zr("StructArrayLayout1ul2ui8",Mf);var Tc=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,E){var I=this.length;return this.resize(I+1),this.emplace(I,d,E)},c.prototype.emplace=function(d,E,I){var L=2*d;return this.uint16[L+0]=E,this.uint16[L+1]=I,d},c}(Li);Tc.prototype.bytesPerElement=4,Zr("StructArrayLayout2ui4",Tc);var $h=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d){var E=this.length;return this.resize(E+1),this.emplace(E,d)},c.prototype.emplace=function(d,E){return this.uint16[1*d+0]=E,d},c}(Li);$h.prototype.bytesPerElement=2,Zr("StructArrayLayout1ui2",$h);var Hc=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},c.prototype.emplaceBack=function(d,E,I,L){var B=this.length;return this.resize(B+1),this.emplace(B,d,E,I,L)},c.prototype.emplace=function(d,E,I,L,B){var J=4*d;return this.float32[J+0]=E,this.float32[J+1]=I,this.float32[J+2]=L,this.float32[J+3]=B,d},c}(Li);Hc.prototype.bytesPerElement=16,Zr("StructArrayLayout4f16",Hc);var m=function(s){function c(){s.apply(this,arguments)}s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c;var d={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return d.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},d.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},d.x1.get=function(){return this._structArray.int16[this._pos2+2]},d.y1.get=function(){return this._structArray.int16[this._pos2+3]},d.x2.get=function(){return this._structArray.int16[this._pos2+4]},d.y2.get=function(){return this._structArray.int16[this._pos2+5]},d.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},d.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},d.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},d.anchorPoint.get=function(){return new we(this.anchorPointX,this.anchorPointY)},Object.defineProperties(c.prototype,d),c}(If);m.prototype.size=20;var x=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.get=function(d){return new m(this,d)},c}(Xs);Zr("CollisionBoxArray",x);var y=function(s){function c(){s.apply(this,arguments)}s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c;var d={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return d.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},d.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},d.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},d.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},d.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},d.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},d.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},d.segment.get=function(){return this._structArray.uint16[this._pos2+10]},d.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},d.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},d.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},d.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},d.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},d.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},d.placedOrientation.set=function(E){this._structArray.uint8[this._pos1+37]=E},d.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},d.hidden.set=function(E){this._structArray.uint8[this._pos1+38]=E},d.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},d.crossTileID.set=function(E){this._structArray.uint32[this._pos4+10]=E},d.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(c.prototype,d),c}(If);y.prototype.size=48;var k=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.get=function(d){return new y(this,d)},c}(Mo);Zr("PlacedSymbolArray",k);var P=function(s){function c(){s.apply(this,arguments)}s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c;var d={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return d.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},d.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},d.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},d.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},d.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},d.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},d.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},d.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},d.key.get=function(){return this._structArray.uint16[this._pos2+8]},d.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},d.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},d.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},d.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},d.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},d.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},d.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},d.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},d.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},d.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},d.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},d.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},d.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},d.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},d.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},d.crossTileID.set=function(E){this._structArray.uint32[this._pos4+12]=E},d.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},d.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},d.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},d.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(c.prototype,d),c}(If);P.prototype.size=68;var H=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.get=function(d){return new P(this,d)},c}(mu);Zr("SymbolInstanceArray",H);var X=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.getoffsetX=function(d){return this.float32[1*d+0]},c}(Js);Zr("GlyphOffsetArray",X);var ae=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.getx=function(d){return this.int16[3*d+0]},c.prototype.gety=function(d){return this.int16[3*d+1]},c.prototype.gettileUnitDistanceFromAnchor=function(d){return this.int16[3*d+2]},c}(gu);Zr("SymbolLineVertexArray",ae);var xe=function(s){function c(){s.apply(this,arguments)}s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c;var d={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return d.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},d.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},d.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(c.prototype,d),c}(If);xe.prototype.size=8;var Oe=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.get=function(d){return new xe(this,d)},c}(Mf);Zr("FeatureIndexArray",Oe);var He=os([{name:"a_pos",components:2,type:"Int16"}],4).members,We=function(s){s===void 0&&(s=[]),this.segments=s};function Ze(s,c){return 256*(s=R(Math.floor(s),0,255))+R(Math.floor(c),0,255)}We.prototype.prepareSegment=function(s,c,d,E){var I=this.segments[this.segments.length-1];return s>We.MAX_VERTEX_ARRAY_LENGTH&&Ht("Max vertices per segment is "+We.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+s),(!I||I.vertexLength+s>We.MAX_VERTEX_ARRAY_LENGTH||I.sortKey!==E)&&(I={vertexOffset:c.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},E!==void 0&&(I.sortKey=E),this.segments.push(I)),I},We.prototype.get=function(){return this.segments},We.prototype.destroy=function(){for(var s=0,c=this.segments;s<c.length;s+=1){var d=c[s];for(var E in d.vaos)d.vaos[E].destroy()}},We.simpleSegment=function(s,c,d,E){return new We([{vertexOffset:s,primitiveOffset:c,vertexLength:d,primitiveLength:E,vaos:{},sortKey:0}])},We.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Zr("SegmentVector",We);var ht=os([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),lt=ge(function(s){s.exports=function(c,d){var E,I,L,B,J,le,ve,Ee;for(I=c.length-(E=3&c.length),L=d,J=3432918353,le=461845907,Ee=0;Ee<I;)ve=255&c.charCodeAt(Ee)|(255&c.charCodeAt(++Ee))<<8|(255&c.charCodeAt(++Ee))<<16|(255&c.charCodeAt(++Ee))<<24,++Ee,L=27492+(65535&(B=5*(65535&(L=(L^=ve=(65535&(ve=(ve=(65535&ve)*J+(((ve>>>16)*J&65535)<<16)&4294967295)<<15|ve>>>17))*le+(((ve>>>16)*le&65535)<<16)&4294967295)<<13|L>>>19))+((5*(L>>>16)&65535)<<16)&4294967295))+((58964+(B>>>16)&65535)<<16);switch(ve=0,E){case 3:ve^=(255&c.charCodeAt(Ee+2))<<16;case 2:ve^=(255&c.charCodeAt(Ee+1))<<8;case 1:L^=ve=(65535&(ve=(ve=(65535&(ve^=255&c.charCodeAt(Ee)))*J+(((ve>>>16)*J&65535)<<16)&4294967295)<<15|ve>>>17))*le+(((ve>>>16)*le&65535)<<16)&4294967295}return L^=c.length,L=2246822507*(65535&(L^=L>>>16))+((2246822507*(L>>>16)&65535)<<16)&4294967295,L=3266489909*(65535&(L^=L>>>13))+((3266489909*(L>>>16)&65535)<<16)&4294967295,(L^=L>>>16)>>>0}}),vt=ge(function(s){s.exports=function(c,d){for(var E,I=c.length,L=d^I,B=0;I>=4;)E=1540483477*(65535&(E=255&c.charCodeAt(B)|(255&c.charCodeAt(++B))<<8|(255&c.charCodeAt(++B))<<16|(255&c.charCodeAt(++B))<<24))+((1540483477*(E>>>16)&65535)<<16),L=1540483477*(65535&L)+((1540483477*(L>>>16)&65535)<<16)^(E=1540483477*(65535&(E^=E>>>24))+((1540483477*(E>>>16)&65535)<<16)),I-=4,++B;switch(I){case 3:L^=(255&c.charCodeAt(B+2))<<16;case 2:L^=(255&c.charCodeAt(B+1))<<8;case 1:L=1540483477*(65535&(L^=255&c.charCodeAt(B)))+((1540483477*(L>>>16)&65535)<<16)}return L=1540483477*(65535&(L^=L>>>13))+((1540483477*(L>>>16)&65535)<<16),(L^=L>>>15)>>>0}}),nt=lt,bt=vt;nt.murmur3=lt,nt.murmur2=bt;var St=function(){this.ids=[],this.positions=[],this.indexed=!1};St.prototype.add=function(s,c,d,E){this.ids.push(rr(s)),this.positions.push(c,d,E)},St.prototype.getPositions=function(s){for(var c=rr(s),d=0,E=this.ids.length-1;d<E;){var I=d+E>>1;this.ids[I]>=c?E=I:d=I+1}for(var L=[];this.ids[d]===c;)L.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return L},St.serialize=function(s,c){var d=new Float64Array(s.ids),E=new Uint32Array(s.positions);return function I(L,B,J,le){for(;J<le;){for(var ve=L[J+le>>1],Ee=J-1,De=le+1;;){do Ee++;while(L[Ee]<ve);do De--;while(L[De]>ve);if(Ee>=De)break;Jt(L,Ee,De),Jt(B,3*Ee,3*De),Jt(B,3*Ee+1,3*De+1),Jt(B,3*Ee+2,3*De+2)}De-J<le-De?(I(L,B,J,De),J=De+1):(I(L,B,De+1,le),le=De)}}(d,E,0,d.length-1),c&&c.push(d.buffer,E.buffer),{ids:d,positions:E}},St.deserialize=function(s){var c=new St;return c.ids=s.ids,c.positions=s.positions,c.indexed=!0,c};var Ft=Math.pow(2,53)-1;function rr(s){var c=+s;return!isNaN(c)&&c<=Ft?c:nt(String(s))}function Jt(s,c,d){var E=s[c];s[c]=s[d],s[d]=E}Zr("FeaturePositionMap",St);var Zt=function(s,c){this.gl=s.gl,this.location=c},mr=function(s){function c(d,E){s.call(this,d,E),this.current=0}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.set=function(d){this.current!==d&&(this.current=d,this.gl.uniform1i(this.location,d))},c}(Zt),yr=function(s){function c(d,E){s.call(this,d,E),this.current=0}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.set=function(d){this.current!==d&&(this.current=d,this.gl.uniform1f(this.location,d))},c}(Zt),br=function(s){function c(d,E){s.call(this,d,E),this.current=[0,0]}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.set=function(d){d[0]===this.current[0]&&d[1]===this.current[1]||(this.current=d,this.gl.uniform2f(this.location,d[0],d[1]))},c}(Zt),$r=function(s){function c(d,E){s.call(this,d,E),this.current=[0,0,0]}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.set=function(d){d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]||(this.current=d,this.gl.uniform3f(this.location,d[0],d[1],d[2]))},c}(Zt),Gr=function(s){function c(d,E){s.call(this,d,E),this.current=[0,0,0,0]}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.set=function(d){d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]&&d[3]===this.current[3]||(this.current=d,this.gl.uniform4f(this.location,d[0],d[1],d[2],d[3]))},c}(Zt),hn=function(s){function c(d,E){s.call(this,d,E),this.current=Xn.transparent}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.set=function(d){d.r===this.current.r&&d.g===this.current.g&&d.b===this.current.b&&d.a===this.current.a||(this.current=d,this.gl.uniform4f(this.location,d.r,d.g,d.b,d.a))},c}(Zt),dn=new Float32Array(16),Bn=function(s){function c(d,E){s.call(this,d,E),this.current=dn}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.set=function(d){if(d[12]!==this.current[12]||d[0]!==this.current[0])return this.current=d,void this.gl.uniformMatrix4fv(this.location,!1,d);for(var E=1;E<16;E++)if(d[E]!==this.current[E]){this.current=d,this.gl.uniformMatrix4fv(this.location,!1,d);break}},c}(Zt);function Kr(s){return[Ze(255*s.r,255*s.g),Ze(255*s.b,255*s.a)]}var Mn=function(s,c,d){this.value=s,this.uniformNames=c.map(function(E){return"u_"+E}),this.type=d};Mn.prototype.setUniform=function(s,c,d){s.set(d.constantOr(this.value))},Mn.prototype.getBinding=function(s,c,d){return this.type==="color"?new hn(s,c):new yr(s,c)};var Vn=function(s,c){this.uniformNames=c.map(function(d){return"u_"+d}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Vn.prototype.setConstantPatternPositions=function(s,c){this.pixelRatioFrom=c.pixelRatio,this.pixelRatioTo=s.pixelRatio,this.patternFrom=c.tlbr,this.patternTo=s.tlbr},Vn.prototype.setUniform=function(s,c,d,E){var I=E==="u_pattern_to"?this.patternTo:E==="u_pattern_from"?this.patternFrom:E==="u_pixel_ratio_to"?this.pixelRatioTo:E==="u_pixel_ratio_from"?this.pixelRatioFrom:null;I&&s.set(I)},Vn.prototype.getBinding=function(s,c,d){return d.substr(0,9)==="u_pattern"?new Gr(s,c):new yr(s,c)};var On=function(s,c,d,E){this.expression=s,this.type=d,this.maxValue=0,this.paintVertexAttributes=c.map(function(I){return{name:"a_"+I,type:"Float32",components:d==="color"?2:1,offset:0}}),this.paintVertexArray=new E};On.prototype.populatePaintArray=function(s,c,d,E,I){var L=this.paintVertexArray.length,B=this.expression.evaluate(new ci(0),c,{},E,[],I);this.paintVertexArray.resize(s),this._setPaintValue(L,s,B)},On.prototype.updatePaintArray=function(s,c,d,E){var I=this.expression.evaluate({zoom:0},d,E);this._setPaintValue(s,c,I)},On.prototype._setPaintValue=function(s,c,d){if(this.type==="color")for(var E=Kr(d),I=s;I<c;I++)this.paintVertexArray.emplace(I,E[0],E[1]);else{for(var L=s;L<c;L++)this.paintVertexArray.emplace(L,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}},On.prototype.upload=function(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},On.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Ln=function(s,c,d,E,I,L){this.expression=s,this.uniformNames=c.map(function(B){return"u_"+B+"_t"}),this.type=d,this.useIntegerZoom=E,this.zoom=I,this.maxValue=0,this.paintVertexAttributes=c.map(function(B){return{name:"a_"+B,type:"Float32",components:d==="color"?4:2,offset:0}}),this.paintVertexArray=new L};Ln.prototype.populatePaintArray=function(s,c,d,E,I){var L=this.expression.evaluate(new ci(this.zoom),c,{},E,[],I),B=this.expression.evaluate(new ci(this.zoom+1),c,{},E,[],I),J=this.paintVertexArray.length;this.paintVertexArray.resize(s),this._setPaintValue(J,s,L,B)},Ln.prototype.updatePaintArray=function(s,c,d,E){var I=this.expression.evaluate({zoom:this.zoom},d,E),L=this.expression.evaluate({zoom:this.zoom+1},d,E);this._setPaintValue(s,c,I,L)},Ln.prototype._setPaintValue=function(s,c,d,E){if(this.type==="color")for(var I=Kr(d),L=Kr(E),B=s;B<c;B++)this.paintVertexArray.emplace(B,I[0],I[1],L[0],L[1]);else{for(var J=s;J<c;J++)this.paintVertexArray.emplace(J,d,E);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(E))}},Ln.prototype.upload=function(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ln.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ln.prototype.setUniform=function(s,c){var d=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,E=R(this.expression.interpolationFactor(d,this.zoom,this.zoom+1),0,1);s.set(E)},Ln.prototype.getBinding=function(s,c,d){return new yr(s,c)};var Hn=function(s,c,d,E,I,L){this.expression=s,this.type=c,this.useIntegerZoom=d,this.zoom=E,this.layerId=L,this.zoomInPaintVertexArray=new I,this.zoomOutPaintVertexArray=new I};Hn.prototype.populatePaintArray=function(s,c,d){var E=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(s),this.zoomOutPaintVertexArray.resize(s),this._setPaintValues(E,s,c.patterns&&c.patterns[this.layerId],d)},Hn.prototype.updatePaintArray=function(s,c,d,E,I){this._setPaintValues(s,c,d.patterns&&d.patterns[this.layerId],I)},Hn.prototype._setPaintValues=function(s,c,d,E){if(E&&d){var I=E[d.min],L=E[d.mid],B=E[d.max];if(I&&L&&B)for(var J=s;J<c;J++)this.zoomInPaintVertexArray.emplace(J,L.tl[0],L.tl[1],L.br[0],L.br[1],I.tl[0],I.tl[1],I.br[0],I.br[1],L.pixelRatio,I.pixelRatio),this.zoomOutPaintVertexArray.emplace(J,L.tl[0],L.tl[1],L.br[0],L.br[1],B.tl[0],B.tl[1],B.br[0],B.br[1],L.pixelRatio,B.pixelRatio)}},Hn.prototype.upload=function(s){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=s.createVertexBuffer(this.zoomInPaintVertexArray,ht.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=s.createVertexBuffer(this.zoomOutPaintVertexArray,ht.members,this.expression.isStateDependent))},Hn.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var vn=function(s,c,d){this.binders={},this._buffers=[];var E=[];for(var I in s.paint._values)if(d(I)){var L=s.paint.get(I);if(L instanceof yi&&bc(L.property.specification)){var B=ka(I,s.type),J=L.value,le=L.property.specification.type,ve=L.property.useIntegerZoom,Ee=L.property.specification["property-type"],De=Ee==="cross-faded"||Ee==="cross-faded-data-driven";if(J.kind==="constant")this.binders[I]=De?new Vn(J.value,B):new Mn(J.value,B,le),E.push("/u_"+I);else if(J.kind==="source"||De){var Le=So(I,le,"source");this.binders[I]=De?new Hn(J,le,ve,c,Le,s.id):new On(J,B,le,Le),E.push("/a_"+I)}else{var Ve=So(I,le,"composite");this.binders[I]=new Ln(J,B,le,ve,c,Ve),E.push("/z_"+I)}}}this.cacheKey=E.sort().join("")};vn.prototype.getMaxValue=function(s){var c=this.binders[s];return c instanceof On||c instanceof Ln?c.maxValue:0},vn.prototype.populatePaintArrays=function(s,c,d,E,I){for(var L in this.binders){var B=this.binders[L];(B instanceof On||B instanceof Ln||B instanceof Hn)&&B.populatePaintArray(s,c,d,E,I)}},vn.prototype.setConstantPatternPositions=function(s,c){for(var d in this.binders){var E=this.binders[d];E instanceof Vn&&E.setConstantPatternPositions(s,c)}},vn.prototype.updatePaintArrays=function(s,c,d,E,I){var L=!1;for(var B in s)for(var J=0,le=c.getPositions(B);J<le.length;J+=1){var ve=le[J],Ee=d.feature(ve.index);for(var De in this.binders){var Le=this.binders[De];if((Le instanceof On||Le instanceof Ln||Le instanceof Hn)&&Le.expression.isStateDependent===!0){var Ve=E.paint.get(De);Le.expression=Ve.value,Le.updatePaintArray(ve.start,ve.end,Ee,s[B],I),L=!0}}}return L},vn.prototype.defines=function(){var s=[];for(var c in this.binders){var d=this.binders[c];(d instanceof Mn||d instanceof Vn)&&s.push.apply(s,d.uniformNames.map(function(E){return"#define HAS_UNIFORM_"+E}))}return s},vn.prototype.getBinderAttributes=function(){var s=[];for(var c in this.binders){var d=this.binders[c];if(d instanceof On||d instanceof Ln)for(var E=0;E<d.paintVertexAttributes.length;E++)s.push(d.paintVertexAttributes[E].name);else if(d instanceof Hn)for(var I=0;I<ht.members.length;I++)s.push(ht.members[I].name)}return s},vn.prototype.getBinderUniforms=function(){var s=[];for(var c in this.binders){var d=this.binders[c];if(d instanceof Mn||d instanceof Vn||d instanceof Ln)for(var E=0,I=d.uniformNames;E<I.length;E+=1)s.push(I[E])}return s},vn.prototype.getPaintVertexBuffers=function(){return this._buffers},vn.prototype.getUniforms=function(s,c){var d=[];for(var E in this.binders){var I=this.binders[E];if(I instanceof Mn||I instanceof Vn||I instanceof Ln)for(var L=0,B=I.uniformNames;L<B.length;L+=1){var J=B[L];if(c[J]){var le=I.getBinding(s,c[J],J);d.push({name:J,property:E,binding:le})}}}return d},vn.prototype.setUniforms=function(s,c,d,E){for(var I=0,L=c;I<L.length;I+=1){var B=L[I],J=B.name,le=B.property;this.binders[le].setUniform(B.binding,E,d.get(le),J)}},vn.prototype.updatePaintBuffers=function(s){for(var c in this._buffers=[],this.binders){var d=this.binders[c];if(s&&d instanceof Hn){var E=s.fromScale===2?d.zoomInPaintVertexBuffer:d.zoomOutPaintVertexBuffer;E&&this._buffers.push(E)}else(d instanceof On||d instanceof Ln)&&d.paintVertexBuffer&&this._buffers.push(d.paintVertexBuffer)}},vn.prototype.upload=function(s){for(var c in this.binders){var d=this.binders[c];(d instanceof On||d instanceof Ln||d instanceof Hn)&&d.upload(s)}this.updatePaintBuffers()},vn.prototype.destroy=function(){for(var s in this.binders){var c=this.binders[s];(c instanceof On||c instanceof Ln||c instanceof Hn)&&c.destroy()}};var xn=function(s,c,d){d===void 0&&(d=function(){return!0}),this.programConfigurations={};for(var E=0,I=s;E<I.length;E+=1){var L=I[E];this.programConfigurations[L.id]=new vn(L,c,d)}this.needsUpload=!1,this._featureMap=new St,this._bufferOffset=0};function ka(s,c){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[s]||[s.replace(c+"-","").replace(/-/g,"_")]}function So(s,c,d){var E={color:{source:Sc,composite:Hc},number:{source:Js,composite:Sc}},I=function(L){return{"line-pattern":{source:Xi,composite:Xi},"fill-pattern":{source:Xi,composite:Xi},"fill-extrusion-pattern":{source:Xi,composite:Xi}}[L]}(s);return I&&I[d]||E[c][d]}xn.prototype.populatePaintArrays=function(s,c,d,E,I,L){for(var B in this.programConfigurations)this.programConfigurations[B].populatePaintArrays(s,c,E,I,L);c.id!==void 0&&this._featureMap.add(c.id,d,this._bufferOffset,s),this._bufferOffset=s,this.needsUpload=!0},xn.prototype.updatePaintArrays=function(s,c,d,E){for(var I=0,L=d;I<L.length;I+=1){var B=L[I];this.needsUpload=this.programConfigurations[B.id].updatePaintArrays(s,this._featureMap,c,B,E)||this.needsUpload}},xn.prototype.get=function(s){return this.programConfigurations[s]},xn.prototype.upload=function(s){if(this.needsUpload){for(var c in this.programConfigurations)this.programConfigurations[c].upload(s);this.needsUpload=!1}},xn.prototype.destroy=function(){for(var s in this.programConfigurations)this.programConfigurations[s].destroy()},Zr("ConstantBinder",Mn),Zr("CrossFadedConstantBinder",Vn),Zr("SourceExpressionBinder",On),Zr("CrossFadedCompositeBinder",Hn),Zr("CompositeExpressionBinder",Ln),Zr("ProgramConfiguration",vn,{omit:["_buffers"]}),Zr("ProgramConfigurationSet",xn);var Qo=Math.pow(2,14)-1,as=-Qo-1;function _o(s){for(var c=8192/s.extent,d=s.loadGeometry(),E=0;E<d.length;E++)for(var I=d[E],L=0;L<I.length;L++){var B=I[L],J=Math.round(B.x*c),le=Math.round(B.y*c);B.x=R(J,as,Qo),B.y=R(le,as,Qo),(J<B.x||J>B.x+1||le<B.y||le>B.y+1)&&Ht("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return d}function To(s,c){return{type:s.type,id:s.id,properties:s.properties,geometry:c?_o(s):[]}}function ss(s,c,d,E,I){s.emplaceBack(2*c+(E+1)/2,2*d+(I+1)/2)}var $a=function(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(function(c){return c.id}),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new uc,this.indexArray=new oi,this.segments=new We,this.programConfigurations=new xn(s.layers,s.zoom),this.stateDependentLayerIds=this.layers.filter(function(c){return c.isStateDependent()}).map(function(c){return c.id})};function Qs(s,c){for(var d=0;d<s.length;d++)if(Hs(c,s[d]))return!0;for(var E=0;E<c.length;E++)if(Hs(s,c[E]))return!0;return!!vu(s,c)}function ls(s,c,d){return!!Hs(s,c)||!!Yl(c,s,d)}function el(s,c){if(s.length===1)return qu(c,s[0]);for(var d=0;d<c.length;d++)for(var E=c[d],I=0;I<E.length;I++)if(Hs(s,E[I]))return!0;for(var L=0;L<s.length;L++)if(qu(c,s[L]))return!0;for(var B=0;B<c.length;B++)if(vu(s,c[B]))return!0;return!1}function xs(s,c,d){if(s.length>1){if(vu(s,c))return!0;for(var E=0;E<c.length;E++)if(Yl(c[E],s,d))return!0}for(var I=0;I<s.length;I++)if(Yl(s[I],c,d))return!0;return!1}function vu(s,c){if(s.length===0||c.length===0)return!1;for(var d=0;d<s.length-1;d++)for(var E=s[d],I=s[d+1],L=0;L<c.length-1;L++)if(yu(E,I,c[L],c[L+1]))return!0;return!1}function yu(s,c,d,E){return Rt(s,d,E)!==Rt(c,d,E)&&Rt(s,c,d)!==Rt(s,c,E)}function Yl(s,c,d){var E=d*d;if(c.length===1)return s.distSqr(c[0])<E;for(var I=1;I<c.length;I++)if(Zl(s,c[I-1],c[I])<E)return!0;return!1}function Zl(s,c,d){var E=c.distSqr(d);if(E===0)return s.distSqr(c);var I=((s.x-c.x)*(d.x-c.x)+(s.y-c.y)*(d.y-c.y))/E;return s.distSqr(I<0?c:I>1?d:d.sub(c)._mult(I)._add(c))}function qu(s,c){for(var d,E,I,L=!1,B=0;B<s.length;B++)for(var J=0,le=(d=s[B]).length-1;J<d.length;le=J++)(E=d[J]).y>c.y!=(I=d[le]).y>c.y&&c.x<(I.x-E.x)*(c.y-E.y)/(I.y-E.y)+E.x&&(L=!L);return L}function Hs(s,c){for(var d=!1,E=0,I=s.length-1;E<s.length;I=E++){var L=s[E],B=s[I];L.y>c.y!=B.y>c.y&&c.x<(B.x-L.x)*(c.y-L.y)/(B.y-L.y)+L.x&&(d=!d)}return d}function Gh(s,c,d){var E=d[0],I=d[2];if(s.x<E.x&&c.x<E.x||s.x>I.x&&c.x>I.x||s.y<E.y&&c.y<E.y||s.y>I.y&&c.y>I.y)return!1;var L=Rt(s,c,d[0]);return L!==Rt(s,c,d[1])||L!==Rt(s,c,d[2])||L!==Rt(s,c,d[3])}function Nu(s,c,d){var E=c.paint.get(s).value;return E.kind==="constant"?E.value:d.programConfigurations.get(c.id).getMaxValue(s)}function ji(s){return Math.sqrt(s[0]*s[0]+s[1]*s[1])}function Ec(s,c,d,E,I){if(!c[0]&&!c[1])return s;var L=we.convert(c)._mult(I);d==="viewport"&&L._rotate(-E);for(var B=[],J=0;J<s.length;J++)B.push(s[J].sub(L));return B}$a.prototype.populate=function(s,c,d){var E=this.layers[0],I=[],L=null;E.type==="circle"&&(L=E.layout.get("circle-sort-key"));for(var B=0,J=s;B<J.length;B+=1){var le=J[B],ve=le.feature,Ee=le.id,De=le.index,Le=le.sourceLayerIndex,Ve=this.layers[0]._featureFilter.needGeometry,ut=To(ve,Ve);if(this.layers[0]._featureFilter.filter(new ci(this.zoom),ut,d)){var ct=L?L.evaluate(ut,{},d):void 0,xt={id:Ee,properties:ve.properties,type:ve.type,sourceLayerIndex:Le,index:De,geometry:Ve?ut.geometry:_o(ve),patterns:{},sortKey:ct};I.push(xt)}}L&&I.sort(function(Hr,wn){return Hr.sortKey-wn.sortKey});for(var gt=0,Lt=I;gt<Lt.length;gt+=1){var Kt=Lt[gt],Qt=Kt.geometry,ar=Kt.index,pr=Kt.sourceLayerIndex,Ar=s[ar].feature;this.addFeature(Kt,Qt,ar,d),c.featureIndex.insert(Ar,Qt,ar,pr,this.index)}},$a.prototype.update=function(s,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,d)},$a.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},$a.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},$a.prototype.upload=function(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,He),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0},$a.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},$a.prototype.addFeature=function(s,c,d,E){for(var I=0,L=c;I<L.length;I+=1)for(var B=0,J=L[I];B<J.length;B+=1){var le=J[B],ve=le.x,Ee=le.y;if(!(ve<0||ve>=8192||Ee<0||Ee>=8192)){var De=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,s.sortKey),Le=De.vertexLength;ss(this.layoutVertexArray,ve,Ee,-1,-1),ss(this.layoutVertexArray,ve,Ee,1,-1),ss(this.layoutVertexArray,ve,Ee,1,1),ss(this.layoutVertexArray,ve,Ee,-1,1),this.indexArray.emplaceBack(Le,Le+1,Le+2),this.indexArray.emplaceBack(Le,Le+3,Le+2),De.vertexLength+=4,De.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,d,{},E)},Zr("CircleBucket",$a,{omit:["layers"]});var Wc=new ia({"circle-sort-key":new Sr(qe.layout_circle["circle-sort-key"])}),Ga={paint:new ia({"circle-radius":new Sr(qe.paint_circle["circle-radius"]),"circle-color":new Sr(qe.paint_circle["circle-color"]),"circle-blur":new Sr(qe.paint_circle["circle-blur"]),"circle-opacity":new Sr(qe.paint_circle["circle-opacity"]),"circle-translate":new Rr(qe.paint_circle["circle-translate"]),"circle-translate-anchor":new Rr(qe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Rr(qe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Rr(qe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Sr(qe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Sr(qe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Sr(qe.paint_circle["circle-stroke-opacity"])}),layout:Wc},Oi=typeof Float32Array<"u"?Float32Array:Array;function vl(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function Is(s,c,d){var E=c[0],I=c[1],L=c[2],B=c[3],J=c[4],le=c[5],ve=c[6],Ee=c[7],De=c[8],Le=c[9],Ve=c[10],ut=c[11],ct=c[12],xt=c[13],gt=c[14],Lt=c[15],Kt=d[0],Qt=d[1],ar=d[2],pr=d[3];return s[0]=Kt*E+Qt*J+ar*De+pr*ct,s[1]=Kt*I+Qt*le+ar*Le+pr*xt,s[2]=Kt*L+Qt*ve+ar*Ve+pr*gt,s[3]=Kt*B+Qt*Ee+ar*ut+pr*Lt,s[4]=(Kt=d[4])*E+(Qt=d[5])*J+(ar=d[6])*De+(pr=d[7])*ct,s[5]=Kt*I+Qt*le+ar*Le+pr*xt,s[6]=Kt*L+Qt*ve+ar*Ve+pr*gt,s[7]=Kt*B+Qt*Ee+ar*ut+pr*Lt,s[8]=(Kt=d[8])*E+(Qt=d[9])*J+(ar=d[10])*De+(pr=d[11])*ct,s[9]=Kt*I+Qt*le+ar*Le+pr*xt,s[10]=Kt*L+Qt*ve+ar*Ve+pr*gt,s[11]=Kt*B+Qt*Ee+ar*ut+pr*Lt,s[12]=(Kt=d[12])*E+(Qt=d[13])*J+(ar=d[14])*De+(pr=d[15])*ct,s[13]=Kt*I+Qt*le+ar*Le+pr*xt,s[14]=Kt*L+Qt*ve+ar*Ve+pr*gt,s[15]=Kt*B+Qt*Ee+ar*ut+pr*Lt,s}Math.hypot||(Math.hypot=function(){for(var s=arguments,c=0,d=arguments.length;d--;)c+=s[d]*s[d];return Math.sqrt(c)});var ff,Od=Is;function bi(s,c,d){var E=c[0],I=c[1],L=c[2],B=c[3];return s[0]=d[0]*E+d[4]*I+d[8]*L+d[12]*B,s[1]=d[1]*E+d[5]*I+d[9]*L+d[13]*B,s[2]=d[2]*E+d[6]*I+d[10]*L+d[14]*B,s[3]=d[3]*E+d[7]*I+d[11]*L+d[15]*B,s}ff=new Oi(3),Oi!=Float32Array&&(ff[0]=0,ff[1]=0,ff[2]=0),function(){var s=new Oi(4);Oi!=Float32Array&&(s[0]=0,s[1]=0,s[2]=0,s[3]=0)}();var im=(function(){var s=new Oi(2);Oi!=Float32Array&&(s[0]=0,s[1]=0)}(),function(s){function c(d){s.call(this,d,Ga)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.createBucket=function(d){return new $a(d)},c.prototype.queryRadius=function(d){var E=d;return Nu("circle-radius",this,E)+Nu("circle-stroke-width",this,E)+ji(this.paint.get("circle-translate"))},c.prototype.queryIntersectsFeature=function(d,E,I,L,B,J,le,ve){for(var Ee=Ec(d,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),J.angle,le),De=this.paint.get("circle-radius").evaluate(E,I)+this.paint.get("circle-stroke-width").evaluate(E,I),Le=this.paint.get("circle-pitch-alignment")==="map",Ve=Le?Ee:function(Ar,Hr){return Ar.map(function(wn){return Bu(wn,Hr)})}(Ee,ve),ut=Le?De*le:De,ct=0,xt=L;ct<xt.length;ct+=1)for(var gt=0,Lt=xt[ct];gt<Lt.length;gt+=1){var Kt=Lt[gt],Qt=Le?Kt:Bu(Kt,ve),ar=ut,pr=bi([],[Kt.x,Kt.y,0,1],ve);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?ar*=pr[3]/J.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(ar*=J.cameraToCenterDistance/pr[3]),ls(Ve,Qt,ar))return!0}return!1},c}(Fu));function Bu(s,c){var d=bi([],[s.x,s.y,0,1],c);return new we(d[0]/d[3],d[1]/d[3])}var kc=function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c}($a);function Cc(s,c,d,E){var I=c.width,L=c.height;if(E){if(E instanceof Uint8ClampedArray)E=new Uint8Array(E.buffer);else if(E.length!==I*L*d)throw new RangeError("mismatched image size")}else E=new Uint8Array(I*L*d);return s.width=I,s.height=L,s.data=E,s}function yl(s,c,d){var E=c.width,I=c.height;if(E!==s.width||I!==s.height){var L=Cc({},{width:E,height:I},d);bu(s,L,{x:0,y:0},{x:0,y:0},{width:Math.min(s.width,E),height:Math.min(s.height,I)},d),s.width=E,s.height=I,s.data=L.data}}function bu(s,c,d,E,I,L){if(I.width===0||I.height===0)return c;if(I.width>s.width||I.height>s.height||d.x>s.width-I.width||d.y>s.height-I.height)throw new RangeError("out of range source coordinates for image copy");if(I.width>c.width||I.height>c.height||E.x>c.width-I.width||E.y>c.height-I.height)throw new RangeError("out of range destination coordinates for image copy");for(var B=s.data,J=c.data,le=0;le<I.height;le++)for(var ve=((d.y+le)*s.width+d.x)*L,Ee=((E.y+le)*c.width+E.x)*L,De=0;De<I.width*L;De++)J[Ee+De]=B[ve+De];return c}Zr("HeatmapBucket",kc,{omit:["layers"]});var _s=function(s,c){Cc(this,s,1,c)};_s.prototype.resize=function(s){yl(this,s,1)},_s.prototype.clone=function(){return new _s({width:this.width,height:this.height},new Uint8Array(this.data))},_s.copy=function(s,c,d,E,I){bu(s,c,d,E,I,1)};var Ms=function(s,c){Cc(this,s,4,c)};Ms.prototype.resize=function(s){yl(this,s,4)},Ms.prototype.replace=function(s,c){c?this.data.set(s):this.data=s instanceof Uint8ClampedArray?new Uint8Array(s.buffer):s},Ms.prototype.clone=function(){return new Ms({width:this.width,height:this.height},new Uint8Array(this.data))},Ms.copy=function(s,c,d,E,I){bu(s,c,d,E,I,4)},Zr("AlphaImage",_s),Zr("RGBAImage",Ms);var bl={paint:new ia({"heatmap-radius":new Sr(qe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Sr(qe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Rr(qe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new du(qe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Rr(qe.paint_heatmap["heatmap-opacity"])})};function gp(s){var c={},d=s.resolution||256,E=s.clips?s.clips.length:1,I=s.image||new Ms({width:d,height:E}),L=function(ut,ct,xt){c[s.evaluationKey]=xt;var gt=s.expression.evaluate(c);I.data[ut+ct+0]=Math.floor(255*gt.r/gt.a),I.data[ut+ct+1]=Math.floor(255*gt.g/gt.a),I.data[ut+ct+2]=Math.floor(255*gt.b/gt.a),I.data[ut+ct+3]=Math.floor(255*gt.a)};if(s.clips)for(var B=0,J=0;B<E;++B,J+=4*d)for(var le=0,ve=0;le<d;le++,ve+=4){var Ee=le/(d-1),De=s.clips[B];L(J,ve,De.start*(1-Ee)+De.end*Ee)}else for(var Le=0,Ve=0;Le<d;Le++,Ve+=4)L(0,Ve,Le/(d-1));return I}var Um=function(s){function c(d){s.call(this,d,bl),this._updateColorRamp()}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.createBucket=function(d){return new kc(d)},c.prototype._handleSpecialPaintPropertyUpdate=function(d){d==="heatmap-color"&&this._updateColorRamp()},c.prototype._updateColorRamp=function(){this.colorRamp=gp({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},c.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},c.prototype.queryRadius=function(){return 0},c.prototype.queryIntersectsFeature=function(){return!1},c.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},c}(Fu),ih={paint:new ia({"hillshade-illumination-direction":new Rr(qe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Rr(qe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Rr(qe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Rr(qe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Rr(qe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Rr(qe.paint_hillshade["hillshade-accent-color"])})},xl=function(s){function c(d){s.call(this,d,ih)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},c}(Fu),zu=os([{name:"a_pos",components:2,type:"Int16"}],4).members,oh=Uu,Kh=Uu;function Uu(s,c,d){d=d||2;var E,I,L,B,J,le,ve,Ee=c&&c.length,De=Ee?c[0]*d:s.length,Le=vp(s,0,De,d,!0),Ve=[];if(!Le||Le.next===Le.prev)return Ve;if(Ee&&(Le=function(ct,xt,gt,Lt){var Kt,Qt,ar,pr=[];for(Kt=0,Qt=xt.length;Kt<Qt;Kt++)(ar=vp(ct,xt[Kt]*Lt,Kt<Qt-1?xt[Kt+1]*Lt:ct.length,Lt,!1))===ar.next&&(ar.steiner=!0),pr.push(yp(ar));for(pr.sort(Pf),Kt=0;Kt<pr.length;Kt++)Rf(pr[Kt],gt),gt=Xl(gt,gt.next);return gt}(s,c,Le,d)),s.length>80*d){E=L=s[0],I=B=s[1];for(var ut=d;ut<De;ut+=d)(J=s[ut])<E&&(E=J),(le=s[ut+1])<I&&(I=le),J>L&&(L=J),le>B&&(B=le);ve=(ve=Math.max(L-E,B-I))!==0?1/ve:0}return Lf(Le,Ve,d,E,I,ve),Ve}function vp(s,c,d,E,I){var L,B;if(I===uh(s,c,d,E)>0)for(L=c;L<d;L+=E)B=am(L,s[L],s[L+1],B);else for(L=d-E;L>=c;L-=E)B=am(L,s[L],s[L+1],B);return B&&sh(B,B.next)&&(hf(B),B=B.next),B}function Xl(s,c){if(!s)return s;c||(c=s);var d,E=s;do if(d=!1,E.steiner||!sh(E,E.next)&&Na(E.prev,E,E.next)!==0)E=E.next;else{if(hf(E),(E=c=E.prev)===E.next)break;d=!0}while(d||E!==c);return c}function Lf(s,c,d,E,I,L,B){if(s){!B&&L&&function(Ee,De,Le,Ve){var ut=Ee;do ut.z===null&&(ut.z=Id(ut.x,ut.y,De,Le,Ve)),ut.prevZ=ut.prev,ut.nextZ=ut.next,ut=ut.next;while(ut!==Ee);ut.prevZ.nextZ=null,ut.prevZ=null,function(ct){var xt,gt,Lt,Kt,Qt,ar,pr,Ar,Hr=1;do{for(gt=ct,ct=null,Qt=null,ar=0;gt;){for(ar++,Lt=gt,pr=0,xt=0;xt<Hr&&(pr++,Lt=Lt.nextZ);xt++);for(Ar=Hr;pr>0||Ar>0&&Lt;)pr!==0&&(Ar===0||!Lt||gt.z<=Lt.z)?(Kt=gt,gt=gt.nextZ,pr--):(Kt=Lt,Lt=Lt.nextZ,Ar--),Qt?Qt.nextZ=Kt:ct=Kt,Kt.prevZ=Qt,Qt=Kt;gt=Lt}Qt.nextZ=null,Hr*=2}while(ar>1)}(ut)}(s,E,I,L);for(var J,le,ve=s;s.prev!==s.next;)if(J=s.prev,le=s.next,L?ah(s,E,I,L):jm(s))c.push(J.i/d),c.push(s.i/d),c.push(le.i/d),hf(s),s=le.next,ve=le.next;else if((s=le)===ve){B?B===1?Lf(s=Ac(Xl(s),c,d),c,d,E,I,L,2):B===2&&Oy(s,c,d,E,I,L):Lf(Xl(s),c,d,E,I,L,1);break}}}function jm(s){var c=s.prev,d=s,E=s.next;if(Na(c,d,E)>=0)return!1;for(var I=s.next.next;I!==s.prev;){if(Ff(c.x,c.y,d.x,d.y,E.x,E.y,I.x,I.y)&&Na(I.prev,I,I.next)>=0)return!1;I=I.next}return!0}function ah(s,c,d,E){var I=s.prev,L=s,B=s.next;if(Na(I,L,B)>=0)return!1;for(var J=I.x>L.x?I.x>B.x?I.x:B.x:L.x>B.x?L.x:B.x,le=I.y>L.y?I.y>B.y?I.y:B.y:L.y>B.y?L.y:B.y,ve=Id(I.x<L.x?I.x<B.x?I.x:B.x:L.x<B.x?L.x:B.x,I.y<L.y?I.y<B.y?I.y:B.y:L.y<B.y?L.y:B.y,c,d,E),Ee=Id(J,le,c,d,E),De=s.prevZ,Le=s.nextZ;De&&De.z>=ve&&Le&&Le.z<=Ee;){if(De!==s.prev&&De!==s.next&&Ff(I.x,I.y,L.x,L.y,B.x,B.y,De.x,De.y)&&Na(De.prev,De,De.next)>=0||(De=De.prevZ,Le!==s.prev&&Le!==s.next&&Ff(I.x,I.y,L.x,L.y,B.x,B.y,Le.x,Le.y)&&Na(Le.prev,Le,Le.next)>=0))return!1;Le=Le.nextZ}for(;De&&De.z>=ve;){if(De!==s.prev&&De!==s.next&&Ff(I.x,I.y,L.x,L.y,B.x,B.y,De.x,De.y)&&Na(De.prev,De,De.next)>=0)return!1;De=De.prevZ}for(;Le&&Le.z<=Ee;){if(Le!==s.prev&&Le!==s.next&&Ff(I.x,I.y,L.x,L.y,B.x,B.y,Le.x,Le.y)&&Na(Le.prev,Le,Le.next)>=0)return!1;Le=Le.nextZ}return!0}function Ac(s,c,d){var E=s;do{var I=E.prev,L=E.next.next;!sh(I,L)&&om(I,E,E.next,L)&&Ka(I,L)&&Ka(L,I)&&(c.push(I.i/d),c.push(E.i/d),c.push(L.i/d),hf(E),hf(E.next),E=s=L),E=E.next}while(E!==s);return Xl(E)}function Oy(s,c,d,E,I,L){var B=s;do{for(var J=B.next.next;J!==B.prev;){if(B.i!==J.i&&Wm(B,J)){var le=xu(B,J);return B=Xl(B,B.next),le=Xl(le,le.next),Lf(B,c,d,E,I,L),void Lf(le,c,d,E,I,L)}J=J.next}B=B.next}while(B!==s)}function Pf(s,c){return s.x-c.x}function Rf(s,c){if(c=function(E,I){var L,B=I,J=E.x,le=E.y,ve=-1/0;do{if(le<=B.y&&le>=B.next.y&&B.next.y!==B.y){var Ee=B.x+(le-B.y)*(B.next.x-B.x)/(B.next.y-B.y);if(Ee<=J&&Ee>ve){if(ve=Ee,Ee===J){if(le===B.y)return B;if(le===B.next.y)return B.next}L=B.x<B.next.x?B:B.next}}B=B.next}while(B!==I);if(!L)return null;if(J===ve)return L;var De,Le=L,Ve=L.x,ut=L.y,ct=1/0;B=L;do J>=B.x&&B.x>=Ve&&J!==B.x&&Ff(le<ut?J:ve,le,Ve,ut,le<ut?ve:J,le,B.x,B.y)&&(De=Math.abs(le-B.y)/(J-B.x),Ka(B,E)&&(De<ct||De===ct&&(B.x>L.x||B.x===L.x&&Hm(L,B)))&&(L=B,ct=De)),B=B.next;while(B!==Le);return L}(s,c)){var d=xu(c,s);Xl(c,c.next),Xl(d,d.next)}}function Hm(s,c){return Na(s.prev,s,c.prev)<0&&Na(c.next,s,s.next)<0}function Id(s,c,d,E,I){return(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=32767*(s-d)*I)|s<<8))|s<<4))|s<<2))|s<<1))|(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=32767*(c-E)*I)|c<<8))|c<<4))|c<<2))|c<<1))<<1}function yp(s){var c=s,d=s;do(c.x<d.x||c.x===d.x&&c.y<d.y)&&(d=c),c=c.next;while(c!==s);return d}function Ff(s,c,d,E,I,L,B,J){return(I-B)*(c-J)-(s-B)*(L-J)>=0&&(s-B)*(E-J)-(d-B)*(c-J)>=0&&(d-B)*(L-J)-(I-B)*(E-J)>=0}function Wm(s,c){return s.next.i!==c.i&&s.prev.i!==c.i&&!function(d,E){var I=d;do{if(I.i!==d.i&&I.next.i!==d.i&&I.i!==E.i&&I.next.i!==E.i&&om(I,I.next,d,E))return!0;I=I.next}while(I!==d);return!1}(s,c)&&(Ka(s,c)&&Ka(c,s)&&function(d,E){var I=d,L=!1,B=(d.x+E.x)/2,J=(d.y+E.y)/2;do I.y>J!=I.next.y>J&&I.next.y!==I.y&&B<(I.next.x-I.x)*(J-I.y)/(I.next.y-I.y)+I.x&&(L=!L),I=I.next;while(I!==d);return L}(s,c)&&(Na(s.prev,s,c.prev)||Na(s,c.prev,c))||sh(s,c)&&Na(s.prev,s,s.next)>0&&Na(c.prev,c,c.next)>0)}function Na(s,c,d){return(c.y-s.y)*(d.x-c.x)-(c.x-s.x)*(d.y-c.y)}function sh(s,c){return s.x===c.x&&s.y===c.y}function om(s,c,d,E){var I=lh(Na(s,c,d)),L=lh(Na(s,c,E)),B=lh(Na(d,E,s)),J=lh(Na(d,E,c));return I!==L&&B!==J||!(I!==0||!bp(s,d,c))||!(L!==0||!bp(s,E,c))||!(B!==0||!bp(d,s,E))||!(J!==0||!bp(d,c,E))}function bp(s,c,d){return c.x<=Math.max(s.x,d.x)&&c.x>=Math.min(s.x,d.x)&&c.y<=Math.max(s.y,d.y)&&c.y>=Math.min(s.y,d.y)}function lh(s){return s>0?1:s<0?-1:0}function Ka(s,c){return Na(s.prev,s,s.next)<0?Na(s,c,s.next)>=0&&Na(s,s.prev,c)>=0:Na(s,c,s.prev)<0||Na(s,s.next,c)<0}function xu(s,c){var d=new df(s.i,s.x,s.y),E=new df(c.i,c.x,c.y),I=s.next,L=c.prev;return s.next=c,c.prev=s,d.next=I,I.prev=d,E.next=d,d.prev=E,L.next=E,E.prev=L,E}function am(s,c,d,E){var I=new df(s,c,d);return E?(I.next=E.next,I.prev=E,E.next.prev=I,E.next=I):(I.prev=I,I.next=I),I}function hf(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function df(s,c,d){this.i=s,this.x=c,this.y=d,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function uh(s,c,d,E){for(var I=0,L=c,B=d-E;L<d;L+=E)I+=(s[B]-s[L])*(s[L+1]+s[B+1]),B=L;return I}function Vm(s,c,d,E,I){(function L(B,J,le,ve,Ee){for(;ve>le;){if(ve-le>600){var De=ve-le+1,Le=J-le+1,Ve=Math.log(De),ut=.5*Math.exp(2*Ve/3),ct=.5*Math.sqrt(Ve*ut*(De-ut)/De)*(Le-De/2<0?-1:1);L(B,J,Math.max(le,Math.floor(J-Le*ut/De+ct)),Math.min(ve,Math.floor(J+(De-Le)*ut/De+ct)),Ee)}var xt=B[J],gt=le,Lt=ve;for(Md(B,le,J),Ee(B[ve],xt)>0&&Md(B,le,ve);gt<Lt;){for(Md(B,gt,Lt),gt++,Lt--;Ee(B[gt],xt)<0;)gt++;for(;Ee(B[Lt],xt)>0;)Lt--}Ee(B[le],xt)===0?Md(B,le,Lt):Md(B,++Lt,ve),Lt<=J&&(le=Lt+1),J<=Lt&&(ve=Lt-1)}})(s,c,d||0,E||s.length-1,I||ev)}function Md(s,c,d){var E=s[c];s[c]=s[d],s[d]=E}function ev(s,c){return s<c?-1:s>c?1:0}function sm(s,c){var d=s.length;if(d<=1)return[s];for(var E,I,L=[],B=0;B<d;B++){var J=Yt(s[B]);J!==0&&(s[B].area=Math.abs(J),I===void 0&&(I=J<0),I===J<0?(E&&L.push(E),E=[s[B]]):E.push(s[B]))}if(E&&L.push(E),c>1)for(var le=0;le<L.length;le++)L[le].length<=c||(Vm(L[le],c,1,L[le].length-1,Ld),L[le]=L[le].slice(0,c));return L}function Ld(s,c){return c.area-s.area}function qf(s,c,d){for(var E=d.patternDependencies,I=!1,L=0,B=c;L<B.length;L+=1){var J=B[L].paint.get(s+"-pattern");J.isConstant()||(I=!0);var le=J.constantOr(null);le&&(I=!0,E[le.to]=!0,E[le.from]=!0)}return I}function xp(s,c,d,E,I){for(var L=I.patternDependencies,B=0,J=c;B<J.length;B+=1){var le=J[B],ve=le.paint.get(s+"-pattern").value;if(ve.kind!=="constant"){var Ee=ve.evaluate({zoom:E-1},d,{},I.availableImages),De=ve.evaluate({zoom:E},d,{},I.availableImages),Le=ve.evaluate({zoom:E+1},d,{},I.availableImages);De=De&&De.name?De.name:De,Le=Le&&Le.name?Le.name:Le,L[Ee=Ee&&Ee.name?Ee.name:Ee]=!0,L[De]=!0,L[Le]=!0,d.patterns[le.id]={min:Ee,mid:De,max:Le}}}return d}Uu.deviation=function(s,c,d,E){var I=c&&c.length,L=Math.abs(uh(s,0,I?c[0]*d:s.length,d));if(I)for(var B=0,J=c.length;B<J;B++)L-=Math.abs(uh(s,c[B]*d,B<J-1?c[B+1]*d:s.length,d));var le=0;for(B=0;B<E.length;B+=3){var ve=E[B]*d,Ee=E[B+1]*d,De=E[B+2]*d;le+=Math.abs((s[ve]-s[De])*(s[Ee+1]-s[ve+1])-(s[ve]-s[Ee])*(s[De+1]-s[ve+1]))}return L===0&&le===0?0:Math.abs((le-L)/L)},Uu.flatten=function(s){for(var c=s[0][0].length,d={vertices:[],holes:[],dimensions:c},E=0,I=0;I<s.length;I++){for(var L=0;L<s[I].length;L++)for(var B=0;B<c;B++)d.vertices.push(s[I][L][B]);I>0&&d.holes.push(E+=s[I-1].length)}return d},oh.default=Kh;var cc=function(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(function(c){return c.id}),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new uc,this.indexArray=new oi,this.indexArray2=new Tc,this.programConfigurations=new xn(s.layers,s.zoom),this.segments=new We,this.segments2=new We,this.stateDependentLayerIds=this.layers.filter(function(c){return c.isStateDependent()}).map(function(c){return c.id})};cc.prototype.populate=function(s,c,d){this.hasPattern=qf("fill",this.layers,c);for(var E=this.layers[0].layout.get("fill-sort-key"),I=[],L=0,B=s;L<B.length;L+=1){var J=B[L],le=J.feature,ve=J.id,Ee=J.index,De=J.sourceLayerIndex,Le=this.layers[0]._featureFilter.needGeometry,Ve=To(le,Le);if(this.layers[0]._featureFilter.filter(new ci(this.zoom),Ve,d)){var ut=E?E.evaluate(Ve,{},d,c.availableImages):void 0,ct={id:ve,properties:le.properties,type:le.type,sourceLayerIndex:De,index:Ee,geometry:Le?Ve.geometry:_o(le),patterns:{},sortKey:ut};I.push(ct)}}E&&I.sort(function(Ar,Hr){return Ar.sortKey-Hr.sortKey});for(var xt=0,gt=I;xt<gt.length;xt+=1){var Lt=gt[xt],Kt=Lt.geometry,Qt=Lt.index,ar=Lt.sourceLayerIndex;if(this.hasPattern){var pr=xp("fill",this.layers,Lt,this.zoom,c);this.patternFeatures.push(pr)}else this.addFeature(Lt,Kt,Qt,d,{});c.featureIndex.insert(s[Qt].feature,Kt,Qt,ar,this.index)}},cc.prototype.update=function(s,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,d)},cc.prototype.addFeatures=function(s,c,d){for(var E=0,I=this.patternFeatures;E<I.length;E+=1){var L=I[E];this.addFeature(L,L.geometry,L.index,c,d)}},cc.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},cc.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},cc.prototype.upload=function(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,zu),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.indexBuffer2=s.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(s),this.uploaded=!0},cc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},cc.prototype.addFeature=function(s,c,d,E,I){for(var L=0,B=sm(c,500);L<B.length;L+=1){for(var J=B[L],le=0,ve=0,Ee=J;ve<Ee.length;ve+=1)le+=Ee[ve].length;for(var De=this.segments.prepareSegment(le,this.layoutVertexArray,this.indexArray),Le=De.vertexLength,Ve=[],ut=[],ct=0,xt=J;ct<xt.length;ct+=1){var gt=xt[ct];if(gt.length!==0){gt!==J[0]&&ut.push(Ve.length/2);var Lt=this.segments2.prepareSegment(gt.length,this.layoutVertexArray,this.indexArray2),Kt=Lt.vertexLength;this.layoutVertexArray.emplaceBack(gt[0].x,gt[0].y),this.indexArray2.emplaceBack(Kt+gt.length-1,Kt),Ve.push(gt[0].x),Ve.push(gt[0].y);for(var Qt=1;Qt<gt.length;Qt++)this.layoutVertexArray.emplaceBack(gt[Qt].x,gt[Qt].y),this.indexArray2.emplaceBack(Kt+Qt-1,Kt+Qt),Ve.push(gt[Qt].x),Ve.push(gt[Qt].y);Lt.vertexLength+=gt.length,Lt.primitiveLength+=gt.length}}for(var ar=oh(Ve,ut),pr=0;pr<ar.length;pr+=3)this.indexArray.emplaceBack(Le+ar[pr],Le+ar[pr+1],Le+ar[pr+2]);De.vertexLength+=le,De.primitiveLength+=ar.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,d,I,E)},Zr("FillBucket",cc,{omit:["layers","patternFeatures"]});var $m=new ia({"fill-sort-key":new Sr(qe.layout_fill["fill-sort-key"])}),Yh={paint:new ia({"fill-antialias":new Rr(qe.paint_fill["fill-antialias"]),"fill-opacity":new Sr(qe.paint_fill["fill-opacity"]),"fill-color":new Sr(qe.paint_fill["fill-color"]),"fill-outline-color":new Sr(qe.paint_fill["fill-outline-color"]),"fill-translate":new Rr(qe.paint_fill["fill-translate"]),"fill-translate-anchor":new Rr(qe.paint_fill["fill-translate-anchor"]),"fill-pattern":new Dd(qe.paint_fill["fill-pattern"])}),layout:$m},ch=function(s){function c(d){s.call(this,d,Yh)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.recalculate=function(d,E){s.prototype.recalculate.call(this,d,E);var I=this.paint._values["fill-outline-color"];I.value.kind==="constant"&&I.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},c.prototype.createBucket=function(d){return new cc(d)},c.prototype.queryRadius=function(){return ji(this.paint.get("fill-translate"))},c.prototype.queryIntersectsFeature=function(d,E,I,L,B,J,le){return el(Ec(d,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),J.angle,le),L)},c.prototype.isTileClipped=function(){return!0},c}(Fu),_p=os([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,fh=ju;function ju(s,c,d,E,I){this.properties={},this.extent=d,this.type=0,this._pbf=s,this._geometry=-1,this._keys=E,this._values=I,s.readFields(tv,this,c)}function tv(s,c,d){s==1?c.id=d.readVarint():s==2?function(E,I){for(var L=E.readVarint()+E.pos;E.pos<L;){var B=I._keys[E.readVarint()],J=I._values[E.readVarint()];I.properties[B]=J}}(d,c):s==3?c.type=d.readVarint():s==4&&(c._geometry=d.pos)}function wp(s){for(var c,d,E=0,I=0,L=s.length,B=L-1;I<L;B=I++)E+=((d=s[B]).x-(c=s[I]).x)*(c.y+d.y);return E}ju.types=["Unknown","Point","LineString","Polygon"],ju.prototype.loadGeometry=function(){var s=this._pbf;s.pos=this._geometry;for(var c,d=s.readVarint()+s.pos,E=1,I=0,L=0,B=0,J=[];s.pos<d;){if(I<=0){var le=s.readVarint();E=7&le,I=le>>3}if(I--,E===1||E===2)L+=s.readSVarint(),B+=s.readSVarint(),E===1&&(c&&J.push(c),c=[]),c.push(new we(L,B));else{if(E!==7)throw new Error("unknown command "+E);c&&c.push(c[0].clone())}}return c&&J.push(c),J},ju.prototype.bbox=function(){var s=this._pbf;s.pos=this._geometry;for(var c=s.readVarint()+s.pos,d=1,E=0,I=0,L=0,B=1/0,J=-1/0,le=1/0,ve=-1/0;s.pos<c;){if(E<=0){var Ee=s.readVarint();d=7&Ee,E=Ee>>3}if(E--,d===1||d===2)(I+=s.readSVarint())<B&&(B=I),I>J&&(J=I),(L+=s.readSVarint())<le&&(le=L),L>ve&&(ve=L);else if(d!==7)throw new Error("unknown command "+d)}return[B,le,J,ve]},ju.prototype.toGeoJSON=function(s,c,d){var E,I,L=this.extent*Math.pow(2,d),B=this.extent*s,J=this.extent*c,le=this.loadGeometry(),ve=ju.types[this.type];function Ee(Ve){for(var ut=0;ut<Ve.length;ut++){var ct=Ve[ut];Ve[ut]=[360*(ct.x+B)/L-180,360/Math.PI*Math.atan(Math.exp((180-360*(ct.y+J)/L)*Math.PI/180))-90]}}switch(this.type){case 1:var De=[];for(E=0;E<le.length;E++)De[E]=le[E][0];Ee(le=De);break;case 2:for(E=0;E<le.length;E++)Ee(le[E]);break;case 3:for(le=function(Ve){var ut=Ve.length;if(ut<=1)return[Ve];for(var ct,xt,gt=[],Lt=0;Lt<ut;Lt++){var Kt=wp(Ve[Lt]);Kt!==0&&(xt===void 0&&(xt=Kt<0),xt===Kt<0?(ct&&gt.push(ct),ct=[Ve[Lt]]):ct.push(Ve[Lt]))}return ct&&gt.push(ct),gt}(le),E=0;E<le.length;E++)for(I=0;I<le[E].length;I++)Ee(le[E][I])}le.length===1?le=le[0]:ve="Multi"+ve;var Le={type:"Feature",geometry:{type:ve,coordinates:le},properties:this.properties};return"id"in this&&(Le.id=this.id),Le};var $o=Gm;function Gm(s,c){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=s,this._keys=[],this._values=[],this._features=[],s.readFields(Sp,this,c),this.length=this._features.length}function Sp(s,c,d){s===15?c.version=d.readVarint():s===1?c.name=d.readString():s===5?c.extent=d.readVarint():s===2?c._features.push(d.pos):s===3?c._keys.push(d.readString()):s===4&&c._values.push(function(E){for(var I=null,L=E.readVarint()+E.pos;E.pos<L;){var B=E.readVarint()>>3;I=B===1?E.readString():B===2?E.readFloat():B===3?E.readDouble():B===4?E.readVarint64():B===5?E.readVarint():B===6?E.readSVarint():B===7?E.readBoolean():null}return I}(d))}function Go(s,c,d){if(s===3){var E=new $o(d,d.readVarint()+d.pos);E.length&&(c[E.name]=E)}}Gm.prototype.feature=function(s){if(s<0||s>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[s];var c=this._pbf.readVarint()+this._pbf.pos;return new fh(this._pbf,c,this.extent,this._keys,this._values)};var _l={VectorTile:function(s,c){this.layers=s.readFields(Go,{},c)},VectorTileFeature:fh,VectorTileLayer:$o},Hu=_l.VectorTileFeature.types,pf=Math.pow(2,13);function wl(s,c,d,E,I,L,B,J){s.emplaceBack(c,d,2*Math.floor(E*pf)+B,I*pf*2,L*pf*2,Math.round(J))}var _u=function(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(function(c){return c.id}),this.index=s.index,this.hasPattern=!1,this.layoutVertexArray=new Gl,this.indexArray=new oi,this.programConfigurations=new xn(s.layers,s.zoom),this.segments=new We,this.stateDependentLayerIds=this.layers.filter(function(c){return c.isStateDependent()}).map(function(c){return c.id})};function Tp(s,c){return s.x===c.x&&(s.x<0||s.x>8192)||s.y===c.y&&(s.y<0||s.y>8192)}_u.prototype.populate=function(s,c,d){this.features=[],this.hasPattern=qf("fill-extrusion",this.layers,c);for(var E=0,I=s;E<I.length;E+=1){var L=I[E],B=L.feature,J=L.id,le=L.index,ve=L.sourceLayerIndex,Ee=this.layers[0]._featureFilter.needGeometry,De=To(B,Ee);if(this.layers[0]._featureFilter.filter(new ci(this.zoom),De,d)){var Le={id:J,sourceLayerIndex:ve,index:le,geometry:Ee?De.geometry:_o(B),properties:B.properties,type:B.type,patterns:{}};this.hasPattern?this.features.push(xp("fill-extrusion",this.layers,Le,this.zoom,c)):this.addFeature(Le,Le.geometry,le,d,{}),c.featureIndex.insert(B,Le.geometry,le,ve,this.index,!0)}}},_u.prototype.addFeatures=function(s,c,d){for(var E=0,I=this.features;E<I.length;E+=1){var L=I[E];this.addFeature(L,L.geometry,L.index,c,d)}},_u.prototype.update=function(s,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,d)},_u.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},_u.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},_u.prototype.upload=function(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,_p),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0},_u.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},_u.prototype.addFeature=function(s,c,d,E,I){for(var L=0,B=sm(c,500);L<B.length;L+=1){for(var J=B[L],le=0,ve=0,Ee=J;ve<Ee.length;ve+=1)le+=Ee[ve].length;for(var De=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Le=0,Ve=J;Le<Ve.length;Le+=1){var ut=Ve[Le];if(ut.length!==0&&!((Ei=ut).every(function(ni){return ni.x<0})||Ei.every(function(ni){return ni.x>8192})||Ei.every(function(ni){return ni.y<0})||Ei.every(function(ni){return ni.y>8192})))for(var ct=0,xt=0;xt<ut.length;xt++){var gt=ut[xt];if(xt>=1){var Lt=ut[xt-1];if(!Tp(gt,Lt)){De.vertexLength+4>We.MAX_VERTEX_ARRAY_LENGTH&&(De=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Kt=gt.sub(Lt)._perp()._unit(),Qt=Lt.dist(gt);ct+Qt>32768&&(ct=0),wl(this.layoutVertexArray,gt.x,gt.y,Kt.x,Kt.y,0,0,ct),wl(this.layoutVertexArray,gt.x,gt.y,Kt.x,Kt.y,0,1,ct),wl(this.layoutVertexArray,Lt.x,Lt.y,Kt.x,Kt.y,0,0,ct+=Qt),wl(this.layoutVertexArray,Lt.x,Lt.y,Kt.x,Kt.y,0,1,ct);var ar=De.vertexLength;this.indexArray.emplaceBack(ar,ar+2,ar+1),this.indexArray.emplaceBack(ar+1,ar+2,ar+3),De.vertexLength+=4,De.primitiveLength+=2}}}}if(De.vertexLength+le>We.MAX_VERTEX_ARRAY_LENGTH&&(De=this.segments.prepareSegment(le,this.layoutVertexArray,this.indexArray)),Hu[s.type]==="Polygon"){for(var pr=[],Ar=[],Hr=De.vertexLength,wn=0,Xr=J;wn<Xr.length;wn+=1){var An=Xr[wn];if(An.length!==0){An!==J[0]&&Ar.push(pr.length/2);for(var tn=0;tn<An.length;tn++){var hi=An[tn];wl(this.layoutVertexArray,hi.x,hi.y,0,0,1,1,0),pr.push(hi.x),pr.push(hi.y)}}}for(var zn=oh(pr,Ar),pn=0;pn<zn.length;pn+=3)this.indexArray.emplaceBack(Hr+zn[pn],Hr+zn[pn+2],Hr+zn[pn+1]);De.primitiveLength+=zn.length/3,De.vertexLength+=le}}var Ei;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,d,I,E)},Zr("FillExtrusionBucket",_u,{omit:["layers","features"]});var Km={paint:new ia({"fill-extrusion-opacity":new Rr(qe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Sr(qe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Rr(qe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Rr(qe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Dd(qe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Sr(qe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Sr(qe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Rr(qe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Ym=function(s){function c(d){s.call(this,d,Km)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.createBucket=function(d){return new _u(d)},c.prototype.queryRadius=function(){return ji(this.paint.get("fill-extrusion-translate"))},c.prototype.is3D=function(){return!0},c.prototype.queryIntersectsFeature=function(d,E,I,L,B,J,le,ve){var Ee=Ec(d,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),J.angle,le),De=this.paint.get("fill-extrusion-height").evaluate(E,I),Le=this.paint.get("fill-extrusion-base").evaluate(E,I),Ve=function(ct,xt,gt,Lt){for(var Kt=[],Qt=0,ar=ct;Qt<ar.length;Qt+=1){var pr=ar[Qt],Ar=[pr.x,pr.y,0,1];bi(Ar,Ar,xt),Kt.push(new we(Ar[0]/Ar[3],Ar[1]/Ar[3]))}return Kt}(Ee,ve),ut=function(ct,xt,gt,Lt){for(var Kt=[],Qt=[],ar=Lt[8]*xt,pr=Lt[9]*xt,Ar=Lt[10]*xt,Hr=Lt[11]*xt,wn=Lt[8]*gt,Xr=Lt[9]*gt,An=Lt[10]*gt,tn=Lt[11]*gt,hi=0,zn=ct;hi<zn.length;hi+=1){for(var pn=[],Ei=[],ni=0,zi=zn[hi];ni<zi.length;ni+=1){var In=zi[ni],lo=In.x,Da=In.y,cs=Lt[0]*lo+Lt[4]*Da+Lt[12],Za=Lt[1]*lo+Lt[5]*Da+Lt[13],uo=Lt[2]*lo+Lt[6]*Da+Lt[14],fs=Lt[3]*lo+Lt[7]*Da+Lt[15],tl=uo+Ar,Ba=fs+Hr,Wn=cs+wn,El=Za+Xr,aa=uo+An,Ii=fs+tn,kl=new we((cs+ar)/Ba,(Za+pr)/Ba);kl.z=tl/Ba,pn.push(kl);var si=new we(Wn/Ii,El/Ii);si.z=aa/Ii,Ei.push(si)}Kt.push(pn),Qt.push(Ei)}return[Kt,Qt]}(L,Le,De,ve);return function(ct,xt,gt){var Lt=1/0;el(gt,xt)&&(Lt=hh(gt,xt[0]));for(var Kt=0;Kt<xt.length;Kt++)for(var Qt=xt[Kt],ar=ct[Kt],pr=0;pr<Qt.length-1;pr++){var Ar=Qt[pr],Hr=[Ar,Qt[pr+1],ar[pr+1],ar[pr],Ar];Qs(gt,Hr)&&(Lt=Math.min(Lt,hh(gt,Hr)))}return Lt!==1/0&&Lt}(ut[0],ut[1],Ve)},c}(Fu);function Wu(s,c){return s.x*c.x+s.y*c.y}function hh(s,c){if(s.length===1){for(var d,E=0,I=c[E++];!d||I.equals(d);)if(!(d=c[E++]))return 1/0;for(;E<c.length;E++){var L=c[E],B=s[0],J=d.sub(I),le=L.sub(I),ve=B.sub(I),Ee=Wu(J,J),De=Wu(J,le),Le=Wu(le,le),Ve=Wu(ve,J),ut=Wu(ve,le),ct=Ee*Le-De*De,xt=(Le*Ve-De*ut)/ct,gt=(Ee*ut-De*Ve)/ct,Lt=I.z*(1-xt-gt)+d.z*xt+L.z*gt;if(isFinite(Lt))return Lt}return 1/0}for(var Kt=1/0,Qt=0,ar=c;Qt<ar.length;Qt+=1)Kt=Math.min(Kt,ar[Qt].z);return Kt}var Ep=os([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Eo=os([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Zh=_l.VectorTileFeature.types,Xh=Math.cos(Math.PI/180*37.5),en=Math.pow(2,14)/.5,ws=function(s){var c=this;this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(function(d){return d.id}),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(d){c.gradients[d.id]={}}),this.layoutVertexArray=new Zs,this.layoutVertexArray2=new Sc,this.indexArray=new oi,this.programConfigurations=new xn(s.layers,s.zoom),this.segments=new We,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(d){return d.isStateDependent()}).map(function(d){return d.id})};ws.prototype.populate=function(s,c,d){this.hasPattern=qf("line",this.layers,c);for(var E=this.layers[0].layout.get("line-sort-key"),I=[],L=0,B=s;L<B.length;L+=1){var J=B[L],le=J.feature,ve=J.id,Ee=J.index,De=J.sourceLayerIndex,Le=this.layers[0]._featureFilter.needGeometry,Ve=To(le,Le);if(this.layers[0]._featureFilter.filter(new ci(this.zoom),Ve,d)){var ut=E?E.evaluate(Ve,{},d):void 0,ct={id:ve,properties:le.properties,type:le.type,sourceLayerIndex:De,index:Ee,geometry:Le?Ve.geometry:_o(le),patterns:{},sortKey:ut};I.push(ct)}}E&&I.sort(function(Ar,Hr){return Ar.sortKey-Hr.sortKey});for(var xt=0,gt=I;xt<gt.length;xt+=1){var Lt=gt[xt],Kt=Lt.geometry,Qt=Lt.index,ar=Lt.sourceLayerIndex;if(this.hasPattern){var pr=xp("line",this.layers,Lt,this.zoom,c);this.patternFeatures.push(pr)}else this.addFeature(Lt,Kt,Qt,d,{});c.featureIndex.insert(s[Qt].feature,Kt,Qt,ar,this.index)}},ws.prototype.update=function(s,c,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,d)},ws.prototype.addFeatures=function(s,c,d){for(var E=0,I=this.patternFeatures;E<I.length;E+=1){var L=I[E];this.addFeature(L,L.geometry,L.index,c,d)}},ws.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ws.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ws.prototype.upload=function(s){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=s.createVertexBuffer(this.layoutVertexArray2,Eo)),this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,Ep),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0},ws.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ws.prototype.lineFeatureClips=function(s){if(s.properties&&s.properties.hasOwnProperty("mapbox_clip_start")&&s.properties.hasOwnProperty("mapbox_clip_end"))return{start:+s.properties.mapbox_clip_start,end:+s.properties.mapbox_clip_end}},ws.prototype.addFeature=function(s,c,d,E,I){var L=this.layers[0].layout,B=L.get("line-join").evaluate(s,{}),J=L.get("line-cap"),le=L.get("line-miter-limit"),ve=L.get("line-round-limit");this.lineClips=this.lineFeatureClips(s);for(var Ee=0,De=c;Ee<De.length;Ee+=1)this.addLine(De[Ee],s,B,J,le,ve);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,d,I,E)},ws.prototype.addLine=function(s,c,d,E,I,L){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var B=0;B<s.length-1;B++)this.totalDistance+=s[B].dist(s[B+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var J=Zh[c.type]==="Polygon",le=s.length;le>=2&&s[le-1].equals(s[le-2]);)le--;for(var ve=0;ve<le-1&&s[ve].equals(s[ve+1]);)ve++;if(!(le<(J?3:2))){d==="bevel"&&(I=1.05);var Ee,De=this.overscaling<=16?122880/(512*this.overscaling):0,Le=this.segments.prepareSegment(10*le,this.layoutVertexArray,this.indexArray),Ve=void 0,ut=void 0,ct=void 0,xt=void 0;this.e1=this.e2=-1,J&&(xt=s[ve].sub(Ee=s[le-2])._unit()._perp());for(var gt=ve;gt<le;gt++)if(!(ut=gt===le-1?J?s[ve+1]:void 0:s[gt+1])||!s[gt].equals(ut)){xt&&(ct=xt),Ee&&(Ve=Ee),Ee=s[gt],xt=ut?ut.sub(Ee)._unit()._perp():ct;var Lt=(ct=ct||xt).add(xt);Lt.x===0&&Lt.y===0||Lt._unit();var Kt=ct.x*xt.x+ct.y*xt.y,Qt=Lt.x*xt.x+Lt.y*xt.y,ar=Qt!==0?1/Qt:1/0,pr=2*Math.sqrt(2-2*Qt),Ar=Qt<Xh&&Ve&&ut,Hr=ct.x*xt.y-ct.y*xt.x>0;if(Ar&&gt>ve){var wn=Ee.dist(Ve);if(wn>2*De){var Xr=Ee.sub(Ee.sub(Ve)._mult(De/wn)._round());this.updateDistance(Ve,Xr),this.addCurrentVertex(Xr,ct,0,0,Le),Ve=Xr}}var An=Ve&&ut,tn=An?d:J?"butt":E;if(An&&tn==="round"&&(ar<L?tn="miter":ar<=2&&(tn="fakeround")),tn==="miter"&&ar>I&&(tn="bevel"),tn==="bevel"&&(ar>2&&(tn="flipbevel"),ar<I&&(tn="miter")),Ve&&this.updateDistance(Ve,Ee),tn==="miter")Lt._mult(ar),this.addCurrentVertex(Ee,Lt,0,0,Le);else if(tn==="flipbevel"){if(ar>100)Lt=xt.mult(-1);else{var hi=ar*ct.add(xt).mag()/ct.sub(xt).mag();Lt._perp()._mult(hi*(Hr?-1:1))}this.addCurrentVertex(Ee,Lt,0,0,Le),this.addCurrentVertex(Ee,Lt.mult(-1),0,0,Le)}else if(tn==="bevel"||tn==="fakeround"){var zn=-Math.sqrt(ar*ar-1),pn=Hr?zn:0,Ei=Hr?0:zn;if(Ve&&this.addCurrentVertex(Ee,ct,pn,Ei,Le),tn==="fakeround")for(var ni=Math.round(180*pr/Math.PI/20),zi=1;zi<ni;zi++){var In=zi/ni;if(In!==.5){var lo=In-.5;In+=In*lo*(In-1)*((1.0904+Kt*(Kt*(3.55645-1.43519*Kt)-3.2452))*lo*lo+(.848013+Kt*(.215638*Kt-1.06021)))}var Da=xt.sub(ct)._mult(In)._add(ct)._unit()._mult(Hr?-1:1);this.addHalfVertex(Ee,Da.x,Da.y,!1,Hr,0,Le)}ut&&this.addCurrentVertex(Ee,xt,-pn,-Ei,Le)}else if(tn==="butt")this.addCurrentVertex(Ee,Lt,0,0,Le);else if(tn==="square"){var cs=Ve?1:-1;this.addCurrentVertex(Ee,Lt,cs,cs,Le)}else tn==="round"&&(Ve&&(this.addCurrentVertex(Ee,ct,0,0,Le),this.addCurrentVertex(Ee,ct,1,1,Le,!0)),ut&&(this.addCurrentVertex(Ee,xt,-1,-1,Le,!0),this.addCurrentVertex(Ee,xt,0,0,Le)));if(Ar&&gt<le-1){var Za=Ee.dist(ut);if(Za>2*De){var uo=Ee.add(ut.sub(Ee)._mult(De/Za)._round());this.updateDistance(Ee,uo),this.addCurrentVertex(uo,xt,0,0,Le),Ee=uo}}}}},ws.prototype.addCurrentVertex=function(s,c,d,E,I,L){L===void 0&&(L=!1);var B=c.y*E-c.x,J=-c.y-c.x*E;this.addHalfVertex(s,c.x+c.y*d,c.y-c.x*d,L,!1,d,I),this.addHalfVertex(s,B,J,L,!0,-E,I),this.distance>en/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(s,c,d,E,I,L))},ws.prototype.addHalfVertex=function(s,c,d,E,I,L,B){var J=.5*(this.lineClips?this.scaledDistance*(en-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((s.x<<1)+(E?1:0),(s.y<<1)+(I?1:0),Math.round(63*c)+128,Math.round(63*d)+128,1+(L===0?0:L<0?-1:1)|(63&J)<<2,J>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var le=B.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,le),B.primitiveLength++),I?this.e2=le:this.e1=le},ws.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},ws.prototype.updateDistance=function(s,c){this.distance+=s.dist(c),this.updateScaledDistance()},Zr("LineBucket",ws,{omit:["layers","patternFeatures"]});var Pd=new ia({"line-cap":new Rr(qe.layout_line["line-cap"]),"line-join":new Sr(qe.layout_line["line-join"]),"line-miter-limit":new Rr(qe.layout_line["line-miter-limit"]),"line-round-limit":new Rr(qe.layout_line["line-round-limit"]),"line-sort-key":new Sr(qe.layout_line["line-sort-key"])}),fc={paint:new ia({"line-opacity":new Sr(qe.paint_line["line-opacity"]),"line-color":new Sr(qe.paint_line["line-color"]),"line-translate":new Rr(qe.paint_line["line-translate"]),"line-translate-anchor":new Rr(qe.paint_line["line-translate-anchor"]),"line-width":new Sr(qe.paint_line["line-width"]),"line-gap-width":new Sr(qe.paint_line["line-gap-width"]),"line-offset":new Sr(qe.paint_line["line-offset"]),"line-blur":new Sr(qe.paint_line["line-blur"]),"line-dasharray":new bs(qe.paint_line["line-dasharray"]),"line-pattern":new Dd(qe.paint_line["line-pattern"]),"line-gradient":new du(qe.paint_line["line-gradient"])}),layout:Pd},Ya=new(function(s){function c(){s.apply(this,arguments)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.possiblyEvaluate=function(d,E){return E=new ci(Math.floor(E.zoom),{now:E.now,fadeDuration:E.fadeDuration,zoomHistory:E.zoomHistory,transition:E.transition}),s.prototype.possiblyEvaluate.call(this,d,E)},c.prototype.evaluate=function(d,E,I,L){return E=G({},E,{zoom:Math.floor(E.zoom)}),s.prototype.evaluate.call(this,d,E,I,L)},c}(Sr))(fc.paint.properties["line-width"].specification);Ya.useIntegerZoom=!0;var Rd=function(s){function c(d){s.call(this,d,fc),this.gradientVersion=0}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype._handleSpecialPaintPropertyUpdate=function(d){d==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof zs,this.gradientVersion=(this.gradientVersion+1)%$e)},c.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},c.prototype.recalculate=function(d,E){s.prototype.recalculate.call(this,d,E),this.paint._values["line-floorwidth"]=Ya.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,d)},c.prototype.createBucket=function(d){return new ws(d)},c.prototype.queryRadius=function(d){var E=d,I=Zm(Nu("line-width",this,E),Nu("line-gap-width",this,E)),L=Nu("line-offset",this,E);return I/2+Math.abs(L)+ji(this.paint.get("line-translate"))},c.prototype.queryIntersectsFeature=function(d,E,I,L,B,J,le){var ve=Ec(d,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),J.angle,le),Ee=le/2*Zm(this.paint.get("line-width").evaluate(E,I),this.paint.get("line-gap-width").evaluate(E,I)),De=this.paint.get("line-offset").evaluate(E,I);return De&&(L=function(Le,Ve){for(var ut=[],ct=new we(0,0),xt=0;xt<Le.length;xt++){for(var gt=Le[xt],Lt=[],Kt=0;Kt<gt.length;Kt++){var Qt=gt[Kt],ar=gt[Kt+1],pr=Kt===0?ct:Qt.sub(gt[Kt-1])._unit()._perp(),Ar=Kt===gt.length-1?ct:ar.sub(Qt)._unit()._perp(),Hr=pr._add(Ar)._unit();Hr._mult(1/(Hr.x*Ar.x+Hr.y*Ar.y)),Lt.push(Hr._mult(Ve)._add(Qt))}ut.push(Lt)}return ut}(L,De*le)),function(Le,Ve,ut){for(var ct=0;ct<Ve.length;ct++){var xt=Ve[ct];if(Le.length>=3){for(var gt=0;gt<xt.length;gt++)if(Hs(Le,xt[gt]))return!0}if(xs(Le,xt,ut))return!0}return!1}(ve,L,Ee)},c.prototype.isTileClipped=function(){return!0},c}(Fu);function Zm(s,c){return c>0?c+2*s:s}var Hi=os([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),lm=os([{name:"a_projected_pos",components:3,type:"Float32"}],4),f=(os([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),os([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),v=(os([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),os([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),A=os([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function o(s,c,d){return s.sections.forEach(function(E){E.text=function(I,L,B){var J=L.layout.get("text-transform").evaluate(B,{});return J==="uppercase"?I=I.toLocaleUpperCase():J==="lowercase"&&(I=I.toLocaleLowerCase()),ys.applyArabicShaping&&(I=ys.applyArabicShaping(I)),I}(E.text,c,d)}),s}os([{name:"triangle",components:3,type:"Uint16"}]),os([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),os([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),os([{type:"Float32",name:"offsetX"}]),os([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var u={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"},p=function(s,c,d,E,I){var L,B,J=8*I-E-1,le=(1<<J)-1,ve=le>>1,Ee=-7,De=d?I-1:0,Le=d?-1:1,Ve=s[c+De];for(De+=Le,L=Ve&(1<<-Ee)-1,Ve>>=-Ee,Ee+=J;Ee>0;L=256*L+s[c+De],De+=Le,Ee-=8);for(B=L&(1<<-Ee)-1,L>>=-Ee,Ee+=E;Ee>0;B=256*B+s[c+De],De+=Le,Ee-=8);if(L===0)L=1-ve;else{if(L===le)return B?NaN:1/0*(Ve?-1:1);B+=Math.pow(2,E),L-=ve}return(Ve?-1:1)*B*Math.pow(2,L-E)},b=function(s,c,d,E,I,L){var B,J,le,ve=8*L-I-1,Ee=(1<<ve)-1,De=Ee>>1,Le=I===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ve=E?0:L-1,ut=E?1:-1,ct=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(J=isNaN(c)?1:0,B=Ee):(B=Math.floor(Math.log(c)/Math.LN2),c*(le=Math.pow(2,-B))<1&&(B--,le*=2),(c+=B+De>=1?Le/le:Le*Math.pow(2,1-De))*le>=2&&(B++,le/=2),B+De>=Ee?(J=0,B=Ee):B+De>=1?(J=(c*le-1)*Math.pow(2,I),B+=De):(J=c*Math.pow(2,De-1)*Math.pow(2,I),B=0));I>=8;s[d+Ve]=255&J,Ve+=ut,J/=256,I-=8);for(B=B<<I|J,ve+=I;ve>0;s[d+Ve]=255&B,Ve+=ut,B/=256,ve-=8);s[d+Ve-ut]|=128*ct},T=M;function M(s){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(s)?s:new Uint8Array(s||0),this.pos=0,this.type=0,this.length=this.buf.length}M.Varint=0,M.Fixed64=1,M.Bytes=2,M.Fixed32=5;var N=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Z(s){return s.type===M.Bytes?s.readVarint()+s.pos:s.pos+1}function Q(s,c,d){return d?4294967296*c+(s>>>0):4294967296*(c>>>0)+(s>>>0)}function ue(s,c,d){var E=c<=16383?1:c<=2097151?2:c<=268435455?3:Math.floor(Math.log(c)/(7*Math.LN2));d.realloc(E);for(var I=d.pos-1;I>=s;I--)d.buf[I+E]=d.buf[I]}function Ce(s,c){for(var d=0;d<s.length;d++)c.writeVarint(s[d])}function Re(s,c){for(var d=0;d<s.length;d++)c.writeSVarint(s[d])}function it(s,c){for(var d=0;d<s.length;d++)c.writeFloat(s[d])}function at(s,c){for(var d=0;d<s.length;d++)c.writeDouble(s[d])}function wt(s,c){for(var d=0;d<s.length;d++)c.writeBoolean(s[d])}function zt(s,c){for(var d=0;d<s.length;d++)c.writeFixed32(s[d])}function $t(s,c){for(var d=0;d<s.length;d++)c.writeSFixed32(s[d])}function or(s,c){for(var d=0;d<s.length;d++)c.writeFixed64(s[d])}function dr(s,c){for(var d=0;d<s.length;d++)c.writeSFixed64(s[d])}function ur(s,c){return(s[c]|s[c+1]<<8|s[c+2]<<16)+16777216*s[c+3]}function xr(s,c,d){s[d]=c,s[d+1]=c>>>8,s[d+2]=c>>>16,s[d+3]=c>>>24}function Jr(s,c){return(s[c]|s[c+1]<<8|s[c+2]<<16)+(s[c+3]<<24)}function ln(s,c,d){s===1&&d.readMessage(_n,c)}function _n(s,c,d){if(s===3){var E=d.readMessage(Ti,{}),I=E.width,L=E.height,B=E.left,J=E.top,le=E.advance;c.push({id:E.id,bitmap:new _s({width:I+6,height:L+6},E.bitmap),metrics:{width:I,height:L,left:B,top:J,advance:le}})}}function Ti(s,c,d){s===1?c.id=d.readVarint():s===2?c.bitmap=d.readBytes():s===3?c.width=d.readVarint():s===4?c.height=d.readVarint():s===5?c.left=d.readSVarint():s===6?c.top=d.readSVarint():s===7&&(c.advance=d.readVarint())}function ao(s){for(var c=0,d=0,E=0,I=s;E<I.length;E+=1){var L=I[E];c+=L.w*L.h,d=Math.max(d,L.w)}s.sort(function(ct,xt){return xt.h-ct.h});for(var B=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(c/.95)),d),h:1/0}],J=0,le=0,ve=0,Ee=s;ve<Ee.length;ve+=1)for(var De=Ee[ve],Le=B.length-1;Le>=0;Le--){var Ve=B[Le];if(!(De.w>Ve.w||De.h>Ve.h)){if(De.x=Ve.x,De.y=Ve.y,le=Math.max(le,De.y+De.h),J=Math.max(J,De.x+De.w),De.w===Ve.w&&De.h===Ve.h){var ut=B.pop();Le<B.length&&(B[Le]=ut)}else De.h===Ve.h?(Ve.x+=De.w,Ve.w-=De.w):De.w===Ve.w?(Ve.y+=De.h,Ve.h-=De.h):(B.push({x:Ve.x+De.w,y:Ve.y,w:Ve.w-De.w,h:De.h}),Ve.y+=De.h,Ve.h-=De.h);break}}return{w:J,h:le,fill:c/(J*le)||0}}M.prototype={destroy:function(){this.buf=null},readFields:function(s,c,d){for(d=d||this.length;this.pos<d;){var E=this.readVarint(),I=E>>3,L=this.pos;this.type=7&E,s(I,c,this),this.pos===L&&this.skip(E)}return c},readMessage:function(s,c){return this.readFields(s,c,this.readVarint()+this.pos)},readFixed32:function(){var s=ur(this.buf,this.pos);return this.pos+=4,s},readSFixed32:function(){var s=Jr(this.buf,this.pos);return this.pos+=4,s},readFixed64:function(){var s=ur(this.buf,this.pos)+4294967296*ur(this.buf,this.pos+4);return this.pos+=8,s},readSFixed64:function(){var s=ur(this.buf,this.pos)+4294967296*Jr(this.buf,this.pos+4);return this.pos+=8,s},readFloat:function(){var s=p(this.buf,this.pos,!0,23,4);return this.pos+=4,s},readDouble:function(){var s=p(this.buf,this.pos,!0,52,8);return this.pos+=8,s},readVarint:function(s){var c,d,E=this.buf;return c=127&(d=E[this.pos++]),d<128?c:(c|=(127&(d=E[this.pos++]))<<7,d<128?c:(c|=(127&(d=E[this.pos++]))<<14,d<128?c:(c|=(127&(d=E[this.pos++]))<<21,d<128?c:function(I,L,B){var J,le,ve=B.buf;if(J=(112&(le=ve[B.pos++]))>>4,le<128||(J|=(127&(le=ve[B.pos++]))<<3,le<128)||(J|=(127&(le=ve[B.pos++]))<<10,le<128)||(J|=(127&(le=ve[B.pos++]))<<17,le<128)||(J|=(127&(le=ve[B.pos++]))<<24,le<128)||(J|=(1&(le=ve[B.pos++]))<<31,le<128))return Q(I,J,L);throw new Error("Expected varint not more than 10 bytes")}(c|=(15&(d=E[this.pos]))<<28,s,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var s=this.readVarint();return s%2==1?(s+1)/-2:s/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var s=this.readVarint()+this.pos,c=this.pos;return this.pos=s,s-c>=12&&N?function(d,E,I){return N.decode(d.subarray(E,I))}(this.buf,c,s):function(d,E,I){for(var L="",B=E;B<I;){var J,le,ve,Ee=d[B],De=null,Le=Ee>239?4:Ee>223?3:Ee>191?2:1;if(B+Le>I)break;Le===1?Ee<128&&(De=Ee):Le===2?(192&(J=d[B+1]))==128&&(De=(31&Ee)<<6|63&J)<=127&&(De=null):Le===3?(le=d[B+2],(192&(J=d[B+1]))==128&&(192&le)==128&&((De=(15&Ee)<<12|(63&J)<<6|63&le)<=2047||De>=55296&&De<=57343)&&(De=null)):Le===4&&(le=d[B+2],ve=d[B+3],(192&(J=d[B+1]))==128&&(192&le)==128&&(192&ve)==128&&((De=(15&Ee)<<18|(63&J)<<12|(63&le)<<6|63&ve)<=65535||De>=1114112)&&(De=null)),De===null?(De=65533,Le=1):De>65535&&(De-=65536,L+=String.fromCharCode(De>>>10&1023|55296),De=56320|1023&De),L+=String.fromCharCode(De),B+=Le}return L}(this.buf,c,s)},readBytes:function(){var s=this.readVarint()+this.pos,c=this.buf.subarray(this.pos,s);return this.pos=s,c},readPackedVarint:function(s,c){if(this.type!==M.Bytes)return s.push(this.readVarint(c));var d=Z(this);for(s=s||[];this.pos<d;)s.push(this.readVarint(c));return s},readPackedSVarint:function(s){if(this.type!==M.Bytes)return s.push(this.readSVarint());var c=Z(this);for(s=s||[];this.pos<c;)s.push(this.readSVarint());return s},readPackedBoolean:function(s){if(this.type!==M.Bytes)return s.push(this.readBoolean());var c=Z(this);for(s=s||[];this.pos<c;)s.push(this.readBoolean());return s},readPackedFloat:function(s){if(this.type!==M.Bytes)return s.push(this.readFloat());var c=Z(this);for(s=s||[];this.pos<c;)s.push(this.readFloat());return s},readPackedDouble:function(s){if(this.type!==M.Bytes)return s.push(this.readDouble());var c=Z(this);for(s=s||[];this.pos<c;)s.push(this.readDouble());return s},readPackedFixed32:function(s){if(this.type!==M.Bytes)return s.push(this.readFixed32());var c=Z(this);for(s=s||[];this.pos<c;)s.push(this.readFixed32());return s},readPackedSFixed32:function(s){if(this.type!==M.Bytes)return s.push(this.readSFixed32());var c=Z(this);for(s=s||[];this.pos<c;)s.push(this.readSFixed32());return s},readPackedFixed64:function(s){if(this.type!==M.Bytes)return s.push(this.readFixed64());var c=Z(this);for(s=s||[];this.pos<c;)s.push(this.readFixed64());return s},readPackedSFixed64:function(s){if(this.type!==M.Bytes)return s.push(this.readSFixed64());var c=Z(this);for(s=s||[];this.pos<c;)s.push(this.readSFixed64());return s},skip:function(s){var c=7&s;if(c===M.Varint)for(;this.buf[this.pos++]>127;);else if(c===M.Bytes)this.pos=this.readVarint()+this.pos;else if(c===M.Fixed32)this.pos+=4;else{if(c!==M.Fixed64)throw new Error("Unimplemented type: "+c);this.pos+=8}},writeTag:function(s,c){this.writeVarint(s<<3|c)},realloc:function(s){for(var c=this.length||16;c<this.pos+s;)c*=2;if(c!==this.length){var d=new Uint8Array(c);d.set(this.buf),this.buf=d,this.length=c}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(s){this.realloc(4),xr(this.buf,s,this.pos),this.pos+=4},writeSFixed32:function(s){this.realloc(4),xr(this.buf,s,this.pos),this.pos+=4},writeFixed64:function(s){this.realloc(8),xr(this.buf,-1&s,this.pos),xr(this.buf,Math.floor(s*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(s){this.realloc(8),xr(this.buf,-1&s,this.pos),xr(this.buf,Math.floor(s*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(s){(s=+s||0)>268435455||s<0?function(c,d){var E,I;if(c>=0?(E=c%4294967296|0,I=c/4294967296|0):(I=~(-c/4294967296),4294967295^(E=~(-c%4294967296))?E=E+1|0:(E=0,I=I+1|0)),c>=18446744073709552e3||c<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");d.realloc(10),function(L,B,J){J.buf[J.pos++]=127&L|128,L>>>=7,J.buf[J.pos++]=127&L|128,L>>>=7,J.buf[J.pos++]=127&L|128,L>>>=7,J.buf[J.pos++]=127&L|128,J.buf[J.pos]=127&(L>>>=7)}(E,0,d),function(L,B){var J=(7&L)<<4;B.buf[B.pos++]|=J|((L>>>=3)?128:0),L&&(B.buf[B.pos++]=127&L|((L>>>=7)?128:0),L&&(B.buf[B.pos++]=127&L|((L>>>=7)?128:0),L&&(B.buf[B.pos++]=127&L|((L>>>=7)?128:0),L&&(B.buf[B.pos++]=127&L|((L>>>=7)?128:0),L&&(B.buf[B.pos++]=127&L)))))}(I,d)}(s,this):(this.realloc(4),this.buf[this.pos++]=127&s|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=s>>>7&127))))},writeSVarint:function(s){this.writeVarint(s<0?2*-s-1:2*s)},writeBoolean:function(s){this.writeVarint(Boolean(s))},writeString:function(s){s=String(s),this.realloc(4*s.length),this.pos++;var c=this.pos;this.pos=function(E,I,L){for(var B,J,le=0;le<I.length;le++){if((B=I.charCodeAt(le))>55295&&B<57344){if(!J){B>56319||le+1===I.length?(E[L++]=239,E[L++]=191,E[L++]=189):J=B;continue}if(B<56320){E[L++]=239,E[L++]=191,E[L++]=189,J=B;continue}B=J-55296<<10|B-56320|65536,J=null}else J&&(E[L++]=239,E[L++]=191,E[L++]=189,J=null);B<128?E[L++]=B:(B<2048?E[L++]=B>>6|192:(B<65536?E[L++]=B>>12|224:(E[L++]=B>>18|240,E[L++]=B>>12&63|128),E[L++]=B>>6&63|128),E[L++]=63&B|128)}return L}(this.buf,s,this.pos);var d=this.pos-c;d>=128&&ue(c,d,this),this.pos=c-1,this.writeVarint(d),this.pos+=d},writeFloat:function(s){this.realloc(4),b(this.buf,s,this.pos,!0,23,4),this.pos+=4},writeDouble:function(s){this.realloc(8),b(this.buf,s,this.pos,!0,52,8),this.pos+=8},writeBytes:function(s){var c=s.length;this.writeVarint(c),this.realloc(c);for(var d=0;d<c;d++)this.buf[this.pos++]=s[d]},writeRawMessage:function(s,c){this.pos++;var d=this.pos;s(c,this);var E=this.pos-d;E>=128&&ue(d,E,this),this.pos=d-1,this.writeVarint(E),this.pos+=E},writeMessage:function(s,c,d){this.writeTag(s,M.Bytes),this.writeRawMessage(c,d)},writePackedVarint:function(s,c){c.length&&this.writeMessage(s,Ce,c)},writePackedSVarint:function(s,c){c.length&&this.writeMessage(s,Re,c)},writePackedBoolean:function(s,c){c.length&&this.writeMessage(s,wt,c)},writePackedFloat:function(s,c){c.length&&this.writeMessage(s,it,c)},writePackedDouble:function(s,c){c.length&&this.writeMessage(s,at,c)},writePackedFixed32:function(s,c){c.length&&this.writeMessage(s,zt,c)},writePackedSFixed32:function(s,c){c.length&&this.writeMessage(s,$t,c)},writePackedFixed64:function(s,c){c.length&&this.writeMessage(s,or,c)},writePackedSFixed64:function(s,c){c.length&&this.writeMessage(s,dr,c)},writeBytesField:function(s,c){this.writeTag(s,M.Bytes),this.writeBytes(c)},writeFixed32Field:function(s,c){this.writeTag(s,M.Fixed32),this.writeFixed32(c)},writeSFixed32Field:function(s,c){this.writeTag(s,M.Fixed32),this.writeSFixed32(c)},writeFixed64Field:function(s,c){this.writeTag(s,M.Fixed64),this.writeFixed64(c)},writeSFixed64Field:function(s,c){this.writeTag(s,M.Fixed64),this.writeSFixed64(c)},writeVarintField:function(s,c){this.writeTag(s,M.Varint),this.writeVarint(c)},writeSVarintField:function(s,c){this.writeTag(s,M.Varint),this.writeSVarint(c)},writeStringField:function(s,c){this.writeTag(s,M.Bytes),this.writeString(c)},writeFloatField:function(s,c){this.writeTag(s,M.Fixed32),this.writeFloat(c)},writeDoubleField:function(s,c){this.writeTag(s,M.Fixed64),this.writeDouble(c)},writeBooleanField:function(s,c){this.writeVarintField(s,Boolean(c))}};var ai=function(s,c){var d=c.pixelRatio,E=c.version,I=c.stretchX,L=c.stretchY,B=c.content;this.paddedRect=s,this.pixelRatio=d,this.stretchX=I,this.stretchY=L,this.content=B,this.version=E},so={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};so.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},so.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},so.tlbr.get=function(){return this.tl.concat(this.br)},so.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(ai.prototype,so);var Wi=function(s,c){var d={},E={};this.haveRenderCallbacks=[];var I=[];this.addImages(s,d,I),this.addImages(c,E,I);var L=ao(I),B=new Ms({width:L.w||1,height:L.h||1});for(var J in s){var le=s[J],ve=d[J].paddedRect;Ms.copy(le.data,B,{x:0,y:0},{x:ve.x+1,y:ve.y+1},le.data)}for(var Ee in c){var De=c[Ee],Le=E[Ee].paddedRect,Ve=Le.x+1,ut=Le.y+1,ct=De.data.width,xt=De.data.height;Ms.copy(De.data,B,{x:0,y:0},{x:Ve,y:ut},De.data),Ms.copy(De.data,B,{x:0,y:xt-1},{x:Ve,y:ut-1},{width:ct,height:1}),Ms.copy(De.data,B,{x:0,y:0},{x:Ve,y:ut+xt},{width:ct,height:1}),Ms.copy(De.data,B,{x:ct-1,y:0},{x:Ve-1,y:ut},{width:1,height:xt}),Ms.copy(De.data,B,{x:0,y:0},{x:Ve+ct,y:ut},{width:1,height:xt})}this.image=B,this.iconPositions=d,this.patternPositions=E};Wi.prototype.addImages=function(s,c,d){for(var E in s){var I=s[E],L={x:0,y:0,w:I.data.width+2,h:I.data.height+2};d.push(L),c[E]=new ai(L,I),I.hasRenderCallback&&this.haveRenderCallbacks.push(E)}},Wi.prototype.patchUpdatedImages=function(s,c){for(var d in s.dispatchRenderCallbacks(this.haveRenderCallbacks),s.updatedImages)this.patchUpdatedImage(this.iconPositions[d],s.getImage(d),c),this.patchUpdatedImage(this.patternPositions[d],s.getImage(d),c)},Wi.prototype.patchUpdatedImage=function(s,c,d){if(s&&c&&s.version!==c.version){s.version=c.version;var E=s.tl;d.update(c.data,void 0,{x:E[0],y:E[1]})}},Zr("ImagePosition",ai),Zr("ImageAtlas",Wi);var Pn={horizontal:1,vertical:2,horizontalOnly:3},fi=function(){this.scale=1,this.fontStack="",this.imageName=null};fi.forText=function(s,c){var d=new fi;return d.scale=s||1,d.fontStack=c,d},fi.forImage=function(s){var c=new fi;return c.imageName=s,c};var jn=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Bi(s,c,d,E,I,L,B,J,le,ve,Ee,De,Le,Ve,ut,ct){var xt,gt=jn.fromFeature(s,I);De===Pn.vertical&&gt.verticalizePunctuation();var Lt=ys.processBidirectionalText,Kt=ys.processStyledBidirectionalText;if(Lt&&gt.sections.length===1){xt=[];for(var Qt=0,ar=Lt(gt.toString(),Ps(gt,ve,L,c,E,Ve,ut));Qt<ar.length;Qt+=1){var pr=ar[Qt],Ar=new jn;Ar.text=pr,Ar.sections=gt.sections;for(var Hr=0;Hr<pr.length;Hr++)Ar.sectionIndex.push(0);xt.push(Ar)}}else if(Kt){xt=[];for(var wn=0,Xr=Kt(gt.text,gt.sectionIndex,Ps(gt,ve,L,c,E,Ve,ut));wn<Xr.length;wn+=1){var An=Xr[wn],tn=new jn;tn.text=An[0],tn.sectionIndex=An[1],tn.sections=gt.sections,xt.push(tn)}}else xt=function(pn,Ei){for(var ni=[],zi=pn.text,In=0,lo=0,Da=Ei;lo<Da.length;lo+=1){var cs=Da[lo];ni.push(pn.substring(In,cs)),In=cs}return In<zi.length&&ni.push(pn.substring(In,zi.length)),ni}(gt,Ps(gt,ve,L,c,E,Ve,ut));var hi=[],zn={positionedLines:hi,text:gt.toString(),top:Ee[1],bottom:Ee[1],left:Ee[0],right:Ee[0],writingMode:De,iconsInText:!1,verticalizable:!1};return function(pn,Ei,ni,zi,In,lo,Da,cs,Za,uo,fs,tl){for(var Ba=0,Wn=-17,El=0,aa=0,Ii=cs==="right"?1:cs==="left"?0:.5,kl=0,si=0,Yo=In;si<Yo.length;si+=1){var Lo=Yo[si];Lo.trim();var Vi=Lo.getMaxScale(),hc=24*(Vi-1),wu={positionedGlyphs:[],lineOffset:0};pn.positionedLines[kl]=wu;var ea=wu.positionedGlyphs,Rs=0;if(Lo.length()){for(var Xa=0;Xa<Lo.length();Xa++){var Ji=Lo.getSection(Xa),zf=Lo.getSectionIndex(Xa),Co=Lo.getCharCode(Xa),sa=0,hs=null,Nd=null,dh=null,ov=24,ng=!(Za===Pn.horizontal||!fs&&!sc(Co)||fs&&(Ko[Co]||(Cl=Co,wr.Arabic(Cl)||wr["Arabic Supplement"](Cl)||wr["Arabic Extended-A"](Cl)||wr["Arabic Presentation Forms-A"](Cl)||wr["Arabic Presentation Forms-B"](Cl))));if(Ji.imageName){var av=zi[Ji.imageName];if(!av)continue;dh=Ji.imageName,pn.iconsInText=pn.iconsInText||!0,Nd=av.paddedRect;var Cp=av.displaySize;Ji.scale=24*Ji.scale/tl,sa=hc+(24-Cp[1]*Ji.scale),ov=(hs={width:Cp[0],height:Cp[1],left:1,top:-3,advance:ng?Cp[1]:Cp[0]}).advance;var ig=ng?Cp[0]*Ji.scale-24*Vi:Cp[1]*Ji.scale-24*Vi;ig>0&&ig>Rs&&(Rs=ig)}else{var um=ni[Ji.fontStack],cm=um&&um[Co];if(cm&&cm.rect)Nd=cm.rect,hs=cm.metrics;else{var Ry=Ei[Ji.fontStack],Fy=Ry&&Ry[Co];if(!Fy)continue;hs=Fy.metrics}sa=24*(Vi-Ji.scale)}ng?(pn.verticalizable=!0,ea.push({glyph:Co,imageName:dh,x:Ba,y:Wn+sa,vertical:ng,scale:Ji.scale,fontStack:Ji.fontStack,sectionIndex:zf,metrics:hs,rect:Nd}),Ba+=ov*Ji.scale+uo):(ea.push({glyph:Co,imageName:dh,x:Ba,y:Wn+sa,vertical:ng,scale:Ji.scale,fontStack:Ji.fontStack,sectionIndex:zf,metrics:hs,rect:Nd}),Ba+=hs.advance*Ji.scale+uo)}ea.length!==0&&(El=Math.max(Ba-uo,El),Nf(ea,0,ea.length-1,Ii,Rs)),Ba=0;var og=lo*Vi+Rs;wu.lineOffset=Math.max(Rs,hc),Wn+=og,aa=Math.max(og,aa),++kl}else Wn+=lo,++kl}var Cl,Bd=Wn- -17,sv=oa(Da),fm=sv.horizontalAlign,lv=sv.verticalAlign;(function(D0,O0,uv,Uf,Pi,cv,Oc,fv,I0){var Po,M0=(O0-uv)*Pi;Po=cv!==Oc?-fv*Uf- -17:(-Uf*I0+.5)*Oc;for(var ag=0,hm=D0;ag<hm.length;ag+=1)for(var sg=0,qy=hm[ag].positionedGlyphs;sg<qy.length;sg+=1){var hv=qy[sg];hv.x+=M0,hv.y+=Po}})(pn.positionedLines,Ii,fm,lv,El,aa,lo,Bd,In.length),pn.top+=-lv*Bd,pn.bottom=pn.top+Bd,pn.left+=-fm*El,pn.right=pn.left+El}(zn,c,d,E,xt,B,J,le,De,ve,Le,ct),!function(pn){for(var Ei=0,ni=pn;Ei<ni.length;Ei+=1)if(ni[Ei].positionedGlyphs.length!==0)return!1;return!0}(hi)&&zn}jn.fromFeature=function(s,c){for(var d=new jn,E=0;E<s.sections.length;E++){var I=s.sections[E];I.image?d.addImageSection(I):d.addTextSection(I,c)}return d},jn.prototype.length=function(){return this.text.length},jn.prototype.getSection=function(s){return this.sections[this.sectionIndex[s]]},jn.prototype.getSectionIndex=function(s){return this.sectionIndex[s]},jn.prototype.getCharCode=function(s){return this.text.charCodeAt(s)},jn.prototype.verticalizePunctuation=function(){this.text=function(s){for(var c="",d=0;d<s.length;d++){var E=s.charCodeAt(d+1)||null,I=s.charCodeAt(d-1)||null;c+=E&&lc(E)&&!u[s[d+1]]||I&&lc(I)&&!u[s[d-1]]||!u[s[d]]?s[d]:u[s[d]]}return c}(this.text)},jn.prototype.trim=function(){for(var s=0,c=0;c<this.text.length&&Ko[this.text.charCodeAt(c)];c++)s++;for(var d=this.text.length,E=this.text.length-1;E>=0&&E>=s&&Ko[this.text.charCodeAt(E)];E--)d--;this.text=this.text.substring(s,d),this.sectionIndex=this.sectionIndex.slice(s,d)},jn.prototype.substring=function(s,c){var d=new jn;return d.text=this.text.substring(s,c),d.sectionIndex=this.sectionIndex.slice(s,c),d.sections=this.sections,d},jn.prototype.toString=function(){return this.text},jn.prototype.getMaxScale=function(){var s=this;return this.sectionIndex.reduce(function(c,d){return Math.max(c,s.sections[d].scale)},0)},jn.prototype.addTextSection=function(s,c){this.text+=s.text,this.sections.push(fi.forText(s.scale,s.fontStack||c));for(var d=this.sections.length-1,E=0;E<s.text.length;++E)this.sectionIndex.push(d)},jn.prototype.addImageSection=function(s){var c=s.image?s.image.name:"";if(c.length!==0){var d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(fi.forImage(c)),this.sectionIndex.push(this.sections.length-1)):Ht("Reached maximum number of images 6401")}else Ht("Can't add FormattedSection with an empty image.")},jn.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Ko={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},_i={};function ko(s,c,d,E,I,L){if(c.imageName){var B=E[c.imageName];return B?B.displaySize[0]*c.scale*24/L+I:0}var J=d[c.fontStack],le=J&&J[s];return le?le.metrics.advance*c.scale+I:0}function Jl(s,c,d,E){var I=Math.pow(s-c,2);return E?s<c?I/2:2*I:I+Math.abs(d)*d}function ma(s,c,d){var E=0;return s===10&&(E-=1e4),d&&(E+=150),s!==40&&s!==65288||(E+=50),c!==41&&c!==65289||(E+=50),E}function Ls(s,c,d,E,I,L){for(var B=null,J=Jl(c,d,I,L),le=0,ve=E;le<ve.length;le+=1){var Ee=ve[le],De=Jl(c-Ee.x,d,I,L)+Ee.badness;De<=J&&(B=Ee,J=De)}return{index:s,x:c,priorBreak:B,badness:J}}function Ps(s,c,d,E,I,L,B){if(L!=="point")return[];if(!s)return[];for(var J,le=[],ve=function(xt,gt,Lt,Kt,Qt,ar){for(var pr=0,Ar=0;Ar<xt.length();Ar++){var Hr=xt.getSection(Ar);pr+=ko(xt.getCharCode(Ar),Hr,Kt,Qt,gt,ar)}return pr/Math.max(1,Math.ceil(pr/Lt))}(s,c,d,E,I,B),Ee=s.text.indexOf("\u200B")>=0,De=0,Le=0;Le<s.length();Le++){var Ve=s.getSection(Le),ut=s.getCharCode(Le);if(Ko[ut]||(De+=ko(ut,Ve,E,I,c,B)),Le<s.length()-1){var ct=!((J=ut)<11904||!(wr["Bopomofo Extended"](J)||wr.Bopomofo(J)||wr["CJK Compatibility Forms"](J)||wr["CJK Compatibility Ideographs"](J)||wr["CJK Compatibility"](J)||wr["CJK Radicals Supplement"](J)||wr["CJK Strokes"](J)||wr["CJK Symbols and Punctuation"](J)||wr["CJK Unified Ideographs Extension A"](J)||wr["CJK Unified Ideographs"](J)||wr["Enclosed CJK Letters and Months"](J)||wr["Halfwidth and Fullwidth Forms"](J)||wr.Hiragana(J)||wr["Ideographic Description Characters"](J)||wr["Kangxi Radicals"](J)||wr["Katakana Phonetic Extensions"](J)||wr.Katakana(J)||wr["Vertical Forms"](J)||wr["Yi Radicals"](J)||wr["Yi Syllables"](J)));(_i[ut]||ct||Ve.imageName)&&le.push(Ls(Le+1,De,ve,le,ma(ut,s.getCharCode(Le+1),ct&&Ee),!1))}}return function xt(gt){return gt?xt(gt.priorBreak).concat(gt.index):[]}(Ls(s.length(),De,ve,le,0,!0))}function oa(s){var c=.5,d=.5;switch(s){case"right":case"top-right":case"bottom-right":c=1;break;case"left":case"top-left":case"bottom-left":c=0}switch(s){case"bottom":case"bottom-right":case"bottom-left":d=1;break;case"top":case"top-right":case"top-left":d=0}return{horizontalAlign:c,verticalAlign:d}}function Nf(s,c,d,E,I){if(E||I)for(var L=s[d],B=(s[d].x+L.metrics.advance*L.scale)*E,J=c;J<=d;J++)s[J].x-=B,s[J].y+=I}function Ca(s,c,d,E,I,L){var B,J=s.image;if(J.content){var le=J.content,ve=J.pixelRatio||1;B=[le[0]/ve,le[1]/ve,J.displaySize[0]-le[2]/ve,J.displaySize[1]-le[3]/ve]}var Ee,De,Le,Ve,ut=c.left*L,ct=c.right*L;d==="width"||d==="both"?(Ve=I[0]+ut-E[3],De=I[0]+ct+E[1]):De=(Ve=I[0]+(ut+ct-J.displaySize[0])/2)+J.displaySize[0];var xt=c.top*L,gt=c.bottom*L;return d==="height"||d==="both"?(Ee=I[1]+xt-E[0],Le=I[1]+gt+E[2]):Le=(Ee=I[1]+(xt+gt-J.displaySize[1])/2)+J.displaySize[1],{image:J,top:Ee,right:De,bottom:Le,left:Ve,collisionPadding:B}}_i[10]=!0,_i[32]=!0,_i[38]=!0,_i[40]=!0,_i[41]=!0,_i[43]=!0,_i[45]=!0,_i[47]=!0,_i[173]=!0,_i[183]=!0,_i[8203]=!0,_i[8208]=!0,_i[8211]=!0,_i[8231]=!0;var Sl=function(s){function c(d,E,I,L){s.call(this,d,E),this.angle=I,L!==void 0&&(this.segment=L)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.clone=function(){return new c(this.x,this.y,this.angle,this.segment)},c}(we);function Dc(s,c){var d=c.expression;if(d.kind==="constant")return{kind:"constant",layoutSize:d.evaluate(new ci(s+1))};if(d.kind==="source")return{kind:"source"};for(var E=d.zoomStops,I=d.interpolationType,L=0;L<E.length&&E[L]<=s;)L++;for(var B=L=Math.max(0,L-1);B<E.length&&E[B]<s+1;)B++;B=Math.min(E.length-1,B);var J=E[L],le=E[B];return d.kind==="composite"?{kind:"composite",minZoom:J,maxZoom:le,interpolationType:I}:{kind:"camera",minZoom:J,maxZoom:le,minSize:d.evaluate(new ci(J)),maxSize:d.evaluate(new ci(le)),interpolationType:I}}function Ql(s,c,d){var E=c.uSize,I=d.lowerSize;return s.kind==="source"?I/128:s.kind==="composite"?Uo(I/128,d.upperSize/128,c.uSizeT):E}function Fd(s,c){var d=0,E=0;if(s.kind==="constant")E=s.layoutSize;else if(s.kind!=="source"){var I=s.interpolationType,L=I?R(wa.interpolationFactor(I,c,s.minZoom,s.maxZoom),0,1):0;s.kind==="camera"?E=Uo(s.minSize,s.maxSize,L):d=L}return{uSizeT:d,uSize:E}}Zr("Anchor",Sl);var Iy=Object.freeze({__proto__:null,getSizeData:Dc,evaluateSizeForFeature:Ql,evaluateSizeForZoom:Fd,SIZE_PACK_FACTOR:128});function bC(s,c,d,E,I){if(c.segment===void 0)return!0;for(var L=c,B=c.segment+1,J=0;J>-d/2;){if(--B<0)return!1;J-=s[B].dist(L),L=s[B]}J+=s[B].dist(s[B+1]),B++;for(var le=[],ve=0;J<d/2;){var Ee=s[B],De=s[B+1];if(!De)return!1;var Le=s[B-1].angleTo(Ee)-Ee.angleTo(De);for(Le=Math.abs((Le+3*Math.PI)%(2*Math.PI)-Math.PI),le.push({distance:J,angleDelta:Le}),ve+=Le;J-le[0].distance>E;)ve-=le.shift().angleDelta;if(ve>I)return!1;B++,J+=Ee.dist(De)}return!0}function xC(s){for(var c=0,d=0;d<s.length-1;d++)c+=s[d].dist(s[d+1]);return c}function J1(s,c,d){return s?.6*c*d:0}function _C(s,c){return Math.max(s?s.right-s.left:0,c?c.right-c.left:0)}function kP(s,c,d,E,I,L){for(var B=J1(d,I,L),J=_C(d,E)*L,le=0,ve=xC(s)/2,Ee=0;Ee<s.length-1;Ee++){var De=s[Ee],Le=s[Ee+1],Ve=De.dist(Le);if(le+Ve>ve){var ut=(ve-le)/Ve,ct=Uo(De.x,Le.x,ut),xt=Uo(De.y,Le.y,ut),gt=new Sl(ct,xt,Le.angleTo(De),Ee);return gt._round(),!B||bC(s,gt,J,B,c)?gt:void 0}le+=Ve}}function CP(s,c,d,E,I,L,B,J,le){var ve=J1(E,L,B),Ee=_C(E,I),De=Ee*B,Le=s[0].x===0||s[0].x===le||s[0].y===0||s[0].y===le;return c-De<c/4&&(c=De+c/4),function Ve(ut,ct,xt,gt,Lt,Kt,Qt,ar,pr){for(var Ar=Kt/2,Hr=xC(ut),wn=0,Xr=ct-xt,An=[],tn=0;tn<ut.length-1;tn++){for(var hi=ut[tn],zn=ut[tn+1],pn=hi.dist(zn),Ei=zn.angleTo(hi);Xr+xt<wn+pn;){var ni=((Xr+=xt)-wn)/pn,zi=Uo(hi.x,zn.x,ni),In=Uo(hi.y,zn.y,ni);if(zi>=0&&zi<pr&&In>=0&&In<pr&&Xr-Ar>=0&&Xr+Ar<=Hr){var lo=new Sl(zi,In,Ei,tn);lo._round(),gt&&!bC(ut,lo,Kt,gt,Lt)||An.push(lo)}}wn+=pn}return ar||An.length||Qt||(An=Ve(ut,wn/2,xt,gt,Lt,Kt,Qt,!0,pr)),An}(s,Le?c/2*J%c:(Ee/2+2*L)*B*J%c,c,ve,d,De,Le,!1,le)}function wC(s,c,d,E,I){for(var L=[],B=0;B<s.length;B++)for(var J=s[B],le=void 0,ve=0;ve<J.length-1;ve++){var Ee=J[ve],De=J[ve+1];Ee.x<c&&De.x<c||(Ee.x<c?Ee=new we(c,Ee.y+(c-Ee.x)/(De.x-Ee.x)*(De.y-Ee.y))._round():De.x<c&&(De=new we(c,Ee.y+(c-Ee.x)/(De.x-Ee.x)*(De.y-Ee.y))._round()),Ee.y<d&&De.y<d||(Ee.y<d?Ee=new we(Ee.x+(d-Ee.y)/(De.y-Ee.y)*(De.x-Ee.x),d)._round():De.y<d&&(De=new we(Ee.x+(d-Ee.y)/(De.y-Ee.y)*(De.x-Ee.x),d)._round()),Ee.x>=E&&De.x>=E||(Ee.x>=E?Ee=new we(E,Ee.y+(E-Ee.x)/(De.x-Ee.x)*(De.y-Ee.y))._round():De.x>=E&&(De=new we(E,Ee.y+(E-Ee.x)/(De.x-Ee.x)*(De.y-Ee.y))._round()),Ee.y>=I&&De.y>=I||(Ee.y>=I?Ee=new we(Ee.x+(I-Ee.y)/(De.y-Ee.y)*(De.x-Ee.x),I)._round():De.y>=I&&(De=new we(Ee.x+(I-Ee.y)/(De.y-Ee.y)*(De.x-Ee.x),I)._round()),le&&Ee.equals(le[le.length-1])||L.push(le=[Ee]),le.push(De)))))}return L}function SC(s,c,d,E){var I=[],L=s.image,B=L.pixelRatio,J=L.paddedRect.w-2,le=L.paddedRect.h-2,ve=s.right-s.left,Ee=s.bottom-s.top,De=L.stretchX||[[0,J]],Le=L.stretchY||[[0,le]],Ve=function(zi,In){return zi+In[1]-In[0]},ut=De.reduce(Ve,0),ct=Le.reduce(Ve,0),xt=J-ut,gt=le-ct,Lt=0,Kt=ut,Qt=0,ar=ct,pr=0,Ar=xt,Hr=0,wn=gt;if(L.content&&E){var Xr=L.content;Lt=_0(De,0,Xr[0]),Qt=_0(Le,0,Xr[1]),Kt=_0(De,Xr[0],Xr[2]),ar=_0(Le,Xr[1],Xr[3]),pr=Xr[0]-Lt,Hr=Xr[1]-Qt,Ar=Xr[2]-Xr[0]-Kt,wn=Xr[3]-Xr[1]-ar}var An=function(zi,In,lo,Da){var cs=w0(zi.stretch-Lt,Kt,ve,s.left),Za=S0(zi.fixed-pr,Ar,zi.stretch,ut),uo=w0(In.stretch-Qt,ar,Ee,s.top),fs=S0(In.fixed-Hr,wn,In.stretch,ct),tl=w0(lo.stretch-Lt,Kt,ve,s.left),Ba=S0(lo.fixed-pr,Ar,lo.stretch,ut),Wn=w0(Da.stretch-Qt,ar,Ee,s.top),El=S0(Da.fixed-Hr,wn,Da.stretch,ct),aa=new we(cs,uo),Ii=new we(tl,uo),kl=new we(tl,Wn),si=new we(cs,Wn),Yo=new we(Za/B,fs/B),Lo=new we(Ba/B,El/B),Vi=c*Math.PI/180;if(Vi){var hc=Math.sin(Vi),wu=Math.cos(Vi),ea=[wu,-hc,hc,wu];aa._matMult(ea),Ii._matMult(ea),si._matMult(ea),kl._matMult(ea)}var Rs=zi.stretch+zi.fixed,Xa=In.stretch+In.fixed;return{tl:aa,tr:Ii,bl:si,br:kl,tex:{x:L.paddedRect.x+1+Rs,y:L.paddedRect.y+1+Xa,w:lo.stretch+lo.fixed-Rs,h:Da.stretch+Da.fixed-Xa},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Yo,pixelOffsetBR:Lo,minFontScaleX:Ar/B/ve,minFontScaleY:wn/B/Ee,isSDF:d}};if(E&&(L.stretchX||L.stretchY))for(var tn=Bf(De,xt,ut),hi=Bf(Le,gt,ct),zn=0;zn<tn.length-1;zn++)for(var pn=tn[zn],Ei=tn[zn+1],ni=0;ni<hi.length-1;ni++)I.push(An(pn,hi[ni],Ei,hi[ni+1]));else I.push(An({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:J+1},{fixed:0,stretch:le+1}));return I}function _0(s,c,d){for(var E=0,I=0,L=s;I<L.length;I+=1){var B=L[I];E+=Math.max(c,Math.min(d,B[1]))-Math.max(c,Math.min(d,B[0]))}return E}function Bf(s,c,d){for(var E=[{fixed:-1,stretch:0}],I=0,L=s;I<L.length;I+=1){var B=L[I],J=B[0],le=B[1],ve=E[E.length-1];E.push({fixed:J-ve.stretch,stretch:ve.stretch}),E.push({fixed:J-ve.stretch,stretch:ve.stretch+(le-J)})}return E.push({fixed:c+1,stretch:d}),E}function w0(s,c,d,E){return s/c*d+E}function S0(s,c,d,E){return s-c*d/E}var T0=function(s,c,d,E,I,L,B,J,le,ve){if(this.boxStartIndex=s.length,le){var Ee=L.top,De=L.bottom,Le=L.collisionPadding;Le&&(Ee-=Le[1],De+=Le[3]);var Ve=De-Ee;Ve>0&&(Ve=Math.max(10,Ve),this.circleDiameter=Ve)}else{var ut=L.top*B-J,ct=L.bottom*B+J,xt=L.left*B-J,gt=L.right*B+J,Lt=L.collisionPadding;if(Lt&&(xt-=Lt[0]*B,ut-=Lt[1]*B,gt+=Lt[2]*B,ct+=Lt[3]*B),ve){var Kt=new we(xt,ut),Qt=new we(gt,ut),ar=new we(xt,ct),pr=new we(gt,ct),Ar=ve*Math.PI/180;Kt._rotate(Ar),Qt._rotate(Ar),ar._rotate(Ar),pr._rotate(Ar),xt=Math.min(Kt.x,Qt.x,ar.x,pr.x),gt=Math.max(Kt.x,Qt.x,ar.x,pr.x),ut=Math.min(Kt.y,Qt.y,ar.y,pr.y),ct=Math.max(Kt.y,Qt.y,ar.y,pr.y)}s.emplaceBack(c.x,c.y,xt,ut,gt,ct,d,E,I)}this.boxEndIndex=s.length},Xm=function(s,c){if(s===void 0&&(s=[]),c===void 0&&(c=AP),this.data=s,this.length=this.data.length,this.compare=c,this.length>0)for(var d=(this.length>>1)-1;d>=0;d--)this._down(d)};function AP(s,c){return s<c?-1:s>c?1:0}function DP(s,c,d){c===void 0&&(c=1),d===void 0&&(d=!1);for(var E=1/0,I=1/0,L=-1/0,B=-1/0,J=s[0],le=0;le<J.length;le++){var ve=J[le];(!le||ve.x<E)&&(E=ve.x),(!le||ve.y<I)&&(I=ve.y),(!le||ve.x>L)&&(L=ve.x),(!le||ve.y>B)&&(B=ve.y)}var Ee=Math.min(L-E,B-I),De=Ee/2,Le=new Xm([],OP);if(Ee===0)return new we(E,I);for(var Ve=E;Ve<L;Ve+=Ee)for(var ut=I;ut<B;ut+=Ee)Le.push(new rv(Ve+De,ut+De,De,s));for(var ct=function(Lt){for(var Kt=0,Qt=0,ar=0,pr=Lt[0],Ar=0,Hr=pr.length,wn=Hr-1;Ar<Hr;wn=Ar++){var Xr=pr[Ar],An=pr[wn],tn=Xr.x*An.y-An.x*Xr.y;Qt+=(Xr.x+An.x)*tn,ar+=(Xr.y+An.y)*tn,Kt+=3*tn}return new rv(Qt/Kt,ar/Kt,0,Lt)}(s),xt=Le.length;Le.length;){var gt=Le.pop();(gt.d>ct.d||!ct.d)&&(ct=gt,d&&console.log("found best %d after %d probes",Math.round(1e4*gt.d)/1e4,xt)),gt.max-ct.d<=c||(Le.push(new rv(gt.p.x-(De=gt.h/2),gt.p.y-De,De,s)),Le.push(new rv(gt.p.x+De,gt.p.y-De,De,s)),Le.push(new rv(gt.p.x-De,gt.p.y+De,De,s)),Le.push(new rv(gt.p.x+De,gt.p.y+De,De,s)),xt+=4)}return d&&(console.log("num probes: "+xt),console.log("best distance: "+ct.d)),ct.p}function OP(s,c){return c.max-s.max}function rv(s,c,d,E){this.p=new we(s,c),this.h=d,this.d=function(I,L){for(var B=!1,J=1/0,le=0;le<L.length;le++)for(var ve=L[le],Ee=0,De=ve.length,Le=De-1;Ee<De;Le=Ee++){var Ve=ve[Ee],ut=ve[Le];Ve.y>I.y!=ut.y>I.y&&I.x<(ut.x-Ve.x)*(I.y-Ve.y)/(ut.y-Ve.y)+Ve.x&&(B=!B),J=Math.min(J,Zl(I,Ve,ut))}return(B?1:-1)*Math.sqrt(J)}(this.p,E),this.max=this.d+this.h*Math.SQRT2}Xm.prototype.push=function(s){this.data.push(s),this.length++,this._up(this.length-1)},Xm.prototype.pop=function(){if(this.length!==0){var s=this.data[0],c=this.data.pop();return this.length--,this.length>0&&(this.data[0]=c,this._down(0)),s}},Xm.prototype.peek=function(){return this.data[0]},Xm.prototype._up=function(s){for(var c=this.data,d=this.compare,E=c[s];s>0;){var I=s-1>>1,L=c[I];if(d(E,L)>=0)break;c[s]=L,s=I}c[s]=E},Xm.prototype._down=function(s){for(var c=this.data,d=this.compare,E=this.length>>1,I=c[s];s<E;){var L=1+(s<<1),B=c[L],J=L+1;if(J<this.length&&d(c[J],B)<0&&(L=J,B=c[J]),d(B,I)>=0)break;c[s]=B,s=L}c[s]=I};var My=Number.POSITIVE_INFINITY;function TC(s,c){return c[1]!==My?function(d,E,I){var L=0,B=0;switch(E=Math.abs(E),I=Math.abs(I),d){case"top-right":case"top-left":case"top":B=I-7;break;case"bottom-right":case"bottom-left":case"bottom":B=7-I}switch(d){case"top-right":case"bottom-right":case"right":L=-E;break;case"top-left":case"bottom-left":case"left":L=E}return[L,B]}(s,c[0],c[1]):function(d,E){var I=0,L=0;E<0&&(E=0);var B=E/Math.sqrt(2);switch(d){case"top-right":case"top-left":L=B-7;break;case"bottom-right":case"bottom-left":L=7-B;break;case"bottom":L=7-E;break;case"top":L=E-7}switch(d){case"top-right":case"bottom-right":I=-B;break;case"top-left":case"bottom-left":I=B;break;case"left":I=E;break;case"right":I=-E}return[I,L]}(s,c[0])}function Q1(s){switch(s){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function EC(s,c,d,E,I,L,B,J,le,ve,Ee,De,Le,Ve,ut){var ct=function(Qt,ar,pr,Ar,Hr,wn,Xr,An){for(var tn=Ar.layout.get("text-rotate").evaluate(wn,{})*Math.PI/180,hi=[],zn=0,pn=ar.positionedLines;zn<pn.length;zn+=1)for(var Ei=pn[zn],ni=0,zi=Ei.positionedGlyphs;ni<zi.length;ni+=1){var In=zi[ni];if(In.rect){var lo=In.rect||{},Da=4,cs=!0,Za=1,uo=0,fs=(Hr||An)&&In.vertical,tl=In.metrics.advance*In.scale/2;if(An&&ar.verticalizable&&(uo=Ei.lineOffset/2-(In.imageName?-(24-In.metrics.width*In.scale)/2:24*(In.scale-1))),In.imageName){var Ba=Xr[In.imageName];cs=Ba.sdf,Da=1/(Za=Ba.pixelRatio)}var Wn=Hr?[In.x+tl,In.y]:[0,0],El=Hr?[0,0]:[In.x+tl+pr[0],In.y+pr[1]-uo],aa=[0,0];fs&&(aa=El,El=[0,0]);var Ii=(In.metrics.left-Da)*In.scale-tl+El[0],kl=(-In.metrics.top-Da)*In.scale+El[1],si=Ii+lo.w*In.scale/Za,Yo=kl+lo.h*In.scale/Za,Lo=new we(Ii,kl),Vi=new we(si,kl),hc=new we(Ii,Yo),wu=new we(si,Yo);if(fs){var ea=new we(-tl,tl- -17),Rs=-Math.PI/2,Xa=12-tl,Ji=new we(22-Xa,-(In.imageName?Xa:0)),zf=new(Function.prototype.bind.apply(we,[null].concat(aa)));Lo._rotateAround(Rs,ea)._add(Ji)._add(zf),Vi._rotateAround(Rs,ea)._add(Ji)._add(zf),hc._rotateAround(Rs,ea)._add(Ji)._add(zf),wu._rotateAround(Rs,ea)._add(Ji)._add(zf)}if(tn){var Co=Math.sin(tn),sa=Math.cos(tn),hs=[sa,-Co,Co,sa];Lo._matMult(hs),Vi._matMult(hs),hc._matMult(hs),wu._matMult(hs)}var Nd=new we(0,0),dh=new we(0,0);hi.push({tl:Lo,tr:Vi,bl:hc,br:wu,tex:lo,writingMode:ar.writingMode,glyphOffset:Wn,sectionIndex:In.sectionIndex,isSDF:cs,pixelOffsetTL:Nd,pixelOffsetBR:dh,minFontScaleX:0,minFontScaleY:0})}}return hi}(0,d,J,I,L,B,E,s.allowVerticalPlacement),xt=s.textSizeData,gt=null;xt.kind==="source"?(gt=[128*I.layout.get("text-size").evaluate(B,{})])[0]>32640&&Ht(s.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):xt.kind==="composite"&&((gt=[128*Ve.compositeTextSizes[0].evaluate(B,{},ut),128*Ve.compositeTextSizes[1].evaluate(B,{},ut)])[0]>32640||gt[1]>32640)&&Ht(s.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),s.addSymbols(s.text,ct,gt,J,L,B,ve,c,le.lineStartIndex,le.lineLength,Le,ut);for(var Lt=0,Kt=Ee;Lt<Kt.length;Lt+=1)De[Kt[Lt]]=s.text.placedSymbolArray.length-1;return 4*ct.length}function kC(s){for(var c in s)return s[c];return null}function IP(s,c,d,E){var I=s.compareText;if(c in I){for(var L=I[c],B=L.length-1;B>=0;B--)if(E.dist(L[B])<d)return!0}else I[c]=[];return I[c].push(E),!1}var MP=_l.VectorTileFeature.types,LP=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function E0(s,c,d,E,I,L,B,J,le,ve,Ee,De,Le){var Ve=J?Math.min(32640,Math.round(J[0])):0,ut=J?Math.min(32640,Math.round(J[1])):0;s.emplaceBack(c,d,Math.round(32*E),Math.round(32*I),L,B,(Ve<<1)+(le?1:0),ut,16*ve,16*Ee,256*De,256*Le)}function ew(s,c,d){s.emplaceBack(c.x,c.y,d),s.emplaceBack(c.x,c.y,d),s.emplaceBack(c.x,c.y,d),s.emplaceBack(c.x,c.y,d)}function PP(s){for(var c=0,d=s.sections;c<d.length;c+=1)if(ml(d[c].text))return!0;return!1}var nv=function(s){this.layoutVertexArray=new Vh,this.indexArray=new oi,this.programConfigurations=s,this.segments=new We,this.dynamicLayoutVertexArray=new jc,this.opacityVertexArray=new Kl,this.placedSymbolArray=new k};nv.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},nv.prototype.upload=function(s,c,d,E){this.isEmpty()||(d&&(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,Hi.members),this.indexBuffer=s.createIndexBuffer(this.indexArray,c),this.dynamicLayoutVertexBuffer=s.createVertexBuffer(this.dynamicLayoutVertexArray,lm.members,!0),this.opacityVertexBuffer=s.createVertexBuffer(this.opacityVertexArray,LP,!0),this.opacityVertexBuffer.itemSize=1),(d||E)&&this.programConfigurations.upload(s))},nv.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Zr("SymbolBuffers",nv);var Ly=function(s,c,d){this.layoutVertexArray=new s,this.layoutAttributes=c,this.indexArray=new d,this.segments=new We,this.collisionVertexArray=new qa};Ly.prototype.upload=function(s){this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=s.createVertexBuffer(this.collisionVertexArray,f.members,!0)},Ly.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Zr("CollisionBuffers",Ly);var jo=function(s){this.collisionBoxArray=s.collisionBoxArray,this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(function(L){return L.id}),this.index=s.index,this.pixelRatio=s.pixelRatio,this.sourceLayerIndex=s.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=vl([]),this.placementViewportMatrix=vl([]);var c=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Dc(this.zoom,c["text-size"]),this.iconSizeData=Dc(this.zoom,c["icon-size"]);var d=this.layers[0].layout,E=d.get("symbol-sort-key"),I=d.get("symbol-z-order");this.canOverlap=d.get("text-allow-overlap")||d.get("icon-allow-overlap")||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey=I!=="viewport-y"&&E.constantOr(1)!==void 0,this.sortFeaturesByY=(I==="viewport-y"||I==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,d.get("symbol-placement")==="point"&&(this.writingModes=d.get("text-writing-mode").map(function(L){return Pn[L]})),this.stateDependentLayerIds=this.layers.filter(function(L){return L.isStateDependent()}).map(function(L){return L.id}),this.sourceID=s.sourceID};jo.prototype.createArrays=function(){this.text=new nv(new xn(this.layers,this.zoom,function(s){return/^text/.test(s)})),this.icon=new nv(new xn(this.layers,this.zoom,function(s){return/^icon/.test(s)})),this.glyphOffsetArray=new X,this.lineVertexArray=new ae,this.symbolInstances=new H},jo.prototype.calculateGlyphDependencies=function(s,c,d,E,I){for(var L=0;L<s.length;L++)if(c[s.charCodeAt(L)]=!0,(d||E)&&I){var B=u[s.charAt(L)];B&&(c[B.charCodeAt(0)]=!0)}},jo.prototype.populate=function(s,c,d){var E=this.layers[0],I=E.layout,L=I.get("text-font"),B=I.get("text-field"),J=I.get("icon-image"),le=(B.value.kind!=="constant"||B.value.value instanceof ei&&!B.value.value.isEmpty()||B.value.value.toString().length>0)&&(L.value.kind!=="constant"||L.value.value.length>0),ve=J.value.kind!=="constant"||!!J.value.value||Object.keys(J.parameters).length>0,Ee=I.get("symbol-sort-key");if(this.features=[],le||ve){for(var De=c.iconDependencies,Le=c.glyphDependencies,Ve=c.availableImages,ut=new ci(this.zoom),ct=0,xt=s;ct<xt.length;ct+=1){var gt=xt[ct],Lt=gt.feature,Kt=gt.id,Qt=gt.index,ar=gt.sourceLayerIndex,pr=E._featureFilter.needGeometry,Ar=To(Lt,pr);if(E._featureFilter.filter(ut,Ar,d)){pr||(Ar.geometry=_o(Lt));var Hr=void 0;if(le){var wn=E.getValueAndResolveTokens("text-field",Ar,d,Ve),Xr=ei.factory(wn);PP(Xr)&&(this.hasRTLText=!0),(!this.hasRTLText||cf()==="unavailable"||this.hasRTLText&&ys.isParsed())&&(Hr=o(Xr,E,Ar))}var An=void 0;if(ve){var tn=E.getValueAndResolveTokens("icon-image",Ar,d,Ve);An=tn instanceof Ci?tn:Ci.fromString(tn)}if(Hr||An){var hi=this.sortFeaturesByKey?Ee.evaluate(Ar,{},d):void 0;if(this.features.push({id:Kt,text:Hr,icon:An,index:Qt,sourceLayerIndex:ar,geometry:Ar.geometry,properties:Lt.properties,type:MP[Lt.type],sortKey:hi}),An&&(De[An.name]=!0),Hr){var zn=L.evaluate(Ar,{},d).join(","),pn=I.get("text-rotation-alignment")==="map"&&I.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Pn.vertical)>=0;for(var Ei=0,ni=Hr.sections;Ei<ni.length;Ei+=1){var zi=ni[Ei];if(zi.image)De[zi.image.name]=!0;else{var In=Fa(Hr.toString()),lo=zi.fontStack||zn,Da=Le[lo]=Le[lo]||{};this.calculateGlyphDependencies(zi.text,Da,pn,this.allowVerticalPlacement,In)}}}}}}I.get("symbol-placement")==="line"&&(this.features=function(cs){var Za={},uo={},fs=[],tl=0;function Ba(ea){fs.push(cs[ea]),tl++}function Wn(ea,Rs,Xa){var Ji=uo[ea];return delete uo[ea],uo[Rs]=Ji,fs[Ji].geometry[0].pop(),fs[Ji].geometry[0]=fs[Ji].geometry[0].concat(Xa[0]),Ji}function El(ea,Rs,Xa){var Ji=Za[Rs];return delete Za[Rs],Za[ea]=Ji,fs[Ji].geometry[0].shift(),fs[Ji].geometry[0]=Xa[0].concat(fs[Ji].geometry[0]),Ji}function aa(ea,Rs,Xa){var Ji=Xa?Rs[0][Rs[0].length-1]:Rs[0][0];return ea+":"+Ji.x+":"+Ji.y}for(var Ii=0;Ii<cs.length;Ii++){var kl=cs[Ii],si=kl.geometry,Yo=kl.text?kl.text.toString():null;if(Yo){var Lo=aa(Yo,si),Vi=aa(Yo,si,!0);if(Lo in uo&&Vi in Za&&uo[Lo]!==Za[Vi]){var hc=El(Lo,Vi,si),wu=Wn(Lo,Vi,fs[hc].geometry);delete Za[Lo],delete uo[Vi],uo[aa(Yo,fs[wu].geometry,!0)]=wu,fs[hc].geometry=null}else Lo in uo?Wn(Lo,Vi,si):Vi in Za?El(Lo,Vi,si):(Ba(Ii),Za[Lo]=tl-1,uo[Vi]=tl-1)}else Ba(Ii)}return fs.filter(function(ea){return ea.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(cs,Za){return cs.sortKey-Za.sortKey})}},jo.prototype.update=function(s,c,d){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(s,c,this.layers,d),this.icon.programConfigurations.updatePaintArrays(s,c,this.layers,d))},jo.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},jo.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},jo.prototype.upload=function(s){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(s),this.iconCollisionBox.upload(s)),this.text.upload(s,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(s,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},jo.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},jo.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},jo.prototype.addToLineVertexArray=function(s,c){var d=this.lineVertexArray.length;if(s.segment!==void 0){for(var E=s.dist(c[s.segment+1]),I=s.dist(c[s.segment]),L={},B=s.segment+1;B<c.length;B++)L[B]={x:c[B].x,y:c[B].y,tileUnitDistanceFromAnchor:E},B<c.length-1&&(E+=c[B+1].dist(c[B]));for(var J=s.segment||0;J>=0;J--)L[J]={x:c[J].x,y:c[J].y,tileUnitDistanceFromAnchor:I},J>0&&(I+=c[J-1].dist(c[J]));for(var le=0;le<c.length;le++){var ve=L[le];this.lineVertexArray.emplaceBack(ve.x,ve.y,ve.tileUnitDistanceFromAnchor)}}return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}},jo.prototype.addSymbols=function(s,c,d,E,I,L,B,J,le,ve,Ee,De){for(var Le=s.indexArray,Ve=s.layoutVertexArray,ut=s.segments.prepareSegment(4*c.length,Ve,Le,this.canOverlap?L.sortKey:void 0),ct=this.glyphOffsetArray.length,xt=ut.vertexLength,gt=this.allowVerticalPlacement&&B===Pn.vertical?Math.PI/2:0,Lt=L.text&&L.text.sections,Kt=0;Kt<c.length;Kt++){var Qt=c[Kt],ar=Qt.tl,pr=Qt.tr,Ar=Qt.bl,Hr=Qt.br,wn=Qt.tex,Xr=Qt.pixelOffsetTL,An=Qt.pixelOffsetBR,tn=Qt.minFontScaleX,hi=Qt.minFontScaleY,zn=Qt.glyphOffset,pn=Qt.isSDF,Ei=Qt.sectionIndex,ni=ut.vertexLength,zi=zn[1];E0(Ve,J.x,J.y,ar.x,zi+ar.y,wn.x,wn.y,d,pn,Xr.x,Xr.y,tn,hi),E0(Ve,J.x,J.y,pr.x,zi+pr.y,wn.x+wn.w,wn.y,d,pn,An.x,Xr.y,tn,hi),E0(Ve,J.x,J.y,Ar.x,zi+Ar.y,wn.x,wn.y+wn.h,d,pn,Xr.x,An.y,tn,hi),E0(Ve,J.x,J.y,Hr.x,zi+Hr.y,wn.x+wn.w,wn.y+wn.h,d,pn,An.x,An.y,tn,hi),ew(s.dynamicLayoutVertexArray,J,gt),Le.emplaceBack(ni,ni+1,ni+2),Le.emplaceBack(ni+1,ni+2,ni+3),ut.vertexLength+=4,ut.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(zn[0]),Kt!==c.length-1&&Ei===c[Kt+1].sectionIndex||s.programConfigurations.populatePaintArrays(Ve.length,L,L.index,{},De,Lt&&Lt[Ei])}s.placedSymbolArray.emplaceBack(J.x,J.y,ct,this.glyphOffsetArray.length-ct,xt,le,ve,J.segment,d?d[0]:0,d?d[1]:0,E[0],E[1],B,0,!1,0,Ee)},jo.prototype._addCollisionDebugVertex=function(s,c,d,E,I,L){return c.emplaceBack(0,0),s.emplaceBack(d.x,d.y,E,I,Math.round(L.x),Math.round(L.y))},jo.prototype.addCollisionDebugVertices=function(s,c,d,E,I,L,B){var J=I.segments.prepareSegment(4,I.layoutVertexArray,I.indexArray),le=J.vertexLength,ve=I.layoutVertexArray,Ee=I.collisionVertexArray,De=B.anchorX,Le=B.anchorY;this._addCollisionDebugVertex(ve,Ee,L,De,Le,new we(s,c)),this._addCollisionDebugVertex(ve,Ee,L,De,Le,new we(d,c)),this._addCollisionDebugVertex(ve,Ee,L,De,Le,new we(d,E)),this._addCollisionDebugVertex(ve,Ee,L,De,Le,new we(s,E)),J.vertexLength+=4;var Ve=I.indexArray;Ve.emplaceBack(le,le+1),Ve.emplaceBack(le+1,le+2),Ve.emplaceBack(le+2,le+3),Ve.emplaceBack(le+3,le),J.primitiveLength+=4},jo.prototype.addDebugCollisionBoxes=function(s,c,d,E){for(var I=s;I<c;I++){var L=this.collisionBoxArray.get(I);this.addCollisionDebugVertices(L.x1,L.y1,L.x2,L.y2,E?this.textCollisionBox:this.iconCollisionBox,L.anchorPoint,d)}},jo.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Ly(Fi,v.members,Tc),this.iconCollisionBox=new Ly(Fi,v.members,Tc);for(var s=0;s<this.symbolInstances.length;s++){var c=this.symbolInstances.get(s);this.addDebugCollisionBoxes(c.textBoxStartIndex,c.textBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.iconBoxStartIndex,c.iconBoxEndIndex,c,!1),this.addDebugCollisionBoxes(c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex,c,!1)}},jo.prototype._deserializeCollisionBoxesForSymbol=function(s,c,d,E,I,L,B,J,le){for(var ve={},Ee=c;Ee<d;Ee++){var De=s.get(Ee);ve.textBox={x1:De.x1,y1:De.y1,x2:De.x2,y2:De.y2,anchorPointX:De.anchorPointX,anchorPointY:De.anchorPointY},ve.textFeatureIndex=De.featureIndex;break}for(var Le=E;Le<I;Le++){var Ve=s.get(Le);ve.verticalTextBox={x1:Ve.x1,y1:Ve.y1,x2:Ve.x2,y2:Ve.y2,anchorPointX:Ve.anchorPointX,anchorPointY:Ve.anchorPointY},ve.verticalTextFeatureIndex=Ve.featureIndex;break}for(var ut=L;ut<B;ut++){var ct=s.get(ut);ve.iconBox={x1:ct.x1,y1:ct.y1,x2:ct.x2,y2:ct.y2,anchorPointX:ct.anchorPointX,anchorPointY:ct.anchorPointY},ve.iconFeatureIndex=ct.featureIndex;break}for(var xt=J;xt<le;xt++){var gt=s.get(xt);ve.verticalIconBox={x1:gt.x1,y1:gt.y1,x2:gt.x2,y2:gt.y2,anchorPointX:gt.anchorPointX,anchorPointY:gt.anchorPointY},ve.verticalIconFeatureIndex=gt.featureIndex;break}return ve},jo.prototype.deserializeCollisionBoxes=function(s){this.collisionArrays=[];for(var c=0;c<this.symbolInstances.length;c++){var d=this.symbolInstances.get(c);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(s,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}},jo.prototype.hasTextData=function(){return this.text.segments.get().length>0},jo.prototype.hasIconData=function(){return this.icon.segments.get().length>0},jo.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},jo.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},jo.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},jo.prototype.addIndicesForPlacedSymbol=function(s,c){for(var d=s.placedSymbolArray.get(c),E=d.vertexStartIndex+4*d.numGlyphs,I=d.vertexStartIndex;I<E;I+=4)s.indexArray.emplaceBack(I,I+1,I+2),s.indexArray.emplaceBack(I+1,I+2,I+3)},jo.prototype.getSortedSymbolIndexes=function(s){if(this.sortedAngle===s&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var c=Math.sin(s),d=Math.cos(s),E=[],I=[],L=[],B=0;B<this.symbolInstances.length;++B){L.push(B);var J=this.symbolInstances.get(B);E.push(0|Math.round(c*J.anchorX+d*J.anchorY)),I.push(J.featureIndex)}return L.sort(function(le,ve){return E[le]-E[ve]||I[ve]-I[le]}),L},jo.prototype.addToSortKeyRanges=function(s,c){var d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===c?d.symbolInstanceEnd=s+1:this.sortKeyRanges.push({sortKey:c,symbolInstanceStart:s,symbolInstanceEnd:s+1})},jo.prototype.sortFeatures=function(s){var c=this;if(this.sortFeaturesByY&&this.sortedAngle!==s&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(s),this.sortedAngle=s,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var d=0,E=this.symbolInstanceIndexes;d<E.length;d+=1){var I=this.symbolInstances.get(E[d]);this.featureSortOrder.push(I.featureIndex),[I.rightJustifiedTextSymbolIndex,I.centerJustifiedTextSymbolIndex,I.leftJustifiedTextSymbolIndex].forEach(function(L,B,J){L>=0&&J.indexOf(L)===B&&c.addIndicesForPlacedSymbol(c.text,L)}),I.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,I.verticalPlacedTextSymbolIndex),I.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,I.placedIconSymbolIndex),I.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,I.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Zr("SymbolBucket",jo,{omit:["layers","collisionBoxArray","features","compareText"]}),jo.MAX_GLYPHS=65535,jo.addDynamicAttributes=ew;var RP=new ia({"symbol-placement":new Rr(qe.layout_symbol["symbol-placement"]),"symbol-spacing":new Rr(qe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Rr(qe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Sr(qe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Rr(qe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Rr(qe.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Rr(qe.layout_symbol["icon-ignore-placement"]),"icon-optional":new Rr(qe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Rr(qe.layout_symbol["icon-rotation-alignment"]),"icon-size":new Sr(qe.layout_symbol["icon-size"]),"icon-text-fit":new Rr(qe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Rr(qe.layout_symbol["icon-text-fit-padding"]),"icon-image":new Sr(qe.layout_symbol["icon-image"]),"icon-rotate":new Sr(qe.layout_symbol["icon-rotate"]),"icon-padding":new Rr(qe.layout_symbol["icon-padding"]),"icon-keep-upright":new Rr(qe.layout_symbol["icon-keep-upright"]),"icon-offset":new Sr(qe.layout_symbol["icon-offset"]),"icon-anchor":new Sr(qe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Rr(qe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Rr(qe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Rr(qe.layout_symbol["text-rotation-alignment"]),"text-field":new Sr(qe.layout_symbol["text-field"]),"text-font":new Sr(qe.layout_symbol["text-font"]),"text-size":new Sr(qe.layout_symbol["text-size"]),"text-max-width":new Sr(qe.layout_symbol["text-max-width"]),"text-line-height":new Rr(qe.layout_symbol["text-line-height"]),"text-letter-spacing":new Sr(qe.layout_symbol["text-letter-spacing"]),"text-justify":new Sr(qe.layout_symbol["text-justify"]),"text-radial-offset":new Sr(qe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Rr(qe.layout_symbol["text-variable-anchor"]),"text-anchor":new Sr(qe.layout_symbol["text-anchor"]),"text-max-angle":new Rr(qe.layout_symbol["text-max-angle"]),"text-writing-mode":new Rr(qe.layout_symbol["text-writing-mode"]),"text-rotate":new Sr(qe.layout_symbol["text-rotate"]),"text-padding":new Rr(qe.layout_symbol["text-padding"]),"text-keep-upright":new Rr(qe.layout_symbol["text-keep-upright"]),"text-transform":new Sr(qe.layout_symbol["text-transform"]),"text-offset":new Sr(qe.layout_symbol["text-offset"]),"text-allow-overlap":new Rr(qe.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Rr(qe.layout_symbol["text-ignore-placement"]),"text-optional":new Rr(qe.layout_symbol["text-optional"])}),tw={paint:new ia({"icon-opacity":new Sr(qe.paint_symbol["icon-opacity"]),"icon-color":new Sr(qe.paint_symbol["icon-color"]),"icon-halo-color":new Sr(qe.paint_symbol["icon-halo-color"]),"icon-halo-width":new Sr(qe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Sr(qe.paint_symbol["icon-halo-blur"]),"icon-translate":new Rr(qe.paint_symbol["icon-translate"]),"icon-translate-anchor":new Rr(qe.paint_symbol["icon-translate-anchor"]),"text-opacity":new Sr(qe.paint_symbol["text-opacity"]),"text-color":new Sr(qe.paint_symbol["text-color"],{runtimeType:ye,getOverride:function(s){return s.textColor},hasOverride:function(s){return!!s.textColor}}),"text-halo-color":new Sr(qe.paint_symbol["text-halo-color"]),"text-halo-width":new Sr(qe.paint_symbol["text-halo-width"]),"text-halo-blur":new Sr(qe.paint_symbol["text-halo-blur"]),"text-translate":new Rr(qe.paint_symbol["text-translate"]),"text-translate-anchor":new Rr(qe.paint_symbol["text-translate-anchor"])}),layout:RP},iv=function(s){this.type=s.property.overrides?s.property.overrides.runtimeType:je,this.defaultValue=s};iv.prototype.evaluate=function(s){if(s.formattedSection){var c=this.defaultValue.property.overrides;if(c&&c.hasOverride(s.formattedSection))return c.getOverride(s.formattedSection)}return s.feature&&s.featureState?this.defaultValue.evaluate(s.feature,s.featureState):this.defaultValue.property.specification.default},iv.prototype.eachChild=function(s){this.defaultValue.isConstant()||s(this.defaultValue.value._styleExpression.expression)},iv.prototype.outputDefined=function(){return!1},iv.prototype.serialize=function(){return null},Zr("FormatSectionOverride",iv,{omit:["defaultValue"]});var FP=function(s){function c(d){s.call(this,d,tw)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.recalculate=function(d,E){if(s.prototype.recalculate.call(this,d,E),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var I=this.layout.get("text-writing-mode");if(I){for(var L=[],B=0,J=I;B<J.length;B+=1){var le=J[B];L.indexOf(le)<0&&L.push(le)}this.layout._values["text-writing-mode"]=L}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},c.prototype.getValueAndResolveTokens=function(d,E,I,L){var B=this.layout.get(d).evaluate(E,{},I,L),J=this._unevaluatedLayout._values[d];return J.isDataDriven()||Us(J.value)||!B?B:function(le,ve){return ve.replace(/{([^{}]+)}/g,function(Ee,De){return De in le?String(le[De]):""})}(E.properties,B)},c.prototype.createBucket=function(d){return new jo(d)},c.prototype.queryRadius=function(){return 0},c.prototype.queryIntersectsFeature=function(){return!1},c.prototype._setPaintOverrides=function(){for(var d=0,E=tw.paint.overridableProperties;d<E.length;d+=1){var I=E[d];if(c.hasPaintOverride(this.layout,I)){var L,B=this.paint.get(I),J=new iv(B),le=new lu(J,B.property.specification);L=B.value.kind==="constant"||B.value.kind==="source"?new Uc("source",le):new of("composite",le,B.value.zoomStops,B.value._interpolationType),this.paint._values[I]=new yi(B.property,L,B.parameters)}}},c.prototype._handleOverridablePaintPropertyUpdate=function(d,E,I){return!(!this.layout||E.isDataDriven()||I.isDataDriven())&&c.hasPaintOverride(this.layout,d)},c.hasPaintOverride=function(d,E){var I=d.get("text-field"),L=tw.paint.properties[E],B=!1,J=function(Ee){for(var De=0,Le=Ee;De<Le.length;De+=1)if(L.overrides&&L.overrides.hasOverride(Le[De]))return void(B=!0)};if(I.value.kind==="constant"&&I.value.value instanceof ei)J(I.value.value.sections);else if(I.value.kind==="source"){var le=function(Ee){B||(Ee instanceof ho&&Gi(Ee.value)===tr?J(Ee.value.sections):Ee instanceof Pa?J(Ee.sections):Ee.eachChild(le))},ve=I.value;ve._styleExpression&&le(ve._styleExpression.expression)}return B},c}(Fu),qP={paint:new ia({"background-color":new Rr(qe.paint_background["background-color"]),"background-pattern":new bs(qe.paint_background["background-pattern"]),"background-opacity":new Rr(qe.paint_background["background-opacity"])})},NP=function(s){function c(d){s.call(this,d,qP)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c}(Fu),BP={paint:new ia({"raster-opacity":new Rr(qe.paint_raster["raster-opacity"]),"raster-hue-rotate":new Rr(qe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Rr(qe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Rr(qe.paint_raster["raster-brightness-max"]),"raster-saturation":new Rr(qe.paint_raster["raster-saturation"]),"raster-contrast":new Rr(qe.paint_raster["raster-contrast"]),"raster-resampling":new Rr(qe.paint_raster["raster-resampling"]),"raster-fade-duration":new Rr(qe.paint_raster["raster-fade-duration"])})},rw=function(s){function c(d){s.call(this,d,BP)}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c}(Fu),CC=function(s){function c(d){s.call(this,d,{}),this.implementation=d}return s&&(c.__proto__=s),(c.prototype=Object.create(s&&s.prototype)).constructor=c,c.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},c.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},c.prototype.recalculate=function(){},c.prototype.updateTransitions=function(){},c.prototype.hasTransition=function(){},c.prototype.serialize=function(){},c.prototype.onAdd=function(d){this.implementation.onAdd&&this.implementation.onAdd(d,d.painter.context.gl)},c.prototype.onRemove=function(d){this.implementation.onRemove&&this.implementation.onRemove(d,d.painter.context.gl)},c}(Fu),zP={circle:im,heatmap:Um,hillshade:xl,fill:ch,"fill-extrusion":Ym,line:Rd,symbol:FP,background:NP,raster:rw},AC=be.HTMLImageElement,DC=be.HTMLCanvasElement,OC=be.HTMLVideoElement,IC=be.ImageData,k0=be.ImageBitmap,Jm=function(s,c,d,E){this.context=s,this.format=d,this.texture=s.gl.createTexture(),this.update(c,E)};Jm.prototype.update=function(s,c,d){var E=s.width,I=s.height,L=!(this.size&&this.size[0]===E&&this.size[1]===I||d),B=this.context,J=B.gl;if(this.useMipmap=Boolean(c&&c.useMipmap),J.bindTexture(J.TEXTURE_2D,this.texture),B.pixelStoreUnpackFlipY.set(!1),B.pixelStoreUnpack.set(1),B.pixelStoreUnpackPremultiplyAlpha.set(this.format===J.RGBA&&(!c||c.premultiply!==!1)),L)this.size=[E,I],s instanceof AC||s instanceof DC||s instanceof OC||s instanceof IC||k0&&s instanceof k0?J.texImage2D(J.TEXTURE_2D,0,this.format,this.format,J.UNSIGNED_BYTE,s):J.texImage2D(J.TEXTURE_2D,0,this.format,E,I,0,this.format,J.UNSIGNED_BYTE,s.data);else{var le=d||{x:0,y:0},ve=le.x,Ee=le.y;s instanceof AC||s instanceof DC||s instanceof OC||s instanceof IC||k0&&s instanceof k0?J.texSubImage2D(J.TEXTURE_2D,0,ve,Ee,J.RGBA,J.UNSIGNED_BYTE,s):J.texSubImage2D(J.TEXTURE_2D,0,ve,Ee,E,I,J.RGBA,J.UNSIGNED_BYTE,s.data)}this.useMipmap&&this.isSizePowerOfTwo()&&J.generateMipmap(J.TEXTURE_2D)},Jm.prototype.bind=function(s,c,d){var E=this.context.gl;E.bindTexture(E.TEXTURE_2D,this.texture),d!==E.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(d=E.LINEAR),s!==this.filter&&(E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,s),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,d||s),this.filter=s),c!==this.wrap&&(E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,c),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,c),this.wrap=c)},Jm.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Jm.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var nw=function(s){var c=this;this._callback=s,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){c._triggered=!1,c._callback()})};nw.prototype.trigger=function(){var s=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){s._triggered=!1,s._callback()},0))},nw.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Qm=function(s,c,d){this.target=s,this.parent=c,this.mapId=d,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},U(["receive","process"],this),this.invoker=new nw(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=cr()?s:be};function MC(s,c,d){var E=2*Math.PI*6378137/256/Math.pow(2,d);return[s*E-2*Math.PI*6378137/2,c*E-2*Math.PI*6378137/2]}Qm.prototype.send=function(s,c,d,E,I){var L=this;I===void 0&&(I=!1);var B=Math.round(1e18*Math.random()).toString(36).substring(0,10);d&&(this.callbacks[B]=d);var J=At(this.globalScope)?void 0:[];return this.target.postMessage({id:B,type:s,hasCallback:!!d,targetMapId:E,mustQueue:I,sourceMapId:this.mapId,data:$l(c,J)},J),{cancel:function(){d&&delete L.callbacks[B],L.target.postMessage({id:B,type:"<cancel>",targetMapId:E,sourceMapId:L.mapId})}}},Qm.prototype.receive=function(s){var c=s.data,d=c.id;if(d&&(!c.targetMapId||this.mapId===c.targetMapId))if(c.type==="<cancel>"){delete this.tasks[d];var E=this.cancelCallbacks[d];delete this.cancelCallbacks[d],E&&E()}else cr()||c.mustQueue?(this.tasks[d]=c,this.taskQueue.push(d),this.invoker.trigger()):this.processTask(d,c)},Qm.prototype.process=function(){if(this.taskQueue.length){var s=this.taskQueue.shift(),c=this.tasks[s];delete this.tasks[s],this.taskQueue.length&&this.invoker.trigger(),c&&this.processTask(s,c)}},Qm.prototype.processTask=function(s,c){var d=this;if(c.type==="<response>"){var E=this.callbacks[s];delete this.callbacks[s],E&&(c.error?E(Ra(c.error)):E(null,Ra(c.data)))}else{var I=!1,L=At(this.globalScope)?void 0:[],B=c.hasCallback?function(Ee,De){I=!0,delete d.cancelCallbacks[s],d.target.postMessage({id:s,type:"<response>",sourceMapId:d.mapId,error:Ee?$l(Ee):null,data:$l(De,L)},L)}:function(Ee){I=!0},J=null,le=Ra(c.data);if(this.parent[c.type])J=this.parent[c.type](c.sourceMapId,le,B);else if(this.parent.getWorkerSource){var ve=c.type.split(".");J=this.parent.getWorkerSource(c.sourceMapId,ve[0],le.source)[ve[1]](le,B)}else B(new Error("Could not find function "+c.type));!I&&J&&J.cancel&&(this.cancelCallbacks[s]=J.cancel)}},Qm.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var us=function(s,c){s&&(c?this.setSouthWest(s).setNorthEast(c):s.length===4?this.setSouthWest([s[0],s[1]]).setNorthEast([s[2],s[3]]):this.setSouthWest(s[0]).setNorthEast(s[1]))};us.prototype.setNorthEast=function(s){return this._ne=s instanceof Aa?new Aa(s.lng,s.lat):Aa.convert(s),this},us.prototype.setSouthWest=function(s){return this._sw=s instanceof Aa?new Aa(s.lng,s.lat):Aa.convert(s),this},us.prototype.extend=function(s){var c,d,E=this._sw,I=this._ne;if(s instanceof Aa)c=s,d=s;else{if(!(s instanceof us))return Array.isArray(s)?s.length===4||s.every(Array.isArray)?this.extend(us.convert(s)):this.extend(Aa.convert(s)):this;if(d=s._ne,!(c=s._sw)||!d)return this}return E||I?(E.lng=Math.min(c.lng,E.lng),E.lat=Math.min(c.lat,E.lat),I.lng=Math.max(d.lng,I.lng),I.lat=Math.max(d.lat,I.lat)):(this._sw=new Aa(c.lng,c.lat),this._ne=new Aa(d.lng,d.lat)),this},us.prototype.getCenter=function(){return new Aa((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},us.prototype.getSouthWest=function(){return this._sw},us.prototype.getNorthEast=function(){return this._ne},us.prototype.getNorthWest=function(){return new Aa(this.getWest(),this.getNorth())},us.prototype.getSouthEast=function(){return new Aa(this.getEast(),this.getSouth())},us.prototype.getWest=function(){return this._sw.lng},us.prototype.getSouth=function(){return this._sw.lat},us.prototype.getEast=function(){return this._ne.lng},us.prototype.getNorth=function(){return this._ne.lat},us.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},us.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},us.prototype.isEmpty=function(){return!(this._sw&&this._ne)},us.prototype.contains=function(s){var c=Aa.convert(s),d=c.lng,E=c.lat,I=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(I=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=E&&E<=this._ne.lat&&I},us.convert=function(s){return!s||s instanceof us?s:new us(s)};var Aa=function(s,c){if(isNaN(s)||isNaN(c))throw new Error("Invalid LngLat object: ("+s+", "+c+")");if(this.lng=+s,this.lat=+c,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Aa.prototype.wrap=function(){return new Aa(j(this.lng,-180,180),this.lat)},Aa.prototype.toArray=function(){return[this.lng,this.lat]},Aa.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Aa.prototype.distanceTo=function(s){var c=Math.PI/180,d=this.lat*c,E=s.lat*c,I=Math.sin(d)*Math.sin(E)+Math.cos(d)*Math.cos(E)*Math.cos((s.lng-this.lng)*c);return 63710088e-1*Math.acos(Math.min(I,1))},Aa.prototype.toBounds=function(s){s===void 0&&(s=0);var c=360*s/40075017,d=c/Math.cos(Math.PI/180*this.lat);return new us(new Aa(this.lng-d,this.lat-c),new Aa(this.lng+d,this.lat+c))},Aa.convert=function(s){if(s instanceof Aa)return s;if(Array.isArray(s)&&(s.length===2||s.length===3))return new Aa(Number(s[0]),Number(s[1]));if(!Array.isArray(s)&&typeof s=="object"&&s!==null)return new Aa(Number("lng"in s?s.lng:s.lon),Number(s.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var LC=2*Math.PI*63710088e-1;function PC(s){return LC*Math.cos(s*Math.PI/180)}function RC(s){return(180+s)/360}function FC(s){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+s*Math.PI/360)))/360}function qC(s,c){return s/PC(c)}function iw(s){return 360/Math.PI*Math.atan(Math.exp((180-360*s)*Math.PI/180))-90}var eg=function(s,c,d){d===void 0&&(d=0),this.x=+s,this.y=+c,this.z=+d};eg.fromLngLat=function(s,c){c===void 0&&(c=0);var d=Aa.convert(s);return new eg(RC(d.lng),FC(d.lat),qC(c,d.lat))},eg.prototype.toLngLat=function(){return new Aa(360*this.x-180,iw(this.y))},eg.prototype.toAltitude=function(){return this.z*PC(iw(this.y))},eg.prototype.meterInMercatorCoordinateUnits=function(){return 1/LC*(s=iw(this.y),1/Math.cos(s*Math.PI/180));var s};var tg=function(s,c,d){this.z=s,this.x=c,this.y=d,this.key=Py(0,s,s,c,d)};tg.prototype.equals=function(s){return this.z===s.z&&this.x===s.x&&this.y===s.y},tg.prototype.url=function(s,c){var d,E,I,L,B,J=(E=this.y,I=this.z,L=MC(256*(d=this.x),256*(E=Math.pow(2,I)-E-1),I),B=MC(256*(d+1),256*(E+1),I),L[0]+","+L[1]+","+B[0]+","+B[1]),le=function(ve,Ee,De){for(var Le,Ve="",ut=ve;ut>0;ut--)Ve+=(Ee&(Le=1<<ut-1)?1:0)+(De&Le?2:0);return Ve}(this.z,this.x,this.y);return s[(this.x+this.y)%s.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(c==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",le).replace("{bbox-epsg-3857}",J)},tg.prototype.getTilePoint=function(s){var c=Math.pow(2,this.z);return new we(8192*(s.x*c-this.x),8192*(s.y*c-this.y))},tg.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var NC=function(s,c){this.wrap=s,this.canonical=c,this.key=Py(s,c.z,c.z,c.x,c.y)},Ws=function(s,c,d,E,I){this.overscaledZ=s,this.wrap=c,this.canonical=new tg(d,+E,+I),this.key=Py(c,s,d,E,I)};function Py(s,c,d,E,I){(s*=2)<0&&(s=-1*s-1);var L=1<<d;return(L*L*s+L*I+E).toString(36)+d.toString(36)+c.toString(36)}Ws.prototype.equals=function(s){return this.overscaledZ===s.overscaledZ&&this.wrap===s.wrap&&this.canonical.equals(s.canonical)},Ws.prototype.scaledTo=function(s){var c=this.canonical.z-s;return s>this.canonical.z?new Ws(s,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ws(s,this.wrap,s,this.canonical.x>>c,this.canonical.y>>c)},Ws.prototype.calculateScaledKey=function(s,c){var d=this.canonical.z-s;return s>this.canonical.z?Py(this.wrap*+c,s,this.canonical.z,this.canonical.x,this.canonical.y):Py(this.wrap*+c,s,s,this.canonical.x>>d,this.canonical.y>>d)},Ws.prototype.isChildOf=function(s){if(s.wrap!==this.wrap)return!1;var c=this.canonical.z-s.canonical.z;return s.overscaledZ===0||s.overscaledZ<this.overscaledZ&&s.canonical.x===this.canonical.x>>c&&s.canonical.y===this.canonical.y>>c},Ws.prototype.children=function(s){if(this.overscaledZ>=s)return[new Ws(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var c=this.canonical.z+1,d=2*this.canonical.x,E=2*this.canonical.y;return[new Ws(c,this.wrap,c,d,E),new Ws(c,this.wrap,c,d+1,E),new Ws(c,this.wrap,c,d,E+1),new Ws(c,this.wrap,c,d+1,E+1)]},Ws.prototype.isLessThan=function(s){return this.wrap<s.wrap||!(this.wrap>s.wrap)&&(this.overscaledZ<s.overscaledZ||!(this.overscaledZ>s.overscaledZ)&&(this.canonical.x<s.canonical.x||!(this.canonical.x>s.canonical.x)&&this.canonical.y<s.canonical.y))},Ws.prototype.wrapped=function(){return new Ws(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ws.prototype.unwrapTo=function(s){return new Ws(this.overscaledZ,s,this.canonical.z,this.canonical.x,this.canonical.y)},Ws.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ws.prototype.toUnwrapped=function(){return new NC(this.wrap,this.canonical)},Ws.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ws.prototype.getTilePoint=function(s){return this.canonical.getTilePoint(new eg(s.x-this.wrap,s.y))},Zr("CanonicalTileID",tg),Zr("OverscaledTileID",Ws,{omit:["posMatrix"]});var kp=function(s,c,d){if(this.uid=s,c.height!==c.width)throw new RangeError("DEM tiles must be square");if(d&&d!=="mapbox"&&d!=="terrarium")return Ht('"'+d+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=c.height;var E=this.dim=c.height-2;this.data=new Uint32Array(c.data.buffer),this.encoding=d||"mapbox";for(var I=0;I<E;I++)this.data[this._idx(-1,I)]=this.data[this._idx(0,I)],this.data[this._idx(E,I)]=this.data[this._idx(E-1,I)],this.data[this._idx(I,-1)]=this.data[this._idx(I,0)],this.data[this._idx(I,E)]=this.data[this._idx(I,E-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(E,-1)]=this.data[this._idx(E-1,0)],this.data[this._idx(-1,E)]=this.data[this._idx(0,E-1)],this.data[this._idx(E,E)]=this.data[this._idx(E-1,E-1)]};kp.prototype.get=function(s,c){var d=new Uint8Array(this.data.buffer),E=4*this._idx(s,c);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(d[E],d[E+1],d[E+2])},kp.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},kp.prototype._idx=function(s,c){if(s<-1||s>=this.dim+1||c<-1||c>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(c+1)*this.stride+(s+1)},kp.prototype._unpackMapbox=function(s,c,d){return(256*s*256+256*c+d)/10-1e4},kp.prototype._unpackTerrarium=function(s,c,d){return 256*s+c+d/256-32768},kp.prototype.getPixels=function(){return new Ms({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},kp.prototype.backfillBorder=function(s,c,d){if(this.dim!==s.dim)throw new Error("dem dimension mismatch");var E=c*this.dim,I=c*this.dim+this.dim,L=d*this.dim,B=d*this.dim+this.dim;switch(c){case-1:E=I-1;break;case 1:I=E+1}switch(d){case-1:L=B-1;break;case 1:B=L+1}for(var J=-c*this.dim,le=-d*this.dim,ve=L;ve<B;ve++)for(var Ee=E;Ee<I;Ee++)this.data[this._idx(Ee,ve)]=s.data[this._idx(Ee+J,ve+le)]},Zr("DEMData",kp);var C0=function(s){this._stringToNumber={},this._numberToString=[];for(var c=0;c<s.length;c++){var d=s[c];this._stringToNumber[d]=c,this._numberToString[c]=d}};C0.prototype.encode=function(s){return this._stringToNumber[s]},C0.prototype.decode=function(s){return this._numberToString[s]};var A0=function(s,c,d,E,I){this.type="Feature",this._vectorTileFeature=s,s._z=c,s._x=d,s._y=E,this.properties=s.properties,this.id=I},ow={geometry:{configurable:!0}};ow.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},ow.geometry.set=function(s){this._geometry=s},A0.prototype.toJSON=function(){var s={geometry:this.geometry};for(var c in this)c!=="_geometry"&&c!=="_vectorTileFeature"&&(s[c]=this[c]);return s},Object.defineProperties(A0.prototype,ow);var rg=function(){this.state={},this.stateChanges={},this.deletedStates={}};rg.prototype.updateState=function(s,c,d){var E=String(c);if(this.stateChanges[s]=this.stateChanges[s]||{},this.stateChanges[s][E]=this.stateChanges[s][E]||{},G(this.stateChanges[s][E],d),this.deletedStates[s]===null)for(var I in this.deletedStates[s]={},this.state[s])I!==E&&(this.deletedStates[s][I]=null);else if(this.deletedStates[s]&&this.deletedStates[s][E]===null)for(var L in this.deletedStates[s][E]={},this.state[s][E])d[L]||(this.deletedStates[s][E][L]=null);else for(var B in d)this.deletedStates[s]&&this.deletedStates[s][E]&&this.deletedStates[s][E][B]===null&&delete this.deletedStates[s][E][B]},rg.prototype.removeFeatureState=function(s,c,d){if(this.deletedStates[s]!==null){var E=String(c);if(this.deletedStates[s]=this.deletedStates[s]||{},d&&c!==void 0)this.deletedStates[s][E]!==null&&(this.deletedStates[s][E]=this.deletedStates[s][E]||{},this.deletedStates[s][E][d]=null);else if(c!==void 0)if(this.stateChanges[s]&&this.stateChanges[s][E])for(d in this.deletedStates[s][E]={},this.stateChanges[s][E])this.deletedStates[s][E][d]=null;else this.deletedStates[s][E]=null;else this.deletedStates[s]=null}},rg.prototype.getState=function(s,c){var d=String(c),E=G({},(this.state[s]||{})[d],(this.stateChanges[s]||{})[d]);if(this.deletedStates[s]===null)return{};if(this.deletedStates[s]){var I=this.deletedStates[s][c];if(I===null)return{};for(var L in I)delete E[L]}return E},rg.prototype.initializeTileState=function(s,c){s.setFeatureState(this.state,c)},rg.prototype.coalesceChanges=function(s,c){var d={};for(var E in this.stateChanges){this.state[E]=this.state[E]||{};var I={};for(var L in this.stateChanges[E])this.state[E][L]||(this.state[E][L]={}),G(this.state[E][L],this.stateChanges[E][L]),I[L]=this.state[E][L];d[E]=I}for(var B in this.deletedStates){this.state[B]=this.state[B]||{};var J={};if(this.deletedStates[B]===null)for(var le in this.state[B])J[le]={},this.state[B][le]={};else for(var ve in this.deletedStates[B]){if(this.deletedStates[B][ve]===null)this.state[B][ve]={};else for(var Ee=0,De=Object.keys(this.deletedStates[B][ve]);Ee<De.length;Ee+=1)delete this.state[B][ve][De[Ee]];J[ve]=this.state[B][ve]}d[B]=d[B]||{},G(d[B],J)}if(this.stateChanges={},this.deletedStates={},Object.keys(d).length!==0)for(var Le in s)s[Le].setFeatureState(d,c)};var qd=function(s,c){this.tileID=s,this.x=s.canonical.x,this.y=s.canonical.y,this.z=s.canonical.z,this.grid=new Os(8192,16,0),this.grid3D=new Os(8192,16,0),this.featureIndexArray=new Oe,this.promoteId=c};function BC(s,c,d,E,I){return Je(s,function(L,B){var J=c instanceof Ea?c.get(B):null;return J&&J.evaluate?J.evaluate(d,E,I):J})}function zC(s){for(var c=1/0,d=1/0,E=-1/0,I=-1/0,L=0,B=s;L<B.length;L+=1){var J=B[L];c=Math.min(c,J.x),d=Math.min(d,J.y),E=Math.max(E,J.x),I=Math.max(I,J.y)}return{minX:c,minY:d,maxX:E,maxY:I}}function UP(s,c){return c-s}qd.prototype.insert=function(s,c,d,E,I,L){var B=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,E,I);for(var J=L?this.grid3D:this.grid,le=0;le<c.length;le++){for(var ve=c[le],Ee=[1/0,1/0,-1/0,-1/0],De=0;De<ve.length;De++){var Le=ve[De];Ee[0]=Math.min(Ee[0],Le.x),Ee[1]=Math.min(Ee[1],Le.y),Ee[2]=Math.max(Ee[2],Le.x),Ee[3]=Math.max(Ee[3],Le.y)}Ee[0]<8192&&Ee[1]<8192&&Ee[2]>=0&&Ee[3]>=0&&J.insert(B,Ee[0],Ee[1],Ee[2],Ee[3])}},qd.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new _l.VectorTile(new T(this.rawTileData)).layers,this.sourceLayerCoder=new C0(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},qd.prototype.query=function(s,c,d,E){var I=this;this.loadVTLayers();for(var L=s.params||{},B=8192/s.tileSize/s.scale,J=fa(L.filter),le=s.queryGeometry,ve=s.queryPadding*B,Ee=zC(le),De=this.grid.query(Ee.minX-ve,Ee.minY-ve,Ee.maxX+ve,Ee.maxY+ve),Le=zC(s.cameraQueryGeometry),Ve=this.grid3D.query(Le.minX-ve,Le.minY-ve,Le.maxX+ve,Le.maxY+ve,function(Qt,ar,pr,Ar){return function(Hr,wn,Xr,An,tn){for(var hi=0,zn=Hr;hi<zn.length;hi+=1){var pn=zn[hi];if(wn<=pn.x&&Xr<=pn.y&&An>=pn.x&&tn>=pn.y)return!0}var Ei=[new we(wn,Xr),new we(wn,tn),new we(An,tn),new we(An,Xr)];if(Hr.length>2){for(var ni=0,zi=Ei;ni<zi.length;ni+=1)if(Hs(Hr,zi[ni]))return!0}for(var In=0;In<Hr.length-1;In++)if(Gh(Hr[In],Hr[In+1],Ei))return!0;return!1}(s.cameraQueryGeometry,Qt-ve,ar-ve,pr+ve,Ar+ve)}),ut=0,ct=Ve;ut<ct.length;ut+=1)De.push(ct[ut]);De.sort(UP);for(var xt,gt={},Lt=function(Qt){var ar=De[Qt];if(ar!==xt){xt=ar;var pr=I.featureIndexArray.get(ar),Ar=null;I.loadMatchingFeature(gt,pr.bucketIndex,pr.sourceLayerIndex,pr.featureIndex,J,L.layers,L.availableImages,c,d,E,function(Hr,wn,Xr){return Ar||(Ar=_o(Hr)),wn.queryIntersectsFeature(le,Hr,Xr,Ar,I.z,s.transform,B,s.pixelPosMatrix)})}},Kt=0;Kt<De.length;Kt++)Lt(Kt);return gt},qd.prototype.loadMatchingFeature=function(s,c,d,E,I,L,B,J,le,ve,Ee){var De=this.bucketLayerIDs[c];if(!L||function(Hr,wn){for(var Xr=0;Xr<Hr.length;Xr++)if(wn.indexOf(Hr[Xr])>=0)return!0;return!1}(L,De)){var Le=this.sourceLayerCoder.decode(d),Ve=this.vtLayers[Le].feature(E);if(I.needGeometry){var ut=To(Ve,!0);if(!I.filter(new ci(this.tileID.overscaledZ),ut,this.tileID.canonical))return}else if(!I.filter(new ci(this.tileID.overscaledZ),Ve))return;for(var ct=this.getId(Ve,Le),xt=0;xt<De.length;xt++){var gt=De[xt];if(!(L&&L.indexOf(gt)<0)){var Lt=J[gt];if(Lt){var Kt={};ct!==void 0&&ve&&(Kt=ve.getState(Lt.sourceLayer||"_geojsonTileLayer",ct));var Qt=G({},le[gt]);Qt.paint=BC(Qt.paint,Lt.paint,Ve,Kt,B),Qt.layout=BC(Qt.layout,Lt.layout,Ve,Kt,B);var ar=!Ee||Ee(Ve,Lt,Kt);if(ar){var pr=new A0(Ve,this.z,this.x,this.y,ct);pr.layer=Qt;var Ar=s[gt];Ar===void 0&&(Ar=s[gt]=[]),Ar.push({featureIndex:E,feature:pr,intersectionZ:ar})}}}}}},qd.prototype.lookupSymbolFeatures=function(s,c,d,E,I,L,B,J){var le={};this.loadVTLayers();for(var ve=fa(I),Ee=0,De=s;Ee<De.length;Ee+=1)this.loadMatchingFeature(le,d,E,De[Ee],ve,L,B,J,c);return le},qd.prototype.hasLayer=function(s){for(var c=0,d=this.bucketLayerIDs;c<d.length;c+=1)for(var E=0,I=d[c];E<I.length;E+=1)if(s===I[E])return!0;return!1},qd.prototype.getId=function(s,c){var d=s.id;return this.promoteId&&typeof(d=s.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[c]])=="boolean"&&(d=Number(d)),d},Zr("FeatureIndex",qd,{omit:["rawTileData","sourceLayerCoder"]});var Tl=function(s,c){this.tileID=s,this.uid=te(),this.uses=0,this.tileSize=c,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Tl.prototype.registerFadeDuration=function(s){var c=s+this.timeAdded;c<Nt.now()||this.fadeEndTime&&c<this.fadeEndTime||(this.fadeEndTime=c)},Tl.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Tl.prototype.loadVectorData=function(s,c,d){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",s){for(var E in s.featureIndex&&(this.latestFeatureIndex=s.featureIndex,s.rawTileData?(this.latestRawTileData=s.rawTileData,this.latestFeatureIndex.rawTileData=s.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=s.collisionBoxArray,this.buckets=function(ve,Ee){var De={};if(!Ee)return De;for(var Le=function(){var ct=ut[Ve],xt=ct.layerIds.map(function(Kt){return Ee.getLayer(Kt)}).filter(Boolean);if(xt.length!==0){ct.layers=xt,ct.stateDependentLayerIds&&(ct.stateDependentLayers=ct.stateDependentLayerIds.map(function(Kt){return xt.filter(function(Qt){return Qt.id===Kt})[0]}));for(var gt=0,Lt=xt;gt<Lt.length;gt+=1)De[Lt[gt].id]=ct}},Ve=0,ut=ve;Ve<ut.length;Ve+=1)Le();return De}(s.buckets,c.style),this.hasSymbolBuckets=!1,this.buckets){var I=this.buckets[E];if(I instanceof jo){if(this.hasSymbolBuckets=!0,!d)break;I.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var L in this.buckets){var B=this.buckets[L];if(B instanceof jo&&B.hasRTLText){this.hasRTLText=!0,ys.isLoading()||ys.isLoaded()||cf()!=="deferred"||js();break}}for(var J in this.queryPadding=0,this.buckets){var le=this.buckets[J];this.queryPadding=Math.max(this.queryPadding,c.style.getLayer(J).queryRadius(le))}s.imageAtlas&&(this.imageAtlas=s.imageAtlas),s.glyphAtlasImage&&(this.glyphAtlasImage=s.glyphAtlasImage)}else this.collisionBoxArray=new x},Tl.prototype.unloadVectorData=function(){for(var s in this.buckets)this.buckets[s].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Tl.prototype.getBucket=function(s){return this.buckets[s.id]},Tl.prototype.upload=function(s){for(var c in this.buckets){var d=this.buckets[c];d.uploadPending()&&d.upload(s)}var E=s.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Jm(s,this.imageAtlas.image,E.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Jm(s,this.glyphAtlasImage,E.ALPHA),this.glyphAtlasImage=null)},Tl.prototype.prepare=function(s){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(s,this.imageAtlasTexture)},Tl.prototype.queryRenderedFeatures=function(s,c,d,E,I,L,B,J,le,ve){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:E,cameraQueryGeometry:I,scale:L,tileSize:this.tileSize,pixelPosMatrix:ve,transform:J,params:B,queryPadding:this.queryPadding*le},s,c,d):{}},Tl.prototype.querySourceFeatures=function(s,c){var d=this.latestFeatureIndex;if(d&&d.rawTileData){var E=d.loadVTLayers(),I=c?c.sourceLayer:"",L=E._geojsonTileLayer||E[I];if(L)for(var B=fa(c&&c.filter),J=this.tileID.canonical,le=J.z,ve=J.x,Ee=J.y,De={z:le,x:ve,y:Ee},Le=0;Le<L.length;Le++){var Ve=L.feature(Le);if(B.needGeometry){var ut=To(Ve,!0);if(!B.filter(new ci(this.tileID.overscaledZ),ut,this.tileID.canonical))continue}else if(!B.filter(new ci(this.tileID.overscaledZ),Ve))continue;var ct=d.getId(Ve,I),xt=new A0(Ve,le,ve,Ee,ct);xt.tile=De,s.push(xt)}}},Tl.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Tl.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Tl.prototype.setExpiryData=function(s){var c=this.expirationTime;if(s.cacheControl){var d=Tr(s.cacheControl);d["max-age"]&&(this.expirationTime=Date.now()+1e3*d["max-age"])}else s.expires&&(this.expirationTime=new Date(s.expires).getTime());if(this.expirationTime){var E=Date.now(),I=!1;if(this.expirationTime>E)I=!1;else if(c)if(this.expirationTime<c)I=!0;else{var L=this.expirationTime-c;L?this.expirationTime=E+Math.max(L,3e4):I=!0}else I=!0;I?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Tl.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Tl.prototype.setFeatureState=function(s,c){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(s).length!==0){var d=this.latestFeatureIndex.loadVTLayers();for(var E in this.buckets)if(c.style.hasLayer(E)){var I=this.buckets[E],L=I.layers[0].sourceLayer||"_geojsonTileLayer",B=d[L],J=s[L];if(B&&J&&Object.keys(J).length!==0){I.update(J,B,this.imageAtlas&&this.imageAtlas.patternPositions||{});var le=c&&c.style&&c.style.getLayer(E);le&&(this.queryPadding=Math.max(this.queryPadding,le.queryRadius(I)))}}}},Tl.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Tl.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Nt.now()},Tl.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Tl.prototype.setHoldDuration=function(s){this.symbolFadeHoldUntil=Nt.now()+s},Tl.prototype.setDependencies=function(s,c){for(var d={},E=0,I=c;E<I.length;E+=1)d[I[E]]=!0;this.dependencies[s]=d},Tl.prototype.hasDependency=function(s,c){for(var d=0,E=s;d<E.length;d+=1){var I=this.dependencies[E[d]];if(I){for(var L=0,B=c;L<B.length;L+=1)if(I[B[L]])return!0}}return!1};var Jh=be.performance,UC=function(s){this._marks={start:[s.url,"start"].join("#"),end:[s.url,"end"].join("#"),measure:s.url.toString()},Jh.mark(this._marks.start)};UC.prototype.finish=function(){Jh.mark(this._marks.end);var s=Jh.getEntriesByName(this._marks.measure);return s.length===0&&(Jh.measure(this._marks.measure,this._marks.start,this._marks.end),s=Jh.getEntriesByName(this._marks.measure),Jh.clearMarks(this._marks.start),Jh.clearMarks(this._marks.end),Jh.clearMeasures(this._marks.measure)),s},_.Actor=Qm,_.AlphaImage=_s,_.CanonicalTileID=tg,_.CollisionBoxArray=x,_.Color=Xn,_.DEMData=kp,_.DataConstantProperty=Rr,_.DictionaryCoder=C0,_.EXTENT=8192,_.ErrorEvent=yt,_.EvaluationParameters=ci,_.Event=ot,_.Evented=mt,_.FeatureIndex=qd,_.FillBucket=cc,_.FillExtrusionBucket=_u,_.ImageAtlas=Wi,_.ImagePosition=ai,_.LineBucket=ws,_.LngLat=Aa,_.LngLatBounds=us,_.MercatorCoordinate=eg,_.ONE_EM=24,_.OverscaledTileID=Ws,_.Point=we,_.Point$1=we,_.Properties=ia,_.Protobuf=T,_.RGBAImage=Ms,_.RequestManager=er,_.RequestPerformance=UC,_.ResourceType=Fn,_.SegmentVector=We,_.SourceFeatureState=rg,_.StructArrayLayout1ui2=$h,_.StructArrayLayout2f1f2i16=pa,_.StructArrayLayout2i4=uc,_.StructArrayLayout3ui6=oi,_.StructArrayLayout4i8=Wh,_.SymbolBucket=jo,_.Texture=Jm,_.Tile=Tl,_.Transitionable=Zi,_.Uniform1f=yr,_.Uniform1i=mr,_.Uniform2f=br,_.Uniform3f=$r,_.Uniform4f=Gr,_.UniformColor=hn,_.UniformMatrix4f=Bn,_.UnwrappedTileID=NC,_.ValidationError=Ke,_.WritingMode=Pn,_.ZoomHistory=uf,_.add=function(s,c,d){return s[0]=c[0]+d[0],s[1]=c[1]+d[1],s[2]=c[2]+d[2],s},_.addDynamicAttributes=ew,_.asyncAll=function(s,c,d){if(!s.length)return d(null,[]);var E=s.length,I=new Array(s.length),L=null;s.forEach(function(B,J){c(B,function(le,ve){le&&(L=le),I[J]=ve,--E==0&&d(L,I)})})},_.bezier=q,_.bindAll=U,_.browser=Nt,_.cacheEntryPossiblyAdded=function(s){++Nn>Mt&&(s.getActor().send("enforceCacheSizeLimit",st),Nn=0)},_.clamp=R,_.clearTileCache=function(s){var c=be.caches.delete("mapbox-tiles");s&&c.catch(s).then(function(){return s()})},_.clipLine=wC,_.clone=function(s){var c=new Oi(16);return c[0]=s[0],c[1]=s[1],c[2]=s[2],c[3]=s[3],c[4]=s[4],c[5]=s[5],c[6]=s[6],c[7]=s[7],c[8]=s[8],c[9]=s[9],c[10]=s[10],c[11]=s[11],c[12]=s[12],c[13]=s[13],c[14]=s[14],c[15]=s[15],c},_.clone$1=Ct,_.clone$2=function(s){var c=new Oi(3);return c[0]=s[0],c[1]=s[1],c[2]=s[2],c},_.collisionCircleLayout=A,_.config=vr,_.create=function(){var s=new Oi(16);return Oi!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0),s[0]=1,s[5]=1,s[10]=1,s[15]=1,s},_.create$1=function(){var s=new Oi(9);return Oi!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[5]=0,s[6]=0,s[7]=0),s[0]=1,s[4]=1,s[8]=1,s},_.create$2=function(){var s=new Oi(4);return Oi!=Float32Array&&(s[1]=0,s[2]=0),s[0]=1,s[3]=1,s},_.createCommonjsModule=ge,_.createExpression=nc,_.createLayout=os,_.createStyleLayer=function(s){return s.type==="custom"?new CC(s):new zP[s.type](s)},_.cross=function(s,c,d){var E=c[0],I=c[1],L=c[2],B=d[0],J=d[1],le=d[2];return s[0]=I*le-L*J,s[1]=L*B-E*le,s[2]=E*J-I*B,s},_.deepEqual=function s(c,d){if(Array.isArray(c)){if(!Array.isArray(d)||c.length!==d.length)return!1;for(var E=0;E<c.length;E++)if(!s(c[E],d[E]))return!1;return!0}if(typeof c=="object"&&c!==null&&d!==null){if(typeof d!="object"||Object.keys(c).length!==Object.keys(d).length)return!1;for(var I in c)if(!s(c[I],d[I]))return!1;return!0}return c===d},_.dot=function(s,c){return s[0]*c[0]+s[1]*c[1]+s[2]*c[2]},_.dot$1=function(s,c){return s[0]*c[0]+s[1]*c[1]+s[2]*c[2]+s[3]*c[3]},_.ease=ee,_.emitValidationErrors=Vl,_.endsWith=Ue,_.enforceCacheSizeLimit=function(s){nr(),Vr&&Vr.then(function(c){c.keys().then(function(d){for(var E=0;E<d.length-s;E++)c.delete(d[E])})})},_.evaluateSizeForFeature=Ql,_.evaluateSizeForZoom=Fd,_.evaluateVariableOffset=TC,_.evented=hu,_.extend=G,_.featureFilter=fa,_.filterObject=Qe,_.fromRotation=function(s,c){var d=Math.sin(c),E=Math.cos(c);return s[0]=E,s[1]=d,s[2]=0,s[3]=-d,s[4]=E,s[5]=0,s[6]=0,s[7]=0,s[8]=1,s},_.getAnchorAlignment=oa,_.getAnchorJustification=Q1,_.getArrayBuffer=La,_.getImage=Ie,_.getJSON=function(s,c){return Ri(G(s,{type:"json"}),c)},_.getRTLTextPluginStatus=cf,_.getReferrer=mn,_.getVideo=function(s,c){var d,E,I=be.document.createElement("video");I.muted=!0,I.onloadstart=function(){c(null,I)};for(var L=0;L<s.length;L++){var B=be.document.createElement("source");d=s[L],E=void 0,(E=be.document.createElement("a")).href=d,(E.protocol!==be.document.location.protocol||E.host!==be.document.location.host)&&(I.crossOrigin="Anonymous"),B.src=s[L],I.appendChild(B)}return{cancel:function(){}}},_.identity=vl,_.invert=function(s,c){var d=c[0],E=c[1],I=c[2],L=c[3],B=c[4],J=c[5],le=c[6],ve=c[7],Ee=c[8],De=c[9],Le=c[10],Ve=c[11],ut=c[12],ct=c[13],xt=c[14],gt=c[15],Lt=d*J-E*B,Kt=d*le-I*B,Qt=d*ve-L*B,ar=E*le-I*J,pr=E*ve-L*J,Ar=I*ve-L*le,Hr=Ee*ct-De*ut,wn=Ee*xt-Le*ut,Xr=Ee*gt-Ve*ut,An=De*xt-Le*ct,tn=De*gt-Ve*ct,hi=Le*gt-Ve*xt,zn=Lt*hi-Kt*tn+Qt*An+ar*Xr-pr*wn+Ar*Hr;return zn?(s[0]=(J*hi-le*tn+ve*An)*(zn=1/zn),s[1]=(I*tn-E*hi-L*An)*zn,s[2]=(ct*Ar-xt*pr+gt*ar)*zn,s[3]=(Le*pr-De*Ar-Ve*ar)*zn,s[4]=(le*Xr-B*hi-ve*wn)*zn,s[5]=(d*hi-I*Xr+L*wn)*zn,s[6]=(xt*Qt-ut*Ar-gt*Kt)*zn,s[7]=(Ee*Ar-Le*Qt+Ve*Kt)*zn,s[8]=(B*tn-J*Xr+ve*Hr)*zn,s[9]=(E*Xr-d*tn-L*Hr)*zn,s[10]=(ut*pr-ct*Qt+gt*Lt)*zn,s[11]=(De*Qt-Ee*pr-Ve*Lt)*zn,s[12]=(J*wn-B*An-le*Hr)*zn,s[13]=(d*An-E*wn+I*Hr)*zn,s[14]=(ct*Kt-ut*ar-xt*Lt)*zn,s[15]=(Ee*ar-De*Kt+Le*Lt)*zn,s):null},_.isChar=wr,_.isMapboxURL=Lr,_.keysDifference=function(s,c){var d=[];for(var E in s)E in c||d.push(E);return d},_.makeRequest=Ri,_.mapObject=Je,_.mercatorXfromLng=RC,_.mercatorYfromLat=FC,_.mercatorZfromAltitude=qC,_.mul=Od,_.multiply=Is,_.mvt=_l,_.nextPowerOfTwo=function(s){return s<=1?1:Math.pow(2,Math.ceil(Math.log(s)/Math.LN2))},_.normalize=function(s,c){var d=c[0],E=c[1],I=c[2],L=d*d+E*E+I*I;return L>0&&(L=1/Math.sqrt(L)),s[0]=c[0]*L,s[1]=c[1]*L,s[2]=c[2]*L,s},_.number=Uo,_.offscreenCanvasSupported=Nr,_.ortho=function(s,c,d,E,I,L,B){var J=1/(c-d),le=1/(E-I),ve=1/(L-B);return s[0]=-2*J,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*le,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*ve,s[11]=0,s[12]=(c+d)*J,s[13]=(I+E)*le,s[14]=(B+L)*ve,s[15]=1,s},_.parseGlyphPBF=function(s){return new T(s).readFields(ln,[])},_.pbf=T,_.performSymbolLayout=function(s,c,d,E,I,L,B){s.createArrays(),s.tilePixelRatio=8192/(512*s.overscaling),s.compareText={},s.iconsNeedLinear=!1;var J=s.layers[0].layout,le=s.layers[0]._unevaluatedLayout._values,ve={};if(s.textSizeData.kind==="composite"){var Ee=s.textSizeData,De=Ee.maxZoom;ve.compositeTextSizes=[le["text-size"].possiblyEvaluate(new ci(Ee.minZoom),B),le["text-size"].possiblyEvaluate(new ci(De),B)]}if(s.iconSizeData.kind==="composite"){var Le=s.iconSizeData,Ve=Le.maxZoom;ve.compositeIconSizes=[le["icon-size"].possiblyEvaluate(new ci(Le.minZoom),B),le["icon-size"].possiblyEvaluate(new ci(Ve),B)]}ve.layoutTextSize=le["text-size"].possiblyEvaluate(new ci(s.zoom+1),B),ve.layoutIconSize=le["icon-size"].possiblyEvaluate(new ci(s.zoom+1),B),ve.textMaxSize=le["text-size"].possiblyEvaluate(new ci(18));for(var ut=24*J.get("text-line-height"),ct=J.get("text-rotation-alignment")==="map"&&J.get("symbol-placement")!=="point",xt=J.get("text-keep-upright"),gt=J.get("text-size"),Lt=function(){var ar=Qt[Kt],pr=J.get("text-font").evaluate(ar,{},B).join(","),Ar=gt.evaluate(ar,{},B),Hr=ve.layoutTextSize.evaluate(ar,{},B),wn=ve.layoutIconSize.evaluate(ar,{},B),Xr={horizontal:{},vertical:void 0},An=ar.text,tn=[0,0];if(An){var hi=An.toString(),zn=24*J.get("text-letter-spacing").evaluate(ar,{},B),pn=function(si){for(var Yo=0,Lo=si;Yo<Lo.length;Yo+=1)if(Vi=Lo[Yo].charCodeAt(0),wr.Arabic(Vi)||wr["Arabic Supplement"](Vi)||wr["Arabic Extended-A"](Vi)||wr["Arabic Presentation Forms-A"](Vi)||wr["Arabic Presentation Forms-B"](Vi))return!1;var Vi;return!0}(hi)?zn:0,Ei=J.get("text-anchor").evaluate(ar,{},B),ni=J.get("text-variable-anchor");if(!ni){var zi=J.get("text-radial-offset").evaluate(ar,{},B);tn=zi?TC(Ei,[24*zi,My]):J.get("text-offset").evaluate(ar,{},B).map(function(si){return 24*si})}var In=ct?"center":J.get("text-justify").evaluate(ar,{},B),lo=J.get("symbol-placement"),Da=lo==="point"?24*J.get("text-max-width").evaluate(ar,{},B):0,cs=function(){s.allowVerticalPlacement&&Fa(hi)&&(Xr.vertical=Bi(An,c,d,I,pr,Da,ut,Ei,"left",pn,tn,Pn.vertical,!0,lo,Hr,Ar))};if(!ct&&ni){for(var Za=In==="auto"?ni.map(function(si){return Q1(si)}):[In],uo=!1,fs=0;fs<Za.length;fs++){var tl=Za[fs];if(!Xr.horizontal[tl])if(uo)Xr.horizontal[tl]=Xr.horizontal[0];else{var Ba=Bi(An,c,d,I,pr,Da,ut,"center",tl,pn,tn,Pn.horizontal,!1,lo,Hr,Ar);Ba&&(Xr.horizontal[tl]=Ba,uo=Ba.positionedLines.length===1)}}cs()}else{In==="auto"&&(In=Q1(Ei));var Wn=Bi(An,c,d,I,pr,Da,ut,Ei,In,pn,tn,Pn.horizontal,!1,lo,Hr,Ar);Wn&&(Xr.horizontal[In]=Wn),cs(),Fa(hi)&&ct&&xt&&(Xr.vertical=Bi(An,c,d,I,pr,Da,ut,Ei,In,pn,tn,Pn.vertical,!1,lo,Hr,Ar))}}var El=void 0,aa=!1;if(ar.icon&&ar.icon.name){var Ii=E[ar.icon.name];Ii&&(El=function(si,Yo,Lo){var Vi=oa(Lo),hc=Yo[0]-si.displaySize[0]*Vi.horizontalAlign,wu=Yo[1]-si.displaySize[1]*Vi.verticalAlign;return{image:si,top:wu,bottom:wu+si.displaySize[1],left:hc,right:hc+si.displaySize[0]}}(I[ar.icon.name],J.get("icon-offset").evaluate(ar,{},B),J.get("icon-anchor").evaluate(ar,{},B)),aa=Ii.sdf,s.sdfIcons===void 0?s.sdfIcons=Ii.sdf:s.sdfIcons!==Ii.sdf&&Ht("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ii.pixelRatio!==s.pixelRatio||J.get("icon-rotate").constantOr(1)!==0)&&(s.iconsNeedLinear=!0))}var kl=kC(Xr.horizontal)||Xr.vertical;s.iconsInText=!!kl&&kl.iconsInText,(kl||El)&&function(si,Yo,Lo,Vi,hc,wu,ea,Rs,Xa,Ji,zf){var Co=wu.textMaxSize.evaluate(Yo,{});Co===void 0&&(Co=ea);var sa,hs=si.layers[0].layout,Nd=hs.get("icon-offset").evaluate(Yo,{},zf),dh=kC(Lo.horizontal),ov=ea/24,ng=si.tilePixelRatio*ov,av=si.tilePixelRatio*Co/24,Cp=si.tilePixelRatio*Rs,ig=si.tilePixelRatio*hs.get("symbol-spacing"),um=hs.get("text-padding")*si.tilePixelRatio,cm=hs.get("icon-padding")*si.tilePixelRatio,Ry=hs.get("text-max-angle")/180*Math.PI,Fy=hs.get("text-rotation-alignment")==="map"&&hs.get("symbol-placement")!=="point",og=hs.get("icon-rotation-alignment")==="map"&&hs.get("symbol-placement")!=="point",Cl=hs.get("symbol-placement"),Bd=ig/2,sv=hs.get("icon-text-fit");Vi&&sv!=="none"&&(si.allowVerticalPlacement&&Lo.vertical&&(sa=Ca(Vi,Lo.vertical,sv,hs.get("icon-text-fit-padding"),Nd,ov)),dh&&(Vi=Ca(Vi,dh,sv,hs.get("icon-text-fit-padding"),Nd,ov)));var fm=function(jP,Ny){Ny.x<0||Ny.x>=8192||Ny.y<0||Ny.y>=8192||function(Ss,Qh,HP,zd,uw,L0,P0,Ud,R0,rl,dc,F0,cw,WC,dv,VC,$C,GC,fw,KC,mf,q0,hw,ed,WP){var YC,lg,pv,td,mv,gv=Ss.addToLineVertexArray(Qh,HP),ZC=0,XC=0,JC=0,dw=0,N0=-1,pw=-1,Ap={},QC=nt(""),mw=0,gw=0;if(Ud._unevaluatedLayout.getValue("text-radial-offset")===void 0?(mw=(YC=Ud.layout.get("text-offset").evaluate(mf,{},ed).map(function(yv){return 24*yv}))[0],gw=YC[1]):(mw=24*Ud.layout.get("text-radial-offset").evaluate(mf,{},ed),gw=My),Ss.allowVerticalPlacement&&zd.vertical){var eA=Ud.layout.get("text-rotate").evaluate(mf,{},ed)+90;td=new T0(R0,Qh,rl,dc,F0,zd.vertical,cw,WC,dv,eA),P0&&(mv=new T0(R0,Qh,rl,dc,F0,P0,$C,GC,dv,eA))}if(uw){var vw=Ud.layout.get("icon-rotate").evaluate(mf,{}),tA=Ud.layout.get("icon-text-fit")!=="none",rA=SC(uw,vw,hw,tA),yw=P0?SC(P0,vw,hw,tA):void 0;pv=new T0(R0,Qh,rl,dc,F0,uw,$C,GC,!1,vw),ZC=4*rA.length;var nA=Ss.iconSizeData,By=null;nA.kind==="source"?(By=[128*Ud.layout.get("icon-size").evaluate(mf,{})])[0]>32640&&Ht(Ss.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):nA.kind==="composite"&&((By=[128*q0.compositeIconSizes[0].evaluate(mf,{},ed),128*q0.compositeIconSizes[1].evaluate(mf,{},ed)])[0]>32640||By[1]>32640)&&Ht(Ss.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),Ss.addSymbols(Ss.icon,rA,By,KC,fw,mf,!1,Qh,gv.lineStartIndex,gv.lineLength,-1,ed),N0=Ss.icon.placedSymbolArray.length-1,yw&&(XC=4*yw.length,Ss.addSymbols(Ss.icon,yw,By,KC,fw,mf,Pn.vertical,Qh,gv.lineStartIndex,gv.lineLength,-1,ed),pw=Ss.icon.placedSymbolArray.length-1)}for(var iA in zd.horizontal){var B0=zd.horizontal[iA];if(!lg){QC=nt(B0.text);var VP=Ud.layout.get("text-rotate").evaluate(mf,{},ed);lg=new T0(R0,Qh,rl,dc,F0,B0,cw,WC,dv,VP)}var oA=B0.positionedLines.length===1;if(JC+=EC(Ss,Qh,B0,L0,Ud,dv,mf,VC,gv,zd.vertical?Pn.horizontal:Pn.horizontalOnly,oA?Object.keys(zd.horizontal):[iA],Ap,N0,q0,ed),oA)break}zd.vertical&&(dw+=EC(Ss,Qh,zd.vertical,L0,Ud,dv,mf,VC,gv,Pn.vertical,["vertical"],Ap,pw,q0,ed));var $P=lg?lg.boxStartIndex:Ss.collisionBoxArray.length,GP=lg?lg.boxEndIndex:Ss.collisionBoxArray.length,KP=td?td.boxStartIndex:Ss.collisionBoxArray.length,YP=td?td.boxEndIndex:Ss.collisionBoxArray.length,ZP=pv?pv.boxStartIndex:Ss.collisionBoxArray.length,XP=pv?pv.boxEndIndex:Ss.collisionBoxArray.length,JP=mv?mv.boxStartIndex:Ss.collisionBoxArray.length,QP=mv?mv.boxEndIndex:Ss.collisionBoxArray.length,jd=-1,vv=function(yv,aA){return yv&&yv.circleDiameter?Math.max(yv.circleDiameter,aA):aA};jd=vv(lg,jd),jd=vv(td,jd),jd=vv(pv,jd);var bw=(jd=vv(mv,jd))>-1?1:0;bw&&(jd*=WP/24),Ss.glyphOffsetArray.length>=jo.MAX_GLYPHS&&Ht("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),mf.sortKey!==void 0&&Ss.addToSortKeyRanges(Ss.symbolInstances.length,mf.sortKey),Ss.symbolInstances.emplaceBack(Qh.x,Qh.y,Ap.right>=0?Ap.right:-1,Ap.center>=0?Ap.center:-1,Ap.left>=0?Ap.left:-1,Ap.vertical||-1,N0,pw,QC,$P,GP,KP,YP,ZP,XP,JP,QP,rl,JC,dw,ZC,XC,bw,0,cw,mw,gw,jd)}(si,Ny,jP,Lo,Vi,hc,sa,si.layers[0],si.collisionBoxArray,Yo.index,Yo.sourceLayerIndex,si.index,ng,um,Fy,Xa,Cp,cm,og,Nd,Yo,wu,Ji,zf,ea)};if(Cl==="line")for(var lv=0,D0=wC(Yo.geometry,0,0,8192,8192);lv<D0.length;lv+=1)for(var O0=D0[lv],uv=0,Uf=CP(O0,ig,Ry,Lo.vertical||dh,Vi,24,av,si.overscaling,8192);uv<Uf.length;uv+=1){var Pi=Uf[uv];dh&&IP(si,dh.text,Bd,Pi)||fm(O0,Pi)}else if(Cl==="line-center")for(var cv=0,Oc=Yo.geometry;cv<Oc.length;cv+=1){var fv=Oc[cv];if(fv.length>1){var I0=kP(fv,Ry,Lo.vertical||dh,Vi,24,av);I0&&fm(fv,I0)}}else if(Yo.type==="Polygon")for(var Po=0,M0=sm(Yo.geometry,0);Po<M0.length;Po+=1){var ag=M0[Po],hm=DP(ag,16);fm(ag[0],new Sl(hm.x,hm.y,0))}else if(Yo.type==="LineString")for(var sg=0,qy=Yo.geometry;sg<qy.length;sg+=1){var hv=qy[sg];fm(hv,new Sl(hv[0].x,hv[0].y,0))}else if(Yo.type==="Point")for(var aw=0,jC=Yo.geometry;aw<jC.length;aw+=1)for(var sw=0,HC=jC[aw];sw<HC.length;sw+=1){var lw=HC[sw];fm([lw],new Sl(lw.x,lw.y,0))}}(s,ar,Xr,El,E,ve,Hr,wn,tn,aa,B)},Kt=0,Qt=s.features;Kt<Qt.length;Kt+=1)Lt();L&&s.generateCollisionDebugBuffers()},_.perspective=function(s,c,d,E,I){var L,B=1/Math.tan(c/2);return s[0]=B/d,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=B,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=-1,s[12]=0,s[13]=0,s[15]=0,I!=null&&I!==1/0?(s[10]=(I+E)*(L=1/(E-I)),s[14]=2*I*E*L):(s[10]=-1,s[14]=-2*E),s},_.pick=function(s,c){for(var d={},E=0;E<c.length;E++){var I=c[E];I in s&&(d[I]=s[I])}return d},_.plugin=ys,_.polygonIntersectsPolygon=Qs,_.postMapLoadEvent=Xe,_.postTurnstileEvent=fo,_.potpack=ao,_.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],_.register=Zr,_.registerForPluginStateChange=function(s){return s({pluginStatus:Va,pluginURL:is}),hu.on("pluginStateChange",s),s},_.renderColorRamp=gp,_.rotate=function(s,c,d){var E=c[0],I=c[1],L=c[2],B=c[3],J=Math.sin(d),le=Math.cos(d);return s[0]=E*le+L*J,s[1]=I*le+B*J,s[2]=E*-J+L*le,s[3]=I*-J+B*le,s},_.rotateX=function(s,c,d){var E=Math.sin(d),I=Math.cos(d),L=c[4],B=c[5],J=c[6],le=c[7],ve=c[8],Ee=c[9],De=c[10],Le=c[11];return c!==s&&(s[0]=c[0],s[1]=c[1],s[2]=c[2],s[3]=c[3],s[12]=c[12],s[13]=c[13],s[14]=c[14],s[15]=c[15]),s[4]=L*I+ve*E,s[5]=B*I+Ee*E,s[6]=J*I+De*E,s[7]=le*I+Le*E,s[8]=ve*I-L*E,s[9]=Ee*I-B*E,s[10]=De*I-J*E,s[11]=Le*I-le*E,s},_.rotateZ=function(s,c,d){var E=Math.sin(d),I=Math.cos(d),L=c[0],B=c[1],J=c[2],le=c[3],ve=c[4],Ee=c[5],De=c[6],Le=c[7];return c!==s&&(s[8]=c[8],s[9]=c[9],s[10]=c[10],s[11]=c[11],s[12]=c[12],s[13]=c[13],s[14]=c[14],s[15]=c[15]),s[0]=L*I+ve*E,s[1]=B*I+Ee*E,s[2]=J*I+De*E,s[3]=le*I+Le*E,s[4]=ve*I-L*E,s[5]=Ee*I-B*E,s[6]=De*I-J*E,s[7]=Le*I-le*E,s},_.scale=function(s,c,d){var E=d[0],I=d[1],L=d[2];return s[0]=c[0]*E,s[1]=c[1]*E,s[2]=c[2]*E,s[3]=c[3]*E,s[4]=c[4]*I,s[5]=c[5]*I,s[6]=c[6]*I,s[7]=c[7]*I,s[8]=c[8]*L,s[9]=c[9]*L,s[10]=c[10]*L,s[11]=c[11]*L,s[12]=c[12],s[13]=c[13],s[14]=c[14],s[15]=c[15],s},_.scale$1=function(s,c,d){return s[0]=c[0]*d,s[1]=c[1]*d,s[2]=c[2]*d,s[3]=c[3]*d,s},_.scale$2=function(s,c,d){return s[0]=c[0]*d,s[1]=c[1]*d,s[2]=c[2]*d,s},_.setCacheLimits=function(s,c){st=s,Mt=c},_.setRTLTextPlugin=function(s,c,d){if(d===void 0&&(d=!1),Va==="deferred"||Va==="loading"||Va==="loaded")throw new Error("setRTLTextPlugin cannot be called multiple times.");is=Nt.resolveURL(s),Va="deferred",gl=c,Ys(),d||js()},_.sphericalToCartesian=function(s){var c=s[0],d=s[1],E=s[2];return d+=90,d*=Math.PI/180,E*=Math.PI/180,{x:c*Math.cos(d)*Math.sin(E),y:c*Math.sin(d)*Math.sin(E),z:c*Math.cos(E)}},_.sqrLen=function(s){var c=s[0],d=s[1];return c*c+d*d},_.styleSpec=qe,_.sub=function(s,c,d){return s[0]=c[0]-d[0],s[1]=c[1]-d[1],s[2]=c[2]-d[2],s},_.symbolSize=Iy,_.transformMat3=function(s,c,d){var E=c[0],I=c[1],L=c[2];return s[0]=E*d[0]+I*d[3]+L*d[6],s[1]=E*d[1]+I*d[4]+L*d[7],s[2]=E*d[2]+I*d[5]+L*d[8],s},_.transformMat4=bi,_.translate=function(s,c,d){var E,I,L,B,J,le,ve,Ee,De,Le,Ve,ut,ct=d[0],xt=d[1],gt=d[2];return c===s?(s[12]=c[0]*ct+c[4]*xt+c[8]*gt+c[12],s[13]=c[1]*ct+c[5]*xt+c[9]*gt+c[13],s[14]=c[2]*ct+c[6]*xt+c[10]*gt+c[14],s[15]=c[3]*ct+c[7]*xt+c[11]*gt+c[15]):(I=c[1],L=c[2],B=c[3],J=c[4],le=c[5],ve=c[6],Ee=c[7],De=c[8],Le=c[9],Ve=c[10],ut=c[11],s[0]=E=c[0],s[1]=I,s[2]=L,s[3]=B,s[4]=J,s[5]=le,s[6]=ve,s[7]=Ee,s[8]=De,s[9]=Le,s[10]=Ve,s[11]=ut,s[12]=E*ct+J*xt+De*gt+c[12],s[13]=I*ct+le*xt+Le*gt+c[13],s[14]=L*ct+ve*xt+Ve*gt+c[14],s[15]=B*ct+Ee*xt+ut*gt+c[15]),s},_.triggerPluginCompletionEvent=Of,_.uniqueId=te,_.validateCustomStyleLayer=function(s){var c=[],d=s.id;return d===void 0&&c.push({message:"layers."+d+': missing required property "id"'}),s.render===void 0&&c.push({message:"layers."+d+': missing required method "render"'}),s.renderingMode&&s.renderingMode!=="2d"&&s.renderingMode!=="3d"&&c.push({message:"layers."+d+': property "renderingMode" must be either "2d" or "3d"'}),c},_.validateLight=Ad,_.validateStyle=_c,_.values=function(s){var c=[];for(var d in s)c.push(s[d]);return c},_.vectorTile=_l,_.version="1.13.3",_.warnOnce=Ht,_.webpSupported=_r,_.window=be,_.wrap=j}),he(["./shared"],function(_){function ge(ke){var Ie=typeof ke;if(Ie==="number"||Ie==="boolean"||Ie==="string"||ke==null)return JSON.stringify(ke);if(Array.isArray(ke)){for(var Fe="[",Ye=0,ot=ke;Ye<ot.length;Ye+=1)Fe+=ge(ot[Ye])+",";return Fe+"]"}for(var yt=Object.keys(ke).sort(),mt="{",qe=0;qe<yt.length;qe++)mt+=JSON.stringify(yt[qe])+":"+ge(ke[yt[qe]])+",";return mt+"}"}function fe(ke){for(var Ie="",Fe=0,Ye=_.refProperties;Fe<Ye.length;Fe+=1)Ie+="/"+ge(ke[Ye[Fe]]);return Ie}var me=function(ke){this.keyCache={},ke&&this.replace(ke)};me.prototype.replace=function(ke){this._layerConfigs={},this._layers={},this.update(ke,[])},me.prototype.update=function(ke,Ie){for(var Fe=this,Ye=0,ot=ke;Ye<ot.length;Ye+=1){var yt=ot[Ye];this._layerConfigs[yt.id]=yt;var mt=this._layers[yt.id]=_.createStyleLayer(yt);mt._featureFilter=_.featureFilter(mt.filter),this.keyCache[yt.id]&&delete this.keyCache[yt.id]}for(var qe=0,Ke=Ie;qe<Ke.length;qe+=1){var Ot=Ke[qe];delete this.keyCache[Ot],delete this._layerConfigs[Ot],delete this._layers[Ot]}this.familiesBySource={};for(var lr=0,jt=function(ie,ye){for(var Ge={},dt=0;dt<ie.length;dt++){var Gt=ye&&ye[ie[dt].id]||fe(ie[dt]);ye&&(ye[ie[dt].id]=Gt);var tr=Ge[Gt];tr||(tr=Ge[Gt]=[]),tr.push(ie[dt])}var Or=[];for(var Ur in Ge)Or.push(Ge[Ur]);return Or}(_.values(this._layerConfigs),this.keyCache);lr<jt.length;lr+=1){var Bt=jt[lr].map(function(ie){return Fe._layers[ie.id]}),hr=Bt[0];if(hr.visibility!=="none"){var Ae=hr.source||"",je=this.familiesBySource[Ae];je||(je=this.familiesBySource[Ae]={});var Pe=hr.sourceLayer||"_geojsonTileLayer",se=je[Pe];se||(se=je[Pe]=[]),se.push(Bt)}}};var we=function(ke){var Ie={},Fe=[];for(var Ye in ke){var ot=ke[Ye],yt=Ie[Ye]={};for(var mt in ot){var qe=ot[+mt];if(qe&&qe.bitmap.width!==0&&qe.bitmap.height!==0){var Ke={x:0,y:0,w:qe.bitmap.width+2,h:qe.bitmap.height+2};Fe.push(Ke),yt[mt]={rect:Ke,metrics:qe.metrics}}}}var Ot=_.potpack(Fe),lr=new _.AlphaImage({width:Ot.w||1,height:Ot.h||1});for(var jt in ke){var Bt=ke[jt];for(var hr in Bt){var Ae=Bt[+hr];if(Ae&&Ae.bitmap.width!==0&&Ae.bitmap.height!==0){var je=Ie[jt][hr].rect;_.AlphaImage.copy(Ae.bitmap,lr,{x:0,y:0},{x:je.x+1,y:je.y+1},Ae.bitmap)}}}this.image=lr,this.positions=Ie};_.register("GlyphAtlas",we);var Se=function(ke){this.tileID=new _.OverscaledTileID(ke.tileID.overscaledZ,ke.tileID.wrap,ke.tileID.canonical.z,ke.tileID.canonical.x,ke.tileID.canonical.y),this.uid=ke.uid,this.zoom=ke.zoom,this.pixelRatio=ke.pixelRatio,this.tileSize=ke.tileSize,this.source=ke.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ke.showCollisionBoxes,this.collectResourceTiming=!!ke.collectResourceTiming,this.returnDependencies=!!ke.returnDependencies,this.promoteId=ke.promoteId};function be(ke,Ie,Fe){for(var Ye=new _.EvaluationParameters(Ie),ot=0,yt=ke;ot<yt.length;ot+=1)yt[ot].recalculate(Ye,Fe)}function $e(ke,Ie){var Fe=_.getArrayBuffer(ke.request,function(Ye,ot,yt,mt){Ye?Ie(Ye):ot&&Ie(null,{vectorTile:new _.vectorTile.VectorTile(new _.pbf(ot)),rawData:ot,cacheControl:yt,expires:mt})});return function(){Fe.cancel(),Ie()}}Se.prototype.parse=function(ke,Ie,Fe,Ye,ot){var yt=this;this.status="parsing",this.data=ke,this.collisionBoxArray=new _.CollisionBoxArray;var mt=new _.DictionaryCoder(Object.keys(ke.layers).sort()),qe=new _.FeatureIndex(this.tileID,this.promoteId);qe.bucketLayerIDs=[];var Ke,Ot,lr,jt,Bt={},hr={featureIndex:qe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Fe},Ae=Ie.familiesBySource[this.source];for(var je in Ae){var Pe=ke.layers[je];if(Pe){Pe.version===1&&_.warnOnce('Vector tile source "'+this.source+'" layer "'+je+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var se=mt.encode(je),ie=[],ye=0;ye<Pe.length;ye++){var Ge=Pe.feature(ye),dt=qe.getId(Ge,je);ie.push({feature:Ge,id:dt,index:ye,sourceLayerIndex:se})}for(var Gt=0,tr=Ae[je];Gt<tr.length;Gt+=1){var Or=tr[Gt],Ur=Or[0];Ur.minzoom&&this.zoom<Math.floor(Ur.minzoom)||Ur.maxzoom&&this.zoom>=Ur.maxzoom||Ur.visibility!=="none"&&(be(Or,this.zoom,Fe),(Bt[Ur.id]=Ur.createBucket({index:qe.bucketLayerIDs.length,layers:Or,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:se,sourceID:this.source})).populate(ie,hr,this.tileID.canonical),qe.bucketLayerIDs.push(Or.map(function(Qr){return Qr.id})))}}}var fr=_.mapObject(hr.glyphDependencies,function(Qr){return Object.keys(Qr).map(Number)});Object.keys(fr).length?Ye.send("getGlyphs",{uid:this.uid,stacks:fr},function(Qr,sn){Ke||(Ke=Qr,Ot=sn,an.call(yt))}):Ot={};var En=Object.keys(hr.iconDependencies);En.length?Ye.send("getImages",{icons:En,source:this.source,tileID:this.tileID,type:"icons"},function(Qr,sn){Ke||(Ke=Qr,lr=sn,an.call(yt))}):lr={};var Dn=Object.keys(hr.patternDependencies);function an(){if(Ke)return ot(Ke);if(Ot&&lr&&jt){var Qr=new we(Ot),sn=new _.ImageAtlas(lr,jt);for(var Xn in Bt){var zo=Bt[Xn];zo instanceof _.SymbolBucket?(be(zo.layers,this.zoom,Fe),_.performSymbolLayout(zo,Ot,Qr.positions,lr,sn.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):zo.hasPattern&&(zo instanceof _.LineBucket||zo instanceof _.FillBucket||zo instanceof _.FillExtrusionBucket)&&(be(zo.layers,this.zoom,Fe),zo.addFeatures(hr,this.tileID.canonical,sn.patternPositions))}this.status="done",ot(null,{buckets:_.values(Bt).filter(function(As){return!As.isEmpty()}),featureIndex:qe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Qr.image,imageAtlas:sn,glyphMap:this.returnDependencies?Ot:null,iconMap:this.returnDependencies?lr:null,glyphPositions:this.returnDependencies?Qr.positions:null})}}Dn.length?Ye.send("getImages",{icons:Dn,source:this.source,tileID:this.tileID,type:"patterns"},function(Qr,sn){Ke||(Ke=Qr,jt=sn,an.call(yt))}):jt={},an.call(this)};var q=function(ke,Ie,Fe,Ye){this.actor=ke,this.layerIndex=Ie,this.availableImages=Fe,this.loadVectorData=Ye||$e,this.loading={},this.loaded={}};q.prototype.loadTile=function(ke,Ie){var Fe=this,Ye=ke.uid;this.loading||(this.loading={});var ot=!!(ke&&ke.request&&ke.request.collectResourceTiming)&&new _.RequestPerformance(ke.request),yt=this.loading[Ye]=new Se(ke);yt.abort=this.loadVectorData(ke,function(mt,qe){if(delete Fe.loading[Ye],mt||!qe)return yt.status="done",Fe.loaded[Ye]=yt,Ie(mt);var Ke=qe.rawData,Ot={};qe.expires&&(Ot.expires=qe.expires),qe.cacheControl&&(Ot.cacheControl=qe.cacheControl);var lr={};if(ot){var jt=ot.finish();jt&&(lr.resourceTiming=JSON.parse(JSON.stringify(jt)))}yt.vectorTile=qe.vectorTile,yt.parse(qe.vectorTile,Fe.layerIndex,Fe.availableImages,Fe.actor,function(Bt,hr){if(Bt||!hr)return Ie(Bt);Ie(null,_.extend({rawTileData:Ke.slice(0)},hr,Ot,lr))}),Fe.loaded=Fe.loaded||{},Fe.loaded[Ye]=yt})},q.prototype.reloadTile=function(ke,Ie){var Fe=this,Ye=this.loaded,ot=ke.uid,yt=this;if(Ye&&Ye[ot]){var mt=Ye[ot];mt.showCollisionBoxes=ke.showCollisionBoxes;var qe=function(Ke,Ot){var lr=mt.reloadCallback;lr&&(delete mt.reloadCallback,mt.parse(mt.vectorTile,yt.layerIndex,Fe.availableImages,yt.actor,lr)),Ie(Ke,Ot)};mt.status==="parsing"?mt.reloadCallback=qe:mt.status==="done"&&(mt.vectorTile?mt.parse(mt.vectorTile,this.layerIndex,this.availableImages,this.actor,qe):qe())}},q.prototype.abortTile=function(ke,Ie){var Fe=this.loading,Ye=ke.uid;Fe&&Fe[Ye]&&Fe[Ye].abort&&(Fe[Ye].abort(),delete Fe[Ye]),Ie()},q.prototype.removeTile=function(ke,Ie){var Fe=this.loaded,Ye=ke.uid;Fe&&Fe[Ye]&&delete Fe[Ye],Ie()};var ee=_.window.ImageBitmap,R=function(){this.loaded={}};function j(ke,Ie){if(ke.length!==0){G(ke[0],Ie);for(var Fe=1;Fe<ke.length;Fe++)G(ke[Fe],!Ie)}}function G(ke,Ie){for(var Fe=0,Ye=0,ot=0,yt=ke.length,mt=yt-1;ot<yt;mt=ot++){var qe=(ke[ot][0]-ke[mt][0])*(ke[mt][1]+ke[ot][1]),Ke=Fe+qe;Ye+=Math.abs(Fe)>=Math.abs(qe)?Fe-Ke+qe:qe-Ke+Fe,Fe=Ke}Fe+Ye>=0!=!!Ie&&ke.reverse()}R.prototype.loadTile=function(ke,Ie){var Fe=ke.uid,Ye=ke.encoding,ot=ke.rawImageData,yt=ee&&ot instanceof ee?this.getImageData(ot):ot,mt=new _.DEMData(Fe,yt,Ye);this.loaded=this.loaded||{},this.loaded[Fe]=mt,Ie(null,mt)},R.prototype.getImageData=function(ke){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(ke.width,ke.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=ke.width,this.offscreenCanvas.height=ke.height,this.offscreenCanvasContext.drawImage(ke,0,0,ke.width,ke.height);var Ie=this.offscreenCanvasContext.getImageData(-1,-1,ke.width+2,ke.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new _.RGBAImage({width:Ie.width,height:Ie.height},Ie.data)},R.prototype.removeTile=function(ke){var Ie=this.loaded,Fe=ke.uid;Ie&&Ie[Fe]&&delete Ie[Fe]};var V=_.vectorTile.VectorTileFeature.prototype.toGeoJSON,te=function(ke){this._feature=ke,this.extent=_.EXTENT,this.type=ke.type,this.properties=ke.tags,"id"in ke&&!isNaN(ke.id)&&(this.id=parseInt(ke.id,10))};te.prototype.loadGeometry=function(){if(this._feature.type===1){for(var ke=[],Ie=0,Fe=this._feature.geometry;Ie<Fe.length;Ie+=1){var Ye=Fe[Ie];ke.push([new _.Point$1(Ye[0],Ye[1])])}return ke}for(var ot=[],yt=0,mt=this._feature.geometry;yt<mt.length;yt+=1){for(var qe=[],Ke=0,Ot=mt[yt];Ke<Ot.length;Ke+=1){var lr=Ot[Ke];qe.push(new _.Point$1(lr[0],lr[1]))}ot.push(qe)}return ot},te.prototype.toGeoJSON=function(ke,Ie,Fe){return V.call(this,ke,Ie,Fe)};var _e=function(ke){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=_.EXTENT,this.length=ke.length,this._features=ke};_e.prototype.feature=function(ke){return new te(this._features[ke])};var K=_.vectorTile.VectorTileFeature,U=Ue;function Ue(ke,Ie){this.options=Ie||{},this.features=ke,this.length=ke.length}function Je(ke,Ie){this.id=typeof ke.id=="number"?ke.id:void 0,this.type=ke.type,this.rawGeometry=ke.type===1?[ke.geometry]:ke.geometry,this.properties=ke.tags,this.extent=Ie||4096}Ue.prototype.feature=function(ke){return new Je(this.features[ke],this.options.extent)},Je.prototype.loadGeometry=function(){var ke=this.rawGeometry;this.geometry=[];for(var Ie=0;Ie<ke.length;Ie++){for(var Fe=ke[Ie],Ye=[],ot=0;ot<Fe.length;ot++)Ye.push(new _.Point$1(Fe[ot][0],Fe[ot][1]));this.geometry.push(Ye)}return this.geometry},Je.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ke=this.geometry,Ie=1/0,Fe=-1/0,Ye=1/0,ot=-1/0,yt=0;yt<ke.length;yt++)for(var mt=ke[yt],qe=0;qe<mt.length;qe++){var Ke=mt[qe];Ie=Math.min(Ie,Ke.x),Fe=Math.max(Fe,Ke.x),Ye=Math.min(Ye,Ke.y),ot=Math.max(ot,Ke.y)}return[Ie,Ye,Fe,ot]},Je.prototype.toGeoJSON=K.prototype.toGeoJSON;var Qe=Tt,Ct=U;function Tt(ke){var Ie=new _.pbf;return function(Fe,Ye){for(var ot in Fe.layers)Ye.writeMessage(3,Ht,Fe.layers[ot])}(ke,Ie),Ie.finish()}function Ht(ke,Ie){var Fe;Ie.writeVarintField(15,ke.version||1),Ie.writeStringField(1,ke.name||""),Ie.writeVarintField(5,ke.extent||4096);var Ye={keys:[],values:[],keycache:{},valuecache:{}};for(Fe=0;Fe<ke.length;Fe++)Ye.feature=ke.feature(Fe),Ie.writeMessage(2,Rt,Ye);var ot=Ye.keys;for(Fe=0;Fe<ot.length;Fe++)Ie.writeStringField(3,ot[Fe]);var yt=Ye.values;for(Fe=0;Fe<yt.length;Fe++)Ie.writeMessage(4,At,yt[Fe])}function Rt(ke,Ie){var Fe=ke.feature;Fe.id!==void 0&&Ie.writeVarintField(1,Fe.id),Ie.writeMessage(2,Yt,ke),Ie.writeVarintField(3,Fe.type),Ie.writeMessage(4,ir,Fe)}function Yt(ke,Ie){var Fe=ke.feature,Ye=ke.keys,ot=ke.values,yt=ke.keycache,mt=ke.valuecache;for(var qe in Fe.properties){var Ke=yt[qe];Ke===void 0&&(Ye.push(qe),yt[qe]=Ke=Ye.length-1),Ie.writeVarint(Ke);var Ot=Fe.properties[qe],lr=typeof Ot;lr!=="string"&&lr!=="boolean"&&lr!=="number"&&(Ot=JSON.stringify(Ot));var jt=lr+":"+Ot,Bt=mt[jt];Bt===void 0&&(ot.push(Ot),mt[jt]=Bt=ot.length-1),Ie.writeVarint(Bt)}}function cr(ke,Ie){return(Ie<<3)+(7&ke)}function Tr(ke){return ke<<1^ke>>31}function ir(ke,Ie){for(var Fe=ke.loadGeometry(),Ye=ke.type,ot=0,yt=0,mt=Fe.length,qe=0;qe<mt;qe++){var Ke=Fe[qe],Ot=1;Ye===1&&(Ot=Ke.length),Ie.writeVarint(cr(1,Ot));for(var lr=Ye===3?Ke.length-1:Ke.length,jt=0;jt<lr;jt++){jt===1&&Ye!==1&&Ie.writeVarint(cr(2,lr-1));var Bt=Ke[jt].x-ot,hr=Ke[jt].y-yt;Ie.writeVarint(Tr(Bt)),Ie.writeVarint(Tr(hr)),ot+=Bt,yt+=hr}Ye===3&&Ie.writeVarint(cr(7,1))}}function At(ke,Ie){var Fe=typeof ke;Fe==="string"?Ie.writeStringField(1,ke):Fe==="boolean"?Ie.writeBooleanField(7,ke):Fe==="number"&&(ke%1!=0?Ie.writeDoubleField(3,ke):ke<0?Ie.writeSVarintField(6,ke):Ie.writeVarintField(5,ke))}function kt(ke,Ie,Fe,Ye){rt(ke,Fe,Ye),rt(Ie,2*Fe,2*Ye),rt(Ie,2*Fe+1,2*Ye+1)}function rt(ke,Ie,Fe){var Ye=ke[Ie];ke[Ie]=ke[Fe],ke[Fe]=Ye}function ce(ke,Ie,Fe,Ye){var ot=ke-Fe,yt=Ie-Ye;return ot*ot+yt*yt}Qe.fromVectorTileJs=Tt,Qe.fromGeojsonVt=function(ke,Ie){Ie=Ie||{};var Fe={};for(var Ye in ke)Fe[Ye]=new U(ke[Ye].features,Ie),Fe[Ye].name=Ye,Fe[Ye].version=Ie.version,Fe[Ye].extent=Ie.extent;return Tt({layers:Fe})},Qe.GeoJSONWrapper=Ct;var Te=function(ke){return ke[0]},Ne=function(ke){return ke[1]},Wt=function(ke,Ie,Fe,Ye,ot){Ie===void 0&&(Ie=Te),Fe===void 0&&(Fe=Ne),Ye===void 0&&(Ye=64),ot===void 0&&(ot=Float64Array),this.nodeSize=Ye,this.points=ke;for(var yt=ke.length<65536?Uint16Array:Uint32Array,mt=this.ids=new yt(ke.length),qe=this.coords=new ot(2*ke.length),Ke=0;Ke<ke.length;Ke++)mt[Ke]=Ke,qe[2*Ke]=Ie(ke[Ke]),qe[2*Ke+1]=Fe(ke[Ke]);(function Ot(lr,jt,Bt,hr,Ae,je){if(!(Ae-hr<=Bt)){var Pe=hr+Ae>>1;(function se(ie,ye,Ge,dt,Gt,tr){for(;Gt>dt;){if(Gt-dt>600){var Or=Gt-dt+1,Ur=Ge-dt+1,fr=Math.log(Or),En=.5*Math.exp(2*fr/3),Dn=.5*Math.sqrt(fr*En*(Or-En)/Or)*(Ur-Or/2<0?-1:1);se(ie,ye,Ge,Math.max(dt,Math.floor(Ge-Ur*En/Or+Dn)),Math.min(Gt,Math.floor(Ge+(Or-Ur)*En/Or+Dn)),tr)}var an=ye[2*Ge+tr],Qr=dt,sn=Gt;for(kt(ie,ye,dt,Ge),ye[2*Gt+tr]>an&&kt(ie,ye,dt,Gt);Qr<sn;){for(kt(ie,ye,Qr,sn),Qr++,sn--;ye[2*Qr+tr]<an;)Qr++;for(;ye[2*sn+tr]>an;)sn--}ye[2*dt+tr]===an?kt(ie,ye,dt,sn):kt(ie,ye,++sn,Gt),sn<=Ge&&(dt=sn+1),Ge<=sn&&(Gt=sn-1)}})(lr,jt,Pe,hr,Ae,je%2),Ot(lr,jt,Bt,hr,Pe-1,je+1),Ot(lr,jt,Bt,Pe+1,Ae,je+1)}})(mt,qe,Ye,0,mt.length-1,0)};Wt.prototype.range=function(ke,Ie,Fe,Ye){return function(ot,yt,mt,qe,Ke,Ot,lr){for(var jt,Bt,hr=[0,ot.length-1,0],Ae=[];hr.length;){var je=hr.pop(),Pe=hr.pop(),se=hr.pop();if(Pe-se<=lr)for(var ie=se;ie<=Pe;ie++)Bt=yt[2*ie+1],(jt=yt[2*ie])>=mt&&jt<=Ke&&Bt>=qe&&Bt<=Ot&&Ae.push(ot[ie]);else{var ye=Math.floor((se+Pe)/2);Bt=yt[2*ye+1],(jt=yt[2*ye])>=mt&&jt<=Ke&&Bt>=qe&&Bt<=Ot&&Ae.push(ot[ye]);var Ge=(je+1)%2;(je===0?mt<=jt:qe<=Bt)&&(hr.push(se),hr.push(ye-1),hr.push(Ge)),(je===0?Ke>=jt:Ot>=Bt)&&(hr.push(ye+1),hr.push(Pe),hr.push(Ge))}}return Ae}(this.ids,this.coords,ke,Ie,Fe,Ye,this.nodeSize)},Wt.prototype.within=function(ke,Ie,Fe){return function(Ye,ot,yt,mt,qe,Ke){for(var Ot=[0,Ye.length-1,0],lr=[],jt=qe*qe;Ot.length;){var Bt=Ot.pop(),hr=Ot.pop(),Ae=Ot.pop();if(hr-Ae<=Ke)for(var je=Ae;je<=hr;je++)ce(ot[2*je],ot[2*je+1],yt,mt)<=jt&&lr.push(Ye[je]);else{var Pe=Math.floor((Ae+hr)/2),se=ot[2*Pe],ie=ot[2*Pe+1];ce(se,ie,yt,mt)<=jt&&lr.push(Ye[Pe]);var ye=(Bt+1)%2;(Bt===0?yt-qe<=se:mt-qe<=ie)&&(Ot.push(Ae),Ot.push(Pe-1),Ot.push(ye)),(Bt===0?yt+qe>=se:mt+qe>=ie)&&(Ot.push(Pe+1),Ot.push(hr),Ot.push(ye))}}return lr}(this.ids,this.coords,ke,Ie,Fe,this.nodeSize)};var ft={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(ke){return ke}},qt=function(ke){this.options=pt(Object.create(ft),ke),this.trees=new Array(this.options.maxZoom+1)};function Nt(ke,Ie,Fe,Ye,ot){return{x:ke,y:Ie,zoom:1/0,id:Fe,parentId:-1,numPoints:Ye,properties:ot}}function vr(ke,Ie){var Fe=ke.geometry.coordinates,Ye=Fe[1];return{x:kr(Fe[0]),y:et(Ye),zoom:1/0,index:Ie,parentId:-1}}function _r(ke){return{type:"Feature",id:ke.id,properties:Dr(ke),geometry:{type:"Point",coordinates:[(Ye=ke.x,360*(Ye-.5)),(Ie=ke.y,Fe=(180-360*Ie)*Math.PI/180,360*Math.atan(Math.exp(Fe))/Math.PI-90)]}};var Ie,Fe,Ye}function Dr(ke){var Ie=ke.numPoints,Fe=Ie>=1e4?Math.round(Ie/1e3)+"k":Ie>=1e3?Math.round(Ie/100)/10+"k":Ie;return pt(pt({},ke.properties),{cluster:!0,cluster_id:ke.id,point_count:Ie,point_count_abbreviated:Fe})}function kr(ke){return ke/360+.5}function et(ke){var Ie=Math.sin(ke*Math.PI/180),Fe=.5-.25*Math.log((1+Ie)/(1-Ie))/Math.PI;return Fe<0?0:Fe>1?1:Fe}function pt(ke,Ie){for(var Fe in Ie)ke[Fe]=Ie[Fe];return ke}function er(ke){return ke.x}function Lr(ke){return ke.y}function ki(ke,Ie,Fe,Ye,ot,yt){var mt=ot-Fe,qe=yt-Ye;if(mt!==0||qe!==0){var Ke=((ke-Fe)*mt+(Ie-Ye)*qe)/(mt*mt+qe*qe);Ke>1?(Fe=ot,Ye=yt):Ke>0&&(Fe+=mt*Ke,Ye+=qe*Ke)}return(mt=ke-Fe)*mt+(qe=Ie-Ye)*qe}function zr(ke,Ie,Fe,Ye){var ot={id:ke===void 0?null:ke,type:Ie,geometry:Fe,tags:Ye,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(yt){var mt=yt.geometry,qe=yt.type;if(qe==="Point"||qe==="MultiPoint"||qe==="LineString")$n(yt,mt);else if(qe==="Polygon"||qe==="MultiLineString")for(var Ke=0;Ke<mt.length;Ke++)$n(yt,mt[Ke]);else if(qe==="MultiPolygon")for(Ke=0;Ke<mt.length;Ke++)for(var Ot=0;Ot<mt[Ke].length;Ot++)$n(yt,mt[Ke][Ot])}(ot),ot}function $n(ke,Ie){for(var Fe=0;Fe<Ie.length;Fe+=3)ke.minX=Math.min(ke.minX,Ie[Fe]),ke.minY=Math.min(ke.minY,Ie[Fe+1]),ke.maxX=Math.max(ke.maxX,Ie[Fe]),ke.maxY=Math.max(ke.maxY,Ie[Fe+1])}function Dt(ke,Ie,Fe,Ye){if(Ie.geometry){var ot=Ie.geometry.coordinates,yt=Ie.geometry.type,mt=Math.pow(Fe.tolerance/((1<<Fe.maxZoom)*Fe.extent),2),qe=[],Ke=Ie.id;if(Fe.promoteId?Ke=Ie.properties[Fe.promoteId]:Fe.generateId&&(Ke=Ye||0),yt==="Point")Et(ot,qe);else if(yt==="MultiPoint")for(var Ot=0;Ot<ot.length;Ot++)Et(ot[Ot],qe);else if(yt==="LineString")Er(ot,qe,mt,!1);else if(yt==="MultiLineString"){if(Fe.lineMetrics){for(Ot=0;Ot<ot.length;Ot++)Er(ot[Ot],qe=[],mt,!1),ke.push(zr(Ke,"LineString",qe,Ie.properties));return}on(ot,qe,mt,!1)}else if(yt==="Polygon")on(ot,qe,mt,!0);else{if(yt!=="MultiPolygon"){if(yt==="GeometryCollection"){for(Ot=0;Ot<Ie.geometry.geometries.length;Ot++)Dt(ke,{id:Ke,geometry:Ie.geometry.geometries[Ot],properties:Ie.properties},Fe,Ye);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Ot=0;Ot<ot.length;Ot++){var lr=[];on(ot[Ot],lr,mt,!0),qe.push(lr)}}ke.push(zr(Ke,yt,qe,Ie.properties))}}function Et(ke,Ie){Ie.push(Vr(ke[0])),Ie.push(yn(ke[1])),Ie.push(0)}function Er(ke,Ie,Fe,Ye){for(var ot,yt,mt=0,qe=0;qe<ke.length;qe++){var Ke=Vr(ke[qe][0]),Ot=yn(ke[qe][1]);Ie.push(Ke),Ie.push(Ot),Ie.push(0),qe>0&&(mt+=Ye?(ot*Ot-Ke*yt)/2:Math.sqrt(Math.pow(Ke-ot,2)+Math.pow(Ot-yt,2))),ot=Ke,yt=Ot}var lr=Ie.length-3;Ie[2]=1,function jt(Bt,hr,Ae,je){for(var Pe,se=je,ie=Ae-hr>>1,ye=Ae-hr,Ge=Bt[hr],dt=Bt[hr+1],Gt=Bt[Ae],tr=Bt[Ae+1],Or=hr+3;Or<Ae;Or+=3){var Ur=ki(Bt[Or],Bt[Or+1],Ge,dt,Gt,tr);if(Ur>se)Pe=Or,se=Ur;else if(Ur===se){var fr=Math.abs(Or-ie);fr<ye&&(Pe=Or,ye=fr)}}se>je&&(Pe-hr>3&&jt(Bt,hr,Pe,je),Bt[Pe+2]=se,Ae-Pe>3&&jt(Bt,Pe,Ae,je))}(Ie,0,lr,Fe),Ie[lr+2]=1,Ie.size=Math.abs(mt),Ie.start=0,Ie.end=Ie.size}function on(ke,Ie,Fe,Ye){for(var ot=0;ot<ke.length;ot++){var yt=[];Er(ke[ot],yt,Fe,Ye),Ie.push(yt)}}function Vr(ke){return ke/360+.5}function yn(ke){var Ie=Math.sin(ke*Math.PI/180),Fe=.5-.25*Math.log((1+Ie)/(1-Ie))/Math.PI;return Fe<0?0:Fe>1?1:Fe}function Rn(ke,Ie,Fe,Ye,ot,yt,mt,qe){if(Ye/=Ie,yt>=(Fe/=Ie)&&mt<Ye)return ke;if(mt<Fe||yt>=Ye)return null;for(var Ke=[],Ot=0;Ot<ke.length;Ot++){var lr=ke[Ot],jt=lr.geometry,Bt=lr.type,hr=ot===0?lr.minX:lr.minY,Ae=ot===0?lr.maxX:lr.maxY;if(hr>=Fe&&Ae<Ye)Ke.push(lr);else if(!(Ae<Fe||hr>=Ye)){var je=[];if(Bt==="Point"||Bt==="MultiPoint")mi(jt,je,Fe,Ye,ot);else if(Bt==="LineString")fo(jt,je,Fe,Ye,ot,!1,qe.lineMetrics);else if(Bt==="MultiLineString")Xe(jt,je,Fe,Ye,ot,!1);else if(Bt==="Polygon")Xe(jt,je,Fe,Ye,ot,!0);else if(Bt==="MultiPolygon")for(var Pe=0;Pe<jt.length;Pe++){var se=[];Xe(jt[Pe],se,Fe,Ye,ot,!0),se.length&&je.push(se)}if(je.length){if(qe.lineMetrics&&Bt==="LineString"){for(Pe=0;Pe<je.length;Pe++)Ke.push(zr(lr.id,Bt,je[Pe],lr.tags));continue}Bt!=="LineString"&&Bt!=="MultiLineString"||(je.length===1?(Bt="LineString",je=je[0]):Bt="MultiLineString"),Bt!=="Point"&&Bt!=="MultiPoint"||(Bt=je.length===3?"Point":"MultiPoint"),Ke.push(zr(lr.id,Bt,je,lr.tags))}}}return Ke.length?Ke:null}function mi(ke,Ie,Fe,Ye,ot){for(var yt=0;yt<ke.length;yt+=3){var mt=ke[yt+ot];mt>=Fe&&mt<=Ye&&(Ie.push(ke[yt]),Ie.push(ke[yt+1]),Ie.push(ke[yt+2]))}}function fo(ke,Ie,Fe,Ye,ot,yt,mt){for(var qe,Ke,Ot=gi(ke),lr=ot===0?Mt:nr,jt=ke.start,Bt=0;Bt<ke.length-3;Bt+=3){var hr=ke[Bt],Ae=ke[Bt+1],je=ke[Bt+2],Pe=ke[Bt+3],se=ke[Bt+4],ie=ot===0?hr:Ae,ye=ot===0?Pe:se,Ge=!1;mt&&(qe=Math.sqrt(Math.pow(hr-Pe,2)+Math.pow(Ae-se,2))),ie<Fe?ye>Fe&&(Ke=lr(Ot,hr,Ae,Pe,se,Fe),mt&&(Ot.start=jt+qe*Ke)):ie>Ye?ye<Ye&&(Ke=lr(Ot,hr,Ae,Pe,se,Ye),mt&&(Ot.start=jt+qe*Ke)):st(Ot,hr,Ae,je),ye<Fe&&ie>=Fe&&(Ke=lr(Ot,hr,Ae,Pe,se,Fe),Ge=!0),ye>Ye&&ie<=Ye&&(Ke=lr(Ot,hr,Ae,Pe,se,Ye),Ge=!0),!yt&&Ge&&(mt&&(Ot.end=jt+qe*Ke),Ie.push(Ot),Ot=gi(ke)),mt&&(jt+=qe)}var dt=ke.length-3;hr=ke[dt],Ae=ke[dt+1],je=ke[dt+2],(ie=ot===0?hr:Ae)>=Fe&&ie<=Ye&&st(Ot,hr,Ae,je),dt=Ot.length-3,yt&&dt>=3&&(Ot[dt]!==Ot[0]||Ot[dt+1]!==Ot[1])&&st(Ot,Ot[0],Ot[1],Ot[2]),Ot.length&&Ie.push(Ot)}function gi(ke){var Ie=[];return Ie.size=ke.size,Ie.start=ke.start,Ie.end=ke.end,Ie}function Xe(ke,Ie,Fe,Ye,ot,yt){for(var mt=0;mt<ke.length;mt++)fo(ke[mt],Ie,Fe,Ye,ot,yt,!1)}function st(ke,Ie,Fe,Ye){ke.push(Ie),ke.push(Fe),ke.push(Ye)}function Mt(ke,Ie,Fe,Ye,ot,yt){var mt=(yt-Ie)/(Ye-Ie);return ke.push(yt),ke.push(Fe+(ot-Fe)*mt),ke.push(1),mt}function nr(ke,Ie,Fe,Ye,ot,yt){var mt=(yt-Fe)/(ot-Fe);return ke.push(Ie+(Ye-Ie)*mt),ke.push(yt),ke.push(1),mt}function Pr(ke,Ie){for(var Fe=[],Ye=0;Ye<ke.length;Ye++){var ot,yt=ke[Ye],mt=yt.type;if(mt==="Point"||mt==="MultiPoint"||mt==="LineString")ot=qr(yt.geometry,Ie);else if(mt==="MultiLineString"||mt==="Polygon"){ot=[];for(var qe=0;qe<yt.geometry.length;qe++)ot.push(qr(yt.geometry[qe],Ie))}else if(mt==="MultiPolygon")for(ot=[],qe=0;qe<yt.geometry.length;qe++){for(var Ke=[],Ot=0;Ot<yt.geometry[qe].length;Ot++)Ke.push(qr(yt.geometry[qe][Ot],Ie));ot.push(Ke)}Fe.push(zr(yt.id,mt,ot,yt.tags))}return Fe}function qr(ke,Ie){var Fe=[];Fe.size=ke.size,ke.start!==void 0&&(Fe.start=ke.start,Fe.end=ke.end);for(var Ye=0;Ye<ke.length;Ye+=3)Fe.push(ke[Ye]+Ie,ke[Ye+1],ke[Ye+2]);return Fe}function Nn(ke,Ie){if(ke.transformed)return ke;var Fe,Ye,ot,yt=1<<ke.z,mt=ke.x,qe=ke.y;for(Fe=0;Fe<ke.features.length;Fe++){var Ke=ke.features[Fe],Ot=Ke.geometry,lr=Ke.type;if(Ke.geometry=[],lr===1)for(Ye=0;Ye<Ot.length;Ye+=2)Ke.geometry.push(Nr(Ot[Ye],Ot[Ye+1],Ie,yt,mt,qe));else for(Ye=0;Ye<Ot.length;Ye++){var jt=[];for(ot=0;ot<Ot[Ye].length;ot+=2)jt.push(Nr(Ot[Ye][ot],Ot[Ye][ot+1],Ie,yt,mt,qe));Ke.geometry.push(jt)}}return ke.transformed=!0,ke}function Nr(ke,Ie,Fe,Ye,ot,yt){return[Math.round(Fe*(ke*Ye-ot)),Math.round(Fe*(Ie*Ye-yt))]}function Fn(ke,Ie,Fe,Ye,ot){for(var yt=Ie===ot.maxZoom?0:ot.tolerance/((1<<Ie)*ot.extent),mt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Fe,y:Ye,z:Ie,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},qe=0;qe<ke.length;qe++){mt.numFeatures++,Fr(mt,ke[qe],yt,ot);var Ke=ke[qe].minX,Ot=ke[qe].minY,lr=ke[qe].maxX,jt=ke[qe].maxY;Ke<mt.minX&&(mt.minX=Ke),Ot<mt.minY&&(mt.minY=Ot),lr>mt.maxX&&(mt.maxX=lr),jt>mt.maxY&&(mt.maxY=jt)}return mt}function Fr(ke,Ie,Fe,Ye){var ot=Ie.geometry,yt=Ie.type,mt=[];if(yt==="Point"||yt==="MultiPoint")for(var qe=0;qe<ot.length;qe+=3)mt.push(ot[qe]),mt.push(ot[qe+1]),ke.numPoints++,ke.numSimplified++;else if(yt==="LineString")mn(mt,ot,ke,Fe,!1,!1);else if(yt==="MultiLineString"||yt==="Polygon")for(qe=0;qe<ot.length;qe++)mn(mt,ot[qe],ke,Fe,yt==="Polygon",qe===0);else if(yt==="MultiPolygon")for(var Ke=0;Ke<ot.length;Ke++){var Ot=ot[Ke];for(qe=0;qe<Ot.length;qe++)mn(mt,Ot[qe],ke,Fe,!0,qe===0)}if(mt.length){var lr=Ie.tags||null;if(yt==="LineString"&&Ye.lineMetrics){for(var jt in lr={},Ie.tags)lr[jt]=Ie.tags[jt];lr.mapbox_clip_start=ot.start/ot.size,lr.mapbox_clip_end=ot.end/ot.size}var Bt={geometry:mt,type:yt==="Polygon"||yt==="MultiPolygon"?3:yt==="LineString"||yt==="MultiLineString"?2:1,tags:lr};Ie.id!==null&&(Bt.id=Ie.id),ke.features.push(Bt)}}function mn(ke,Ie,Fe,Ye,ot,yt){var mt=Ye*Ye;if(Ye>0&&Ie.size<(ot?mt:Ye))Fe.numPoints+=Ie.length/3;else{for(var qe=[],Ke=0;Ke<Ie.length;Ke+=3)(Ye===0||Ie[Ke+2]>mt)&&(Fe.numSimplified++,qe.push(Ie[Ke]),qe.push(Ie[Ke+1])),Fe.numPoints++;ot&&function(Ot,lr){for(var jt=0,Bt=0,hr=Ot.length,Ae=hr-2;Bt<hr;Ae=Bt,Bt+=2)jt+=(Ot[Bt]-Ot[Ae])*(Ot[Bt+1]+Ot[Ae+1]);if(jt>0===lr)for(Bt=0,hr=Ot.length;Bt<hr/2;Bt+=2){var je=Ot[Bt],Pe=Ot[Bt+1];Ot[Bt]=Ot[hr-2-Bt],Ot[Bt+1]=Ot[hr-1-Bt],Ot[hr-2-Bt]=je,Ot[hr-1-Bt]=Pe}}(qe,yt),ke.push(qe)}}function bn(ke,Ie){var Fe=(Ie=this.options=function(ot,yt){for(var mt in yt)ot[mt]=yt[mt];return ot}(Object.create(this.options),Ie)).debug;if(Fe&&console.time("preprocess data"),Ie.maxZoom<0||Ie.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Ie.promoteId&&Ie.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ye=function(ot,yt){var mt=[];if(ot.type==="FeatureCollection")for(var qe=0;qe<ot.features.length;qe++)Dt(mt,ot.features[qe],yt,qe);else Dt(mt,ot.type==="Feature"?ot:{geometry:ot},yt);return mt}(ke,Ie);this.tiles={},this.tileCoords=[],Fe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Ie.indexMaxZoom,Ie.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(Ye=function(ot,yt){var mt=yt.buffer/yt.extent,qe=ot,Ke=Rn(ot,1,-1-mt,mt,0,-1,2,yt),Ot=Rn(ot,1,1-mt,2+mt,0,-1,2,yt);return(Ke||Ot)&&(qe=Rn(ot,1,-mt,1+mt,0,-1,2,yt)||[],Ke&&(qe=Pr(Ke,1).concat(qe)),Ot&&(qe=qe.concat(Pr(Ot,-1)))),qe}(Ye,Ie)).length&&this.splitTile(Ye,0,0,0),Fe&&(Ye.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function vi(ke,Ie,Fe){return 32*((1<<ke)*Fe+Ie)+ke}function Ri(ke,Ie){var Fe=ke.tileID.canonical;if(!this._geoJSONIndex)return Ie(null,null);var Ye=this._geoJSONIndex.getTile(Fe.z,Fe.x,Fe.y);if(!Ye)return Ie(null,null);var ot=new _e(Ye.features),yt=Qe(ot);yt.byteOffset===0&&yt.byteLength===yt.buffer.byteLength||(yt=new Uint8Array(yt)),Ie(null,{vectorTile:ot,rawData:yt.buffer})}qt.prototype.load=function(ke){var Ie=this.options,Fe=Ie.log,Ye=Ie.minZoom,ot=Ie.maxZoom,yt=Ie.nodeSize;Fe&&console.time("total time");var mt="prepare "+ke.length+" points";Fe&&console.time(mt),this.points=ke;for(var qe=[],Ke=0;Ke<ke.length;Ke++)ke[Ke].geometry&&qe.push(vr(ke[Ke],Ke));this.trees[ot+1]=new Wt(qe,er,Lr,yt,Float32Array),Fe&&console.timeEnd(mt);for(var Ot=ot;Ot>=Ye;Ot--){var lr=+Date.now();qe=this._cluster(qe,Ot),this.trees[Ot]=new Wt(qe,er,Lr,yt,Float32Array),Fe&&console.log("z%d: %d clusters in %dms",Ot,qe.length,+Date.now()-lr)}return Fe&&console.timeEnd("total time"),this},qt.prototype.getClusters=function(ke,Ie){var Fe=((ke[0]+180)%360+360)%360-180,Ye=Math.max(-90,Math.min(90,ke[1])),ot=ke[2]===180?180:((ke[2]+180)%360+360)%360-180,yt=Math.max(-90,Math.min(90,ke[3]));if(ke[2]-ke[0]>=360)Fe=-180,ot=180;else if(Fe>ot){var mt=this.getClusters([Fe,Ye,180,yt],Ie),qe=this.getClusters([-180,Ye,ot,yt],Ie);return mt.concat(qe)}for(var Ke=this.trees[this._limitZoom(Ie)],Ot=[],lr=0,jt=Ke.range(kr(Fe),et(yt),kr(ot),et(Ye));lr<jt.length;lr+=1){var Bt=Ke.points[jt[lr]];Ot.push(Bt.numPoints?_r(Bt):this.points[Bt.index])}return Ot},qt.prototype.getChildren=function(ke){var Ie=this._getOriginId(ke),Fe=this._getOriginZoom(ke),Ye="No cluster with the specified id.",ot=this.trees[Fe];if(!ot)throw new Error(Ye);var yt=ot.points[Ie];if(!yt)throw new Error(Ye);for(var mt=this.options.radius/(this.options.extent*Math.pow(2,Fe-1)),qe=[],Ke=0,Ot=ot.within(yt.x,yt.y,mt);Ke<Ot.length;Ke+=1){var lr=ot.points[Ot[Ke]];lr.parentId===ke&&qe.push(lr.numPoints?_r(lr):this.points[lr.index])}if(qe.length===0)throw new Error(Ye);return qe},qt.prototype.getLeaves=function(ke,Ie,Fe){var Ye=[];return this._appendLeaves(Ye,ke,Ie=Ie||10,Fe=Fe||0,0),Ye},qt.prototype.getTile=function(ke,Ie,Fe){var Ye=this.trees[this._limitZoom(ke)],ot=Math.pow(2,ke),yt=this.options,mt=yt.radius/yt.extent,qe=(Fe-mt)/ot,Ke=(Fe+1+mt)/ot,Ot={features:[]};return this._addTileFeatures(Ye.range((Ie-mt)/ot,qe,(Ie+1+mt)/ot,Ke),Ye.points,Ie,Fe,ot,Ot),Ie===0&&this._addTileFeatures(Ye.range(1-mt/ot,qe,1,Ke),Ye.points,ot,Fe,ot,Ot),Ie===ot-1&&this._addTileFeatures(Ye.range(0,qe,mt/ot,Ke),Ye.points,-1,Fe,ot,Ot),Ot.features.length?Ot:null},qt.prototype.getClusterExpansionZoom=function(ke){for(var Ie=this._getOriginZoom(ke)-1;Ie<=this.options.maxZoom;){var Fe=this.getChildren(ke);if(Ie++,Fe.length!==1)break;ke=Fe[0].properties.cluster_id}return Ie},qt.prototype._appendLeaves=function(ke,Ie,Fe,Ye,ot){for(var yt=0,mt=this.getChildren(Ie);yt<mt.length;yt+=1){var qe=mt[yt],Ke=qe.properties;if(Ke&&Ke.cluster?ot+Ke.point_count<=Ye?ot+=Ke.point_count:ot=this._appendLeaves(ke,Ke.cluster_id,Fe,Ye,ot):ot<Ye?ot++:ke.push(qe),ke.length===Fe)break}return ot},qt.prototype._addTileFeatures=function(ke,Ie,Fe,Ye,ot,yt){for(var mt=0,qe=ke;mt<qe.length;mt+=1){var Ke=Ie[qe[mt]],Ot=Ke.numPoints,lr={type:1,geometry:[[Math.round(this.options.extent*(Ke.x*ot-Fe)),Math.round(this.options.extent*(Ke.y*ot-Ye))]],tags:Ot?Dr(Ke):this.points[Ke.index].properties},jt=void 0;Ot?jt=Ke.id:this.options.generateId?jt=Ke.index:this.points[Ke.index].id&&(jt=this.points[Ke.index].id),jt!==void 0&&(lr.id=jt),yt.features.push(lr)}},qt.prototype._limitZoom=function(ke){return Math.max(this.options.minZoom,Math.min(+ke,this.options.maxZoom+1))},qt.prototype._cluster=function(ke,Ie){for(var Fe=[],Ye=this.options,ot=Ye.reduce,yt=Ye.minPoints,mt=Ye.radius/(Ye.extent*Math.pow(2,Ie)),qe=0;qe<ke.length;qe++){var Ke=ke[qe];if(!(Ke.zoom<=Ie)){Ke.zoom=Ie;for(var Ot=this.trees[Ie+1],lr=Ot.within(Ke.x,Ke.y,mt),jt=Ke.numPoints||1,Bt=jt,hr=0,Ae=lr;hr<Ae.length;hr+=1){var je=Ot.points[Ae[hr]];je.zoom>Ie&&(Bt+=je.numPoints||1)}if(Bt>=yt){for(var Pe=Ke.x*jt,se=Ke.y*jt,ie=ot&&jt>1?this._map(Ke,!0):null,ye=(qe<<5)+(Ie+1)+this.points.length,Ge=0,dt=lr;Ge<dt.length;Ge+=1){var Gt=Ot.points[dt[Ge]];if(!(Gt.zoom<=Ie)){Gt.zoom=Ie;var tr=Gt.numPoints||1;Pe+=Gt.x*tr,se+=Gt.y*tr,Gt.parentId=ye,ot&&(ie||(ie=this._map(Ke,!0)),ot(ie,this._map(Gt)))}}Ke.parentId=ye,Fe.push(Nt(Pe/Bt,se/Bt,ye,Bt,ie))}else if(Fe.push(Ke),Bt>1)for(var Or=0,Ur=lr;Or<Ur.length;Or+=1){var fr=Ot.points[Ur[Or]];fr.zoom<=Ie||(fr.zoom=Ie,Fe.push(fr))}}}return Fe},qt.prototype._getOriginId=function(ke){return ke-this.points.length>>5},qt.prototype._getOriginZoom=function(ke){return(ke-this.points.length)%32},qt.prototype._map=function(ke,Ie){if(ke.numPoints)return Ie?pt({},ke.properties):ke.properties;var Fe=this.points[ke.index].properties,Ye=this.options.map(Fe);return Ie&&Ye===Fe?pt({},Ye):Ye},bn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},bn.prototype.splitTile=function(ke,Ie,Fe,Ye,ot,yt,mt){for(var qe=[ke,Ie,Fe,Ye],Ke=this.options,Ot=Ke.debug;qe.length;){Ye=qe.pop(),Fe=qe.pop(),Ie=qe.pop(),ke=qe.pop();var lr=1<<Ie,jt=vi(Ie,Fe,Ye),Bt=this.tiles[jt];if(!Bt&&(Ot>1&&console.time("creation"),Bt=this.tiles[jt]=Fn(ke,Ie,Fe,Ye,Ke),this.tileCoords.push({z:Ie,x:Fe,y:Ye}),Ot)){Ot>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Ie,Fe,Ye,Bt.numFeatures,Bt.numPoints,Bt.numSimplified),console.timeEnd("creation"));var hr="z"+Ie;this.stats[hr]=(this.stats[hr]||0)+1,this.total++}if(Bt.source=ke,ot){if(Ie===Ke.maxZoom||Ie===ot)continue;var Ae=1<<ot-Ie;if(Fe!==Math.floor(yt/Ae)||Ye!==Math.floor(mt/Ae))continue}else if(Ie===Ke.indexMaxZoom||Bt.numPoints<=Ke.indexMaxPoints)continue;if(Bt.source=null,ke.length!==0){Ot>1&&console.time("clipping");var je,Pe,se,ie,ye,Ge,dt=.5*Ke.buffer/Ke.extent,Gt=.5-dt,tr=.5+dt,Or=1+dt;je=Pe=se=ie=null,ye=Rn(ke,lr,Fe-dt,Fe+tr,0,Bt.minX,Bt.maxX,Ke),Ge=Rn(ke,lr,Fe+Gt,Fe+Or,0,Bt.minX,Bt.maxX,Ke),ke=null,ye&&(je=Rn(ye,lr,Ye-dt,Ye+tr,1,Bt.minY,Bt.maxY,Ke),Pe=Rn(ye,lr,Ye+Gt,Ye+Or,1,Bt.minY,Bt.maxY,Ke),ye=null),Ge&&(se=Rn(Ge,lr,Ye-dt,Ye+tr,1,Bt.minY,Bt.maxY,Ke),ie=Rn(Ge,lr,Ye+Gt,Ye+Or,1,Bt.minY,Bt.maxY,Ke),Ge=null),Ot>1&&console.timeEnd("clipping"),qe.push(je||[],Ie+1,2*Fe,2*Ye),qe.push(Pe||[],Ie+1,2*Fe,2*Ye+1),qe.push(se||[],Ie+1,2*Fe+1,2*Ye),qe.push(ie||[],Ie+1,2*Fe+1,2*Ye+1)}}},bn.prototype.getTile=function(ke,Ie,Fe){var Ye=this.options,ot=Ye.extent,yt=Ye.debug;if(ke<0||ke>24)return null;var mt=1<<ke,qe=vi(ke,Ie=(Ie%mt+mt)%mt,Fe);if(this.tiles[qe])return Nn(this.tiles[qe],ot);yt>1&&console.log("drilling down to z%d-%d-%d",ke,Ie,Fe);for(var Ke,Ot=ke,lr=Ie,jt=Fe;!Ke&&Ot>0;)Ot--,lr=Math.floor(lr/2),jt=Math.floor(jt/2),Ke=this.tiles[vi(Ot,lr,jt)];return Ke&&Ke.source?(yt>1&&console.log("found parent tile z%d-%d-%d",Ot,lr,jt),yt>1&&console.time("drilling down"),this.splitTile(Ke.source,Ot,lr,jt,ke,Ie,Fe),yt>1&&console.timeEnd("drilling down"),this.tiles[qe]?Nn(this.tiles[qe],ot):null):null};var La=function(ke){function Ie(Fe,Ye,ot,yt){ke.call(this,Fe,Ye,ot,Ri),yt&&(this.loadGeoJSON=yt)}return ke&&(Ie.__proto__=ke),(Ie.prototype=Object.create(ke&&ke.prototype)).constructor=Ie,Ie.prototype.loadData=function(Fe,Ye){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Ye,this._pendingLoadDataParams=Fe,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},Ie.prototype._loadData=function(){var Fe=this;if(this._pendingCallback&&this._pendingLoadDataParams){var Ye=this._pendingCallback,ot=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var yt=!!(ot&&ot.request&&ot.request.collectResourceTiming)&&new _.RequestPerformance(ot.request);this.loadGeoJSON(ot,function(mt,qe){if(mt||!qe)return Ye(mt);if(typeof qe!="object")return Ye(new Error("Input data given to '"+ot.source+"' is not a valid GeoJSON object."));(function Bt(hr,Ae){var je,Pe=hr&&hr.type;if(Pe==="FeatureCollection")for(je=0;je<hr.features.length;je++)Bt(hr.features[je],Ae);else if(Pe==="GeometryCollection")for(je=0;je<hr.geometries.length;je++)Bt(hr.geometries[je],Ae);else if(Pe==="Feature")Bt(hr.geometry,Ae);else if(Pe==="Polygon")j(hr.coordinates,Ae);else if(Pe==="MultiPolygon")for(je=0;je<hr.coordinates.length;je++)j(hr.coordinates[je],Ae);return hr})(qe,!0);try{if(ot.filter){var Ke=_.createExpression(ot.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Ke.result==="error")throw new Error(Ke.value.map(function(Bt){return Bt.key+": "+Bt.message}).join(", "));var Ot=qe.features.filter(function(Bt){return Ke.value.evaluate({zoom:0},Bt)});qe={type:"FeatureCollection",features:Ot}}Fe._geoJSONIndex=ot.cluster?new qt(function(Bt){var hr=Bt.superclusterOptions,Ae=Bt.clusterProperties;if(!Ae||!hr)return hr;for(var je={},Pe={},se={accumulated:null,zoom:0},ie={properties:null},ye=Object.keys(Ae),Ge=0,dt=ye;Ge<dt.length;Ge+=1){var Gt=dt[Ge],tr=Ae[Gt],Or=tr[0],Ur=_.createExpression(tr[1]),fr=_.createExpression(typeof Or=="string"?[Or,["accumulated"],["get",Gt]]:Or);je[Gt]=Ur.value,Pe[Gt]=fr.value}return hr.map=function(En){ie.properties=En;for(var Dn={},an=0,Qr=ye;an<Qr.length;an+=1){var sn=Qr[an];Dn[sn]=je[sn].evaluate(se,ie)}return Dn},hr.reduce=function(En,Dn){ie.properties=Dn;for(var an=0,Qr=ye;an<Qr.length;an+=1){var sn=Qr[an];se.accumulated=En[sn],En[sn]=Pe[sn].evaluate(se,ie)}},hr}(ot)).load(qe.features):function(Bt,hr){return new bn(Bt,hr)}(qe,ot.geojsonVtOptions)}catch(Bt){return Ye(Bt)}Fe.loaded={};var lr={};if(yt){var jt=yt.finish();jt&&(lr.resourceTiming={},lr.resourceTiming[ot.source]=JSON.parse(JSON.stringify(jt)))}Ye(null,lr)})}},Ie.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},Ie.prototype.reloadTile=function(Fe,Ye){var ot=this.loaded;return ot&&ot[Fe.uid]?ke.prototype.reloadTile.call(this,Fe,Ye):this.loadTile(Fe,Ye)},Ie.prototype.loadGeoJSON=function(Fe,Ye){if(Fe.request)_.getJSON(Fe.request,Ye);else{if(typeof Fe.data!="string")return Ye(new Error("Input data given to '"+Fe.source+"' is not a valid GeoJSON object."));try{return Ye(null,JSON.parse(Fe.data))}catch{return Ye(new Error("Input data given to '"+Fe.source+"' is not a valid GeoJSON object."))}}},Ie.prototype.removeSource=function(Fe,Ye){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Ye()},Ie.prototype.getClusterExpansionZoom=function(Fe,Ye){try{Ye(null,this._geoJSONIndex.getClusterExpansionZoom(Fe.clusterId))}catch(ot){Ye(ot)}},Ie.prototype.getClusterChildren=function(Fe,Ye){try{Ye(null,this._geoJSONIndex.getChildren(Fe.clusterId))}catch(ot){Ye(ot)}},Ie.prototype.getClusterLeaves=function(Fe,Ye){try{Ye(null,this._geoJSONIndex.getLeaves(Fe.clusterId,Fe.limit,Fe.offset))}catch(ot){Ye(ot)}},Ie}(q),li=function(ke){var Ie=this;this.self=ke,this.actor=new _.Actor(ke,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:q,geojson:La},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Fe,Ye){if(Ie.workerSourceTypes[Fe])throw new Error('Worker source with name "'+Fe+'" already registered.');Ie.workerSourceTypes[Fe]=Ye},this.self.registerRTLTextPlugin=function(Fe){if(_.plugin.isParsed())throw new Error("RTL text plugin already registered.");_.plugin.applyArabicShaping=Fe.applyArabicShaping,_.plugin.processBidirectionalText=Fe.processBidirectionalText,_.plugin.processStyledBidirectionalText=Fe.processStyledBidirectionalText}};return li.prototype.setReferrer=function(ke,Ie){this.referrer=Ie},li.prototype.setImages=function(ke,Ie,Fe){for(var Ye in this.availableImages[ke]=Ie,this.workerSources[ke]){var ot=this.workerSources[ke][Ye];for(var yt in ot)ot[yt].availableImages=Ie}Fe()},li.prototype.setLayers=function(ke,Ie,Fe){this.getLayerIndex(ke).replace(Ie),Fe()},li.prototype.updateLayers=function(ke,Ie,Fe){this.getLayerIndex(ke).update(Ie.layers,Ie.removedIds),Fe()},li.prototype.loadTile=function(ke,Ie,Fe){this.getWorkerSource(ke,Ie.type,Ie.source).loadTile(Ie,Fe)},li.prototype.loadDEMTile=function(ke,Ie,Fe){this.getDEMWorkerSource(ke,Ie.source).loadTile(Ie,Fe)},li.prototype.reloadTile=function(ke,Ie,Fe){this.getWorkerSource(ke,Ie.type,Ie.source).reloadTile(Ie,Fe)},li.prototype.abortTile=function(ke,Ie,Fe){this.getWorkerSource(ke,Ie.type,Ie.source).abortTile(Ie,Fe)},li.prototype.removeTile=function(ke,Ie,Fe){this.getWorkerSource(ke,Ie.type,Ie.source).removeTile(Ie,Fe)},li.prototype.removeDEMTile=function(ke,Ie){this.getDEMWorkerSource(ke,Ie.source).removeTile(Ie)},li.prototype.removeSource=function(ke,Ie,Fe){if(this.workerSources[ke]&&this.workerSources[ke][Ie.type]&&this.workerSources[ke][Ie.type][Ie.source]){var Ye=this.workerSources[ke][Ie.type][Ie.source];delete this.workerSources[ke][Ie.type][Ie.source],Ye.removeSource!==void 0?Ye.removeSource(Ie,Fe):Fe()}},li.prototype.loadWorkerSource=function(ke,Ie,Fe){try{this.self.importScripts(Ie.url),Fe()}catch(Ye){Fe(Ye.toString())}},li.prototype.syncRTLPluginState=function(ke,Ie,Fe){try{_.plugin.setState(Ie);var Ye=_.plugin.getPluginURL();if(_.plugin.isLoaded()&&!_.plugin.isParsed()&&Ye!=null){this.self.importScripts(Ye);var ot=_.plugin.isParsed();Fe(ot?void 0:new Error("RTL Text Plugin failed to import scripts from "+Ye),ot)}}catch(yt){Fe(yt.toString())}},li.prototype.getAvailableImages=function(ke){var Ie=this.availableImages[ke];return Ie||(Ie=[]),Ie},li.prototype.getLayerIndex=function(ke){var Ie=this.layerIndexes[ke];return Ie||(Ie=this.layerIndexes[ke]=new me),Ie},li.prototype.getWorkerSource=function(ke,Ie,Fe){var Ye=this;return this.workerSources[ke]||(this.workerSources[ke]={}),this.workerSources[ke][Ie]||(this.workerSources[ke][Ie]={}),this.workerSources[ke][Ie][Fe]||(this.workerSources[ke][Ie][Fe]=new this.workerSourceTypes[Ie]({send:function(ot,yt,mt){Ye.actor.send(ot,yt,mt,ke)}},this.getLayerIndex(ke),this.getAvailableImages(ke))),this.workerSources[ke][Ie][Fe]},li.prototype.getDEMWorkerSource=function(ke,Ie){return this.demWorkerSources[ke]||(this.demWorkerSources[ke]={}),this.demWorkerSources[ke][Ie]||(this.demWorkerSources[ke][Ie]=new R),this.demWorkerSources[ke][Ie]},li.prototype.enforceCacheSizeLimit=function(ke,Ie){_.enforceCacheSizeLimit(Ie)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new li(self)),li}),he(["./shared"],function(_){var ge=_.createCommonjsModule(function(m){function x(P){return!y(P)}function y(P){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var X,ae,xe=new Blob([""],{type:"text/javascript"}),Oe=URL.createObjectURL(xe);try{ae=new Worker(Oe),X=!0}catch{X=!1}return ae&&ae.terminate(),URL.revokeObjectURL(Oe),X}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var X=document.createElement("canvas");X.width=X.height=1;var ae=X.getContext("2d");if(!ae)return!1;var xe=ae.getImageData(0,0,1,1);return xe&&xe.width===X.width}()?(k[H=P&&P.failIfMajorPerformanceCaveat]===void 0&&(k[H]=function(X){var ae=function(Oe){var He=document.createElement("canvas"),We=Object.create(x.webGLContextAttributes);return We.failIfMajorPerformanceCaveat=Oe,He.probablySupportsContext?He.probablySupportsContext("webgl",We)||He.probablySupportsContext("experimental-webgl",We):He.supportsContext?He.supportsContext("webgl",We)||He.supportsContext("experimental-webgl",We):He.getContext("webgl",We)||He.getContext("experimental-webgl",We)}(X);if(!ae)return!1;var xe=ae.createShader(ae.VERTEX_SHADER);return!(!xe||ae.isContextLost())&&(ae.shaderSource(xe,"void main() {}"),ae.compileShader(xe),ae.getShaderParameter(xe,ae.COMPILE_STATUS)===!0)}(H)),k[H]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var H}m.exports?m.exports=x:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=x,window.mapboxgl.notSupportedReason=y);var k={};x.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),fe={create:function(m,x,y){var k=_.window.document.createElement(m);return x!==void 0&&(k.className=x),y&&y.appendChild(k),k},createNS:function(m,x){return _.window.document.createElementNS(m,x)}},me=_.window.document&&_.window.document.documentElement.style;function we(m){if(!me)return m[0];for(var x=0;x<m.length;x++)if(m[x]in me)return m[x];return m[0]}var Se,be=we(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);fe.disableDrag=function(){me&&be&&(Se=me[be],me[be]="none")},fe.enableDrag=function(){me&&be&&(me[be]=Se)};var $e=we(["transform","WebkitTransform"]);fe.setTransform=function(m,x){m.style[$e]=x};var q=!1;try{var ee=Object.defineProperty({},"passive",{get:function(){q=!0}});_.window.addEventListener("test",ee,ee),_.window.removeEventListener("test",ee,ee)}catch{q=!1}fe.addEventListener=function(m,x,y,k){k===void 0&&(k={}),m.addEventListener(x,y,"passive"in k&&q?k:k.capture)},fe.removeEventListener=function(m,x,y,k){k===void 0&&(k={}),m.removeEventListener(x,y,"passive"in k&&q?k:k.capture)};var R=function(m){m.preventDefault(),m.stopPropagation(),_.window.removeEventListener("click",R,!0)};function j(m){var x=m.userImage;return!!(x&&x.render&&x.render())&&(m.data.replace(new Uint8Array(x.data.buffer)),!0)}fe.suppressClick=function(){_.window.addEventListener("click",R,!0),_.window.setTimeout(function(){_.window.removeEventListener("click",R,!0)},0)},fe.mousePos=function(m,x){var y=m.getBoundingClientRect();return new _.Point(x.clientX-y.left-m.clientLeft,x.clientY-y.top-m.clientTop)},fe.touchPos=function(m,x){for(var y=m.getBoundingClientRect(),k=[],P=0;P<x.length;P++)k.push(new _.Point(x[P].clientX-y.left-m.clientLeft,x[P].clientY-y.top-m.clientTop));return k},fe.mouseButton=function(m){return _.window.InstallTrigger!==void 0&&m.button===2&&m.ctrlKey&&_.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:m.button},fe.remove=function(m){m.parentNode&&m.parentNode.removeChild(m)};var G=function(m){function x(){m.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new _.RGBAImage({width:1,height:1}),this.dirty=!0}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.isLoaded=function(){return this.loaded},x.prototype.setLoaded=function(y){if(this.loaded!==y&&(this.loaded=y,y)){for(var k=0,P=this.requestors;k<P.length;k+=1){var H=P[k];this._notify(H.ids,H.callback)}this.requestors=[]}},x.prototype.getImage=function(y){return this.images[y]},x.prototype.addImage=function(y,k){this._validate(y,k)&&(this.images[y]=k)},x.prototype._validate=function(y,k){var P=!0;return this._validateStretch(k.stretchX,k.data&&k.data.width)||(this.fire(new _.ErrorEvent(new Error('Image "'+y+'" has invalid "stretchX" value'))),P=!1),this._validateStretch(k.stretchY,k.data&&k.data.height)||(this.fire(new _.ErrorEvent(new Error('Image "'+y+'" has invalid "stretchY" value'))),P=!1),this._validateContent(k.content,k)||(this.fire(new _.ErrorEvent(new Error('Image "'+y+'" has invalid "content" value'))),P=!1),P},x.prototype._validateStretch=function(y,k){if(!y)return!0;for(var P=0,H=0,X=y;H<X.length;H+=1){var ae=X[H];if(ae[0]<P||ae[1]<ae[0]||k<ae[1])return!1;P=ae[1]}return!0},x.prototype._validateContent=function(y,k){return!(y&&(y.length!==4||y[0]<0||k.data.width<y[0]||y[1]<0||k.data.height<y[1]||y[2]<0||k.data.width<y[2]||y[3]<0||k.data.height<y[3]||y[2]<y[0]||y[3]<y[1]))},x.prototype.updateImage=function(y,k){k.version=this.images[y].version+1,this.images[y]=k,this.updatedImages[y]=!0},x.prototype.removeImage=function(y){var k=this.images[y];delete this.images[y],delete this.patterns[y],k.userImage&&k.userImage.onRemove&&k.userImage.onRemove()},x.prototype.listImages=function(){return Object.keys(this.images)},x.prototype.getImages=function(y,k){var P=!0;if(!this.isLoaded())for(var H=0,X=y;H<X.length;H+=1)this.images[X[H]]||(P=!1);this.isLoaded()||P?this._notify(y,k):this.requestors.push({ids:y,callback:k})},x.prototype._notify=function(y,k){for(var P={},H=0,X=y;H<X.length;H+=1){var ae=X[H];this.images[ae]||this.fire(new _.Event("styleimagemissing",{id:ae}));var xe=this.images[ae];xe?P[ae]={data:xe.data.clone(),pixelRatio:xe.pixelRatio,sdf:xe.sdf,version:xe.version,stretchX:xe.stretchX,stretchY:xe.stretchY,content:xe.content,hasRenderCallback:Boolean(xe.userImage&&xe.userImage.render)}:_.warnOnce('Image "'+ae+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}k(null,P)},x.prototype.getPixelSize=function(){var y=this.atlasImage;return{width:y.width,height:y.height}},x.prototype.getPattern=function(y){var k=this.patterns[y],P=this.getImage(y);if(!P)return null;if(k&&k.position.version===P.version)return k.position;if(k)k.position.version=P.version;else{var H={w:P.data.width+2,h:P.data.height+2,x:0,y:0},X=new _.ImagePosition(H,P);this.patterns[y]={bin:H,position:X}}return this._updatePatternAtlas(),this.patterns[y].position},x.prototype.bind=function(y){var k=y.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new _.Texture(y,this.atlasImage,k.RGBA),this.atlasTexture.bind(k.LINEAR,k.CLAMP_TO_EDGE)},x.prototype._updatePatternAtlas=function(){var y=[];for(var k in this.patterns)y.push(this.patterns[k].bin);var P=_.potpack(y),H=P.w,X=P.h,ae=this.atlasImage;for(var xe in ae.resize({width:H||1,height:X||1}),this.patterns){var Oe=this.patterns[xe].bin,He=Oe.x+1,We=Oe.y+1,Ze=this.images[xe].data,ht=Ze.width,lt=Ze.height;_.RGBAImage.copy(Ze,ae,{x:0,y:0},{x:He,y:We},{width:ht,height:lt}),_.RGBAImage.copy(Ze,ae,{x:0,y:lt-1},{x:He,y:We-1},{width:ht,height:1}),_.RGBAImage.copy(Ze,ae,{x:0,y:0},{x:He,y:We+lt},{width:ht,height:1}),_.RGBAImage.copy(Ze,ae,{x:ht-1,y:0},{x:He-1,y:We},{width:1,height:lt}),_.RGBAImage.copy(Ze,ae,{x:0,y:0},{x:He+ht,y:We},{width:1,height:lt})}this.dirty=!0},x.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},x.prototype.dispatchRenderCallbacks=function(y){for(var k=0,P=y;k<P.length;k+=1){var H=P[k];if(!this.callbackDispatchedThisFrame[H]){this.callbackDispatchedThisFrame[H]=!0;var X=this.images[H];j(X)&&this.updateImage(H,X)}}},x}(_.Evented),V=K,te=K,_e=1e20;function K(m,x,y,k,P,H){this.fontSize=m||24,this.buffer=x===void 0?3:x,this.cutoff=k||.25,this.fontFamily=P||"sans-serif",this.fontWeight=H||"normal",this.radius=y||8;var X=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=X,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(X*X),this.gridInner=new Float64Array(X*X),this.f=new Float64Array(X),this.d=new Float64Array(X),this.z=new Float64Array(X+1),this.v=new Int16Array(X),this.middle=Math.round(X/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function U(m,x,y,k,P,H,X){for(var ae=0;ae<x;ae++){for(var xe=0;xe<y;xe++)k[xe]=m[xe*x+ae];for(Ue(k,P,H,X,y),xe=0;xe<y;xe++)m[xe*x+ae]=P[xe]}for(xe=0;xe<y;xe++){for(ae=0;ae<x;ae++)k[ae]=m[xe*x+ae];for(Ue(k,P,H,X,x),ae=0;ae<x;ae++)m[xe*x+ae]=Math.sqrt(P[ae])}}function Ue(m,x,y,k,P){y[0]=0,k[0]=-_e,k[1]=+_e;for(var H=1,X=0;H<P;H++){for(var ae=(m[H]+H*H-(m[y[X]]+y[X]*y[X]))/(2*H-2*y[X]);ae<=k[X];)X--,ae=(m[H]+H*H-(m[y[X]]+y[X]*y[X]))/(2*H-2*y[X]);y[++X]=H,k[X]=ae,k[X+1]=+_e}for(H=0,X=0;H<P;H++){for(;k[X+1]<H;)X++;x[H]=(H-y[X])*(H-y[X])+m[y[X]]}}K.prototype.draw=function(m){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(m,this.buffer,this.middle);for(var x=this.ctx.getImageData(0,0,this.size,this.size),y=new Uint8ClampedArray(this.size*this.size),k=0;k<this.size*this.size;k++){var P=x.data[4*k+3]/255;this.gridOuter[k]=P===1?0:P===0?_e:Math.pow(Math.max(0,.5-P),2),this.gridInner[k]=P===1?_e:P===0?0:Math.pow(Math.max(0,P-.5),2)}for(U(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),U(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),k=0;k<this.size*this.size;k++)y[k]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[k]-this.gridInner[k])/this.radius+this.cutoff))));return y},V.default=te;var Je=function(m,x){this.requestManager=m,this.localIdeographFontFamily=x,this.entries={}};Je.prototype.setURL=function(m){this.url=m},Je.prototype.getGlyphs=function(m,x){var y=this,k=[];for(var P in m)for(var H=0,X=m[P];H<X.length;H+=1)k.push({stack:P,id:X[H]});_.asyncAll(k,function(ae,xe){var Oe=ae.stack,He=ae.id,We=y.entries[Oe];We||(We=y.entries[Oe]={glyphs:{},requests:{},ranges:{}});var Ze=We.glyphs[He];if(Ze===void 0){if(Ze=y._tinySDF(We,Oe,He))return We.glyphs[He]=Ze,void xe(null,{stack:Oe,id:He,glyph:Ze});var ht=Math.floor(He/256);if(256*ht>65535)xe(new Error("glyphs > 65535 not supported"));else if(We.ranges[ht])xe(null,{stack:Oe,id:He,glyph:Ze});else{var lt=We.requests[ht];lt||(lt=We.requests[ht]=[],Je.loadGlyphRange(Oe,ht,y.url,y.requestManager,function(vt,nt){if(nt){for(var bt in nt)y._doesCharSupportLocalGlyph(+bt)||(We.glyphs[+bt]=nt[+bt]);We.ranges[ht]=!0}for(var St=0,Ft=lt;St<Ft.length;St+=1)(0,Ft[St])(vt,nt);delete We.requests[ht]})),lt.push(function(vt,nt){vt?xe(vt):nt&&xe(null,{stack:Oe,id:He,glyph:nt[He]||null})})}}else xe(null,{stack:Oe,id:He,glyph:Ze})},function(ae,xe){if(ae)x(ae);else if(xe){for(var Oe={},He=0,We=xe;He<We.length;He+=1){var Ze=We[He],ht=Ze.stack,lt=Ze.id,vt=Ze.glyph;(Oe[ht]||(Oe[ht]={}))[lt]=vt&&{id:vt.id,bitmap:vt.bitmap.clone(),metrics:vt.metrics}}x(null,Oe)}})},Je.prototype._doesCharSupportLocalGlyph=function(m){return!!this.localIdeographFontFamily&&(_.isChar["CJK Unified Ideographs"](m)||_.isChar["Hangul Syllables"](m)||_.isChar.Hiragana(m)||_.isChar.Katakana(m))},Je.prototype._tinySDF=function(m,x,y){var k=this.localIdeographFontFamily;if(k&&this._doesCharSupportLocalGlyph(y)){var P=m.tinySDF;if(!P){var H="400";/bold/i.test(x)?H="900":/medium/i.test(x)?H="500":/light/i.test(x)&&(H="200"),P=m.tinySDF=new Je.TinySDF(24,3,8,.25,k,H)}return{id:y,bitmap:new _.AlphaImage({width:30,height:30},P.draw(String.fromCharCode(y))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},Je.loadGlyphRange=function(m,x,y,k,P){var H=256*x,X=H+255,ae=k.transformRequest(k.normalizeGlyphsURL(y).replace("{fontstack}",m).replace("{range}",H+"-"+X),_.ResourceType.Glyphs);_.getArrayBuffer(ae,function(xe,Oe){if(xe)P(xe);else if(Oe){for(var He={},We=0,Ze=_.parseGlyphPBF(Oe);We<Ze.length;We+=1){var ht=Ze[We];He[ht.id]=ht}P(null,He)}})},Je.TinySDF=V;var Qe=function(){this.specification=_.styleSpec.light.position};Qe.prototype.possiblyEvaluate=function(m,x){return _.sphericalToCartesian(m.expression.evaluate(x))},Qe.prototype.interpolate=function(m,x,y){return{x:_.number(m.x,x.x,y),y:_.number(m.y,x.y,y),z:_.number(m.z,x.z,y)}};var Ct=new _.Properties({anchor:new _.DataConstantProperty(_.styleSpec.light.anchor),position:new Qe,color:new _.DataConstantProperty(_.styleSpec.light.color),intensity:new _.DataConstantProperty(_.styleSpec.light.intensity)}),Tt=function(m){function x(y){m.call(this),this._transitionable=new _.Transitionable(Ct),this.setLight(y),this._transitioning=this._transitionable.untransitioned()}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getLight=function(){return this._transitionable.serialize()},x.prototype.setLight=function(y,k){if(k===void 0&&(k={}),!this._validate(_.validateLight,y,k))for(var P in y){var H=y[P];_.endsWith(P,"-transition")?this._transitionable.setTransition(P.slice(0,-11),H):this._transitionable.setValue(P,H)}},x.prototype.updateTransitions=function(y){this._transitioning=this._transitionable.transitioned(y,this._transitioning)},x.prototype.hasTransition=function(){return this._transitioning.hasTransition()},x.prototype.recalculate=function(y){this.properties=this._transitioning.possiblyEvaluate(y)},x.prototype._validate=function(y,k,P){return(!P||P.validate!==!1)&&_.emitValidationErrors(this,y.call(_.validateStyle,_.extend({value:k,style:{glyphs:!0,sprite:!0},styleSpec:_.styleSpec})))},x}(_.Evented),Ht=function(m,x){this.width=m,this.height=x,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};Ht.prototype.getDash=function(m,x){var y=m.join(",")+String(x);return this.dashEntry[y]||(this.dashEntry[y]=this.addDash(m,x)),this.dashEntry[y]},Ht.prototype.getDashRanges=function(m,x,y){var k=[],P=m.length%2==1?-m[m.length-1]*y:0,H=m[0]*y,X=!0;k.push({left:P,right:H,isDash:X,zeroLength:m[0]===0});for(var ae=m[0],xe=1;xe<m.length;xe++){var Oe=m[xe];k.push({left:P=ae*y,right:H=(ae+=Oe)*y,isDash:X=!X,zeroLength:Oe===0})}return k},Ht.prototype.addRoundDash=function(m,x,y){for(var k=x/2,P=-y;P<=y;P++)for(var H=this.width*(this.nextRow+y+P),X=0,ae=m[X],xe=0;xe<this.width;xe++){xe/ae.right>1&&(ae=m[++X]);var Oe=Math.abs(xe-ae.left),He=Math.abs(xe-ae.right),We=Math.min(Oe,He),Ze=void 0,ht=P/y*(k+1);if(ae.isDash){var lt=k-Math.abs(ht);Ze=Math.sqrt(We*We+lt*lt)}else Ze=k-Math.sqrt(We*We+ht*ht);this.data[H+xe]=Math.max(0,Math.min(255,Ze+128))}},Ht.prototype.addRegularDash=function(m){for(var x=m.length-1;x>=0;--x){var y=m[x],k=m[x+1];y.zeroLength?m.splice(x,1):k&&k.isDash===y.isDash&&(k.left=y.left,m.splice(x,1))}var P=m[0],H=m[m.length-1];P.isDash===H.isDash&&(P.left=H.left-this.width,H.right=P.right+this.width);for(var X=this.width*this.nextRow,ae=0,xe=m[ae],Oe=0;Oe<this.width;Oe++){Oe/xe.right>1&&(xe=m[++ae]);var He=Math.abs(Oe-xe.left),We=Math.abs(Oe-xe.right),Ze=Math.min(He,We);this.data[X+Oe]=Math.max(0,Math.min(255,(xe.isDash?Ze:-Ze)+128))}},Ht.prototype.addDash=function(m,x){var y=x?7:0,k=2*y+1;if(this.nextRow+k>this.height)return _.warnOnce("LineAtlas out of space"),null;for(var P=0,H=0;H<m.length;H++)P+=m[H];if(P!==0){var X=this.width/P,ae=this.getDashRanges(m,this.width,X);x?this.addRoundDash(ae,X,y):this.addRegularDash(ae)}var xe={y:(this.nextRow+y+.5)/this.height,height:2*y/this.height,width:P};return this.nextRow+=k,this.dirty=!0,xe},Ht.prototype.bind=function(m){var x=m.gl;this.texture?(x.bindTexture(x.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,x.texSubImage2D(x.TEXTURE_2D,0,0,0,this.width,this.height,x.ALPHA,x.UNSIGNED_BYTE,this.data))):(this.texture=x.createTexture(),x.bindTexture(x.TEXTURE_2D,this.texture),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.REPEAT),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.REPEAT),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.LINEAR),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.LINEAR),x.texImage2D(x.TEXTURE_2D,0,x.ALPHA,this.width,this.height,0,x.ALPHA,x.UNSIGNED_BYTE,this.data))};var Rt=function m(x,y){this.workerPool=x,this.actors=[],this.currentActor=0,this.id=_.uniqueId();for(var k=this.workerPool.acquire(this.id),P=0;P<k.length;P++){var H=new m.Actor(k[P],y,this.id);H.name="Worker "+P,this.actors.push(H)}};function Yt(m,x,y){var k=function(P,H){if(P)return y(P);if(H){var X=_.pick(_.extend(H,m),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);H.vector_layers&&(X.vectorLayers=H.vector_layers,X.vectorLayerIds=X.vectorLayers.map(function(ae){return ae.id})),X.tiles=x.canonicalizeTileset(X,m.url),y(null,X)}};return m.url?_.getJSON(x.transformRequest(x.normalizeSourceURL(m.url),_.ResourceType.Source),k):_.browser.frame(function(){return k(null,m)})}Rt.prototype.broadcast=function(m,x,y){_.asyncAll(this.actors,function(k,P){k.send(m,x,P)},y=y||function(){})},Rt.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},Rt.prototype.remove=function(){this.actors.forEach(function(m){m.remove()}),this.actors=[],this.workerPool.release(this.id)},Rt.Actor=_.Actor;var cr=function(m,x,y){this.bounds=_.LngLatBounds.convert(this.validateBounds(m)),this.minzoom=x||0,this.maxzoom=y||24};cr.prototype.validateBounds=function(m){return Array.isArray(m)&&m.length===4?[Math.max(-180,m[0]),Math.max(-90,m[1]),Math.min(180,m[2]),Math.min(90,m[3])]:[-180,-90,180,90]},cr.prototype.contains=function(m){var x=Math.pow(2,m.z),y=Math.floor(_.mercatorXfromLng(this.bounds.getWest())*x),k=Math.floor(_.mercatorYfromLat(this.bounds.getNorth())*x),P=Math.ceil(_.mercatorXfromLng(this.bounds.getEast())*x),H=Math.ceil(_.mercatorYfromLat(this.bounds.getSouth())*x);return m.x>=y&&m.x<P&&m.y>=k&&m.y<H};var Tr=function(m){function x(y,k,P,H){if(m.call(this),this.id=y,this.dispatcher=P,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,_.extend(this,_.pick(k,["url","scheme","tileSize","promoteId"])),this._options=_.extend({type:"vector"},k),this._collectResourceTiming=k.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(H)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.load=function(){var y=this;this._loaded=!1,this.fire(new _.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Yt(this._options,this.map._requestManager,function(k,P){y._tileJSONRequest=null,y._loaded=!0,k?y.fire(new _.ErrorEvent(k)):P&&(_.extend(y,P),P.bounds&&(y.tileBounds=new cr(P.bounds,y.minzoom,y.maxzoom)),_.postTurnstileEvent(P.tiles,y.map._requestManager._customAccessToken),_.postMapLoadEvent(P.tiles,y.map._getMapId(),y.map._requestManager._skuToken,y.map._requestManager._customAccessToken),y.fire(new _.Event("data",{dataType:"source",sourceDataType:"metadata"})),y.fire(new _.Event("data",{dataType:"source",sourceDataType:"content"})))})},x.prototype.loaded=function(){return this._loaded},x.prototype.hasTile=function(y){return!this.tileBounds||this.tileBounds.contains(y.canonical)},x.prototype.onAdd=function(y){this.map=y,this.load()},x.prototype.setSourceProperty=function(y){this._tileJSONRequest&&this._tileJSONRequest.cancel(),y(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},x.prototype.setTiles=function(y){var k=this;return this.setSourceProperty(function(){k._options.tiles=y}),this},x.prototype.setUrl=function(y){var k=this;return this.setSourceProperty(function(){k.url=y,k._options.url=y}),this},x.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},x.prototype.serialize=function(){return _.extend({},this._options)},x.prototype.loadTile=function(y,k){var P=this.map._requestManager.normalizeTileURL(y.tileID.canonical.url(this.tiles,this.scheme)),H={request:this.map._requestManager.transformRequest(P,_.ResourceType.Tile),uid:y.uid,tileID:y.tileID,zoom:y.tileID.overscaledZ,tileSize:this.tileSize*y.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:_.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function X(ae,xe){return delete y.request,y.aborted?k(null):ae&&ae.status!==404?k(ae):(xe&&xe.resourceTiming&&(y.resourceTiming=xe.resourceTiming),this.map._refreshExpiredTiles&&xe&&y.setExpiryData(xe),y.loadVectorData(xe,this.map.painter),_.cacheEntryPossiblyAdded(this.dispatcher),k(null),void(y.reloadCallback&&(this.loadTile(y,y.reloadCallback),y.reloadCallback=null)))}H.request.collectResourceTiming=this._collectResourceTiming,y.actor&&y.state!=="expired"?y.state==="loading"?y.reloadCallback=k:y.request=y.actor.send("reloadTile",H,X.bind(this)):(y.actor=this.dispatcher.getActor(),y.request=y.actor.send("loadTile",H,X.bind(this)))},x.prototype.abortTile=function(y){y.request&&(y.request.cancel(),delete y.request),y.actor&&y.actor.send("abortTile",{uid:y.uid,type:this.type,source:this.id},void 0)},x.prototype.unloadTile=function(y){y.unloadVectorData(),y.actor&&y.actor.send("removeTile",{uid:y.uid,type:this.type,source:this.id},void 0)},x.prototype.hasTransition=function(){return!1},x}(_.Evented),ir=function(m){function x(y,k,P,H){m.call(this),this.id=y,this.dispatcher=P,this.setEventedParent(H),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=_.extend({type:"raster"},k),_.extend(this,_.pick(k,["url","scheme","tileSize"]))}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.load=function(){var y=this;this._loaded=!1,this.fire(new _.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Yt(this._options,this.map._requestManager,function(k,P){y._tileJSONRequest=null,y._loaded=!0,k?y.fire(new _.ErrorEvent(k)):P&&(_.extend(y,P),P.bounds&&(y.tileBounds=new cr(P.bounds,y.minzoom,y.maxzoom)),_.postTurnstileEvent(P.tiles),_.postMapLoadEvent(P.tiles,y.map._getMapId(),y.map._requestManager._skuToken),y.fire(new _.Event("data",{dataType:"source",sourceDataType:"metadata"})),y.fire(new _.Event("data",{dataType:"source",sourceDataType:"content"})))})},x.prototype.loaded=function(){return this._loaded},x.prototype.onAdd=function(y){this.map=y,this.load()},x.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},x.prototype.serialize=function(){return _.extend({},this._options)},x.prototype.hasTile=function(y){return!this.tileBounds||this.tileBounds.contains(y.canonical)},x.prototype.loadTile=function(y,k){var P=this,H=this.map._requestManager.normalizeTileURL(y.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);y.request=_.getImage(this.map._requestManager.transformRequest(H,_.ResourceType.Tile),function(X,ae){if(delete y.request,y.aborted)y.state="unloaded",k(null);else if(X)y.state="errored",k(X);else if(ae){P.map._refreshExpiredTiles&&y.setExpiryData(ae),delete ae.cacheControl,delete ae.expires;var xe=P.map.painter.context,Oe=xe.gl;y.texture=P.map.painter.getTileTexture(ae.width),y.texture?y.texture.update(ae,{useMipmap:!0}):(y.texture=new _.Texture(xe,ae,Oe.RGBA,{useMipmap:!0}),y.texture.bind(Oe.LINEAR,Oe.CLAMP_TO_EDGE,Oe.LINEAR_MIPMAP_NEAREST),xe.extTextureFilterAnisotropic&&Oe.texParameterf(Oe.TEXTURE_2D,xe.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,xe.extTextureFilterAnisotropicMax)),y.state="loaded",_.cacheEntryPossiblyAdded(P.dispatcher),k(null)}})},x.prototype.abortTile=function(y,k){y.request&&(y.request.cancel(),delete y.request),k()},x.prototype.unloadTile=function(y,k){y.texture&&this.map.painter.saveTileTexture(y.texture),k()},x.prototype.hasTransition=function(){return!1},x}(_.Evented),At=function(m){function x(y,k,P,H){m.call(this,y,k,P,H),this.type="raster-dem",this.maxzoom=22,this._options=_.extend({type:"raster-dem"},k),this.encoding=k.encoding||"mapbox"}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},x.prototype.loadTile=function(y,k){var P=this.map._requestManager.normalizeTileURL(y.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function H(X,ae){X&&(y.state="errored",k(X)),ae&&(y.dem=ae,y.needsHillshadePrepare=!0,y.state="loaded",k(null))}y.request=_.getImage(this.map._requestManager.transformRequest(P,_.ResourceType.Tile),function(X,ae){if(delete y.request,y.aborted)y.state="unloaded",k(null);else if(X)y.state="errored",k(X);else if(ae){this.map._refreshExpiredTiles&&y.setExpiryData(ae),delete ae.cacheControl,delete ae.expires;var xe=_.window.ImageBitmap&&ae instanceof _.window.ImageBitmap&&_.offscreenCanvasSupported()?ae:_.browser.getImageData(ae,1),Oe={uid:y.uid,coord:y.tileID,source:this.id,rawImageData:xe,encoding:this.encoding};y.actor&&y.state!=="expired"||(y.actor=this.dispatcher.getActor(),y.actor.send("loadDEMTile",Oe,H.bind(this)))}}.bind(this)),y.neighboringTiles=this._getNeighboringTiles(y.tileID)},x.prototype._getNeighboringTiles=function(y){var k=y.canonical,P=Math.pow(2,k.z),H=(k.x-1+P)%P,X=k.x===0?y.wrap-1:y.wrap,ae=(k.x+1+P)%P,xe=k.x+1===P?y.wrap+1:y.wrap,Oe={};return Oe[new _.OverscaledTileID(y.overscaledZ,X,k.z,H,k.y).key]={backfilled:!1},Oe[new _.OverscaledTileID(y.overscaledZ,xe,k.z,ae,k.y).key]={backfilled:!1},k.y>0&&(Oe[new _.OverscaledTileID(y.overscaledZ,X,k.z,H,k.y-1).key]={backfilled:!1},Oe[new _.OverscaledTileID(y.overscaledZ,y.wrap,k.z,k.x,k.y-1).key]={backfilled:!1},Oe[new _.OverscaledTileID(y.overscaledZ,xe,k.z,ae,k.y-1).key]={backfilled:!1}),k.y+1<P&&(Oe[new _.OverscaledTileID(y.overscaledZ,X,k.z,H,k.y+1).key]={backfilled:!1},Oe[new _.OverscaledTileID(y.overscaledZ,y.wrap,k.z,k.x,k.y+1).key]={backfilled:!1},Oe[new _.OverscaledTileID(y.overscaledZ,xe,k.z,ae,k.y+1).key]={backfilled:!1}),Oe},x.prototype.unloadTile=function(y){y.demTexture&&this.map.painter.saveTileTexture(y.demTexture),y.fbo&&(y.fbo.destroy(),delete y.fbo),y.dem&&delete y.dem,delete y.neighboringTiles,y.state="unloaded",y.actor&&y.actor.send("removeDEMTile",{uid:y.uid,source:this.id})},x}(ir),kt=function(m){function x(y,k,P,H){m.call(this),this.id=y,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=P.getActor(),this.setEventedParent(H),this._data=k.data,this._options=_.extend({},k),this._collectResourceTiming=k.collectResourceTiming,this._resourceTiming=[],k.maxzoom!==void 0&&(this.maxzoom=k.maxzoom),k.type&&(this.type=k.type),k.attribution&&(this.attribution=k.attribution),this.promoteId=k.promoteId;var X=_.EXTENT/this.tileSize;this.workerOptions=_.extend({source:this.id,cluster:k.cluster||!1,geojsonVtOptions:{buffer:(k.buffer!==void 0?k.buffer:128)*X,tolerance:(k.tolerance!==void 0?k.tolerance:.375)*X,extent:_.EXTENT,maxZoom:this.maxzoom,lineMetrics:k.lineMetrics||!1,generateId:k.generateId||!1},superclusterOptions:{maxZoom:k.clusterMaxZoom!==void 0?Math.min(k.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,k.clusterMinPoints||2),extent:_.EXTENT,radius:(k.clusterRadius||50)*X,log:!1,generateId:k.generateId||!1},clusterProperties:k.clusterProperties,filter:k.filter},k.workerOptions)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.load=function(){var y=this;this.fire(new _.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(k){if(k)y.fire(new _.ErrorEvent(k));else{var P={dataType:"source",sourceDataType:"metadata"};y._collectResourceTiming&&y._resourceTiming&&y._resourceTiming.length>0&&(P.resourceTiming=y._resourceTiming,y._resourceTiming=[]),y.fire(new _.Event("data",P))}})},x.prototype.onAdd=function(y){this.map=y,this.load()},x.prototype.setData=function(y){var k=this;return this._data=y,this.fire(new _.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(P){if(P)k.fire(new _.ErrorEvent(P));else{var H={dataType:"source",sourceDataType:"content"};k._collectResourceTiming&&k._resourceTiming&&k._resourceTiming.length>0&&(H.resourceTiming=k._resourceTiming,k._resourceTiming=[]),k.fire(new _.Event("data",H))}}),this},x.prototype.getClusterExpansionZoom=function(y,k){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:y,source:this.id},k),this},x.prototype.getClusterChildren=function(y,k){return this.actor.send("geojson.getClusterChildren",{clusterId:y,source:this.id},k),this},x.prototype.getClusterLeaves=function(y,k,P,H){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:y,limit:k,offset:P},H),this},x.prototype._updateWorkerData=function(y){var k=this;this._loaded=!1;var P=_.extend({},this.workerOptions),H=this._data;typeof H=="string"?(P.request=this.map._requestManager.transformRequest(_.browser.resolveURL(H),_.ResourceType.Source),P.request.collectResourceTiming=this._collectResourceTiming):P.data=JSON.stringify(H),this.actor.send(this.type+".loadData",P,function(X,ae){k._removed||ae&&ae.abandoned||(k._loaded=!0,ae&&ae.resourceTiming&&ae.resourceTiming[k.id]&&(k._resourceTiming=ae.resourceTiming[k.id].slice(0)),k.actor.send(k.type+".coalesce",{source:P.source},null),y(X))})},x.prototype.loaded=function(){return this._loaded},x.prototype.loadTile=function(y,k){var P=this,H=y.actor?"reloadTile":"loadTile";y.actor=this.actor,y.request=this.actor.send(H,{type:this.type,uid:y.uid,tileID:y.tileID,zoom:y.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:_.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(X,ae){return delete y.request,y.unloadVectorData(),y.aborted?k(null):X?k(X):(y.loadVectorData(ae,P.map.painter,H==="reloadTile"),k(null))})},x.prototype.abortTile=function(y){y.request&&(y.request.cancel(),delete y.request),y.aborted=!0},x.prototype.unloadTile=function(y){y.unloadVectorData(),this.actor.send("removeTile",{uid:y.uid,type:this.type,source:this.id})},x.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},x.prototype.serialize=function(){return _.extend({},this._options,{type:this.type,data:this._data})},x.prototype.hasTransition=function(){return!1},x}(_.Evented),rt=_.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),ce=function(m){function x(y,k,P,H){m.call(this),this.id=y,this.dispatcher=P,this.coordinates=k.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(H),this.options=k}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.load=function(y,k){var P=this;this._loaded=!1,this.fire(new _.Event("dataloading",{dataType:"source"})),this.url=this.options.url,_.getImage(this.map._requestManager.transformRequest(this.url,_.ResourceType.Image),function(H,X){P._loaded=!0,H?P.fire(new _.ErrorEvent(H)):X&&(P.image=X,y&&(P.coordinates=y),k&&k(),P._finishLoading())})},x.prototype.loaded=function(){return this._loaded},x.prototype.updateImage=function(y){var k=this;return this.image&&y.url?(this.options.url=y.url,this.load(y.coordinates,function(){k.texture=null}),this):this},x.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new _.Event("data",{dataType:"source",sourceDataType:"metadata"})))},x.prototype.onAdd=function(y){this.map=y,this.load()},x.prototype.setCoordinates=function(y){var k=this;this.coordinates=y;var P=y.map(_.MercatorCoordinate.fromLngLat);this.tileID=function(X){for(var ae=1/0,xe=1/0,Oe=-1/0,He=-1/0,We=0,Ze=X;We<Ze.length;We+=1){var ht=Ze[We];ae=Math.min(ae,ht.x),xe=Math.min(xe,ht.y),Oe=Math.max(Oe,ht.x),He=Math.max(He,ht.y)}var lt=Math.max(Oe-ae,He-xe),vt=Math.max(0,Math.floor(-Math.log(lt)/Math.LN2)),nt=Math.pow(2,vt);return new _.CanonicalTileID(vt,Math.floor((ae+Oe)/2*nt),Math.floor((xe+He)/2*nt))}(P),this.minzoom=this.maxzoom=this.tileID.z;var H=P.map(function(X){return k.tileID.getTilePoint(X)._round()});return this._boundsArray=new _.StructArrayLayout4i8,this._boundsArray.emplaceBack(H[0].x,H[0].y,0,0),this._boundsArray.emplaceBack(H[1].x,H[1].y,_.EXTENT,0),this._boundsArray.emplaceBack(H[3].x,H[3].y,0,_.EXTENT),this._boundsArray.emplaceBack(H[2].x,H[2].y,_.EXTENT,_.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new _.Event("data",{dataType:"source",sourceDataType:"content"})),this},x.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var y=this.map.painter.context,k=y.gl;for(var P in this.boundsBuffer||(this.boundsBuffer=y.createVertexBuffer(this._boundsArray,rt.members)),this.boundsSegments||(this.boundsSegments=_.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new _.Texture(y,this.image,k.RGBA),this.texture.bind(k.LINEAR,k.CLAMP_TO_EDGE)),this.tiles){var H=this.tiles[P];H.state!=="loaded"&&(H.state="loaded",H.texture=this.texture)}}},x.prototype.loadTile=function(y,k){this.tileID&&this.tileID.equals(y.tileID.canonical)?(this.tiles[String(y.tileID.wrap)]=y,y.buckets={},k(null)):(y.state="errored",k(null))},x.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},x.prototype.hasTransition=function(){return!1},x}(_.Evented),Te=function(m){function x(y,k,P,H){m.call(this,y,k,P,H),this.roundZoom=!0,this.type="video",this.options=k}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.load=function(){var y=this;this._loaded=!1;var k=this.options;this.urls=[];for(var P=0,H=k.urls;P<H.length;P+=1)this.urls.push(this.map._requestManager.transformRequest(H[P],_.ResourceType.Source).url);_.getVideo(this.urls,function(X,ae){y._loaded=!0,X?y.fire(new _.ErrorEvent(X)):ae&&(y.video=ae,y.video.loop=!0,y.video.setAttribute("playsinline",""),y.video.addEventListener("playing",function(){y.map.triggerRepaint()}),y.map&&y.video.play(),y._finishLoading())})},x.prototype.pause=function(){this.video&&this.video.pause()},x.prototype.play=function(){this.video&&this.video.play()},x.prototype.seek=function(y){if(this.video){var k=this.video.seekable;y<k.start(0)||y>k.end(0)?this.fire(new _.ErrorEvent(new _.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+k.start(0)+" and "+k.end(0)+"-second mark."))):this.video.currentTime=y}},x.prototype.getVideo=function(){return this.video},x.prototype.onAdd=function(y){this.map||(this.map=y,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},x.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var y=this.map.painter.context,k=y.gl;for(var P in this.boundsBuffer||(this.boundsBuffer=y.createVertexBuffer(this._boundsArray,rt.members)),this.boundsSegments||(this.boundsSegments=_.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(k.LINEAR,k.CLAMP_TO_EDGE),k.texSubImage2D(k.TEXTURE_2D,0,0,0,k.RGBA,k.UNSIGNED_BYTE,this.video)):(this.texture=new _.Texture(y,this.video,k.RGBA),this.texture.bind(k.LINEAR,k.CLAMP_TO_EDGE)),this.tiles){var H=this.tiles[P];H.state!=="loaded"&&(H.state="loaded",H.texture=this.texture)}}},x.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},x.prototype.hasTransition=function(){return this.video&&!this.video.paused},x}(ce),Ne=function(m){function x(y,k,P,H){m.call(this,y,k,P,H),k.coordinates?Array.isArray(k.coordinates)&&k.coordinates.length===4&&!k.coordinates.some(function(X){return!Array.isArray(X)||X.length!==2||X.some(function(ae){return typeof ae!="number"})})||this.fire(new _.ErrorEvent(new _.ValidationError("sources."+y,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new _.ErrorEvent(new _.ValidationError("sources."+y,null,'missing required property "coordinates"'))),k.animate&&typeof k.animate!="boolean"&&this.fire(new _.ErrorEvent(new _.ValidationError("sources."+y,null,'optional "animate" property must be a boolean value'))),k.canvas?typeof k.canvas=="string"||k.canvas instanceof _.window.HTMLCanvasElement||this.fire(new _.ErrorEvent(new _.ValidationError("sources."+y,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new _.ErrorEvent(new _.ValidationError("sources."+y,null,'missing required property "canvas"'))),this.options=k,this.animate=k.animate===void 0||k.animate}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof _.window.HTMLCanvasElement?this.options.canvas:_.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new _.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},x.prototype.getCanvas=function(){return this.canvas},x.prototype.onAdd=function(y){this.map=y,this.load(),this.canvas&&this.animate&&this.play()},x.prototype.onRemove=function(){this.pause()},x.prototype.prepare=function(){var y=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,y=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,y=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var k=this.map.painter.context,P=k.gl;for(var H in this.boundsBuffer||(this.boundsBuffer=k.createVertexBuffer(this._boundsArray,rt.members)),this.boundsSegments||(this.boundsSegments=_.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(y||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new _.Texture(k,this.canvas,P.RGBA,{premultiply:!0}),this.tiles){var X=this.tiles[H];X.state!=="loaded"&&(X.state="loaded",X.texture=this.texture)}}},x.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},x.prototype.hasTransition=function(){return this._playing},x.prototype._hasInvalidDimensions=function(){for(var y=0,k=[this.canvas.width,this.canvas.height];y<k.length;y+=1){var P=k[y];if(isNaN(P)||P<=0)return!0}return!1},x}(ce),Wt={vector:Tr,raster:ir,"raster-dem":At,geojson:kt,video:Te,image:ce,canvas:Ne};function ft(m,x){var y=_.identity([]);return _.translate(y,y,[1,1,0]),_.scale(y,y,[.5*m.width,.5*m.height,1]),_.multiply(y,y,m.calculatePosMatrix(x.toUnwrapped()))}function qt(m,x,y,k,P,H){var X=function(vt,nt,bt){if(vt)for(var St=0,Ft=vt;St<Ft.length;St+=1){var rr=nt[Ft[St]];if(rr&&rr.source===bt&&rr.type==="fill-extrusion")return!0}else for(var Jt in nt){var Zt=nt[Jt];if(Zt.source===bt&&Zt.type==="fill-extrusion")return!0}return!1}(P&&P.layers,x,m.id),ae=H.maxPitchScaleFactor(),xe=m.tilesIn(k,ae,X);xe.sort(Nt);for(var Oe=[],He=0,We=xe;He<We.length;He+=1){var Ze=We[He];Oe.push({wrappedTileID:Ze.tileID.wrapped().key,queryResults:Ze.tile.queryRenderedFeatures(x,y,m._state,Ze.queryGeometry,Ze.cameraQueryGeometry,Ze.scale,P,H,ae,ft(m.transform,Ze.tileID))})}var ht=function(vt){for(var nt={},bt={},St=0,Ft=vt;St<Ft.length;St+=1){var rr=Ft[St],Jt=rr.queryResults,Zt=rr.wrappedTileID,mr=bt[Zt]=bt[Zt]||{};for(var yr in Jt)for(var br=Jt[yr],$r=mr[yr]=mr[yr]||{},Gr=nt[yr]=nt[yr]||[],hn=0,dn=br;hn<dn.length;hn+=1){var Bn=dn[hn];$r[Bn.featureIndex]||($r[Bn.featureIndex]=!0,Gr.push(Bn))}}return nt}(Oe);for(var lt in ht)ht[lt].forEach(function(vt){var nt=vt.feature,bt=m.getFeatureState(nt.layer["source-layer"],nt.id);nt.source=nt.layer.source,nt.layer["source-layer"]&&(nt.sourceLayer=nt.layer["source-layer"]),nt.state=bt});return ht}function Nt(m,x){var y=m.tileID,k=x.tileID;return y.overscaledZ-k.overscaledZ||y.canonical.y-k.canonical.y||y.wrap-k.wrap||y.canonical.x-k.canonical.x}var vr=function(m,x){this.max=m,this.onRemove=x,this.reset()};vr.prototype.reset=function(){for(var m in this.data)for(var x=0,y=this.data[m];x<y.length;x+=1){var k=y[x];k.timeout&&clearTimeout(k.timeout),this.onRemove(k.value)}return this.data={},this.order=[],this},vr.prototype.add=function(m,x,y){var k=this,P=m.wrapped().key;this.data[P]===void 0&&(this.data[P]=[]);var H={value:x,timeout:void 0};if(y!==void 0&&(H.timeout=setTimeout(function(){k.remove(m,H)},y)),this.data[P].push(H),this.order.push(P),this.order.length>this.max){var X=this._getAndRemoveByKey(this.order[0]);X&&this.onRemove(X)}return this},vr.prototype.has=function(m){return m.wrapped().key in this.data},vr.prototype.getAndRemove=function(m){return this.has(m)?this._getAndRemoveByKey(m.wrapped().key):null},vr.prototype._getAndRemoveByKey=function(m){var x=this.data[m].shift();return x.timeout&&clearTimeout(x.timeout),this.data[m].length===0&&delete this.data[m],this.order.splice(this.order.indexOf(m),1),x.value},vr.prototype.getByKey=function(m){var x=this.data[m];return x?x[0].value:null},vr.prototype.get=function(m){return this.has(m)?this.data[m.wrapped().key][0].value:null},vr.prototype.remove=function(m,x){if(!this.has(m))return this;var y=m.wrapped().key,k=x===void 0?0:this.data[y].indexOf(x),P=this.data[y][k];return this.data[y].splice(k,1),P.timeout&&clearTimeout(P.timeout),this.data[y].length===0&&delete this.data[y],this.onRemove(P.value),this.order.splice(this.order.indexOf(y),1),this},vr.prototype.setMaxSize=function(m){for(this.max=m;this.order.length>this.max;){var x=this._getAndRemoveByKey(this.order[0]);x&&this.onRemove(x)}return this},vr.prototype.filter=function(m){var x=[];for(var y in this.data)for(var k=0,P=this.data[y];k<P.length;k+=1){var H=P[k];m(H.value)||x.push(H)}for(var X=0,ae=x;X<ae.length;X+=1){var xe=ae[X];this.remove(xe.value.tileID,xe)}};var _r=function(m,x,y){this.context=m;var k=m.gl;this.buffer=k.createBuffer(),this.dynamicDraw=Boolean(y),this.context.unbindVAO(),m.bindElementBuffer.set(this.buffer),k.bufferData(k.ELEMENT_ARRAY_BUFFER,x.arrayBuffer,this.dynamicDraw?k.DYNAMIC_DRAW:k.STATIC_DRAW),this.dynamicDraw||delete x.arrayBuffer};_r.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},_r.prototype.updateData=function(m){var x=this.context.gl;this.context.unbindVAO(),this.bind(),x.bufferSubData(x.ELEMENT_ARRAY_BUFFER,0,m.arrayBuffer)},_r.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Dr={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},kr=function(m,x,y,k){this.length=x.length,this.attributes=y,this.itemSize=x.bytesPerElement,this.dynamicDraw=k,this.context=m;var P=m.gl;this.buffer=P.createBuffer(),m.bindVertexBuffer.set(this.buffer),P.bufferData(P.ARRAY_BUFFER,x.arrayBuffer,this.dynamicDraw?P.DYNAMIC_DRAW:P.STATIC_DRAW),this.dynamicDraw||delete x.arrayBuffer};kr.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},kr.prototype.updateData=function(m){var x=this.context.gl;this.bind(),x.bufferSubData(x.ARRAY_BUFFER,0,m.arrayBuffer)},kr.prototype.enableAttributes=function(m,x){for(var y=0;y<this.attributes.length;y++){var k=x.attributes[this.attributes[y].name];k!==void 0&&m.enableVertexAttribArray(k)}},kr.prototype.setVertexAttribPointers=function(m,x,y){for(var k=0;k<this.attributes.length;k++){var P=this.attributes[k],H=x.attributes[P.name];H!==void 0&&m.vertexAttribPointer(H,P.components,m[Dr[P.type]],!1,this.itemSize,P.offset+this.itemSize*(y||0))}},kr.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var et=function(m){this.gl=m.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};et.prototype.get=function(){return this.current},et.prototype.set=function(m){},et.prototype.getDefault=function(){return this.default},et.prototype.setDefault=function(){this.set(this.default)};var pt=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return _.Color.transparent},x.prototype.set=function(y){var k=this.current;(y.r!==k.r||y.g!==k.g||y.b!==k.b||y.a!==k.a||this.dirty)&&(this.gl.clearColor(y.r,y.g,y.b,y.a),this.current=y,this.dirty=!1)},x}(et),er=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return 1},x.prototype.set=function(y){(y!==this.current||this.dirty)&&(this.gl.clearDepth(y),this.current=y,this.dirty=!1)},x}(et),Lr=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return 0},x.prototype.set=function(y){(y!==this.current||this.dirty)&&(this.gl.clearStencil(y),this.current=y,this.dirty=!1)},x}(et),ki=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return[!0,!0,!0,!0]},x.prototype.set=function(y){var k=this.current;(y[0]!==k[0]||y[1]!==k[1]||y[2]!==k[2]||y[3]!==k[3]||this.dirty)&&(this.gl.colorMask(y[0],y[1],y[2],y[3]),this.current=y,this.dirty=!1)},x}(et),zr=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return!0},x.prototype.set=function(y){(y!==this.current||this.dirty)&&(this.gl.depthMask(y),this.current=y,this.dirty=!1)},x}(et),$n=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return 255},x.prototype.set=function(y){(y!==this.current||this.dirty)&&(this.gl.stencilMask(y),this.current=y,this.dirty=!1)},x}(et),Dt=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},x.prototype.set=function(y){var k=this.current;(y.func!==k.func||y.ref!==k.ref||y.mask!==k.mask||this.dirty)&&(this.gl.stencilFunc(y.func,y.ref,y.mask),this.current=y,this.dirty=!1)},x}(et),Et=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){var y=this.gl;return[y.KEEP,y.KEEP,y.KEEP]},x.prototype.set=function(y){var k=this.current;(y[0]!==k[0]||y[1]!==k[1]||y[2]!==k[2]||this.dirty)&&(this.gl.stencilOp(y[0],y[1],y[2]),this.current=y,this.dirty=!1)},x}(et),Er=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return!1},x.prototype.set=function(y){if(y!==this.current||this.dirty){var k=this.gl;y?k.enable(k.STENCIL_TEST):k.disable(k.STENCIL_TEST),this.current=y,this.dirty=!1}},x}(et),on=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return[0,1]},x.prototype.set=function(y){var k=this.current;(y[0]!==k[0]||y[1]!==k[1]||this.dirty)&&(this.gl.depthRange(y[0],y[1]),this.current=y,this.dirty=!1)},x}(et),Vr=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return!1},x.prototype.set=function(y){if(y!==this.current||this.dirty){var k=this.gl;y?k.enable(k.DEPTH_TEST):k.disable(k.DEPTH_TEST),this.current=y,this.dirty=!1}},x}(et),yn=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return this.gl.LESS},x.prototype.set=function(y){(y!==this.current||this.dirty)&&(this.gl.depthFunc(y),this.current=y,this.dirty=!1)},x}(et),Rn=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return!1},x.prototype.set=function(y){if(y!==this.current||this.dirty){var k=this.gl;y?k.enable(k.BLEND):k.disable(k.BLEND),this.current=y,this.dirty=!1}},x}(et),mi=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){var y=this.gl;return[y.ONE,y.ZERO]},x.prototype.set=function(y){var k=this.current;(y[0]!==k[0]||y[1]!==k[1]||this.dirty)&&(this.gl.blendFunc(y[0],y[1]),this.current=y,this.dirty=!1)},x}(et),fo=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return _.Color.transparent},x.prototype.set=function(y){var k=this.current;(y.r!==k.r||y.g!==k.g||y.b!==k.b||y.a!==k.a||this.dirty)&&(this.gl.blendColor(y.r,y.g,y.b,y.a),this.current=y,this.dirty=!1)},x}(et),gi=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return this.gl.FUNC_ADD},x.prototype.set=function(y){(y!==this.current||this.dirty)&&(this.gl.blendEquation(y),this.current=y,this.dirty=!1)},x}(et),Xe=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return!1},x.prototype.set=function(y){if(y!==this.current||this.dirty){var k=this.gl;y?k.enable(k.CULL_FACE):k.disable(k.CULL_FACE),this.current=y,this.dirty=!1}},x}(et),st=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return this.gl.BACK},x.prototype.set=function(y){(y!==this.current||this.dirty)&&(this.gl.cullFace(y),this.current=y,this.dirty=!1)},x}(et),Mt=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return this.gl.CCW},x.prototype.set=function(y){(y!==this.current||this.dirty)&&(this.gl.frontFace(y),this.current=y,this.dirty=!1)},x}(et),nr=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return null},x.prototype.set=function(y){(y!==this.current||this.dirty)&&(this.gl.useProgram(y),this.current=y,this.dirty=!1)},x}(et),Pr=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return this.gl.TEXTURE0},x.prototype.set=function(y){(y!==this.current||this.dirty)&&(this.gl.activeTexture(y),this.current=y,this.dirty=!1)},x}(et),qr=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){var y=this.gl;return[0,0,y.drawingBufferWidth,y.drawingBufferHeight]},x.prototype.set=function(y){var k=this.current;(y[0]!==k[0]||y[1]!==k[1]||y[2]!==k[2]||y[3]!==k[3]||this.dirty)&&(this.gl.viewport(y[0],y[1],y[2],y[3]),this.current=y,this.dirty=!1)},x}(et),Nn=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return null},x.prototype.set=function(y){if(y!==this.current||this.dirty){var k=this.gl;k.bindFramebuffer(k.FRAMEBUFFER,y),this.current=y,this.dirty=!1}},x}(et),Nr=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return null},x.prototype.set=function(y){if(y!==this.current||this.dirty){var k=this.gl;k.bindRenderbuffer(k.RENDERBUFFER,y),this.current=y,this.dirty=!1}},x}(et),Fn=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return null},x.prototype.set=function(y){if(y!==this.current||this.dirty){var k=this.gl;k.bindTexture(k.TEXTURE_2D,y),this.current=y,this.dirty=!1}},x}(et),Fr=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return null},x.prototype.set=function(y){if(y!==this.current||this.dirty){var k=this.gl;k.bindBuffer(k.ARRAY_BUFFER,y),this.current=y,this.dirty=!1}},x}(et),mn=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return null},x.prototype.set=function(y){var k=this.gl;k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,y),this.current=y,this.dirty=!1},x}(et),bn=function(m){function x(y){m.call(this,y),this.vao=y.extVertexArrayObject}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return null},x.prototype.set=function(y){this.vao&&(y!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(y),this.current=y,this.dirty=!1)},x}(et),vi=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return 4},x.prototype.set=function(y){if(y!==this.current||this.dirty){var k=this.gl;k.pixelStorei(k.UNPACK_ALIGNMENT,y),this.current=y,this.dirty=!1}},x}(et),Ri=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return!1},x.prototype.set=function(y){if(y!==this.current||this.dirty){var k=this.gl;k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,y),this.current=y,this.dirty=!1}},x}(et),La=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return!1},x.prototype.set=function(y){if(y!==this.current||this.dirty){var k=this.gl;k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL,y),this.current=y,this.dirty=!1}},x}(et),li=function(m){function x(y,k){m.call(this,y),this.context=y,this.parent=k}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getDefault=function(){return null},x}(et),ke=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.setDirty=function(){this.dirty=!0},x.prototype.set=function(y){if(y!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var k=this.gl;k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,y,0),this.current=y,this.dirty=!1}},x}(li),Ie=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.set=function(y){if(y!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var k=this.gl;k.framebufferRenderbuffer(k.FRAMEBUFFER,k.DEPTH_ATTACHMENT,k.RENDERBUFFER,y),this.current=y,this.dirty=!1}},x}(li),Fe=function(m,x,y,k){this.context=m,this.width=x,this.height=y;var P=this.framebuffer=m.gl.createFramebuffer();this.colorAttachment=new ke(m,P),k&&(this.depthAttachment=new Ie(m,P))};Fe.prototype.destroy=function(){var m=this.context.gl,x=this.colorAttachment.get();if(x&&m.deleteTexture(x),this.depthAttachment){var y=this.depthAttachment.get();y&&m.deleteRenderbuffer(y)}m.deleteFramebuffer(this.framebuffer)};var Ye=function(m,x,y){this.func=m,this.mask=x,this.range=y};Ye.ReadOnly=!1,Ye.ReadWrite=!0,Ye.disabled=new Ye(519,Ye.ReadOnly,[0,1]);var ot=function(m,x,y,k,P,H){this.test=m,this.ref=x,this.mask=y,this.fail=k,this.depthFail=P,this.pass=H};ot.disabled=new ot({func:519,mask:0},0,0,7680,7680,7680);var yt=function(m,x,y){this.blendFunction=m,this.blendColor=x,this.mask=y};yt.disabled=new yt(yt.Replace=[1,0],_.Color.transparent,[!1,!1,!1,!1]),yt.unblended=new yt(yt.Replace,_.Color.transparent,[!0,!0,!0,!0]),yt.alphaBlended=new yt([1,771],_.Color.transparent,[!0,!0,!0,!0]);var mt=function(m,x,y){this.enable=m,this.mode=x,this.frontFace=y};mt.disabled=new mt(!1,1029,2305),mt.backCCW=new mt(!0,1029,2305);var qe=function(m){this.gl=m,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new pt(this),this.clearDepth=new er(this),this.clearStencil=new Lr(this),this.colorMask=new ki(this),this.depthMask=new zr(this),this.stencilMask=new $n(this),this.stencilFunc=new Dt(this),this.stencilOp=new Et(this),this.stencilTest=new Er(this),this.depthRange=new on(this),this.depthTest=new Vr(this),this.depthFunc=new yn(this),this.blend=new Rn(this),this.blendFunc=new mi(this),this.blendColor=new fo(this),this.blendEquation=new gi(this),this.cullFace=new Xe(this),this.cullFaceSide=new st(this),this.frontFace=new Mt(this),this.program=new nr(this),this.activeTexture=new Pr(this),this.viewport=new qr(this),this.bindFramebuffer=new Nn(this),this.bindRenderbuffer=new Nr(this),this.bindTexture=new Fn(this),this.bindVertexBuffer=new Fr(this),this.bindElementBuffer=new mn(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new bn(this),this.pixelStoreUnpack=new vi(this),this.pixelStoreUnpackPremultiplyAlpha=new Ri(this),this.pixelStoreUnpackFlipY=new La(this),this.extTextureFilterAnisotropic=m.getExtension("EXT_texture_filter_anisotropic")||m.getExtension("MOZ_EXT_texture_filter_anisotropic")||m.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=m.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=m.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(m.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=m.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=m.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=m.getParameter(m.MAX_TEXTURE_SIZE)};qe.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},qe.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},qe.prototype.createIndexBuffer=function(m,x){return new _r(this,m,x)},qe.prototype.createVertexBuffer=function(m,x,y){return new kr(this,m,x,y)},qe.prototype.createRenderbuffer=function(m,x,y){var k=this.gl,P=k.createRenderbuffer();return this.bindRenderbuffer.set(P),k.renderbufferStorage(k.RENDERBUFFER,m,x,y),this.bindRenderbuffer.set(null),P},qe.prototype.createFramebuffer=function(m,x,y){return new Fe(this,m,x,y)},qe.prototype.clear=function(m){var x=m.color,y=m.depth,k=this.gl,P=0;x&&(P|=k.COLOR_BUFFER_BIT,this.clearColor.set(x),this.colorMask.set([!0,!0,!0,!0])),y!==void 0&&(P|=k.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(y),this.depthMask.set(!0)),k.clear(P)},qe.prototype.setCullFace=function(m){m.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(m.mode),this.frontFace.set(m.frontFace))},qe.prototype.setDepthMode=function(m){m.func!==this.gl.ALWAYS||m.mask?(this.depthTest.set(!0),this.depthFunc.set(m.func),this.depthMask.set(m.mask),this.depthRange.set(m.range)):this.depthTest.set(!1)},qe.prototype.setStencilMode=function(m){m.test.func!==this.gl.ALWAYS||m.mask?(this.stencilTest.set(!0),this.stencilMask.set(m.mask),this.stencilOp.set([m.fail,m.depthFail,m.pass]),this.stencilFunc.set({func:m.test.func,ref:m.ref,mask:m.test.mask})):this.stencilTest.set(!1)},qe.prototype.setColorMode=function(m){_.deepEqual(m.blendFunction,yt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(m.blendFunction),this.blendColor.set(m.blendColor)),this.colorMask.set(m.mask)},qe.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Ke=function(m){function x(y,k,P){var H=this;m.call(this),this.id=y,this.dispatcher=P,this.on("data",function(X){X.dataType==="source"&&X.sourceDataType==="metadata"&&(H._sourceLoaded=!0),H._sourceLoaded&&!H._paused&&X.dataType==="source"&&X.sourceDataType==="content"&&(H.reload(),H.transform&&H.update(H.transform))}),this.on("error",function(){H._sourceErrored=!0}),this._source=function(X,ae,xe,Oe){var He=new Wt[ae.type](X,ae,xe,Oe);if(He.id!==X)throw new Error("Expected Source id to be "+X+" instead of "+He.id);return _.bindAll(["load","abort","unload","serialize","prepare"],He),He}(y,k,P,this),this._tiles={},this._cache=new vr(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new _.SourceFeatureState}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.onAdd=function(y){this.map=y,this._maxTileCacheSize=y?y._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(y)},x.prototype.onRemove=function(y){this._source&&this._source.onRemove&&this._source.onRemove(y)},x.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var y in this._tiles){var k=this._tiles[y];if(k.state!=="loaded"&&k.state!=="errored")return!1}return!0},x.prototype.getSource=function(){return this._source},x.prototype.pause=function(){this._paused=!0},x.prototype.resume=function(){if(this._paused){var y=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,y&&this.reload(),this.transform&&this.update(this.transform)}},x.prototype._loadTile=function(y,k){return this._source.loadTile(y,k)},x.prototype._unloadTile=function(y){if(this._source.unloadTile)return this._source.unloadTile(y,function(){})},x.prototype._abortTile=function(y){if(this._source.abortTile)return this._source.abortTile(y,function(){})},x.prototype.serialize=function(){return this._source.serialize()},x.prototype.prepare=function(y){for(var k in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var P=this._tiles[k];P.upload(y),P.prepare(this.map.style.imageManager)}},x.prototype.getIds=function(){return _.values(this._tiles).map(function(y){return y.tileID}).sort(Ot).map(function(y){return y.key})},x.prototype.getRenderableIds=function(y){var k=this,P=[];for(var H in this._tiles)this._isIdRenderable(H,y)&&P.push(this._tiles[H]);return y?P.sort(function(X,ae){var xe=X.tileID,Oe=ae.tileID,He=new _.Point(xe.canonical.x,xe.canonical.y)._rotate(k.transform.angle),We=new _.Point(Oe.canonical.x,Oe.canonical.y)._rotate(k.transform.angle);return xe.overscaledZ-Oe.overscaledZ||We.y-He.y||We.x-He.x}).map(function(X){return X.tileID.key}):P.map(function(X){return X.tileID}).sort(Ot).map(function(X){return X.key})},x.prototype.hasRenderableParent=function(y){var k=this.findLoadedParent(y,0);return!!k&&this._isIdRenderable(k.tileID.key)},x.prototype._isIdRenderable=function(y,k){return this._tiles[y]&&this._tiles[y].hasData()&&!this._coveredTiles[y]&&(k||!this._tiles[y].holdingForFade())},x.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var y in this._cache.reset(),this._tiles)this._tiles[y].state!=="errored"&&this._reloadTile(y,"reloading")},x.prototype._reloadTile=function(y,k){var P=this._tiles[y];P&&(P.state!=="loading"&&(P.state=k),this._loadTile(P,this._tileLoaded.bind(this,P,y,k)))},x.prototype._tileLoaded=function(y,k,P,H){if(H)return y.state="errored",void(H.status!==404?this._source.fire(new _.ErrorEvent(H,{tile:y})):this.update(this.transform));y.timeAdded=_.browser.now(),P==="expired"&&(y.refreshedUponExpiration=!0),this._setTileReloadTimer(k,y),this.getSource().type==="raster-dem"&&y.dem&&this._backfillDEM(y),this._state.initializeTileState(y,this.map?this.map.painter:null),this._source.fire(new _.Event("data",{dataType:"source",tile:y,coord:y.tileID}))},x.prototype._backfillDEM=function(y){for(var k=this.getRenderableIds(),P=0;P<k.length;P++){var H=k[P];if(y.neighboringTiles&&y.neighboringTiles[H]){var X=this.getTileByID(H);ae(y,X),ae(X,y)}}function ae(xe,Oe){xe.needsHillshadePrepare=!0;var He=Oe.tileID.canonical.x-xe.tileID.canonical.x,We=Oe.tileID.canonical.y-xe.tileID.canonical.y,Ze=Math.pow(2,xe.tileID.canonical.z),ht=Oe.tileID.key;He===0&&We===0||Math.abs(We)>1||(Math.abs(He)>1&&(Math.abs(He+Ze)===1?He+=Ze:Math.abs(He-Ze)===1&&(He-=Ze)),Oe.dem&&xe.dem&&(xe.dem.backfillBorder(Oe.dem,He,We),xe.neighboringTiles&&xe.neighboringTiles[ht]&&(xe.neighboringTiles[ht].backfilled=!0)))}},x.prototype.getTile=function(y){return this.getTileByID(y.key)},x.prototype.getTileByID=function(y){return this._tiles[y]},x.prototype._retainLoadedChildren=function(y,k,P,H){for(var X in this._tiles){var ae=this._tiles[X];if(!(H[X]||!ae.hasData()||ae.tileID.overscaledZ<=k||ae.tileID.overscaledZ>P)){for(var xe=ae.tileID;ae&&ae.tileID.overscaledZ>k+1;){var Oe=ae.tileID.scaledTo(ae.tileID.overscaledZ-1);(ae=this._tiles[Oe.key])&&ae.hasData()&&(xe=Oe)}for(var He=xe;He.overscaledZ>k;)if(y[(He=He.scaledTo(He.overscaledZ-1)).key]){H[xe.key]=xe;break}}}},x.prototype.findLoadedParent=function(y,k){if(y.key in this._loadedParentTiles){var P=this._loadedParentTiles[y.key];return P&&P.tileID.overscaledZ>=k?P:null}for(var H=y.overscaledZ-1;H>=k;H--){var X=y.scaledTo(H),ae=this._getLoadedTile(X);if(ae)return ae}},x.prototype._getLoadedTile=function(y){var k=this._tiles[y.key];return k&&k.hasData()?k:this._cache.getByKey(y.wrapped().key)},x.prototype.updateCacheSize=function(y){var k=Math.ceil(y.width/this._source.tileSize)+1,P=Math.ceil(y.height/this._source.tileSize)+1,H=Math.floor(k*P*5),X=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,H):H;this._cache.setMaxSize(X)},x.prototype.handleWrapJump=function(y){var k=Math.round((y-(this._prevLng===void 0?y:this._prevLng))/360);if(this._prevLng=y,k){var P={};for(var H in this._tiles){var X=this._tiles[H];X.tileID=X.tileID.unwrapTo(X.tileID.wrap+k),P[X.tileID.key]=X}for(var ae in this._tiles=P,this._timers)clearTimeout(this._timers[ae]),delete this._timers[ae];for(var xe in this._tiles)this._setTileReloadTimer(xe,this._tiles[xe])}},x.prototype.update=function(y){var k=this;if(this.transform=y,this._sourceLoaded&&!this._paused){var P;this.updateCacheSize(y),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?P=y.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(mr){return new _.OverscaledTileID(mr.canonical.z,mr.wrap,mr.canonical.z,mr.canonical.x,mr.canonical.y)}):(P=y.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(P=P.filter(function(mr){return k._source.hasTile(mr)}))):P=[];var H=y.coveringZoomLevel(this._source),X=Math.max(H-x.maxOverzooming,this._source.minzoom),ae=Math.max(H+x.maxUnderzooming,this._source.minzoom),xe=this._updateRetainedTiles(P,H);if(lr(this._source.type)){for(var Oe={},He={},We=0,Ze=Object.keys(xe);We<Ze.length;We+=1){var ht=Ze[We],lt=xe[ht],vt=this._tiles[ht];if(vt&&!(vt.fadeEndTime&&vt.fadeEndTime<=_.browser.now())){var nt=this.findLoadedParent(lt,X);nt&&(this._addTile(nt.tileID),Oe[nt.tileID.key]=nt.tileID),He[ht]=lt}}for(var bt in this._retainLoadedChildren(He,H,ae,xe),Oe)xe[bt]||(this._coveredTiles[bt]=!0,xe[bt]=Oe[bt])}for(var St in xe)this._tiles[St].clearFadeHold();for(var Ft=0,rr=_.keysDifference(this._tiles,xe);Ft<rr.length;Ft+=1){var Jt=rr[Ft],Zt=this._tiles[Jt];Zt.hasSymbolBuckets&&!Zt.holdingForFade()?Zt.setHoldDuration(this.map._fadeDuration):Zt.hasSymbolBuckets&&!Zt.symbolFadeFinished()||this._removeTile(Jt)}this._updateLoadedParentTileCache()}},x.prototype.releaseSymbolFadeTiles=function(){for(var y in this._tiles)this._tiles[y].holdingForFade()&&this._removeTile(y)},x.prototype._updateRetainedTiles=function(y,k){for(var P={},H={},X=Math.max(k-x.maxOverzooming,this._source.minzoom),ae=Math.max(k+x.maxUnderzooming,this._source.minzoom),xe={},Oe=0,He=y;Oe<He.length;Oe+=1){var We=He[Oe],Ze=this._addTile(We);P[We.key]=We,Ze.hasData()||k<this._source.maxzoom&&(xe[We.key]=We)}this._retainLoadedChildren(xe,k,ae,P);for(var ht=0,lt=y;ht<lt.length;ht+=1){var vt=lt[ht],nt=this._tiles[vt.key];if(!nt.hasData()){if(k+1>this._source.maxzoom){var bt=vt.children(this._source.maxzoom)[0],St=this.getTile(bt);if(St&&St.hasData()){P[bt.key]=bt;continue}}else{var Ft=vt.children(this._source.maxzoom);if(P[Ft[0].key]&&P[Ft[1].key]&&P[Ft[2].key]&&P[Ft[3].key])continue}for(var rr=nt.wasRequested(),Jt=vt.overscaledZ-1;Jt>=X;--Jt){var Zt=vt.scaledTo(Jt);if(H[Zt.key]||(H[Zt.key]=!0,!(nt=this.getTile(Zt))&&rr&&(nt=this._addTile(Zt)),nt&&(P[Zt.key]=Zt,rr=nt.wasRequested(),nt.hasData())))break}}}return P},x.prototype._updateLoadedParentTileCache=function(){for(var y in this._loadedParentTiles={},this._tiles){for(var k=[],P=void 0,H=this._tiles[y].tileID;H.overscaledZ>0;){if(H.key in this._loadedParentTiles){P=this._loadedParentTiles[H.key];break}k.push(H.key);var X=H.scaledTo(H.overscaledZ-1);if(P=this._getLoadedTile(X))break;H=X}for(var ae=0,xe=k;ae<xe.length;ae+=1)this._loadedParentTiles[xe[ae]]=P}},x.prototype._addTile=function(y){var k=this._tiles[y.key];if(k)return k;(k=this._cache.getAndRemove(y))&&(this._setTileReloadTimer(y.key,k),k.tileID=y,this._state.initializeTileState(k,this.map?this.map.painter:null),this._cacheTimers[y.key]&&(clearTimeout(this._cacheTimers[y.key]),delete this._cacheTimers[y.key],this._setTileReloadTimer(y.key,k)));var P=Boolean(k);return P||(k=new _.Tile(y,this._source.tileSize*y.overscaleFactor()),this._loadTile(k,this._tileLoaded.bind(this,k,y.key,k.state))),k?(k.uses++,this._tiles[y.key]=k,P||this._source.fire(new _.Event("dataloading",{tile:k,coord:k.tileID,dataType:"source"})),k):null},x.prototype._setTileReloadTimer=function(y,k){var P=this;y in this._timers&&(clearTimeout(this._timers[y]),delete this._timers[y]);var H=k.getExpiryTimeout();H&&(this._timers[y]=setTimeout(function(){P._reloadTile(y,"expired"),delete P._timers[y]},H))},x.prototype._removeTile=function(y){var k=this._tiles[y];k&&(k.uses--,delete this._tiles[y],this._timers[y]&&(clearTimeout(this._timers[y]),delete this._timers[y]),k.uses>0||(k.hasData()&&k.state!=="reloading"?this._cache.add(k.tileID,k,k.getExpiryTimeout()):(k.aborted=!0,this._abortTile(k),this._unloadTile(k))))},x.prototype.clearTiles=function(){for(var y in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(y);this._cache.reset()},x.prototype.tilesIn=function(y,k,P){var H=this,X=[],ae=this.transform;if(!ae)return X;for(var xe=P?ae.getCameraQueryGeometry(y):y,Oe=y.map(function(Jt){return ae.pointCoordinate(Jt)}),He=xe.map(function(Jt){return ae.pointCoordinate(Jt)}),We=this.getIds(),Ze=1/0,ht=1/0,lt=-1/0,vt=-1/0,nt=0,bt=He;nt<bt.length;nt+=1){var St=bt[nt];Ze=Math.min(Ze,St.x),ht=Math.min(ht,St.y),lt=Math.max(lt,St.x),vt=Math.max(vt,St.y)}for(var Ft=function(Jt){var Zt=H._tiles[We[Jt]];if(!Zt.holdingForFade()){var mr=Zt.tileID,yr=Math.pow(2,ae.zoom-Zt.tileID.overscaledZ),br=k*Zt.queryPadding*_.EXTENT/Zt.tileSize/yr,$r=[mr.getTilePoint(new _.MercatorCoordinate(Ze,ht)),mr.getTilePoint(new _.MercatorCoordinate(lt,vt))];if($r[0].x-br<_.EXTENT&&$r[0].y-br<_.EXTENT&&$r[1].x+br>=0&&$r[1].y+br>=0){var Gr=Oe.map(function(dn){return mr.getTilePoint(dn)}),hn=He.map(function(dn){return mr.getTilePoint(dn)});X.push({tile:Zt,tileID:mr,queryGeometry:Gr,cameraQueryGeometry:hn,scale:yr})}}},rr=0;rr<We.length;rr++)Ft(rr);return X},x.prototype.getVisibleCoordinates=function(y){for(var k=this,P=this.getRenderableIds(y).map(function(xe){return k._tiles[xe].tileID}),H=0,X=P;H<X.length;H+=1){var ae=X[H];ae.posMatrix=this.transform.calculatePosMatrix(ae.toUnwrapped())}return P},x.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(lr(this._source.type))for(var y in this._tiles){var k=this._tiles[y];if(k.fadeEndTime!==void 0&&k.fadeEndTime>=_.browser.now())return!0}return!1},x.prototype.setFeatureState=function(y,k,P){this._state.updateState(y=y||"_geojsonTileLayer",k,P)},x.prototype.removeFeatureState=function(y,k,P){this._state.removeFeatureState(y=y||"_geojsonTileLayer",k,P)},x.prototype.getFeatureState=function(y,k){return this._state.getState(y=y||"_geojsonTileLayer",k)},x.prototype.setDependencies=function(y,k,P){var H=this._tiles[y];H&&H.setDependencies(k,P)},x.prototype.reloadTilesForDependencies=function(y,k){for(var P in this._tiles)this._tiles[P].hasDependency(y,k)&&this._reloadTile(P,"reloading");this._cache.filter(function(H){return!H.hasDependency(y,k)})},x}(_.Evented);function Ot(m,x){var y=Math.abs(2*m.wrap)-+(m.wrap<0),k=Math.abs(2*x.wrap)-+(x.wrap<0);return m.overscaledZ-x.overscaledZ||k-y||x.canonical.y-m.canonical.y||x.canonical.x-m.canonical.x}function lr(m){return m==="raster"||m==="image"||m==="video"}function jt(){return new _.window.Worker(Hc.workerUrl)}Ke.maxOverzooming=10,Ke.maxUnderzooming=3;var Bt="mapboxgl_preloaded_worker_pool",hr=function(){this.active={}};hr.prototype.acquire=function(m){if(!this.workers)for(this.workers=[];this.workers.length<hr.workerCount;)this.workers.push(new jt);return this.active[m]=!0,this.workers.slice()},hr.prototype.release=function(m){delete this.active[m],this.numActive()===0&&(this.workers.forEach(function(x){x.terminate()}),this.workers=null)},hr.prototype.isPreloaded=function(){return!!this.active[Bt]},hr.prototype.numActive=function(){return Object.keys(this.active).length};var Ae,je=Math.floor(_.browser.hardwareConcurrency/2);function Pe(){return Ae||(Ae=new hr),Ae}function se(m,x){var y={};for(var k in m)k!=="ref"&&(y[k]=m[k]);return _.refProperties.forEach(function(P){P in x&&(y[P]=x[P])}),y}function ie(m){m=m.slice();for(var x=Object.create(null),y=0;y<m.length;y++)x[m[y].id]=m[y];for(var k=0;k<m.length;k++)"ref"in m[k]&&(m[k]=se(m[k],x[m[k].ref]));return m}hr.workerCount=Math.max(Math.min(je,6),1);var ye={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ge(m,x,y){y.push({command:ye.addSource,args:[m,x[m]]})}function dt(m,x,y){x.push({command:ye.removeSource,args:[m]}),y[m]=!0}function Gt(m,x,y,k){dt(m,y,k),Ge(m,x,y)}function tr(m,x,y){var k;for(k in m[y])if(m[y].hasOwnProperty(k)&&k!=="data"&&!_.deepEqual(m[y][k],x[y][k]))return!1;for(k in x[y])if(x[y].hasOwnProperty(k)&&k!=="data"&&!_.deepEqual(m[y][k],x[y][k]))return!1;return!0}function Or(m,x,y,k,P,H){var X;for(X in x=x||{},m=m||{})m.hasOwnProperty(X)&&(_.deepEqual(m[X],x[X])||y.push({command:H,args:[k,X,x[X],P]}));for(X in x)x.hasOwnProperty(X)&&!m.hasOwnProperty(X)&&(_.deepEqual(m[X],x[X])||y.push({command:H,args:[k,X,x[X],P]}))}function Ur(m){return m.id}function fr(m,x){return m[x.id]=x,m}var En=function(m,x){this.reset(m,x)};En.prototype.reset=function(m,x){this.points=m||[],this._distances=[0];for(var y=1;y<this.points.length;y++)this._distances[y]=this._distances[y-1]+this.points[y].dist(this.points[y-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(x||0,.5*this.length),this.paddedLength=this.length-2*this.padding},En.prototype.lerp=function(m){if(this.points.length===1)return this.points[0];m=_.clamp(m,0,1);for(var x=1,y=this._distances[x],k=m*this.paddedLength+this.padding;y<k&&x<this._distances.length;)y=this._distances[++x];var P=x-1,H=this._distances[P],X=y-H,ae=X>0?(k-H)/X:0;return this.points[P].mult(1-ae).add(this.points[x].mult(ae))};var Dn=function(m,x,y){var k=this.boxCells=[],P=this.circleCells=[];this.xCellCount=Math.ceil(m/y),this.yCellCount=Math.ceil(x/y);for(var H=0;H<this.xCellCount*this.yCellCount;H++)k.push([]),P.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=m,this.height=x,this.xScale=this.xCellCount/m,this.yScale=this.yCellCount/x,this.boxUid=0,this.circleUid=0};function an(m,x,y,k,P){var H=_.create();return x?(_.scale(H,H,[1/P,1/P,1]),y||_.rotateZ(H,H,k.angle)):_.multiply(H,k.labelPlaneMatrix,m),H}function Qr(m,x,y,k,P){if(x){var H=_.clone(m);return _.scale(H,H,[P,P,1]),y||_.rotateZ(H,H,-k.angle),H}return k.glCoordMatrix}function sn(m,x){var y=[m.x,m.y,0,1];Ki(y,y,x);var k=y[3];return{point:new _.Point(y[0]/k,y[1]/k),signedDistanceFromCamera:k}}function Xn(m,x){return .5+m/x*.5}function zo(m,x){var y=m[0]/m[3],k=m[1]/m[3];return y>=-x[0]&&y<=x[0]&&k>=-x[1]&&k<=x[1]}function As(m,x,y,k,P,H,X,ae){var xe=k?m.textSizeData:m.iconSizeData,Oe=_.evaluateSizeForZoom(xe,y.transform.zoom),He=[256/y.width*2+1,256/y.height*2+1],We=k?m.text.dynamicLayoutVertexArray:m.icon.dynamicLayoutVertexArray;We.clear();for(var Ze=m.lineVertexArray,ht=k?m.text.placedSymbolArray:m.icon.placedSymbolArray,lt=y.transform.width/y.transform.height,vt=!1,nt=0;nt<ht.length;nt++){var bt=ht.get(nt);if(bt.hidden||bt.writingMode===_.WritingMode.vertical&&!vt)ho(bt.numGlyphs,We);else{vt=!1;var St=[bt.anchorX,bt.anchorY,0,1];if(_.transformMat4(St,St,x),zo(St,He)){var Ft=Xn(y.transform.cameraToCenterDistance,St[3]),rr=_.evaluateSizeForFeature(xe,Oe,bt),Jt=X?rr/Ft:rr*Ft,Zt=new _.Point(bt.anchorX,bt.anchorY),mr=sn(Zt,P).point,yr={},br=ya(bt,Jt,!1,ae,x,P,H,m.glyphOffsetArray,Ze,We,mr,Zt,yr,lt);vt=br.useVertical,(br.notEnoughRoom||vt||br.needsFlipping&&ya(bt,Jt,!0,ae,x,P,H,m.glyphOffsetArray,Ze,We,mr,Zt,yr,lt).notEnoughRoom)&&ho(bt.numGlyphs,We)}else ho(bt.numGlyphs,We)}}k?m.text.dynamicLayoutVertexBuffer.updateData(We):m.icon.dynamicLayoutVertexBuffer.updateData(We)}function ei(m,x,y,k,P,H,X,ae,xe,Oe,He){var We=ae.glyphStartIndex+ae.numGlyphs,Ze=ae.lineStartIndex,ht=ae.lineStartIndex+ae.lineLength,lt=x.getoffsetX(ae.glyphStartIndex),vt=x.getoffsetX(We-1),nt=Gi(m*lt,y,k,P,H,X,ae.segment,Ze,ht,xe,Oe,He);if(!nt)return null;var bt=Gi(m*vt,y,k,P,H,X,ae.segment,Ze,ht,xe,Oe,He);return bt?{first:nt,last:bt}:null}function Ci(m,x,y,k){return m===_.WritingMode.horizontal&&Math.abs(y.y-x.y)>Math.abs(y.x-x.x)*k?{useVertical:!0}:(m===_.WritingMode.vertical?x.y<y.y:x.x>y.x)?{needsFlipping:!0}:null}function ya(m,x,y,k,P,H,X,ae,xe,Oe,He,We,Ze,ht){var lt,vt=x/24,nt=m.lineOffsetX*vt,bt=m.lineOffsetY*vt;if(m.numGlyphs>1){var St=m.glyphStartIndex+m.numGlyphs,Ft=m.lineStartIndex,rr=m.lineStartIndex+m.lineLength,Jt=ei(vt,ae,nt,bt,y,He,We,m,xe,H,Ze);if(!Jt)return{notEnoughRoom:!0};var Zt=sn(Jt.first.point,X).point,mr=sn(Jt.last.point,X).point;if(k&&!y){var yr=Ci(m.writingMode,Zt,mr,ht);if(yr)return yr}lt=[Jt.first];for(var br=m.glyphStartIndex+1;br<St-1;br++)lt.push(Gi(vt*ae.getoffsetX(br),nt,bt,y,He,We,m.segment,Ft,rr,xe,H,Ze));lt.push(Jt.last)}else{if(k&&!y){var $r=sn(We,P).point,Gr=m.lineStartIndex+m.segment+1,hn=new _.Point(xe.getx(Gr),xe.gety(Gr)),dn=sn(hn,P),Bn=dn.signedDistanceFromCamera>0?dn.point:ql(We,hn,$r,1,P),Kr=Ci(m.writingMode,$r,Bn,ht);if(Kr)return Kr}var Mn=Gi(vt*ae.getoffsetX(m.glyphStartIndex),nt,bt,y,He,We,m.segment,m.lineStartIndex,m.lineStartIndex+m.lineLength,xe,H,Ze);if(!Mn)return{notEnoughRoom:!0};lt=[Mn]}for(var Vn=0,On=lt;Vn<On.length;Vn+=1){var Ln=On[Vn];_.addDynamicAttributes(Oe,Ln.point,Ln.angle)}return{}}function ql(m,x,y,k,P){var H=sn(m.add(m.sub(x)._unit()),P).point,X=y.sub(H);return y.add(X._mult(k/X.mag()))}function Gi(m,x,y,k,P,H,X,ae,xe,Oe,He,We){var Ze=k?m-x:m+x,ht=Ze>0?1:-1,lt=0;k&&(ht*=-1,lt=Math.PI),ht<0&&(lt+=Math.PI);for(var vt=ht>0?ae+X:ae+X+1,nt=P,bt=P,St=0,Ft=0,rr=Math.abs(Ze),Jt=[];St+Ft<=rr;){if((vt+=ht)<ae||vt>=xe)return null;if(bt=nt,Jt.push(nt),(nt=We[vt])===void 0){var Zt=new _.Point(Oe.getx(vt),Oe.gety(vt)),mr=sn(Zt,He);if(mr.signedDistanceFromCamera>0)nt=We[vt]=mr.point;else{var yr=vt-ht;nt=ql(St===0?H:new _.Point(Oe.getx(yr),Oe.gety(yr)),Zt,bt,rr-St+1,He)}}St+=Ft,Ft=bt.dist(nt)}var br=(rr-St)/Ft,$r=nt.sub(bt),Gr=$r.mult(br)._add(bt);Gr._add($r._unit()._perp()._mult(y*ht));var hn=lt+Math.atan2(nt.y-bt.y,nt.x-bt.x);return Jt.push(Gr),{point:Gr,angle:hn,path:Jt}}Dn.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Dn.prototype.insert=function(m,x,y,k,P){this._forEachCell(x,y,k,P,this._insertBoxCell,this.boxUid++),this.boxKeys.push(m),this.bboxes.push(x),this.bboxes.push(y),this.bboxes.push(k),this.bboxes.push(P)},Dn.prototype.insertCircle=function(m,x,y,k){this._forEachCell(x-k,y-k,x+k,y+k,this._insertCircleCell,this.circleUid++),this.circleKeys.push(m),this.circles.push(x),this.circles.push(y),this.circles.push(k)},Dn.prototype._insertBoxCell=function(m,x,y,k,P,H){this.boxCells[P].push(H)},Dn.prototype._insertCircleCell=function(m,x,y,k,P,H){this.circleCells[P].push(H)},Dn.prototype._query=function(m,x,y,k,P,H){if(y<0||m>this.width||k<0||x>this.height)return!P&&[];var X=[];if(m<=0&&x<=0&&this.width<=y&&this.height<=k){if(P)return!0;for(var ae=0;ae<this.boxKeys.length;ae++)X.push({key:this.boxKeys[ae],x1:this.bboxes[4*ae],y1:this.bboxes[4*ae+1],x2:this.bboxes[4*ae+2],y2:this.bboxes[4*ae+3]});for(var xe=0;xe<this.circleKeys.length;xe++){var Oe=this.circles[3*xe],He=this.circles[3*xe+1],We=this.circles[3*xe+2];X.push({key:this.circleKeys[xe],x1:Oe-We,y1:He-We,x2:Oe+We,y2:He+We})}return H?X.filter(H):X}return this._forEachCell(m,x,y,k,this._queryCell,X,{hitTest:P,seenUids:{box:{},circle:{}}},H),P?X.length>0:X},Dn.prototype._queryCircle=function(m,x,y,k,P){var H=m-y,X=m+y,ae=x-y,xe=x+y;if(X<0||H>this.width||xe<0||ae>this.height)return!k&&[];var Oe=[];return this._forEachCell(H,ae,X,xe,this._queryCellCircle,Oe,{hitTest:k,circle:{x:m,y:x,radius:y},seenUids:{box:{},circle:{}}},P),k?Oe.length>0:Oe},Dn.prototype.query=function(m,x,y,k,P){return this._query(m,x,y,k,!1,P)},Dn.prototype.hitTest=function(m,x,y,k,P){return this._query(m,x,y,k,!0,P)},Dn.prototype.hitTestCircle=function(m,x,y,k){return this._queryCircle(m,x,y,!0,k)},Dn.prototype._queryCell=function(m,x,y,k,P,H,X,ae){var xe=X.seenUids,Oe=this.boxCells[P];if(Oe!==null)for(var He=this.bboxes,We=0,Ze=Oe;We<Ze.length;We+=1){var ht=Ze[We];if(!xe.box[ht]){xe.box[ht]=!0;var lt=4*ht;if(m<=He[lt+2]&&x<=He[lt+3]&&y>=He[lt+0]&&k>=He[lt+1]&&(!ae||ae(this.boxKeys[ht]))){if(X.hitTest)return H.push(!0),!0;H.push({key:this.boxKeys[ht],x1:He[lt],y1:He[lt+1],x2:He[lt+2],y2:He[lt+3]})}}}var vt=this.circleCells[P];if(vt!==null)for(var nt=this.circles,bt=0,St=vt;bt<St.length;bt+=1){var Ft=St[bt];if(!xe.circle[Ft]){xe.circle[Ft]=!0;var rr=3*Ft;if(this._circleAndRectCollide(nt[rr],nt[rr+1],nt[rr+2],m,x,y,k)&&(!ae||ae(this.circleKeys[Ft]))){if(X.hitTest)return H.push(!0),!0;var Jt=nt[rr],Zt=nt[rr+1],mr=nt[rr+2];H.push({key:this.circleKeys[Ft],x1:Jt-mr,y1:Zt-mr,x2:Jt+mr,y2:Zt+mr})}}}},Dn.prototype._queryCellCircle=function(m,x,y,k,P,H,X,ae){var xe=X.circle,Oe=X.seenUids,He=this.boxCells[P];if(He!==null)for(var We=this.bboxes,Ze=0,ht=He;Ze<ht.length;Ze+=1){var lt=ht[Ze];if(!Oe.box[lt]){Oe.box[lt]=!0;var vt=4*lt;if(this._circleAndRectCollide(xe.x,xe.y,xe.radius,We[vt+0],We[vt+1],We[vt+2],We[vt+3])&&(!ae||ae(this.boxKeys[lt])))return H.push(!0),!0}}var nt=this.circleCells[P];if(nt!==null)for(var bt=this.circles,St=0,Ft=nt;St<Ft.length;St+=1){var rr=Ft[St];if(!Oe.circle[rr]){Oe.circle[rr]=!0;var Jt=3*rr;if(this._circlesCollide(bt[Jt],bt[Jt+1],bt[Jt+2],xe.x,xe.y,xe.radius)&&(!ae||ae(this.circleKeys[rr])))return H.push(!0),!0}}},Dn.prototype._forEachCell=function(m,x,y,k,P,H,X,ae){for(var xe=this._convertToXCellCoord(m),Oe=this._convertToYCellCoord(x),He=this._convertToXCellCoord(y),We=this._convertToYCellCoord(k),Ze=xe;Ze<=He;Ze++)for(var ht=Oe;ht<=We;ht++)if(P.call(this,m,x,y,k,this.xCellCount*ht+Ze,H,X,ae))return},Dn.prototype._convertToXCellCoord=function(m){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(m*this.xScale)))},Dn.prototype._convertToYCellCoord=function(m){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(m*this.yScale)))},Dn.prototype._circlesCollide=function(m,x,y,k,P,H){var X=k-m,ae=P-x,xe=y+H;return xe*xe>X*X+ae*ae},Dn.prototype._circleAndRectCollide=function(m,x,y,k,P,H,X){var ae=(H-k)/2,xe=Math.abs(m-(k+ae));if(xe>ae+y)return!1;var Oe=(X-P)/2,He=Math.abs(x-(P+Oe));if(He>Oe+y)return!1;if(xe<=ae||He<=Oe)return!0;var We=xe-ae,Ze=He-Oe;return We*We+Ze*Ze<=y*y};var Bs=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ho(m,x){for(var y=0;y<m;y++){var k=x.length;x.resize(k+4),x.float32.set(Bs,3*k)}}function Ki(m,x,y){var k=x[0],P=x[1];return m[0]=y[0]*k+y[4]*P+y[12],m[1]=y[1]*k+y[5]*P+y[13],m[3]=y[3]*k+y[7]*P+y[15],m}var Do=function(m,x,y){x===void 0&&(x=new Dn(m.width+200,m.height+200,25)),y===void 0&&(y=new Dn(m.width+200,m.height+200,25)),this.transform=m,this.grid=x,this.ignoredGrid=y,this.pitchfactor=Math.cos(m._pitch)*m.cameraToCenterDistance,this.screenRightBoundary=m.width+100,this.screenBottomBoundary=m.height+100,this.gridRightBoundary=m.width+200,this.gridBottomBoundary=m.height+200};function ii(m,x,y){return x*(_.EXTENT/(m.tileSize*Math.pow(2,y-m.tileID.overscaledZ)))}Do.prototype.placeCollisionBox=function(m,x,y,k,P){var H=this.projectAndGetPerspectiveRatio(k,m.anchorPointX,m.anchorPointY),X=y*H.perspectiveRatio,ae=m.x1*X+H.point.x,xe=m.y1*X+H.point.y,Oe=m.x2*X+H.point.x,He=m.y2*X+H.point.y;return!this.isInsideGrid(ae,xe,Oe,He)||!x&&this.grid.hitTest(ae,xe,Oe,He,P)?{box:[],offscreen:!1}:{box:[ae,xe,Oe,He],offscreen:this.isOffscreen(ae,xe,Oe,He)}},Do.prototype.placeCollisionCircles=function(m,x,y,k,P,H,X,ae,xe,Oe,He,We,Ze){var ht=[],lt=new _.Point(x.anchorX,x.anchorY),vt=sn(lt,H),nt=Xn(this.transform.cameraToCenterDistance,vt.signedDistanceFromCamera),bt=(Oe?P/nt:P*nt)/_.ONE_EM,St=sn(lt,X).point,Ft=ei(bt,k,x.lineOffsetX*bt,x.lineOffsetY*bt,!1,St,lt,x,y,X,{}),rr=!1,Jt=!1,Zt=!0;if(Ft){for(var mr=.5*We*nt+Ze,yr=new _.Point(-100,-100),br=new _.Point(this.screenRightBoundary,this.screenBottomBoundary),$r=new En,Gr=Ft.first,hn=Ft.last,dn=[],Bn=Gr.path.length-1;Bn>=1;Bn--)dn.push(Gr.path[Bn]);for(var Kr=1;Kr<hn.path.length;Kr++)dn.push(hn.path[Kr]);var Mn=2.5*mr;if(ae){var Vn=dn.map(function(xs){return sn(xs,ae)});dn=Vn.some(function(xs){return xs.signedDistanceFromCamera<=0})?[]:Vn.map(function(xs){return xs.point})}var On=[];if(dn.length>0){for(var Ln=dn[0].clone(),Hn=dn[0].clone(),vn=1;vn<dn.length;vn++)Ln.x=Math.min(Ln.x,dn[vn].x),Ln.y=Math.min(Ln.y,dn[vn].y),Hn.x=Math.max(Hn.x,dn[vn].x),Hn.y=Math.max(Hn.y,dn[vn].y);On=Ln.x>=yr.x&&Hn.x<=br.x&&Ln.y>=yr.y&&Hn.y<=br.y?[dn]:Hn.x<yr.x||Ln.x>br.x||Hn.y<yr.y||Ln.y>br.y?[]:_.clipLine([dn],yr.x,yr.y,br.x,br.y)}for(var xn=0,ka=On;xn<ka.length;xn+=1){var So;$r.reset(ka[xn],.25*mr),So=$r.length<=.5*mr?1:Math.ceil($r.paddedLength/Mn)+1;for(var Qo=0;Qo<So;Qo++){var as=Qo/Math.max(So-1,1),_o=$r.lerp(as),To=_o.x+100,ss=_o.y+100;ht.push(To,ss,mr,0);var $a=To-mr,Qs=ss-mr,ls=To+mr,el=ss+mr;if(Zt=Zt&&this.isOffscreen($a,Qs,ls,el),Jt=Jt||this.isInsideGrid($a,Qs,ls,el),!m&&this.grid.hitTestCircle(To,ss,mr,He)&&(rr=!0,!xe))return{circles:[],offscreen:!1,collisionDetected:rr}}}}return{circles:!xe&&rr||!Jt?[]:ht,offscreen:Zt,collisionDetected:rr}},Do.prototype.queryRenderedSymbols=function(m){if(m.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var x=[],y=1/0,k=1/0,P=-1/0,H=-1/0,X=0,ae=m;X<ae.length;X+=1){var xe=ae[X],Oe=new _.Point(xe.x+100,xe.y+100);y=Math.min(y,Oe.x),k=Math.min(k,Oe.y),P=Math.max(P,Oe.x),H=Math.max(H,Oe.y),x.push(Oe)}for(var He={},We={},Ze=0,ht=this.grid.query(y,k,P,H).concat(this.ignoredGrid.query(y,k,P,H));Ze<ht.length;Ze+=1){var lt=ht[Ze],vt=lt.key;if(He[vt.bucketInstanceId]===void 0&&(He[vt.bucketInstanceId]={}),!He[vt.bucketInstanceId][vt.featureIndex]){var nt=[new _.Point(lt.x1,lt.y1),new _.Point(lt.x2,lt.y1),new _.Point(lt.x2,lt.y2),new _.Point(lt.x1,lt.y2)];_.polygonIntersectsPolygon(x,nt)&&(He[vt.bucketInstanceId][vt.featureIndex]=!0,We[vt.bucketInstanceId]===void 0&&(We[vt.bucketInstanceId]=[]),We[vt.bucketInstanceId].push(vt.featureIndex))}}return We},Do.prototype.insertCollisionBox=function(m,x,y,k,P){(x?this.ignoredGrid:this.grid).insert({bucketInstanceId:y,featureIndex:k,collisionGroupID:P},m[0],m[1],m[2],m[3])},Do.prototype.insertCollisionCircles=function(m,x,y,k,P){for(var H=x?this.ignoredGrid:this.grid,X={bucketInstanceId:y,featureIndex:k,collisionGroupID:P},ae=0;ae<m.length;ae+=4)H.insertCircle(X,m[ae],m[ae+1],m[ae+2])},Do.prototype.projectAndGetPerspectiveRatio=function(m,x,y){var k=[x,y,0,1];return Ki(k,k,m),{point:new _.Point((k[0]/k[3]+1)/2*this.transform.width+100,(-k[1]/k[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/k[3]*.5}},Do.prototype.isOffscreen=function(m,x,y,k){return y<100||m>=this.screenRightBoundary||k<100||x>this.screenBottomBoundary},Do.prototype.isInsideGrid=function(m,x,y,k){return y>=0&&m<this.gridRightBoundary&&k>=0&&x<this.gridBottomBoundary},Do.prototype.getViewportMatrix=function(){var m=_.identity([]);return _.translate(m,m,[-100,-100,0]),m};var Pa=function(m,x,y,k){this.opacity=m?Math.max(0,Math.min(1,m.opacity+(m.placed?x:-x))):k&&y?1:0,this.placed=y};Pa.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Ua=function(m,x,y,k,P){this.text=new Pa(m?m.text:null,x,y,P),this.icon=new Pa(m?m.icon:null,x,k,P)};Ua.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var ku=function(m,x,y){this.text=m,this.icon=x,this.skipFade=y},ro=function(){this.invProjMatrix=_.create(),this.viewportMatrix=_.create(),this.circles=[]},Qc=function(m,x,y,k,P){this.bucketInstanceId=m,this.featureIndex=x,this.sourceLayerIndex=y,this.bucketIndex=k,this.tileID=P},ba=function(m){this.crossSourceCollisions=m,this.maxGroupID=0,this.collisionGroups={}};function Oo(m,x,y,k,P){var H=_.getAnchorAlignment(m),X=-(H.horizontalAlign-.5)*x,ae=-(H.verticalAlign-.5)*y,xe=_.evaluateVariableOffset(m,k);return new _.Point(X+xe[0]*P,ae+xe[1]*P)}function ts(m,x,y,k,P,H){var X=m.x1,ae=m.x2,xe=m.y1,Oe=m.y2,He=m.anchorPointX,We=m.anchorPointY,Ze=new _.Point(x,y);return k&&Ze._rotate(P?H:-H),{x1:X+Ze.x,y1:xe+Ze.y,x2:ae+Ze.x,y2:Oe+Ze.y,anchorPointX:He,anchorPointY:We}}ba.prototype.get=function(m){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[m]){var x=++this.maxGroupID;this.collisionGroups[m]={ID:x,predicate:function(y){return y.collisionGroupID===x}}}return this.collisionGroups[m]};var Ai=function(m,x,y,k){this.transform=m.clone(),this.collisionIndex=new Do(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=x,this.retainedQueryData={},this.collisionGroups=new ba(y),this.collisionCircleArrays={},this.prevPlacement=k,k&&(k.prevPlacement=void 0),this.placedOrientations={}};function gn(m,x,y,k,P){m.emplaceBack(x?1:0,y?1:0,k||0,P||0),m.emplaceBack(x?1:0,y?1:0,k||0,P||0),m.emplaceBack(x?1:0,y?1:0,k||0,P||0),m.emplaceBack(x?1:0,y?1:0,k||0,P||0)}Ai.prototype.getBucketParts=function(m,x,y,k){var P=y.getBucket(x),H=y.latestFeatureIndex;if(P&&H&&x.id===P.layerIds[0]){var X=y.collisionBoxArray,ae=P.layers[0].layout,xe=Math.pow(2,this.transform.zoom-y.tileID.overscaledZ),Oe=y.tileSize/_.EXTENT,He=this.transform.calculatePosMatrix(y.tileID.toUnwrapped()),We=ae.get("text-pitch-alignment")==="map",Ze=ae.get("text-rotation-alignment")==="map",ht=ii(y,1,this.transform.zoom),lt=an(He,We,Ze,this.transform,ht),vt=null;if(We){var nt=Qr(He,We,Ze,this.transform,ht);vt=_.multiply([],this.transform.labelPlaneMatrix,nt)}this.retainedQueryData[P.bucketInstanceId]=new Qc(P.bucketInstanceId,H,P.sourceLayerIndex,P.index,y.tileID);var bt={bucket:P,layout:ae,posMatrix:He,textLabelPlaneMatrix:lt,labelToScreenMatrix:vt,scale:xe,textPixelRatio:Oe,holdingForFade:y.holdingForFade(),collisionBoxArray:X,partiallyEvaluatedTextSize:_.evaluateSizeForZoom(P.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(P.sourceID)};if(k)for(var St=0,Ft=P.sortKeyRanges;St<Ft.length;St+=1){var rr=Ft[St];m.push({sortKey:rr.sortKey,symbolInstanceStart:rr.symbolInstanceStart,symbolInstanceEnd:rr.symbolInstanceEnd,parameters:bt})}else m.push({symbolInstanceStart:0,symbolInstanceEnd:P.symbolInstances.length,parameters:bt})}},Ai.prototype.attemptAnchorPlacement=function(m,x,y,k,P,H,X,ae,xe,Oe,He,We,Ze,ht,lt){var vt,nt=[We.textOffset0,We.textOffset1],bt=Oo(m,y,k,nt,P),St=this.collisionIndex.placeCollisionBox(ts(x,bt.x,bt.y,H,X,this.transform.angle),He,ae,xe,Oe.predicate);if(!lt||this.collisionIndex.placeCollisionBox(ts(lt,bt.x,bt.y,H,X,this.transform.angle),He,ae,xe,Oe.predicate).box.length!==0)return St.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[We.crossTileID]&&this.prevPlacement.placements[We.crossTileID]&&this.prevPlacement.placements[We.crossTileID].text&&(vt=this.prevPlacement.variableOffsets[We.crossTileID].anchor),this.variableOffsets[We.crossTileID]={textOffset:nt,width:y,height:k,anchor:m,textBoxScale:P,prevAnchor:vt},this.markUsedJustification(Ze,m,We,ht),Ze.allowVerticalPlacement&&(this.markUsedOrientation(Ze,ht,We),this.placedOrientations[We.crossTileID]=ht),{shift:bt,placedGlyphBoxes:St}):void 0},Ai.prototype.placeLayerBucketPart=function(m,x,y){var k=this,P=m.parameters,H=P.bucket,X=P.layout,ae=P.posMatrix,xe=P.textLabelPlaneMatrix,Oe=P.labelToScreenMatrix,He=P.textPixelRatio,We=P.holdingForFade,Ze=P.collisionBoxArray,ht=P.partiallyEvaluatedTextSize,lt=P.collisionGroup,vt=X.get("text-optional"),nt=X.get("icon-optional"),bt=X.get("text-allow-overlap"),St=X.get("icon-allow-overlap"),Ft=X.get("text-rotation-alignment")==="map",rr=X.get("text-pitch-alignment")==="map",Jt=X.get("icon-text-fit")!=="none",Zt=X.get("symbol-z-order")==="viewport-y",mr=bt&&(St||!H.hasIconData()||nt),yr=St&&(bt||!H.hasTextData()||vt);!H.collisionArrays&&Ze&&H.deserializeCollisionBoxes(Ze);var br=function(Kr,Mn){if(!x[Kr.crossTileID])if(We)k.placements[Kr.crossTileID]=new ku(!1,!1,!1);else{var Vn,On=!1,Ln=!1,Hn=!0,vn=null,xn={box:null,offscreen:null},ka={box:null,offscreen:null},So=null,Qo=null,as=0,_o=0,To=0;Mn.textFeatureIndex?as=Mn.textFeatureIndex:Kr.useRuntimeCollisionCircles&&(as=Kr.featureIndex),Mn.verticalTextFeatureIndex&&(_o=Mn.verticalTextFeatureIndex);var ss=Mn.textBox;if(ss){var $a=function(Oi){var vl=_.WritingMode.horizontal;if(H.allowVerticalPlacement&&!Oi&&k.prevPlacement){var Is=k.prevPlacement.placedOrientations[Kr.crossTileID];Is&&(k.placedOrientations[Kr.crossTileID]=Is,k.markUsedOrientation(H,vl=Is,Kr))}return vl},Qs=function(Oi,vl){if(H.allowVerticalPlacement&&Kr.numVerticalGlyphVertices>0&&Mn.verticalTextBox)for(var Is=0,ff=H.writingModes;Is<ff.length&&(ff[Is]===_.WritingMode.vertical?(xn=vl(),ka=xn):xn=Oi(),!(xn&&xn.box&&xn.box.length));Is+=1);else xn=Oi()};if(X.get("text-variable-anchor")){var ls=X.get("text-variable-anchor");if(k.prevPlacement&&k.prevPlacement.variableOffsets[Kr.crossTileID]){var el=k.prevPlacement.variableOffsets[Kr.crossTileID];ls.indexOf(el.anchor)>0&&(ls=ls.filter(function(Oi){return Oi!==el.anchor})).unshift(el.anchor)}var xs=function(Oi,vl,Is){for(var ff=Oi.x2-Oi.x1,Od=Oi.y2-Oi.y1,bi=Kr.textBoxScale,im=Jt&&!St?vl:null,Bu={box:[],offscreen:!1},kc=bt?2*ls.length:ls.length,Cc=0;Cc<kc;++Cc){var yl=k.attemptAnchorPlacement(ls[Cc%ls.length],Oi,ff,Od,bi,Ft,rr,He,ae,lt,Cc>=ls.length,Kr,H,Is,im);if(yl&&(Bu=yl.placedGlyphBoxes)&&Bu.box&&Bu.box.length){On=!0,vn=yl.shift;break}}return Bu};Qs(function(){return xs(ss,Mn.iconBox,_.WritingMode.horizontal)},function(){var Oi=Mn.verticalTextBox;return H.allowVerticalPlacement&&!(xn&&xn.box&&xn.box.length)&&Kr.numVerticalGlyphVertices>0&&Oi?xs(Oi,Mn.verticalIconBox,_.WritingMode.vertical):{box:null,offscreen:null}}),xn&&(On=xn.box,Hn=xn.offscreen);var vu=$a(xn&&xn.box);if(!On&&k.prevPlacement){var yu=k.prevPlacement.variableOffsets[Kr.crossTileID];yu&&(k.variableOffsets[Kr.crossTileID]=yu,k.markUsedJustification(H,yu.anchor,Kr,vu))}}else{var Yl=function(Oi,vl){var Is=k.collisionIndex.placeCollisionBox(Oi,bt,He,ae,lt.predicate);return Is&&Is.box&&Is.box.length&&(k.markUsedOrientation(H,vl,Kr),k.placedOrientations[Kr.crossTileID]=vl),Is};Qs(function(){return Yl(ss,_.WritingMode.horizontal)},function(){var Oi=Mn.verticalTextBox;return H.allowVerticalPlacement&&Kr.numVerticalGlyphVertices>0&&Oi?Yl(Oi,_.WritingMode.vertical):{box:null,offscreen:null}}),$a(xn&&xn.box&&xn.box.length)}}if(On=(Vn=xn)&&Vn.box&&Vn.box.length>0,Hn=Vn&&Vn.offscreen,Kr.useRuntimeCollisionCircles){var Zl=H.text.placedSymbolArray.get(Kr.centerJustifiedTextSymbolIndex),qu=_.evaluateSizeForFeature(H.textSizeData,ht,Zl),Hs=X.get("text-padding");So=k.collisionIndex.placeCollisionCircles(bt,Zl,H.lineVertexArray,H.glyphOffsetArray,qu,ae,xe,Oe,y,rr,lt.predicate,Kr.collisionCircleDiameter,Hs),On=bt||So.circles.length>0&&!So.collisionDetected,Hn=Hn&&So.offscreen}if(Mn.iconFeatureIndex&&(To=Mn.iconFeatureIndex),Mn.iconBox){var Gh=function(Oi){var vl=Jt&&vn?ts(Oi,vn.x,vn.y,Ft,rr,k.transform.angle):Oi;return k.collisionIndex.placeCollisionBox(vl,St,He,ae,lt.predicate)};Ln=ka&&ka.box&&ka.box.length&&Mn.verticalIconBox?(Qo=Gh(Mn.verticalIconBox)).box.length>0:(Qo=Gh(Mn.iconBox)).box.length>0,Hn=Hn&&Qo.offscreen}var Nu=vt||Kr.numHorizontalGlyphVertices===0&&Kr.numVerticalGlyphVertices===0,ji=nt||Kr.numIconVertices===0;if(Nu||ji?ji?Nu||(Ln=Ln&&On):On=Ln&&On:Ln=On=Ln&&On,On&&Vn&&Vn.box&&k.collisionIndex.insertCollisionBox(Vn.box,X.get("text-ignore-placement"),H.bucketInstanceId,ka&&ka.box&&_o?_o:as,lt.ID),Ln&&Qo&&k.collisionIndex.insertCollisionBox(Qo.box,X.get("icon-ignore-placement"),H.bucketInstanceId,To,lt.ID),So&&(On&&k.collisionIndex.insertCollisionCircles(So.circles,X.get("text-ignore-placement"),H.bucketInstanceId,as,lt.ID),y)){var Ec=H.bucketInstanceId,Wc=k.collisionCircleArrays[Ec];Wc===void 0&&(Wc=k.collisionCircleArrays[Ec]=new ro);for(var Ga=0;Ga<So.circles.length;Ga+=4)Wc.circles.push(So.circles[Ga+0]),Wc.circles.push(So.circles[Ga+1]),Wc.circles.push(So.circles[Ga+2]),Wc.circles.push(So.collisionDetected?1:0)}k.placements[Kr.crossTileID]=new ku(On||mr,Ln||yr,Hn||H.justReloaded),x[Kr.crossTileID]=!0}};if(Zt)for(var $r=H.getSortedSymbolIndexes(this.transform.angle),Gr=$r.length-1;Gr>=0;--Gr){var hn=$r[Gr];br(H.symbolInstances.get(hn),H.collisionArrays[hn])}else for(var dn=m.symbolInstanceStart;dn<m.symbolInstanceEnd;dn++)br(H.symbolInstances.get(dn),H.collisionArrays[dn]);if(y&&H.bucketInstanceId in this.collisionCircleArrays){var Bn=this.collisionCircleArrays[H.bucketInstanceId];_.invert(Bn.invProjMatrix,ae),Bn.viewportMatrix=this.collisionIndex.getViewportMatrix()}H.justReloaded=!1},Ai.prototype.markUsedJustification=function(m,x,y,k){var P;P=k===_.WritingMode.vertical?y.verticalPlacedTextSymbolIndex:{left:y.leftJustifiedTextSymbolIndex,center:y.centerJustifiedTextSymbolIndex,right:y.rightJustifiedTextSymbolIndex}[_.getAnchorJustification(x)];for(var H=0,X=[y.leftJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.rightJustifiedTextSymbolIndex,y.verticalPlacedTextSymbolIndex];H<X.length;H+=1){var ae=X[H];ae>=0&&(m.text.placedSymbolArray.get(ae).crossTileID=P>=0&&ae!==P?0:y.crossTileID)}},Ai.prototype.markUsedOrientation=function(m,x,y){for(var k=x===_.WritingMode.horizontal||x===_.WritingMode.horizontalOnly?x:0,P=x===_.WritingMode.vertical?x:0,H=0,X=[y.leftJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.rightJustifiedTextSymbolIndex];H<X.length;H+=1)m.text.placedSymbolArray.get(X[H]).placedOrientation=k;y.verticalPlacedTextSymbolIndex&&(m.text.placedSymbolArray.get(y.verticalPlacedTextSymbolIndex).placedOrientation=P)},Ai.prototype.commit=function(m){this.commitTime=m,this.zoomAtLastRecencyCheck=this.transform.zoom;var x=this.prevPlacement,y=!1;this.prevZoomAdjustment=x?x.zoomAdjustment(this.transform.zoom):0;var k=x?x.symbolFadeChange(m):1,P=x?x.opacities:{},H=x?x.variableOffsets:{},X=x?x.placedOrientations:{};for(var ae in this.placements){var xe=this.placements[ae],Oe=P[ae];Oe?(this.opacities[ae]=new Ua(Oe,k,xe.text,xe.icon),y=y||xe.text!==Oe.text.placed||xe.icon!==Oe.icon.placed):(this.opacities[ae]=new Ua(null,k,xe.text,xe.icon,xe.skipFade),y=y||xe.text||xe.icon)}for(var He in P){var We=P[He];if(!this.opacities[He]){var Ze=new Ua(We,k,!1,!1);Ze.isHidden()||(this.opacities[He]=Ze,y=y||We.text.placed||We.icon.placed)}}for(var ht in H)this.variableOffsets[ht]||!this.opacities[ht]||this.opacities[ht].isHidden()||(this.variableOffsets[ht]=H[ht]);for(var lt in X)this.placedOrientations[lt]||!this.opacities[lt]||this.opacities[lt].isHidden()||(this.placedOrientations[lt]=X[lt]);y?this.lastPlacementChangeTime=m:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=x?x.lastPlacementChangeTime:m)},Ai.prototype.updateLayerOpacities=function(m,x){for(var y={},k=0,P=x;k<P.length;k+=1){var H=P[k],X=H.getBucket(m);X&&H.latestFeatureIndex&&m.id===X.layerIds[0]&&this.updateBucketOpacities(X,y,H.collisionBoxArray)}},Ai.prototype.updateBucketOpacities=function(m,x,y){var k=this;m.hasTextData()&&m.text.opacityVertexArray.clear(),m.hasIconData()&&m.icon.opacityVertexArray.clear(),m.hasIconCollisionBoxData()&&m.iconCollisionBox.collisionVertexArray.clear(),m.hasTextCollisionBoxData()&&m.textCollisionBox.collisionVertexArray.clear();var P=m.layers[0].layout,H=new Ua(null,0,!1,!1,!0),X=P.get("text-allow-overlap"),ae=P.get("icon-allow-overlap"),xe=P.get("text-variable-anchor"),Oe=P.get("text-rotation-alignment")==="map",He=P.get("text-pitch-alignment")==="map",We=P.get("icon-text-fit")!=="none",Ze=new Ua(null,0,X&&(ae||!m.hasIconData()||P.get("icon-optional")),ae&&(X||!m.hasTextData()||P.get("text-optional")),!0);!m.collisionArrays&&y&&(m.hasIconCollisionBoxData()||m.hasTextCollisionBoxData())&&m.deserializeCollisionBoxes(y);for(var ht=function(bt,St,Ft){for(var rr=0;rr<St/4;rr++)bt.opacityVertexArray.emplaceBack(Ft)},lt=function(bt){var St=m.symbolInstances.get(bt),Ft=St.numHorizontalGlyphVertices,rr=St.numVerticalGlyphVertices,Jt=St.crossTileID,Zt=k.opacities[Jt];x[Jt]?Zt=H:Zt||(k.opacities[Jt]=Zt=Ze),x[Jt]=!0;var mr=St.numIconVertices>0,yr=k.placedOrientations[St.crossTileID],br=yr===_.WritingMode.vertical,$r=yr===_.WritingMode.horizontal||yr===_.WritingMode.horizontalOnly;if(Ft>0||rr>0){var Gr=ps(Zt.text);ht(m.text,Ft,br?no:Gr),ht(m.text,rr,$r?no:Gr);var hn=Zt.text.isHidden();[St.rightJustifiedTextSymbolIndex,St.centerJustifiedTextSymbolIndex,St.leftJustifiedTextSymbolIndex].forEach(function(xn){xn>=0&&(m.text.placedSymbolArray.get(xn).hidden=hn||br?1:0)}),St.verticalPlacedTextSymbolIndex>=0&&(m.text.placedSymbolArray.get(St.verticalPlacedTextSymbolIndex).hidden=hn||$r?1:0);var dn=k.variableOffsets[St.crossTileID];dn&&k.markUsedJustification(m,dn.anchor,St,yr);var Bn=k.placedOrientations[St.crossTileID];Bn&&(k.markUsedJustification(m,"left",St,Bn),k.markUsedOrientation(m,Bn,St))}if(mr){var Kr=ps(Zt.icon),Mn=!(We&&St.verticalPlacedIconSymbolIndex&&br);St.placedIconSymbolIndex>=0&&(ht(m.icon,St.numIconVertices,Mn?Kr:no),m.icon.placedSymbolArray.get(St.placedIconSymbolIndex).hidden=Zt.icon.isHidden()),St.verticalPlacedIconSymbolIndex>=0&&(ht(m.icon,St.numVerticalIconVertices,Mn?no:Kr),m.icon.placedSymbolArray.get(St.verticalPlacedIconSymbolIndex).hidden=Zt.icon.isHidden())}if(m.hasIconCollisionBoxData()||m.hasTextCollisionBoxData()){var Vn=m.collisionArrays[bt];if(Vn){var On=new _.Point(0,0);if(Vn.textBox||Vn.verticalTextBox){var Ln=!0;if(xe){var Hn=k.variableOffsets[Jt];Hn?(On=Oo(Hn.anchor,Hn.width,Hn.height,Hn.textOffset,Hn.textBoxScale),Oe&&On._rotate(He?k.transform.angle:-k.transform.angle)):Ln=!1}Vn.textBox&&gn(m.textCollisionBox.collisionVertexArray,Zt.text.placed,!Ln||br,On.x,On.y),Vn.verticalTextBox&&gn(m.textCollisionBox.collisionVertexArray,Zt.text.placed,!Ln||$r,On.x,On.y)}var vn=Boolean(!$r&&Vn.verticalIconBox);Vn.iconBox&&gn(m.iconCollisionBox.collisionVertexArray,Zt.icon.placed,vn,We?On.x:0,We?On.y:0),Vn.verticalIconBox&&gn(m.iconCollisionBox.collisionVertexArray,Zt.icon.placed,!vn,We?On.x:0,We?On.y:0)}}},vt=0;vt<m.symbolInstances.length;vt++)lt(vt);if(m.sortFeatures(this.transform.angle),this.retainedQueryData[m.bucketInstanceId]&&(this.retainedQueryData[m.bucketInstanceId].featureSortOrder=m.featureSortOrder),m.hasTextData()&&m.text.opacityVertexBuffer&&m.text.opacityVertexBuffer.updateData(m.text.opacityVertexArray),m.hasIconData()&&m.icon.opacityVertexBuffer&&m.icon.opacityVertexBuffer.updateData(m.icon.opacityVertexArray),m.hasIconCollisionBoxData()&&m.iconCollisionBox.collisionVertexBuffer&&m.iconCollisionBox.collisionVertexBuffer.updateData(m.iconCollisionBox.collisionVertexArray),m.hasTextCollisionBoxData()&&m.textCollisionBox.collisionVertexBuffer&&m.textCollisionBox.collisionVertexBuffer.updateData(m.textCollisionBox.collisionVertexArray),m.bucketInstanceId in this.collisionCircleArrays){var nt=this.collisionCircleArrays[m.bucketInstanceId];m.placementInvProjMatrix=nt.invProjMatrix,m.placementViewportMatrix=nt.viewportMatrix,m.collisionCircleArray=nt.circles,delete this.collisionCircleArrays[m.bucketInstanceId]}},Ai.prototype.symbolFadeChange=function(m){return this.fadeDuration===0?1:(m-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Ai.prototype.zoomAdjustment=function(m){return Math.max(0,(this.transform.zoom-m)/1.5)},Ai.prototype.hasTransitions=function(m){return this.stale||m-this.lastPlacementChangeTime<this.fadeDuration},Ai.prototype.stillRecent=function(m,x){var y=this.zoomAtLastRecencyCheck===x?1-this.zoomAdjustment(x):1;return this.zoomAtLastRecencyCheck=x,this.commitTime+this.fadeDuration*y>m},Ai.prototype.setStale=function(){this.stale=!0};var Vt=Math.pow(2,25),jr=Math.pow(2,24),un=Math.pow(2,17),Cn=Math.pow(2,16),Gn=Math.pow(2,9),Vo=Math.pow(2,8),xa=Math.pow(2,1);function ps(m){if(m.opacity===0&&!m.placed)return 0;if(m.opacity===1&&m.placed)return 4294967295;var x=m.placed?1:0,y=Math.floor(127*m.opacity);return y*Vt+x*jr+y*un+x*Cn+y*Gn+x*Vo+y*xa+x}var no=0,ja=function(m){this._sortAcrossTiles=m.layout.get("symbol-z-order")!=="viewport-y"&&m.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};ja.prototype.continuePlacement=function(m,x,y,k,P){for(var H=this._bucketParts;this._currentTileIndex<m.length;)if(x.getBucketParts(H,k,m[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,P())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,H.sort(function(X,ae){return X.sortKey-ae.sortKey}));this._currentPartIndex<H.length;)if(x.placeLayerBucketPart(H[this._currentPartIndex],this._seenCrossTileIDs,y),this._currentPartIndex++,P())return!0;return!1};var ou=function(m,x,y,k,P,H,X){this.placement=new Ai(m,P,H,X),this._currentPlacementIndex=x.length-1,this._forceFullPlacement=y,this._showCollisionBoxes=k,this._done=!1};ou.prototype.isDone=function(){return this._done},ou.prototype.continuePlacement=function(m,x,y){for(var k=this,P=_.browser.now(),H=function(){var xe=_.browser.now()-P;return!k._forceFullPlacement&&xe>2};this._currentPlacementIndex>=0;){var X=x[m[this._currentPlacementIndex]],ae=this.placement.collisionIndex.transform.zoom;if(X.type==="symbol"&&(!X.minzoom||X.minzoom<=ae)&&(!X.maxzoom||X.maxzoom>ae)){if(this._inProgressLayer||(this._inProgressLayer=new ja(X)),this._inProgressLayer.continuePlacement(y[X.source],this.placement,this._showCollisionBoxes,X,H))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},ou.prototype.commit=function(m){return this.placement.commit(m),this.placement};var rs=512/_.EXTENT/2,Bh=function(m,x,y){this.tileID=m,this.indexedSymbolInstances={},this.bucketInstanceId=y;for(var k=0;k<x.length;k++){var P=x.get(k),H=P.key;this.indexedSymbolInstances[H]||(this.indexedSymbolInstances[H]=[]),this.indexedSymbolInstances[H].push({crossTileID:P.crossTileID,coord:this.getScaledCoordinates(P,m)})}};Bh.prototype.getScaledCoordinates=function(m,x){var y=rs/Math.pow(2,x.canonical.z-this.tileID.canonical.z);return{x:Math.floor((x.canonical.x*_.EXTENT+m.anchorX)*y),y:Math.floor((x.canonical.y*_.EXTENT+m.anchorY)*y)}},Bh.prototype.findMatches=function(m,x,y){for(var k=this.tileID.canonical.z<x.canonical.z?1:Math.pow(2,this.tileID.canonical.z-x.canonical.z),P=0;P<m.length;P++){var H=m.get(P);if(!H.crossTileID){var X=this.indexedSymbolInstances[H.key];if(X)for(var ae=this.getScaledCoordinates(H,x),xe=0,Oe=X;xe<Oe.length;xe+=1){var He=Oe[xe];if(Math.abs(He.coord.x-ae.x)<=k&&Math.abs(He.coord.y-ae.y)<=k&&!y[He.crossTileID]){y[He.crossTileID]=!0,H.crossTileID=He.crossTileID;break}}}}};var Ni=function(){this.maxCrossTileID=0};Ni.prototype.generate=function(){return++this.maxCrossTileID};var Nl=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Nl.prototype.handleWrapJump=function(m){var x=Math.round((m-this.lng)/360);if(x!==0)for(var y in this.indexes){var k=this.indexes[y],P={};for(var H in k){var X=k[H];X.tileID=X.tileID.unwrapTo(X.tileID.wrap+x),P[X.tileID.key]=X}this.indexes[y]=P}this.lng=m},Nl.prototype.addBucket=function(m,x,y){if(this.indexes[m.overscaledZ]&&this.indexes[m.overscaledZ][m.key]){if(this.indexes[m.overscaledZ][m.key].bucketInstanceId===x.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(m.overscaledZ,this.indexes[m.overscaledZ][m.key])}for(var k=0;k<x.symbolInstances.length;k++)x.symbolInstances.get(k).crossTileID=0;this.usedCrossTileIDs[m.overscaledZ]||(this.usedCrossTileIDs[m.overscaledZ]={});var P=this.usedCrossTileIDs[m.overscaledZ];for(var H in this.indexes){var X=this.indexes[H];if(Number(H)>m.overscaledZ)for(var ae in X){var xe=X[ae];xe.tileID.isChildOf(m)&&xe.findMatches(x.symbolInstances,m,P)}else{var Oe=X[m.scaledTo(Number(H)).key];Oe&&Oe.findMatches(x.symbolInstances,m,P)}}for(var He=0;He<x.symbolInstances.length;He++){var We=x.symbolInstances.get(He);We.crossTileID||(We.crossTileID=y.generate(),P[We.crossTileID]=!0)}return this.indexes[m.overscaledZ]===void 0&&(this.indexes[m.overscaledZ]={}),this.indexes[m.overscaledZ][m.key]=new Bh(m,x.symbolInstances,x.bucketInstanceId),!0},Nl.prototype.removeBucketCrossTileIDs=function(m,x){for(var y in x.indexedSymbolInstances)for(var k=0,P=x.indexedSymbolInstances[y];k<P.length;k+=1)delete this.usedCrossTileIDs[m][P[k].crossTileID]},Nl.prototype.removeStaleBuckets=function(m){var x=!1;for(var y in this.indexes){var k=this.indexes[y];for(var P in k)m[k[P].bucketInstanceId]||(this.removeBucketCrossTileIDs(y,k[P]),delete k[P],x=!0)}return x};var _a=function(){this.layerIndexes={},this.crossTileIDs=new Ni,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};_a.prototype.addLayer=function(m,x,y){var k=this.layerIndexes[m.id];k===void 0&&(k=this.layerIndexes[m.id]=new Nl);var P=!1,H={};k.handleWrapJump(y);for(var X=0,ae=x;X<ae.length;X+=1){var xe=ae[X],Oe=xe.getBucket(m);Oe&&m.id===Oe.layerIds[0]&&(Oe.bucketInstanceId||(Oe.bucketInstanceId=++this.maxBucketInstanceId),k.addBucket(xe.tileID,Oe,this.crossTileIDs)&&(P=!0),H[Oe.bucketInstanceId]=!0)}return k.removeStaleBuckets(H)&&(P=!0),P},_a.prototype.pruneUnusedLayers=function(m){var x={};for(var y in m.forEach(function(k){x[k]=!0}),this.layerIndexes)x[y]||delete this.layerIndexes[y]};var Ds=function(m,x){return _.emitValidationErrors(m,x&&x.filter(function(y){return y.identifier!=="source.canvas"}))},Bl=_.pick(ye,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),po=_.pick(ye,["setCenter","setZoom","setBearing","setPitch"]),ef=function(){var m={},x=_.styleSpec.$version;for(var y in _.styleSpec.$root){var k,P=_.styleSpec.$root[y];P.required&&(k=y==="version"?x:P.type==="array"?[]:{})!=null&&(m[y]=k)}return m}(),zs=function(m){function x(y,k){var P=this;k===void 0&&(k={}),m.call(this),this.map=y,this.dispatcher=new Rt(Pe(),this),this.imageManager=new G,this.imageManager.setEventedParent(this),this.glyphManager=new Je(y._requestManager,k.localIdeographFontFamily),this.lineAtlas=new Ht(256,512),this.crossTileSymbolIndex=new _a,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new _.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",_.getReferrer());var H=this;this._rtlTextPluginCallback=x.registerForPluginStateChange(function(X){H.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:X.pluginStatus,pluginURL:X.pluginURL},function(ae,xe){if(_.triggerPluginCompletionEvent(ae),xe&&xe.every(function(He){return He}))for(var Oe in H.sourceCaches)H.sourceCaches[Oe].reload()})}),this.on("data",function(X){if(X.dataType==="source"&&X.sourceDataType==="metadata"){var ae=P.sourceCaches[X.sourceId];if(ae){var xe=ae.getSource();if(xe&&xe.vectorLayerIds)for(var Oe in P._layers){var He=P._layers[Oe];He.source===xe.id&&P._validateLayer(He)}}}})}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.loadURL=function(y,k){var P=this;k===void 0&&(k={}),this.fire(new _.Event("dataloading",{dataType:"style"}));var H=typeof k.validate=="boolean"?k.validate:!_.isMapboxURL(y);y=this.map._requestManager.normalizeStyleURL(y,k.accessToken);var X=this.map._requestManager.transformRequest(y,_.ResourceType.Style);this._request=_.getJSON(X,function(ae,xe){P._request=null,ae?P.fire(new _.ErrorEvent(ae)):xe&&P._load(xe,H)})},x.prototype.loadJSON=function(y,k){var P=this;k===void 0&&(k={}),this.fire(new _.Event("dataloading",{dataType:"style"})),this._request=_.browser.frame(function(){P._request=null,P._load(y,k.validate!==!1)})},x.prototype.loadEmpty=function(){this.fire(new _.Event("dataloading",{dataType:"style"})),this._load(ef,!1)},x.prototype._load=function(y,k){if(!k||!Ds(this,_.validateStyle(y))){for(var P in this._loaded=!0,this.stylesheet=y,y.sources)this.addSource(P,y.sources[P],{validate:!1});y.sprite?this._loadSprite(y.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(y.glyphs);var H=ie(this.stylesheet.layers);this._order=H.map(function(Oe){return Oe.id}),this._layers={},this._serializedLayers={};for(var X=0,ae=H;X<ae.length;X+=1){var xe=ae[X];(xe=_.createStyleLayer(xe)).setEventedParent(this,{layer:{id:xe.id}}),this._layers[xe.id]=xe,this._serializedLayers[xe.id]=xe.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Tt(this.stylesheet.light),this.fire(new _.Event("data",{dataType:"style"})),this.fire(new _.Event("style.load"))}},x.prototype._loadSprite=function(y){var k=this;this._spriteRequest=function(P,H,X){var ae,xe,Oe,He=_.browser.devicePixelRatio>1?"@2x":"",We=_.getJSON(H.transformRequest(H.normalizeSpriteURL(P,He,".json"),_.ResourceType.SpriteJSON),function(lt,vt){We=null,Oe||(Oe=lt,ae=vt,ht())}),Ze=_.getImage(H.transformRequest(H.normalizeSpriteURL(P,He,".png"),_.ResourceType.SpriteImage),function(lt,vt){Ze=null,Oe||(Oe=lt,xe=vt,ht())});function ht(){if(Oe)X(Oe);else if(ae&&xe){var lt=_.browser.getImageData(xe),vt={};for(var nt in ae){var bt=ae[nt],St=bt.width,Ft=bt.height,rr=bt.x,Jt=bt.y,Zt=bt.sdf,mr=bt.pixelRatio,yr=bt.stretchX,br=bt.stretchY,$r=bt.content,Gr=new _.RGBAImage({width:St,height:Ft});_.RGBAImage.copy(lt,Gr,{x:rr,y:Jt},{x:0,y:0},{width:St,height:Ft}),vt[nt]={data:Gr,pixelRatio:mr,sdf:Zt,stretchX:yr,stretchY:br,content:$r}}X(null,vt)}}return{cancel:function(){We&&(We.cancel(),We=null),Ze&&(Ze.cancel(),Ze=null)}}}(y,this.map._requestManager,function(P,H){if(k._spriteRequest=null,P)k.fire(new _.ErrorEvent(P));else if(H)for(var X in H)k.imageManager.addImage(X,H[X]);k.imageManager.setLoaded(!0),k._availableImages=k.imageManager.listImages(),k.dispatcher.broadcast("setImages",k._availableImages),k.fire(new _.Event("data",{dataType:"style"}))})},x.prototype._validateLayer=function(y){var k=this.sourceCaches[y.source];if(k){var P=y.sourceLayer;if(P){var H=k.getSource();(H.type==="geojson"||H.vectorLayerIds&&H.vectorLayerIds.indexOf(P)===-1)&&this.fire(new _.ErrorEvent(new Error('Source layer "'+P+'" does not exist on source "'+H.id+'" as specified by style layer "'+y.id+'"')))}}},x.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var y in this.sourceCaches)if(!this.sourceCaches[y].loaded())return!1;return!!this.imageManager.isLoaded()},x.prototype._serializeLayers=function(y){for(var k=[],P=0,H=y;P<H.length;P+=1){var X=this._layers[H[P]];X.type!=="custom"&&k.push(X.serialize())}return k},x.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var y in this.sourceCaches)if(this.sourceCaches[y].hasTransition())return!0;for(var k in this._layers)if(this._layers[k].hasTransition())return!0;return!1},x.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},x.prototype.update=function(y){if(this._loaded){var k=this._changed;if(this._changed){var P=Object.keys(this._updatedLayers),H=Object.keys(this._removedLayers);for(var X in(P.length||H.length)&&this._updateWorkerLayers(P,H),this._updatedSources){var ae=this._updatedSources[X];ae==="reload"?this._reloadSource(X):ae==="clear"&&this._clearSource(X)}for(var xe in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[xe].updateTransitions(y);this.light.updateTransitions(y),this._resetUpdates()}var Oe={};for(var He in this.sourceCaches){var We=this.sourceCaches[He];Oe[He]=We.used,We.used=!1}for(var Ze=0,ht=this._order;Ze<ht.length;Ze+=1){var lt=this._layers[ht[Ze]];lt.recalculate(y,this._availableImages),!lt.isHidden(y.zoom)&&lt.source&&(this.sourceCaches[lt.source].used=!0)}for(var vt in Oe){var nt=this.sourceCaches[vt];Oe[vt]!==nt.used&&nt.fire(new _.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:vt}))}this.light.recalculate(y),this.z=y.zoom,k&&this.fire(new _.Event("data",{dataType:"style"}))}},x.prototype._updateTilesForChangedImages=function(){var y=Object.keys(this._changedImages);if(y.length){for(var k in this.sourceCaches)this.sourceCaches[k].reloadTilesForDependencies(["icons","patterns"],y);this._changedImages={}}},x.prototype._updateWorkerLayers=function(y,k){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(y),removedIds:k})},x.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},x.prototype.setState=function(y){var k=this;if(this._checkLoaded(),Ds(this,_.validateStyle(y)))return!1;(y=_.clone$1(y)).layers=ie(y.layers);var P=function(X,ae){if(!X)return[{command:ye.setStyle,args:[ae]}];var xe=[];try{if(!_.deepEqual(X.version,ae.version))return[{command:ye.setStyle,args:[ae]}];_.deepEqual(X.center,ae.center)||xe.push({command:ye.setCenter,args:[ae.center]}),_.deepEqual(X.zoom,ae.zoom)||xe.push({command:ye.setZoom,args:[ae.zoom]}),_.deepEqual(X.bearing,ae.bearing)||xe.push({command:ye.setBearing,args:[ae.bearing]}),_.deepEqual(X.pitch,ae.pitch)||xe.push({command:ye.setPitch,args:[ae.pitch]}),_.deepEqual(X.sprite,ae.sprite)||xe.push({command:ye.setSprite,args:[ae.sprite]}),_.deepEqual(X.glyphs,ae.glyphs)||xe.push({command:ye.setGlyphs,args:[ae.glyphs]}),_.deepEqual(X.transition,ae.transition)||xe.push({command:ye.setTransition,args:[ae.transition]}),_.deepEqual(X.light,ae.light)||xe.push({command:ye.setLight,args:[ae.light]});var Oe={},He=[];(function(Ze,ht,lt,vt){var nt;for(nt in ht=ht||{},Ze=Ze||{})Ze.hasOwnProperty(nt)&&(ht.hasOwnProperty(nt)||dt(nt,lt,vt));for(nt in ht)ht.hasOwnProperty(nt)&&(Ze.hasOwnProperty(nt)?_.deepEqual(Ze[nt],ht[nt])||(Ze[nt].type==="geojson"&&ht[nt].type==="geojson"&&tr(Ze,ht,nt)?lt.push({command:ye.setGeoJSONSourceData,args:[nt,ht[nt].data]}):Gt(nt,ht,lt,vt)):Ge(nt,ht,lt))})(X.sources,ae.sources,He,Oe);var We=[];X.layers&&X.layers.forEach(function(Ze){Oe[Ze.source]?xe.push({command:ye.removeLayer,args:[Ze.id]}):We.push(Ze)}),xe=xe.concat(He),function(Ze,ht,lt){ht=ht||[];var vt,nt,bt,St,Ft,rr,Jt,Zt=(Ze=Ze||[]).map(Ur),mr=ht.map(Ur),yr=Ze.reduce(fr,{}),br=ht.reduce(fr,{}),$r=Zt.slice(),Gr=Object.create(null);for(vt=0,nt=0;vt<Zt.length;vt++)br.hasOwnProperty(bt=Zt[vt])?nt++:(lt.push({command:ye.removeLayer,args:[bt]}),$r.splice($r.indexOf(bt,nt),1));for(vt=0,nt=0;vt<mr.length;vt++)$r[$r.length-1-vt]!==(bt=mr[mr.length-1-vt])&&(yr.hasOwnProperty(bt)?(lt.push({command:ye.removeLayer,args:[bt]}),$r.splice($r.lastIndexOf(bt,$r.length-nt),1)):nt++,lt.push({command:ye.addLayer,args:[br[bt],rr=$r[$r.length-vt]]}),$r.splice($r.length-vt,0,bt),Gr[bt]=!0);for(vt=0;vt<mr.length;vt++)if(St=yr[bt=mr[vt]],Ft=br[bt],!Gr[bt]&&!_.deepEqual(St,Ft))if(_.deepEqual(St.source,Ft.source)&&_.deepEqual(St["source-layer"],Ft["source-layer"])&&_.deepEqual(St.type,Ft.type)){for(Jt in Or(St.layout,Ft.layout,lt,bt,null,ye.setLayoutProperty),Or(St.paint,Ft.paint,lt,bt,null,ye.setPaintProperty),_.deepEqual(St.filter,Ft.filter)||lt.push({command:ye.setFilter,args:[bt,Ft.filter]}),_.deepEqual(St.minzoom,Ft.minzoom)&&_.deepEqual(St.maxzoom,Ft.maxzoom)||lt.push({command:ye.setLayerZoomRange,args:[bt,Ft.minzoom,Ft.maxzoom]}),St)St.hasOwnProperty(Jt)&&Jt!=="layout"&&Jt!=="paint"&&Jt!=="filter"&&Jt!=="metadata"&&Jt!=="minzoom"&&Jt!=="maxzoom"&&(Jt.indexOf("paint.")===0?Or(St[Jt],Ft[Jt],lt,bt,Jt.slice(6),ye.setPaintProperty):_.deepEqual(St[Jt],Ft[Jt])||lt.push({command:ye.setLayerProperty,args:[bt,Jt,Ft[Jt]]}));for(Jt in Ft)Ft.hasOwnProperty(Jt)&&!St.hasOwnProperty(Jt)&&Jt!=="layout"&&Jt!=="paint"&&Jt!=="filter"&&Jt!=="metadata"&&Jt!=="minzoom"&&Jt!=="maxzoom"&&(Jt.indexOf("paint.")===0?Or(St[Jt],Ft[Jt],lt,bt,Jt.slice(6),ye.setPaintProperty):_.deepEqual(St[Jt],Ft[Jt])||lt.push({command:ye.setLayerProperty,args:[bt,Jt,Ft[Jt]]}))}else lt.push({command:ye.removeLayer,args:[bt]}),rr=$r[$r.lastIndexOf(bt)+1],lt.push({command:ye.addLayer,args:[Ft,rr]})}(We,ae.layers,xe)}catch(Ze){console.warn("Unable to compute style diff:",Ze),xe=[{command:ye.setStyle,args:[ae]}]}return xe}(this.serialize(),y).filter(function(X){return!(X.command in po)});if(P.length===0)return!1;var H=P.filter(function(X){return!(X.command in Bl)});if(H.length>0)throw new Error("Unimplemented: "+H.map(function(X){return X.command}).join(", ")+".");return P.forEach(function(X){X.command!=="setTransition"&&k[X.command].apply(k,X.args)}),this.stylesheet=y,!0},x.prototype.addImage=function(y,k){if(this.getImage(y))return this.fire(new _.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(y,k),this._afterImageUpdated(y)},x.prototype.updateImage=function(y,k){this.imageManager.updateImage(y,k)},x.prototype.getImage=function(y){return this.imageManager.getImage(y)},x.prototype.removeImage=function(y){if(!this.getImage(y))return this.fire(new _.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(y),this._afterImageUpdated(y)},x.prototype._afterImageUpdated=function(y){this._availableImages=this.imageManager.listImages(),this._changedImages[y]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new _.Event("data",{dataType:"style"}))},x.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},x.prototype.addSource=function(y,k,P){var H=this;if(P===void 0&&(P={}),this._checkLoaded(),this.sourceCaches[y]!==void 0)throw new Error("There is already a source with this ID");if(!k.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(k).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(k.type)>=0&&this._validate(_.validateStyle.source,"sources."+y,k,null,P))){this.map&&this.map._collectResourceTiming&&(k.collectResourceTiming=!0);var X=this.sourceCaches[y]=new Ke(y,k,this.dispatcher);X.style=this,X.setEventedParent(this,function(){return{isSourceLoaded:H.loaded(),source:X.serialize(),sourceId:y}}),X.onAdd(this.map),this._changed=!0}},x.prototype.removeSource=function(y){if(this._checkLoaded(),this.sourceCaches[y]===void 0)throw new Error("There is no source with this ID");for(var k in this._layers)if(this._layers[k].source===y)return this.fire(new _.ErrorEvent(new Error('Source "'+y+'" cannot be removed while layer "'+k+'" is using it.')));var P=this.sourceCaches[y];delete this.sourceCaches[y],delete this._updatedSources[y],P.fire(new _.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:y})),P.setEventedParent(null),P.clearTiles(),P.onRemove&&P.onRemove(this.map),this._changed=!0},x.prototype.setGeoJSONSourceData=function(y,k){this._checkLoaded(),this.sourceCaches[y].getSource().setData(k),this._changed=!0},x.prototype.getSource=function(y){return this.sourceCaches[y]&&this.sourceCaches[y].getSource()},x.prototype.addLayer=function(y,k,P){P===void 0&&(P={}),this._checkLoaded();var H=y.id;if(this.getLayer(H))this.fire(new _.ErrorEvent(new Error('Layer with id "'+H+'" already exists on this map')));else{var X;if(y.type==="custom"){if(Ds(this,_.validateCustomStyleLayer(y)))return;X=_.createStyleLayer(y)}else{if(typeof y.source=="object"&&(this.addSource(H,y.source),y=_.clone$1(y),y=_.extend(y,{source:H})),this._validate(_.validateStyle.layer,"layers."+H,y,{arrayIndex:-1},P))return;X=_.createStyleLayer(y),this._validateLayer(X),X.setEventedParent(this,{layer:{id:H}}),this._serializedLayers[X.id]=X.serialize()}var ae=k?this._order.indexOf(k):this._order.length;if(k&&ae===-1)this.fire(new _.ErrorEvent(new Error('Layer with id "'+k+'" does not exist on this map.')));else{if(this._order.splice(ae,0,H),this._layerOrderChanged=!0,this._layers[H]=X,this._removedLayers[H]&&X.source&&X.type!=="custom"){var xe=this._removedLayers[H];delete this._removedLayers[H],xe.type!==X.type?this._updatedSources[X.source]="clear":(this._updatedSources[X.source]="reload",this.sourceCaches[X.source].pause())}this._updateLayer(X),X.onAdd&&X.onAdd(this.map)}}},x.prototype.moveLayer=function(y,k){if(this._checkLoaded(),this._changed=!0,this._layers[y]){if(y!==k){var P=this._order.indexOf(y);this._order.splice(P,1);var H=k?this._order.indexOf(k):this._order.length;k&&H===-1?this.fire(new _.ErrorEvent(new Error('Layer with id "'+k+'" does not exist on this map.'))):(this._order.splice(H,0,y),this._layerOrderChanged=!0)}}else this.fire(new _.ErrorEvent(new Error("The layer '"+y+"' does not exist in the map's style and cannot be moved.")))},x.prototype.removeLayer=function(y){this._checkLoaded();var k=this._layers[y];if(k){k.setEventedParent(null);var P=this._order.indexOf(y);this._order.splice(P,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[y]=k,delete this._layers[y],delete this._serializedLayers[y],delete this._updatedLayers[y],delete this._updatedPaintProps[y],k.onRemove&&k.onRemove(this.map)}else this.fire(new _.ErrorEvent(new Error("The layer '"+y+"' does not exist in the map's style and cannot be removed.")))},x.prototype.getLayer=function(y){return this._layers[y]},x.prototype.hasLayer=function(y){return y in this._layers},x.prototype.setLayerZoomRange=function(y,k,P){this._checkLoaded();var H=this.getLayer(y);H?H.minzoom===k&&H.maxzoom===P||(k!=null&&(H.minzoom=k),P!=null&&(H.maxzoom=P),this._updateLayer(H)):this.fire(new _.ErrorEvent(new Error("The layer '"+y+"' does not exist in the map's style and cannot have zoom extent.")))},x.prototype.setFilter=function(y,k,P){P===void 0&&(P={}),this._checkLoaded();var H=this.getLayer(y);if(H){if(!_.deepEqual(H.filter,k))return k==null?(H.filter=void 0,void this._updateLayer(H)):void(this._validate(_.validateStyle.filter,"layers."+H.id+".filter",k,null,P)||(H.filter=_.clone$1(k),this._updateLayer(H)))}else this.fire(new _.ErrorEvent(new Error("The layer '"+y+"' does not exist in the map's style and cannot be filtered.")))},x.prototype.getFilter=function(y){return _.clone$1(this.getLayer(y).filter)},x.prototype.setLayoutProperty=function(y,k,P,H){H===void 0&&(H={}),this._checkLoaded();var X=this.getLayer(y);X?_.deepEqual(X.getLayoutProperty(k),P)||(X.setLayoutProperty(k,P,H),this._updateLayer(X)):this.fire(new _.ErrorEvent(new Error("The layer '"+y+"' does not exist in the map's style and cannot be styled.")))},x.prototype.getLayoutProperty=function(y,k){var P=this.getLayer(y);if(P)return P.getLayoutProperty(k);this.fire(new _.ErrorEvent(new Error("The layer '"+y+"' does not exist in the map's style.")))},x.prototype.setPaintProperty=function(y,k,P,H){H===void 0&&(H={}),this._checkLoaded();var X=this.getLayer(y);X?_.deepEqual(X.getPaintProperty(k),P)||(X.setPaintProperty(k,P,H)&&this._updateLayer(X),this._changed=!0,this._updatedPaintProps[y]=!0):this.fire(new _.ErrorEvent(new Error("The layer '"+y+"' does not exist in the map's style and cannot be styled.")))},x.prototype.getPaintProperty=function(y,k){return this.getLayer(y).getPaintProperty(k)},x.prototype.setFeatureState=function(y,k){this._checkLoaded();var P=y.source,H=y.sourceLayer,X=this.sourceCaches[P];if(X!==void 0){var ae=X.getSource().type;ae==="geojson"&&H?this.fire(new _.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):ae!=="vector"||H?(y.id===void 0&&this.fire(new _.ErrorEvent(new Error("The feature id parameter must be provided."))),X.setFeatureState(H,y.id,k)):this.fire(new _.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new _.ErrorEvent(new Error("The source '"+P+"' does not exist in the map's style.")))},x.prototype.removeFeatureState=function(y,k){this._checkLoaded();var P=y.source,H=this.sourceCaches[P];if(H!==void 0){var X=H.getSource().type,ae=X==="vector"?y.sourceLayer:void 0;X!=="vector"||ae?k&&typeof y.id!="string"&&typeof y.id!="number"?this.fire(new _.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):H.removeFeatureState(ae,y.id,k):this.fire(new _.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new _.ErrorEvent(new Error("The source '"+P+"' does not exist in the map's style.")))},x.prototype.getFeatureState=function(y){this._checkLoaded();var k=y.source,P=y.sourceLayer,H=this.sourceCaches[k];if(H!==void 0){if(H.getSource().type!=="vector"||P)return y.id===void 0&&this.fire(new _.ErrorEvent(new Error("The feature id parameter must be provided."))),H.getFeatureState(P,y.id);this.fire(new _.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new _.ErrorEvent(new Error("The source '"+k+"' does not exist in the map's style.")))},x.prototype.getTransition=function(){return _.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},x.prototype.serialize=function(){return _.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:_.mapObject(this.sourceCaches,function(y){return y.serialize()}),layers:this._serializeLayers(this._order)},function(y){return y!==void 0})},x.prototype._updateLayer=function(y){this._updatedLayers[y.id]=!0,y.source&&!this._updatedSources[y.source]&&this.sourceCaches[y.source].getSource().type!=="raster"&&(this._updatedSources[y.source]="reload",this.sourceCaches[y.source].pause()),this._changed=!0},x.prototype._flattenAndSortRenderedFeatures=function(y){for(var k=this,P=function(yr){return k._layers[yr].type==="fill-extrusion"},H={},X=[],ae=this._order.length-1;ae>=0;ae--){var xe=this._order[ae];if(P(xe)){H[xe]=ae;for(var Oe=0,He=y;Oe<He.length;Oe+=1){var We=He[Oe][xe];if(We)for(var Ze=0,ht=We;Ze<ht.length;Ze+=1)X.push(ht[Ze])}}}X.sort(function(yr,br){return br.intersectionZ-yr.intersectionZ});for(var lt=[],vt=this._order.length-1;vt>=0;vt--){var nt=this._order[vt];if(P(nt))for(var bt=X.length-1;bt>=0;bt--){var St=X[bt].feature;if(H[St.layer.id]<vt)break;lt.push(St),X.pop()}else for(var Ft=0,rr=y;Ft<rr.length;Ft+=1){var Jt=rr[Ft][nt];if(Jt)for(var Zt=0,mr=Jt;Zt<mr.length;Zt+=1)lt.push(mr[Zt].feature)}}return lt},x.prototype.queryRenderedFeatures=function(y,k,P){k&&k.filter&&this._validate(_.validateStyle.filter,"queryRenderedFeatures.filter",k.filter,null,k);var H={};if(k&&k.layers){if(!Array.isArray(k.layers))return this.fire(new _.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var X=0,ae=k.layers;X<ae.length;X+=1){var xe=ae[X],Oe=this._layers[xe];if(!Oe)return this.fire(new _.ErrorEvent(new Error("The layer '"+xe+"' does not exist in the map's style and cannot be queried for features."))),[];H[Oe.source]=!0}}var He=[];for(var We in k.availableImages=this._availableImages,this.sourceCaches)k.layers&&!H[We]||He.push(qt(this.sourceCaches[We],this._layers,this._serializedLayers,y,k,P));return this.placement&&He.push(function(Ze,ht,lt,vt,nt,bt,St){for(var Ft={},rr=bt.queryRenderedSymbols(vt),Jt=[],Zt=0,mr=Object.keys(rr).map(Number);Zt<mr.length;Zt+=1)Jt.push(St[mr[Zt]]);Jt.sort(Nt);for(var yr=function(){var dn=$r[br],Bn=dn.featureIndex.lookupSymbolFeatures(rr[dn.bucketInstanceId],ht,dn.bucketIndex,dn.sourceLayerIndex,nt.filter,nt.layers,nt.availableImages,Ze);for(var Kr in Bn){var Mn=Ft[Kr]=Ft[Kr]||[],Vn=Bn[Kr];Vn.sort(function(Hn,vn){var xn=dn.featureSortOrder;if(xn){var ka=xn.indexOf(Hn.featureIndex);return xn.indexOf(vn.featureIndex)-ka}return vn.featureIndex-Hn.featureIndex});for(var On=0,Ln=Vn;On<Ln.length;On+=1)Mn.push(Ln[On])}},br=0,$r=Jt;br<$r.length;br+=1)yr();var Gr=function(dn){Ft[dn].forEach(function(Bn){var Kr=Bn.feature,Mn=lt[Ze[dn].source].getFeatureState(Kr.layer["source-layer"],Kr.id);Kr.source=Kr.layer.source,Kr.layer["source-layer"]&&(Kr.sourceLayer=Kr.layer["source-layer"]),Kr.state=Mn})};for(var hn in Ft)Gr(hn);return Ft}(this._layers,this._serializedLayers,this.sourceCaches,y,k,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(He)},x.prototype.querySourceFeatures=function(y,k){k&&k.filter&&this._validate(_.validateStyle.filter,"querySourceFeatures.filter",k.filter,null,k);var P=this.sourceCaches[y];return P?function(H,X){for(var ae=H.getRenderableIds().map(function(ht){return H.getTileByID(ht)}),xe=[],Oe={},He=0;He<ae.length;He++){var We=ae[He],Ze=We.tileID.canonical.key;Oe[Ze]||(Oe[Ze]=!0,We.querySourceFeatures(xe,X))}return xe}(P,k):[]},x.prototype.addSourceType=function(y,k,P){return x.getSourceType(y)?P(new Error('A source type called "'+y+'" already exists.')):(x.setSourceType(y,k),k.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:y,url:k.workerSourceURL},P):P(null,null))},x.prototype.getLight=function(){return this.light.getLight()},x.prototype.setLight=function(y,k){k===void 0&&(k={}),this._checkLoaded();var P=this.light.getLight(),H=!1;for(var X in y)if(!_.deepEqual(y[X],P[X])){H=!0;break}if(H){var ae={now:_.browser.now(),transition:_.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(y,k),this.light.updateTransitions(ae)}},x.prototype._validate=function(y,k,P,H,X){return X===void 0&&(X={}),(!X||X.validate!==!1)&&Ds(this,y.call(_.validateStyle,_.extend({key:k,style:this.serialize(),value:P,styleSpec:_.styleSpec},H)))},x.prototype._remove=function(){for(var y in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),_.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[y].setEventedParent(null);for(var k in this.sourceCaches)this.sourceCaches[k].clearTiles(),this.sourceCaches[k].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},x.prototype._clearSource=function(y){this.sourceCaches[y].clearTiles()},x.prototype._reloadSource=function(y){this.sourceCaches[y].resume(),this.sourceCaches[y].reload()},x.prototype._updateSources=function(y){for(var k in this.sourceCaches)this.sourceCaches[k].update(y)},x.prototype._generateCollisionBoxes=function(){for(var y in this.sourceCaches)this._reloadSource(y)},x.prototype._updatePlacement=function(y,k,P,H,X){X===void 0&&(X=!1);for(var ae=!1,xe=!1,Oe={},He=0,We=this._order;He<We.length;He+=1){var Ze=this._layers[We[He]];if(Ze.type==="symbol"){if(!Oe[Ze.source]){var ht=this.sourceCaches[Ze.source];Oe[Ze.source]=ht.getRenderableIds(!0).map(function(St){return ht.getTileByID(St)}).sort(function(St,Ft){return Ft.tileID.overscaledZ-St.tileID.overscaledZ||(St.tileID.isLessThan(Ft.tileID)?-1:1)})}var lt=this.crossTileSymbolIndex.addLayer(Ze,Oe[Ze.source],y.center.lng);ae=ae||lt}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((X=X||this._layerOrderChanged||P===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(_.browser.now(),y.zoom))&&(this.pauseablePlacement=new ou(y,this._order,X,k,P,H,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Oe),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(_.browser.now()),xe=!0),ae&&this.pauseablePlacement.placement.setStale()),xe||ae)for(var vt=0,nt=this._order;vt<nt.length;vt+=1){var bt=this._layers[nt[vt]];bt.type==="symbol"&&this.placement.updateLayerOpacities(bt,Oe[bt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(_.browser.now())},x.prototype._releaseSymbolFadeTiles=function(){for(var y in this.sourceCaches)this.sourceCaches[y].releaseSymbolFadeTiles()},x.prototype.getImages=function(y,k,P){this.imageManager.getImages(k.icons,P),this._updateTilesForChangedImages();var H=this.sourceCaches[k.source];H&&H.setDependencies(k.tileID.key,k.type,k.icons)},x.prototype.getGlyphs=function(y,k,P){this.glyphManager.getGlyphs(k.stacks,P)},x.prototype.getResource=function(y,k,P){return _.makeRequest(k,P)},x}(_.Evented);zs.getSourceType=function(m){return Wt[m]},zs.setSourceType=function(m,x){Wt[m]=x},zs.registerForPluginStateChange=_.registerForPluginStateChange;var Uo=_.createLayout([{name:"a_pos",type:"Int16",components:2}]),kf=Ui(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),wd=Ui(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),hp=Ui(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),au=Ui(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),Sd=Ui("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),cl=Ui(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),dp=Ui(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),zh=Ui("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Nc=Ui("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),Qf=Ui("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),Cf=Ui(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),io=Ui(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),su=Ui(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),Af=Ui(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),wa=Ui(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),Bc=Ui(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),ta=Ui(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),tf=Ui(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Cu=Ui(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),wo=Ui(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Xu=Ui(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),zl=Ui(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),Ju=Ui(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Qu=Ui(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),Uh=Ui(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),Td=Ui(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function Ui(m,x){var y=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,k=x.match(/attribute ([\w]+) ([\w]+)/g),P=m.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),H=x.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),X=H?H.concat(P):P,ae={};return{fragmentSource:m=m.replace(y,function(xe,Oe,He,We,Ze){return ae[Ze]=!0,Oe==="define"?`
#ifndef HAS_UNIFORM_u_`+Ze+`
varying `+He+" "+We+" "+Ze+`;
#else
uniform `+He+" "+We+" u_"+Ze+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+Ze+`
    `+He+" "+We+" "+Ze+" = u_"+Ze+`;
#endif
`}),vertexSource:x=x.replace(y,function(xe,Oe,He,We,Ze){var ht=We==="float"?"vec2":"vec4",lt=Ze.match(/color/)?"color":ht;return ae[Ze]?Oe==="define"?`
#ifndef HAS_UNIFORM_u_`+Ze+`
uniform lowp float u_`+Ze+`_t;
attribute `+He+" "+ht+" a_"+Ze+`;
varying `+He+" "+We+" "+Ze+`;
#else
uniform `+He+" "+We+" u_"+Ze+`;
#endif
`:lt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+Ze+`
    `+Ze+" = a_"+Ze+`;
#else
    `+He+" "+We+" "+Ze+" = u_"+Ze+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+Ze+`
    `+Ze+" = unpack_mix_"+lt+"(a_"+Ze+", u_"+Ze+`_t);
#else
    `+He+" "+We+" "+Ze+" = u_"+Ze+`;
#endif
`:Oe==="define"?`
#ifndef HAS_UNIFORM_u_`+Ze+`
uniform lowp float u_`+Ze+`_t;
attribute `+He+" "+ht+" a_"+Ze+`;
#else
uniform `+He+" "+We+" u_"+Ze+`;
#endif
`:lt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+Ze+`
    `+He+" "+We+" "+Ze+" = a_"+Ze+`;
#else
    `+He+" "+We+" "+Ze+" = u_"+Ze+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+Ze+`
    `+He+" "+We+" "+Ze+" = unpack_mix_"+lt+"(a_"+Ze+", u_"+Ze+`_t);
#else
    `+He+" "+We+" "+Ze+" = u_"+Ze+`;
#endif
`}),staticAttributes:k,staticUniforms:X}}var Ed=Object.freeze({__proto__:null,prelude:kf,background:wd,backgroundPattern:hp,circle:au,clippingMask:Sd,heatmap:cl,heatmapTexture:dp,collisionBox:zh,collisionCircle:Nc,debug:Qf,fill:Cf,fillOutline:io,fillOutlinePattern:su,fillPattern:Af,fillExtrusion:wa,fillExtrusionPattern:Bc,hillshadePrepare:ta,hillshade:tf,line:Cu,lineGradient:wo,linePattern:Xu,lineSDF:zl,raster:Ju,symbolIcon:Qu,symbolSDF:Uh,symbolTextAndIcon:Td}),jh=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function kd(m){for(var x=[],y=0;y<m.length;y++)if(m[y]!==null){var k=m[y].split(" ");x.push(k.pop())}return x}jh.prototype.bind=function(m,x,y,k,P,H,X,ae){this.context=m;for(var xe=this.boundPaintVertexBuffers.length!==k.length,Oe=0;!xe&&Oe<k.length;Oe++)this.boundPaintVertexBuffers[Oe]!==k[Oe]&&(xe=!0);m.extVertexArrayObject&&this.vao&&this.boundProgram===x&&this.boundLayoutVertexBuffer===y&&!xe&&this.boundIndexBuffer===P&&this.boundVertexOffset===H&&this.boundDynamicVertexBuffer===X&&this.boundDynamicVertexBuffer2===ae?(m.bindVertexArrayOES.set(this.vao),X&&X.bind(),P&&P.dynamicDraw&&P.bind(),ae&&ae.bind()):this.freshBind(x,y,k,P,H,X,ae)},jh.prototype.freshBind=function(m,x,y,k,P,H,X){var ae,xe=m.numAttributes,Oe=this.context,He=Oe.gl;if(Oe.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Oe.extVertexArrayObject.createVertexArrayOES(),Oe.bindVertexArrayOES.set(this.vao),ae=0,this.boundProgram=m,this.boundLayoutVertexBuffer=x,this.boundPaintVertexBuffers=y,this.boundIndexBuffer=k,this.boundVertexOffset=P,this.boundDynamicVertexBuffer=H,this.boundDynamicVertexBuffer2=X;else{ae=Oe.currentNumAttributes||0;for(var We=xe;We<ae;We++)He.disableVertexAttribArray(We)}x.enableAttributes(He,m);for(var Ze=0,ht=y;Ze<ht.length;Ze+=1)ht[Ze].enableAttributes(He,m);H&&H.enableAttributes(He,m),X&&X.enableAttributes(He,m),x.bind(),x.setVertexAttribPointers(He,m,P);for(var lt=0,vt=y;lt<vt.length;lt+=1){var nt=vt[lt];nt.bind(),nt.setVertexAttribPointers(He,m,P)}H&&(H.bind(),H.setVertexAttribPointers(He,m,P)),k&&k.bind(),X&&(X.bind(),X.setVertexAttribPointers(He,m,P)),Oe.currentNumAttributes=xe},jh.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var zc=function(m,x,y,k,P,H){var X=m.gl;this.program=X.createProgram();for(var ae=kd(y.staticAttributes),xe=k?k.getBinderAttributes():[],Oe=ae.concat(xe),He=y.staticUniforms?kd(y.staticUniforms):[],We=k?k.getBinderUniforms():[],Ze=[],ht=0,lt=He.concat(We);ht<lt.length;ht+=1){var vt=lt[ht];Ze.indexOf(vt)<0&&Ze.push(vt)}var nt=k?k.defines():[];H&&nt.push("#define OVERDRAW_INSPECTOR;");var bt=nt.concat(kf.fragmentSource,y.fragmentSource).join(`
`),St=nt.concat(kf.vertexSource,y.vertexSource).join(`
`),Ft=X.createShader(X.FRAGMENT_SHADER);if(X.isContextLost())this.failedToCreate=!0;else{X.shaderSource(Ft,bt),X.compileShader(Ft),X.attachShader(this.program,Ft);var rr=X.createShader(X.VERTEX_SHADER);if(X.isContextLost())this.failedToCreate=!0;else{X.shaderSource(rr,St),X.compileShader(rr),X.attachShader(this.program,rr),this.attributes={};var Jt={};this.numAttributes=Oe.length;for(var Zt=0;Zt<this.numAttributes;Zt++)Oe[Zt]&&(X.bindAttribLocation(this.program,Zt,Oe[Zt]),this.attributes[Oe[Zt]]=Zt);X.linkProgram(this.program),X.deleteShader(rr),X.deleteShader(Ft);for(var mr=0;mr<Ze.length;mr++){var yr=Ze[mr];if(yr&&!Jt[yr]){var br=X.getUniformLocation(this.program,yr);br&&(Jt[yr]=br)}}this.fixedUniforms=P(m,Jt),this.binderUniforms=k?k.getUniforms(m,Jt):[]}}};function ec(m,x,y){var k=1/ii(y,1,x.transform.tileZoom),P=Math.pow(2,y.tileID.overscaledZ),H=y.tileSize*Math.pow(2,x.transform.tileZoom)/P,X=H*(y.tileID.canonical.x+y.tileID.wrap*P),ae=H*y.tileID.canonical.y;return{u_image:0,u_texsize:y.imageAtlasTexture.size,u_scale:[k,m.fromScale,m.toScale],u_fade:m.t,u_pixel_coord_upper:[X>>16,ae>>16],u_pixel_coord_lower:[65535&X,65535&ae]}}zc.prototype.draw=function(m,x,y,k,P,H,X,ae,xe,Oe,He,We,Ze,ht,lt,vt){var nt,bt=m.gl;if(!this.failedToCreate){for(var St in m.program.set(this.program),m.setDepthMode(y),m.setStencilMode(k),m.setColorMode(P),m.setCullFace(H),this.fixedUniforms)this.fixedUniforms[St].set(X[St]);ht&&ht.setUniforms(m,this.binderUniforms,We,{zoom:Ze});for(var Ft=(nt={},nt[bt.LINES]=2,nt[bt.TRIANGLES]=3,nt[bt.LINE_STRIP]=1,nt)[x],rr=0,Jt=He.get();rr<Jt.length;rr+=1){var Zt=Jt[rr],mr=Zt.vaos||(Zt.vaos={});(mr[ae]||(mr[ae]=new jh)).bind(m,this,xe,ht?ht.getPaintVertexBuffers():[],Oe,Zt.vertexOffset,lt,vt),bt.drawElements(x,Zt.primitiveLength*Ft,bt.UNSIGNED_SHORT,Zt.primitiveOffset*Ft*2)}}};var eh=function(m,x,y,k){var P=x.style.light,H=P.properties.get("position"),X=[H.x,H.y,H.z],ae=_.create$1();P.properties.get("anchor")==="viewport"&&_.fromRotation(ae,-x.transform.angle),_.transformMat3(X,X,ae);var xe=P.properties.get("color");return{u_matrix:m,u_lightpos:X,u_lightintensity:P.properties.get("intensity"),u_lightcolor:[xe.r,xe.g,xe.b],u_vertical_gradient:+y,u_opacity:k}},ra=function(m,x,y,k,P,H,X){return _.extend(eh(m,x,y,k),ec(H,x,X),{u_height_factor:-Math.pow(2,P.overscaledZ)/X.tileSize/8})},ms=function(m){return{u_matrix:m}},Sa=function(m,x,y,k){return _.extend(ms(m),ec(y,x,k))},tc=function(m,x){return{u_matrix:m,u_world:x}},th=function(m,x,y,k,P){return _.extend(Sa(m,x,y,k),{u_world:P})},Au=function(m,x,y,k){var P,H,X=m.transform;if(k.paint.get("circle-pitch-alignment")==="map"){var ae=ii(y,1,X.zoom);P=!0,H=[ae,ae]}else P=!1,H=X.pixelsToGLUnits;return{u_camera_to_center_distance:X.cameraToCenterDistance,u_scale_with_map:+(k.paint.get("circle-pitch-scale")==="map"),u_matrix:m.translatePosMatrix(x.posMatrix,y,k.paint.get("circle-translate"),k.paint.get("circle-translate-anchor")),u_pitch_with_map:+P,u_device_pixel_ratio:_.browser.devicePixelRatio,u_extrude_scale:H}},Ul=function(m,x,y){var k=ii(y,1,x.zoom),P=Math.pow(2,x.zoom-y.tileID.overscaledZ),H=y.tileID.overscaleFactor();return{u_matrix:m,u_camera_to_center_distance:x.cameraToCenterDistance,u_pixels_to_tile_units:k,u_extrude_scale:[x.pixelsToGLUnits[0]/(k*P),x.pixelsToGLUnits[1]/(k*P)],u_overscale_factor:H}},Cd=function(m,x,y){return{u_matrix:m,u_inv_matrix:x,u_camera_to_center_distance:y.cameraToCenterDistance,u_viewport_size:[y.width,y.height]}},rf=function(m,x,y){return y===void 0&&(y=1),{u_matrix:m,u_color:x,u_overlay:0,u_overlay_scale:y}},bc=function(m){return{u_matrix:m}},Du=function(m,x,y,k){return{u_matrix:m,u_extrude_scale:ii(x,1,y),u_intensity:k}},fl=function(m,x,y){var k=m.transform;return{u_matrix:rh(m,x,y),u_ratio:1/ii(x,1,k.zoom),u_device_pixel_ratio:_.browser.devicePixelRatio,u_units_to_pixels:[1/k.pixelsToGLUnits[0],1/k.pixelsToGLUnits[1]]}},mo=function(m,x,y,k){return _.extend(fl(m,x,y),{u_image:0,u_image_height:k})},Ou=function(m,x,y,k){var P=m.transform,H=jl(x,P);return{u_matrix:rh(m,x,y),u_texsize:x.imageAtlasTexture.size,u_ratio:1/ii(x,1,P.zoom),u_device_pixel_ratio:_.browser.devicePixelRatio,u_image:0,u_scale:[H,k.fromScale,k.toScale],u_fade:k.t,u_units_to_pixels:[1/P.pixelsToGLUnits[0],1/P.pixelsToGLUnits[1]]}},rc=function(m,x,y,k,P){var H=m.lineAtlas,X=jl(x,m.transform),ae=y.layout.get("line-cap")==="round",xe=H.getDash(k.from,ae),Oe=H.getDash(k.to,ae),He=xe.width*P.fromScale,We=Oe.width*P.toScale;return _.extend(fl(m,x,y),{u_patternscale_a:[X/He,-xe.height/2],u_patternscale_b:[X/We,-Oe.height/2],u_sdfgamma:H.width/(256*Math.min(He,We)*_.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:xe.y,u_tex_y_b:Oe.y,u_mix:P.t})};function jl(m,x){return 1/ii(m,1,x.tileZoom)}function rh(m,x,y){return m.translatePosMatrix(x.tileID.posMatrix,x,y.paint.get("line-translate"),y.paint.get("line-translate-anchor"))}var nm=function(m,x,y,k,P){return{u_matrix:m,u_tl_parent:x,u_scale_parent:y,u_buffer_scale:1,u_fade_t:k.mix,u_opacity:k.opacity*P.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:P.paint.get("raster-brightness-min"),u_brightness_high:P.paint.get("raster-brightness-max"),u_saturation_factor:(X=P.paint.get("raster-saturation"),X>0?1-1/(1.001-X):-X),u_contrast_factor:(H=P.paint.get("raster-contrast"),H>0?1/(1-H):1+H),u_spin_weights:pp(P.paint.get("raster-hue-rotate"))};var H,X};function pp(m){m*=Math.PI/180;var x=Math.sin(m),y=Math.cos(m);return[(2*y+1)/3,(-Math.sqrt(3)*x-y+1)/3,(Math.sqrt(3)*x-y+1)/3]}var nf,lu=function(m,x,y,k,P,H,X,ae,xe,Oe){var He=P.transform;return{u_is_size_zoom_constant:+(m==="constant"||m==="source"),u_is_size_feature_constant:+(m==="constant"||m==="camera"),u_size_t:x?x.uSizeT:0,u_size:x?x.uSize:0,u_camera_to_center_distance:He.cameraToCenterDistance,u_pitch:He.pitch/360*2*Math.PI,u_rotate_symbol:+y,u_aspect_ratio:He.width/He.height,u_fade_change:P.options.fadeDuration?P.symbolFadeChange:1,u_matrix:H,u_label_plane_matrix:X,u_coord_matrix:ae,u_is_text:+xe,u_pitch_with_map:+k,u_texsize:Oe,u_texture:0}},Us=function(m,x,y,k,P,H,X,ae,xe,Oe,He){var We=P.transform;return _.extend(lu(m,x,y,k,P,H,X,ae,xe,Oe),{u_gamma_scale:k?Math.cos(We._pitch)*We.cameraToCenterDistance:1,u_device_pixel_ratio:_.browser.devicePixelRatio,u_is_halo:+He})},nc=function(m,x,y,k,P,H,X,ae,xe,Oe){return _.extend(Us(m,x,y,k,P,H,X,ae,!0,xe,!0),{u_texsize_icon:Oe,u_texture_icon:1})},Uc=function(m,x,y){return{u_matrix:m,u_opacity:x,u_color:y}},of=function(m,x,y,k,P,H){return _.extend(function(X,ae,xe,Oe){var He=xe.imageManager.getPattern(X.from.toString()),We=xe.imageManager.getPattern(X.to.toString()),Ze=xe.imageManager.getPixelSize(),ht=Ze.width,lt=Ze.height,vt=Math.pow(2,Oe.tileID.overscaledZ),nt=Oe.tileSize*Math.pow(2,xe.transform.tileZoom)/vt,bt=nt*(Oe.tileID.canonical.x+Oe.tileID.wrap*vt),St=nt*Oe.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:He.tl,u_pattern_br_a:He.br,u_pattern_tl_b:We.tl,u_pattern_br_b:We.br,u_texsize:[ht,lt],u_mix:ae.t,u_pattern_size_a:He.displaySize,u_pattern_size_b:We.displaySize,u_scale_a:ae.fromScale,u_scale_b:ae.toScale,u_tile_units_to_pixels:1/ii(Oe,1,xe.transform.tileZoom),u_pixel_coord_upper:[bt>>16,St>>16],u_pixel_coord_lower:[65535&bt,65535&St]}}(k,H,y,P),{u_matrix:m,u_opacity:x})},nh={fillExtrusion:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_lightpos:new _.Uniform3f(m,x.u_lightpos),u_lightintensity:new _.Uniform1f(m,x.u_lightintensity),u_lightcolor:new _.Uniform3f(m,x.u_lightcolor),u_vertical_gradient:new _.Uniform1f(m,x.u_vertical_gradient),u_opacity:new _.Uniform1f(m,x.u_opacity)}},fillExtrusionPattern:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_lightpos:new _.Uniform3f(m,x.u_lightpos),u_lightintensity:new _.Uniform1f(m,x.u_lightintensity),u_lightcolor:new _.Uniform3f(m,x.u_lightcolor),u_vertical_gradient:new _.Uniform1f(m,x.u_vertical_gradient),u_height_factor:new _.Uniform1f(m,x.u_height_factor),u_image:new _.Uniform1i(m,x.u_image),u_texsize:new _.Uniform2f(m,x.u_texsize),u_pixel_coord_upper:new _.Uniform2f(m,x.u_pixel_coord_upper),u_pixel_coord_lower:new _.Uniform2f(m,x.u_pixel_coord_lower),u_scale:new _.Uniform3f(m,x.u_scale),u_fade:new _.Uniform1f(m,x.u_fade),u_opacity:new _.Uniform1f(m,x.u_opacity)}},fill:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix)}},fillPattern:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_image:new _.Uniform1i(m,x.u_image),u_texsize:new _.Uniform2f(m,x.u_texsize),u_pixel_coord_upper:new _.Uniform2f(m,x.u_pixel_coord_upper),u_pixel_coord_lower:new _.Uniform2f(m,x.u_pixel_coord_lower),u_scale:new _.Uniform3f(m,x.u_scale),u_fade:new _.Uniform1f(m,x.u_fade)}},fillOutline:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_world:new _.Uniform2f(m,x.u_world)}},fillOutlinePattern:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_world:new _.Uniform2f(m,x.u_world),u_image:new _.Uniform1i(m,x.u_image),u_texsize:new _.Uniform2f(m,x.u_texsize),u_pixel_coord_upper:new _.Uniform2f(m,x.u_pixel_coord_upper),u_pixel_coord_lower:new _.Uniform2f(m,x.u_pixel_coord_lower),u_scale:new _.Uniform3f(m,x.u_scale),u_fade:new _.Uniform1f(m,x.u_fade)}},circle:function(m,x){return{u_camera_to_center_distance:new _.Uniform1f(m,x.u_camera_to_center_distance),u_scale_with_map:new _.Uniform1i(m,x.u_scale_with_map),u_pitch_with_map:new _.Uniform1i(m,x.u_pitch_with_map),u_extrude_scale:new _.Uniform2f(m,x.u_extrude_scale),u_device_pixel_ratio:new _.Uniform1f(m,x.u_device_pixel_ratio),u_matrix:new _.UniformMatrix4f(m,x.u_matrix)}},collisionBox:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_camera_to_center_distance:new _.Uniform1f(m,x.u_camera_to_center_distance),u_pixels_to_tile_units:new _.Uniform1f(m,x.u_pixels_to_tile_units),u_extrude_scale:new _.Uniform2f(m,x.u_extrude_scale),u_overscale_factor:new _.Uniform1f(m,x.u_overscale_factor)}},collisionCircle:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_inv_matrix:new _.UniformMatrix4f(m,x.u_inv_matrix),u_camera_to_center_distance:new _.Uniform1f(m,x.u_camera_to_center_distance),u_viewport_size:new _.Uniform2f(m,x.u_viewport_size)}},debug:function(m,x){return{u_color:new _.UniformColor(m,x.u_color),u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_overlay:new _.Uniform1i(m,x.u_overlay),u_overlay_scale:new _.Uniform1f(m,x.u_overlay_scale)}},clippingMask:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix)}},heatmap:function(m,x){return{u_extrude_scale:new _.Uniform1f(m,x.u_extrude_scale),u_intensity:new _.Uniform1f(m,x.u_intensity),u_matrix:new _.UniformMatrix4f(m,x.u_matrix)}},heatmapTexture:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_world:new _.Uniform2f(m,x.u_world),u_image:new _.Uniform1i(m,x.u_image),u_color_ramp:new _.Uniform1i(m,x.u_color_ramp),u_opacity:new _.Uniform1f(m,x.u_opacity)}},hillshade:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_image:new _.Uniform1i(m,x.u_image),u_latrange:new _.Uniform2f(m,x.u_latrange),u_light:new _.Uniform2f(m,x.u_light),u_shadow:new _.UniformColor(m,x.u_shadow),u_highlight:new _.UniformColor(m,x.u_highlight),u_accent:new _.UniformColor(m,x.u_accent)}},hillshadePrepare:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_image:new _.Uniform1i(m,x.u_image),u_dimension:new _.Uniform2f(m,x.u_dimension),u_zoom:new _.Uniform1f(m,x.u_zoom),u_unpack:new _.Uniform4f(m,x.u_unpack)}},line:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_ratio:new _.Uniform1f(m,x.u_ratio),u_device_pixel_ratio:new _.Uniform1f(m,x.u_device_pixel_ratio),u_units_to_pixels:new _.Uniform2f(m,x.u_units_to_pixels)}},lineGradient:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_ratio:new _.Uniform1f(m,x.u_ratio),u_device_pixel_ratio:new _.Uniform1f(m,x.u_device_pixel_ratio),u_units_to_pixels:new _.Uniform2f(m,x.u_units_to_pixels),u_image:new _.Uniform1i(m,x.u_image),u_image_height:new _.Uniform1f(m,x.u_image_height)}},linePattern:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_texsize:new _.Uniform2f(m,x.u_texsize),u_ratio:new _.Uniform1f(m,x.u_ratio),u_device_pixel_ratio:new _.Uniform1f(m,x.u_device_pixel_ratio),u_image:new _.Uniform1i(m,x.u_image),u_units_to_pixels:new _.Uniform2f(m,x.u_units_to_pixels),u_scale:new _.Uniform3f(m,x.u_scale),u_fade:new _.Uniform1f(m,x.u_fade)}},lineSDF:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_ratio:new _.Uniform1f(m,x.u_ratio),u_device_pixel_ratio:new _.Uniform1f(m,x.u_device_pixel_ratio),u_units_to_pixels:new _.Uniform2f(m,x.u_units_to_pixels),u_patternscale_a:new _.Uniform2f(m,x.u_patternscale_a),u_patternscale_b:new _.Uniform2f(m,x.u_patternscale_b),u_sdfgamma:new _.Uniform1f(m,x.u_sdfgamma),u_image:new _.Uniform1i(m,x.u_image),u_tex_y_a:new _.Uniform1f(m,x.u_tex_y_a),u_tex_y_b:new _.Uniform1f(m,x.u_tex_y_b),u_mix:new _.Uniform1f(m,x.u_mix)}},raster:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_tl_parent:new _.Uniform2f(m,x.u_tl_parent),u_scale_parent:new _.Uniform1f(m,x.u_scale_parent),u_buffer_scale:new _.Uniform1f(m,x.u_buffer_scale),u_fade_t:new _.Uniform1f(m,x.u_fade_t),u_opacity:new _.Uniform1f(m,x.u_opacity),u_image0:new _.Uniform1i(m,x.u_image0),u_image1:new _.Uniform1i(m,x.u_image1),u_brightness_low:new _.Uniform1f(m,x.u_brightness_low),u_brightness_high:new _.Uniform1f(m,x.u_brightness_high),u_saturation_factor:new _.Uniform1f(m,x.u_saturation_factor),u_contrast_factor:new _.Uniform1f(m,x.u_contrast_factor),u_spin_weights:new _.Uniform3f(m,x.u_spin_weights)}},symbolIcon:function(m,x){return{u_is_size_zoom_constant:new _.Uniform1i(m,x.u_is_size_zoom_constant),u_is_size_feature_constant:new _.Uniform1i(m,x.u_is_size_feature_constant),u_size_t:new _.Uniform1f(m,x.u_size_t),u_size:new _.Uniform1f(m,x.u_size),u_camera_to_center_distance:new _.Uniform1f(m,x.u_camera_to_center_distance),u_pitch:new _.Uniform1f(m,x.u_pitch),u_rotate_symbol:new _.Uniform1i(m,x.u_rotate_symbol),u_aspect_ratio:new _.Uniform1f(m,x.u_aspect_ratio),u_fade_change:new _.Uniform1f(m,x.u_fade_change),u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_label_plane_matrix:new _.UniformMatrix4f(m,x.u_label_plane_matrix),u_coord_matrix:new _.UniformMatrix4f(m,x.u_coord_matrix),u_is_text:new _.Uniform1i(m,x.u_is_text),u_pitch_with_map:new _.Uniform1i(m,x.u_pitch_with_map),u_texsize:new _.Uniform2f(m,x.u_texsize),u_texture:new _.Uniform1i(m,x.u_texture)}},symbolSDF:function(m,x){return{u_is_size_zoom_constant:new _.Uniform1i(m,x.u_is_size_zoom_constant),u_is_size_feature_constant:new _.Uniform1i(m,x.u_is_size_feature_constant),u_size_t:new _.Uniform1f(m,x.u_size_t),u_size:new _.Uniform1f(m,x.u_size),u_camera_to_center_distance:new _.Uniform1f(m,x.u_camera_to_center_distance),u_pitch:new _.Uniform1f(m,x.u_pitch),u_rotate_symbol:new _.Uniform1i(m,x.u_rotate_symbol),u_aspect_ratio:new _.Uniform1f(m,x.u_aspect_ratio),u_fade_change:new _.Uniform1f(m,x.u_fade_change),u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_label_plane_matrix:new _.UniformMatrix4f(m,x.u_label_plane_matrix),u_coord_matrix:new _.UniformMatrix4f(m,x.u_coord_matrix),u_is_text:new _.Uniform1i(m,x.u_is_text),u_pitch_with_map:new _.Uniform1i(m,x.u_pitch_with_map),u_texsize:new _.Uniform2f(m,x.u_texsize),u_texture:new _.Uniform1i(m,x.u_texture),u_gamma_scale:new _.Uniform1f(m,x.u_gamma_scale),u_device_pixel_ratio:new _.Uniform1f(m,x.u_device_pixel_ratio),u_is_halo:new _.Uniform1i(m,x.u_is_halo)}},symbolTextAndIcon:function(m,x){return{u_is_size_zoom_constant:new _.Uniform1i(m,x.u_is_size_zoom_constant),u_is_size_feature_constant:new _.Uniform1i(m,x.u_is_size_feature_constant),u_size_t:new _.Uniform1f(m,x.u_size_t),u_size:new _.Uniform1f(m,x.u_size),u_camera_to_center_distance:new _.Uniform1f(m,x.u_camera_to_center_distance),u_pitch:new _.Uniform1f(m,x.u_pitch),u_rotate_symbol:new _.Uniform1i(m,x.u_rotate_symbol),u_aspect_ratio:new _.Uniform1f(m,x.u_aspect_ratio),u_fade_change:new _.Uniform1f(m,x.u_fade_change),u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_label_plane_matrix:new _.UniformMatrix4f(m,x.u_label_plane_matrix),u_coord_matrix:new _.UniformMatrix4f(m,x.u_coord_matrix),u_is_text:new _.Uniform1i(m,x.u_is_text),u_pitch_with_map:new _.Uniform1i(m,x.u_pitch_with_map),u_texsize:new _.Uniform2f(m,x.u_texsize),u_texsize_icon:new _.Uniform2f(m,x.u_texsize_icon),u_texture:new _.Uniform1i(m,x.u_texture),u_texture_icon:new _.Uniform1i(m,x.u_texture_icon),u_gamma_scale:new _.Uniform1f(m,x.u_gamma_scale),u_device_pixel_ratio:new _.Uniform1f(m,x.u_device_pixel_ratio),u_is_halo:new _.Uniform1i(m,x.u_is_halo)}},background:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_opacity:new _.Uniform1f(m,x.u_opacity),u_color:new _.UniformColor(m,x.u_color)}},backgroundPattern:function(m,x){return{u_matrix:new _.UniformMatrix4f(m,x.u_matrix),u_opacity:new _.Uniform1f(m,x.u_opacity),u_image:new _.Uniform1i(m,x.u_image),u_pattern_tl_a:new _.Uniform2f(m,x.u_pattern_tl_a),u_pattern_br_a:new _.Uniform2f(m,x.u_pattern_br_a),u_pattern_tl_b:new _.Uniform2f(m,x.u_pattern_tl_b),u_pattern_br_b:new _.Uniform2f(m,x.u_pattern_br_b),u_texsize:new _.Uniform2f(m,x.u_texsize),u_mix:new _.Uniform1f(m,x.u_mix),u_pattern_size_a:new _.Uniform2f(m,x.u_pattern_size_a),u_pattern_size_b:new _.Uniform2f(m,x.u_pattern_size_b),u_scale_a:new _.Uniform1f(m,x.u_scale_a),u_scale_b:new _.Uniform1f(m,x.u_scale_b),u_pixel_coord_upper:new _.Uniform2f(m,x.u_pixel_coord_upper),u_pixel_coord_lower:new _.Uniform2f(m,x.u_pixel_coord_lower),u_tile_units_to_pixels:new _.Uniform1f(m,x.u_tile_units_to_pixels)}}};function gs(m,x,y,k,P,H,X){for(var ae=m.context,xe=ae.gl,Oe=m.useProgram("collisionBox"),He=[],We=0,Ze=0,ht=0;ht<k.length;ht++){var lt=k[ht],vt=x.getTile(lt),nt=vt.getBucket(y);if(nt){var bt=lt.posMatrix;P[0]===0&&P[1]===0||(bt=m.translatePosMatrix(lt.posMatrix,vt,P,H));var St=X?nt.textCollisionBox:nt.iconCollisionBox,Ft=nt.collisionCircleArray;if(Ft.length>0){var rr=_.create(),Jt=bt;_.mul(rr,nt.placementInvProjMatrix,m.transform.glCoordMatrix),_.mul(rr,rr,nt.placementViewportMatrix),He.push({circleArray:Ft,circleOffset:Ze,transform:Jt,invTransform:rr}),Ze=We+=Ft.length/4}St&&Oe.draw(ae,xe.LINES,Ye.disabled,ot.disabled,m.colorModeForRenderPass(),mt.disabled,Ul(bt,m.transform,vt),y.id,St.layoutVertexBuffer,St.indexBuffer,St.segments,null,m.transform.zoom,null,null,St.collisionVertexBuffer)}}if(X&&He.length){var Zt=m.useProgram("collisionCircle"),mr=new _.StructArrayLayout2f1f2i16;mr.resize(4*We),mr._trim();for(var yr=0,br=0,$r=He;br<$r.length;br+=1)for(var Gr=$r[br],hn=0;hn<Gr.circleArray.length/4;hn++){var dn=4*hn,Bn=Gr.circleArray[dn+0],Kr=Gr.circleArray[dn+1],Mn=Gr.circleArray[dn+2],Vn=Gr.circleArray[dn+3];mr.emplace(yr++,Bn,Kr,Mn,Vn,0),mr.emplace(yr++,Bn,Kr,Mn,Vn,1),mr.emplace(yr++,Bn,Kr,Mn,Vn,2),mr.emplace(yr++,Bn,Kr,Mn,Vn,3)}(!nf||nf.length<2*We)&&(nf=function(So){var Qo=2*So,as=new _.StructArrayLayout3ui6;as.resize(Qo),as._trim();for(var _o=0;_o<Qo;_o++){var To=6*_o;as.uint16[To+0]=4*_o+0,as.uint16[To+1]=4*_o+1,as.uint16[To+2]=4*_o+2,as.uint16[To+3]=4*_o+2,as.uint16[To+4]=4*_o+3,as.uint16[To+5]=4*_o+0}return as}(We));for(var On=ae.createIndexBuffer(nf,!0),Ln=ae.createVertexBuffer(mr,_.collisionCircleLayout.members,!0),Hn=0,vn=He;Hn<vn.length;Hn+=1){var xn=vn[Hn],ka=Cd(xn.transform,xn.invTransform,m.transform);Zt.draw(ae,xe.TRIANGLES,Ye.disabled,ot.disabled,m.colorModeForRenderPass(),mt.disabled,ka,y.id,Ln,On,_.SegmentVector.simpleSegment(0,2*xn.circleOffset,xn.circleArray.length,xn.circleArray.length/2),null,m.transform.zoom,null,null,null)}Ln.destroy(),On.destroy()}}var uu=_.identity(new Float32Array(16));function Hl(m,x,y,k,P,H){var X=_.getAnchorAlignment(m),ae=-(X.horizontalAlign-.5)*x,xe=-(X.verticalAlign-.5)*y,Oe=_.evaluateVariableOffset(m,k);return new _.Point((ae/P+Oe[0])*H,(xe/P+Oe[1])*H)}function Pt(m,x,y,k,P,H,X,ae,xe,Oe,He){var We=m.text.placedSymbolArray,Ze=m.text.dynamicLayoutVertexArray,ht=m.icon.dynamicLayoutVertexArray,lt={};Ze.clear();for(var vt=0;vt<We.length;vt++){var nt=We.get(vt),bt=nt.hidden||!nt.crossTileID||m.allowVerticalPlacement&&!nt.placedOrientation?null:k[nt.crossTileID];if(bt){var St=new _.Point(nt.anchorX,nt.anchorY),Ft=sn(St,y?ae:X),rr=Xn(H.cameraToCenterDistance,Ft.signedDistanceFromCamera),Jt=P.evaluateSizeForFeature(m.textSizeData,Oe,nt)*rr/_.ONE_EM;y&&(Jt*=m.tilePixelRatio/xe);for(var Zt=Hl(bt.anchor,bt.width,bt.height,bt.textOffset,bt.textBoxScale,Jt),mr=y?sn(St.add(Zt),X).point:Ft.point.add(x?Zt.rotate(-H.angle):Zt),yr=m.allowVerticalPlacement&&nt.placedOrientation===_.WritingMode.vertical?Math.PI/2:0,br=0;br<nt.numGlyphs;br++)_.addDynamicAttributes(Ze,mr,yr);He&&nt.associatedIconIndex>=0&&(lt[nt.associatedIconIndex]={shiftedAnchor:mr,angle:yr})}else ho(nt.numGlyphs,Ze)}if(He){ht.clear();for(var $r=m.icon.placedSymbolArray,Gr=0;Gr<$r.length;Gr++){var hn=$r.get(Gr);if(hn.hidden)ho(hn.numGlyphs,ht);else{var dn=lt[Gr];if(dn)for(var Bn=0;Bn<hn.numGlyphs;Bn++)_.addDynamicAttributes(ht,dn.shiftedAnchor,dn.angle);else ho(hn.numGlyphs,ht)}}m.icon.dynamicLayoutVertexBuffer.updateData(ht)}m.text.dynamicLayoutVertexBuffer.updateData(Ze)}function gr(m,x,y){return y.iconsInText&&x?"symbolTextAndIcon":m?"symbolSDF":"symbolIcon"}function sr(m,x,y,k,P,H,X,ae,xe,Oe,He,We){for(var Ze=m.context,ht=Ze.gl,lt=m.transform,vt=ae==="map",nt=xe==="map",bt=vt&&y.layout.get("symbol-placement")!=="point",St=vt&&!nt&&!bt,Ft=y.layout.get("symbol-sort-key").constantOr(1)!==void 0,rr=!1,Jt=m.depthModeForSublayer(0,Ye.ReadOnly),Zt=y.layout.get("text-variable-anchor"),mr=[],yr=0,br=k;yr<br.length;yr+=1){var $r=br[yr],Gr=x.getTile($r),hn=Gr.getBucket(y);if(hn){var dn=P?hn.text:hn.icon;if(dn&&dn.segments.get().length){var Bn=dn.programConfigurations.get(y.id),Kr=P||hn.sdfIcons,Mn=P?hn.textSizeData:hn.iconSizeData,Vn=nt||lt.pitch!==0,On=m.useProgram(gr(Kr,P,hn),Bn),Ln=_.evaluateSizeForZoom(Mn,lt.zoom),Hn=void 0,vn=[0,0],xn=void 0,ka=void 0,So=null,Qo=void 0;if(P)xn=Gr.glyphAtlasTexture,ka=ht.LINEAR,Hn=Gr.glyphAtlasTexture.size,hn.iconsInText&&(vn=Gr.imageAtlasTexture.size,So=Gr.imageAtlasTexture,Qo=Vn||m.options.rotating||m.options.zooming||Mn.kind==="composite"||Mn.kind==="camera"?ht.LINEAR:ht.NEAREST);else{var as=y.layout.get("icon-size").constantOr(0)!==1||hn.iconsNeedLinear;xn=Gr.imageAtlasTexture,ka=Kr||m.options.rotating||m.options.zooming||as||Vn?ht.LINEAR:ht.NEAREST,Hn=Gr.imageAtlasTexture.size}var _o=ii(Gr,1,m.transform.zoom),To=an($r.posMatrix,nt,vt,m.transform,_o),ss=Qr($r.posMatrix,nt,vt,m.transform,_o),$a=Zt&&hn.hasTextData(),Qs=y.layout.get("icon-text-fit")!=="none"&&$a&&hn.hasIconData();bt&&As(hn,$r.posMatrix,m,P,To,ss,nt,Oe);var ls=m.translatePosMatrix($r.posMatrix,Gr,H,X),el=bt||P&&Zt||Qs?uu:To,xs=m.translatePosMatrix(ss,Gr,H,X,!0),vu=Kr&&y.paint.get(P?"text-halo-width":"icon-halo-width").constantOr(1)!==0,yu={program:On,buffers:dn,uniformValues:Kr?hn.iconsInText?nc(Mn.kind,Ln,St,nt,m,ls,el,xs,Hn,vn):Us(Mn.kind,Ln,St,nt,m,ls,el,xs,P,Hn,!0):lu(Mn.kind,Ln,St,nt,m,ls,el,xs,P,Hn),atlasTexture:xn,atlasTextureIcon:So,atlasInterpolation:ka,atlasInterpolationIcon:Qo,isSDF:Kr,hasHalo:vu};if(Ft&&hn.canOverlap){rr=!0;for(var Yl=0,Zl=dn.segments.get();Yl<Zl.length;Yl+=1){var qu=Zl[Yl];mr.push({segments:new _.SegmentVector([qu]),sortKey:qu.sortKey,state:yu})}}else mr.push({segments:dn.segments,sortKey:0,state:yu})}}}rr&&mr.sort(function(Wc,Ga){return Wc.sortKey-Ga.sortKey});for(var Hs=0,Gh=mr;Hs<Gh.length;Hs+=1){var Nu=Gh[Hs],ji=Nu.state;if(Ze.activeTexture.set(ht.TEXTURE0),ji.atlasTexture.bind(ji.atlasInterpolation,ht.CLAMP_TO_EDGE),ji.atlasTextureIcon&&(Ze.activeTexture.set(ht.TEXTURE1),ji.atlasTextureIcon&&ji.atlasTextureIcon.bind(ji.atlasInterpolationIcon,ht.CLAMP_TO_EDGE)),ji.isSDF){var Ec=ji.uniformValues;ji.hasHalo&&(Ec.u_is_halo=1,fn(ji.buffers,Nu.segments,y,m,ji.program,Jt,He,We,Ec)),Ec.u_is_halo=0}fn(ji.buffers,Nu.segments,y,m,ji.program,Jt,He,We,ji.uniformValues)}}function fn(m,x,y,k,P,H,X,ae,xe){var Oe=k.context;P.draw(Oe,Oe.gl.TRIANGLES,H,X,ae,mt.disabled,xe,y.id,m.layoutVertexBuffer,m.indexBuffer,x,y.paint,k.transform.zoom,m.programConfigurations.get(y.id),m.dynamicLayoutVertexBuffer,m.opacityVertexBuffer)}function ti(m,x,y,k,P,H,X){var ae,xe,Oe,He,We,Ze=m.context.gl,ht=y.paint.get("fill-pattern"),lt=ht&&ht.constantOr(1),vt=y.getCrossfadeParameters();X?(xe=lt&&!y.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ae=Ze.LINES):(xe=lt?"fillPattern":"fill",ae=Ze.TRIANGLES);for(var nt=0,bt=k;nt<bt.length;nt+=1){var St=bt[nt],Ft=x.getTile(St);if(!lt||Ft.patternsLoaded()){var rr=Ft.getBucket(y);if(rr){var Jt=rr.programConfigurations.get(y.id),Zt=m.useProgram(xe,Jt);lt&&(m.context.activeTexture.set(Ze.TEXTURE0),Ft.imageAtlasTexture.bind(Ze.LINEAR,Ze.CLAMP_TO_EDGE),Jt.updatePaintBuffers(vt));var mr=ht.constantOr(null);if(mr&&Ft.imageAtlas){var yr=Ft.imageAtlas,br=yr.patternPositions[mr.to.toString()],$r=yr.patternPositions[mr.from.toString()];br&&$r&&Jt.setConstantPatternPositions(br,$r)}var Gr=m.translatePosMatrix(St.posMatrix,Ft,y.paint.get("fill-translate"),y.paint.get("fill-translate-anchor"));if(X){He=rr.indexBuffer2,We=rr.segments2;var hn=[Ze.drawingBufferWidth,Ze.drawingBufferHeight];Oe=xe==="fillOutlinePattern"&&lt?th(Gr,m,vt,Ft,hn):tc(Gr,hn)}else He=rr.indexBuffer,We=rr.segments,Oe=lt?Sa(Gr,m,vt,Ft):ms(Gr);Zt.draw(m.context,ae,P,m.stencilModeForClipping(St),H,mt.disabled,Oe,y.id,rr.layoutVertexBuffer,He,We,y.paint,m.transform.zoom,Jt)}}}}function Yi(m,x,y,k,P,H,X){for(var ae=m.context,xe=ae.gl,Oe=y.paint.get("fill-extrusion-pattern"),He=Oe.constantOr(1),We=y.getCrossfadeParameters(),Ze=y.paint.get("fill-extrusion-opacity"),ht=0,lt=k;ht<lt.length;ht+=1){var vt=lt[ht],nt=x.getTile(vt),bt=nt.getBucket(y);if(bt){var St=bt.programConfigurations.get(y.id),Ft=m.useProgram(He?"fillExtrusionPattern":"fillExtrusion",St);He&&(m.context.activeTexture.set(xe.TEXTURE0),nt.imageAtlasTexture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE),St.updatePaintBuffers(We));var rr=Oe.constantOr(null);if(rr&&nt.imageAtlas){var Jt=nt.imageAtlas,Zt=Jt.patternPositions[rr.to.toString()],mr=Jt.patternPositions[rr.from.toString()];Zt&&mr&&St.setConstantPatternPositions(Zt,mr)}var yr=m.translatePosMatrix(vt.posMatrix,nt,y.paint.get("fill-extrusion-translate"),y.paint.get("fill-extrusion-translate-anchor")),br=y.paint.get("fill-extrusion-vertical-gradient"),$r=He?ra(yr,m,br,Ze,vt,We,nt):eh(yr,m,br,Ze);Ft.draw(ae,ae.gl.TRIANGLES,P,H,X,mt.backCCW,$r,y.id,bt.layoutVertexBuffer,bt.indexBuffer,bt.segments,y.paint,m.transform.zoom,St)}}}function fa(m,x,y,k,P,H){var X=m.context,ae=X.gl,xe=x.fbo;if(xe){var Oe=m.useProgram("hillshade");X.activeTexture.set(ae.TEXTURE0),ae.bindTexture(ae.TEXTURE_2D,xe.colorAttachment.get());var He=function(We,Ze,ht){var lt=ht.paint.get("hillshade-shadow-color"),vt=ht.paint.get("hillshade-highlight-color"),nt=ht.paint.get("hillshade-accent-color"),bt=ht.paint.get("hillshade-illumination-direction")*(Math.PI/180);ht.paint.get("hillshade-illumination-anchor")==="viewport"&&(bt-=We.transform.angle);var St,Ft,rr,Jt=!We.options.moving;return{u_matrix:We.transform.calculatePosMatrix(Ze.tileID.toUnwrapped(),Jt),u_image:0,u_latrange:(St=Ze.tileID,Ft=Math.pow(2,St.canonical.z),rr=St.canonical.y,[new _.MercatorCoordinate(0,rr/Ft).toLngLat().lat,new _.MercatorCoordinate(0,(rr+1)/Ft).toLngLat().lat]),u_light:[ht.paint.get("hillshade-exaggeration"),bt],u_shadow:lt,u_highlight:vt,u_accent:nt}}(m,x,y);Oe.draw(X,ae.TRIANGLES,k,P,H,mt.disabled,He,y.id,m.rasterBoundsBuffer,m.quadTriangleIndexBuffer,m.rasterBoundsSegments)}}function oo(m,x,y,k,P,H){var X=m.context,ae=X.gl,xe=x.dem;if(xe&&xe.data){var Oe=xe.dim,He=xe.stride,We=xe.getPixels();if(X.activeTexture.set(ae.TEXTURE1),X.pixelStoreUnpackPremultiplyAlpha.set(!1),x.demTexture=x.demTexture||m.getTileTexture(He),x.demTexture){var Ze=x.demTexture;Ze.update(We,{premultiply:!1}),Ze.bind(ae.NEAREST,ae.CLAMP_TO_EDGE)}else x.demTexture=new _.Texture(X,We,ae.RGBA,{premultiply:!1}),x.demTexture.bind(ae.NEAREST,ae.CLAMP_TO_EDGE);X.activeTexture.set(ae.TEXTURE0);var ht=x.fbo;if(!ht){var lt=new _.Texture(X,{width:Oe,height:Oe,data:null},ae.RGBA);lt.bind(ae.LINEAR,ae.CLAMP_TO_EDGE),(ht=x.fbo=X.createFramebuffer(Oe,Oe,!0)).colorAttachment.set(lt.texture)}X.bindFramebuffer.set(ht.framebuffer),X.viewport.set([0,0,Oe,Oe]),m.useProgram("hillshadePrepare").draw(X,ae.TRIANGLES,k,P,H,mt.disabled,function(vt,nt){var bt=nt.stride,St=_.create();return _.ortho(St,0,_.EXTENT,-_.EXTENT,0,0,1),_.translate(St,St,[0,-_.EXTENT,0]),{u_matrix:St,u_image:1,u_dimension:[bt,bt],u_zoom:vt.overscaledZ,u_unpack:nt.getUnpackVector()}}(x.tileID,xe),y.id,m.rasterBoundsBuffer,m.quadTriangleIndexBuffer,m.rasterBoundsSegments),x.needsHillshadePrepare=!1}}function ic(m,x,y,k,P){var H=k.paint.get("raster-fade-duration");if(H>0){var X=_.browser.now(),ae=(X-m.timeAdded)/H,xe=x?(X-x.timeAdded)/H:-1,Oe=y.getSource(),He=P.coveringZoomLevel({tileSize:Oe.tileSize,roundZoom:Oe.roundZoom}),We=!x||Math.abs(x.tileID.overscaledZ-He)>Math.abs(m.tileID.overscaledZ-He),Ze=We&&m.refreshedUponExpiration?1:_.clamp(We?ae:1-xe,0,1);return m.refreshedUponExpiration&&ae>=1&&(m.refreshedUponExpiration=!1),x?{opacity:1,mix:1-Ze}:{opacity:Ze,mix:0}}return{opacity:1,mix:0}}var af=new _.Color(1,0,0,1),Ha=new _.Color(0,1,0,1),Iu=new _.Color(0,0,1,1),xc=new _.Color(1,0,1,1),Mu=new _.Color(0,1,1,1);function Wl(m,x,y,k){Jn(m,0,x+y/2,m.transform.width,y,k)}function cu(m,x,y,k){Jn(m,x-y/2,0,y,m.transform.height,k)}function Jn(m,x,y,k,P,H){var X=m.context,ae=X.gl;ae.enable(ae.SCISSOR_TEST),ae.scissor(x*_.browser.devicePixelRatio,y*_.browser.devicePixelRatio,k*_.browser.devicePixelRatio,P*_.browser.devicePixelRatio),X.clear({color:H}),ae.disable(ae.SCISSOR_TEST)}function hl(m,x,y){var k=m.context,P=k.gl,H=y.posMatrix,X=m.useProgram("debug"),ae=Ye.disabled,xe=ot.disabled,Oe=m.colorModeForRenderPass();k.activeTexture.set(P.TEXTURE0),m.emptyTexture.bind(P.LINEAR,P.CLAMP_TO_EDGE),X.draw(k,P.LINE_STRIP,ae,xe,Oe,mt.disabled,rf(H,_.Color.red),"$debug",m.debugBuffer,m.tileBorderIndexBuffer,m.debugSegments);var He=x.getTileByID(y.key).latestRawTileData,We=Math.floor((He&&He.byteLength||0)/1024),Ze=x.getTile(y).tileSize,ht=512/Math.min(Ze,512)*(y.overscaledZ/m.transform.zoom)*.5,lt=y.canonical.toString();y.overscaledZ!==y.canonical.z&&(lt+=" => "+y.overscaledZ),function(vt,nt){vt.initDebugOverlayCanvas();var bt=vt.debugOverlayCanvas,St=vt.context.gl,Ft=vt.debugOverlayCanvas.getContext("2d");Ft.clearRect(0,0,bt.width,bt.height),Ft.shadowColor="white",Ft.shadowBlur=2,Ft.lineWidth=1.5,Ft.strokeStyle="white",Ft.textBaseline="top",Ft.font="bold 36px Open Sans, sans-serif",Ft.fillText(nt,5,5),Ft.strokeText(nt,5,5),vt.debugOverlayTexture.update(bt),vt.debugOverlayTexture.bind(St.LINEAR,St.CLAMP_TO_EDGE)}(m,lt+" "+We+"kb"),X.draw(k,P.TRIANGLES,ae,xe,yt.alphaBlended,mt.disabled,rf(H,_.Color.transparent,ht),"$debug",m.debugBuffer,m.quadTriangleIndexBuffer,m.debugSegments)}var Wa={symbol:function(m,x,y,k,P){if(m.renderPass==="translucent"){var H=ot.disabled,X=m.colorModeForRenderPass();y.layout.get("text-variable-anchor")&&function(ae,xe,Oe,He,We,Ze,ht){for(var lt=xe.transform,vt=We==="map",nt=Ze==="map",bt=0,St=ae;bt<St.length;bt+=1){var Ft=St[bt],rr=He.getTile(Ft),Jt=rr.getBucket(Oe);if(Jt&&Jt.text&&Jt.text.segments.get().length){var Zt=_.evaluateSizeForZoom(Jt.textSizeData,lt.zoom),mr=ii(rr,1,xe.transform.zoom),yr=an(Ft.posMatrix,nt,vt,xe.transform,mr),br=Oe.layout.get("icon-text-fit")!=="none"&&Jt.hasIconData();if(Zt){var $r=Math.pow(2,lt.zoom-rr.tileID.overscaledZ);Pt(Jt,vt,nt,ht,_.symbolSize,lt,yr,Ft.posMatrix,$r,Zt,br)}}}}(k,m,y,x,y.layout.get("text-rotation-alignment"),y.layout.get("text-pitch-alignment"),P),y.paint.get("icon-opacity").constantOr(1)!==0&&sr(m,x,y,k,!1,y.paint.get("icon-translate"),y.paint.get("icon-translate-anchor"),y.layout.get("icon-rotation-alignment"),y.layout.get("icon-pitch-alignment"),y.layout.get("icon-keep-upright"),H,X),y.paint.get("text-opacity").constantOr(1)!==0&&sr(m,x,y,k,!0,y.paint.get("text-translate"),y.paint.get("text-translate-anchor"),y.layout.get("text-rotation-alignment"),y.layout.get("text-pitch-alignment"),y.layout.get("text-keep-upright"),H,X),x.map.showCollisionBoxes&&(gs(m,x,y,k,y.paint.get("text-translate"),y.paint.get("text-translate-anchor"),!0),gs(m,x,y,k,y.paint.get("icon-translate"),y.paint.get("icon-translate-anchor"),!1))}},circle:function(m,x,y,k){if(m.renderPass==="translucent"){var P=y.paint.get("circle-opacity"),H=y.paint.get("circle-stroke-width"),X=y.paint.get("circle-stroke-opacity"),ae=y.layout.get("circle-sort-key").constantOr(1)!==void 0;if(P.constantOr(1)!==0||H.constantOr(1)!==0&&X.constantOr(1)!==0){for(var xe=m.context,Oe=xe.gl,He=m.depthModeForSublayer(0,Ye.ReadOnly),We=ot.disabled,Ze=m.colorModeForRenderPass(),ht=[],lt=0;lt<k.length;lt++){var vt=k[lt],nt=x.getTile(vt),bt=nt.getBucket(y);if(bt){var St=bt.programConfigurations.get(y.id),Ft={programConfiguration:St,program:m.useProgram("circle",St),layoutVertexBuffer:bt.layoutVertexBuffer,indexBuffer:bt.indexBuffer,uniformValues:Au(m,vt,nt,y)};if(ae)for(var rr=0,Jt=bt.segments.get();rr<Jt.length;rr+=1){var Zt=Jt[rr];ht.push({segments:new _.SegmentVector([Zt]),sortKey:Zt.sortKey,state:Ft})}else ht.push({segments:bt.segments,sortKey:0,state:Ft})}}ae&&ht.sort(function(Gr,hn){return Gr.sortKey-hn.sortKey});for(var mr=0,yr=ht;mr<yr.length;mr+=1){var br=yr[mr],$r=br.state;$r.program.draw(xe,Oe.TRIANGLES,He,We,Ze,mt.disabled,$r.uniformValues,y.id,$r.layoutVertexBuffer,$r.indexBuffer,br.segments,y.paint,m.transform.zoom,$r.programConfiguration)}}}},heatmap:function(m,x,y,k){if(y.paint.get("heatmap-opacity")!==0)if(m.renderPass==="offscreen"){var P=m.context,H=P.gl,X=ot.disabled,ae=new yt([H.ONE,H.ONE],_.Color.transparent,[!0,!0,!0,!0]);(function(ht,lt,vt){var nt=ht.gl;ht.activeTexture.set(nt.TEXTURE1),ht.viewport.set([0,0,lt.width/4,lt.height/4]);var bt=vt.heatmapFbo;if(bt)nt.bindTexture(nt.TEXTURE_2D,bt.colorAttachment.get()),ht.bindFramebuffer.set(bt.framebuffer);else{var St=nt.createTexture();nt.bindTexture(nt.TEXTURE_2D,St),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_S,nt.CLAMP_TO_EDGE),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_WRAP_T,nt.CLAMP_TO_EDGE),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MIN_FILTER,nt.LINEAR),nt.texParameteri(nt.TEXTURE_2D,nt.TEXTURE_MAG_FILTER,nt.LINEAR),bt=vt.heatmapFbo=ht.createFramebuffer(lt.width/4,lt.height/4,!1),function(Ft,rr,Jt,Zt){var mr=Ft.gl;mr.texImage2D(mr.TEXTURE_2D,0,mr.RGBA,rr.width/4,rr.height/4,0,mr.RGBA,Ft.extRenderToTextureHalfFloat?Ft.extTextureHalfFloat.HALF_FLOAT_OES:mr.UNSIGNED_BYTE,null),Zt.colorAttachment.set(Jt)}(ht,lt,St,bt)}})(P,m,y),P.clear({color:_.Color.transparent});for(var xe=0;xe<k.length;xe++){var Oe=k[xe];if(!x.hasRenderableParent(Oe)){var He=x.getTile(Oe),We=He.getBucket(y);if(We){var Ze=We.programConfigurations.get(y.id);m.useProgram("heatmap",Ze).draw(P,H.TRIANGLES,Ye.disabled,X,ae,mt.disabled,Du(Oe.posMatrix,He,m.transform.zoom,y.paint.get("heatmap-intensity")),y.id,We.layoutVertexBuffer,We.indexBuffer,We.segments,y.paint,m.transform.zoom,Ze)}}}P.viewport.set([0,0,m.width,m.height])}else m.renderPass==="translucent"&&(m.context.setColorMode(m.colorModeForRenderPass()),function(ht,lt){var vt=ht.context,nt=vt.gl,bt=lt.heatmapFbo;if(bt){vt.activeTexture.set(nt.TEXTURE0),nt.bindTexture(nt.TEXTURE_2D,bt.colorAttachment.get()),vt.activeTexture.set(nt.TEXTURE1);var St=lt.colorRampTexture;St||(St=lt.colorRampTexture=new _.Texture(vt,lt.colorRamp,nt.RGBA)),St.bind(nt.LINEAR,nt.CLAMP_TO_EDGE),ht.useProgram("heatmapTexture").draw(vt,nt.TRIANGLES,Ye.disabled,ot.disabled,ht.colorModeForRenderPass(),mt.disabled,function(Ft,rr,Jt,Zt){var mr=_.create();_.ortho(mr,0,Ft.width,Ft.height,0,0,1);var yr=Ft.context.gl;return{u_matrix:mr,u_world:[yr.drawingBufferWidth,yr.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:rr.paint.get("heatmap-opacity")}}(ht,lt),lt.id,ht.viewportBuffer,ht.quadTriangleIndexBuffer,ht.viewportSegments,lt.paint,ht.transform.zoom)}}(m,y))},line:function(m,x,y,k){if(m.renderPass==="translucent"){var P=y.paint.get("line-opacity"),H=y.paint.get("line-width");if(P.constantOr(1)!==0&&H.constantOr(1)!==0)for(var X=m.depthModeForSublayer(0,Ye.ReadOnly),ae=m.colorModeForRenderPass(),xe=y.paint.get("line-dasharray"),Oe=y.paint.get("line-pattern"),He=Oe.constantOr(1),We=y.paint.get("line-gradient"),Ze=y.getCrossfadeParameters(),ht=He?"linePattern":xe?"lineSDF":We?"lineGradient":"line",lt=m.context,vt=lt.gl,nt=!0,bt=0,St=k;bt<St.length;bt+=1){var Ft=St[bt],rr=x.getTile(Ft);if(!He||rr.patternsLoaded()){var Jt=rr.getBucket(y);if(Jt){var Zt=Jt.programConfigurations.get(y.id),mr=m.context.program.get(),yr=m.useProgram(ht,Zt),br=nt||yr.program!==mr,$r=Oe.constantOr(null);if($r&&rr.imageAtlas){var Gr=rr.imageAtlas,hn=Gr.patternPositions[$r.to.toString()],dn=Gr.patternPositions[$r.from.toString()];hn&&dn&&Zt.setConstantPatternPositions(hn,dn)}var Bn=He?Ou(m,rr,y,Ze):xe?rc(m,rr,y,xe,Ze):We?mo(m,rr,y,Jt.lineClipsArray.length):fl(m,rr,y);if(He)lt.activeTexture.set(vt.TEXTURE0),rr.imageAtlasTexture.bind(vt.LINEAR,vt.CLAMP_TO_EDGE),Zt.updatePaintBuffers(Ze);else if(xe&&(br||m.lineAtlas.dirty))lt.activeTexture.set(vt.TEXTURE0),m.lineAtlas.bind(lt);else if(We){var Kr=Jt.gradients[y.id],Mn=Kr.texture;if(y.gradientVersion!==Kr.version){var Vn=256;if(y.stepInterpolant){var On=x.getSource().maxzoom,Ln=Ft.canonical.z===On?Math.ceil(1<<m.transform.maxZoom-Ft.canonical.z):1;Vn=_.clamp(_.nextPowerOfTwo(Jt.maxLineLength/_.EXTENT*1024*Ln),256,lt.maxTextureSize)}Kr.gradient=_.renderColorRamp({expression:y.gradientExpression(),evaluationKey:"lineProgress",resolution:Vn,image:Kr.gradient||void 0,clips:Jt.lineClipsArray}),Kr.texture?Kr.texture.update(Kr.gradient):Kr.texture=new _.Texture(lt,Kr.gradient,vt.RGBA),Kr.version=y.gradientVersion,Mn=Kr.texture}lt.activeTexture.set(vt.TEXTURE0),Mn.bind(y.stepInterpolant?vt.NEAREST:vt.LINEAR,vt.CLAMP_TO_EDGE)}yr.draw(lt,vt.TRIANGLES,X,m.stencilModeForClipping(Ft),ae,mt.disabled,Bn,y.id,Jt.layoutVertexBuffer,Jt.indexBuffer,Jt.segments,y.paint,m.transform.zoom,Zt,Jt.layoutVertexBuffer2),nt=!1}}}}},fill:function(m,x,y,k){var P=y.paint.get("fill-color"),H=y.paint.get("fill-opacity");if(H.constantOr(1)!==0){var X=m.colorModeForRenderPass(),ae=y.paint.get("fill-pattern"),xe=m.opaquePassEnabledForLayer()&&!ae.constantOr(1)&&P.constantOr(_.Color.transparent).a===1&&H.constantOr(0)===1?"opaque":"translucent";if(m.renderPass===xe){var Oe=m.depthModeForSublayer(1,m.renderPass==="opaque"?Ye.ReadWrite:Ye.ReadOnly);ti(m,x,y,k,Oe,X,!1)}if(m.renderPass==="translucent"&&y.paint.get("fill-antialias")){var He=m.depthModeForSublayer(y.getPaintProperty("fill-outline-color")?2:0,Ye.ReadOnly);ti(m,x,y,k,He,X,!0)}}},"fill-extrusion":function(m,x,y,k){var P=y.paint.get("fill-extrusion-opacity");if(P!==0&&m.renderPass==="translucent"){var H=new Ye(m.context.gl.LEQUAL,Ye.ReadWrite,m.depthRangeFor3D);if(P!==1||y.paint.get("fill-extrusion-pattern").constantOr(1))Yi(m,x,y,k,H,ot.disabled,yt.disabled),Yi(m,x,y,k,H,m.stencilModeFor3D(),m.colorModeForRenderPass());else{var X=m.colorModeForRenderPass();Yi(m,x,y,k,H,ot.disabled,X)}}},hillshade:function(m,x,y,k){if(m.renderPass==="offscreen"||m.renderPass==="translucent"){for(var P=m.context,H=m.depthModeForSublayer(0,Ye.ReadOnly),X=m.colorModeForRenderPass(),ae=m.renderPass==="translucent"?m.stencilConfigForOverlap(k):[{},k],xe=ae[0],Oe=0,He=ae[1];Oe<He.length;Oe+=1){var We=He[Oe],Ze=x.getTile(We);Ze.needsHillshadePrepare&&m.renderPass==="offscreen"?oo(m,Ze,y,H,ot.disabled,X):m.renderPass==="translucent"&&fa(m,Ze,y,H,xe[We.overscaledZ],X)}P.viewport.set([0,0,m.width,m.height])}},raster:function(m,x,y,k){if(m.renderPass==="translucent"&&y.paint.get("raster-opacity")!==0&&k.length)for(var P=m.context,H=P.gl,X=x.getSource(),ae=m.useProgram("raster"),xe=m.colorModeForRenderPass(),Oe=X instanceof ce?[{},k]:m.stencilConfigForOverlap(k),He=Oe[0],We=Oe[1],Ze=We[We.length-1].overscaledZ,ht=!m.options.moving,lt=0,vt=We;lt<vt.length;lt+=1){var nt=vt[lt],bt=m.depthModeForSublayer(nt.overscaledZ-Ze,y.paint.get("raster-opacity")===1?Ye.ReadWrite:Ye.ReadOnly,H.LESS),St=x.getTile(nt),Ft=m.transform.calculatePosMatrix(nt.toUnwrapped(),ht);St.registerFadeDuration(y.paint.get("raster-fade-duration"));var rr=x.findLoadedParent(nt,0),Jt=ic(St,rr,x,y,m.transform),Zt=void 0,mr=void 0,yr=y.paint.get("raster-resampling")==="nearest"?H.NEAREST:H.LINEAR;P.activeTexture.set(H.TEXTURE0),St.texture.bind(yr,H.CLAMP_TO_EDGE,H.LINEAR_MIPMAP_NEAREST),P.activeTexture.set(H.TEXTURE1),rr?(rr.texture.bind(yr,H.CLAMP_TO_EDGE,H.LINEAR_MIPMAP_NEAREST),Zt=Math.pow(2,rr.tileID.overscaledZ-St.tileID.overscaledZ),mr=[St.tileID.canonical.x*Zt%1,St.tileID.canonical.y*Zt%1]):St.texture.bind(yr,H.CLAMP_TO_EDGE,H.LINEAR_MIPMAP_NEAREST);var br=nm(Ft,mr||[0,0],Zt||1,Jt,y);X instanceof ce?ae.draw(P,H.TRIANGLES,bt,ot.disabled,xe,mt.disabled,br,y.id,X.boundsBuffer,m.quadTriangleIndexBuffer,X.boundsSegments):ae.draw(P,H.TRIANGLES,bt,He[nt.overscaledZ],xe,mt.disabled,br,y.id,m.rasterBoundsBuffer,m.quadTriangleIndexBuffer,m.rasterBoundsSegments)}},background:function(m,x,y){var k=y.paint.get("background-color"),P=y.paint.get("background-opacity");if(P!==0){var H=m.context,X=H.gl,ae=m.transform,xe=ae.tileSize,Oe=y.paint.get("background-pattern");if(!m.isPatternMissing(Oe)){var He=!Oe&&k.a===1&&P===1&&m.opaquePassEnabledForLayer()?"opaque":"translucent";if(m.renderPass===He){var We=ot.disabled,Ze=m.depthModeForSublayer(0,He==="opaque"?Ye.ReadWrite:Ye.ReadOnly),ht=m.colorModeForRenderPass(),lt=m.useProgram(Oe?"backgroundPattern":"background"),vt=ae.coveringTiles({tileSize:xe});Oe&&(H.activeTexture.set(X.TEXTURE0),m.imageManager.bind(m.context));for(var nt=y.getCrossfadeParameters(),bt=0,St=vt;bt<St.length;bt+=1){var Ft=St[bt],rr=m.transform.calculatePosMatrix(Ft.toUnwrapped()),Jt=Oe?of(rr,P,m,Oe,{tileID:Ft,tileSize:xe},nt):Uc(rr,P,k);lt.draw(H,X.TRIANGLES,Ze,We,ht,mt.disabled,Jt,y.id,m.tileExtentBuffer,m.quadTriangleIndexBuffer,m.tileExtentSegments)}}}}},debug:function(m,x,y){for(var k=0;k<y.length;k++)hl(m,x,y[k])},custom:function(m,x,y){var k=m.context,P=y.implementation;if(m.renderPass==="offscreen"){var H=P.prerender;H&&(m.setCustomLayerDefaults(),k.setColorMode(m.colorModeForRenderPass()),H.call(P,k.gl,m.transform.customLayerMatrix()),k.setDirty(),m.setBaseState())}else if(m.renderPass==="translucent"){m.setCustomLayerDefaults(),k.setColorMode(m.colorModeForRenderPass()),k.setStencilMode(ot.disabled);var X=P.renderingMode==="3d"?new Ye(m.context.gl.LEQUAL,Ye.ReadWrite,m.depthRangeFor3D):m.depthModeForSublayer(0,Ye.ReadOnly);k.setDepthMode(X),P.render(k.gl,m.transform.customLayerMatrix()),k.setDirty(),m.setBaseState(),k.bindFramebuffer.set(null)}}},ri=function(m,x){this.context=new qe(m),this.transform=x,this._tileTextures={},this.setup(),this.numSublayers=Ke.maxUnderzooming+Ke.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new _a,this.gpuTimers={}};ri.prototype.resize=function(m,x){if(this.width=m*_.browser.devicePixelRatio,this.height=x*_.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var y=0,k=this.style._order;y<k.length;y+=1)this.style._layers[k[y]].resize()},ri.prototype.setup=function(){var m=this.context,x=new _.StructArrayLayout2i4;x.emplaceBack(0,0),x.emplaceBack(_.EXTENT,0),x.emplaceBack(0,_.EXTENT),x.emplaceBack(_.EXTENT,_.EXTENT),this.tileExtentBuffer=m.createVertexBuffer(x,Uo.members),this.tileExtentSegments=_.SegmentVector.simpleSegment(0,0,4,2);var y=new _.StructArrayLayout2i4;y.emplaceBack(0,0),y.emplaceBack(_.EXTENT,0),y.emplaceBack(0,_.EXTENT),y.emplaceBack(_.EXTENT,_.EXTENT),this.debugBuffer=m.createVertexBuffer(y,Uo.members),this.debugSegments=_.SegmentVector.simpleSegment(0,0,4,5);var k=new _.StructArrayLayout4i8;k.emplaceBack(0,0,0,0),k.emplaceBack(_.EXTENT,0,_.EXTENT,0),k.emplaceBack(0,_.EXTENT,0,_.EXTENT),k.emplaceBack(_.EXTENT,_.EXTENT,_.EXTENT,_.EXTENT),this.rasterBoundsBuffer=m.createVertexBuffer(k,rt.members),this.rasterBoundsSegments=_.SegmentVector.simpleSegment(0,0,4,2);var P=new _.StructArrayLayout2i4;P.emplaceBack(0,0),P.emplaceBack(1,0),P.emplaceBack(0,1),P.emplaceBack(1,1),this.viewportBuffer=m.createVertexBuffer(P,Uo.members),this.viewportSegments=_.SegmentVector.simpleSegment(0,0,4,2);var H=new _.StructArrayLayout1ui2;H.emplaceBack(0),H.emplaceBack(1),H.emplaceBack(3),H.emplaceBack(2),H.emplaceBack(0),this.tileBorderIndexBuffer=m.createIndexBuffer(H);var X=new _.StructArrayLayout3ui6;X.emplaceBack(0,1,2),X.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=m.createIndexBuffer(X),this.emptyTexture=new _.Texture(m,{width:1,height:1,data:new Uint8Array([0,0,0,0])},m.gl.RGBA);var ae=this.context.gl;this.stencilClearMode=new ot({func:ae.ALWAYS,mask:0},0,255,ae.ZERO,ae.ZERO,ae.ZERO)},ri.prototype.clearStencil=function(){var m=this.context,x=m.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var y=_.create();_.ortho(y,0,this.width,this.height,0,0,1),_.scale(y,y,[x.drawingBufferWidth,x.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(m,x.TRIANGLES,Ye.disabled,this.stencilClearMode,yt.disabled,mt.disabled,bc(y),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},ri.prototype._renderTileClippingMasks=function(m,x){if(this.currentStencilSource!==m.source&&m.isTileClipped()&&x&&x.length){this.currentStencilSource=m.source;var y=this.context,k=y.gl;this.nextStencilID+x.length>256&&this.clearStencil(),y.setColorMode(yt.disabled),y.setDepthMode(Ye.disabled);var P=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var H=0,X=x;H<X.length;H+=1){var ae=X[H],xe=this._tileClippingMaskIDs[ae.key]=this.nextStencilID++;P.draw(y,k.TRIANGLES,Ye.disabled,new ot({func:k.ALWAYS,mask:0},xe,255,k.KEEP,k.KEEP,k.REPLACE),yt.disabled,mt.disabled,bc(ae.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},ri.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var m=this.nextStencilID++,x=this.context.gl;return new ot({func:x.NOTEQUAL,mask:255},m,255,x.KEEP,x.KEEP,x.REPLACE)},ri.prototype.stencilModeForClipping=function(m){var x=this.context.gl;return new ot({func:x.EQUAL,mask:255},this._tileClippingMaskIDs[m.key],0,x.KEEP,x.KEEP,x.REPLACE)},ri.prototype.stencilConfigForOverlap=function(m){var x,y=this.context.gl,k=m.sort(function(xe,Oe){return Oe.overscaledZ-xe.overscaledZ}),P=k[k.length-1].overscaledZ,H=k[0].overscaledZ-P+1;if(H>1){this.currentStencilSource=void 0,this.nextStencilID+H>256&&this.clearStencil();for(var X={},ae=0;ae<H;ae++)X[ae+P]=new ot({func:y.GEQUAL,mask:255},ae+this.nextStencilID,255,y.KEEP,y.KEEP,y.REPLACE);return this.nextStencilID+=H,[X,k]}return[(x={},x[P]=ot.disabled,x),k]},ri.prototype.colorModeForRenderPass=function(){var m=this.context.gl;return this._showOverdrawInspector?new yt([m.CONSTANT_COLOR,m.ONE],new _.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?yt.unblended:yt.alphaBlended},ri.prototype.depthModeForSublayer=function(m,x,y){if(!this.opaquePassEnabledForLayer())return Ye.disabled;var k=1-((1+this.currentLayer)*this.numSublayers+m)*this.depthEpsilon;return new Ye(y||this.context.gl.LEQUAL,x,[k,k])},ri.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},ri.prototype.render=function(m,x){var y=this;this.style=m,this.options=x,this.lineAtlas=m.lineAtlas,this.imageManager=m.imageManager,this.glyphManager=m.glyphManager,this.symbolFadeChange=m.placement.symbolFadeChange(_.browser.now()),this.imageManager.beginFrame();var k=this.style._order,P=this.style.sourceCaches;for(var H in P){var X=P[H];X.used&&X.prepare(this.context)}var ae,xe,Oe={},He={},We={};for(var Ze in P){var ht=P[Ze];Oe[Ze]=ht.getVisibleCoordinates(),He[Ze]=Oe[Ze].slice().reverse(),We[Ze]=ht.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var lt=0;lt<k.length;lt++)if(this.style._layers[k[lt]].is3D()){this.opaquePassCutoff=lt;break}this.renderPass="offscreen";for(var vt=0,nt=k;vt<nt.length;vt+=1){var bt=this.style._layers[nt[vt]];if(bt.hasOffscreenPass()&&!bt.isHidden(this.transform.zoom)){var St=He[bt.source];(bt.type==="custom"||St.length)&&this.renderLayer(this,P[bt.source],bt,St)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:x.showOverdrawInspector?_.Color.black:_.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=x.showOverdrawInspector,this.depthRangeFor3D=[0,1-(m._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=k.length-1;this.currentLayer>=0;this.currentLayer--){var Ft=this.style._layers[k[this.currentLayer]],rr=P[Ft.source],Jt=Oe[Ft.source];this._renderTileClippingMasks(Ft,Jt),this.renderLayer(this,rr,Ft,Jt)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<k.length;this.currentLayer++){var Zt=this.style._layers[k[this.currentLayer]],mr=P[Zt.source],yr=(Zt.type==="symbol"?We:He)[Zt.source];this._renderTileClippingMasks(Zt,Oe[Zt.source]),this.renderLayer(this,mr,Zt,yr)}this.options.showTileBoundaries&&(_.values(this.style._layers).forEach(function(br){br.source&&!br.isHidden(y.transform.zoom)&&(br.source!==(xe&&xe.id)&&(xe=y.style.sourceCaches[br.source]),(!ae||ae.getSource().maxzoom<xe.getSource().maxzoom)&&(ae=xe))}),ae&&Wa.debug(this,ae,ae.getVisibleCoordinates())),this.options.showPadding&&function(br){var $r=br.transform.padding;Wl(br,br.transform.height-($r.top||0),3,af),Wl(br,$r.bottom||0,3,Ha),cu(br,$r.left||0,3,Iu),cu(br,br.transform.width-($r.right||0),3,xc);var Gr=br.transform.centerPoint;(function(hn,dn,Bn,Kr){Jn(hn,dn-1,Bn-10,2,20,Kr),Jn(hn,dn-10,Bn-1,20,2,Kr)})(br,Gr.x,br.transform.height-Gr.y,Mu)}(this),this.context.setDefault()},ri.prototype.renderLayer=function(m,x,y,k){y.isHidden(this.transform.zoom)||(y.type==="background"||y.type==="custom"||k.length)&&(this.id=y.id,this.gpuTimingStart(y),Wa[y.type](m,x,y,k,this.style.placement.variableOffsets),this.gpuTimingEnd())},ri.prototype.gpuTimingStart=function(m){if(this.options.gpuTiming){var x=this.context.extTimerQuery,y=this.gpuTimers[m.id];y||(y=this.gpuTimers[m.id]={calls:0,cpuTime:0,query:x.createQueryEXT()}),y.calls++,x.beginQueryEXT(x.TIME_ELAPSED_EXT,y.query)}},ri.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var m=this.context.extTimerQuery;m.endQueryEXT(m.TIME_ELAPSED_EXT)}},ri.prototype.collectGpuTimers=function(){var m=this.gpuTimers;return this.gpuTimers={},m},ri.prototype.queryGpuTimers=function(m){var x={};for(var y in m){var k=m[y],P=this.context.extTimerQuery,H=P.getQueryObjectEXT(k.query,P.QUERY_RESULT_EXT)/1e6;P.deleteQueryEXT(k.query),x[y]=H}return x},ri.prototype.translatePosMatrix=function(m,x,y,k,P){if(!y[0]&&!y[1])return m;var H=P?k==="map"?this.transform.angle:0:k==="viewport"?-this.transform.angle:0;if(H){var X=Math.sin(H),ae=Math.cos(H);y=[y[0]*ae-y[1]*X,y[0]*X+y[1]*ae]}var xe=[P?y[0]:ii(x,y[0],this.transform.zoom),P?y[1]:ii(x,y[1],this.transform.zoom),0],Oe=new Float32Array(16);return _.translate(Oe,m,xe),Oe},ri.prototype.saveTileTexture=function(m){var x=this._tileTextures[m.size[0]];x?x.push(m):this._tileTextures[m.size[0]]=[m]},ri.prototype.getTileTexture=function(m){var x=this._tileTextures[m];return x&&x.length>0?x.pop():null},ri.prototype.isPatternMissing=function(m){if(!m)return!1;if(!m.from||!m.to)return!0;var x=this.imageManager.getPattern(m.from.toString()),y=this.imageManager.getPattern(m.to.toString());return!x||!y},ri.prototype.useProgram=function(m,x){this.cache=this.cache||{};var y=""+m+(x?x.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[y]||(this.cache[y]=new zc(this.context,m,Ed[m],x,nh[m],this._showOverdrawInspector)),this.cache[y]},ri.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},ri.prototype.setBaseState=function(){var m=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(m.FUNC_ADD)},ri.prototype.initDebugOverlayCanvas=function(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=_.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new _.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},ri.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var oc=function(m,x){this.points=m,this.planes=x};oc.fromInvProjectionMatrix=function(m,x,y){var k=Math.pow(2,y),P=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(X){return _.transformMat4([],X,m)}).map(function(X){return _.scale$1([],X,1/X[3]/x*k)}),H=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(X){var ae=_.sub([],P[X[0]],P[X[1]]),xe=_.sub([],P[X[2]],P[X[1]]),Oe=_.normalize([],_.cross([],ae,xe)),He=-_.dot(Oe,P[X[1]]);return Oe.concat(He)});return new oc(P,H)};var dl=function(m,x){this.min=m,this.max=x,this.center=_.scale$2([],_.add([],this.min,this.max),.5)};dl.prototype.quadrant=function(m){for(var x=[m%2==0,m<2],y=_.clone$2(this.min),k=_.clone$2(this.max),P=0;P<x.length;P++)y[P]=x[P]?this.min[P]:this.center[P],k[P]=x[P]?this.center[P]:this.max[P];return k[2]=this.max[2],new dl(y,k)},dl.prototype.distanceX=function(m){return Math.max(Math.min(this.max[0],m[0]),this.min[0])-m[0]},dl.prototype.distanceY=function(m){return Math.max(Math.min(this.max[1],m[1]),this.min[1])-m[1]},dl.prototype.intersects=function(m){for(var x=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],y=!0,k=0;k<m.planes.length;k++){for(var P=m.planes[k],H=0,X=0;X<x.length;X++)H+=_.dot$1(P,x[X])>=0;if(H===0)return 0;H!==x.length&&(y=!1)}if(y)return 2;for(var ae=0;ae<3;ae++){for(var xe=Number.MAX_VALUE,Oe=-Number.MAX_VALUE,He=0;He<m.points.length;He++){var We=m.points[He][ae]-this.min[ae];xe=Math.min(xe,We),Oe=Math.max(Oe,We)}if(Oe<0||xe>this.max[ae]-this.min[ae])return 0}return 1};var pl=function(m,x,y,k){if(m===void 0&&(m=0),x===void 0&&(x=0),y===void 0&&(y=0),k===void 0&&(k=0),isNaN(m)||m<0||isNaN(x)||x<0||isNaN(y)||y<0||isNaN(k)||k<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=m,this.bottom=x,this.left=y,this.right=k};pl.prototype.interpolate=function(m,x,y){return x.top!=null&&m.top!=null&&(this.top=_.number(m.top,x.top,y)),x.bottom!=null&&m.bottom!=null&&(this.bottom=_.number(m.bottom,x.bottom,y)),x.left!=null&&m.left!=null&&(this.left=_.number(m.left,x.left,y)),x.right!=null&&m.right!=null&&(this.right=_.number(m.right,x.right,y)),this},pl.prototype.getCenter=function(m,x){var y=_.clamp((this.left+m-this.right)/2,0,m),k=_.clamp((this.top+x-this.bottom)/2,0,x);return new _.Point(y,k)},pl.prototype.equals=function(m){return this.top===m.top&&this.bottom===m.bottom&&this.left===m.left&&this.right===m.right},pl.prototype.clone=function(){return new pl(this.top,this.bottom,this.left,this.right)},pl.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var ui=function(m,x,y,k,P){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=P===void 0||P,this._minZoom=m||0,this._maxZoom=x||22,this._minPitch=y??0,this._maxPitch=k??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new _.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new pl,this._posMatrixCache={},this._alignedPosMatrixCache={}},Mi={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};ui.prototype.clone=function(){var m=new ui(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return m.tileSize=this.tileSize,m.latRange=this.latRange,m.width=this.width,m.height=this.height,m._center=this._center,m.zoom=this.zoom,m.angle=this.angle,m._fov=this._fov,m._pitch=this._pitch,m._unmodified=this._unmodified,m._edgeInsets=this._edgeInsets.clone(),m._calcMatrices(),m},Mi.minZoom.get=function(){return this._minZoom},Mi.minZoom.set=function(m){this._minZoom!==m&&(this._minZoom=m,this.zoom=Math.max(this.zoom,m))},Mi.maxZoom.get=function(){return this._maxZoom},Mi.maxZoom.set=function(m){this._maxZoom!==m&&(this._maxZoom=m,this.zoom=Math.min(this.zoom,m))},Mi.minPitch.get=function(){return this._minPitch},Mi.minPitch.set=function(m){this._minPitch!==m&&(this._minPitch=m,this.pitch=Math.max(this.pitch,m))},Mi.maxPitch.get=function(){return this._maxPitch},Mi.maxPitch.set=function(m){this._maxPitch!==m&&(this._maxPitch=m,this.pitch=Math.min(this.pitch,m))},Mi.renderWorldCopies.get=function(){return this._renderWorldCopies},Mi.renderWorldCopies.set=function(m){m===void 0?m=!0:m===null&&(m=!1),this._renderWorldCopies=m},Mi.worldSize.get=function(){return this.tileSize*this.scale},Mi.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Mi.size.get=function(){return new _.Point(this.width,this.height)},Mi.bearing.get=function(){return-this.angle/Math.PI*180},Mi.bearing.set=function(m){var x=-_.wrap(m,-180,180)*Math.PI/180;this.angle!==x&&(this._unmodified=!1,this.angle=x,this._calcMatrices(),this.rotationMatrix=_.create$2(),_.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Mi.pitch.get=function(){return this._pitch/Math.PI*180},Mi.pitch.set=function(m){var x=_.clamp(m,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==x&&(this._unmodified=!1,this._pitch=x,this._calcMatrices())},Mi.fov.get=function(){return this._fov/Math.PI*180},Mi.fov.set=function(m){m=Math.max(.01,Math.min(60,m)),this._fov!==m&&(this._unmodified=!1,this._fov=m/180*Math.PI,this._calcMatrices())},Mi.zoom.get=function(){return this._zoom},Mi.zoom.set=function(m){var x=Math.min(Math.max(m,this.minZoom),this.maxZoom);this._zoom!==x&&(this._unmodified=!1,this._zoom=x,this.scale=this.zoomScale(x),this.tileZoom=Math.floor(x),this.zoomFraction=x-this.tileZoom,this._constrain(),this._calcMatrices())},Mi.center.get=function(){return this._center},Mi.center.set=function(m){m.lat===this._center.lat&&m.lng===this._center.lng||(this._unmodified=!1,this._center=m,this._constrain(),this._calcMatrices())},Mi.padding.get=function(){return this._edgeInsets.toJSON()},Mi.padding.set=function(m){this._edgeInsets.equals(m)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,m,1),this._calcMatrices())},Mi.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},ui.prototype.isPaddingEqual=function(m){return this._edgeInsets.equals(m)},ui.prototype.interpolatePadding=function(m,x,y){this._unmodified=!1,this._edgeInsets.interpolate(m,x,y),this._constrain(),this._calcMatrices()},ui.prototype.coveringZoomLevel=function(m){var x=(m.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/m.tileSize));return Math.max(0,x)},ui.prototype.getVisibleUnwrappedCoordinates=function(m){var x=[new _.UnwrappedTileID(0,m)];if(this._renderWorldCopies)for(var y=this.pointCoordinate(new _.Point(0,0)),k=this.pointCoordinate(new _.Point(this.width,0)),P=this.pointCoordinate(new _.Point(this.width,this.height)),H=this.pointCoordinate(new _.Point(0,this.height)),X=Math.floor(Math.min(y.x,k.x,P.x,H.x)),ae=Math.floor(Math.max(y.x,k.x,P.x,H.x)),xe=X-1;xe<=ae+1;xe++)xe!==0&&x.push(new _.UnwrappedTileID(xe,m));return x},ui.prototype.coveringTiles=function(m){var x=this.coveringZoomLevel(m),y=x;if(m.minzoom!==void 0&&x<m.minzoom)return[];m.maxzoom!==void 0&&x>m.maxzoom&&(x=m.maxzoom);var k=_.MercatorCoordinate.fromLngLat(this.center),P=Math.pow(2,x),H=[P*k.x,P*k.y,0],X=oc.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,x),ae=m.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(ae=x);var xe=function(br){return{aabb:new dl([br*P,0,0],[(br+1)*P,P,0]),zoom:0,x:0,y:0,wrap:br,fullyVisible:!1}},Oe=[],He=[],We=x,Ze=m.reparseOverscaled?y:x;if(this._renderWorldCopies)for(var ht=1;ht<=3;ht++)Oe.push(xe(-ht)),Oe.push(xe(ht));for(Oe.push(xe(0));Oe.length>0;){var lt=Oe.pop(),vt=lt.x,nt=lt.y,bt=lt.fullyVisible;if(!bt){var St=lt.aabb.intersects(X);if(St===0)continue;bt=St===2}var Ft=lt.aabb.distanceX(H),rr=lt.aabb.distanceY(H),Jt=Math.max(Math.abs(Ft),Math.abs(rr));if(lt.zoom===We||Jt>3+(1<<We-lt.zoom)-2&&lt.zoom>=ae)He.push({tileID:new _.OverscaledTileID(lt.zoom===We?Ze:lt.zoom,lt.wrap,lt.zoom,vt,nt),distanceSq:_.sqrLen([H[0]-.5-vt,H[1]-.5-nt])});else for(var Zt=0;Zt<4;Zt++){var mr=(vt<<1)+Zt%2,yr=(nt<<1)+(Zt>>1);Oe.push({aabb:lt.aabb.quadrant(Zt),zoom:lt.zoom+1,x:mr,y:yr,wrap:lt.wrap,fullyVisible:bt})}}return He.sort(function(br,$r){return br.distanceSq-$r.distanceSq}).map(function(br){return br.tileID})},ui.prototype.resize=function(m,x){this.width=m,this.height=x,this.pixelsToGLUnits=[2/m,-2/x],this._constrain(),this._calcMatrices()},Mi.unmodified.get=function(){return this._unmodified},ui.prototype.zoomScale=function(m){return Math.pow(2,m)},ui.prototype.scaleZoom=function(m){return Math.log(m)/Math.LN2},ui.prototype.project=function(m){var x=_.clamp(m.lat,-this.maxValidLatitude,this.maxValidLatitude);return new _.Point(_.mercatorXfromLng(m.lng)*this.worldSize,_.mercatorYfromLat(x)*this.worldSize)},ui.prototype.unproject=function(m){return new _.MercatorCoordinate(m.x/this.worldSize,m.y/this.worldSize).toLngLat()},Mi.point.get=function(){return this.project(this.center)},ui.prototype.setLocationAtPoint=function(m,x){var y=this.pointCoordinate(x),k=this.pointCoordinate(this.centerPoint),P=this.locationCoordinate(m),H=new _.MercatorCoordinate(P.x-(y.x-k.x),P.y-(y.y-k.y));this.center=this.coordinateLocation(H),this._renderWorldCopies&&(this.center=this.center.wrap())},ui.prototype.locationPoint=function(m){return this.coordinatePoint(this.locationCoordinate(m))},ui.prototype.pointLocation=function(m){return this.coordinateLocation(this.pointCoordinate(m))},ui.prototype.locationCoordinate=function(m){return _.MercatorCoordinate.fromLngLat(m)},ui.prototype.coordinateLocation=function(m){return m.toLngLat()},ui.prototype.pointCoordinate=function(m){var x=[m.x,m.y,0,1],y=[m.x,m.y,1,1];_.transformMat4(x,x,this.pixelMatrixInverse),_.transformMat4(y,y,this.pixelMatrixInverse);var k=x[3],P=y[3],H=x[1]/k,X=y[1]/P,ae=x[2]/k,xe=y[2]/P,Oe=ae===xe?0:(0-ae)/(xe-ae);return new _.MercatorCoordinate(_.number(x[0]/k,y[0]/P,Oe)/this.worldSize,_.number(H,X,Oe)/this.worldSize)},ui.prototype.coordinatePoint=function(m){var x=[m.x*this.worldSize,m.y*this.worldSize,0,1];return _.transformMat4(x,x,this.pixelMatrix),new _.Point(x[0]/x[3],x[1]/x[3])},ui.prototype.getBounds=function(){return new _.LngLatBounds().extend(this.pointLocation(new _.Point(0,0))).extend(this.pointLocation(new _.Point(this.width,0))).extend(this.pointLocation(new _.Point(this.width,this.height))).extend(this.pointLocation(new _.Point(0,this.height)))},ui.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new _.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},ui.prototype.setMaxBounds=function(m){m?(this.lngRange=[m.getWest(),m.getEast()],this.latRange=[m.getSouth(),m.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},ui.prototype.calculatePosMatrix=function(m,x){x===void 0&&(x=!1);var y=m.key,k=x?this._alignedPosMatrixCache:this._posMatrixCache;if(k[y])return k[y];var P=m.canonical,H=this.worldSize/this.zoomScale(P.z),X=P.x+Math.pow(2,P.z)*m.wrap,ae=_.identity(new Float64Array(16));return _.translate(ae,ae,[X*H,P.y*H,0]),_.scale(ae,ae,[H/_.EXTENT,H/_.EXTENT,1]),_.multiply(ae,x?this.alignedProjMatrix:this.projMatrix,ae),k[y]=new Float32Array(ae),k[y]},ui.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},ui.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var m,x,y,k,P=-90,H=90,X=-180,ae=180,xe=this.size,Oe=this._unmodified;if(this.latRange){var He=this.latRange;P=_.mercatorYfromLat(He[1])*this.worldSize,m=(H=_.mercatorYfromLat(He[0])*this.worldSize)-P<xe.y?xe.y/(H-P):0}if(this.lngRange){var We=this.lngRange;X=_.mercatorXfromLng(We[0])*this.worldSize,x=(ae=_.mercatorXfromLng(We[1])*this.worldSize)-X<xe.x?xe.x/(ae-X):0}var Ze=this.point,ht=Math.max(x||0,m||0);if(ht)return this.center=this.unproject(new _.Point(x?(ae+X)/2:Ze.x,m?(H+P)/2:Ze.y)),this.zoom+=this.scaleZoom(ht),this._unmodified=Oe,void(this._constraining=!1);if(this.latRange){var lt=Ze.y,vt=xe.y/2;lt-vt<P&&(k=P+vt),lt+vt>H&&(k=H-vt)}if(this.lngRange){var nt=Ze.x,bt=xe.x/2;nt-bt<X&&(y=X+bt),nt+bt>ae&&(y=ae-bt)}y===void 0&&k===void 0||(this.center=this.unproject(new _.Point(y!==void 0?y:Ze.x,k!==void 0?k:Ze.y))),this._unmodified=Oe,this._constraining=!1}},ui.prototype._calcMatrices=function(){if(this.height){var m=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var x=Math.PI/2+this._pitch,y=this._fov*(.5+m.y/this.height),k=Math.sin(y)*this.cameraToCenterDistance/Math.sin(_.clamp(Math.PI-x-y,.01,Math.PI-.01)),P=this.point,H=P.x,X=P.y,ae=1.01*(Math.cos(Math.PI/2-this._pitch)*k+this.cameraToCenterDistance),xe=this.height/50,Oe=new Float64Array(16);_.perspective(Oe,this._fov,this.width/this.height,xe,ae),Oe[8]=2*-m.x/this.width,Oe[9]=2*m.y/this.height,_.scale(Oe,Oe,[1,-1,1]),_.translate(Oe,Oe,[0,0,-this.cameraToCenterDistance]),_.rotateX(Oe,Oe,this._pitch),_.rotateZ(Oe,Oe,this.angle),_.translate(Oe,Oe,[-H,-X,0]),this.mercatorMatrix=_.scale([],Oe,[this.worldSize,this.worldSize,this.worldSize]),_.scale(Oe,Oe,[1,1,_.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=Oe,this.invProjMatrix=_.invert([],this.projMatrix);var He=this.width%2/2,We=this.height%2/2,Ze=Math.cos(this.angle),ht=Math.sin(this.angle),lt=H-Math.round(H)+Ze*He+ht*We,vt=X-Math.round(X)+Ze*We+ht*He,nt=new Float64Array(Oe);if(_.translate(nt,nt,[lt>.5?lt-1:lt,vt>.5?vt-1:vt,0]),this.alignedProjMatrix=nt,Oe=_.create(),_.scale(Oe,Oe,[this.width/2,-this.height/2,1]),_.translate(Oe,Oe,[1,-1,0]),this.labelPlaneMatrix=Oe,Oe=_.create(),_.scale(Oe,Oe,[1,-1,1]),_.translate(Oe,Oe,[-1,-1,0]),_.scale(Oe,Oe,[2/this.width,2/this.height,1]),this.glCoordMatrix=Oe,this.pixelMatrix=_.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(Oe=_.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=Oe,this._posMatrixCache={},this._alignedPosMatrixCache={}}},ui.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var m=this.pointCoordinate(new _.Point(0,0)),x=[m.x*this.worldSize,m.y*this.worldSize,0,1];return _.transformMat4(x,x,this.pixelMatrix)[3]/this.cameraToCenterDistance},ui.prototype.getCameraPoint=function(){var m=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new _.Point(0,m))},ui.prototype.getCameraQueryGeometry=function(m){var x=this.getCameraPoint();if(m.length===1)return[m[0],x];for(var y=x.x,k=x.y,P=x.x,H=x.y,X=0,ae=m;X<ae.length;X+=1){var xe=ae[X];y=Math.min(y,xe.x),k=Math.min(k,xe.y),P=Math.max(P,xe.x),H=Math.max(H,xe.y)}return[new _.Point(y,k),new _.Point(P,k),new _.Point(P,H),new _.Point(y,H),new _.Point(y,k)]},Object.defineProperties(ui.prototype,Mi);var Ta=function(m){var x,y,k,P;this._hashName=m&&encodeURIComponent(m),_.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(x=this._updateHashUnthrottled.bind(this),y=!1,k=null,P=function(){k=null,y&&(x(),k=setTimeout(P,300),y=!1)},function(){return y=!0,k||P(),k})};Ta.prototype.addTo=function(m){return this._map=m,_.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Ta.prototype.remove=function(){return _.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ta.prototype.getHashString=function(m){var x=this._map.getCenter(),y=Math.round(100*this._map.getZoom())/100,k=Math.ceil((y*Math.LN2+Math.log(512/360/.5))/Math.LN10),P=Math.pow(10,k),H=Math.round(x.lng*P)/P,X=Math.round(x.lat*P)/P,ae=this._map.getBearing(),xe=this._map.getPitch(),Oe="";if(Oe+=m?"/"+H+"/"+X+"/"+y:y+"/"+X+"/"+H,(ae||xe)&&(Oe+="/"+Math.round(10*ae)/10),xe&&(Oe+="/"+Math.round(xe)),this._hashName){var He=this._hashName,We=!1,Ze=_.window.location.hash.slice(1).split("&").map(function(ht){var lt=ht.split("=")[0];return lt===He?(We=!0,lt+"="+Oe):ht}).filter(function(ht){return ht});return We||Ze.push(He+"="+Oe),"#"+Ze.join("&")}return"#"+Oe},Ta.prototype._getCurrentHash=function(){var m,x=this,y=_.window.location.hash.replace("#","");return this._hashName?(y.split("&").map(function(k){return k.split("=")}).forEach(function(k){k[0]===x._hashName&&(m=k)}),(m&&m[1]||"").split("/")):y.split("/")},Ta.prototype._onHashChange=function(){var m=this._getCurrentHash();if(m.length>=3&&!m.some(function(y){return isNaN(y)})){var x=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(m[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+m[2],+m[1]],zoom:+m[0],bearing:x,pitch:+(m[4]||0)}),!0}return!1},Ta.prototype._updateHashUnthrottled=function(){var m=_.window.location.href.replace(/(#.+)?$/,this.getHashString());try{_.window.history.replaceState(_.window.history.state,null,m)}catch{}};var Df={linearity:.3,easing:_.bezier(0,0,.3,1)},fu=_.extend({deceleration:2500,maxSpeed:1400},Df),_c=_.extend({deceleration:20,maxSpeed:1400},Df),Ad=_.extend({deceleration:1e3,maxSpeed:360},Df),sf=_.extend({deceleration:1e3,maxSpeed:90},Df),Lu=function(m){this._map=m,this.clear()};function Vl(m,x){(!m.duration||m.duration<x.duration)&&(m.duration=x.duration,m.easing=x.easing)}function Os(m,x,y){var k=y.maxSpeed,P=y.linearity,H=y.deceleration,X=_.clamp(m*P/(x/1e3),-k,k),ae=Math.abs(X)/(H*P);return{easing:y.easing,duration:1e3*ae,amount:X*(ae/2)}}Lu.prototype.clear=function(){this._inertiaBuffer=[]},Lu.prototype.record=function(m){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:_.browser.now(),settings:m})},Lu.prototype._drainInertiaBuffer=function(){for(var m=this._inertiaBuffer,x=_.browser.now();m.length>0&&x-m[0].time>160;)m.shift()},Lu.prototype._onMoveEnd=function(m){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var x={zoom:0,bearing:0,pitch:0,pan:new _.Point(0,0),pinchAround:void 0,around:void 0},y=0,k=this._inertiaBuffer;y<k.length;y+=1){var P=k[y].settings;x.zoom+=P.zoomDelta||0,x.bearing+=P.bearingDelta||0,x.pitch+=P.pitchDelta||0,P.panDelta&&x.pan._add(P.panDelta),P.around&&(x.around=P.around),P.pinchAround&&(x.pinchAround=P.pinchAround)}var H=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,X={};if(x.pan.mag()){var ae=Os(x.pan.mag(),H,_.extend({},fu,m||{}));X.offset=x.pan.mult(ae.amount/x.pan.mag()),X.center=this._map.transform.center,Vl(X,ae)}if(x.zoom){var xe=Os(x.zoom,H,_c);X.zoom=this._map.transform.zoom+xe.amount,Vl(X,xe)}if(x.bearing){var Oe=Os(x.bearing,H,Ad);X.bearing=this._map.transform.bearing+_.clamp(Oe.amount,-179,179),Vl(X,Oe)}if(x.pitch){var He=Os(x.pitch,H,sf);X.pitch=this._map.transform.pitch+He.amount,Vl(X,He)}if(X.zoom||X.bearing){var We=x.pinchAround===void 0?x.around:x.pinchAround;X.around=We?this._map.unproject(We):this._map.getCenter()}return this.clear(),_.extend(X,{noMoveStart:!0})}};var go=function(m){function x(k,P,H,X){X===void 0&&(X={});var ae=fe.mousePos(P.getCanvasContainer(),H),xe=P.unproject(ae);m.call(this,k,_.extend({point:ae,lngLat:xe,originalEvent:H},X)),this._defaultPrevented=!1,this.target=P}m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x;var y={defaultPrevented:{configurable:!0}};return x.prototype.preventDefault=function(){this._defaultPrevented=!0},y.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(x.prototype,y),x}(_.Event),lf=function(m){function x(k,P,H){var X=k==="touchend"?H.changedTouches:H.touches,ae=fe.touchPos(P.getCanvasContainer(),X),xe=ae.map(function(We){return P.unproject(We)}),Oe=ae.reduce(function(We,Ze,ht,lt){return We.add(Ze.div(lt.length))},new _.Point(0,0)),He=P.unproject(Oe);m.call(this,k,{points:ae,point:Oe,lngLats:xe,lngLat:He,originalEvent:H}),this._defaultPrevented=!1}m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x;var y={defaultPrevented:{configurable:!0}};return x.prototype.preventDefault=function(){this._defaultPrevented=!0},y.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(x.prototype,y),x}(_.Event),mp=function(m){function x(k,P,H){m.call(this,k,{originalEvent:H}),this._defaultPrevented=!1}m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x;var y={defaultPrevented:{configurable:!0}};return x.prototype.preventDefault=function(){this._defaultPrevented=!0},y.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(x.prototype,y),x}(_.Event),na=function(m,x){this._map=m,this._clickTolerance=x.clickTolerance};na.prototype.reset=function(){delete this._mousedownPos},na.prototype.wheel=function(m){return this._firePreventable(new mp(m.type,this._map,m))},na.prototype.mousedown=function(m,x){return this._mousedownPos=x,this._firePreventable(new go(m.type,this._map,m))},na.prototype.mouseup=function(m){this._map.fire(new go(m.type,this._map,m))},na.prototype.click=function(m,x){this._mousedownPos&&this._mousedownPos.dist(x)>=this._clickTolerance||this._map.fire(new go(m.type,this._map,m))},na.prototype.dblclick=function(m){return this._firePreventable(new go(m.type,this._map,m))},na.prototype.mouseover=function(m){this._map.fire(new go(m.type,this._map,m))},na.prototype.mouseout=function(m){this._map.fire(new go(m.type,this._map,m))},na.prototype.touchstart=function(m){return this._firePreventable(new lf(m.type,this._map,m))},na.prototype.touchmove=function(m){this._map.fire(new lf(m.type,this._map,m))},na.prototype.touchend=function(m){this._map.fire(new lf(m.type,this._map,m))},na.prototype.touchcancel=function(m){this._map.fire(new lf(m.type,this._map,m))},na.prototype._firePreventable=function(m){if(this._map.fire(m),m.defaultPrevented)return{}},na.prototype.isEnabled=function(){return!0},na.prototype.isActive=function(){return!1},na.prototype.enable=function(){},na.prototype.disable=function(){};var Zr=function(m){this._map=m};Zr.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Zr.prototype.mousemove=function(m){this._map.fire(new go(m.type,this._map,m))},Zr.prototype.mousedown=function(){this._delayContextMenu=!0},Zr.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new go("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Zr.prototype.contextmenu=function(m){this._delayContextMenu?this._contextMenuEvent=m:this._map.fire(new go(m.type,this._map,m)),this._map.listens("contextmenu")&&m.preventDefault()},Zr.prototype.isEnabled=function(){return!0},Zr.prototype.isActive=function(){return!1},Zr.prototype.enable=function(){},Zr.prototype.disable=function(){};var vs=function(m,x){this._map=m,this._el=m.getCanvasContainer(),this._container=m.getContainer(),this._clickTolerance=x.clickTolerance||1};function ac(m,x){for(var y={},k=0;k<m.length;k++)y[m[k].identifier]=x[k];return y}vs.prototype.isEnabled=function(){return!!this._enabled},vs.prototype.isActive=function(){return!!this._active},vs.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},vs.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},vs.prototype.mousedown=function(m,x){this.isEnabled()&&m.shiftKey&&m.button===0&&(fe.disableDrag(),this._startPos=this._lastPos=x,this._active=!0)},vs.prototype.mousemoveWindow=function(m,x){if(this._active){var y=x;if(!(this._lastPos.equals(y)||!this._box&&y.dist(this._startPos)<this._clickTolerance)){var k=this._startPos;this._lastPos=y,this._box||(this._box=fe.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",m));var P=Math.min(k.x,y.x),H=Math.max(k.x,y.x),X=Math.min(k.y,y.y),ae=Math.max(k.y,y.y);fe.setTransform(this._box,"translate("+P+"px,"+X+"px)"),this._box.style.width=H-P+"px",this._box.style.height=ae-X+"px"}}},vs.prototype.mouseupWindow=function(m,x){var y=this;if(this._active&&m.button===0){var k=this._startPos,P=x;if(this.reset(),fe.suppressClick(),k.x!==P.x||k.y!==P.y)return this._map.fire(new _.Event("boxzoomend",{originalEvent:m})),{cameraAnimation:function(H){return H.fitScreenCoordinates(k,P,y._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",m)}},vs.prototype.keydown=function(m){this._active&&m.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",m))},vs.prototype.blur=function(){this.reset()},vs.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(fe.remove(this._box),this._box=null),fe.enableDrag(),delete this._startPos,delete this._lastPos},vs.prototype._fireEvent=function(m,x){return this._map.fire(new _.Event(m,{originalEvent:x}))};var Pu=function(m){this.reset(),this.numTouches=m.numTouches};Pu.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Pu.prototype.touchstart=function(m,x,y){(this.centroid||y.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=m.timeStamp),y.length===this.numTouches&&(this.centroid=function(k){for(var P=new _.Point(0,0),H=0,X=k;H<X.length;H+=1)P._add(X[H]);return P.div(k.length)}(x),this.touches=ac(y,x)))},Pu.prototype.touchmove=function(m,x,y){if(!this.aborted&&this.centroid){var k=ac(y,x);for(var P in this.touches){var H=k[P];(!H||H.dist(this.touches[P])>30)&&(this.aborted=!0)}}},Pu.prototype.touchend=function(m,x,y){if((!this.centroid||m.timeStamp-this.startTime>500)&&(this.aborted=!0),y.length===0){var k=!this.aborted&&this.centroid;if(this.reset(),k)return k}};var $l=function(m){this.singleTap=new Pu(m),this.numTaps=m.numTaps,this.reset()};$l.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},$l.prototype.touchstart=function(m,x,y){this.singleTap.touchstart(m,x,y)},$l.prototype.touchmove=function(m,x,y){this.singleTap.touchmove(m,x,y)},$l.prototype.touchend=function(m,x,y){var k=this.singleTap.touchend(m,x,y);if(k){var P=m.timeStamp-this.lastTime<500,H=!this.lastTap||this.lastTap.dist(k)<30;if(P&&H||this.reset(),this.count++,this.lastTime=m.timeStamp,this.lastTap=k,this.count===this.numTaps)return this.reset(),k}};var Ra=function(){this._zoomIn=new $l({numTouches:1,numTaps:2}),this._zoomOut=new $l({numTouches:2,numTaps:1}),this.reset()};Ra.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Ra.prototype.touchstart=function(m,x,y){this._zoomIn.touchstart(m,x,y),this._zoomOut.touchstart(m,x,y)},Ra.prototype.touchmove=function(m,x,y){this._zoomIn.touchmove(m,x,y),this._zoomOut.touchmove(m,x,y)},Ra.prototype.touchend=function(m,x,y){var k=this,P=this._zoomIn.touchend(m,x,y),H=this._zoomOut.touchend(m,x,y);return P?(this._active=!0,m.preventDefault(),setTimeout(function(){return k.reset()},0),{cameraAnimation:function(X){return X.easeTo({duration:300,zoom:X.getZoom()+1,around:X.unproject(P)},{originalEvent:m})}}):H?(this._active=!0,m.preventDefault(),setTimeout(function(){return k.reset()},0),{cameraAnimation:function(X){return X.easeTo({duration:300,zoom:X.getZoom()-1,around:X.unproject(H)},{originalEvent:m})}}):void 0},Ra.prototype.touchcancel=function(){this.reset()},Ra.prototype.enable=function(){this._enabled=!0},Ra.prototype.disable=function(){this._enabled=!1,this.reset()},Ra.prototype.isEnabled=function(){return this._enabled},Ra.prototype.isActive=function(){return this._active};var uf={0:1,2:2},wr=function(m){this.reset(),this._clickTolerance=m.clickTolerance||1};wr.prototype.blur=function(){this.reset()},wr.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},wr.prototype._correctButton=function(m,x){return!1},wr.prototype._move=function(m,x){return{}},wr.prototype.mousedown=function(m,x){if(!this._lastPoint){var y=fe.mouseButton(m);this._correctButton(m,y)&&(this._lastPoint=x,this._eventButton=y)}},wr.prototype.mousemoveWindow=function(m,x){var y=this._lastPoint;if(y){if(m.preventDefault(),function(k,P){var H=uf[P];return k.buttons===void 0||(k.buttons&H)!==H}(m,this._eventButton))this.reset();else if(this._moved||!(x.dist(y)<this._clickTolerance))return this._moved=!0,this._lastPoint=x,this._move(y,x)}},wr.prototype.mouseupWindow=function(m){this._lastPoint&&fe.mouseButton(m)===this._eventButton&&(this._moved&&fe.suppressClick(),this.reset())},wr.prototype.enable=function(){this._enabled=!0},wr.prototype.disable=function(){this._enabled=!1,this.reset()},wr.prototype.isEnabled=function(){return this._enabled},wr.prototype.isActive=function(){return this._active};var Fa=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.mousedown=function(y,k){m.prototype.mousedown.call(this,y,k),this._lastPoint&&(this._active=!0)},x.prototype._correctButton=function(y,k){return k===0&&!y.ctrlKey},x.prototype._move=function(y,k){return{around:k,panDelta:k.sub(y)}},x}(wr),sc=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype._correctButton=function(y,k){return k===0&&y.ctrlKey||k===2},x.prototype._move=function(y,k){var P=.8*(k.x-y.x);if(P)return this._active=!0,{bearingDelta:P}},x.prototype.contextmenu=function(y){y.preventDefault()},x}(wr),lc=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype._correctButton=function(y,k){return k===0&&y.ctrlKey||k===2},x.prototype._move=function(y,k){var P=-.5*(k.y-y.y);if(P)return this._active=!0,{pitchDelta:P}},x.prototype.contextmenu=function(y){y.preventDefault()},x}(wr),ns=function(m){this._minTouches=1,this._clickTolerance=m.clickTolerance||1,this.reset()};ns.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new _.Point(0,0)},ns.prototype.touchstart=function(m,x,y){return this._calculateTransform(m,x,y)},ns.prototype.touchmove=function(m,x,y){if(this._active&&!(y.length<this._minTouches))return m.preventDefault(),this._calculateTransform(m,x,y)},ns.prototype.touchend=function(m,x,y){this._calculateTransform(m,x,y),this._active&&y.length<this._minTouches&&this.reset()},ns.prototype.touchcancel=function(){this.reset()},ns.prototype._calculateTransform=function(m,x,y){y.length>0&&(this._active=!0);var k=ac(y,x),P=new _.Point(0,0),H=new _.Point(0,0),X=0;for(var ae in k){var xe=k[ae],Oe=this._touches[ae];Oe&&(P._add(xe),H._add(xe.sub(Oe)),X++,k[ae]=xe)}if(this._touches=k,!(X<this._minTouches)&&H.mag()){var He=H.div(X);if(this._sum._add(He),!(this._sum.mag()<this._clickTolerance))return{around:P.div(X),panDelta:He}}},ns.prototype.enable=function(){this._enabled=!0},ns.prototype.disable=function(){this._enabled=!1,this.reset()},ns.prototype.isEnabled=function(){return this._enabled},ns.prototype.isActive=function(){return this._active};var ha=function(){this.reset()};function ml(m,x,y){for(var k=0;k<m.length;k++)if(m[k].identifier===y)return x[k]}function gl(m,x){return Math.log(m/x)/Math.LN2}ha.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},ha.prototype._start=function(m){},ha.prototype._move=function(m,x,y){return{}},ha.prototype.touchstart=function(m,x,y){this._firstTwoTouches||y.length<2||(this._firstTwoTouches=[y[0].identifier,y[1].identifier],this._start([x[0],x[1]]))},ha.prototype.touchmove=function(m,x,y){if(this._firstTwoTouches){m.preventDefault();var k=this._firstTwoTouches,P=k[1],H=ml(y,x,k[0]),X=ml(y,x,P);if(H&&X){var ae=this._aroundCenter?null:H.add(X).div(2);return this._move([H,X],ae,m)}}},ha.prototype.touchend=function(m,x,y){if(this._firstTwoTouches){var k=this._firstTwoTouches,P=k[1],H=ml(y,x,k[0]),X=ml(y,x,P);H&&X||(this._active&&fe.suppressClick(),this.reset())}},ha.prototype.touchcancel=function(){this.reset()},ha.prototype.enable=function(m){this._enabled=!0,this._aroundCenter=!!m&&m.around==="center"},ha.prototype.disable=function(){this._enabled=!1,this.reset()},ha.prototype.isEnabled=function(){return this._enabled},ha.prototype.isActive=function(){return this._active};var Va=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.reset=function(){m.prototype.reset.call(this),delete this._distance,delete this._startDistance},x.prototype._start=function(y){this._startDistance=this._distance=y[0].dist(y[1])},x.prototype._move=function(y,k){var P=this._distance;if(this._distance=y[0].dist(y[1]),this._active||!(Math.abs(gl(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:gl(this._distance,P),pinchAround:k}},x}(ha);function is(m,x){return 180*m.angleWith(x)/Math.PI}var Of=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.reset=function(){m.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},x.prototype._start=function(y){this._startVector=this._vector=y[0].sub(y[1]),this._minDiameter=y[0].dist(y[1])},x.prototype._move=function(y,k){var P=this._vector;if(this._vector=y[0].sub(y[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:is(this._vector,P),pinchAround:k}},x.prototype._isBelowThreshold=function(y){this._minDiameter=Math.min(this._minDiameter,y.mag());var k=25/(Math.PI*this._minDiameter)*360,P=is(y,this._startVector);return Math.abs(P)<k},x}(ha);function Ys(m){return Math.abs(m.y)>Math.abs(m.x)}var hu=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.reset=function(){m.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},x.prototype._start=function(y){this._lastPoints=y,Ys(y[0].sub(y[1]))&&(this._valid=!1)},x.prototype._move=function(y,k,P){var H=y[0].sub(this._lastPoints[0]),X=y[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(H,X,P.timeStamp),this._valid)return this._lastPoints=y,this._active=!0,{pitchDelta:(H.y+X.y)/2*-.5}},x.prototype.gestureBeginsVertically=function(y,k,P){if(this._valid!==void 0)return this._valid;var H=y.mag()>=2,X=k.mag()>=2;if(H||X){if(!H||!X)return this._firstMove===void 0&&(this._firstMove=P),P-this._firstMove<100&&void 0;var ae=y.y>0==k.y>0;return Ys(y)&&Ys(k)&&ae}},x}(ha),cf={panStep:100,bearingStep:15,pitchStep:10},js=function(){var m=cf;this._panStep=m.panStep,this._bearingStep=m.bearingStep,this._pitchStep=m.pitchStep,this._rotationDisabled=!1};function ys(m){return m*(2-m)}js.prototype.blur=function(){this.reset()},js.prototype.reset=function(){this._active=!1},js.prototype.keydown=function(m){var x=this;if(!(m.altKey||m.ctrlKey||m.metaKey)){var y=0,k=0,P=0,H=0,X=0;switch(m.keyCode){case 61:case 107:case 171:case 187:y=1;break;case 189:case 109:case 173:y=-1;break;case 37:m.shiftKey?k=-1:(m.preventDefault(),H=-1);break;case 39:m.shiftKey?k=1:(m.preventDefault(),H=1);break;case 38:m.shiftKey?P=1:(m.preventDefault(),X=-1);break;case 40:m.shiftKey?P=-1:(m.preventDefault(),X=1);break;default:return}return this._rotationDisabled&&(k=0,P=0),{cameraAnimation:function(ae){var xe=ae.getZoom();ae.easeTo({duration:300,easeId:"keyboardHandler",easing:ys,zoom:y?Math.round(xe)+y*(m.shiftKey?2:1):xe,bearing:ae.getBearing()+k*x._bearingStep,pitch:ae.getPitch()+P*x._pitchStep,offset:[-H*x._panStep,-X*x._panStep],center:ae.getCenter()},{originalEvent:m})}}}},js.prototype.enable=function(){this._enabled=!0},js.prototype.disable=function(){this._enabled=!1,this.reset()},js.prototype.isEnabled=function(){return this._enabled},js.prototype.isActive=function(){return this._active},js.prototype.disableRotation=function(){this._rotationDisabled=!0},js.prototype.enableRotation=function(){this._rotationDisabled=!1};var ci=function(m,x){this._map=m,this._el=m.getCanvasContainer(),this._handler=x,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,_.bindAll(["_onTimeout"],this)};ci.prototype.setZoomRate=function(m){this._defaultZoomRate=m},ci.prototype.setWheelZoomRate=function(m){this._wheelZoomRate=m},ci.prototype.isEnabled=function(){return!!this._enabled},ci.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},ci.prototype.isZooming=function(){return!!this._zooming},ci.prototype.enable=function(m){this.isEnabled()||(this._enabled=!0,this._aroundCenter=m&&m.around==="center")},ci.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ci.prototype.wheel=function(m){if(this.isEnabled()){var x=m.deltaMode===_.window.WheelEvent.DOM_DELTA_LINE?40*m.deltaY:m.deltaY,y=_.browser.now(),k=y-(this._lastWheelEventTime||0);this._lastWheelEventTime=y,x!==0&&x%4.000244140625==0?this._type="wheel":x!==0&&Math.abs(x)<4?this._type="trackpad":k>400?(this._type=null,this._lastValue=x,this._timeout=setTimeout(this._onTimeout,40,m)):this._type||(this._type=Math.abs(k*x)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,x+=this._lastValue)),m.shiftKey&&x&&(x/=4),this._type&&(this._lastWheelEvent=m,this._delta-=x,this._active||this._start(m)),m.preventDefault()}},ci.prototype._onTimeout=function(m){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(m)},ci.prototype._start=function(m){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var x=fe.mousePos(this._el,m);this._around=_.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(x)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},ci.prototype.renderFrame=function(){var m=this;if(this._frameId&&(this._frameId=null,this.isActive())){var x=this._map.transform;if(this._delta!==0){var y=this._type==="wheel"&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,k=2/(1+Math.exp(-Math.abs(this._delta*y)));this._delta<0&&k!==0&&(k=1/k);var P=typeof this._targetZoom=="number"?x.zoomScale(this._targetZoom):x.scale;this._targetZoom=Math.min(x.maxZoom,Math.max(x.minZoom,x.scaleZoom(P*k))),this._type==="wheel"&&(this._startZoom=x.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var H,X=typeof this._targetZoom=="number"?this._targetZoom:x.zoom,ae=this._startZoom,xe=this._easing,Oe=!1;if(this._type==="wheel"&&ae&&xe){var He=Math.min((_.browser.now()-this._lastWheelEventTime)/200,1),We=xe(He);H=_.number(ae,X,We),He<1?this._frameId||(this._frameId=!0):Oe=!0}else H=X,Oe=!0;return this._active=!0,Oe&&(this._active=!1,this._finishTimeout=setTimeout(function(){m._zooming=!1,m._handler._triggerRenderFrame(),delete m._targetZoom,delete m._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Oe,zoomDelta:H-x.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},ci.prototype._smoothOutEasing=function(m){var x=_.ease;if(this._prevEase){var y=this._prevEase,k=(_.browser.now()-y.start)/y.duration,P=y.easing(k+.01)-y.easing(k),H=.27/Math.sqrt(P*P+1e-4)*.01,X=Math.sqrt(.0729-H*H);x=_.bezier(H,X,.25,1)}return this._prevEase={start:_.browser.now(),duration:m,easing:x},x},ci.prototype.blur=function(){this.reset()},ci.prototype.reset=function(){this._active=!1};var wc=function(m,x){this._clickZoom=m,this._tapZoom=x};wc.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},wc.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},wc.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},wc.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Ru=function(){this.reset()};Ru.prototype.reset=function(){this._active=!1},Ru.prototype.blur=function(){this.reset()},Ru.prototype.dblclick=function(m,x){return m.preventDefault(),{cameraAnimation:function(y){y.easeTo({duration:300,zoom:y.getZoom()+(m.shiftKey?-1:1),around:y.unproject(x)},{originalEvent:m})}}},Ru.prototype.enable=function(){this._enabled=!0},Ru.prototype.disable=function(){this._enabled=!1,this.reset()},Ru.prototype.isEnabled=function(){return this._enabled},Ru.prototype.isActive=function(){return this._active};var Zi=function(){this._tap=new $l({numTouches:1,numTaps:1}),this.reset()};Zi.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Zi.prototype.touchstart=function(m,x,y){this._swipePoint||(this._tapTime&&m.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?y.length>0&&(this._swipePoint=x[0],this._swipeTouch=y[0].identifier):this._tap.touchstart(m,x,y))},Zi.prototype.touchmove=function(m,x,y){if(this._tapTime){if(this._swipePoint){if(y[0].identifier!==this._swipeTouch)return;var k=x[0],P=k.y-this._swipePoint.y;return this._swipePoint=k,m.preventDefault(),this._active=!0,{zoomDelta:P/128}}}else this._tap.touchmove(m,x,y)},Zi.prototype.touchend=function(m,x,y){this._tapTime?this._swipePoint&&y.length===0&&this.reset():this._tap.touchend(m,x,y)&&(this._tapTime=m.timeStamp)},Zi.prototype.touchcancel=function(){this.reset()},Zi.prototype.enable=function(){this._enabled=!0},Zi.prototype.disable=function(){this._enabled=!1,this.reset()},Zi.prototype.isEnabled=function(){return this._enabled},Zi.prototype.isActive=function(){return this._active};var Io=function(m,x,y){this._el=m,this._mousePan=x,this._touchPan=y};Io.prototype.enable=function(m){this._inertiaOptions=m||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Io.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Io.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Io.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var da=function(m,x,y){this._pitchWithRotate=m.pitchWithRotate,this._mouseRotate=x,this._mousePitch=y};da.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},da.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},da.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},da.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Be=function(m,x,y,k){this._el=m,this._touchZoom=x,this._touchRotate=y,this._tapDragZoom=k,this._rotationDisabled=!1,this._enabled=!0};Be.prototype.enable=function(m){this._touchZoom.enable(m),this._rotationDisabled||this._touchRotate.enable(m),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Be.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Be.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Be.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Be.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Be.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var yi=function(m){return m.zoom||m.drag||m.pitch||m.rotate},Ea=function(m){function x(){m.apply(this,arguments)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x}(_.Event);function Rr(m){return m.panDelta&&m.panDelta.mag()||m.zoomDelta||m.bearingDelta||m.pitchDelta}var Sr=function(m,x){this._map=m,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Lu(m),this._bearingSnap=x.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(x),_.bindAll(["handleEvent","handleWindowEvent"],this);var y=this._el;this._listeners=[[y,"touchstart",{passive:!0}],[y,"touchmove",{passive:!1}],[y,"touchend",void 0],[y,"touchcancel",void 0],[y,"mousedown",void 0],[y,"mousemove",void 0],[y,"mouseup",void 0],[_.window.document,"mousemove",{capture:!0}],[_.window.document,"mouseup",void 0],[y,"mouseover",void 0],[y,"mouseout",void 0],[y,"dblclick",void 0],[y,"click",void 0],[y,"keydown",{capture:!1}],[y,"keyup",void 0],[y,"wheel",{passive:!1}],[y,"contextmenu",void 0],[_.window,"blur",void 0]];for(var k=0,P=this._listeners;k<P.length;k+=1){var H=P[k],X=H[0];fe.addEventListener(X,H[1],X===_.window.document?this.handleWindowEvent:this.handleEvent,H[2])}};Sr.prototype.destroy=function(){for(var m=0,x=this._listeners;m<x.length;m+=1){var y=x[m],k=y[0];fe.removeEventListener(k,y[1],k===_.window.document?this.handleWindowEvent:this.handleEvent,y[2])}},Sr.prototype._addDefaultHandlers=function(m){var x=this._map,y=x.getCanvasContainer();this._add("mapEvent",new na(x,m));var k=x.boxZoom=new vs(x,m);this._add("boxZoom",k);var P=new Ra,H=new Ru;x.doubleClickZoom=new wc(H,P),this._add("tapZoom",P),this._add("clickZoom",H);var X=new Zi;this._add("tapDragZoom",X);var ae=x.touchPitch=new hu;this._add("touchPitch",ae);var xe=new sc(m),Oe=new lc(m);x.dragRotate=new da(m,xe,Oe),this._add("mouseRotate",xe,["mousePitch"]),this._add("mousePitch",Oe,["mouseRotate"]);var He=new Fa(m),We=new ns(m);x.dragPan=new Io(y,He,We),this._add("mousePan",He),this._add("touchPan",We,["touchZoom","touchRotate"]);var Ze=new Of,ht=new Va;x.touchZoomRotate=new Be(y,ht,Ze,X),this._add("touchRotate",Ze,["touchPan","touchZoom"]),this._add("touchZoom",ht,["touchPan","touchRotate"]);var lt=x.scrollZoom=new ci(x,this);this._add("scrollZoom",lt,["mousePan"]);var vt=x.keyboard=new js;this._add("keyboard",vt),this._add("blockableMapEvent",new Zr(x));for(var nt=0,bt=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];nt<bt.length;nt+=1){var St=bt[nt];m.interactive&&m[St]&&x[St].enable(m[St])}},Sr.prototype._add=function(m,x,y){this._handlers.push({handlerName:m,handler:x,allowed:y}),this._handlersById[m]=x},Sr.prototype.stop=function(m){if(!this._updatingCamera){for(var x=0,y=this._handlers;x<y.length;x+=1)y[x].handler.reset();this._inertia.clear(),this._fireEvents({},{},m),this._changes=[]}},Sr.prototype.isActive=function(){for(var m=0,x=this._handlers;m<x.length;m+=1)if(x[m].handler.isActive())return!0;return!1},Sr.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Sr.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Sr.prototype.isMoving=function(){return Boolean(yi(this._eventsInProgress))||this.isZooming()},Sr.prototype._blockedByActive=function(m,x,y){for(var k in m)if(k!==y&&(!x||x.indexOf(k)<0))return!0;return!1},Sr.prototype.handleWindowEvent=function(m){this.handleEvent(m,m.type+"Window")},Sr.prototype._getMapTouches=function(m){for(var x=[],y=0,k=m;y<k.length;y+=1){var P=k[y];this._el.contains(P.target)&&x.push(P)}return x},Sr.prototype.handleEvent=function(m,x){this._updatingCamera=!0;for(var y=m.type==="renderFrame"?void 0:m,k={needsRenderFrame:!1},P={},H={},X=m.touches?this._getMapTouches(m.touches):void 0,ae=X?fe.touchPos(this._el,X):fe.mousePos(this._el,m),xe=0,Oe=this._handlers;xe<Oe.length;xe+=1){var He=Oe[xe],We=He.handlerName,Ze=He.handler,ht=He.allowed;if(Ze.isEnabled()){var lt=void 0;this._blockedByActive(H,ht,We)?Ze.reset():Ze[x||m.type]&&(lt=Ze[x||m.type](m,ae,X),this.mergeHandlerResult(k,P,lt,We,y),lt&&lt.needsRenderFrame&&this._triggerRenderFrame()),(lt||Ze.isActive())&&(H[We]=Ze)}}var vt={};for(var nt in this._previousActiveHandlers)H[nt]||(vt[nt]=y);this._previousActiveHandlers=H,(Object.keys(vt).length||Rr(k))&&(this._changes.push([k,P,vt]),this._triggerRenderFrame()),(Object.keys(H).length||Rr(k))&&this._map._stop(!0),this._updatingCamera=!1;var bt=k.cameraAnimation;bt&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],bt(this._map))},Sr.prototype.mergeHandlerResult=function(m,x,y,k,P){if(y){_.extend(m,y);var H={handlerName:k,originalEvent:y.originalEvent||P};y.zoomDelta!==void 0&&(x.zoom=H),y.panDelta!==void 0&&(x.drag=H),y.pitchDelta!==void 0&&(x.pitch=H),y.bearingDelta!==void 0&&(x.rotate=H)}},Sr.prototype._applyChanges=function(){for(var m={},x={},y={},k=0,P=this._changes;k<P.length;k+=1){var H=P[k],X=H[0],ae=H[1],xe=H[2];X.panDelta&&(m.panDelta=(m.panDelta||new _.Point(0,0))._add(X.panDelta)),X.zoomDelta&&(m.zoomDelta=(m.zoomDelta||0)+X.zoomDelta),X.bearingDelta&&(m.bearingDelta=(m.bearingDelta||0)+X.bearingDelta),X.pitchDelta&&(m.pitchDelta=(m.pitchDelta||0)+X.pitchDelta),X.around!==void 0&&(m.around=X.around),X.pinchAround!==void 0&&(m.pinchAround=X.pinchAround),X.noInertia&&(m.noInertia=X.noInertia),_.extend(x,ae),_.extend(y,xe)}this._updateMapTransform(m,x,y),this._changes=[]},Sr.prototype._updateMapTransform=function(m,x,y){var k=this._map,P=k.transform;if(!Rr(m))return this._fireEvents(x,y,!0);var H=m.panDelta,X=m.zoomDelta,ae=m.bearingDelta,xe=m.pitchDelta,Oe=m.around,He=m.pinchAround;He!==void 0&&(Oe=He),k._stop(!0),Oe=Oe||k.transform.centerPoint;var We=P.pointLocation(H?Oe.sub(H):Oe);ae&&(P.bearing+=ae),xe&&(P.pitch+=xe),X&&(P.zoom+=X),P.setLocationAtPoint(We,Oe),this._map._update(),m.noInertia||this._inertia.record(m),this._fireEvents(x,y,!0)},Sr.prototype._fireEvents=function(m,x,y){var k=this,P=yi(this._eventsInProgress),H=yi(m),X={};for(var ae in m)this._eventsInProgress[ae]||(X[ae+"start"]=m[ae].originalEvent),this._eventsInProgress[ae]=m[ae];for(var xe in!P&&H&&this._fireEvent("movestart",H.originalEvent),X)this._fireEvent(xe,X[xe]);for(var Oe in H&&this._fireEvent("move",H.originalEvent),m)this._fireEvent(Oe,m[Oe].originalEvent);var He,We={};for(var Ze in this._eventsInProgress){var ht=this._eventsInProgress[Ze],lt=ht.handlerName,vt=ht.originalEvent;this._handlersById[lt].isActive()||(delete this._eventsInProgress[Ze],We[Ze+"end"]=He=x[lt]||vt)}for(var nt in We)this._fireEvent(nt,We[nt]);var bt=yi(this._eventsInProgress);if(y&&(P||H)&&!bt){this._updatingCamera=!0;var St=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Ft=function(rr){return rr!==0&&-k._bearingSnap<rr&&rr<k._bearingSnap};St?(Ft(St.bearing||this._map.getBearing())&&(St.bearing=0),this._map.easeTo(St,{originalEvent:He})):(this._map.fire(new _.Event("moveend",{originalEvent:He})),Ft(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Sr.prototype._fireEvent=function(m,x){this._map.fire(new _.Event(m,x?{originalEvent:x}:{}))},Sr.prototype._requestFrame=function(){var m=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(x){delete m._frameId,m.handleEvent(new Ea("renderFrame",{timeStamp:x})),m._applyChanges()})},Sr.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var Dd=function(m){function x(y,k){m.call(this),this._moving=!1,this._zooming=!1,this.transform=y,this._bearingSnap=k.bearingSnap,_.bindAll(["_renderFrameCallback"],this)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.getCenter=function(){return new _.LngLat(this.transform.center.lng,this.transform.center.lat)},x.prototype.setCenter=function(y,k){return this.jumpTo({center:y},k)},x.prototype.panBy=function(y,k,P){return y=_.Point.convert(y).mult(-1),this.panTo(this.transform.center,_.extend({offset:y},k),P)},x.prototype.panTo=function(y,k,P){return this.easeTo(_.extend({center:y},k),P)},x.prototype.getZoom=function(){return this.transform.zoom},x.prototype.setZoom=function(y,k){return this.jumpTo({zoom:y},k),this},x.prototype.zoomTo=function(y,k,P){return this.easeTo(_.extend({zoom:y},k),P)},x.prototype.zoomIn=function(y,k){return this.zoomTo(this.getZoom()+1,y,k),this},x.prototype.zoomOut=function(y,k){return this.zoomTo(this.getZoom()-1,y,k),this},x.prototype.getBearing=function(){return this.transform.bearing},x.prototype.setBearing=function(y,k){return this.jumpTo({bearing:y},k),this},x.prototype.getPadding=function(){return this.transform.padding},x.prototype.setPadding=function(y,k){return this.jumpTo({padding:y},k),this},x.prototype.rotateTo=function(y,k,P){return this.easeTo(_.extend({bearing:y},k),P)},x.prototype.resetNorth=function(y,k){return this.rotateTo(0,_.extend({duration:1e3},y),k),this},x.prototype.resetNorthPitch=function(y,k){return this.easeTo(_.extend({bearing:0,pitch:0,duration:1e3},y),k),this},x.prototype.snapToNorth=function(y,k){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(y,k):this},x.prototype.getPitch=function(){return this.transform.pitch},x.prototype.setPitch=function(y,k){return this.jumpTo({pitch:y},k),this},x.prototype.cameraForBounds=function(y,k){y=_.LngLatBounds.convert(y);var P=k&&k.bearing||0;return this._cameraForBoxAndBearing(y.getNorthWest(),y.getSouthEast(),P,k)},x.prototype._cameraForBoxAndBearing=function(y,k,P,H){var X={top:0,bottom:0,right:0,left:0};if(typeof(H=_.extend({padding:X,offset:[0,0],maxZoom:this.transform.maxZoom},H)).padding=="number"){var ae=H.padding;H.padding={top:ae,bottom:ae,right:ae,left:ae}}H.padding=_.extend(X,H.padding);var xe=this.transform,Oe=xe.padding,He=xe.project(_.LngLat.convert(y)),We=xe.project(_.LngLat.convert(k)),Ze=He.rotate(-P*Math.PI/180),ht=We.rotate(-P*Math.PI/180),lt=new _.Point(Math.max(Ze.x,ht.x),Math.max(Ze.y,ht.y)),vt=new _.Point(Math.min(Ze.x,ht.x),Math.min(Ze.y,ht.y)),nt=lt.sub(vt),bt=(xe.width-(Oe.left+Oe.right+H.padding.left+H.padding.right))/nt.x,St=(xe.height-(Oe.top+Oe.bottom+H.padding.top+H.padding.bottom))/nt.y;if(!(St<0||bt<0)){var Ft=Math.min(xe.scaleZoom(xe.scale*Math.min(bt,St)),H.maxZoom),rr=typeof H.offset.x=="number"?new _.Point(H.offset.x,H.offset.y):_.Point.convert(H.offset),Jt=new _.Point((H.padding.left-H.padding.right)/2,(H.padding.top-H.padding.bottom)/2).rotate(P*Math.PI/180),Zt=rr.add(Jt).mult(xe.scale/xe.zoomScale(Ft));return{center:xe.unproject(He.add(We).div(2).sub(Zt)),zoom:Ft,bearing:P}}_.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},x.prototype.fitBounds=function(y,k,P){return this._fitInternal(this.cameraForBounds(y,k),k,P)},x.prototype.fitScreenCoordinates=function(y,k,P,H,X){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(_.Point.convert(y)),this.transform.pointLocation(_.Point.convert(k)),P,H),H,X)},x.prototype._fitInternal=function(y,k,P){return y?(delete(k=_.extend(y,k)).padding,k.linear?this.easeTo(k,P):this.flyTo(k,P)):this},x.prototype.jumpTo=function(y,k){this.stop();var P=this.transform,H=!1,X=!1,ae=!1;return"zoom"in y&&P.zoom!==+y.zoom&&(H=!0,P.zoom=+y.zoom),y.center!==void 0&&(P.center=_.LngLat.convert(y.center)),"bearing"in y&&P.bearing!==+y.bearing&&(X=!0,P.bearing=+y.bearing),"pitch"in y&&P.pitch!==+y.pitch&&(ae=!0,P.pitch=+y.pitch),y.padding==null||P.isPaddingEqual(y.padding)||(P.padding=y.padding),this.fire(new _.Event("movestart",k)).fire(new _.Event("move",k)),H&&this.fire(new _.Event("zoomstart",k)).fire(new _.Event("zoom",k)).fire(new _.Event("zoomend",k)),X&&this.fire(new _.Event("rotatestart",k)).fire(new _.Event("rotate",k)).fire(new _.Event("rotateend",k)),ae&&this.fire(new _.Event("pitchstart",k)).fire(new _.Event("pitch",k)).fire(new _.Event("pitchend",k)),this.fire(new _.Event("moveend",k))},x.prototype.easeTo=function(y,k){var P=this;this._stop(!1,y.easeId),((y=_.extend({offset:[0,0],duration:500,easing:_.ease},y)).animate===!1||!y.essential&&_.browser.prefersReducedMotion)&&(y.duration=0);var H=this.transform,X=this.getZoom(),ae=this.getBearing(),xe=this.getPitch(),Oe=this.getPadding(),He="zoom"in y?+y.zoom:X,We="bearing"in y?this._normalizeBearing(y.bearing,ae):ae,Ze="pitch"in y?+y.pitch:xe,ht="padding"in y?y.padding:H.padding,lt=_.Point.convert(y.offset),vt=H.centerPoint.add(lt),nt=H.pointLocation(vt),bt=_.LngLat.convert(y.center||nt);this._normalizeCenter(bt);var St,Ft,rr=H.project(nt),Jt=H.project(bt).sub(rr),Zt=H.zoomScale(He-X);y.around&&(St=_.LngLat.convert(y.around),Ft=H.locationPoint(St));var mr={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||He!==X,this._rotating=this._rotating||ae!==We,this._pitching=this._pitching||Ze!==xe,this._padding=!H.isPaddingEqual(ht),this._easeId=y.easeId,this._prepareEase(k,y.noMoveStart,mr),this._ease(function(yr){if(P._zooming&&(H.zoom=_.number(X,He,yr)),P._rotating&&(H.bearing=_.number(ae,We,yr)),P._pitching&&(H.pitch=_.number(xe,Ze,yr)),P._padding&&(H.interpolatePadding(Oe,ht,yr),vt=H.centerPoint.add(lt)),St)H.setLocationAtPoint(St,Ft);else{var br=H.zoomScale(H.zoom-X),$r=He>X?Math.min(2,Zt):Math.max(.5,Zt),Gr=Math.pow($r,1-yr),hn=H.unproject(rr.add(Jt.mult(yr*Gr)).mult(br));H.setLocationAtPoint(H.renderWorldCopies?hn.wrap():hn,vt)}P._fireMoveEvents(k)},function(yr){P._afterEase(k,yr)},y),this},x.prototype._prepareEase=function(y,k,P){P===void 0&&(P={}),this._moving=!0,k||P.moving||this.fire(new _.Event("movestart",y)),this._zooming&&!P.zooming&&this.fire(new _.Event("zoomstart",y)),this._rotating&&!P.rotating&&this.fire(new _.Event("rotatestart",y)),this._pitching&&!P.pitching&&this.fire(new _.Event("pitchstart",y))},x.prototype._fireMoveEvents=function(y){this.fire(new _.Event("move",y)),this._zooming&&this.fire(new _.Event("zoom",y)),this._rotating&&this.fire(new _.Event("rotate",y)),this._pitching&&this.fire(new _.Event("pitch",y))},x.prototype._afterEase=function(y,k){if(!this._easeId||!k||this._easeId!==k){delete this._easeId;var P=this._zooming,H=this._rotating,X=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,P&&this.fire(new _.Event("zoomend",y)),H&&this.fire(new _.Event("rotateend",y)),X&&this.fire(new _.Event("pitchend",y)),this.fire(new _.Event("moveend",y))}},x.prototype.flyTo=function(y,k){var P=this;if(!y.essential&&_.browser.prefersReducedMotion){var H=_.pick(y,["center","zoom","bearing","pitch","around"]);return this.jumpTo(H,k)}this.stop(),y=_.extend({offset:[0,0],speed:1.2,curve:1.42,easing:_.ease},y);var X=this.transform,ae=this.getZoom(),xe=this.getBearing(),Oe=this.getPitch(),He=this.getPadding(),We="zoom"in y?_.clamp(+y.zoom,X.minZoom,X.maxZoom):ae,Ze="bearing"in y?this._normalizeBearing(y.bearing,xe):xe,ht="pitch"in y?+y.pitch:Oe,lt="padding"in y?y.padding:X.padding,vt=X.zoomScale(We-ae),nt=_.Point.convert(y.offset),bt=X.centerPoint.add(nt),St=X.pointLocation(bt),Ft=_.LngLat.convert(y.center||St);this._normalizeCenter(Ft);var rr=X.project(St),Jt=X.project(Ft).sub(rr),Zt=y.curve,mr=Math.max(X.width,X.height),yr=mr/vt,br=Jt.mag();if("minZoom"in y){var $r=_.clamp(Math.min(y.minZoom,ae,We),X.minZoom,X.maxZoom),Gr=mr/X.zoomScale($r-ae);Zt=Math.sqrt(Gr/br*2)}var hn=Zt*Zt;function dn(vn){var xn=(yr*yr-mr*mr+(vn?-1:1)*hn*hn*br*br)/(2*(vn?yr:mr)*hn*br);return Math.log(Math.sqrt(xn*xn+1)-xn)}function Bn(vn){return(Math.exp(vn)-Math.exp(-vn))/2}function Kr(vn){return(Math.exp(vn)+Math.exp(-vn))/2}var Mn=dn(0),Vn=function(vn){return Kr(Mn)/Kr(Mn+Zt*vn)},On=function(vn){return mr*((Kr(Mn)*(Bn(xn=Mn+Zt*vn)/Kr(xn))-Bn(Mn))/hn)/br;var xn},Ln=(dn(1)-Mn)/Zt;if(Math.abs(br)<1e-6||!isFinite(Ln)){if(Math.abs(mr-yr)<1e-6)return this.easeTo(y,k);var Hn=yr<mr?-1:1;Ln=Math.abs(Math.log(yr/mr))/Zt,On=function(){return 0},Vn=function(vn){return Math.exp(Hn*Zt*vn)}}return y.duration="duration"in y?+y.duration:1e3*Ln/("screenSpeed"in y?+y.screenSpeed/Zt:+y.speed),y.maxDuration&&y.duration>y.maxDuration&&(y.duration=0),this._zooming=!0,this._rotating=xe!==Ze,this._pitching=ht!==Oe,this._padding=!X.isPaddingEqual(lt),this._prepareEase(k,!1),this._ease(function(vn){var xn=vn*Ln,ka=1/Vn(xn);X.zoom=vn===1?We:ae+X.scaleZoom(ka),P._rotating&&(X.bearing=_.number(xe,Ze,vn)),P._pitching&&(X.pitch=_.number(Oe,ht,vn)),P._padding&&(X.interpolatePadding(He,lt,vn),bt=X.centerPoint.add(nt));var So=vn===1?Ft:X.unproject(rr.add(Jt.mult(On(xn))).mult(ka));X.setLocationAtPoint(X.renderWorldCopies?So.wrap():So,bt),P._fireMoveEvents(k)},function(){return P._afterEase(k)},y),this},x.prototype.isEasing=function(){return!!this._easeFrameId},x.prototype.stop=function(){return this._stop()},x.prototype._stop=function(y,k){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var P=this._onEaseEnd;delete this._onEaseEnd,P.call(this,k)}if(!y){var H=this.handlers;H&&H.stop(!1)}return this},x.prototype._ease=function(y,k,P){P.animate===!1||P.duration===0?(y(1),k()):(this._easeStart=_.browser.now(),this._easeOptions=P,this._onEaseFrame=y,this._onEaseEnd=k,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},x.prototype._renderFrameCallback=function(){var y=Math.min((_.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(y)),y<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},x.prototype._normalizeBearing=function(y,k){y=_.wrap(y,-180,180);var P=Math.abs(y-k);return Math.abs(y-360-k)<P&&(y-=360),Math.abs(y+360-k)<P&&(y+=360),y},x.prototype._normalizeCenter=function(y){var k=this.transform;if(k.renderWorldCopies&&!k.lngRange){var P=y.lng-k.center.lng;y.lng+=P>180?-360:P<-180?360:0}},x}(_.Evented),bs=function(m){m===void 0&&(m={}),this.options=m,_.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};bs.prototype.getDefaultPosition=function(){return"bottom-right"},bs.prototype.onAdd=function(m){var x=this.options&&this.options.compact;return this._map=m,this._container=fe.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=fe.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=fe.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),x&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),x===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},bs.prototype.onRemove=function(){fe.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},bs.prototype._setElementTitle=function(m,x){var y=this._map._getUIString("AttributionControl."+x);m.title=y,m.setAttribute("aria-label",y)},bs.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},bs.prototype._updateEditLink=function(){var m=this._editLink;m||(m=this._editLink=this._container.querySelector(".mapbox-improve-map"));var x=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||_.config.ACCESS_TOKEN}];if(m){var y=x.reduce(function(k,P,H){return P.value&&(k+=P.key+"="+P.value+(H<x.length-1?"&":"")),k},"?");m.href=_.config.FEEDBACK_URL+"/"+y+(this._map._hash?this._map._hash.getHashString(!0):""),m.rel="noopener nofollow",this._setElementTitle(m,"MapFeedback")}},bs.prototype._updateData=function(m){!m||m.sourceDataType!=="metadata"&&m.sourceDataType!=="visibility"&&m.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},bs.prototype._updateAttributions=function(){if(this._map.style){var m=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?m=m.concat(this.options.customAttribution.map(function(ae){return typeof ae!="string"?"":ae})):typeof this.options.customAttribution=="string"&&m.push(this.options.customAttribution)),this._map.style.stylesheet){var x=this._map.style.stylesheet;this.styleOwner=x.owner,this.styleId=x.id}var y=this._map.style.sourceCaches;for(var k in y){var P=y[k];if(P.used){var H=P.getSource();H.attribution&&m.indexOf(H.attribution)<0&&m.push(H.attribution)}}m.sort(function(ae,xe){return ae.length-xe.length});var X=(m=m.filter(function(ae,xe){for(var Oe=xe+1;Oe<m.length;Oe++)if(m[Oe].indexOf(ae)>=0)return!1;return!0})).join(" | ");X!==this._attribHTML&&(this._attribHTML=X,m.length?(this._innerContainer.innerHTML=X,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},bs.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var du=function(){_.bindAll(["_updateLogo"],this),_.bindAll(["_updateCompact"],this)};du.prototype.onAdd=function(m){this._map=m,this._container=fe.create("div","mapboxgl-ctrl");var x=fe.create("a","mapboxgl-ctrl-logo");return x.target="_blank",x.rel="noopener nofollow",x.href="https://www.mapbox.com/",x.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),x.setAttribute("rel","noopener nofollow"),this._container.appendChild(x),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},du.prototype.onRemove=function(){fe.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},du.prototype.getDefaultPosition=function(){return"bottom-left"},du.prototype._updateLogo=function(m){m&&m.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},du.prototype._logoRequired=function(){if(this._map.style){var m=this._map.style.sourceCaches;for(var x in m)if(m[x].getSource().mapbox_logo)return!0;return!1}},du.prototype._updateCompact=function(){var m=this._container.children;if(m.length){var x=m[0];this._map.getCanvasContainer().offsetWidth<250?x.classList.add("mapboxgl-compact"):x.classList.remove("mapboxgl-compact")}};var ia=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};ia.prototype.add=function(m){var x=++this._id;return this._queue.push({callback:m,id:x,cancelled:!1}),x},ia.prototype.remove=function(m){for(var x=this._currentlyRunning,y=0,k=x?this._queue.concat(x):this._queue;y<k.length;y+=1){var P=k[y];if(P.id===m)return void(P.cancelled=!0)}},ia.prototype.run=function(m){m===void 0&&(m=0);var x=this._currentlyRunning=this._queue;this._queue=[];for(var y=0,k=x;y<k.length;y+=1){var P=k[y];if(!P.cancelled&&(P.callback(m),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},ia.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Fu={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Hh=_.window.HTMLImageElement,If=_.window.HTMLElement,Li=_.window.ImageBitmap,os={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},pu=function(m){function x(k){var P=this;if((k=_.extend({},os,k)).minZoom!=null&&k.maxZoom!=null&&k.minZoom>k.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(k.minPitch!=null&&k.maxPitch!=null&&k.minPitch>k.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(k.minPitch!=null&&k.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(k.maxPitch!=null&&k.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var H=new ui(k.minZoom,k.maxZoom,k.minPitch,k.maxPitch,k.renderWorldCopies);if(m.call(this,H,k),this._interactive=k.interactive,this._maxTileCacheSize=k.maxTileCacheSize,this._failIfMajorPerformanceCaveat=k.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=k.preserveDrawingBuffer,this._antialias=k.antialias,this._trackResize=k.trackResize,this._bearingSnap=k.bearingSnap,this._refreshExpiredTiles=k.refreshExpiredTiles,this._fadeDuration=k.fadeDuration,this._crossSourceCollisions=k.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=k.collectResourceTiming,this._renderTaskQueue=new ia,this._controls=[],this._mapId=_.uniqueId(),this._locale=_.extend({},Fu,k.locale),this._clickTolerance=k.clickTolerance,this._requestManager=new _.RequestManager(k.transformRequest,k.accessToken),typeof k.container=="string"){if(this._container=_.window.document.getElementById(k.container),!this._container)throw new Error("Container '"+k.container+"' not found.")}else{if(!(k.container instanceof If))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=k.container}if(k.maxBounds&&this.setMaxBounds(k.maxBounds),_.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return P._update(!1)}),this.on("moveend",function(){return P._update(!1)}),this.on("zoom",function(){return P._update(!0)}),_.window!==void 0&&(_.window.addEventListener("online",this._onWindowOnline,!1),_.window.addEventListener("resize",this._onWindowResize,!1),_.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Sr(this,k),this._hash=k.hash&&new Ta(typeof k.hash=="string"&&k.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:k.center,zoom:k.zoom,bearing:k.bearing,pitch:k.pitch}),k.bounds&&(this.resize(),this.fitBounds(k.bounds,_.extend({},k.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=k.localIdeographFontFamily,k.style&&this.setStyle(k.style,{localIdeographFontFamily:k.localIdeographFontFamily}),k.attributionControl&&this.addControl(new bs({customAttribution:k.customAttribution})),this.addControl(new du,k.logoPosition),this.on("style.load",function(){P.transform.unmodified&&P.jumpTo(P.style.stylesheet)}),this.on("data",function(X){P._update(X.dataType==="style"),P.fire(new _.Event(X.dataType+"data",X))}),this.on("dataloading",function(X){P.fire(new _.Event(X.dataType+"dataloading",X))})}m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x;var y={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return x.prototype._getMapId=function(){return this._mapId},x.prototype.addControl=function(k,P){if(P===void 0&&(P=k.getDefaultPosition?k.getDefaultPosition():"top-right"),!k||!k.onAdd)return this.fire(new _.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var H=k.onAdd(this);this._controls.push(k);var X=this._controlPositions[P];return P.indexOf("bottom")!==-1?X.insertBefore(H,X.firstChild):X.appendChild(H),this},x.prototype.removeControl=function(k){if(!k||!k.onRemove)return this.fire(new _.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var P=this._controls.indexOf(k);return P>-1&&this._controls.splice(P,1),k.onRemove(this),this},x.prototype.hasControl=function(k){return this._controls.indexOf(k)>-1},x.prototype.resize=function(k){var P=this._containerDimensions(),H=P[0],X=P[1];if(H===this.transform.width&&X===this.transform.height)return this;this._resizeCanvas(H,X),this.transform.resize(H,X),this.painter.resize(H,X);var ae=!this._moving;return ae&&this.fire(new _.Event("movestart",k)).fire(new _.Event("move",k)),this.fire(new _.Event("resize",k)),ae&&this.fire(new _.Event("moveend",k)),this},x.prototype.getBounds=function(){return this.transform.getBounds()},x.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},x.prototype.setMaxBounds=function(k){return this.transform.setMaxBounds(_.LngLatBounds.convert(k)),this._update()},x.prototype.setMinZoom=function(k){if((k=k??-2)>=-2&&k<=this.transform.maxZoom)return this.transform.minZoom=k,this._update(),this.getZoom()<k&&this.setZoom(k),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},x.prototype.getMinZoom=function(){return this.transform.minZoom},x.prototype.setMaxZoom=function(k){if((k=k??22)>=this.transform.minZoom)return this.transform.maxZoom=k,this._update(),this.getZoom()>k&&this.setZoom(k),this;throw new Error("maxZoom must be greater than the current minZoom")},x.prototype.getMaxZoom=function(){return this.transform.maxZoom},x.prototype.setMinPitch=function(k){if((k=k??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(k>=0&&k<=this.transform.maxPitch)return this.transform.minPitch=k,this._update(),this.getPitch()<k&&this.setPitch(k),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},x.prototype.getMinPitch=function(){return this.transform.minPitch},x.prototype.setMaxPitch=function(k){if((k=k??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(k>=this.transform.minPitch)return this.transform.maxPitch=k,this._update(),this.getPitch()>k&&this.setPitch(k),this;throw new Error("maxPitch must be greater than the current minPitch")},x.prototype.getMaxPitch=function(){return this.transform.maxPitch},x.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},x.prototype.setRenderWorldCopies=function(k){return this.transform.renderWorldCopies=k,this._update()},x.prototype.project=function(k){return this.transform.locationPoint(_.LngLat.convert(k))},x.prototype.unproject=function(k){return this.transform.pointLocation(_.Point.convert(k))},x.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},x.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},x.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},x.prototype._createDelegatedListener=function(k,P,H){var X,ae=this;if(k==="mouseenter"||k==="mouseover"){var xe=!1;return{layer:P,listener:H,delegates:{mousemove:function(He){var We=ae.getLayer(P)?ae.queryRenderedFeatures(He.point,{layers:[P]}):[];We.length?xe||(xe=!0,H.call(ae,new go(k,ae,He.originalEvent,{features:We}))):xe=!1},mouseout:function(){xe=!1}}}}if(k==="mouseleave"||k==="mouseout"){var Oe=!1;return{layer:P,listener:H,delegates:{mousemove:function(He){(ae.getLayer(P)?ae.queryRenderedFeatures(He.point,{layers:[P]}):[]).length?Oe=!0:Oe&&(Oe=!1,H.call(ae,new go(k,ae,He.originalEvent)))},mouseout:function(He){Oe&&(Oe=!1,H.call(ae,new go(k,ae,He.originalEvent)))}}}}return{layer:P,listener:H,delegates:(X={},X[k]=function(He){var We=ae.getLayer(P)?ae.queryRenderedFeatures(He.point,{layers:[P]}):[];We.length&&(He.features=We,H.call(ae,He),delete He.features)},X)}},x.prototype.on=function(k,P,H){if(H===void 0)return m.prototype.on.call(this,k,P);var X=this._createDelegatedListener(k,P,H);for(var ae in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[k]=this._delegatedListeners[k]||[],this._delegatedListeners[k].push(X),X.delegates)this.on(ae,X.delegates[ae]);return this},x.prototype.once=function(k,P,H){if(H===void 0)return m.prototype.once.call(this,k,P);var X=this._createDelegatedListener(k,P,H);for(var ae in X.delegates)this.once(ae,X.delegates[ae]);return this},x.prototype.off=function(k,P,H){var X=this;return H===void 0?m.prototype.off.call(this,k,P):(this._delegatedListeners&&this._delegatedListeners[k]&&function(ae){for(var xe=ae[k],Oe=0;Oe<xe.length;Oe++){var He=xe[Oe];if(He.layer===P&&He.listener===H){for(var We in He.delegates)X.off(We,He.delegates[We]);return xe.splice(Oe,1),X}}}(this._delegatedListeners),this)},x.prototype.queryRenderedFeatures=function(k,P){if(!this.style)return[];var H;if(P!==void 0||k===void 0||k instanceof _.Point||Array.isArray(k)||(P=k,k=void 0),P=P||{},(k=k||[[0,0],[this.transform.width,this.transform.height]])instanceof _.Point||typeof k[0]=="number")H=[_.Point.convert(k)];else{var X=_.Point.convert(k[0]),ae=_.Point.convert(k[1]);H=[X,new _.Point(ae.x,X.y),ae,new _.Point(X.x,ae.y),X]}return this.style.queryRenderedFeatures(H,P,this.transform)},x.prototype.querySourceFeatures=function(k,P){return this.style.querySourceFeatures(k,P)},x.prototype.setStyle=function(k,P){return(P=_.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},P)).diff!==!1&&P.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&k?(this._diffStyle(k,P),this):(this._localIdeographFontFamily=P.localIdeographFontFamily,this._updateStyle(k,P))},x.prototype._getUIString=function(k){var P=this._locale[k];if(P==null)throw new Error("Missing UI string '"+k+"'");return P},x.prototype._updateStyle=function(k,P){return this.style&&(this.style.setEventedParent(null),this.style._remove()),k?(this.style=new zs(this,P||{}),this.style.setEventedParent(this,{style:this.style}),typeof k=="string"?this.style.loadURL(k):this.style.loadJSON(k),this):(delete this.style,this)},x.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new zs(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},x.prototype._diffStyle=function(k,P){var H=this;if(typeof k=="string"){var X=this._requestManager.normalizeStyleURL(k),ae=this._requestManager.transformRequest(X,_.ResourceType.Style);_.getJSON(ae,function(xe,Oe){xe?H.fire(new _.ErrorEvent(xe)):Oe&&H._updateDiff(Oe,P)})}else typeof k=="object"&&this._updateDiff(k,P)},x.prototype._updateDiff=function(k,P){try{this.style.setState(k)&&this._update(!0)}catch(H){_.warnOnce("Unable to perform style diff: "+(H.message||H.error||H)+".  Rebuilding the style from scratch."),this._updateStyle(k,P)}},x.prototype.getStyle=function(){if(this.style)return this.style.serialize()},x.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():_.warnOnce("There is no style added to the map.")},x.prototype.addSource=function(k,P){return this._lazyInitEmptyStyle(),this.style.addSource(k,P),this._update(!0)},x.prototype.isSourceLoaded=function(k){var P=this.style&&this.style.sourceCaches[k];if(P!==void 0)return P.loaded();this.fire(new _.ErrorEvent(new Error("There is no source with ID '"+k+"'")))},x.prototype.areTilesLoaded=function(){var k=this.style&&this.style.sourceCaches;for(var P in k){var H=k[P]._tiles;for(var X in H){var ae=H[X];if(ae.state!=="loaded"&&ae.state!=="errored")return!1}}return!0},x.prototype.addSourceType=function(k,P,H){return this._lazyInitEmptyStyle(),this.style.addSourceType(k,P,H)},x.prototype.removeSource=function(k){return this.style.removeSource(k),this._update(!0)},x.prototype.getSource=function(k){return this.style.getSource(k)},x.prototype.addImage=function(k,P,H){H===void 0&&(H={});var X=H.pixelRatio;X===void 0&&(X=1);var ae=H.sdf;ae===void 0&&(ae=!1);var xe=H.stretchX,Oe=H.stretchY,He=H.content;if(this._lazyInitEmptyStyle(),P instanceof Hh||Li&&P instanceof Li){var We=_.browser.getImageData(P);this.style.addImage(k,{data:new _.RGBAImage({width:We.width,height:We.height},We.data),pixelRatio:X,stretchX:xe,stretchY:Oe,content:He,sdf:ae,version:0})}else{if(P.width===void 0||P.height===void 0)return this.fire(new _.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Ze=P;this.style.addImage(k,{data:new _.RGBAImage({width:P.width,height:P.height},new Uint8Array(P.data)),pixelRatio:X,stretchX:xe,stretchY:Oe,content:He,sdf:ae,version:0,userImage:Ze}),Ze.onAdd&&Ze.onAdd(this,k)}},x.prototype.updateImage=function(k,P){var H=this.style.getImage(k);if(!H)return this.fire(new _.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var X=P instanceof Hh||Li&&P instanceof Li?_.browser.getImageData(P):P,ae=X.width,xe=X.height,Oe=X.data;return ae===void 0||xe===void 0?this.fire(new _.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):ae!==H.data.width||xe!==H.data.height?this.fire(new _.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(H.data.replace(Oe,!(P instanceof Hh||Li&&P instanceof Li)),void this.style.updateImage(k,H))},x.prototype.hasImage=function(k){return k?!!this.style.getImage(k):(this.fire(new _.ErrorEvent(new Error("Missing required image id"))),!1)},x.prototype.removeImage=function(k){this.style.removeImage(k)},x.prototype.loadImage=function(k,P){_.getImage(this._requestManager.transformRequest(k,_.ResourceType.Image),P)},x.prototype.listImages=function(){return this.style.listImages()},x.prototype.addLayer=function(k,P){return this._lazyInitEmptyStyle(),this.style.addLayer(k,P),this._update(!0)},x.prototype.moveLayer=function(k,P){return this.style.moveLayer(k,P),this._update(!0)},x.prototype.removeLayer=function(k){return this.style.removeLayer(k),this._update(!0)},x.prototype.getLayer=function(k){return this.style.getLayer(k)},x.prototype.setLayerZoomRange=function(k,P,H){return this.style.setLayerZoomRange(k,P,H),this._update(!0)},x.prototype.setFilter=function(k,P,H){return H===void 0&&(H={}),this.style.setFilter(k,P,H),this._update(!0)},x.prototype.getFilter=function(k){return this.style.getFilter(k)},x.prototype.setPaintProperty=function(k,P,H,X){return X===void 0&&(X={}),this.style.setPaintProperty(k,P,H,X),this._update(!0)},x.prototype.getPaintProperty=function(k,P){return this.style.getPaintProperty(k,P)},x.prototype.setLayoutProperty=function(k,P,H,X){return X===void 0&&(X={}),this.style.setLayoutProperty(k,P,H,X),this._update(!0)},x.prototype.getLayoutProperty=function(k,P){return this.style.getLayoutProperty(k,P)},x.prototype.setLight=function(k,P){return P===void 0&&(P={}),this._lazyInitEmptyStyle(),this.style.setLight(k,P),this._update(!0)},x.prototype.getLight=function(){return this.style.getLight()},x.prototype.setFeatureState=function(k,P){return this.style.setFeatureState(k,P),this._update()},x.prototype.removeFeatureState=function(k,P){return this.style.removeFeatureState(k,P),this._update()},x.prototype.getFeatureState=function(k){return this.style.getFeatureState(k)},x.prototype.getContainer=function(){return this._container},x.prototype.getCanvasContainer=function(){return this._canvasContainer},x.prototype.getCanvas=function(){return this._canvas},x.prototype._containerDimensions=function(){var k=0,P=0;return this._container&&(k=this._container.clientWidth||400,P=this._container.clientHeight||300),[k,P]},x.prototype._detectMissingCSS=function(){_.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&_.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},x.prototype._setupContainer=function(){var k=this._container;k.classList.add("mapboxgl-map"),(this._missingCSSCanary=fe.create("div","mapboxgl-canary",k)).style.visibility="hidden",this._detectMissingCSS();var P=this._canvasContainer=fe.create("div","mapboxgl-canvas-container",k);this._interactive&&P.classList.add("mapboxgl-interactive"),this._canvas=fe.create("canvas","mapboxgl-canvas",P),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var H=this._containerDimensions();this._resizeCanvas(H[0],H[1]);var X=this._controlContainer=fe.create("div","mapboxgl-control-container",k),ae=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(xe){ae[xe]=fe.create("div","mapboxgl-ctrl-"+xe,X)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},x.prototype._resizeCanvas=function(k,P){var H=_.browser.devicePixelRatio||1;this._canvas.width=H*k,this._canvas.height=H*P,this._canvas.style.width=k+"px",this._canvas.style.height=P+"px"},x.prototype._setupPainter=function(){var k=_.extend({},ge.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),P=this._canvas.getContext("webgl",k)||this._canvas.getContext("experimental-webgl",k);P?(this.painter=new ri(P,this.transform),_.webpSupported.testSupport(P)):this.fire(new _.ErrorEvent(new Error("Failed to initialize WebGL")))},x.prototype._contextLost=function(k){k.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new _.Event("webglcontextlost",{originalEvent:k}))},x.prototype._contextRestored=function(k){this._setupPainter(),this.resize(),this._update(),this.fire(new _.Event("webglcontextrestored",{originalEvent:k}))},x.prototype._onMapScroll=function(k){if(k.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},x.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},x.prototype._update=function(k){return this.style?(this._styleDirty=this._styleDirty||k,this._sourcesDirty=!0,this.triggerRepaint(),this):this},x.prototype._requestRenderFrame=function(k){return this._update(),this._renderTaskQueue.add(k)},x.prototype._cancelRenderFrame=function(k){this._renderTaskQueue.remove(k)},x.prototype._render=function(k){var P,H=this,X=0,ae=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(P=ae.createQueryEXT(),ae.beginQueryEXT(ae.TIME_ELAPSED_EXT,P),X=_.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(k),!this._removed){var xe=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Oe=this.transform.zoom,He=_.browser.now();this.style.zoomHistory.update(Oe,He);var We=new _.EvaluationParameters(Oe,{now:He,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Ze=We.crossFadingFactor();Ze===1&&Ze===this._crossFadingFactor||(xe=!0,this._crossFadingFactor=Ze),this.style.update(We)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new _.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new _.Event("load"))),this.style&&(this.style.hasTransitions()||xe)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var ht=_.browser.now()-X;ae.endQueryEXT(ae.TIME_ELAPSED_EXT,P),setTimeout(function(){var nt=ae.getQueryObjectEXT(P,ae.QUERY_RESULT_EXT)/1e6;ae.deleteQueryEXT(P),H.fire(new _.Event("gpu-timing-frame",{cpuTime:ht,gpuTime:nt}))},50)}if(this.listens("gpu-timing-layer")){var lt=this.painter.collectGpuTimers();setTimeout(function(){var nt=H.painter.queryGpuTimers(lt);H.fire(new _.Event("gpu-timing-layer",{layerTimes:nt}))},50)}var vt=this._sourcesDirty||this._styleDirty||this._placementDirty;return vt||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new _.Event("idle")),!this._loaded||this._fullyLoaded||vt||(this._fullyLoaded=!0),this}},x.prototype.remove=function(){this._hash&&this._hash.remove();for(var k=0,P=this._controls;k<P.length;k+=1)P[k].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),_.window!==void 0&&(_.window.removeEventListener("resize",this._onWindowResize,!1),_.window.removeEventListener("orientationchange",this._onWindowResize,!1),_.window.removeEventListener("online",this._onWindowOnline,!1));var H=this.painter.context.gl.getExtension("WEBGL_lose_context");H&&H.loseContext(),uc(this._canvasContainer),uc(this._controlContainer),uc(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new _.Event("remove"))},x.prototype.triggerRepaint=function(){var k=this;this.style&&!this._frame&&(this._frame=_.browser.frame(function(P){k._frame=null,k._render(P)}))},x.prototype._onWindowOnline=function(){this._update()},x.prototype._onWindowResize=function(k){this._trackResize&&this.resize({originalEvent:k})._update()},y.showTileBoundaries.get=function(){return!!this._showTileBoundaries},y.showTileBoundaries.set=function(k){this._showTileBoundaries!==k&&(this._showTileBoundaries=k,this._update())},y.showPadding.get=function(){return!!this._showPadding},y.showPadding.set=function(k){this._showPadding!==k&&(this._showPadding=k,this._update())},y.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},y.showCollisionBoxes.set=function(k){this._showCollisionBoxes!==k&&(this._showCollisionBoxes=k,k?this.style._generateCollisionBoxes():this._update())},y.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},y.showOverdrawInspector.set=function(k){this._showOverdrawInspector!==k&&(this._showOverdrawInspector=k,this._update())},y.repaint.get=function(){return!!this._repaint},y.repaint.set=function(k){this._repaint!==k&&(this._repaint=k,this.triggerRepaint())},y.vertices.get=function(){return!!this._vertices},y.vertices.set=function(k){this._vertices=k,this._update()},x.prototype._setCacheLimits=function(k,P){_.setCacheLimits(k,P)},y.version.get=function(){return _.version},Object.defineProperties(x.prototype,y),x}(Dd);function uc(m){m.parentNode&&m.parentNode.removeChild(m)}var Wh={showCompass:!0,showZoom:!0,visualizePitch:!1},Gl=function(m){var x=this;this.options=_.extend({},Wh,m),this._container=fe.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(y){return y.preventDefault()}),this.options.showZoom&&(_.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(y){return x._map.zoomIn({},{originalEvent:y})}),fe.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(y){return x._map.zoomOut({},{originalEvent:y})}),fe.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(_.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(y){x.options.visualizePitch?x._map.resetNorthPitch({},{originalEvent:y}):x._map.resetNorth({},{originalEvent:y})}),this._compassIcon=fe.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Gl.prototype._updateZoomButtons=function(){var m=this._map.getZoom(),x=m===this._map.getMaxZoom(),y=m===this._map.getMinZoom();this._zoomInButton.disabled=x,this._zoomOutButton.disabled=y,this._zoomInButton.setAttribute("aria-disabled",x.toString()),this._zoomOutButton.setAttribute("aria-disabled",y.toString())},Gl.prototype._rotateCompassArrow=function(){var m=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=m},Gl.prototype.onAdd=function(m){return this._map=m,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Zs(this._map,this._compass,this.options.visualizePitch)),this._container},Gl.prototype.onRemove=function(){fe.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Gl.prototype._createButton=function(m,x){var y=fe.create("button",m,this._container);return y.type="button",y.addEventListener("click",x),y},Gl.prototype._setButtonTitle=function(m,x){var y=this._map._getUIString("NavigationControl."+x);m.title=y,m.setAttribute("aria-label",y)};var Zs=function(m,x,y){y===void 0&&(y=!1),this._clickTolerance=10,this.element=x,this.mouseRotate=new sc({clickTolerance:m.dragRotate._mouseRotate._clickTolerance}),this.map=m,y&&(this.mousePitch=new lc({clickTolerance:m.dragRotate._mousePitch._clickTolerance})),_.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),fe.addEventListener(x,"mousedown",this.mousedown),fe.addEventListener(x,"touchstart",this.touchstart,{passive:!1}),fe.addEventListener(x,"touchmove",this.touchmove),fe.addEventListener(x,"touchend",this.touchend),fe.addEventListener(x,"touchcancel",this.reset)};function Sc(m,x,y){if(m=new _.LngLat(m.lng,m.lat),x){var k=new _.LngLat(m.lng-360,m.lat),P=new _.LngLat(m.lng+360,m.lat),H=y.locationPoint(m).distSqr(x);y.locationPoint(k).distSqr(x)<H?m=k:y.locationPoint(P).distSqr(x)<H&&(m=P)}for(;Math.abs(m.lng-y.center.lng)>180;){var X=y.locationPoint(m);if(X.x>=0&&X.y>=0&&X.x<=y.width&&X.y<=y.height)break;m.lng>y.center.lng?m.lng-=360:m.lng+=360}return m}Zs.prototype.down=function(m,x){this.mouseRotate.mousedown(m,x),this.mousePitch&&this.mousePitch.mousedown(m,x),fe.disableDrag()},Zs.prototype.move=function(m,x){var y=this.map,k=this.mouseRotate.mousemoveWindow(m,x);if(k&&k.bearingDelta&&y.setBearing(y.getBearing()+k.bearingDelta),this.mousePitch){var P=this.mousePitch.mousemoveWindow(m,x);P&&P.pitchDelta&&y.setPitch(y.getPitch()+P.pitchDelta)}},Zs.prototype.off=function(){var m=this.element;fe.removeEventListener(m,"mousedown",this.mousedown),fe.removeEventListener(m,"touchstart",this.touchstart,{passive:!1}),fe.removeEventListener(m,"touchmove",this.touchmove),fe.removeEventListener(m,"touchend",this.touchend),fe.removeEventListener(m,"touchcancel",this.reset),this.offTemp()},Zs.prototype.offTemp=function(){fe.enableDrag(),fe.removeEventListener(_.window,"mousemove",this.mousemove),fe.removeEventListener(_.window,"mouseup",this.mouseup)},Zs.prototype.mousedown=function(m){this.down(_.extend({},m,{ctrlKey:!0,preventDefault:function(){return m.preventDefault()}}),fe.mousePos(this.element,m)),fe.addEventListener(_.window,"mousemove",this.mousemove),fe.addEventListener(_.window,"mouseup",this.mouseup)},Zs.prototype.mousemove=function(m){this.move(m,fe.mousePos(this.element,m))},Zs.prototype.mouseup=function(m){this.mouseRotate.mouseupWindow(m),this.mousePitch&&this.mousePitch.mouseupWindow(m),this.offTemp()},Zs.prototype.touchstart=function(m){m.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=fe.touchPos(this.element,m.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return m.preventDefault()}},this._startPos))},Zs.prototype.touchmove=function(m){m.targetTouches.length!==1?this.reset():(this._lastPos=fe.touchPos(this.element,m.targetTouches)[0],this.move({preventDefault:function(){return m.preventDefault()}},this._lastPos))},Zs.prototype.touchend=function(m){m.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Zs.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Xi={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Vh(m,x,y){var k=m.classList;for(var P in Xi)k.remove("mapboxgl-"+y+"-anchor-"+P);k.add("mapboxgl-"+y+"-anchor-"+x)}var jc,Kl=function(m){function x(y,k){if(m.call(this),(y instanceof _.window.HTMLElement||k)&&(y=_.extend({element:y},k)),_.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=y&&y.anchor||"center",this._color=y&&y.color||"#3FB1CE",this._scale=y&&y.scale||1,this._draggable=y&&y.draggable||!1,this._clickTolerance=y&&y.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=y&&y.rotation||0,this._rotationAlignment=y&&y.rotationAlignment||"auto",this._pitchAlignment=y&&y.pitchAlignment&&y.pitchAlignment!=="auto"?y.pitchAlignment:this._rotationAlignment,y&&y.element)this._element=y.element,this._offset=_.Point.convert(y&&y.offset||[0,0]);else{this._defaultMarker=!0,this._element=fe.create("div"),this._element.setAttribute("aria-label","Map marker");var P=fe.createNS("http://www.w3.org/2000/svg","svg");P.setAttributeNS(null,"display","block"),P.setAttributeNS(null,"height","41px"),P.setAttributeNS(null,"width","27px"),P.setAttributeNS(null,"viewBox","0 0 27 41");var H=fe.createNS("http://www.w3.org/2000/svg","g");H.setAttributeNS(null,"stroke","none"),H.setAttributeNS(null,"stroke-width","1"),H.setAttributeNS(null,"fill","none"),H.setAttributeNS(null,"fill-rule","evenodd");var X=fe.createNS("http://www.w3.org/2000/svg","g");X.setAttributeNS(null,"fill-rule","nonzero");var ae=fe.createNS("http://www.w3.org/2000/svg","g");ae.setAttributeNS(null,"transform","translate(3.0, 29.0)"),ae.setAttributeNS(null,"fill","#000000");for(var xe=0,Oe=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];xe<Oe.length;xe+=1){var He=Oe[xe],We=fe.createNS("http://www.w3.org/2000/svg","ellipse");We.setAttributeNS(null,"opacity","0.04"),We.setAttributeNS(null,"cx","10.5"),We.setAttributeNS(null,"cy","5.80029008"),We.setAttributeNS(null,"rx",He.rx),We.setAttributeNS(null,"ry",He.ry),ae.appendChild(We)}var Ze=fe.createNS("http://www.w3.org/2000/svg","g");Ze.setAttributeNS(null,"fill",this._color);var ht=fe.createNS("http://www.w3.org/2000/svg","path");ht.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Ze.appendChild(ht);var lt=fe.createNS("http://www.w3.org/2000/svg","g");lt.setAttributeNS(null,"opacity","0.25"),lt.setAttributeNS(null,"fill","#000000");var vt=fe.createNS("http://www.w3.org/2000/svg","path");vt.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),lt.appendChild(vt);var nt=fe.createNS("http://www.w3.org/2000/svg","g");nt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),nt.setAttributeNS(null,"fill","#FFFFFF");var bt=fe.createNS("http://www.w3.org/2000/svg","g");bt.setAttributeNS(null,"transform","translate(8.0, 8.0)");var St=fe.createNS("http://www.w3.org/2000/svg","circle");St.setAttributeNS(null,"fill","#000000"),St.setAttributeNS(null,"opacity","0.25"),St.setAttributeNS(null,"cx","5.5"),St.setAttributeNS(null,"cy","5.5"),St.setAttributeNS(null,"r","5.4999962");var Ft=fe.createNS("http://www.w3.org/2000/svg","circle");Ft.setAttributeNS(null,"fill","#FFFFFF"),Ft.setAttributeNS(null,"cx","5.5"),Ft.setAttributeNS(null,"cy","5.5"),Ft.setAttributeNS(null,"r","5.4999962"),bt.appendChild(St),bt.appendChild(Ft),X.appendChild(ae),X.appendChild(Ze),X.appendChild(lt),X.appendChild(nt),X.appendChild(bt),P.appendChild(X),P.setAttributeNS(null,"height",41*this._scale+"px"),P.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(P),this._offset=_.Point.convert(y&&y.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(rr){rr.preventDefault()}),this._element.addEventListener("mousedown",function(rr){rr.preventDefault()}),Vh(this._element,this._anchor,"marker"),this._popup=null}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.addTo=function(y){return this.remove(),this._map=y,y.getCanvasContainer().appendChild(this._element),y.on("move",this._update),y.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},x.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),fe.remove(this._element),this._popup&&this._popup.remove(),this},x.prototype.getLngLat=function(){return this._lngLat},x.prototype.setLngLat=function(y){return this._lngLat=_.LngLat.convert(y),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},x.prototype.getElement=function(){return this._element},x.prototype.setPopup=function(y){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),y){if(!("offset"in y.options)){var k=Math.sqrt(Math.pow(13.5,2)/2);y.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[k,-1*(24.6+k)],"bottom-right":[-k,-1*(24.6+k)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=y,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},x.prototype._onKeyPress=function(y){var k=y.code,P=y.charCode||y.keyCode;k!=="Space"&&k!=="Enter"&&P!==32&&P!==13||this.togglePopup()},x.prototype._onMapClick=function(y){var k=y.originalEvent.target,P=this._element;this._popup&&(k===P||P.contains(k))&&this.togglePopup()},x.prototype.getPopup=function(){return this._popup},x.prototype.togglePopup=function(){var y=this._popup;return y?(y.isOpen()?y.remove():y.addTo(this._map),this):this},x.prototype._update=function(y){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Sc(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var k="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?k="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(k="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var P="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?P="rotateX(0deg)":this._pitchAlignment==="map"&&(P="rotateX("+this._map.getPitch()+"deg)"),y&&y.type!=="moveend"||(this._pos=this._pos.round()),fe.setTransform(this._element,Xi[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+P+" "+k)}},x.prototype.getOffset=function(){return this._offset},x.prototype.setOffset=function(y){return this._offset=_.Point.convert(y),this._update(),this},x.prototype._onMove=function(y){if(!this._isDragging){var k=this._clickTolerance||this._map._clickTolerance;this._isDragging=y.point.dist(this._pointerdownPos)>=k}this._isDragging&&(this._pos=y.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new _.Event("dragstart"))),this.fire(new _.Event("drag")))},x.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new _.Event("dragend")),this._state="inactive"},x.prototype._addDragHandler=function(y){this._element.contains(y.originalEvent.target)&&(y.preventDefault(),this._positionDelta=y.point.sub(this._pos).add(this._offset),this._pointerdownPos=y.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},x.prototype.setDraggable=function(y){return this._draggable=!!y,this._map&&(y?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},x.prototype.isDraggable=function(){return this._draggable},x.prototype.setRotation=function(y){return this._rotation=y||0,this._update(),this},x.prototype.getRotation=function(){return this._rotation},x.prototype.setRotationAlignment=function(y){return this._rotationAlignment=y||"auto",this._update(),this},x.prototype.getRotationAlignment=function(){return this._rotationAlignment},x.prototype.setPitchAlignment=function(y){return this._pitchAlignment=y&&y!=="auto"?y:this._rotationAlignment,this._update(),this},x.prototype.getPitchAlignment=function(){return this._pitchAlignment},x}(_.Evented),Xs={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Fi=0,pa=!1,qa=function(m){function x(y){m.call(this),this.options=_.extend({},Xs,y),_.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.onAdd=function(y){var k;return this._map=y,this._container=fe.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),k=this._setupUI,jc!==void 0?k(jc):_.window.navigator.permissions!==void 0?_.window.navigator.permissions.query({name:"geolocation"}).then(function(P){k(jc=P.state!=="denied")}):k(jc=!!_.window.navigator.geolocation),this._container},x.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(_.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),fe.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Fi=0,pa=!1},x.prototype._isOutOfMapMaxBounds=function(y){var k=this._map.getMaxBounds(),P=y.coords;return k&&(P.longitude<k.getWest()||P.longitude>k.getEast()||P.latitude<k.getSouth()||P.latitude>k.getNorth())},x.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},x.prototype._onSuccess=function(y){if(this._map){if(this._isOutOfMapMaxBounds(y))return this._setErrorState(),this.fire(new _.Event("outofmaxbounds",y)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=y,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(y),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(y),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new _.Event("geolocate",y)),this._finish()}},x.prototype._updateCamera=function(y){var k=new _.LngLat(y.coords.longitude,y.coords.latitude),P=y.coords.accuracy,H=this._map.getBearing(),X=_.extend({bearing:H},this.options.fitBoundsOptions);this._map.fitBounds(k.toBounds(P),X,{geolocateSource:!0})},x.prototype._updateMarker=function(y){if(y){var k=new _.LngLat(y.coords.longitude,y.coords.latitude);this._accuracyCircleMarker.setLngLat(k).addTo(this._map),this._userLocationDotMarker.setLngLat(k).addTo(this._map),this._accuracy=y.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},x.prototype._updateCircleRadius=function(){var y=this._map._container.clientHeight/2,k=this._map.unproject([0,y]),P=this._map.unproject([1,y]),H=k.distanceTo(P),X=Math.ceil(2*this._accuracy/H);this._circleElement.style.width=X+"px",this._circleElement.style.height=X+"px"},x.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},x.prototype._onError=function(y){if(this._map){if(this.options.trackUserLocation)if(y.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var k=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=k,this._geolocateButton.setAttribute("aria-label",k),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(y.code===3&&pa)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new _.Event("error",y)),this._finish()}},x.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},x.prototype._setupUI=function(y){var k=this;if(this._container.addEventListener("contextmenu",function(X){return X.preventDefault()}),this._geolocateButton=fe.create("button","mapboxgl-ctrl-geolocate",this._container),fe.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",y===!1){_.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var P=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=P,this._geolocateButton.setAttribute("aria-label",P)}else{var H=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=H,this._geolocateButton.setAttribute("aria-label",H)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=fe.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Kl(this._dotElement),this._circleElement=fe.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Kl({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(X){X.geolocateSource||k._watchState!=="ACTIVE_LOCK"||X.originalEvent&&X.originalEvent.type==="resize"||(k._watchState="BACKGROUND",k._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),k._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),k.fire(new _.Event("trackuserlocationend")))})},x.prototype.trigger=function(){if(!this._setup)return _.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new _.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Fi--,pa=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new _.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new _.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var y;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Fi>1?(y={maximumAge:6e5,timeout:0},pa=!0):(y=this.options.positionOptions,pa=!1),this._geolocationWatchID=_.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,y)}}else _.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},x.prototype._clearWatch=function(){_.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},x}(_.Evented),oi={maxWidth:100,unit:"metric"},Mo=function(m){this.options=_.extend({},oi,m),_.bindAll(["_onMove","setUnit"],this)};function mu(m,x,y){var k=y&&y.maxWidth||100,P=m._container.clientHeight/2,H=m.unproject([0,P]),X=m.unproject([k,P]),ae=H.distanceTo(X);if(y&&y.unit==="imperial"){var xe=3.2808*ae;xe>5280?Js(x,k,xe/5280,m._getUIString("ScaleControl.Miles")):Js(x,k,xe,m._getUIString("ScaleControl.Feet"))}else y&&y.unit==="nautical"?Js(x,k,ae/1852,m._getUIString("ScaleControl.NauticalMiles")):ae>=1e3?Js(x,k,ae/1e3,m._getUIString("ScaleControl.Kilometers")):Js(x,k,ae,m._getUIString("ScaleControl.Meters"))}function Js(m,x,y,k){var P,H,X,ae=(P=y,(H=Math.pow(10,(""+Math.floor(P)).length-1))*(X=(X=P/H)>=10?10:X>=5?5:X>=3?3:X>=2?2:X>=1?1:function(xe){var Oe=Math.pow(10,Math.ceil(-Math.log(xe)/Math.LN10));return Math.round(xe*Oe)/Oe}(X)));m.style.width=x*(ae/y)+"px",m.innerHTML=ae+"&nbsp;"+k}Mo.prototype.getDefaultPosition=function(){return"bottom-left"},Mo.prototype._onMove=function(){mu(this._map,this._container,this.options)},Mo.prototype.onAdd=function(m){return this._map=m,this._container=fe.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",m.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Mo.prototype.onRemove=function(){fe.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Mo.prototype.setUnit=function(m){this.options.unit=m,mu(this._map,this._container,this.options)};var gu=function(m){this._fullscreen=!1,m&&m.container&&(m.container instanceof _.window.HTMLElement?this._container=m.container:_.warnOnce("Full screen control 'container' must be a DOM element.")),_.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in _.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in _.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in _.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in _.window.document&&(this._fullscreenchange="MSFullscreenChange")};gu.prototype.onAdd=function(m){return this._map=m,this._container||(this._container=this._map.getContainer()),this._controlContainer=fe.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",_.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},gu.prototype.onRemove=function(){fe.remove(this._controlContainer),this._map=null,_.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},gu.prototype._checkFullscreenSupport=function(){return!!(_.window.document.fullscreenEnabled||_.window.document.mozFullScreenEnabled||_.window.document.msFullscreenEnabled||_.window.document.webkitFullscreenEnabled)},gu.prototype._setupUI=function(){var m=this._fullscreenButton=fe.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);fe.create("span","mapboxgl-ctrl-icon",m).setAttribute("aria-hidden",!0),m.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),_.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},gu.prototype._updateTitle=function(){var m=this._getTitle();this._fullscreenButton.setAttribute("aria-label",m),this._fullscreenButton.title=m},gu.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},gu.prototype._isFullscreen=function(){return this._fullscreen},gu.prototype._changeIcon=function(){(_.window.document.fullscreenElement||_.window.document.mozFullScreenElement||_.window.document.webkitFullscreenElement||_.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},gu.prototype._onClickFullscreen=function(){this._isFullscreen()?_.window.document.exitFullscreen?_.window.document.exitFullscreen():_.window.document.mozCancelFullScreen?_.window.document.mozCancelFullScreen():_.window.document.msExitFullscreen?_.window.document.msExitFullscreen():_.window.document.webkitCancelFullScreen&&_.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Mf={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Tc=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),$h=function(m){function x(y){m.call(this),this.options=_.extend(Object.create(Mf),y),_.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return m&&(x.__proto__=m),(x.prototype=Object.create(m&&m.prototype)).constructor=x,x.prototype.addTo=function(y){return this._map&&this.remove(),this._map=y,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new _.Event("open")),this},x.prototype.isOpen=function(){return!!this._map},x.prototype.remove=function(){return this._content&&fe.remove(this._content),this._container&&(fe.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new _.Event("close")),this},x.prototype.getLngLat=function(){return this._lngLat},x.prototype.setLngLat=function(y){return this._lngLat=_.LngLat.convert(y),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},x.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},x.prototype.getElement=function(){return this._container},x.prototype.setText=function(y){return this.setDOMContent(_.window.document.createTextNode(y))},x.prototype.setHTML=function(y){var k,P=_.window.document.createDocumentFragment(),H=_.window.document.createElement("body");for(H.innerHTML=y;k=H.firstChild;)P.appendChild(k);return this.setDOMContent(P)},x.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},x.prototype.setMaxWidth=function(y){return this.options.maxWidth=y,this._update(),this},x.prototype.setDOMContent=function(y){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=fe.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(y),this._createCloseButton(),this._update(),this._focusFirstElement(),this},x.prototype.addClassName=function(y){this._container&&this._container.classList.add(y)},x.prototype.removeClassName=function(y){this._container&&this._container.classList.remove(y)},x.prototype.setOffset=function(y){return this.options.offset=y,this._update(),this},x.prototype.toggleClassName=function(y){if(this._container)return this._container.classList.toggle(y)},x.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=fe.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},x.prototype._onMouseUp=function(y){this._update(y.point)},x.prototype._onMouseMove=function(y){this._update(y.point)},x.prototype._onDrag=function(y){this._update(y.point)},x.prototype._update=function(y){var k=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=fe.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=fe.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(We){return k._container.classList.add(We)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Sc(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||y)){var P=this._pos=this._trackPointer&&y?y:this._map.project(this._lngLat),H=this.options.anchor,X=function We(Ze){if(Ze){if(typeof Ze=="number"){var ht=Math.round(Math.sqrt(.5*Math.pow(Ze,2)));return{center:new _.Point(0,0),top:new _.Point(0,Ze),"top-left":new _.Point(ht,ht),"top-right":new _.Point(-ht,ht),bottom:new _.Point(0,-Ze),"bottom-left":new _.Point(ht,-ht),"bottom-right":new _.Point(-ht,-ht),left:new _.Point(Ze,0),right:new _.Point(-Ze,0)}}if(Ze instanceof _.Point||Array.isArray(Ze)){var lt=_.Point.convert(Ze);return{center:lt,top:lt,"top-left":lt,"top-right":lt,bottom:lt,"bottom-left":lt,"bottom-right":lt,left:lt,right:lt}}return{center:_.Point.convert(Ze.center||[0,0]),top:_.Point.convert(Ze.top||[0,0]),"top-left":_.Point.convert(Ze["top-left"]||[0,0]),"top-right":_.Point.convert(Ze["top-right"]||[0,0]),bottom:_.Point.convert(Ze.bottom||[0,0]),"bottom-left":_.Point.convert(Ze["bottom-left"]||[0,0]),"bottom-right":_.Point.convert(Ze["bottom-right"]||[0,0]),left:_.Point.convert(Ze.left||[0,0]),right:_.Point.convert(Ze.right||[0,0])}}return We(new _.Point(0,0))}(this.options.offset);if(!H){var ae,xe=this._container.offsetWidth,Oe=this._container.offsetHeight;ae=P.y+X.bottom.y<Oe?["top"]:P.y>this._map.transform.height-Oe?["bottom"]:[],P.x<xe/2?ae.push("left"):P.x>this._map.transform.width-xe/2&&ae.push("right"),H=ae.length===0?"bottom":ae.join("-")}var He=P.add(X[H]).round();fe.setTransform(this._container,Xi[H]+" translate("+He.x+"px,"+He.y+"px)"),Vh(this._container,H,"popup")}},x.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var y=this._container.querySelector(Tc);y&&y.focus()}},x.prototype._onClose=function(){this.remove()},x}(_.Evented),Hc={version:_.version,supported:ge,setRTLTextPlugin:_.setRTLTextPlugin,getRTLTextPluginStatus:_.getRTLTextPluginStatus,Map:pu,NavigationControl:Gl,GeolocateControl:qa,AttributionControl:bs,ScaleControl:Mo,FullscreenControl:gu,Popup:$h,Marker:Kl,Style:zs,LngLat:_.LngLat,LngLatBounds:_.LngLatBounds,Point:_.Point,MercatorCoordinate:_.MercatorCoordinate,Evented:_.Evented,config:_.config,prewarm:function(){Pe().acquire(Bt)},clearPrewarmedResources:function(){var m=Ae;m&&(m.isPreloaded()&&m.numActive()===1?(m.release(Bt),Ae=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return _.config.ACCESS_TOKEN},set accessToken(m){_.config.ACCESS_TOKEN=m},get baseApiUrl(){return _.config.API_URL},set baseApiUrl(m){_.config.API_URL=m},get workerCount(){return hr.workerCount},set workerCount(m){hr.workerCount=m},get maxParallelImageRequests(){return _.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(m){_.config.MAX_PARALLEL_IMAGE_REQUESTS=m},clearStorage:function(m){_.clearTileCache(m)},workerUrl:""};return Hc}),ne})})(i);var a=n;function l(Y){if(typeof Y=="string"){var $=Y;if(Y=document.getElementById(Y),!Y)throw new Error("No element with id "+$)}return Y}function h(Y){if(!/^#([0-9a-f]{3}){1,2}$/i.test(Y)&&!/^[a-z]+$/i.test(Y))throw new Error("Invalid color")}function g(Y,$){var re=41,oe=27,ne=2,he=new Y.Marker()._element.querySelector("svg");he.removeAttribute("display"),he.setAttribute("xmlns","http://www.w3.org/2000/svg"),he.setAttribute("height",re),he.setAttribute("width",oe),he.setAttribute("viewBox","0 0 "+oe+" "+re),h($),he.querySelector("*[fill='#3FB1CE']").setAttribute("fill",$);var _=he.querySelectorAll("circle"),ge=_[_.length-1];if(_.length==1){var fe=ge.cloneNode();fe.setAttribute("fill","#000000"),fe.setAttribute("opacity",.25),ge.parentNode.insertBefore(fe,ge)}ge.setAttribute("r",4.5);var me=new Image(oe*ne,re*ne);return me.src="data:image/svg+xml;utf8,"+encodeURIComponent(he.outerHTML),me}var w={},C=function($,re,oe,ne){var he=this;!z.library&&typeof window<"u"&&(z.library=window.mapboxgl||window.maplibregl||null);var _=z.library;if(!_)throw new Error("No mapping library found");var ge,fe={},me={},we=[],Se=0;$=l($),$.id&&(w[$.id]=this);function be(ce,Te,Ne){var Wt=new XMLHttpRequest;Wt.open("GET",Te,!0),Wt.setRequestHeader("Content-Type","application/json"),Wt.onload=function(){Wt.status===200?Ne(JSON.parse(Wt.responseText)):j(ce,Wt.statusText)},Wt.send()}function $e(ce){ge.loaded()?ce():ge.on("load",ce)}function q(ce){return typeof ce=="number"?ce:new Date(ce).getTime()/1e3}function ee(ce,Te,Ne){for(var Wt=0;Wt<Te.length;Wt++){var ft=Te[Wt],qt=q(ft.time);qt&&(me[qt]||(me[qt]=[]),me[qt].push(ft),rt.extend(U(ft)))}for(var Nt in me)Object.prototype.hasOwnProperty.call(me,Nt)&&we.push(parseInt(Nt));we.sort(),Yt(ce,me[we[Se]],Ne),$e(function(){setTimeout(function(){R(ce,Ne)},100)})}function R(ce,Te){Se++,te(ce,me[we[Se]],Te),Se<we.length-1&&setTimeout(function(){R(ce,Te)},100)}function j(ce,Te){ce.textContent=Te}function G(ce,Te,Ne,Wt){try{Wt(ce,Te,Ne)}catch(ft){throw j(ce,ft.message),ft}}function V(ce,Te,Ne,Wt){typeof Te=="string"?be(ce,Te,function(ft){G(ce,ft,Ne,Wt)}):typeof Te=="function"?Te(function(ft){G(ce,ft,Ne,Wt)},function(ft){j(ce,ft)}):G(ce,Te,Ne,Wt)}function te(ce,Te,Ne){ir(function(){Ne.trail&&(Je(Te,Ne.trail),ge.getSource("trails").setData(Qe(Te))),ge.getSource("objects").setData(K(Te,Ne))})}var _e=new window.Map;function K(ce,Te){for(var Ne={type:"FeatureCollection",features:[]},Wt=0;Wt<ce.length;Wt++){var ft=ce[Wt],qt=Object.assign({},ft),Nt=void 0;if(ne==="point"){if(qt.icon||(qt.icon=Te.defaultIcon||"mapkick"),qt.mapkickIconSize=qt.icon==="mapkick"?.5:1,qt.mapkickIconAnchor=qt.icon==="mapkick"?"bottom":"center",qt.mapkickIconOffset=qt.icon==="mapkick"?[0,10]:[0,0],qt.icon==="mapkick"){var vr=qt.color||kt.color||"#f84d4d",_r=_e.get(vr);_r===void 0&&(_r=_e.size,h(vr),_e.set(vr,_r)),qt.icon="mapkick-"+_r}var Dr=U(ft);if(!Dr[1])throw new Error("missing latitude (index: "+Wt+")");if(!Dr[0])throw new Error("missing longitude (index: "+Wt+")");Nt={type:"Point",coordinates:Dr}}else{if(Nt=ft.geometry,!Nt)throw new Error("missing geometry (index: "+Wt+")");delete qt.geometry,qt.mapkickColor=qt.color||kt.color||"#0090ff"}Ne.features.push({type:"Feature",id:Wt,geometry:Nt,properties:qt})}return Ne}function U(ce){return[ce.longitude||ce.lng||ce.lon,ce.latitude||ce.lat]}function Ue(ce){return ce.id}function Je(ce,Te){for(var Ne=0;Ne<ce.length;Ne++){var Wt=ce[Ne],ft=Ue(Wt);fe[ft]||(fe[ft]=[]),fe[ft].push(U(Wt)),Te&&Te.len&&fe[ft].length>Te.len&&fe[ft].shift()}}function Qe(ce){for(var Te={type:"FeatureCollection",features:[]},Ne=0;Ne<ce.length;Ne++){var Wt=ce[Ne];Te.features.push({type:"Feature",geometry:{type:"LineString",coordinates:fe[Ue(Wt)]}})}return Te}function Ct(ce){for(var Te={type:"FeatureCollection",features:[]},Ne=0;Ne<ce.features.length;Ne++){var Wt=ce.features[Ne],ft=void 0,qt=new _.LngLatBounds;if(Rt(qt,Wt.geometry),!qt.isEmpty()){var Nt=qt.getCenter();ft=[Nt.lng,Nt.lat]}ft&&Te.features.push({type:"Feature",id:Ne,geometry:{type:"Point",coordinates:ft},properties:Wt.properties})}return Te}function Tt(ce){for(var Te=ce.getStyle().layers,Ne,Wt=Te.length-1;Wt>=0;Wt--){var ft=Te[Wt];if(!(ft.metadata&&ft.metadata["mapbox:featureComponent"]==="place-labels"))break;Ne=ft.id}return Ne}function Ht(ce,Te){var Ne={};if(ge.addSource(ce,{type:"geojson",data:Te}),ne==="point")ge.addLayer({id:ce+"-text",source:ce,type:"symbol",layout:{"text-field":"{label}","text-size":11,"text-anchor":"top","text-offset":[0,1]},paint:{"text-halo-color":"rgba(255, 255, 255, 1)","text-halo-width":1}}),ge.addLayer({id:ce,source:ce,type:"symbol",layout:{"icon-image":"{icon}-15","icon-allow-overlap":!0,"icon-size":{type:"identity",property:"mapkickIconSize"},"icon-anchor":{type:"identity",property:"mapkickIconAnchor"},"icon-offset":{type:"identity",property:"mapkickIconOffset"}}});else{var Wt=Tt(ge),ft=ce+"-outline";ge.addLayer({id:ft,source:ce,type:"line",paint:{"line-color":{type:"identity",property:"mapkickColor"},"line-opacity":.7,"line-width":1}},Wt),ge.addLayer({id:ce,source:ce,type:"fill",paint:{"fill-color":{type:"identity",property:"mapkickColor"},"fill-opacity":.3}},ft);for(var qt=ce+"-text",Nt=Ct(Te),vr=0;vr<Nt.features.length;vr++){var _r=Nt.features[vr];Ne[_r.id]=_r.geometry.coordinates}ge.addSource(qt,{type:"geojson",data:Nt}),ge.addLayer({id:ce+"-text",source:qt,type:"symbol",layout:{"text-field":"{label}","text-size":11},paint:{"text-halo-color":"rgba(255, 255, 255, 1)","text-halo-width":1}})}var Dr=!("hover"in At)||At.hover,kr={closeButton:!1,closeOnClick:!1};Dr||(kr.anchor="bottom");var et=new _.Popup(kr),pt=function($n,Dt){var Et=window.getComputedStyle(Dt.getElement()),Er=new DOMMatrixReadOnly(Et.transform),on=5,Vr=5,yn=Er.m42,Rn=Er.m41;(yn<on||Rn<on)&&$n.panBy([Math.min(Rn-on-Vr,0),Math.min(yn-on-Vr,0)])},er=function($n){var Dt=ki($n),Et=Dt.properties.tooltip;if(!!Et){ne==="point"&&Dt.properties.icon.startsWith("mapkick-")?et.options.offset={top:[0,14],"top-left":[0,14],"top-right":[0,14],bottom:[0,-44],"bottom-left":[0,-44],"bottom-right":[0,-44],left:[14,0],right:[-14,0]}:et.options.offset=14;var Er;ne==="point"?Er=Dt.geometry.coordinates:Er=Ne[Dt.id],et.setLngLat(Er),At.html?et.setHTML(Et):et.setText(Et),et.addTo(ge),et._container.offsetWidth%2!==0&&(et._container.style.width=et._container.offsetWidth+1+"px"),ne!=="area"&&pt(ge,et)}},Lr=function($n){return $n.geometry.coordinates[1]},ki=function($n){for(var Dt=$n.features,Et=Dt[0],Er=1;Er<Dt.length;Er++){var on=Dt[Er];Lr(on)<Lr(Et)&&(Et=on)}return Et};if(!Dr){var zr=null;ge.on("click",ce,function($n){var Dt=ki($n).id;Dt!==zr&&(er($n),zr=Dt,$n.mapkickPopupOpened=!0)}),ge.on("click",function($n){$n.mapkickPopupOpened||(et.remove(),zr=null)})}ge.on("mouseenter",ce,function($n){var Dt=ki($n).properties.tooltip;Dt&&(ge.getCanvas().style.cursor="pointer",Dr&&er($n))}),ge.on("mouseleave",ce,function(){ge.getCanvas().style.cursor="",Dr&&et.remove()})}function Rt(ce,Te){if(Te.type==="Point")ce.extend(Te.coordinates);else if(Te.type==="Polygon")for(var Ne=Te.coordinates[0],Wt=0;Wt<Ne.length;Wt++)ce.extend(Ne[Wt]);else if(Te.type==="MultiPolygon")for(var ft=Te.coordinates,qt=0;qt<ft.length;qt++)for(var Nt=ft[qt][0],vr=0;vr<Nt.length;vr++)ce.extend(Nt[vr])}var Yt=function(ce,Te,Ne){var Wt=K(Te,Ne);Ne=Ne||{};for(var ft=0;ft<Wt.features.length;ft++)Rt(rt,Wt.features[ft].geometry);ce.textContent="";var qt=Ne.style;if(!qt){var Nt=!("accessToken"in _)||/^1\.1[45]/.test(_.version);if(Nt)throw new Error("style required for MapLibre");qt="mapbox://styles/mapbox/streets-v12"}var vr=Ne.zoom,_r=Ne.center;_r||(rt.isEmpty()?(_r=[0,0],vr||(vr=1)):_r=rt.getCenter()),vr||(vr=15);var Dr={container:ce,style:qt,dragRotate:!1,touchZoomRotate:!1,center:_r,zoom:vr};Ne.style||(Dr.projection="mercator"),Ne.accessToken&&(Dr.accessToken=Ne.accessToken),Ne.library&&Object.assign(Dr,Ne.library),ge=new _.Map(Dr),Ne.controls&&ge.addControl(new _.NavigationControl({showCompass:!1})),Ne.zoom||(ge.style.stylesheet||(ge.style.stylesheet={}),!rt.isEmpty()&&ge.getZoom()===vr&&ge.fitBounds(rt,{padding:40,animate:!1,maxZoom:15})),he.map=ge,$e(function(){Ne.trail&&(Je(Te),ge.addSource("trails",{type:"geojson",data:Qe([])}),ge.addLayer({id:"trails",source:"trails",type:"line",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#888","line-width":2}}));var kr=_e.size;function et(){if(kr!==0){kr--;return}Ht("objects",Wt),cr=!0;for(var pt;pt=Tr.shift();)pt()}_e.forEach(function(pt,er){var Lr=g(_,er);Lr.addEventListener("load",function(){ge.addImage("mapkick-"+pt+"-15",Lr),et()})}),et()})},cr=!1,Tr=[];function ir(ce){cr?ce():Tr.push(ce)}oe=oe||{},oe=Object.assign({},z.options,oe);var At=oe.tooltips||{},kt=oe.markers||{},rt=new _.LngLatBounds;oe.replay?V($,re,oe,ee):(V($,re,oe,Yt),oe.refresh&&(this.intervalId=setInterval(function(){V($,re,oe,te)},oe.refresh*1e3)))};C.prototype.getMapObject=function(){return this.map},C.prototype.destroy=function(){this.stopRefresh(),this.map&&(this.map.remove(),this.map=null)},C.prototype.stopRefresh=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)};var D=function(Y){function $(re,oe,ne){Y.call(this,re,oe,ne,"point")}return Y&&($.__proto__=Y),$.prototype=Object.create(Y&&Y.prototype),$.prototype.constructor=$,$}(C),F=function(Y){function $(re,oe,ne){Y.call(this,re,oe,ne,"area")}return Y&&($.__proto__=Y),$.prototype=Object.create(Y&&Y.prototype),$.prototype.constructor=$,$}(C),z={Map:D,AreaMap:F,maps:w,options:{},library:null};return z.use=function(Y){z.library=Y},typeof window<"u"&&!window.Mapkick&&(window.Mapkick=z,setTimeout(function(){window.dispatchEvent(new Event("mapkick:load"))},0)),z.use(a),z})});var Yhe=de((r5t,c4)=>{var u4=function(r){"use strict";var e=Object.prototype,t=e.hasOwnProperty,n=Object.defineProperty||function(V,te,_e){V[te]=_e.value},i,a=typeof Symbol=="function"?Symbol:{},l=a.iterator||"@@iterator",h=a.asyncIterator||"@@asyncIterator",g=a.toStringTag||"@@toStringTag";function w(V,te,_e){return Object.defineProperty(V,te,{value:_e,enumerable:!0,configurable:!0,writable:!0}),V[te]}try{w({},"")}catch{w=function(te,_e,K){return te[_e]=K}}function C(V,te,_e,K){var U=te&&te.prototype instanceof oe?te:oe,Ue=Object.create(U.prototype),Je=new R(K||[]);return n(Ue,"_invoke",{value:be(V,_e,Je)}),Ue}r.wrap=C;function D(V,te,_e){try{return{type:"normal",arg:V.call(te,_e)}}catch(K){return{type:"throw",arg:K}}}var F="suspendedStart",z="suspendedYield",Y="executing",$="completed",re={};function oe(){}function ne(){}function he(){}var _={};w(_,l,function(){return this});var ge=Object.getPrototypeOf,fe=ge&&ge(ge(j([])));fe&&fe!==e&&t.call(fe,l)&&(_=fe);var me=he.prototype=oe.prototype=Object.create(_);ne.prototype=he,n(me,"constructor",{value:he,configurable:!0}),n(he,"constructor",{value:ne,configurable:!0}),ne.displayName=w(he,g,"GeneratorFunction");function we(V){["next","throw","return"].forEach(function(te){w(V,te,function(_e){return this._invoke(te,_e)})})}r.isGeneratorFunction=function(V){var te=typeof V=="function"&&V.constructor;return te?te===ne||(te.displayName||te.name)==="GeneratorFunction":!1},r.mark=function(V){return Object.setPrototypeOf?Object.setPrototypeOf(V,he):(V.__proto__=he,w(V,g,"GeneratorFunction")),V.prototype=Object.create(me),V},r.awrap=function(V){return{__await:V}};function Se(V,te){function _e(Ue,Je,Qe,Ct){var Tt=D(V[Ue],V,Je);if(Tt.type==="throw")Ct(Tt.arg);else{var Ht=Tt.arg,Rt=Ht.value;return Rt&&typeof Rt=="object"&&t.call(Rt,"__await")?te.resolve(Rt.__await).then(function(Yt){_e("next",Yt,Qe,Ct)},function(Yt){_e("throw",Yt,Qe,Ct)}):te.resolve(Rt).then(function(Yt){Ht.value=Yt,Qe(Ht)},function(Yt){return _e("throw",Yt,Qe,Ct)})}}var K;function U(Ue,Je){function Qe(){return new te(function(Ct,Tt){_e(Ue,Je,Ct,Tt)})}return K=K?K.then(Qe,Qe):Qe()}n(this,"_invoke",{value:U})}we(Se.prototype),w(Se.prototype,h,function(){return this}),r.AsyncIterator=Se,r.async=function(V,te,_e,K,U){U===void 0&&(U=Promise);var Ue=new Se(C(V,te,_e,K),U);return r.isGeneratorFunction(te)?Ue:Ue.next().then(function(Je){return Je.done?Je.value:Ue.next()})};function be(V,te,_e){var K=F;return function(Ue,Je){if(K===Y)throw new Error("Generator is already running");if(K===$){if(Ue==="throw")throw Je;return G()}for(_e.method=Ue,_e.arg=Je;;){var Qe=_e.delegate;if(Qe){var Ct=$e(Qe,_e);if(Ct){if(Ct===re)continue;return Ct}}if(_e.method==="next")_e.sent=_e._sent=_e.arg;else if(_e.method==="throw"){if(K===F)throw K=$,_e.arg;_e.dispatchException(_e.arg)}else _e.method==="return"&&_e.abrupt("return",_e.arg);K=Y;var Tt=D(V,te,_e);if(Tt.type==="normal"){if(K=_e.done?$:z,Tt.arg===re)continue;return{value:Tt.arg,done:_e.done}}else Tt.type==="throw"&&(K=$,_e.method="throw",_e.arg=Tt.arg)}}}function $e(V,te){var _e=te.method,K=V.iterator[_e];if(K===i)return te.delegate=null,_e==="throw"&&V.iterator.return&&(te.method="return",te.arg=i,$e(V,te),te.method==="throw")||_e!=="return"&&(te.method="throw",te.arg=new TypeError("The iterator does not provide a '"+_e+"' method")),re;var U=D(K,V.iterator,te.arg);if(U.type==="throw")return te.method="throw",te.arg=U.arg,te.delegate=null,re;var Ue=U.arg;if(!Ue)return te.method="throw",te.arg=new TypeError("iterator result is not an object"),te.delegate=null,re;if(Ue.done)te[V.resultName]=Ue.value,te.next=V.nextLoc,te.method!=="return"&&(te.method="next",te.arg=i);else return Ue;return te.delegate=null,re}we(me),w(me,g,"Generator"),w(me,l,function(){return this}),w(me,"toString",function(){return"[object Generator]"});function q(V){var te={tryLoc:V[0]};1 in V&&(te.catchLoc=V[1]),2 in V&&(te.finallyLoc=V[2],te.afterLoc=V[3]),this.tryEntries.push(te)}function ee(V){var te=V.completion||{};te.type="normal",delete te.arg,V.completion=te}function R(V){this.tryEntries=[{tryLoc:"root"}],V.forEach(q,this),this.reset(!0)}r.keys=function(V){var te=Object(V),_e=[];for(var K in te)_e.push(K);return _e.reverse(),function U(){for(;_e.length;){var Ue=_e.pop();if(Ue in te)return U.value=Ue,U.done=!1,U}return U.done=!0,U}};function j(V){if(V){var te=V[l];if(te)return te.call(V);if(typeof V.next=="function")return V;if(!isNaN(V.length)){var _e=-1,K=function U(){for(;++_e<V.length;)if(t.call(V,_e))return U.value=V[_e],U.done=!1,U;return U.value=i,U.done=!0,U};return K.next=K}}return{next:G}}r.values=j;function G(){return{value:i,done:!0}}return R.prototype={constructor:R,reset:function(V){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(ee),!V)for(var te in this)te.charAt(0)==="t"&&t.call(this,te)&&!isNaN(+te.slice(1))&&(this[te]=i)},stop:function(){this.done=!0;var V=this.tryEntries[0],te=V.completion;if(te.type==="throw")throw te.arg;return this.rval},dispatchException:function(V){if(this.done)throw V;var te=this;function _e(Ct,Tt){return Ue.type="throw",Ue.arg=V,te.next=Ct,Tt&&(te.method="next",te.arg=i),!!Tt}for(var K=this.tryEntries.length-1;K>=0;--K){var U=this.tryEntries[K],Ue=U.completion;if(U.tryLoc==="root")return _e("end");if(U.tryLoc<=this.prev){var Je=t.call(U,"catchLoc"),Qe=t.call(U,"finallyLoc");if(Je&&Qe){if(this.prev<U.catchLoc)return _e(U.catchLoc,!0);if(this.prev<U.finallyLoc)return _e(U.finallyLoc)}else if(Je){if(this.prev<U.catchLoc)return _e(U.catchLoc,!0)}else if(Qe){if(this.prev<U.finallyLoc)return _e(U.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(V,te){for(var _e=this.tryEntries.length-1;_e>=0;--_e){var K=this.tryEntries[_e];if(K.tryLoc<=this.prev&&t.call(K,"finallyLoc")&&this.prev<K.finallyLoc){var U=K;break}}U&&(V==="break"||V==="continue")&&U.tryLoc<=te&&te<=U.finallyLoc&&(U=null);var Ue=U?U.completion:{};return Ue.type=V,Ue.arg=te,U?(this.method="next",this.next=U.finallyLoc,re):this.complete(Ue)},complete:function(V,te){if(V.type==="throw")throw V.arg;return V.type==="break"||V.type==="continue"?this.next=V.arg:V.type==="return"?(this.rval=this.arg=V.arg,this.method="return",this.next="end"):V.type==="normal"&&te&&(this.next=te),re},finish:function(V){for(var te=this.tryEntries.length-1;te>=0;--te){var _e=this.tryEntries[te];if(_e.finallyLoc===V)return this.complete(_e.completion,_e.afterLoc),ee(_e),re}},catch:function(V){for(var te=this.tryEntries.length-1;te>=0;--te){var _e=this.tryEntries[te];if(_e.tryLoc===V){var K=_e.completion;if(K.type==="throw"){var U=K.arg;ee(_e)}return U}}throw new Error("illegal catch attempt")},delegateYield:function(V,te,_e){return this.delegate={iterator:j(V),resultName:te,nextLoc:_e},this.method==="next"&&(this.arg=i),re}},r}(typeof c4=="object"?c4.exports:{});try{regeneratorRuntime=u4}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=u4:Function("r","regeneratorRuntime = r")(u4)}});var Xhe=de((hI,Zhe)=>{(function(r,e){typeof hI=="object"&&typeof Zhe<"u"?e(hI):typeof define=="function"&&define.amd?define(["exports"],e):e(r.ActiveStorage={})})(hI,function(r){"use strict";function e(G,V){return V={exports:{}},G(V,V.exports),V.exports}var t=e(function(G,V){(function(te){G.exports=te()})(function(te){var _e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function K(At,kt){var rt=At[0],ce=At[1],Te=At[2],Ne=At[3];rt+=(ce&Te|~ce&Ne)+kt[0]-680876936|0,rt=(rt<<7|rt>>>25)+ce|0,Ne+=(rt&ce|~rt&Te)+kt[1]-389564586|0,Ne=(Ne<<12|Ne>>>20)+rt|0,Te+=(Ne&rt|~Ne&ce)+kt[2]+606105819|0,Te=(Te<<17|Te>>>15)+Ne|0,ce+=(Te&Ne|~Te&rt)+kt[3]-1044525330|0,ce=(ce<<22|ce>>>10)+Te|0,rt+=(ce&Te|~ce&Ne)+kt[4]-176418897|0,rt=(rt<<7|rt>>>25)+ce|0,Ne+=(rt&ce|~rt&Te)+kt[5]+1200080426|0,Ne=(Ne<<12|Ne>>>20)+rt|0,Te+=(Ne&rt|~Ne&ce)+kt[6]-1473231341|0,Te=(Te<<17|Te>>>15)+Ne|0,ce+=(Te&Ne|~Te&rt)+kt[7]-45705983|0,ce=(ce<<22|ce>>>10)+Te|0,rt+=(ce&Te|~ce&Ne)+kt[8]+1770035416|0,rt=(rt<<7|rt>>>25)+ce|0,Ne+=(rt&ce|~rt&Te)+kt[9]-1958414417|0,Ne=(Ne<<12|Ne>>>20)+rt|0,Te+=(Ne&rt|~Ne&ce)+kt[10]-42063|0,Te=(Te<<17|Te>>>15)+Ne|0,ce+=(Te&Ne|~Te&rt)+kt[11]-1990404162|0,ce=(ce<<22|ce>>>10)+Te|0,rt+=(ce&Te|~ce&Ne)+kt[12]+1804603682|0,rt=(rt<<7|rt>>>25)+ce|0,Ne+=(rt&ce|~rt&Te)+kt[13]-40341101|0,Ne=(Ne<<12|Ne>>>20)+rt|0,Te+=(Ne&rt|~Ne&ce)+kt[14]-1502002290|0,Te=(Te<<17|Te>>>15)+Ne|0,ce+=(Te&Ne|~Te&rt)+kt[15]+1236535329|0,ce=(ce<<22|ce>>>10)+Te|0,rt+=(ce&Ne|Te&~Ne)+kt[1]-165796510|0,rt=(rt<<5|rt>>>27)+ce|0,Ne+=(rt&Te|ce&~Te)+kt[6]-1069501632|0,Ne=(Ne<<9|Ne>>>23)+rt|0,Te+=(Ne&ce|rt&~ce)+kt[11]+643717713|0,Te=(Te<<14|Te>>>18)+Ne|0,ce+=(Te&rt|Ne&~rt)+kt[0]-373897302|0,ce=(ce<<20|ce>>>12)+Te|0,rt+=(ce&Ne|Te&~Ne)+kt[5]-701558691|0,rt=(rt<<5|rt>>>27)+ce|0,Ne+=(rt&Te|ce&~Te)+kt[10]+38016083|0,Ne=(Ne<<9|Ne>>>23)+rt|0,Te+=(Ne&ce|rt&~ce)+kt[15]-660478335|0,Te=(Te<<14|Te>>>18)+Ne|0,ce+=(Te&rt|Ne&~rt)+kt[4]-405537848|0,ce=(ce<<20|ce>>>12)+Te|0,rt+=(ce&Ne|Te&~Ne)+kt[9]+568446438|0,rt=(rt<<5|rt>>>27)+ce|0,Ne+=(rt&Te|ce&~Te)+kt[14]-1019803690|0,Ne=(Ne<<9|Ne>>>23)+rt|0,Te+=(Ne&ce|rt&~ce)+kt[3]-187363961|0,Te=(Te<<14|Te>>>18)+Ne|0,ce+=(Te&rt|Ne&~rt)+kt[8]+1163531501|0,ce=(ce<<20|ce>>>12)+Te|0,rt+=(ce&Ne|Te&~Ne)+kt[13]-1444681467|0,rt=(rt<<5|rt>>>27)+ce|0,Ne+=(rt&Te|ce&~Te)+kt[2]-51403784|0,Ne=(Ne<<9|Ne>>>23)+rt|0,Te+=(Ne&ce|rt&~ce)+kt[7]+1735328473|0,Te=(Te<<14|Te>>>18)+Ne|0,ce+=(Te&rt|Ne&~rt)+kt[12]-1926607734|0,ce=(ce<<20|ce>>>12)+Te|0,rt+=(ce^Te^Ne)+kt[5]-378558|0,rt=(rt<<4|rt>>>28)+ce|0,Ne+=(rt^ce^Te)+kt[8]-2022574463|0,Ne=(Ne<<11|Ne>>>21)+rt|0,Te+=(Ne^rt^ce)+kt[11]+1839030562|0,Te=(Te<<16|Te>>>16)+Ne|0,ce+=(Te^Ne^rt)+kt[14]-35309556|0,ce=(ce<<23|ce>>>9)+Te|0,rt+=(ce^Te^Ne)+kt[1]-1530992060|0,rt=(rt<<4|rt>>>28)+ce|0,Ne+=(rt^ce^Te)+kt[4]+1272893353|0,Ne=(Ne<<11|Ne>>>21)+rt|0,Te+=(Ne^rt^ce)+kt[7]-155497632|0,Te=(Te<<16|Te>>>16)+Ne|0,ce+=(Te^Ne^rt)+kt[10]-1094730640|0,ce=(ce<<23|ce>>>9)+Te|0,rt+=(ce^Te^Ne)+kt[13]+681279174|0,rt=(rt<<4|rt>>>28)+ce|0,Ne+=(rt^ce^Te)+kt[0]-358537222|0,Ne=(Ne<<11|Ne>>>21)+rt|0,Te+=(Ne^rt^ce)+kt[3]-722521979|0,Te=(Te<<16|Te>>>16)+Ne|0,ce+=(Te^Ne^rt)+kt[6]+76029189|0,ce=(ce<<23|ce>>>9)+Te|0,rt+=(ce^Te^Ne)+kt[9]-640364487|0,rt=(rt<<4|rt>>>28)+ce|0,Ne+=(rt^ce^Te)+kt[12]-421815835|0,Ne=(Ne<<11|Ne>>>21)+rt|0,Te+=(Ne^rt^ce)+kt[15]+530742520|0,Te=(Te<<16|Te>>>16)+Ne|0,ce+=(Te^Ne^rt)+kt[2]-995338651|0,ce=(ce<<23|ce>>>9)+Te|0,rt+=(Te^(ce|~Ne))+kt[0]-198630844|0,rt=(rt<<6|rt>>>26)+ce|0,Ne+=(ce^(rt|~Te))+kt[7]+1126891415|0,Ne=(Ne<<10|Ne>>>22)+rt|0,Te+=(rt^(Ne|~ce))+kt[14]-1416354905|0,Te=(Te<<15|Te>>>17)+Ne|0,ce+=(Ne^(Te|~rt))+kt[5]-57434055|0,ce=(ce<<21|ce>>>11)+Te|0,rt+=(Te^(ce|~Ne))+kt[12]+1700485571|0,rt=(rt<<6|rt>>>26)+ce|0,Ne+=(ce^(rt|~Te))+kt[3]-1894986606|0,Ne=(Ne<<10|Ne>>>22)+rt|0,Te+=(rt^(Ne|~ce))+kt[10]-1051523|0,Te=(Te<<15|Te>>>17)+Ne|0,ce+=(Ne^(Te|~rt))+kt[1]-2054922799|0,ce=(ce<<21|ce>>>11)+Te|0,rt+=(Te^(ce|~Ne))+kt[8]+1873313359|0,rt=(rt<<6|rt>>>26)+ce|0,Ne+=(ce^(rt|~Te))+kt[15]-30611744|0,Ne=(Ne<<10|Ne>>>22)+rt|0,Te+=(rt^(Ne|~ce))+kt[6]-1560198380|0,Te=(Te<<15|Te>>>17)+Ne|0,ce+=(Ne^(Te|~rt))+kt[13]+1309151649|0,ce=(ce<<21|ce>>>11)+Te|0,rt+=(Te^(ce|~Ne))+kt[4]-145523070|0,rt=(rt<<6|rt>>>26)+ce|0,Ne+=(ce^(rt|~Te))+kt[11]-1120210379|0,Ne=(Ne<<10|Ne>>>22)+rt|0,Te+=(rt^(Ne|~ce))+kt[2]+718787259|0,Te=(Te<<15|Te>>>17)+Ne|0,ce+=(Ne^(Te|~rt))+kt[9]-343485551|0,ce=(ce<<21|ce>>>11)+Te|0,At[0]=rt+At[0]|0,At[1]=ce+At[1]|0,At[2]=Te+At[2]|0,At[3]=Ne+At[3]|0}function U(At){var kt=[],rt;for(rt=0;rt<64;rt+=4)kt[rt>>2]=At.charCodeAt(rt)+(At.charCodeAt(rt+1)<<8)+(At.charCodeAt(rt+2)<<16)+(At.charCodeAt(rt+3)<<24);return kt}function Ue(At){var kt=[],rt;for(rt=0;rt<64;rt+=4)kt[rt>>2]=At[rt]+(At[rt+1]<<8)+(At[rt+2]<<16)+(At[rt+3]<<24);return kt}function Je(At){var kt=At.length,rt=[1732584193,-271733879,-1732584194,271733878],ce,Te,Ne,Wt,ft,qt;for(ce=64;ce<=kt;ce+=64)K(rt,U(At.substring(ce-64,ce)));for(At=At.substring(ce-64),Te=At.length,Ne=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ce=0;ce<Te;ce+=1)Ne[ce>>2]|=At.charCodeAt(ce)<<(ce%4<<3);if(Ne[ce>>2]|=128<<(ce%4<<3),ce>55)for(K(rt,Ne),ce=0;ce<16;ce+=1)Ne[ce]=0;return Wt=kt*8,Wt=Wt.toString(16).match(/(.*?)(.{0,8})$/),ft=parseInt(Wt[2],16),qt=parseInt(Wt[1],16)||0,Ne[14]=ft,Ne[15]=qt,K(rt,Ne),rt}function Qe(At){var kt=At.length,rt=[1732584193,-271733879,-1732584194,271733878],ce,Te,Ne,Wt,ft,qt;for(ce=64;ce<=kt;ce+=64)K(rt,Ue(At.subarray(ce-64,ce)));for(At=ce-64<kt?At.subarray(ce-64):new Uint8Array(0),Te=At.length,Ne=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ce=0;ce<Te;ce+=1)Ne[ce>>2]|=At[ce]<<(ce%4<<3);if(Ne[ce>>2]|=128<<(ce%4<<3),ce>55)for(K(rt,Ne),ce=0;ce<16;ce+=1)Ne[ce]=0;return Wt=kt*8,Wt=Wt.toString(16).match(/(.*?)(.{0,8})$/),ft=parseInt(Wt[2],16),qt=parseInt(Wt[1],16)||0,Ne[14]=ft,Ne[15]=qt,K(rt,Ne),rt}function Ct(At){var kt="",rt;for(rt=0;rt<4;rt+=1)kt+=_e[At>>rt*8+4&15]+_e[At>>rt*8&15];return kt}function Tt(At){var kt;for(kt=0;kt<At.length;kt+=1)At[kt]=Ct(At[kt]);return At.join("")}Tt(Je("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function At(kt,rt){return kt=kt|0||0,kt<0?Math.max(kt+rt,0):Math.min(kt,rt)}ArrayBuffer.prototype.slice=function(kt,rt){var ce=this.byteLength,Te=At(kt,ce),Ne=ce,Wt,ft,qt,Nt;return rt!==te&&(Ne=At(rt,ce)),Te>Ne?new ArrayBuffer(0):(Wt=Ne-Te,ft=new ArrayBuffer(Wt),qt=new Uint8Array(ft),Nt=new Uint8Array(this,Te,Wt),qt.set(Nt),ft)}}();function Ht(At){return/[\u0080-\uFFFF]/.test(At)&&(At=unescape(encodeURIComponent(At))),At}function Rt(At,kt){var rt=At.length,ce=new ArrayBuffer(rt),Te=new Uint8Array(ce),Ne;for(Ne=0;Ne<rt;Ne+=1)Te[Ne]=At.charCodeAt(Ne);return kt?Te:ce}function Yt(At){return String.fromCharCode.apply(null,new Uint8Array(At))}function cr(At,kt,rt){var ce=new Uint8Array(At.byteLength+kt.byteLength);return ce.set(new Uint8Array(At)),ce.set(new Uint8Array(kt),At.byteLength),rt?ce:ce.buffer}function Tr(At){var kt=[],rt=At.length,ce;for(ce=0;ce<rt-1;ce+=2)kt.push(parseInt(At.substr(ce,2),16));return String.fromCharCode.apply(String,kt)}function ir(){this.reset()}return ir.prototype.append=function(At){return this.appendBinary(Ht(At)),this},ir.prototype.appendBinary=function(At){this._buff+=At,this._length+=At.length;var kt=this._buff.length,rt;for(rt=64;rt<=kt;rt+=64)K(this._hash,U(this._buff.substring(rt-64,rt)));return this._buff=this._buff.substring(rt-64),this},ir.prototype.end=function(At){var kt=this._buff,rt=kt.length,ce,Te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ne;for(ce=0;ce<rt;ce+=1)Te[ce>>2]|=kt.charCodeAt(ce)<<(ce%4<<3);return this._finish(Te,rt),Ne=Tt(this._hash),At&&(Ne=Tr(Ne)),this.reset(),Ne},ir.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},ir.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},ir.prototype.setState=function(At){return this._buff=At.buff,this._length=At.length,this._hash=At.hash,this},ir.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},ir.prototype._finish=function(At,kt){var rt=kt,ce,Te,Ne;if(At[rt>>2]|=128<<(rt%4<<3),rt>55)for(K(this._hash,At),rt=0;rt<16;rt+=1)At[rt]=0;ce=this._length*8,ce=ce.toString(16).match(/(.*?)(.{0,8})$/),Te=parseInt(ce[2],16),Ne=parseInt(ce[1],16)||0,At[14]=Te,At[15]=Ne,K(this._hash,At)},ir.hash=function(At,kt){return ir.hashBinary(Ht(At),kt)},ir.hashBinary=function(At,kt){var rt=Je(At),ce=Tt(rt);return kt?Tr(ce):ce},ir.ArrayBuffer=function(){this.reset()},ir.ArrayBuffer.prototype.append=function(At){var kt=cr(this._buff.buffer,At,!0),rt=kt.length,ce;for(this._length+=At.byteLength,ce=64;ce<=rt;ce+=64)K(this._hash,Ue(kt.subarray(ce-64,ce)));return this._buff=ce-64<rt?new Uint8Array(kt.buffer.slice(ce-64)):new Uint8Array(0),this},ir.ArrayBuffer.prototype.end=function(At){var kt=this._buff,rt=kt.length,ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Te,Ne;for(Te=0;Te<rt;Te+=1)ce[Te>>2]|=kt[Te]<<(Te%4<<3);return this._finish(ce,rt),Ne=Tt(this._hash),At&&(Ne=Tr(Ne)),this.reset(),Ne},ir.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},ir.ArrayBuffer.prototype.getState=function(){var At=ir.prototype.getState.call(this);return At.buff=Yt(At.buff),At},ir.ArrayBuffer.prototype.setState=function(At){return At.buff=Rt(At.buff,!0),ir.prototype.setState.call(this,At)},ir.ArrayBuffer.prototype.destroy=ir.prototype.destroy,ir.ArrayBuffer.prototype._finish=ir.prototype._finish,ir.ArrayBuffer.hash=function(At,kt){var rt=Qe(new Uint8Array(At)),ce=Tt(rt);return kt?Tr(ce):ce},ir})}),n=function(G,V){if(!(G instanceof V))throw new TypeError("Cannot call a class as a function")},i=function(){function G(V,te){for(var _e=0;_e<te.length;_e++){var K=te[_e];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(V,K.key,K)}}return function(V,te,_e){return te&&G(V.prototype,te),_e&&G(V,_e),V}}(),a=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,l=function(){i(G,null,[{key:"create",value:function(te,_e){var K=new G(te);K.create(_e)}}]);function G(V){n(this,G),this.file=V,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}return i(G,[{key:"create",value:function(te){var _e=this;this.callback=te,this.md5Buffer=new t.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",function(K){return _e.fileReaderDidLoad(K)}),this.fileReader.addEventListener("error",function(K){return _e.fileReaderDidError(K)}),this.readNextChunk()}},{key:"fileReaderDidLoad",value:function(te){if(this.md5Buffer.append(te.target.result),!this.readNextChunk()){var _e=this.md5Buffer.end(!0),K=btoa(_e);this.callback(null,K)}}},{key:"fileReaderDidError",value:function(te){this.callback("Error reading "+this.file.name)}},{key:"readNextChunk",value:function(){if(this.chunkIndex<this.chunkCount||this.chunkIndex==0&&this.chunkCount==0){var te=this.chunkIndex*this.chunkSize,_e=Math.min(te+this.chunkSize,this.file.size),K=a.call(this.file,te,_e);return this.fileReader.readAsArrayBuffer(K),this.chunkIndex++,!0}else return!1}}]),G}();function h(G){var V=w(document.head,'meta[name="'+G+'"]');if(V)return V.getAttribute("content")}function g(G,V){typeof G=="string"&&(V=G,G=document);var te=G.querySelectorAll(V);return D(te)}function w(G,V){return typeof G=="string"&&(V=G,G=document),G.querySelector(V)}function C(G,V){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_e=G.disabled,K=te.bubbles,U=te.cancelable,Ue=te.detail,Je=document.createEvent("Event");Je.initEvent(V,K||!0,U||!0),Je.detail=Ue||{};try{G.disabled=!1,G.dispatchEvent(Je)}finally{G.disabled=_e}return Je}function D(G){return Array.isArray(G)?G:Array.from?Array.from(G):[].slice.call(G)}var F=function(){function G(V,te,_e){var K=this;n(this,G),this.file=V,this.attributes={filename:V.name,content_type:V.type||"application/octet-stream",byte_size:V.size,checksum:te},this.xhr=new XMLHttpRequest,this.xhr.open("POST",_e,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");var U=h("csrf-token");U!=null&&this.xhr.setRequestHeader("X-CSRF-Token",U),this.xhr.addEventListener("load",function(Ue){return K.requestDidLoad(Ue)}),this.xhr.addEventListener("error",function(Ue){return K.requestDidError(Ue)})}return i(G,[{key:"create",value:function(te){this.callback=te,this.xhr.send(JSON.stringify({blob:this.attributes}))}},{key:"requestDidLoad",value:function(te){if(this.status>=200&&this.status<300){var _e=this.response,K=_e.direct_upload;delete _e.direct_upload,this.attributes=_e,this.directUploadData=K,this.callback(null,this.toJSON())}else this.requestDidError(te)}},{key:"requestDidError",value:function(te){this.callback('Error creating Blob for "'+this.file.name+'". Status: '+this.status)}},{key:"toJSON",value:function(){var te={};for(var _e in this.attributes)te[_e]=this.attributes[_e];return te}},{key:"status",get:function(){return this.xhr.status}},{key:"response",get:function(){var te=this.xhr,_e=te.responseType,K=te.response;return _e=="json"?K:JSON.parse(K)}}]),G}(),z=function(){function G(V){var te=this;n(this,G),this.blob=V,this.file=V.file;var _e=V.directUploadData,K=_e.url,U=_e.headers;this.xhr=new XMLHttpRequest,this.xhr.open("PUT",K,!0),this.xhr.responseType="text";for(var Ue in U)this.xhr.setRequestHeader(Ue,U[Ue]);this.xhr.addEventListener("load",function(Je){return te.requestDidLoad(Je)}),this.xhr.addEventListener("error",function(Je){return te.requestDidError(Je)})}return i(G,[{key:"create",value:function(te){this.callback=te,this.xhr.send(this.file.slice())}},{key:"requestDidLoad",value:function(te){var _e=this.xhr,K=_e.status,U=_e.response;K>=200&&K<300?this.callback(null,U):this.requestDidError(te)}},{key:"requestDidError",value:function(te){this.callback('Error storing "'+this.file.name+'". Status: '+this.xhr.status)}}]),G}(),Y=0,$=function(){function G(V,te,_e){n(this,G),this.id=++Y,this.file=V,this.url=te,this.delegate=_e}return i(G,[{key:"create",value:function(te){var _e=this;l.create(this.file,function(K,U){if(K){te(K);return}var Ue=new F(_e.file,U,_e.url);re(_e.delegate,"directUploadWillCreateBlobWithXHR",Ue.xhr),Ue.create(function(Je){if(Je)te(Je);else{var Qe=new z(Ue);re(_e.delegate,"directUploadWillStoreFileWithXHR",Qe.xhr),Qe.create(function(Ct){Ct?te(Ct):te(null,Ue.toJSON())})}})})}}]),G}();function re(G,V){if(G&&typeof G[V]=="function"){for(var te=arguments.length,_e=Array(te>2?te-2:0),K=2;K<te;K++)_e[K-2]=arguments[K];return G[V].apply(G,_e)}}var oe=function(){function G(V,te){n(this,G),this.input=V,this.file=te,this.directUpload=new $(this.file,this.url,this),this.dispatch("initialize")}return i(G,[{key:"start",value:function(te){var _e=this,K=document.createElement("input");K.type="hidden",K.name=this.input.name,this.input.insertAdjacentElement("beforebegin",K),this.dispatch("start"),this.directUpload.create(function(U,Ue){U?(K.parentNode.removeChild(K),_e.dispatchError(U)):K.value=Ue.signed_id,_e.dispatch("end"),te(U)})}},{key:"uploadRequestDidProgress",value:function(te){var _e=te.loaded/te.total*100;_e&&this.dispatch("progress",{progress:_e})}},{key:"dispatch",value:function(te){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _e.file=this.file,_e.id=this.directUpload.id,C(this.input,"direct-upload:"+te,{detail:_e})}},{key:"dispatchError",value:function(te){var _e=this.dispatch("error",{error:te});_e.defaultPrevented||alert(te)}},{key:"directUploadWillCreateBlobWithXHR",value:function(te){this.dispatch("before-blob-request",{xhr:te})}},{key:"directUploadWillStoreFileWithXHR",value:function(te){var _e=this;this.dispatch("before-storage-request",{xhr:te}),te.upload.addEventListener("progress",function(K){return _e.uploadRequestDidProgress(K)})}},{key:"url",get:function(){return this.input.getAttribute("data-direct-upload-url")}}]),G}(),ne="input[type=file][data-direct-upload-url]:not([disabled])",he=function(){function G(V){n(this,G),this.form=V,this.inputs=g(V,ne).filter(function(te){return te.files.length})}return i(G,[{key:"start",value:function(te){var _e=this,K=this.createDirectUploadControllers(),U=function Ue(){var Je=K.shift();Je?Je.start(function(Qe){Qe?(te(Qe),_e.dispatch("end")):Ue()}):(te(),_e.dispatch("end"))};this.dispatch("start"),U()}},{key:"createDirectUploadControllers",value:function(){var te=[];return this.inputs.forEach(function(_e){D(_e.files).forEach(function(K){var U=new oe(_e,K);te.push(U)})}),te}},{key:"dispatch",value:function(te){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return C(this.form,"direct-uploads:"+te,{detail:_e})}}]),G}(),_="data-direct-uploads-processing",ge=new WeakMap,fe=!1;function me(){fe||(fe=!0,document.addEventListener("click",we,!0),document.addEventListener("submit",Se),document.addEventListener("ajax:before",be))}function we(G){var V=G.target;(V.tagName=="INPUT"||V.tagName=="BUTTON")&&V.type=="submit"&&V.form&&ge.set(V.form,V)}function Se(G){$e(G)}function be(G){G.target.tagName=="FORM"&&$e(G)}function $e(G){var V=G.target;if(V.hasAttribute(_)){G.preventDefault();return}var te=new he(V),_e=te.inputs;_e.length&&(G.preventDefault(),V.setAttribute(_,""),_e.forEach(ee),te.start(function(K){V.removeAttribute(_),K?_e.forEach(R):q(V)}))}function q(G){var V=ge.get(G)||w(G,"input[type=submit], button[type=submit]");if(V){var te=V,_e=te.disabled;V.disabled=!1,V.focus(),V.click(),V.disabled=_e}else V=document.createElement("input"),V.type="submit",V.style.display="none",G.appendChild(V),V.click(),G.removeChild(V);ge.delete(G)}function ee(G){G.disabled=!0}function R(G){G.disabled=!1}function j(){window.ActiveStorage&&me()}setTimeout(j,1),r.start=me,r.DirectUpload=$,Object.defineProperty(r,"__esModule",{value:!0})})});var f4=de((n5t,dI)=>{(function(r,e,t){if(!r)return;for(var n={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},i={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},a={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},l={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},h,g=1;g<20;++g)n[111+g]="f"+g;for(g=0;g<=9;++g)n[g+96]=g.toString();function w(fe,me,we){if(fe.addEventListener){fe.addEventListener(me,we,!1);return}fe.attachEvent("on"+me,we)}function C(fe){if(fe.type=="keypress"){var me=String.fromCharCode(fe.which);return fe.shiftKey||(me=me.toLowerCase()),me}return n[fe.which]?n[fe.which]:i[fe.which]?i[fe.which]:String.fromCharCode(fe.which).toLowerCase()}function D(fe,me){return fe.sort().join(",")===me.sort().join(",")}function F(fe){var me=[];return fe.shiftKey&&me.push("shift"),fe.altKey&&me.push("alt"),fe.ctrlKey&&me.push("ctrl"),fe.metaKey&&me.push("meta"),me}function z(fe){if(fe.preventDefault){fe.preventDefault();return}fe.returnValue=!1}function Y(fe){if(fe.stopPropagation){fe.stopPropagation();return}fe.cancelBubble=!0}function $(fe){return fe=="shift"||fe=="ctrl"||fe=="alt"||fe=="meta"}function re(){if(!h){h={};for(var fe in n)fe>95&&fe<112||n.hasOwnProperty(fe)&&(h[n[fe]]=fe)}return h}function oe(fe,me,we){return we||(we=re()[fe]?"keydown":"keypress"),we=="keypress"&&me.length&&(we="keydown"),we}function ne(fe){return fe==="+"?["+"]:(fe=fe.replace(/\+{2}/g,"+plus"),fe.split("+"))}function he(fe,me){var we,Se,be,$e=[];for(we=ne(fe),be=0;be<we.length;++be)Se=we[be],l[Se]&&(Se=l[Se]),me&&me!="keypress"&&a[Se]&&(Se=a[Se],$e.push("shift")),$(Se)&&$e.push(Se);return me=oe(Se,$e,me),{key:Se,modifiers:$e,action:me}}function _(fe,me){return fe===null||fe===e?!1:fe===me?!0:_(fe.parentNode,me)}function ge(fe){var me=this;if(fe=fe||e,!(me instanceof ge))return new ge(fe);me.target=fe,me._callbacks={},me._directMap={};var we={},Se,be=!1,$e=!1,q=!1;function ee(K){K=K||{};var U=!1,Ue;for(Ue in we){if(K[Ue]){U=!0;continue}we[Ue]=0}U||(q=!1)}function R(K,U,Ue,Je,Qe,Ct){var Tt,Ht,Rt=[],Yt=Ue.type;if(!me._callbacks[K])return[];for(Yt=="keyup"&&$(K)&&(U=[K]),Tt=0;Tt<me._callbacks[K].length;++Tt)if(Ht=me._callbacks[K][Tt],!(!Je&&Ht.seq&&we[Ht.seq]!=Ht.level)&&Yt==Ht.action&&(Yt=="keypress"&&!Ue.metaKey&&!Ue.ctrlKey||D(U,Ht.modifiers))){var cr=!Je&&Ht.combo==Qe,Tr=Je&&Ht.seq==Je&&Ht.level==Ct;(cr||Tr)&&me._callbacks[K].splice(Tt,1),Rt.push(Ht)}return Rt}function j(K,U,Ue,Je){me.stopCallback(U,U.target||U.srcElement,Ue,Je)||K(U,Ue)===!1&&(z(U),Y(U))}me._handleKey=function(K,U,Ue){var Je=R(K,U,Ue),Qe,Ct={},Tt=0,Ht=!1;for(Qe=0;Qe<Je.length;++Qe)Je[Qe].seq&&(Tt=Math.max(Tt,Je[Qe].level));for(Qe=0;Qe<Je.length;++Qe){if(Je[Qe].seq){if(Je[Qe].level!=Tt)continue;Ht=!0,Ct[Je[Qe].seq]=1,j(Je[Qe].callback,Ue,Je[Qe].combo,Je[Qe].seq);continue}Ht||j(Je[Qe].callback,Ue,Je[Qe].combo)}var Rt=Ue.type=="keypress"&&$e;Ue.type==q&&!$(K)&&!Rt&&ee(Ct),$e=Ht&&Ue.type=="keydown"};function G(K){typeof K.which!="number"&&(K.which=K.keyCode);var U=C(K);if(!!U){if(K.type=="keyup"&&be===U){be=!1;return}me.handleKey(U,F(K),K)}}function V(){clearTimeout(Se),Se=setTimeout(ee,1e3)}function te(K,U,Ue,Je){we[K]=0;function Qe(Yt){return function(){q=Yt,++we[K],V()}}function Ct(Yt){j(Ue,Yt,K),Je!=="keyup"&&(be=C(Yt)),setTimeout(ee,10)}for(var Tt=0;Tt<U.length;++Tt){var Ht=Tt+1===U.length,Rt=Ht?Ct:Qe(Je||he(U[Tt+1]).action);_e(U[Tt],Rt,Je,K,Tt)}}function _e(K,U,Ue,Je,Qe){me._directMap[K+":"+Ue]=U,K=K.replace(/\s+/g," ");var Ct=K.split(" "),Tt;if(Ct.length>1){te(K,Ct,U,Ue);return}Tt=he(K,Ue),me._callbacks[Tt.key]=me._callbacks[Tt.key]||[],R(Tt.key,Tt.modifiers,{type:Tt.action},Je,K,Qe),me._callbacks[Tt.key][Je?"unshift":"push"]({callback:U,modifiers:Tt.modifiers,action:Tt.action,seq:Je,level:Qe,combo:K})}me._bindMultiple=function(K,U,Ue){for(var Je=0;Je<K.length;++Je)_e(K[Je],U,Ue)},w(fe,"keypress",G),w(fe,"keydown",G),w(fe,"keyup",G)}ge.prototype.bind=function(fe,me,we){var Se=this;return fe=fe instanceof Array?fe:[fe],Se._bindMultiple.call(Se,fe,me,we),Se},ge.prototype.unbind=function(fe,me){var we=this;return we.bind.call(we,fe,function(){},me)},ge.prototype.trigger=function(fe,me){var we=this;return we._directMap[fe+":"+me]&&we._directMap[fe+":"+me]({},fe),we},ge.prototype.reset=function(){var fe=this;return fe._callbacks={},fe._directMap={},fe},ge.prototype.stopCallback=function(fe,me){var we=this;if((" "+me.className+" ").indexOf(" mousetrap ")>-1||_(me,we.target))return!1;if("composedPath"in fe&&typeof fe.composedPath=="function"){var Se=fe.composedPath()[0];Se!==fe.target&&(me=Se)}return me.tagName=="INPUT"||me.tagName=="SELECT"||me.tagName=="TEXTAREA"||me.isContentEditable},ge.prototype.handleKey=function(){var fe=this;return fe._handleKey.apply(fe,arguments)},ge.addKeycodes=function(fe){for(var me in fe)fe.hasOwnProperty(me)&&(n[me]=fe[me]);h=null},ge.init=function(){var fe=ge(e);for(var me in fe)me.charAt(0)!=="_"&&(ge[me]=function(we){return function(){return fe[we].apply(fe,arguments)}}(me))},ge.init(),r.Mousetrap=ge,typeof dI<"u"&&dI.exports&&(dI.exports=ge),typeof define=="function"&&define.amd&&define(function(){return ge})})(typeof window<"u"?window:null,typeof window<"u"?document:null)});var Mb={};kH(Mb,{FrameElement:()=>op,FrameLoadingStyle:()=>Rg,FrameRenderer:()=>A_,PageRenderer:()=>D_,PageSnapshot:()=>kh,StreamActions:()=>Ib,StreamElement:()=>O_,StreamSourceElement:()=>EI,cache:()=>ude,clearCache:()=>pde,connectStreamSource:()=>UT,disconnectStreamSource:()=>jT,navigator:()=>cde,registerAdapter:()=>fde,renderStreamMessage:()=>dde,session:()=>al,setConfirmMethod:()=>gde,setFormMode:()=>vde,setProgressBarDelay:()=>mde,start:()=>F4,visit:()=>hde});function Sct(r){let e=r instanceof Element?r:r instanceof Node?r.parentElement:null,t=e?e.closest("input, button"):null;return t?.type=="submit"?t:null}function Tct(r){let e=Sct(r.target);e&&e.form&&rde.set(e.form,e)}function Ect(r){switch(r.toLowerCase()){case"lazy":return Rg.lazy;default:return Rg.eager}}function xf(r){return new URL(r.toString(),document.baseURI)}function Db(r){let e;if(r.hash)return r.hash.slice(1);if(e=r.href.match(/#(.*)$/))return e[1]}function R4(r,e){let t=e?.getAttribute("formaction")||r.getAttribute("action")||r.action;return xf(t)}function kct(r){return(Ict(r).match(/\.[^.]*$/)||[])[0]||""}function Cct(r){return!!kct(r).match(/^(?:|\.(?:htm|html|xhtml|php))$/)}function Act(r,e){let t=Mct(e);return r.href===xf(t).href||r.href.startsWith(t)}function E_(r,e){return Act(r,e)&&Cct(r)}function h4(r){let e=Db(r);return e!=null?r.href.slice(0,-(e.length+1)):r.href}function pI(r){return h4(r)}function Dct(r,e){return xf(r).href==xf(e).href}function Oct(r){return r.pathname.split("/").slice(1)}function Ict(r){return Oct(r).slice(-1)[0]}function Mct(r){return Lct(r.origin+r.pathname)}function Lct(r){return r.endsWith("/")?r:r+"/"}function qT(r){if(r.getAttribute("data-turbo-eval")=="false")return r;{let e=document.createElement("script"),t=vI("csp-nonce");return t&&(e.nonce=t),e.textContent=r.textContent,e.async=!1,Pct(e,r),e}}function Pct(r,e){for(let{name:t,value:n}of e.attributes)r.setAttribute(t,n)}function Rct(r){let e=document.createElement("template");return e.innerHTML=r,e.content}function Yc(r,{target:e,cancelable:t,detail:n}={}){let i=new CustomEvent(r,{cancelable:t,bubbles:!0,composed:!0,detail:n});return e&&e.isConnected?e.dispatchEvent(i):document.documentElement.dispatchEvent(i),i}function mI(){return new Promise(r=>requestAnimationFrame(()=>r()))}function Fct(){return new Promise(r=>setTimeout(()=>r(),0))}function qct(){return Promise.resolve()}function nde(r=""){return new DOMParser().parseFromString(r,"text/html")}function ide(r,...e){let t=Nct(r,e).replace(/^\n/,"").split(`
`),n=t[0].match(/^\s+/),i=n?n[0].length:0;return t.map(a=>a.slice(i)).join(`
`)}function Nct(r,e){return r.reduce((t,n,i)=>{let a=e[i]==null?"":e[i];return t+n+a},"")}function k_(){return Array.from({length:36}).map((r,e)=>e==8||e==13||e==18||e==23?"-":e==14?"4":e==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function gI(r,...e){for(let t of e.map(n=>n?.getAttribute(r)))if(typeof t=="string")return t;return null}function Bct(r,...e){return e.some(t=>t&&t.hasAttribute(r))}function d4(...r){for(let e of r)e.localName=="turbo-frame"&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function p4(...r){for(let e of r)e.localName=="turbo-frame"&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function zct(r,e=2e3){return new Promise(t=>{let n=()=>{r.removeEventListener("error",n),r.removeEventListener("load",n),t()};r.addEventListener("load",n,{once:!0}),r.addEventListener("error",n,{once:!0}),setTimeout(t,e)})}function ode(r){switch(r){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function Uct(r){return r=="advance"||r=="replace"||r=="restore"}function kI(...r){let e=gI("data-turbo-action",...r);return Uct(e)?e:null}function ade(r){return document.querySelector(`meta[name="${r}"]`)}function vI(r){let e=ade(r);return e&&e.content}function jct(r,e){let t=ade(r);return t||(t=document.createElement("meta"),t.setAttribute("name",r),document.head.appendChild(t)),t.setAttribute("content",e),t}function yI(r,e){var t;if(r instanceof Element)return r.closest(e)||yI(r.assignedSlot||((t=r.getRootNode())===null||t===void 0?void 0:t.host),e)}function Hct(r){switch(r.toLowerCase()){case"get":return Eh.get;case"post":return Eh.post;case"put":return Eh.put;case"patch":return Eh.patch;case"delete":return Eh.delete}}function Wct(r){for(let e of r.querySelectorAll("turbo-stream")){let t=document.importNode(e,!0);for(let n of t.templateElement.content.querySelectorAll("script"))n.replaceWith(qT(n));e.replaceWith(t)}return r}function Vct(r){switch(r.toLowerCase()){case Jv.multipart:return Jv.multipart;case Jv.plain:return Jv.plain;default:return Jv.urlEncoded}}function $ct(r,e){let t=new FormData(r),n=e?.getAttribute("name"),i=e?.getAttribute("value");return n&&t.append(n,i||""),t}function Gct(r){if(r!=null){let t=(document.cookie?document.cookie.split("; "):[]).find(n=>n.startsWith(r));if(t){let n=t.split("=").slice(1).join("=");return n?decodeURIComponent(n):void 0}}}function Kct(r){return r.statusCode==200&&!r.redirected}function Yct(r,e){let t=new URLSearchParams;for(let[n,i]of e)i instanceof File||t.append(n,i);return r.search=t.toString(),r}function sde(r,e){return r.querySelector(`#${e}[data-turbo-permanent]`)}function lde(r){return r.querySelectorAll("[id][data-turbo-permanent]")}function Zct(r,e){return(e?.getAttribute("formmethod")||r.getAttribute("method"))!="dialog"}function Xct(r,e){if(e?.hasAttribute("formtarget")||r.hasAttribute("target")){let t=e?.getAttribute("formtarget")||r.target;for(let n of document.getElementsByName(t))if(n instanceof HTMLIFrameElement)return!1;return!0}else return!0}function Jct(r){if(r.hasAttribute("target")){for(let e of document.getElementsByName(r.target))if(e instanceof HTMLIFrameElement)return!1;return!0}else return!0}function Qct(r){let e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",r.id),e}function eft(r){return r&&typeof r.focus=="function"}function tft(r,e){return r=="end"||r=="start"||r=="center"||r=="nearest"?r:e}function rft(r,e){return r=="auto"||r=="smooth"?r:e}function nft(r){if(oft(r))return"script";if(sft(r))return"stylesheet"}function ift(r){return r.getAttribute("data-turbo-track")=="reload"}function oft(r){return r.localName=="script"}function aft(r){return r.localName=="noscript"}function sft(r){let e=r.localName;return e=="style"||e=="link"&&r.getAttribute("rel")=="stylesheet"}function lft(r,e){return r.localName=="meta"&&r.getAttribute("name")==e}function uft(r){return r.hasAttribute("nonce")&&r.setAttribute("nonce",""),r}function Jhe(r){return r>=200&&r<300}function fft(r){let e=lde(document.documentElement),t={};for(let n of e){let{id:i}=n;for(let a of r.querySelectorAll("turbo-stream")){let l=sde(a.templateElement.content,i);l&&(t[i]=[n,l])}}return t}function hft(r){var e;let t=(e=r.detail)===null||e===void 0?void 0:e.fetchResponse;if(t instanceof FT)return t}function dft(r){var e;return((e=r.contentType)!==null&&e!==void 0?e:"").startsWith(Fg.contentType)}function Qhe(r){Object.defineProperties(r,pft)}function F4(){al.start()}function fde(r){al.registerAdapter(r)}function hde(r,e){al.visit(r,e)}function UT(r){al.connectStreamSource(r)}function jT(r){al.disconnectStreamSource(r)}function dde(r){al.renderStreamMessage(r)}function pde(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),al.clearCache()}function mde(r){al.setProgressBarDelay(r)}function gde(r){Ob.confirmMethod=r}function vde(r){al.setFormMode(r)}function ede(r){if(r!=null){let e=document.getElementById(r);if(e instanceof op)return e}}function tde(r,e){if(r){let t=r.getAttribute("src");if(t!=null&&e!=null&&Dct(t,e))throw new Error(`Matching <turbo-frame id="${r.id}"> element has a source URL which references itself`);if(r.ownerDocument!==document&&(r=document.importNode(r,!0)),r instanceof op)return r.connectedCallback(),r.disconnectedCallback(),r}}var rde,Rg,op,FT,Eh,NT,m4,Fg,Xv,Jv,Ob,C_,BT,bI,g4,xI,_I,wI,SI,zT,A_,jp,v4,kh,T_,Up,cft,Qv,y4,b4,x4,_4,w4,S4,Pg,T4,E4,k4,C4,TI,D_,A4,D4,O4,I4,pft,M4,Ib,al,ude,cde,mft,L4,P4,O_,EI,CI=ze(()=>{(function(){if(window.Reflect===void 0||window.customElements===void 0||window.customElements.polyfillWrapFlushCallback)return;let r=HTMLElement,e={HTMLElement:function(){return Reflect.construct(r,[],this.constructor)}};window.HTMLElement=e.HTMLElement,HTMLElement.prototype=r.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,r)})();(function(r){if(typeof r.requestSubmit=="function")return;r.requestSubmit=function(n){n?(e(n,this),n.click()):(n=document.createElement("input"),n.type="submit",n.hidden=!0,this.appendChild(n),n.click(),this.removeChild(n))};function e(n,i){n instanceof HTMLElement||t(TypeError,"parameter 1 is not of type 'HTMLElement'"),n.type=="submit"||t(TypeError,"The specified element is not a submit button"),n.form==i||t(DOMException,"The specified element is not owned by this form element","NotFoundError")}function t(n,i,a){throw new n("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+i+".",a)}})(HTMLFormElement.prototype);rde=new WeakMap;(function(){if("submitter"in Event.prototype)return;let r=window.Event.prototype;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))r=window.SubmitEvent.prototype;else if("SubmitEvent"in window)return;addEventListener("click",Tct,!0),Object.defineProperty(r,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return rde.get(this.target)}})})();(function(r){r.eager="eager",r.lazy="lazy"})(Rg||(Rg={}));op=class extends HTMLElement{static get observedAttributes(){return["disabled","complete","loading","src"]}constructor(){super(),this.loaded=Promise.resolve(),this.delegate=new op.delegateConstructor(this)}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(e){e=="loading"?this.delegate.loadingStyleChanged():e=="complete"?this.delegate.completeChanged():e=="src"?this.delegate.sourceURLChanged():this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get loading(){return Ect(this.getAttribute("loading")||"")}set loading(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var e,t;return(t=(e=this.ownerDocument)===null||e===void 0?void 0:e.documentElement)===null||t===void 0?void 0:t.hasAttribute("data-turbo-preview")}};FT=class{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return xf(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}};(function(r){r[r.get=0]="get",r[r.post=1]="post",r[r.put=2]="put",r[r.patch=3]="patch",r[r.delete=4]="delete"})(Eh||(Eh={}));NT=class{constructor(e,t,n,i=new URLSearchParams,a=null){this.abortController=new AbortController,this.resolveRequestPromise=l=>{},this.delegate=e,this.method=t,this.headers=this.defaultHeaders,this.body=i,this.url=n,this.target=a}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){let{fetchOptions:e}=this;this.delegate.prepareRequest(this),await this.allowRequestToBeIntercepted(e);try{this.delegate.requestStarted(this);let t=await fetch(this.url.href,e);return await this.receive(t)}catch(t){if(t.name!=="AbortError")throw this.willDelegateErrorHandling(t)&&this.delegate.requestErrored(this,t),t}finally{this.delegate.requestFinished(this)}}async receive(e){let t=new FT(e);return Yc("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:t},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,t):t.succeeded?this.delegate.requestSucceededWithResponse(this,t):this.delegate.requestFailedWithResponse(this,t),t}get fetchOptions(){var e;return{method:Eh[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.isSafe?null:this.body,signal:this.abortSignal,referrer:(e=this.delegate.referrer)===null||e===void 0?void 0:e.href}}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return this.method===Eh.get}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}async allowRequestToBeIntercepted(e){let t=new Promise(i=>this.resolveRequestPromise=i);Yc("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:this.resolveRequestPromise},target:this.target}).defaultPrevented&&await t}willDelegateErrorHandling(e){return!Yc("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented}},m4=class{constructor(e,t){this.started=!1,this.intersect=n=>{let i=n.slice(-1)[0];i?.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)},this.delegate=e,this.element=t,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}},Fg=class{static wrap(e){return typeof e=="string"?new this(Rct(e)):e}constructor(e){this.fragment=Wct(e)}};Fg.contentType="text/vnd.turbo-stream.html";(function(r){r[r.initialized=0]="initialized",r[r.requesting=1]="requesting",r[r.waiting=2]="waiting",r[r.receiving=3]="receiving",r[r.stopping=4]="stopping",r[r.stopped=5]="stopped"})(Xv||(Xv={}));(function(r){r.urlEncoded="application/x-www-form-urlencoded",r.multipart="multipart/form-data",r.plain="text/plain"})(Jv||(Jv={}));Ob=class{static confirmMethod(e,t,n){return Promise.resolve(confirm(e))}constructor(e,t,n,i=!1){this.state=Xv.initialized,this.delegate=e,this.formElement=t,this.submitter=n,this.formData=$ct(t,n),this.location=xf(this.action),this.method==Eh.get&&Yct(this.location,[...this.body.entries()]),this.fetchRequest=new NT(this,this.method,this.location,this.body,this.formElement),this.mustRedirect=i}get method(){var e;let t=((e=this.submitter)===null||e===void 0?void 0:e.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"";return Hct(t.toLowerCase())||Eh.get}get action(){var e;let t=typeof this.formElement.action=="string"?this.formElement.action:null;return!((e=this.submitter)===null||e===void 0)&&e.hasAttribute("formaction")?this.submitter.getAttribute("formaction")||"":this.formElement.getAttribute("action")||t||""}get body(){return this.enctype==Jv.urlEncoded||this.method==Eh.get?new URLSearchParams(this.stringFormData):this.formData}get enctype(){var e;return Vct(((e=this.submitter)===null||e===void 0?void 0:e.getAttribute("formenctype"))||this.formElement.enctype)}get isSafe(){return this.fetchRequest.isSafe}get stringFormData(){return[...this.formData].reduce((e,[t,n])=>e.concat(typeof n=="string"?[[t,n]]:[]),[])}async start(){let{initialized:e,requesting:t}=Xv,n=gI("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof n=="string"&&!await Ob.confirmMethod(n,this.formElement,this.submitter))&&this.state==e)return this.state=t,this.fetchRequest.perform()}stop(){let{stopping:e,stopped:t}=Xv;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0}prepareRequest(e){if(!e.isSafe){let t=Gct(vI("csrf-param"))||vI("csrf-token");t&&(e.headers["X-CSRF-Token"]=t)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(Fg.contentType)}requestStarted(e){var t;this.state=Xv.waiting,(t=this.submitter)===null||t===void 0||t.setAttribute("disabled",""),this.setSubmitsWith(),Yc("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,t){this.result={success:t.succeeded,fetchResponse:t}}requestSucceededWithResponse(e,t){if(t.clientError||t.serverError)this.delegate.formSubmissionFailedWithResponse(this,t);else if(this.requestMustRedirect(e)&&Kct(t)){let n=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,n)}else this.state=Xv.receiving,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)}requestFailedWithResponse(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)}requestErrored(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)}requestFinished(e){var t;this.state=Xv.stopped,(t=this.submitter)===null||t===void 0||t.removeAttribute("disabled"),this.resetSubmitterText(),Yc("turbo:submit-end",{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){let e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){let e=this.submitter;e.value=this.originalSubmitText}}}requestMustRedirect(e){return!e.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isSafe||Bct("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){var e;return(e=this.submitter)===null||e===void 0?void 0:e.getAttribute("data-turbo-submits-with")}};C_=class{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return this.getElementForAnchor(e)!=null}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){let e="[inert], :disabled, [hidden], details:not([open]), dialog:not([open])";for(let t of this.element.querySelectorAll("[autofocus]"))if(t.closest(e)==null)return t;return null}get permanentElements(){return lde(this.element)}getPermanentElementById(e){return sde(this.element,e)}getPermanentElementMapForSnapshot(e){let t={};for(let n of this.permanentElements){let{id:i}=n,a=e.getPermanentElementById(i);a&&(t[i]=[n,a])}return t}};BT=class{constructor(e,t){this.started=!1,this.submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)},this.submitBubbled=n=>{if(!n.defaultPrevented){let i=n.target instanceof HTMLFormElement?n.target:void 0,a=n.submitter||void 0;i&&Zct(i,a)&&Xct(i,a)&&this.delegate.willSubmitForm(i,a)&&(n.preventDefault(),n.stopImmediatePropagation(),this.delegate.formSubmitted(i,a))}},this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}};bI=class{constructor(e,t){this.resolveRenderPromise=n=>{},this.resolveInterceptionPromise=n=>{},this.delegate=e,this.element=t}scrollToAnchor(e){let t=this.snapshot.getElementForAnchor(e);t?(this.scrollToElement(t),this.focusElement(t)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(Db(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:t}){this.scrollRoot.scrollTo(e,t)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){let{isPreview:t,shouldRender:n,newSnapshot:i}=e;if(n)try{this.renderPromise=new Promise(g=>this.resolveRenderPromise=g),this.renderer=e,await this.prepareToRenderSnapshot(e);let a=new Promise(g=>this.resolveInterceptionPromise=g),l={resume:this.resolveInterceptionPromise,render:this.renderer.renderElement};this.delegate.allowsImmediateRender(i,l)||await a,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(i,t),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,this.resolveRenderPromise(void 0),delete this.renderPromise}else this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}},g4=class extends bI{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new C_(this.element)}},xI=class{constructor(e,t){this.clickBubbled=n=>{this.respondsToEventTarget(n.target)?this.clickEvent=n:delete this.clickEvent},this.linkClicked=n=>{this.clickEvent&&this.respondsToEventTarget(n.target)&&n.target instanceof Element&&this.delegate.shouldInterceptLinkClick(n.target,n.detail.url,n.detail.originalEvent)&&(this.clickEvent.preventDefault(),n.preventDefault(),this.delegate.linkClickIntercepted(n.target,n.detail.url,n.detail.originalEvent)),delete this.clickEvent},this.willVisit=n=>{delete this.clickEvent},this.delegate=e,this.element=t}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}respondsToEventTarget(e){let t=e instanceof Element?e:e instanceof Node?e.parentElement:null;return t&&t.closest("turbo-frame, html")==this.element}},_I=class{constructor(e,t){this.started=!1,this.clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)},this.clickBubbled=n=>{if(n instanceof MouseEvent&&this.clickEventIsSignificant(n)){let i=n.composedPath&&n.composedPath()[0]||n.target,a=this.findLinkFromClickTarget(i);if(a&&Jct(a)){let l=this.getLocationForLink(a);this.delegate.willFollowLinkToLocation(a,l,n)&&(n.preventDefault(),this.delegate.followedLinkToLocation(a,l))}}},this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}findLinkFromClickTarget(e){return yI(e,"a[href]:not([target^=_]):not([download])")}getLocationForLink(e){return xf(e.getAttribute("href")||"")}};wI=class{constructor(e,t){this.delegate=e,this.linkInterceptor=new _I(this,t)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}willFollowLinkToLocation(e,t,n){return this.delegate.willSubmitFormLinkToLocation(e,t,n)&&e.hasAttribute("data-turbo-method")}followedLinkToLocation(e,t){let n=document.createElement("form"),i="hidden";for(let[D,F]of t.searchParams)n.append(Object.assign(document.createElement("input"),{type:i,name:D,value:F}));let a=Object.assign(t,{search:""});n.setAttribute("data-turbo","true"),n.setAttribute("action",a.href),n.setAttribute("hidden","");let l=e.getAttribute("data-turbo-method");l&&n.setAttribute("method",l);let h=e.getAttribute("data-turbo-frame");h&&n.setAttribute("data-turbo-frame",h);let g=kI(e);g&&n.setAttribute("data-turbo-action",g);let w=e.getAttribute("data-turbo-confirm");w&&n.setAttribute("data-turbo-confirm",w),e.hasAttribute("data-turbo-stream")&&n.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,t,n),document.body.appendChild(n),n.addEventListener("turbo:submit-end",()=>n.remove(),{once:!0}),requestAnimationFrame(()=>n.requestSubmit())}},SI=class{static async preservingPermanentElements(e,t,n){let i=new this(e,t);i.enter(),await n(),i.leave()}constructor(e,t){this.delegate=e,this.permanentElementMap=t}enter(){for(let e in this.permanentElementMap){let[t,n]=this.permanentElementMap[e];this.delegate.enteringBardo(t,n),this.replaceNewPermanentElementWithPlaceholder(n)}}leave(){for(let e in this.permanentElementMap){let[t]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(t),this.replacePlaceholderWithPermanentElement(t),this.delegate.leavingBardo(t)}}replaceNewPermanentElementWithPlaceholder(e){let t=Qct(e);e.replaceWith(t)}replaceCurrentPermanentElementWithClone(e){let t=e.cloneNode(!0);e.replaceWith(t)}replacePlaceholderWithPermanentElement(e){let t=this.getPlaceholderById(e.id);t?.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(t=>t.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}};zT=class{constructor(e,t,n,i,a=!0){this.activeElement=null,this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=i,this.willRender=a,this.renderElement=n,this.promise=new Promise((l,h)=>this.resolvingFunctions={resolve:l,reject:h})}get shouldRender(){return!0}get reloadReason(){}prepareToRender(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(e){await SI.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){let e=this.connectedSnapshot.firstAutofocusableElement;eft(e)&&e.focus()}enteringBardo(e){this.activeElement||e.contains(this.currentSnapshot.activeElement)&&(this.activeElement=this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(this.activeElement)&&this.activeElement instanceof HTMLElement&&(this.activeElement.focus(),this.activeElement=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}};A_=class extends zT{static renderElement(e,t){var n;let i=document.createRange();i.selectNodeContents(e),i.deleteContents();let a=t,l=(n=a.ownerDocument)===null||n===void 0?void 0:n.createRange();l&&(l.selectNodeContents(a),e.appendChild(l.extractContents()))}constructor(e,t,n,i,a,l=!0){super(t,n,i,a,l),this.delegate=e}get shouldRender(){return!0}async render(){await mI(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await mI(),this.focusFirstAutofocusableElement(),await mI(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){let e=this.currentElement.firstElementChild,t=tft(this.currentElement.getAttribute("data-autoscroll-block"),"end"),n=rft(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:t,behavior:n}),!0}return!1}activateScriptElements(){for(let e of this.newScriptElements){let t=qT(e);e.replaceWith(t)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}};jp=class{static get defaultCSS(){return ide`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${jp.animationDuration}ms ease-out,
          opacity ${jp.animationDuration/2}ms ${jp.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=()=>{this.setValue(this.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,jp.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,jp.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){let e=document.createElement("style");return e.type="text/css",e.textContent=jp.defaultCSS,this.cspNonce&&(e.nonce=this.cspNonce),e}createProgressElement(){let e=document.createElement("div");return e.className="turbo-progress-bar",e}get cspNonce(){return vI("csp-nonce")}};jp.animationDuration=300;v4=class extends C_{constructor(){super(...arguments),this.detailsByOuterHTML=this.children.filter(e=>!aft(e)).map(e=>uft(e)).reduce((e,t)=>{let{outerHTML:n}=t,i=n in e?e[n]:{type:nft(t),tracked:ift(t),elements:[]};return Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({},i),{elements:[...i.elements,t]})})},{})}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(e=>this.detailsByOuterHTML[e].tracked).join("")}getScriptElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)}getStylesheetElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)}getElementsMatchingTypeNotInSnapshot(e,t){return Object.keys(this.detailsByOuterHTML).filter(n=>!(n in t.detailsByOuterHTML)).map(n=>this.detailsByOuterHTML[n]).filter(({type:n})=>n==e).map(({elements:[n]})=>n)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((e,t)=>{let{type:n,tracked:i,elements:a}=this.detailsByOuterHTML[t];return n==null&&!i?[...e,...a]:a.length>1?[...e,...a.slice(1)]:e},[])}getMetaValue(e){let t=this.findMetaElementByName(e);return t?t.getAttribute("content"):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce((t,n)=>{let{elements:[i]}=this.detailsByOuterHTML[n];return lft(i,e)?i:t},void 0)}};kh=class extends C_{static fromHTMLString(e=""){return this.fromDocument(nde(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({head:e,body:t}){return new this(t,new v4(e))}constructor(e,t){super(e),this.headSnapshot=t}clone(){let e=this.element.cloneNode(!0),t=this.element.querySelectorAll("select"),n=e.querySelectorAll("select");for(let[i,a]of t.entries()){let l=n[i];for(let h of l.selectedOptions)h.selected=!1;for(let h of a.selectedOptions)l.options[h.index].selected=!0}for(let i of e.querySelectorAll('input[type="password"]'))i.value="";return new kh(e,this.headSnapshot)}get headElement(){return this.headSnapshot.element}get rootLocation(){var e;let t=(e=this.getSetting("root"))!==null&&e!==void 0?e:"/";return xf(t)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}};(function(r){r.visitStart="visitStart",r.requestStart="requestStart",r.requestEnd="requestEnd",r.visitEnd="visitEnd"})(T_||(T_={}));(function(r){r.initialized="initialized",r.started="started",r.canceled="canceled",r.failed="failed",r.completed="completed"})(Up||(Up={}));cft={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1};(function(r){r[r.networkFailure=0]="networkFailure",r[r.timeoutFailure=-1]="timeoutFailure",r[r.contentTypeMismatch=-2]="contentTypeMismatch"})(Qv||(Qv={}));y4=class{constructor(e,t,n,i={}){this.identifier=k_(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.shouldCacheSnapshot=!0,this.acceptsStreamResponse=!1,this.snapshotCached=!1,this.state=Up.initialized,this.delegate=e,this.location=t,this.restorationIdentifier=n||k_();let{action:a,historyChanged:l,referrer:h,snapshot:g,snapshotHTML:w,response:C,visitCachedSnapshot:D,willRender:F,updateHistory:z,shouldCacheSnapshot:Y,acceptsStreamResponse:$}=Object.assign(Object.assign({},cft),i);this.action=a,this.historyChanged=l,this.referrer=h,this.snapshot=g,this.snapshotHTML=w,this.response=C,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.visitCachedSnapshot=D,this.willRender=F,this.updateHistory=z,this.scrolled=!F,this.shouldCacheSnapshot=Y,this.acceptsStreamResponse=$}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==Up.initialized&&(this.recordTimingMetric(T_.visitStart),this.state=Up.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==Up.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=Up.canceled)}complete(){this.state==Up.started&&(this.recordTimingMetric(T_.visitEnd),this.state=Up.completed,this.followRedirect(),this.followedRedirect||(this.adapter.visitCompleted(this),this.delegate.visitCompleted(this)))}fail(){this.state==Up.started&&(this.state=Up.failed,this.adapter.visitFailed(this))}changeHistory(){var e;if(!this.historyChanged&&this.updateHistory){let t=this.location.href===((e=this.referrer)===null||e===void 0?void 0:e.href)?"replace":this.action,n=ode(t);this.history.update(n,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new NT(this,Eh.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(T_.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){let{statusCode:t}=e;Jhe(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}}finishRequest(){this.recordTimingMetric(T_.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){let{statusCode:e,responseHTML:t}=this.response;this.render(async()=>{this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,Jhe(e)&&t!=null?(await this.view.renderPage(kh.fromHTMLString(t),!1,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),this.complete()):(await this.view.renderError(kh.fromHTMLString(t),this),this.adapter.visitRendered(this),this.fail())})}}getCachedSnapshot(){let e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!Db(this.location)||e.hasAnchor(Db(this.location)))&&(this.action=="restore"||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return kh.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){let e=this.getCachedSnapshot();if(e){let t=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.view.renderPage(e,t,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),t||this.complete())})}}followRedirect(){var e;this.redirectedToLocation&&!this.followedRedirect&&((e=this.response)===null||e===void 0?void 0:e.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(e){this.acceptsStreamResponse&&e.acceptResponseType(Fg.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,t){}async requestSucceededWithResponse(e,t){let n=await t.responseHTML,{redirected:i,statusCode:a}=t;n==null?this.recordResponse({statusCode:Qv.contentTypeMismatch,redirected:i}):(this.redirectedToLocation=t.redirected?t.location:void 0,this.recordResponse({statusCode:a,responseHTML:n,redirected:i}))}async requestFailedWithResponse(e,t){let n=await t.responseHTML,{redirected:i,statusCode:a}=t;n==null?this.recordResponse({statusCode:Qv.contentTypeMismatch,redirected:i}):this.recordResponse({statusCode:a,responseHTML:n,redirected:i})}requestErrored(e,t){this.recordResponse({statusCode:Qv.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){let{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){let e=Db(this.location);if(e!=null)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=new Date().getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(e){switch(e){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise(t=>{this.frame=requestAnimationFrame(()=>t())}),await e(),delete this.frame}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}};b4=class{constructor(e){this.progressBar=new jp,this.showProgressBar=()=>{this.progressBar.show()},this.session=e}visitProposedToLocation(e,t){this.navigator.startVisit(e,t?.restorationIdentifier||k_(),t)}visitStarted(e){this.location=e.location,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||e.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse()}visitRequestFailedWithStatusCode(e,t){switch(t){case Qv.networkFailure:case Qv.timeoutFailure:case Qv.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:t}});default:return e.loadResponse()}}visitRequestFinished(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitCompleted(e){}pageInvalidated(e){this.reload(e)}visitFailed(e){}visitRendered(e){}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(e){var t;Yc("turbo:reload",{detail:e}),window.location.href=((t=this.location)===null||t===void 0?void 0:t.toString())||window.location.href}get navigator(){return this.session.navigator}},x4=class{constructor(){this.selector="[data-turbo-temporary]",this.deprecatedSelector="[data-turbo-cache=false]",this.started=!1,this.removeTemporaryElements=e=>{for(let t of this.temporaryElements)t.remove()}}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){let e=document.querySelectorAll(this.deprecatedSelector);return e.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...e]}},_4=class{constructor(e,t){this.session=e,this.element=t,this.linkInterceptor=new xI(this,t),this.formSubmitObserver=new BT(this,t)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,t,n){return this.shouldRedirect(e)}linkClickIntercepted(e,t,n){let i=this.findFrameElement(e);i&&i.delegate.linkClickIntercepted(e,t,n)}willSubmitForm(e,t){return e.closest("turbo-frame")==null&&this.shouldSubmit(e,t)&&this.shouldRedirect(e,t)}formSubmitted(e,t){let n=this.findFrameElement(e,t);n&&n.delegate.formSubmitted(e,t)}shouldSubmit(e,t){var n;let i=R4(e,t),a=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),l=xf((n=a?.content)!==null&&n!==void 0?n:"/");return this.shouldRedirect(e,t)&&E_(i,l)}shouldRedirect(e,t){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,t):this.session.elementIsNavigatable(e)){let i=this.findFrameElement(e,t);return i?i!=e.closest("turbo-frame"):!1}else return!1}findFrameElement(e,t){let n=t?.getAttribute("data-turbo-frame")||e.getAttribute("data-turbo-frame");if(n&&n!="_top"){let i=this.element.querySelector(`#${n}:not([disabled])`);if(i instanceof op)return i}}},w4=class{constructor(e){this.restorationIdentifier=k_(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=t=>{if(this.shouldHandlePopState()){let{turbo:n}=t.state||{};if(n){this.location=new URL(window.location.href);let{restorationIdentifier:i}=n;this.restorationIdentifier=i,this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location,i)}}},this.onPageLoad=async t=>{await qct(),this.pageLoaded=!0},this.delegate=e}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,t){this.update(history.pushState,e,t)}replace(e,t){this.update(history.replaceState,e,t)}update(e,t,n=k_()){let i={turbo:{restorationIdentifier:n}};e.call(history,i,"",t.href),this.location=t,this.restorationIdentifier=n}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){let{restorationIdentifier:t}=this,n=this.restorationData[t];this.restorationData[t]=Object.assign(Object.assign({},n),e)}assumeControlOfScrollRestoration(){var e;this.previousScrollRestoration||(this.previousScrollRestoration=(e=history.scrollRestoration)!==null&&e!==void 0?e:"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}},S4=class{constructor(e){this.delegate=e}proposeVisit(e,t={}){this.delegate.allowsVisitingLocationWithAction(e,t.action)&&(E_(e,this.view.snapshot.rootLocation)?this.delegate.visitProposedToLocation(e,t):window.location.href=e.toString())}startVisit(e,t,n={}){this.stop(),this.currentVisit=new y4(this,xf(e),t,Object.assign({referrer:this.location},n)),this.currentVisit.start()}submitForm(e,t){this.stop(),this.formSubmission=new Ob(this,e,t,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(e){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,t){if(e==this.formSubmission){let n=await t.responseHTML;if(n){let i=e.isSafe;i||this.view.clearSnapshotCache();let{statusCode:a,redirected:l}=t,g={action:this.getActionForFormSubmission(e),shouldCacheSnapshot:i,response:{statusCode:a,responseHTML:n,redirected:l}};this.proposeVisit(t.location,g)}}}async formSubmissionFailedWithResponse(e,t){let n=await t.responseHTML;if(n){let i=kh.fromHTMLString(n);t.serverError?await this.view.renderError(i,this.currentVisit):await this.view.renderPage(i,!1,!0,this.currentVisit),this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished(e){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(e)}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e)}locationWithActionIsSamePage(e,t){let n=Db(e),i=Db(this.view.lastRenderedLocation),a=t==="restore"&&typeof n>"u";return t!=="replace"&&h4(e)===h4(this.view.lastRenderedLocation)&&(a||n!=null&&n!==i)}visitScrolledToSamePageLocation(e,t){this.delegate.visitScrolledToSamePageLocation(e,t)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}getActionForFormSubmission({submitter:e,formElement:t}){return kI(e,t)||"advance"}};(function(r){r[r.initial=0]="initial",r[r.loading=1]="loading",r[r.interactive=2]="interactive",r[r.complete=3]="complete"})(Pg||(Pg={}));T4=class{constructor(e){this.stage=Pg.initial,this.started=!1,this.interpretReadyState=()=>{let{readyState:t}=this;t=="interactive"?this.pageIsInteractive():t=="complete"&&this.pageIsComplete()},this.pageWillUnload=()=>{this.delegate.pageWillUnload()},this.delegate=e}start(){this.started||(this.stage==Pg.initial&&(this.stage=Pg.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==Pg.loading&&(this.stage=Pg.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==Pg.interactive&&(this.stage=Pg.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}},E4=class{constructor(e){this.started=!1,this.onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(e){this.delegate.scrollPositionChanged(e)}},k4=class{render({fragment:e}){SI.preservingPermanentElements(this,fft(e),()=>document.documentElement.appendChild(e))}enteringBardo(e,t){t.replaceWith(e.cloneNode(!0))}leavingBardo(){}};C4=class{constructor(e){this.sources=new Set,this.started=!1,this.inspectFetchResponse=t=>{let n=hft(t);n&&dft(n)&&(t.preventDefault(),this.receiveMessageResponse(n))},this.receiveMessageEvent=t=>{this.started&&typeof t.data=="string"&&this.receiveMessageHTML(t.data)},this.delegate=e}start(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}async receiveMessageResponse(e){let t=await e.responseHTML;t&&this.receiveMessageHTML(t)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(Fg.wrap(e))}};TI=class extends zT{static renderElement(e,t){let{documentElement:n,body:i}=document;n.replaceChild(t,i)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){let{documentElement:e,head:t}=document;e.replaceChild(this.newHead,t),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(let e of this.scriptElements){let t=e.parentNode;if(t){let n=qT(e);t.replaceChild(n,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}},D_=class extends zT{static renderElement(e,t){document.body&&t instanceof HTMLBodyElement?document.body.replaceWith(t):document.documentElement.appendChild(t)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){let e=this.mergeProvisionalElements(),t=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await e,await t}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){let e=[];for(let t of this.newHeadStylesheetElements)e.push(zct(t)),document.head.appendChild(t);await Promise.all(e)}copyNewHeadScriptElements(){for(let e of this.newHeadScriptElements)document.head.appendChild(qT(e))}async mergeProvisionalElements(){let e=[...this.newHeadProvisionalElements];for(let t of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(t,e)||document.head.removeChild(t);for(let t of e)document.head.appendChild(t)}isCurrentElementInElementList(e,t){for(let[n,i]of t.entries()){if(e.tagName=="TITLE"){if(i.tagName!="TITLE")continue;if(e.innerHTML==i.innerHTML)return t.splice(n,1),!0}if(i.isEqualNode(e))return t.splice(n,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(let e of this.currentHeadProvisionalElements)document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(let e of this.newHeadProvisionalElements)document.head.appendChild(e)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(let e of this.newBodyScriptElements){let t=qT(e);e.replaceWith(t)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}},A4=class{constructor(e){this.keys=[],this.snapshots={},this.size=e}has(e){return pI(e)in this.snapshots}get(e){if(this.has(e)){let t=this.read(e);return this.touch(e),t}}put(e,t){return this.write(e,t),this.touch(e),t}clear(){this.snapshots={}}read(e){return this.snapshots[pI(e)]}write(e,t){this.snapshots[pI(e)]=t}touch(e){let t=pI(e),n=this.keys.indexOf(t);n>-1&&this.keys.splice(n,1),this.keys.unshift(t),this.trim()}trim(){for(let e of this.keys.splice(this.size))delete this.snapshots[e]}},D4=class extends bI{constructor(){super(...arguments),this.snapshotCache=new A4(10),this.lastRenderedLocation=new URL(location.href),this.forceReloaded=!1}renderPage(e,t=!1,n=!0,i){let a=new D_(this.snapshot,e,D_.renderElement,t,n);return a.shouldRender?i?.changeHistory():this.forceReloaded=!0,this.render(a)}renderError(e,t){t?.changeHistory();let n=new TI(this.snapshot,e,TI.renderElement,!1);return this.render(n)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(e=this.snapshot){if(e.isCacheable){this.delegate.viewWillCacheSnapshot();let{lastRenderedLocation:t}=this;await Fct();let n=e.clone();return this.snapshotCache.put(t,n),n}}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}get snapshot(){return kh.fromElement(this.element)}},O4=class{constructor(e){this.selector="a[data-turbo-preload]",this.delegate=e}get snapshotCache(){return this.delegate.navigator.view.snapshotCache}start(){if(document.readyState==="loading")return document.addEventListener("DOMContentLoaded",()=>{this.preloadOnLoadLinksForView(document.body)});this.preloadOnLoadLinksForView(document.body)}preloadOnLoadLinksForView(e){for(let t of e.querySelectorAll(this.selector))this.preloadURL(t)}async preloadURL(e){let t=new URL(e.href);if(!this.snapshotCache.has(t))try{let i=await(await fetch(t.toString(),{headers:{"VND.PREFETCH":"true",Accept:"text/html"}})).text(),a=kh.fromHTMLString(i);this.snapshotCache.put(t,a)}catch{}}},I4=class{constructor(){this.navigator=new S4(this),this.history=new w4(this),this.preloader=new O4(this),this.view=new D4(this,document.documentElement),this.adapter=new b4(this),this.pageObserver=new T4(this),this.cacheObserver=new x4,this.linkClickObserver=new _I(this,window),this.formSubmitObserver=new BT(this,document),this.scrollObserver=new E4(this),this.streamObserver=new C4(this),this.formLinkClickObserver=new wI(this,document.documentElement),this.frameRedirector=new _4(this,document.documentElement),this.streamMessageRenderer=new k4,this.drive=!0,this.enabled=!0,this.progressBarDelay=500,this.started=!1,this.formMode="on"}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,t={}){let n=t.frame?document.getElementById(t.frame):null;n instanceof op?(n.src=e.toString(),n.loaded):this.navigator.proposeVisit(xf(e),t)}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(Fg.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){this.progressBarDelay=e}setFormMode(e){this.formMode=e}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(e,t){this.enabled?this.navigator.startVisit(e,t,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,t){return this.elementIsNavigatable(e)&&E_(t,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}willFollowLinkToLocation(e,t,n){return this.elementIsNavigatable(e)&&E_(t,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,t,n)}followedLinkToLocation(e,t){let n=this.getActionForLink(e),i=e.hasAttribute("data-turbo-stream");this.visit(t.href,{action:n,acceptsStreamResponse:i})}allowsVisitingLocationWithAction(e,t){return this.locationWithActionIsSamePage(e,t)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,t){Qhe(e),this.adapter.visitProposedToLocation(e,t)}visitStarted(e){e.acceptsStreamResponse||d4(document.documentElement),Qhe(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){p4(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,t){return this.navigator.locationWithActionIsSamePage(e,t)}visitScrolledToSamePageLocation(e,t){this.notifyApplicationAfterVisitingSamePageLocation(e,t)}willSubmitForm(e,t){let n=R4(e,t);return this.submissionIsNavigatable(e,t)&&E_(xf(n),this.snapshot.rootLocation)}formSubmitted(e,t){this.navigator.submitForm(e,t)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){var e;!((e=this.navigator.currentVisit)===null||e===void 0)&&e.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},t){let n=this.notifyApplicationBeforeRender(e,t),{defaultPrevented:i,detail:{render:a}}=n;return this.view.renderer&&a&&(this.view.renderer.renderElement=a),!i}viewRenderedSnapshot(e,t){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,t){this.notifyApplicationAfterFrameRender(e,t)}applicationAllowsFollowingLinkToLocation(e,t,n){return!this.notifyApplicationAfterClickingLinkToLocation(e,t,n).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,t,n){return Yc("turbo:click",{target:e,detail:{url:t.href,originalEvent:n},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return Yc("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,t){return Yc("turbo:visit",{detail:{url:e.href,action:t}})}notifyApplicationBeforeCachingSnapshot(){return Yc("turbo:before-cache")}notifyApplicationBeforeRender(e,t){return Yc("turbo:before-render",{detail:Object.assign({newBody:e},t),cancelable:!0})}notifyApplicationAfterRender(){return Yc("turbo:render")}notifyApplicationAfterPageLoad(e={}){return Yc("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,t){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:t.toString()}))}notifyApplicationAfterFrameLoad(e){return Yc("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,t){return Yc("turbo:frame-render",{detail:{fetchResponse:e},target:t,cancelable:!0})}submissionIsNavigatable(e,t){if(this.formMode=="off")return!1;{let n=t?this.elementIsNavigatable(t):!0;return this.formMode=="optin"?n&&e.closest('[data-turbo="true"]')!=null:n&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){let t=yI(e,"[data-turbo]"),n=yI(e,"turbo-frame");return this.drive||n?t?t.getAttribute("data-turbo")!="false":!0:t?t.getAttribute("data-turbo")=="true":!1}getActionForLink(e){return kI(e)||"advance"}get snapshot(){return this.view.snapshot}};pft={absoluteURL:{get(){return this.toString()}}},M4=class{constructor(e){this.session=e}clear(){this.session.clearCache()}resetCacheControl(){this.setCacheControl("")}exemptPageFromCache(){this.setCacheControl("no-cache")}exemptPageFromPreview(){this.setCacheControl("no-preview")}setCacheControl(e){jct("turbo-cache-control",e)}},Ib={after(){this.targetElements.forEach(r=>{var e;return(e=r.parentElement)===null||e===void 0?void 0:e.insertBefore(this.templateContent,r.nextSibling)})},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(r=>r.append(this.templateContent))},before(){this.targetElements.forEach(r=>{var e;return(e=r.parentElement)===null||e===void 0?void 0:e.insertBefore(this.templateContent,r)})},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(r=>r.prepend(this.templateContent))},remove(){this.targetElements.forEach(r=>r.remove())},replace(){this.targetElements.forEach(r=>r.replaceWith(this.templateContent))},update(){this.targetElements.forEach(r=>{r.innerHTML="",r.append(this.templateContent)})}},al=new I4,ude=new M4(al),{navigator:cde}=al;mft=Object.freeze({__proto__:null,navigator:cde,session:al,cache:ude,PageRenderer:D_,PageSnapshot:kh,FrameRenderer:A_,start:F4,registerAdapter:fde,visit:hde,connectStreamSource:UT,disconnectStreamSource:jT,renderStreamMessage:dde,clearCache:pde,setProgressBarDelay:mde,setConfirmMethod:gde,setFormMode:vde,StreamActions:Ib}),L4=class extends Error{},P4=class{constructor(e){this.fetchResponseLoaded=t=>{},this.currentFetchRequest=null,this.resolveVisitPromise=()=>{},this.connected=!1,this.hasBeenLoaded=!1,this.ignoredAttributes=new Set,this.action=null,this.visitCachedSnapshot=({element:t})=>{let n=t.querySelector("#"+this.element.id);n&&this.previousFrameElement&&n.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement},this.element=e,this.view=new g4(this,this.element),this.appearanceObserver=new m4(this,this.element),this.formLinkClickObserver=new wI(this,this.element),this.linkInterceptor=new xI(this,this.element),this.restorationIdentifier=k_(),this.formSubmitObserver=new BT(this,this.element)}connect(){this.connected||(this.connected=!0,this.loadingStyle==Rg.lazy?this.appearanceObserver.start():this.loadSourceURL(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.connected&&(this.connected=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==Rg.eager&&this.loadSourceURL()}sourceURLChanged(){this.isIgnoringChangesTo("src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==Rg.eager||this.hasBeenLoaded)&&this.loadSourceURL())}sourceURLReloaded(){let{src:e}=this.element;return this.ignoringChangesToAttribute("complete",()=>{this.element.removeAttribute("complete")}),this.element.src=null,this.element.src=e,this.element.loaded}completeChanged(){this.isIgnoringChangesTo("complete")||this.loadSourceURL()}loadingStyleChanged(){this.loadingStyle==Rg.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())}async loadSourceURL(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.visit(xf(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.hasBeenLoaded=!0)}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{let t=await e.responseHTML;if(t){let n=nde(t);kh.fromDocument(n).isVisitable?await this.loadFrameResponse(e,n):await this.handleUnvisitableFrameResponse(e)}}finally{this.fetchResponseLoaded=()=>{}}}elementAppearedInViewport(e){this.proposeVisitIfNavigatedWithAction(e,e),this.loadSourceURL()}willSubmitFormLinkToLocation(e){return this.shouldInterceptNavigation(e)}submittedFormLinkToLocation(e,t,n){let i=this.findFrameElement(e);i&&n.setAttribute("data-turbo-frame",i.id)}shouldInterceptLinkClick(e,t,n){return this.shouldInterceptNavigation(e)}linkClickIntercepted(e,t){this.navigateFrame(e,t)}willSubmitForm(e,t){return e.closest("turbo-frame")==this.element&&this.shouldInterceptNavigation(e,t)}formSubmitted(e,t){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new Ob(this,e,t);let{fetchRequest:n}=this.formSubmission;this.prepareRequest(n),this.formSubmission.start()}prepareRequest(e){var t;e.headers["Turbo-Frame"]=this.id,!((t=this.currentNavigationElement)===null||t===void 0)&&t.hasAttribute("data-turbo-stream")&&e.acceptResponseType(Fg.contentType)}requestStarted(e){d4(this.element)}requestPreventedHandlingResponse(e,t){this.resolveVisitPromise()}async requestSucceededWithResponse(e,t){await this.loadResponse(t),this.resolveVisitPromise()}async requestFailedWithResponse(e,t){await this.loadResponse(t),this.resolveVisitPromise()}requestErrored(e,t){console.error(t),this.resolveVisitPromise()}requestFinished(e){p4(this.element)}formSubmissionStarted({formElement:e}){d4(e,this.findFrameElement(e))}formSubmissionSucceededWithResponse(e,t){let n=this.findFrameElement(e.formElement,e.submitter);n.delegate.proposeVisitIfNavigatedWithAction(n,e.formElement,e.submitter),n.delegate.loadResponse(t),e.isSafe||al.clearCache()}formSubmissionFailedWithResponse(e,t){this.element.delegate.loadResponse(t),al.clearCache()}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished({formElement:e}){p4(e,this.findFrameElement(e))}allowsImmediateRender({element:e},t){let n=Yc("turbo:before-frame-render",{target:this.element,detail:Object.assign({newFrame:e},t),cancelable:!0}),{defaultPrevented:i,detail:{render:a}}=n;return this.view.renderer&&a&&(this.view.renderer.renderElement=a),!i}viewRenderedSnapshot(e,t){}preloadOnLoadLinksForView(e){al.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,t){this.previousFrameElement=e.cloneNode(!0)}async loadFrameResponse(e,t){let n=await this.extractForeignFrameElement(t.body);if(n){let i=new C_(n),a=new A_(this,this.view.snapshot,i,A_.renderElement,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(a),this.complete=!0,al.frameRendered(e,this.element),al.frameLoaded(this.element),this.fetchResponseLoaded(e)}else this.willHandleFrameMissingFromResponse(e)&&this.handleFrameMissingFromResponse(e)}async visit(e){var t;let n=new NT(this,Eh.get,e,new URLSearchParams,this.element);return(t=this.currentFetchRequest)===null||t===void 0||t.cancel(),this.currentFetchRequest=n,new Promise(i=>{this.resolveVisitPromise=()=>{this.resolveVisitPromise=()=>{},this.currentFetchRequest=null,i()},n.perform()})}navigateFrame(e,t,n){let i=this.findFrameElement(e,n);i.delegate.proposeVisitIfNavigatedWithAction(i,e,n),this.withCurrentNavigationElement(e,()=>{i.src=t})}proposeVisitIfNavigatedWithAction(e,t,n){if(this.action=kI(n,t,e),this.action){let i=kh.fromElement(e).clone(),{visitCachedSnapshot:a}=e.delegate;e.delegate.fetchResponseLoaded=l=>{if(e.src){let{statusCode:h,redirected:g}=l,w=e.ownerDocument.documentElement.outerHTML,D={response:{statusCode:h,redirected:g,responseHTML:w},visitCachedSnapshot:a,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:i};this.action&&(D.action=this.action),al.visit(e.src,D)}}}}changeHistory(){if(this.action){let e=ode(this.action);al.history.update(e,xf(this.element.src||""),this.restorationIdentifier)}}async handleUnvisitableFrameResponse(e){console.warn(`The response (${e.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await this.visitResponse(e.response)}willHandleFrameMissingFromResponse(e){this.element.setAttribute("complete","");let t=e.response,n=async(a,l={})=>{a instanceof Response?this.visitResponse(a):al.visit(a,l)};return!Yc("turbo:frame-missing",{target:this.element,detail:{response:t,visit:n},cancelable:!0}).defaultPrevented}handleFrameMissingFromResponse(e){this.view.missing(),this.throwFrameMissingError(e)}throwFrameMissingError(e){let t=`The response (${e.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new L4(t)}async visitResponse(e){let t=new FT(e),n=await t.responseHTML,{location:i,redirected:a,statusCode:l}=t;return al.visit(i,{response:{redirected:a,statusCode:l,responseHTML:n}})}findFrameElement(e,t){var n;let i=gI("data-turbo-frame",t,e)||this.element.getAttribute("target");return(n=ede(i))!==null&&n!==void 0?n:this.element}async extractForeignFrameElement(e){let t,n=CSS.escape(this.id);try{if(t=tde(e.querySelector(`turbo-frame#${n}`),this.sourceURL),t)return t;if(t=tde(e.querySelector(`turbo-frame[src][recurse~=${n}]`),this.sourceURL),t)return await t.loaded,await this.extractForeignFrameElement(t)}catch(i){return console.error(i),new op}return null}formActionIsVisitable(e,t){let n=R4(e,t);return E_(xf(n),this.rootLocation)}shouldInterceptNavigation(e,t){let n=gI("data-turbo-frame",t,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!this.formActionIsVisitable(e,t)||!this.enabled||n=="_top")return!1;if(n){let i=ede(n);if(i)return!i.disabled}return!(!al.elementIsNavigatable(e)||t&&!al.elementIsNavigatable(t))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){this.ignoringChangesToAttribute("src",()=>{this.element.src=e??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.resolveVisitPromise()!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(e){this.ignoringChangesToAttribute("complete",()=>{e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")})}get isActive(){return this.element.isActive&&this.connected}get rootLocation(){var e;let t=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),n=(e=t?.content)!==null&&e!==void 0?e:"/";return xf(n)}isIgnoringChangesTo(e){return this.ignoredAttributes.has(e)}ignoringChangesToAttribute(e,t){this.ignoredAttributes.add(e),t(),this.ignoredAttributes.delete(e)}withCurrentNavigationElement(e,t){this.currentNavigationElement=e,t(),delete this.currentNavigationElement}};O_=class extends HTMLElement{static async renderElement(e){await e.performAction()}async connectedCallback(){try{await this.render()}catch(e){console.error(e)}finally{this.disconnect()}}async render(){var e;return(e=this.renderPromise)!==null&&e!==void 0?e:this.renderPromise=(async()=>{let t=this.beforeRenderEvent;this.dispatchEvent(t)&&(await mI(),await t.detail.render(this))})()}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(e=>e.remove())}get duplicateChildren(){var e;let t=this.targetElements.flatMap(i=>[...i.children]).filter(i=>!!i.id),n=[...((e=this.templateContent)===null||e===void 0?void 0:e.children)||[]].filter(i=>!!i.id).map(i=>i.id);return t.filter(i=>n.includes(i.id))}get performAction(){if(this.action){let e=Ib[this.action];if(e)return e;this.raise("unknown action")}this.raise("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;this.raise("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){let e=this.ownerDocument.createElement("template");return this.appendChild(e),e}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}raise(e){throw new Error(`${this.description}: ${e}`)}get description(){var e,t;return(t=((e=this.outerHTML.match(/<[^>]+>/))!==null&&e!==void 0?e:[])[0])!==null&&t!==void 0?t:"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:O_.renderElement}})}get targetElementsById(){var e;let t=(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.target);return t!==null?[t]:[]}get targetElementsByQuery(){var e;let t=(e=this.ownerDocument)===null||e===void 0?void 0:e.querySelectorAll(this.targets);return t.length!==0?Array.prototype.slice.call(t):[]}},EI=class extends HTMLElement{constructor(){super(...arguments),this.streamSource=null}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),UT(this.streamSource)}disconnectedCallback(){this.streamSource&&jT(this.streamSource)}get src(){return this.getAttribute("src")||""}};op.delegateConstructor=P4;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",op);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",O_);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",EI);(()=>{let r=document.currentScript;if(!!r&&!r.hasAttribute("data-turbo-suppress-warning"))for(r=r.parentElement;r;){if(r==document.body)return console.warn(ide`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        ——
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,r.outerHTML);r=r.parentElement}})();window.Turbo=mft;F4()});var ey,AI=ze(()=>{ey={logger:self.console,WebSocket:self.WebSocket}});var Qa,I_=ze(()=>{AI();Qa={log(...r){this.enabled&&(r.push(Date.now()),ey.logger.log("[ActionCable]",...r))}}});var HT,DI,WT,OI,q4=ze(()=>{I_();HT=()=>new Date().getTime(),DI=r=>(HT()-r)/1e3,WT=class{constructor(e){this.visibilityDidChange=this.visibilityDidChange.bind(this),this.connection=e,this.reconnectAttempts=0}start(){this.isRunning()||(this.startedAt=HT(),delete this.stoppedAt,this.startPolling(),addEventListener("visibilitychange",this.visibilityDidChange),Qa.log(`ConnectionMonitor started. stale threshold = ${this.constructor.staleThreshold} s`))}stop(){this.isRunning()&&(this.stoppedAt=HT(),this.stopPolling(),removeEventListener("visibilitychange",this.visibilityDidChange),Qa.log("ConnectionMonitor stopped"))}isRunning(){return this.startedAt&&!this.stoppedAt}recordPing(){this.pingedAt=HT()}recordConnect(){this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,Qa.log("ConnectionMonitor recorded connect")}recordDisconnect(){this.disconnectedAt=HT(),Qa.log("ConnectionMonitor recorded disconnect")}startPolling(){this.stopPolling(),this.poll()}stopPolling(){clearTimeout(this.pollTimeout)}poll(){this.pollTimeout=setTimeout(()=>{this.reconnectIfStale(),this.poll()},this.getPollInterval())}getPollInterval(){let{staleThreshold:e,reconnectionBackoffRate:t}=this.constructor,n=Math.pow(1+t,Math.min(this.reconnectAttempts,10)),a=(this.reconnectAttempts===0?1:t)*Math.random();return e*1e3*n*(1+a)}reconnectIfStale(){this.connectionIsStale()&&(Qa.log(`ConnectionMonitor detected stale connection. reconnectAttempts = ${this.reconnectAttempts}, time stale = ${DI(this.refreshedAt)} s, stale threshold = ${this.constructor.staleThreshold} s`),this.reconnectAttempts++,this.disconnectedRecently()?Qa.log(`ConnectionMonitor skipping reopening recent disconnect. time disconnected = ${DI(this.disconnectedAt)} s`):(Qa.log("ConnectionMonitor reopening"),this.connection.reopen()))}get refreshedAt(){return this.pingedAt?this.pingedAt:this.startedAt}connectionIsStale(){return DI(this.refreshedAt)>this.constructor.staleThreshold}disconnectedRecently(){return this.disconnectedAt&&DI(this.disconnectedAt)<this.constructor.staleThreshold}visibilityDidChange(){document.visibilityState==="visible"&&setTimeout(()=>{(this.connectionIsStale()||!this.connection.isOpen())&&(Qa.log(`ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ${document.visibilityState}`),this.connection.reopen())},200)}};WT.staleThreshold=6;WT.reconnectionBackoffRate=.15;OI=WT});var VT,N4=ze(()=>{VT={message_types:{welcome:"welcome",disconnect:"disconnect",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},disconnect_reasons:{unauthorized:"unauthorized",invalid_request:"invalid_request",server_restart:"server_restart"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]}});var $T,II,gft,yde,GT,MI,B4=ze(()=>{AI();q4();N4();I_();({message_types:$T,protocols:II}=VT),gft=II.slice(0,II.length-1),yde=[].indexOf,GT=class{constructor(e){this.open=this.open.bind(this),this.consumer=e,this.subscriptions=this.consumer.subscriptions,this.monitor=new OI(this),this.disconnected=!0}send(e){return this.isOpen()?(this.webSocket.send(JSON.stringify(e)),!0):!1}open(){return this.isActive()?(Qa.log(`Attempted to open WebSocket, but existing socket is ${this.getState()}`),!1):(Qa.log(`Opening WebSocket, current state is ${this.getState()}, subprotocols: ${II}`),this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new ey.WebSocket(this.consumer.url,II),this.installEventHandlers(),this.monitor.start(),!0)}close({allowReconnect:e}={allowReconnect:!0}){if(e||this.monitor.stop(),this.isOpen())return this.webSocket.close()}reopen(){if(Qa.log(`Reopening WebSocket, current state is ${this.getState()}`),this.isActive())try{return this.close()}catch(e){Qa.log("Failed to reopen WebSocket",e)}finally{Qa.log(`Reopening WebSocket in ${this.constructor.reopenDelay}ms`),setTimeout(this.open,this.constructor.reopenDelay)}else return this.open()}getProtocol(){if(this.webSocket)return this.webSocket.protocol}isOpen(){return this.isState("open")}isActive(){return this.isState("open","connecting")}isProtocolSupported(){return yde.call(gft,this.getProtocol())>=0}isState(...e){return yde.call(e,this.getState())>=0}getState(){if(this.webSocket){for(let e in ey.WebSocket)if(ey.WebSocket[e]===this.webSocket.readyState)return e.toLowerCase()}return null}installEventHandlers(){for(let e in this.events){let t=this.events[e].bind(this);this.webSocket[`on${e}`]=t}}uninstallEventHandlers(){for(let e in this.events)this.webSocket[`on${e}`]=function(){}}};GT.reopenDelay=500;GT.prototype.events={message(r){if(!this.isProtocolSupported())return;let{identifier:e,message:t,reason:n,reconnect:i,type:a}=JSON.parse(r.data);switch(a){case $T.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case $T.disconnect:return Qa.log(`Disconnecting. Reason: ${n}`),this.close({allowReconnect:i});case $T.ping:return this.monitor.recordPing();case $T.confirmation:return this.subscriptions.confirmSubscription(e),this.subscriptions.notify(e,"connected");case $T.rejection:return this.subscriptions.reject(e);default:return this.subscriptions.notify(e,"received",t)}},open(){if(Qa.log(`WebSocket onopen event, using '${this.getProtocol()}' subprotocol`),this.disconnected=!1,!this.isProtocolSupported())return Qa.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close(r){if(Qa.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error(){Qa.log("WebSocket onerror event")}};MI=GT});var vft,Lb,z4=ze(()=>{vft=function(r,e){if(e!=null)for(let t in e){let n=e[t];r[t]=n}return r},Lb=class{constructor(e,t={},n){this.consumer=e,this.identifier=JSON.stringify(t),vft(this,n)}perform(e,t={}){return t.action=e,this.send(t)}send(e){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(e)})}unsubscribe(){return this.consumer.subscriptions.remove(this)}}});var U4,LI,j4=ze(()=>{I_();U4=class{constructor(e){this.subscriptions=e,this.pendingSubscriptions=[]}guarantee(e){this.pendingSubscriptions.indexOf(e)==-1?(Qa.log(`SubscriptionGuarantor guaranteeing ${e.identifier}`),this.pendingSubscriptions.push(e)):Qa.log(`SubscriptionGuarantor already guaranteeing ${e.identifier}`),this.startGuaranteeing()}forget(e){Qa.log(`SubscriptionGuarantor forgetting ${e.identifier}`),this.pendingSubscriptions=this.pendingSubscriptions.filter(t=>t!==e)}startGuaranteeing(){this.stopGuaranteeing(),this.retrySubscribing()}stopGuaranteeing(){clearTimeout(this.retryTimeout)}retrySubscribing(){this.retryTimeout=setTimeout(()=>{this.subscriptions&&typeof this.subscriptions.subscribe=="function"&&this.pendingSubscriptions.map(e=>{Qa.log(`SubscriptionGuarantor resubscribing ${e.identifier}`),this.subscriptions.subscribe(e)})},500)}},LI=U4});var Pb,H4=ze(()=>{z4();j4();I_();Pb=class{constructor(e){this.consumer=e,this.guarantor=new LI(this),this.subscriptions=[]}create(e,t){let n=e,i=typeof n=="object"?n:{channel:n},a=new Lb(this.consumer,i,t);return this.add(a)}add(e){return this.subscriptions.push(e),this.consumer.ensureActiveConnection(),this.notify(e,"initialized"),this.subscribe(e),e}remove(e){return this.forget(e),this.findAll(e.identifier).length||this.sendCommand(e,"unsubscribe"),e}reject(e){return this.findAll(e).map(t=>(this.forget(t),this.notify(t,"rejected"),t))}forget(e){return this.guarantor.forget(e),this.subscriptions=this.subscriptions.filter(t=>t!==e),e}findAll(e){return this.subscriptions.filter(t=>t.identifier===e)}reload(){return this.subscriptions.map(e=>this.subscribe(e))}notifyAll(e,...t){return this.subscriptions.map(n=>this.notify(n,e,...t))}notify(e,t,...n){let i;return typeof e=="string"?i=this.findAll(e):i=[e],i.map(a=>typeof a[t]=="function"?a[t](...n):void 0)}subscribe(e){this.sendCommand(e,"subscribe")&&this.guarantor.guarantee(e)}confirmSubscription(e){Qa.log(`Subscription confirmed ${e}`),this.findAll(e).map(t=>this.guarantor.forget(t))}sendCommand(e,t){let{identifier:n}=e;return this.consumer.send({command:t,identifier:n})}}});function W4(r){if(typeof r=="function"&&(r=r()),r&&!/^wss?:/i.test(r)){let e=document.createElement("a");return e.href=r,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href}else return r}var M_,bde=ze(()=>{B4();H4();M_=class{constructor(e){this._url=e,this.subscriptions=new Pb(this),this.connection=new MI(this)}get url(){return W4(this._url)}send(e){return this.connection.send(e)}connect(){return this.connection.open()}disconnect(){return this.connection.close({allowReconnect:!1})}ensureActiveConnection(){if(!this.connection.isActive())return this.connection.open()}}});var _de={};kH(_de,{Connection:()=>MI,ConnectionMonitor:()=>OI,Consumer:()=>M_,INTERNAL:()=>VT,Subscription:()=>Lb,SubscriptionGuarantor:()=>LI,Subscriptions:()=>Pb,adapters:()=>ey,createConsumer:()=>yft,createWebSocketURL:()=>W4,getConfig:()=>xde,logger:()=>Qa});function yft(r=xde("url")||VT.default_mount_path){return new M_(r)}function xde(r){let e=document.head.querySelector(`meta[name='action-cable-${r}']`);if(e)return e.getAttribute("content")}var wde=ze(()=>{B4();q4();bde();N4();z4();H4();j4();AI();I_()});async function bft(){return Tde||Sde(xft().then(Sde))}function Sde(r){return Tde=r}async function xft(){let{createConsumer:r}=await Promise.resolve().then(()=>(wde(),_de));return r()}async function Ede(r,e){let{subscriptions:t}=await bft();return t.create(r,e)}var Tde,V4=ze(()=>{});function KT(r){return!r||typeof r!="object"||r instanceof Date||r instanceof RegExp?r:Array.isArray(r)?r.map(KT):Object.keys(r).reduce(function(e,t){var n=t[0].toLowerCase()+t.slice(1).replace(/([A-Z]+)/g,function(i,a){return"_"+a.toLowerCase()});return e[n]=KT(r[t]),e},{})}var kde=ze(()=>{});var $4,Cde=ze(()=>{CI();V4();kde();$4=class extends HTMLElement{async connectedCallback(){UT(this),this.subscription=await Ede(this.channel,{received:this.dispatchMessageEvent.bind(this),connected:this.subscriptionConnected.bind(this),disconnected:this.subscriptionDisconnected.bind(this)})}disconnectedCallback(){jT(this),this.subscription&&this.subscription.unsubscribe()}dispatchMessageEvent(e){let t=new MessageEvent("message",{data:e});return this.dispatchEvent(t)}subscriptionConnected(){this.setAttribute("connected","")}subscriptionDisconnected(){this.removeAttribute("connected")}get channel(){let e=this.getAttribute("channel"),t=this.getAttribute("signed-stream-name");return{channel:e,signed_stream_name:t,...KT({...this.dataset})}}};customElements.get("turbo-cable-stream-source")===void 0&&customElements.define("turbo-cable-stream-source",$4)});function Ade(r){if(r.target instanceof HTMLFormElement){let{target:e,detail:{fetchOptions:t}}=r;e.addEventListener("turbo:submit-start",({detail:{formSubmission:{submitter:n}}})=>{let i=Tft(t.body)?t.body:new URLSearchParams,a=wft(n,i,e);/get/i.test(a)||(/post/i.test(a)?i.delete("_method"):i.set("_method",a),t.method="post")},{once:!0})}}function wft(r,e,t){let n=Sft(r),i=e.get("_method"),a=t.getAttribute("method")||"get";return typeof n=="string"?n:typeof i=="string"?i:a}function Sft(r){return(r instanceof HTMLButtonElement||r instanceof HTMLInputElement)&&r.hasAttribute("formmethod")?r.formMethod:null}function Tft(r){return r instanceof FormData||r instanceof URLSearchParams}var Dde=ze(()=>{});var G4=ze(()=>{Cde();CI();V4();Dde();addEventListener("turbo:before-fetch-request",Ade)});var nu,gc,Gu,Eu,PI,ty,qg,Rb,Ode,RI,L_,Ide,K4,FI,Eft,kft,Cft,Aft,Dft,Oft,Ift,Mft,Lft,Mde,pd=ze(()=>{nu="top",gc="bottom",Gu="right",Eu="left",PI="auto",ty=[nu,gc,Gu,Eu],qg="start",Rb="end",Ode="clippingParents",RI="viewport",L_="popper",Ide="reference",K4=ty.reduce(function(r,e){return r.concat([e+"-"+qg,e+"-"+Rb])},[]),FI=[].concat(ty,[PI]).reduce(function(r,e){return r.concat([e,e+"-"+qg,e+"-"+Rb])},[]),Eft="beforeRead",kft="read",Cft="afterRead",Aft="beforeMain",Dft="main",Oft="afterMain",Ift="beforeWrite",Mft="write",Lft="afterWrite",Mde=[Eft,kft,Cft,Aft,Dft,Oft,Ift,Mft,Lft]});function Pc(r){return r?(r.nodeName||"").toLowerCase():null}var ry=ze(()=>{});function sl(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var e=r.ownerDocument;return e&&e.defaultView||window}return r}var Hp=ze(()=>{});function ap(r){var e=sl(r).Element;return r instanceof e||r instanceof Element}function vc(r){var e=sl(r).HTMLElement;return r instanceof e||r instanceof HTMLElement}function P_(r){if(typeof ShadowRoot>"u")return!1;var e=sl(r).ShadowRoot;return r instanceof e||r instanceof ShadowRoot}var md=ze(()=>{Hp()});function Pft(r){var e=r.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},i=e.attributes[t]||{},a=e.elements[t];!vc(a)||!Pc(a)||(Object.assign(a.style,n),Object.keys(i).forEach(function(l){var h=i[l];h===!1?a.removeAttribute(l):a.setAttribute(l,h===!0?"":h)}))})}function Rft(r){var e=r.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],a=e.attributes[n]||{},l=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:t[n]),h=l.reduce(function(g,w){return g[w]="",g},{});!vc(i)||!Pc(i)||(Object.assign(i.style,h),Object.keys(a).forEach(function(g){i.removeAttribute(g)}))})}}var YT,Y4=ze(()=>{ry();md();YT={name:"applyStyles",enabled:!0,phase:"write",fn:Pft,effect:Rft,requires:["computeStyles"]}});function Rc(r){return r.split("-")[0]}var ny=ze(()=>{});var Wp,Fb,Ng,iy=ze(()=>{Wp=Math.max,Fb=Math.min,Ng=Math.round});function R_(){var r=navigator.userAgentData;return r!=null&&r.brands&&Array.isArray(r.brands)?r.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}var Z4=ze(()=>{});function ZT(){return!/^((?!chrome|android).)*safari/i.test(R_())}var X4=ze(()=>{Z4()});function sp(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=r.getBoundingClientRect(),i=1,a=1;e&&vc(r)&&(i=r.offsetWidth>0&&Ng(n.width)/r.offsetWidth||1,a=r.offsetHeight>0&&Ng(n.height)/r.offsetHeight||1);var l=ap(r)?sl(r):window,h=l.visualViewport,g=!ZT()&&t,w=(n.left+(g&&h?h.offsetLeft:0))/i,C=(n.top+(g&&h?h.offsetTop:0))/a,D=n.width/i,F=n.height/a;return{width:D,height:F,top:C,right:w+D,bottom:C+F,left:w,x:w,y:C}}var F_=ze(()=>{md();iy();Hp();X4()});function qb(r){var e=sp(r),t=r.offsetWidth,n=r.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:r.offsetLeft,y:r.offsetTop,width:t,height:n}}var qI=ze(()=>{F_()});function XT(r,e){var t=e.getRootNode&&e.getRootNode();if(r.contains(e))return!0;if(t&&P_(t)){var n=e;do{if(n&&r.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}var J4=ze(()=>{md()});function Zf(r){return sl(r).getComputedStyle(r)}var q_=ze(()=>{Hp()});function Q4(r){return["table","td","th"].indexOf(Pc(r))>=0}var Lde=ze(()=>{ry()});function Zc(r){return((ap(r)?r.ownerDocument:r.document)||window.document).documentElement}var Bg=ze(()=>{md()});function zg(r){return Pc(r)==="html"?r:r.assignedSlot||r.parentNode||(P_(r)?r.host:null)||Zc(r)}var JT=ze(()=>{ry();Bg();md()});function Pde(r){return!vc(r)||Zf(r).position==="fixed"?null:r.offsetParent}function Fft(r){var e=/firefox/i.test(R_()),t=/Trident/i.test(R_());if(t&&vc(r)){var n=Zf(r);if(n.position==="fixed")return null}var i=zg(r);for(P_(i)&&(i=i.host);vc(i)&&["html","body"].indexOf(Pc(i))<0;){var a=Zf(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Vp(r){for(var e=sl(r),t=Pde(r);t&&Q4(t)&&Zf(t).position==="static";)t=Pde(t);return t&&(Pc(t)==="html"||Pc(t)==="body"&&Zf(t).position==="static")?e:t||Fft(r)||e}var N_=ze(()=>{Hp();ry();q_();md();Lde();JT();Z4()});function Nb(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}var NI=ze(()=>{});function Bb(r,e,t){return Wp(r,Fb(e,t))}function Rde(r,e,t){var n=Bb(r,e,t);return n>t?t:n}var e6=ze(()=>{iy()});function QT(){return{top:0,right:0,bottom:0,left:0}}var t6=ze(()=>{});function eE(r){return Object.assign({},QT(),r)}var r6=ze(()=>{t6()});function tE(r,e){return e.reduce(function(t,n){return t[n]=r,t},{})}var n6=ze(()=>{});function Nft(r){var e,t=r.state,n=r.name,i=r.options,a=t.elements.arrow,l=t.modifiersData.popperOffsets,h=Rc(t.placement),g=Nb(h),w=[Eu,Gu].indexOf(h)>=0,C=w?"height":"width";if(!(!a||!l)){var D=qft(i.padding,t),F=qb(a),z=g==="y"?nu:Eu,Y=g==="y"?gc:Gu,$=t.rects.reference[C]+t.rects.reference[g]-l[g]-t.rects.popper[C],re=l[g]-t.rects.reference[g],oe=Vp(a),ne=oe?g==="y"?oe.clientHeight||0:oe.clientWidth||0:0,he=$/2-re/2,_=D[z],ge=ne-F[C]-D[Y],fe=ne/2-F[C]/2+he,me=Bb(_,fe,ge),we=g;t.modifiersData[n]=(e={},e[we]=me,e.centerOffset=me-fe,e)}}function Bft(r){var e=r.state,t=r.options,n=t.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!XT(e.elements.popper,i)||(e.elements.arrow=i))}var qft,Fde,qde=ze(()=>{ny();qI();J4();N_();NI();e6();r6();n6();pd();qft=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,eE(typeof e!="number"?e:tE(e,ty))};Fde={name:"arrow",enabled:!0,phase:"main",fn:Nft,effect:Bft,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}});function lp(r){return r.split("-")[1]}var B_=ze(()=>{});function Uft(r,e){var t=r.x,n=r.y,i=e.devicePixelRatio||1;return{x:Ng(t*i)/i||0,y:Ng(n*i)/i||0}}function Nde(r){var e,t=r.popper,n=r.popperRect,i=r.placement,a=r.variation,l=r.offsets,h=r.position,g=r.gpuAcceleration,w=r.adaptive,C=r.roundOffsets,D=r.isFixed,F=l.x,z=F===void 0?0:F,Y=l.y,$=Y===void 0?0:Y,re=typeof C=="function"?C({x:z,y:$}):{x:z,y:$};z=re.x,$=re.y;var oe=l.hasOwnProperty("x"),ne=l.hasOwnProperty("y"),he=Eu,_=nu,ge=window;if(w){var fe=Vp(t),me="clientHeight",we="clientWidth";if(fe===sl(t)&&(fe=Zc(t),Zf(fe).position!=="static"&&h==="absolute"&&(me="scrollHeight",we="scrollWidth")),fe=fe,i===nu||(i===Eu||i===Gu)&&a===Rb){_=gc;var Se=D&&fe===ge&&ge.visualViewport?ge.visualViewport.height:fe[me];$-=Se-n.height,$*=g?1:-1}if(i===Eu||(i===nu||i===gc)&&a===Rb){he=Gu;var be=D&&fe===ge&&ge.visualViewport?ge.visualViewport.width:fe[we];z-=be-n.width,z*=g?1:-1}}var $e=Object.assign({position:h},w&&zft),q=C===!0?Uft({x:z,y:$},sl(t)):{x:z,y:$};if(z=q.x,$=q.y,g){var ee;return Object.assign({},$e,(ee={},ee[_]=ne?"0":"",ee[he]=oe?"0":"",ee.transform=(ge.devicePixelRatio||1)<=1?"translate("+z+"px, "+$+"px)":"translate3d("+z+"px, "+$+"px, 0)",ee))}return Object.assign({},$e,(e={},e[_]=ne?$+"px":"",e[he]=oe?z+"px":"",e.transform="",e))}function jft(r){var e=r.state,t=r.options,n=t.gpuAcceleration,i=n===void 0?!0:n,a=t.adaptive,l=a===void 0?!0:a,h=t.roundOffsets,g=h===void 0?!0:h,w={placement:Rc(e.placement),variation:lp(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Nde(Object.assign({},w,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:g})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Nde(Object.assign({},w,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:g})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var zft,Bde,zde=ze(()=>{pd();N_();Hp();Bg();q_();ny();B_();iy();zft={top:"auto",right:"auto",bottom:"auto",left:"auto"};Bde={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:jft,data:{}}});function Hft(r){var e=r.state,t=r.instance,n=r.options,i=n.scroll,a=i===void 0?!0:i,l=n.resize,h=l===void 0?!0:l,g=sl(e.elements.popper),w=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&w.forEach(function(C){C.addEventListener("scroll",t.update,BI)}),h&&g.addEventListener("resize",t.update,BI),function(){a&&w.forEach(function(C){C.removeEventListener("scroll",t.update,BI)}),h&&g.removeEventListener("resize",t.update,BI)}}var BI,Ude,jde=ze(()=>{Hp();BI={passive:!0};Ude={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Hft,data:{}}});function z_(r){return r.replace(/left|right|bottom|top/g,function(e){return Wft[e]})}var Wft,Hde=ze(()=>{Wft={left:"right",right:"left",bottom:"top",top:"bottom"}});function zI(r){return r.replace(/start|end/g,function(e){return Vft[e]})}var Vft,Wde=ze(()=>{Vft={start:"end",end:"start"}});function zb(r){var e=sl(r),t=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:t,scrollTop:n}}var UI=ze(()=>{Hp()});function Ub(r){return sp(Zc(r)).left+zb(r).scrollLeft}var jI=ze(()=>{F_();Bg();UI()});function i6(r,e){var t=sl(r),n=Zc(r),i=t.visualViewport,a=n.clientWidth,l=n.clientHeight,h=0,g=0;if(i){a=i.width,l=i.height;var w=ZT();(w||!w&&e==="fixed")&&(h=i.offsetLeft,g=i.offsetTop)}return{width:a,height:l,x:h+Ub(r),y:g}}var Vde=ze(()=>{Hp();Bg();jI();X4()});function o6(r){var e,t=Zc(r),n=zb(r),i=(e=r.ownerDocument)==null?void 0:e.body,a=Wp(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=Wp(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),h=-n.scrollLeft+Ub(r),g=-n.scrollTop;return Zf(i||t).direction==="rtl"&&(h+=Wp(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:l,x:h,y:g}}var $de=ze(()=>{Bg();q_();jI();UI();iy()});function jb(r){var e=Zf(r),t=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+n)}var HI=ze(()=>{q_()});function WI(r){return["html","body","#document"].indexOf(Pc(r))>=0?r.ownerDocument.body:vc(r)&&jb(r)?r:WI(zg(r))}var Gde=ze(()=>{JT();HI();ry();md()});function oy(r,e){var t;e===void 0&&(e=[]);var n=WI(r),i=n===((t=r.ownerDocument)==null?void 0:t.body),a=sl(n),l=i?[a].concat(a.visualViewport||[],jb(n)?n:[]):n,h=e.concat(l);return i?h:h.concat(oy(zg(l)))}var a6=ze(()=>{Gde();JT();Hp();HI()});function U_(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}var s6=ze(()=>{});function $ft(r,e){var t=sp(r,!1,e==="fixed");return t.top=t.top+r.clientTop,t.left=t.left+r.clientLeft,t.bottom=t.top+r.clientHeight,t.right=t.left+r.clientWidth,t.width=r.clientWidth,t.height=r.clientHeight,t.x=t.left,t.y=t.top,t}function Kde(r,e,t){return e===RI?U_(i6(r,t)):ap(e)?$ft(e,t):U_(o6(Zc(r)))}function Gft(r){var e=oy(zg(r)),t=["absolute","fixed"].indexOf(Zf(r).position)>=0,n=t&&vc(r)?Vp(r):r;return ap(n)?e.filter(function(i){return ap(i)&&XT(i,n)&&Pc(i)!=="body"}):[]}function l6(r,e,t,n){var i=e==="clippingParents"?Gft(r):[].concat(e),a=[].concat(i,[t]),l=a[0],h=a.reduce(function(g,w){var C=Kde(r,w,n);return g.top=Wp(C.top,g.top),g.right=Fb(C.right,g.right),g.bottom=Fb(C.bottom,g.bottom),g.left=Wp(C.left,g.left),g},Kde(r,l,n));return h.width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h}var Yde=ze(()=>{pd();Vde();$de();a6();N_();Bg();q_();md();F_();JT();J4();ry();s6();iy()});function rE(r){var e=r.reference,t=r.element,n=r.placement,i=n?Rc(n):null,a=n?lp(n):null,l=e.x+e.width/2-t.width/2,h=e.y+e.height/2-t.height/2,g;switch(i){case nu:g={x:l,y:e.y-t.height};break;case gc:g={x:l,y:e.y+e.height};break;case Gu:g={x:e.x+e.width,y:h};break;case Eu:g={x:e.x-t.width,y:h};break;default:g={x:e.x,y:e.y}}var w=i?Nb(i):null;if(w!=null){var C=w==="y"?"height":"width";switch(a){case qg:g[w]=g[w]-(e[C]/2-t[C]/2);break;case Rb:g[w]=g[w]+(e[C]/2-t[C]/2);break;default:}}return g}var u6=ze(()=>{ny();B_();NI();pd()});function $p(r,e){e===void 0&&(e={});var t=e,n=t.placement,i=n===void 0?r.placement:n,a=t.strategy,l=a===void 0?r.strategy:a,h=t.boundary,g=h===void 0?Ode:h,w=t.rootBoundary,C=w===void 0?RI:w,D=t.elementContext,F=D===void 0?L_:D,z=t.altBoundary,Y=z===void 0?!1:z,$=t.padding,re=$===void 0?0:$,oe=eE(typeof re!="number"?re:tE(re,ty)),ne=F===L_?Ide:L_,he=r.rects.popper,_=r.elements[Y?ne:F],ge=l6(ap(_)?_:_.contextElement||Zc(r.elements.popper),g,C,l),fe=sp(r.elements.reference),me=rE({reference:fe,element:he,strategy:"absolute",placement:i}),we=U_(Object.assign({},he,me)),Se=F===L_?we:fe,be={top:ge.top-Se.top+oe.top,bottom:Se.bottom-ge.bottom+oe.bottom,left:ge.left-Se.left+oe.left,right:Se.right-ge.right+oe.right},$e=r.modifiersData.offset;if(F===L_&&$e){var q=$e[i];Object.keys(be).forEach(function(ee){var R=[Gu,gc].indexOf(ee)>=0?1:-1,j=[nu,gc].indexOf(ee)>=0?"y":"x";be[ee]+=q[j]*R})}return be}var nE=ze(()=>{Yde();Bg();F_();u6();s6();pd();md();r6();n6()});function c6(r,e){e===void 0&&(e={});var t=e,n=t.placement,i=t.boundary,a=t.rootBoundary,l=t.padding,h=t.flipVariations,g=t.allowedAutoPlacements,w=g===void 0?FI:g,C=lp(n),D=C?h?K4:K4.filter(function(Y){return lp(Y)===C}):ty,F=D.filter(function(Y){return w.indexOf(Y)>=0});F.length===0&&(F=D);var z=F.reduce(function(Y,$){return Y[$]=$p(r,{placement:$,boundary:i,rootBoundary:a,padding:l})[Rc($)],Y},{});return Object.keys(z).sort(function(Y,$){return z[Y]-z[$]})}var Zde=ze(()=>{B_();pd();nE();ny()});function Kft(r){if(Rc(r)===PI)return[];var e=z_(r);return[zI(r),e,zI(e)]}function Yft(r){var e=r.state,t=r.options,n=r.name;if(!e.modifiersData[n]._skip){for(var i=t.mainAxis,a=i===void 0?!0:i,l=t.altAxis,h=l===void 0?!0:l,g=t.fallbackPlacements,w=t.padding,C=t.boundary,D=t.rootBoundary,F=t.altBoundary,z=t.flipVariations,Y=z===void 0?!0:z,$=t.allowedAutoPlacements,re=e.options.placement,oe=Rc(re),ne=oe===re,he=g||(ne||!Y?[z_(re)]:Kft(re)),_=[re].concat(he).reduce(function(Qe,Ct){return Qe.concat(Rc(Ct)===PI?c6(e,{placement:Ct,boundary:C,rootBoundary:D,padding:w,flipVariations:Y,allowedAutoPlacements:$}):Ct)},[]),ge=e.rects.reference,fe=e.rects.popper,me=new Map,we=!0,Se=_[0],be=0;be<_.length;be++){var $e=_[be],q=Rc($e),ee=lp($e)===qg,R=[nu,gc].indexOf(q)>=0,j=R?"width":"height",G=$p(e,{placement:$e,boundary:C,rootBoundary:D,altBoundary:F,padding:w}),V=R?ee?Gu:Eu:ee?gc:nu;ge[j]>fe[j]&&(V=z_(V));var te=z_(V),_e=[];if(a&&_e.push(G[q]<=0),h&&_e.push(G[V]<=0,G[te]<=0),_e.every(function(Qe){return Qe})){Se=$e,we=!1;break}me.set($e,_e)}if(we)for(var K=Y?3:1,U=function(Ct){var Tt=_.find(function(Ht){var Rt=me.get(Ht);if(Rt)return Rt.slice(0,Ct).every(function(Yt){return Yt})});if(Tt)return Se=Tt,"break"},Ue=K;Ue>0;Ue--){var Je=U(Ue);if(Je==="break")break}e.placement!==Se&&(e.modifiersData[n]._skip=!0,e.placement=Se,e.reset=!0)}}var Xde,Jde=ze(()=>{Hde();ny();Wde();nE();Zde();pd();B_();Xde={name:"flip",enabled:!0,phase:"main",fn:Yft,requiresIfExists:["offset"],data:{_skip:!1}}});function Qde(r,e,t){return t===void 0&&(t={x:0,y:0}),{top:r.top-e.height-t.y,right:r.right-e.width+t.x,bottom:r.bottom-e.height+t.y,left:r.left-e.width-t.x}}function epe(r){return[nu,Gu,gc,Eu].some(function(e){return r[e]>=0})}function Zft(r){var e=r.state,t=r.name,n=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,l=$p(e,{elementContext:"reference"}),h=$p(e,{altBoundary:!0}),g=Qde(l,n),w=Qde(h,i,a),C=epe(g),D=epe(w);e.modifiersData[t]={referenceClippingOffsets:g,popperEscapeOffsets:w,isReferenceHidden:C,hasPopperEscaped:D},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":C,"data-popper-escaped":D})}var tpe,rpe=ze(()=>{pd();nE();tpe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zft}});function Xft(r,e,t){var n=Rc(r),i=[Eu,nu].indexOf(n)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:r})):t,l=a[0],h=a[1];return l=l||0,h=(h||0)*i,[Eu,Gu].indexOf(n)>=0?{x:h,y:l}:{x:l,y:h}}function Jft(r){var e=r.state,t=r.options,n=r.name,i=t.offset,a=i===void 0?[0,0]:i,l=FI.reduce(function(C,D){return C[D]=Xft(D,e.rects,a),C},{}),h=l[e.placement],g=h.x,w=h.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=g,e.modifiersData.popperOffsets.y+=w),e.modifiersData[n]=l}var npe,ipe=ze(()=>{ny();pd();npe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Jft}});function Qft(r){var e=r.state,t=r.name;e.modifiersData[t]=rE({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var ope,ape=ze(()=>{u6();ope={name:"popperOffsets",enabled:!0,phase:"read",fn:Qft,data:{}}});function f6(r){return r==="x"?"y":"x"}var spe=ze(()=>{});function eht(r){var e=r.state,t=r.options,n=r.name,i=t.mainAxis,a=i===void 0?!0:i,l=t.altAxis,h=l===void 0?!1:l,g=t.boundary,w=t.rootBoundary,C=t.altBoundary,D=t.padding,F=t.tether,z=F===void 0?!0:F,Y=t.tetherOffset,$=Y===void 0?0:Y,re=$p(e,{boundary:g,rootBoundary:w,padding:D,altBoundary:C}),oe=Rc(e.placement),ne=lp(e.placement),he=!ne,_=Nb(oe),ge=f6(_),fe=e.modifiersData.popperOffsets,me=e.rects.reference,we=e.rects.popper,Se=typeof $=="function"?$(Object.assign({},e.rects,{placement:e.placement})):$,be=typeof Se=="number"?{mainAxis:Se,altAxis:Se}:Object.assign({mainAxis:0,altAxis:0},Se),$e=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,q={x:0,y:0};if(!!fe){if(a){var ee,R=_==="y"?nu:Eu,j=_==="y"?gc:Gu,G=_==="y"?"height":"width",V=fe[_],te=V+re[R],_e=V-re[j],K=z?-we[G]/2:0,U=ne===qg?me[G]:we[G],Ue=ne===qg?-we[G]:-me[G],Je=e.elements.arrow,Qe=z&&Je?qb(Je):{width:0,height:0},Ct=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:QT(),Tt=Ct[R],Ht=Ct[j],Rt=Bb(0,me[G],Qe[G]),Yt=he?me[G]/2-K-Rt-Tt-be.mainAxis:U-Rt-Tt-be.mainAxis,cr=he?-me[G]/2+K+Rt+Ht+be.mainAxis:Ue+Rt+Ht+be.mainAxis,Tr=e.elements.arrow&&Vp(e.elements.arrow),ir=Tr?_==="y"?Tr.clientTop||0:Tr.clientLeft||0:0,At=(ee=$e?.[_])!=null?ee:0,kt=V+Yt-At-ir,rt=V+cr-At,ce=Bb(z?Fb(te,kt):te,V,z?Wp(_e,rt):_e);fe[_]=ce,q[_]=ce-V}if(h){var Te,Ne=_==="x"?nu:Eu,Wt=_==="x"?gc:Gu,ft=fe[ge],qt=ge==="y"?"height":"width",Nt=ft+re[Ne],vr=ft-re[Wt],_r=[nu,Eu].indexOf(oe)!==-1,Dr=(Te=$e?.[ge])!=null?Te:0,kr=_r?Nt:ft-me[qt]-we[qt]-Dr+be.altAxis,et=_r?ft+me[qt]+we[qt]-Dr-be.altAxis:vr,pt=z&&_r?Rde(kr,ft,et):Bb(z?kr:Nt,ft,z?et:vr);fe[ge]=pt,q[ge]=pt-ft}e.modifiersData[n]=q}}var lpe,upe=ze(()=>{pd();ny();NI();spe();e6();qI();N_();nE();B_();t6();iy();lpe={name:"preventOverflow",enabled:!0,phase:"main",fn:eht,requiresIfExists:["offset"]}});var h6=ze(()=>{Y4()});function d6(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}var cpe=ze(()=>{});function p6(r){return r===sl(r)||!vc(r)?zb(r):d6(r)}var fpe=ze(()=>{UI();Hp();md();cpe()});function tht(r){var e=r.getBoundingClientRect(),t=Ng(e.width)/r.offsetWidth||1,n=Ng(e.height)/r.offsetHeight||1;return t!==1||n!==1}function m6(r,e,t){t===void 0&&(t=!1);var n=vc(e),i=vc(e)&&tht(e),a=Zc(e),l=sp(r,i,t),h={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(n||!n&&!t)&&((Pc(e)!=="body"||jb(a))&&(h=p6(e)),vc(e)?(g=sp(e,!0),g.x+=e.clientLeft,g.y+=e.clientTop):a&&(g.x=Ub(a))),{x:l.left+h.scrollLeft-g.x,y:l.top+h.scrollTop-g.y,width:l.width,height:l.height}}var hpe=ze(()=>{F_();fpe();ry();md();jI();Bg();HI();iy()});function rht(r){var e=new Map,t=new Set,n=[];r.forEach(function(a){e.set(a.name,a)});function i(a){t.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(h){if(!t.has(h)){var g=e.get(h);g&&i(g)}}),n.push(a)}return r.forEach(function(a){t.has(a.name)||i(a)}),n}function g6(r){var e=rht(r);return Mde.reduce(function(t,n){return t.concat(e.filter(function(i){return i.phase===n}))},[])}var dpe=ze(()=>{pd()});function v6(r){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(r())})})),e}}var ppe=ze(()=>{});function y6(r){var e=r.reduce(function(t,n){var i=t[n.name];return t[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,t},{});return Object.keys(e).map(function(t){return e[t]})}var mpe=ze(()=>{});function vpe(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function ype(r){r===void 0&&(r={});var e=r,t=e.defaultModifiers,n=t===void 0?[]:t,i=e.defaultOptions,a=i===void 0?gpe:i;return function(h,g,w){w===void 0&&(w=a);var C={placement:"bottom",orderedModifiers:[],options:Object.assign({},gpe,a),modifiersData:{},elements:{reference:h,popper:g},attributes:{},styles:{}},D=[],F=!1,z={state:C,setOptions:function(oe){var ne=typeof oe=="function"?oe(C.options):oe;$(),C.options=Object.assign({},a,C.options,ne),C.scrollParents={reference:ap(h)?oy(h):h.contextElement?oy(h.contextElement):[],popper:oy(g)};var he=g6(y6([].concat(n,C.options.modifiers)));return C.orderedModifiers=he.filter(function(_){return _.enabled}),Y(),z.update()},forceUpdate:function(){if(!F){var oe=C.elements,ne=oe.reference,he=oe.popper;if(!!vpe(ne,he)){C.rects={reference:m6(ne,Vp(he),C.options.strategy==="fixed"),popper:qb(he)},C.reset=!1,C.placement=C.options.placement,C.orderedModifiers.forEach(function(be){return C.modifiersData[be.name]=Object.assign({},be.data)});for(var _=0;_<C.orderedModifiers.length;_++){if(C.reset===!0){C.reset=!1,_=-1;continue}var ge=C.orderedModifiers[_],fe=ge.fn,me=ge.options,we=me===void 0?{}:me,Se=ge.name;typeof fe=="function"&&(C=fe({state:C,options:we,name:Se,instance:z})||C)}}}},update:v6(function(){return new Promise(function(re){z.forceUpdate(),re(C)})}),destroy:function(){$(),F=!0}};if(!vpe(h,g))return z;z.setOptions(w).then(function(re){!F&&w.onFirstUpdate&&w.onFirstUpdate(re)});function Y(){C.orderedModifiers.forEach(function(re){var oe=re.name,ne=re.options,he=ne===void 0?{}:ne,_=re.effect;if(typeof _=="function"){var ge=_({state:C,name:oe,instance:z,options:he}),fe=function(){};D.push(ge||fe)}})}function $(){D.forEach(function(re){return re()}),D=[]}return z}}var gpe,bpe=ze(()=>{hpe();qI();a6();N_();dpe();ppe();mpe();md();gpe={placement:"bottom",modifiers:[],strategy:"absolute"}});var nht,b6,xpe=ze(()=>{bpe();jde();ape();zde();Y4();ipe();Jde();upe();qde();rpe();h6();nht=[Ude,ope,Bde,YT,npe,Xde,lpe,Fde,tpe],b6=ype({defaultModifiers:nht})});var _pe=ze(()=>{pd();h6();xpe()});function x6(r,e,t){if(Array.isArray(r)){var n=r[e];return n??(Array.isArray(t)?t[e]:t)}return r}function k6(r,e){var t={}.toString.call(r);return t.indexOf("[object")===0&&t.indexOf(e+"]")>-1}function Rpe(r,e){return typeof r=="function"?r.apply(void 0,e):r}function wpe(r,e){if(e===0)return r;var t;return function(n){clearTimeout(t),t=setTimeout(function(){r(n)},e)}}function aht(r){return r.split(/\s+/).filter(Boolean)}function j_(r){return[].concat(r)}function Spe(r,e){r.indexOf(e)===-1&&r.push(e)}function sht(r){return r.filter(function(e,t){return r.indexOf(e)===t})}function lht(r){return r.split("-")[0]}function $I(r){return[].slice.call(r)}function Tpe(r){return Object.keys(r).reduce(function(e,t){return r[t]!==void 0&&(e[t]=r[t]),e},{})}function iE(){return document.createElement("div")}function GI(r){return["Element","Fragment"].some(function(e){return k6(r,e)})}function uht(r){return k6(r,"NodeList")}function cht(r){return k6(r,"MouseEvent")}function fht(r){return!!(r&&r._tippy&&r._tippy.reference===r)}function hht(r){return GI(r)?[r]:uht(r)?$I(r):Array.isArray(r)?r:$I(document.querySelectorAll(r))}function _6(r,e){r.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function Epe(r,e){r.forEach(function(t){t&&t.setAttribute("data-state",e)})}function dht(r){var e,t=j_(r),n=t[0];return n!=null&&(e=n.ownerDocument)!=null&&e.body?n.ownerDocument:document}function pht(r,e){var t=e.clientX,n=e.clientY;return r.every(function(i){var a=i.popperRect,l=i.popperState,h=i.props,g=h.interactiveBorder,w=lht(l.placement),C=l.modifiersData.offset;if(!C)return!0;var D=w==="bottom"?C.top.y:0,F=w==="top"?C.bottom.y:0,z=w==="right"?C.left.x:0,Y=w==="left"?C.right.x:0,$=a.top-n+D>g,re=n-a.bottom-F>g,oe=a.left-t+z>g,ne=t-a.right-Y>g;return $||re||oe||ne})}function w6(r,e,t){var n=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){r[n](i,t)})}function kpe(r,e){for(var t=e;t;){var n;if(r.contains(t))return!0;t=t.getRootNode==null||(n=t.getRootNode())==null?void 0:n.host}return!1}function mht(){Rm.isTouch||(Rm.isTouch=!0,window.performance&&document.addEventListener("mousemove",Fpe))}function Fpe(){var r=performance.now();r-Cpe<20&&(Rm.isTouch=!1,document.removeEventListener("mousemove",Fpe)),Cpe=r}function ght(){var r=document.activeElement;if(fht(r)){var e=r._tippy;r.blur&&!e.state.isVisible&&r.blur()}}function vht(){document.addEventListener("touchstart",mht,Hb),window.addEventListener("blur",ght)}function qpe(r){var e=r.plugins||[],t=e.reduce(function(n,i){var a=i.name,l=i.defaultValue;if(a){var h;n[a]=r[a]!==void 0?r[a]:(h=Gp[a])!=null?h:l}return n},{});return Object.assign({},r,t)}function Tht(r,e){var t=e?Object.keys(qpe(Object.assign({},Gp,{plugins:e}))):wht,n=t.reduce(function(i,a){var l=(r.getAttribute("data-tippy-"+a)||"").trim();if(!l)return i;if(a==="content")i[a]=l;else try{i[a]=JSON.parse(l)}catch{i[a]=l}return i},{});return n}function Ape(r,e){var t=Object.assign({},e,{content:Rpe(e.content,[r])},e.ignoreAttributes?{}:Tht(r,e.plugins));return t.aria=Object.assign({},Gp.aria,t.aria),t.aria={expanded:t.aria.expanded==="auto"?e.interactive:t.aria.expanded,content:t.aria.content==="auto"?e.interactive?null:"describedby":t.aria.content},t}function T6(r,e){r[Eht()]=e}function Dpe(r){var e=iE();return r===!0?e.className=Mpe:(e.className=Lpe,GI(r)?e.appendChild(r):T6(e,r)),e}function Ope(r,e){GI(e.content)?(T6(r,""),r.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?T6(r,e.content):r.textContent=e.content)}function E6(r){var e=r.firstElementChild,t=$I(e.children);return{box:e,content:t.find(function(n){return n.classList.contains(Ipe)}),arrow:t.find(function(n){return n.classList.contains(Mpe)||n.classList.contains(Lpe)}),backdrop:t.find(function(n){return n.classList.contains(oht)})}}function Npe(r){var e=iE(),t=iE();t.className=iht,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var n=iE();n.className=Ipe,n.setAttribute("data-state","hidden"),Ope(n,r.props),e.appendChild(t),t.appendChild(n),i(r.props,r.props);function i(a,l){var h=E6(e),g=h.box,w=h.content,C=h.arrow;l.theme?g.setAttribute("data-theme",l.theme):g.removeAttribute("data-theme"),typeof l.animation=="string"?g.setAttribute("data-animation",l.animation):g.removeAttribute("data-animation"),l.inertia?g.setAttribute("data-inertia",""):g.removeAttribute("data-inertia"),g.style.maxWidth=typeof l.maxWidth=="number"?l.maxWidth+"px":l.maxWidth,l.role?g.setAttribute("role",l.role):g.removeAttribute("role"),(a.content!==l.content||a.allowHTML!==l.allowHTML)&&Ope(w,r.props),l.arrow?C?a.arrow!==l.arrow&&(g.removeChild(C),g.appendChild(Dpe(l.arrow))):g.appendChild(Dpe(l.arrow)):C&&g.removeChild(C)}return{popper:e,onUpdate:i}}function Cht(r,e){var t=Ape(r,Object.assign({},Gp,qpe(Tpe(e)))),n,i,a,l=!1,h=!1,g=!1,w=!1,C,D,F,z=[],Y=wpe(kt,t.interactiveDebounce),$,re=kht++,oe=null,ne=sht(t.plugins),he={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},_={id:re,reference:r,popper:iE(),popperInstance:oe,props:t,state:he,plugins:ne,clearDelayTimeouts:kr,setProps:et,setContent:pt,show:er,hide:Lr,hideWithInteractivity:ki,enable:_r,disable:Dr,unmount:zr,destroy:$n};if(!t.render)return _;var ge=t.render(_),fe=ge.popper,me=ge.onUpdate;fe.setAttribute("data-tippy-root",""),fe.id="tippy-"+_.id,_.popper=fe,r._tippy=_,fe._tippy=_;var we=ne.map(function(Dt){return Dt.fn(_)}),Se=r.hasAttribute("aria-expanded");return Tr(),K(),V(),te("onCreate",[_]),t.showOnCreate&&Nt(),fe.addEventListener("mouseenter",function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()}),fe.addEventListener("mouseleave",function(){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&R().addEventListener("mousemove",Y)}),_;function be(){var Dt=_.props.touch;return Array.isArray(Dt)?Dt:[Dt,0]}function $e(){return be()[0]==="hold"}function q(){var Dt;return!!((Dt=_.props.render)!=null&&Dt.$$tippy)}function ee(){return $||r}function R(){var Dt=ee().parentNode;return Dt?dht(Dt):document}function j(){return E6(fe)}function G(Dt){return _.state.isMounted&&!_.state.isVisible||Rm.isTouch||C&&C.type==="focus"?0:x6(_.props.delay,Dt?0:1,Gp.delay)}function V(Dt){Dt===void 0&&(Dt=!1),fe.style.pointerEvents=_.props.interactive&&!Dt?"":"none",fe.style.zIndex=""+_.props.zIndex}function te(Dt,Et,Er){if(Er===void 0&&(Er=!0),we.forEach(function(Vr){Vr[Dt]&&Vr[Dt].apply(Vr,Et)}),Er){var on;(on=_.props)[Dt].apply(on,Et)}}function _e(){var Dt=_.props.aria;if(!!Dt.content){var Et="aria-"+Dt.content,Er=fe.id,on=j_(_.props.triggerTarget||r);on.forEach(function(Vr){var yn=Vr.getAttribute(Et);if(_.state.isVisible)Vr.setAttribute(Et,yn?yn+" "+Er:Er);else{var Rn=yn&&yn.replace(Er,"").trim();Rn?Vr.setAttribute(Et,Rn):Vr.removeAttribute(Et)}})}}function K(){if(!(Se||!_.props.aria.expanded)){var Dt=j_(_.props.triggerTarget||r);Dt.forEach(function(Et){_.props.interactive?Et.setAttribute("aria-expanded",_.state.isVisible&&Et===ee()?"true":"false"):Et.removeAttribute("aria-expanded")})}}function U(){R().removeEventListener("mousemove",Y),VI=VI.filter(function(Dt){return Dt!==Y})}function Ue(Dt){if(!(Rm.isTouch&&(g||Dt.type==="mousedown"))){var Et=Dt.composedPath&&Dt.composedPath()[0]||Dt.target;if(!(_.props.interactive&&kpe(fe,Et))){if(j_(_.props.triggerTarget||r).some(function(Er){return kpe(Er,Et)})){if(Rm.isTouch||_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else te("onClickOutside",[_,Dt]);_.props.hideOnClick===!0&&(_.clearDelayTimeouts(),_.hide(),h=!0,setTimeout(function(){h=!1}),_.state.isMounted||Tt())}}}function Je(){g=!0}function Qe(){g=!1}function Ct(){var Dt=R();Dt.addEventListener("mousedown",Ue,!0),Dt.addEventListener("touchend",Ue,Hb),Dt.addEventListener("touchstart",Qe,Hb),Dt.addEventListener("touchmove",Je,Hb)}function Tt(){var Dt=R();Dt.removeEventListener("mousedown",Ue,!0),Dt.removeEventListener("touchend",Ue,Hb),Dt.removeEventListener("touchstart",Qe,Hb),Dt.removeEventListener("touchmove",Je,Hb)}function Ht(Dt,Et){Yt(Dt,function(){!_.state.isVisible&&fe.parentNode&&fe.parentNode.contains(fe)&&Et()})}function Rt(Dt,Et){Yt(Dt,Et)}function Yt(Dt,Et){var Er=j().box;function on(Vr){Vr.target===Er&&(w6(Er,"remove",on),Et())}if(Dt===0)return Et();w6(Er,"remove",D),w6(Er,"add",on),D=on}function cr(Dt,Et,Er){Er===void 0&&(Er=!1);var on=j_(_.props.triggerTarget||r);on.forEach(function(Vr){Vr.addEventListener(Dt,Et,Er),z.push({node:Vr,eventType:Dt,handler:Et,options:Er})})}function Tr(){$e()&&(cr("touchstart",At,{passive:!0}),cr("touchend",rt,{passive:!0})),aht(_.props.trigger).forEach(function(Dt){if(Dt!=="manual")switch(cr(Dt,At),Dt){case"mouseenter":cr("mouseleave",rt);break;case"focus":cr(bht?"focusout":"blur",ce);break;case"focusin":cr("focusout",ce);break}})}function ir(){z.forEach(function(Dt){var Et=Dt.node,Er=Dt.eventType,on=Dt.handler,Vr=Dt.options;Et.removeEventListener(Er,on,Vr)}),z=[]}function At(Dt){var Et,Er=!1;if(!(!_.state.isEnabled||Te(Dt)||h)){var on=((Et=C)==null?void 0:Et.type)==="focus";C=Dt,$=Dt.currentTarget,K(),!_.state.isVisible&&cht(Dt)&&VI.forEach(function(Vr){return Vr(Dt)}),Dt.type==="click"&&(_.props.trigger.indexOf("mouseenter")<0||l)&&_.props.hideOnClick!==!1&&_.state.isVisible?Er=!0:Nt(Dt),Dt.type==="click"&&(l=!Er),Er&&!on&&vr(Dt)}}function kt(Dt){var Et=Dt.target,Er=ee().contains(Et)||fe.contains(Et);if(!(Dt.type==="mousemove"&&Er)){var on=qt().concat(fe).map(function(Vr){var yn,Rn=Vr._tippy,mi=(yn=Rn.popperInstance)==null?void 0:yn.state;return mi?{popperRect:Vr.getBoundingClientRect(),popperState:mi,props:t}:null}).filter(Boolean);pht(on,Dt)&&(U(),vr(Dt))}}function rt(Dt){var Et=Te(Dt)||_.props.trigger.indexOf("click")>=0&&l;if(!Et){if(_.props.interactive){_.hideWithInteractivity(Dt);return}vr(Dt)}}function ce(Dt){_.props.trigger.indexOf("focusin")<0&&Dt.target!==ee()||_.props.interactive&&Dt.relatedTarget&&fe.contains(Dt.relatedTarget)||vr(Dt)}function Te(Dt){return Rm.isTouch?$e()!==Dt.type.indexOf("touch")>=0:!1}function Ne(){Wt();var Dt=_.props,Et=Dt.popperOptions,Er=Dt.placement,on=Dt.offset,Vr=Dt.getReferenceClientRect,yn=Dt.moveTransition,Rn=q()?E6(fe).arrow:null,mi=Vr?{getBoundingClientRect:Vr,contextElement:Vr.contextElement||ee()}:r,fo={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(st){var Mt=st.state;if(q()){var nr=j(),Pr=nr.box;["placement","reference-hidden","escaped"].forEach(function(qr){qr==="placement"?Pr.setAttribute("data-placement",Mt.placement):Mt.attributes.popper["data-popper-"+qr]?Pr.setAttribute("data-"+qr,""):Pr.removeAttribute("data-"+qr)}),Mt.attributes.popper={}}}},gi=[{name:"offset",options:{offset:on}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!yn}},fo];q()&&Rn&&gi.push({name:"arrow",options:{element:Rn,padding:3}}),gi.push.apply(gi,Et?.modifiers||[]),_.popperInstance=b6(mi,fe,Object.assign({},Et,{placement:Er,onFirstUpdate:F,modifiers:gi}))}function Wt(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function ft(){var Dt=_.props.appendTo,Et,Er=ee();_.props.interactive&&Dt===Ppe||Dt==="parent"?Et=Er.parentNode:Et=Rpe(Dt,[Er]),Et.contains(fe)||Et.appendChild(fe),_.state.isMounted=!0,Ne()}function qt(){return $I(fe.querySelectorAll("[data-tippy-root]"))}function Nt(Dt){_.clearDelayTimeouts(),Dt&&te("onTrigger",[_,Dt]),Ct();var Et=G(!0),Er=be(),on=Er[0],Vr=Er[1];Rm.isTouch&&on==="hold"&&Vr&&(Et=Vr),Et?n=setTimeout(function(){_.show()},Et):_.show()}function vr(Dt){if(_.clearDelayTimeouts(),te("onUntrigger",[_,Dt]),!_.state.isVisible){Tt();return}if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Dt.type)>=0&&l)){var Et=G(!1);Et?i=setTimeout(function(){_.state.isVisible&&_.hide()},Et):a=requestAnimationFrame(function(){_.hide()})}}function _r(){_.state.isEnabled=!0}function Dr(){_.hide(),_.state.isEnabled=!1}function kr(){clearTimeout(n),clearTimeout(i),cancelAnimationFrame(a)}function et(Dt){if(!_.state.isDestroyed){te("onBeforeUpdate",[_,Dt]),ir();var Et=_.props,Er=Ape(r,Object.assign({},Et,Tpe(Dt),{ignoreAttributes:!0}));_.props=Er,Tr(),Et.interactiveDebounce!==Er.interactiveDebounce&&(U(),Y=wpe(kt,Er.interactiveDebounce)),Et.triggerTarget&&!Er.triggerTarget?j_(Et.triggerTarget).forEach(function(on){on.removeAttribute("aria-expanded")}):Er.triggerTarget&&r.removeAttribute("aria-expanded"),K(),V(),me&&me(Et,Er),_.popperInstance&&(Ne(),qt().forEach(function(on){requestAnimationFrame(on._tippy.popperInstance.forceUpdate)})),te("onAfterUpdate",[_,Dt])}}function pt(Dt){_.setProps({content:Dt})}function er(){var Dt=_.state.isVisible,Et=_.state.isDestroyed,Er=!_.state.isEnabled,on=Rm.isTouch&&!_.props.touch,Vr=x6(_.props.duration,0,Gp.duration);if(!(Dt||Et||Er||on)&&!ee().hasAttribute("disabled")&&(te("onShow",[_],!1),_.props.onShow(_)!==!1)){if(_.state.isVisible=!0,q()&&(fe.style.visibility="visible"),V(),Ct(),_.state.isMounted||(fe.style.transition="none"),q()){var yn=j(),Rn=yn.box,mi=yn.content;_6([Rn,mi],0)}F=function(){var gi;if(!(!_.state.isVisible||w)){if(w=!0,fe.offsetHeight,fe.style.transition=_.props.moveTransition,q()&&_.props.animation){var Xe=j(),st=Xe.box,Mt=Xe.content;_6([st,Mt],Vr),Epe([st,Mt],"visible")}_e(),K(),Spe(S6,_),(gi=_.popperInstance)==null||gi.forceUpdate(),te("onMount",[_]),_.props.animation&&q()&&Rt(Vr,function(){_.state.isShown=!0,te("onShown",[_])})}},ft()}}function Lr(){var Dt=!_.state.isVisible,Et=_.state.isDestroyed,Er=!_.state.isEnabled,on=x6(_.props.duration,1,Gp.duration);if(!(Dt||Et||Er)&&(te("onHide",[_],!1),_.props.onHide(_)!==!1)){if(_.state.isVisible=!1,_.state.isShown=!1,w=!1,l=!1,q()&&(fe.style.visibility="hidden"),U(),Tt(),V(!0),q()){var Vr=j(),yn=Vr.box,Rn=Vr.content;_.props.animation&&(_6([yn,Rn],on),Epe([yn,Rn],"hidden"))}_e(),K(),_.props.animation?q()&&Ht(on,_.unmount):_.unmount()}}function ki(Dt){R().addEventListener("mousemove",Y),Spe(VI,Y),Y(Dt)}function zr(){_.state.isVisible&&_.hide(),_.state.isMounted&&(Wt(),qt().forEach(function(Dt){Dt._tippy.unmount()}),fe.parentNode&&fe.parentNode.removeChild(fe),S6=S6.filter(function(Dt){return Dt!==_}),_.state.isMounted=!1,te("onHidden",[_]))}function $n(){_.state.isDestroyed||(_.clearDelayTimeouts(),_.unmount(),ir(),delete r._tippy,_.state.isDestroyed=!0,te("onDestroy",[_]))}}function oE(r,e){e===void 0&&(e={});var t=Gp.plugins.concat(e.plugins||[]);vht();var n=Object.assign({},e,{plugins:t}),i=hht(r);if(!1)var a,l;var h=i.reduce(function(g,w){var C=w&&Cht(w,n);return C&&g.push(C),g},[]);return GI(r)?h[0]:h}var iht,Ipe,oht,Mpe,Lpe,Hb,Ppe,Rm,Cpe,yht,bht,xht,_ht,Gp,wht,Sht,Eht,kht,VI,S6,Njt,H_,KI=ze(()=>{_pe();iht="tippy-box",Ipe="tippy-content",oht="tippy-backdrop",Mpe="tippy-arrow",Lpe="tippy-svg-arrow",Hb={passive:!0,capture:!0},Ppe=function(){return document.body};Rm={isTouch:!1},Cpe=0;yht=typeof window<"u"&&typeof document<"u",bht=yht?!!window.msCrypto:!1,xht={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},_ht={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Gp=Object.assign({appendTo:Ppe,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},xht,_ht),wht=Object.keys(Gp),Sht=function(e){var t=Object.keys(e);t.forEach(function(n){Gp[n]=e[n]})};Eht=function(){return"innerHTML"};Npe.$$tippy=!0;kht=1,VI=[],S6=[];oE.defaultProps=Gp;oE.setDefaultProps=Sht;oE.currentInput=Rm;Njt=Object.assign({},YT,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});oE.setDefaultProps({render:Npe});H_=oE});var YI,Bpe=ze(()=>{YI=class{constructor(){Wr(this,"prefix","avo")}prefixedKey(e){return`${this.prefix}.${e}`}get(e){return window.localStorage.getItem(this.prefixedKey(e))}set(e,t){return window.localStorage.setItem(this.prefixedKey(e),t)}remove(e){return window.localStorage.removeItem(this.prefixedKey(e))}}});var zpe=ze(()=>{document.addEventListener("direct-upload:initialize",r=>{let{target:e,detail:t}=r,{id:n,file:i}=t;e.insertAdjacentHTML("beforebegin",`
    <div id="direct-upload-${n}" class="direct-upload direct-upload--pending">
      <div id="direct-upload-progress-${n}" class="direct-upload__progress" style="width: 0%"></div>
      <span class="direct-upload__filename"></span>
    </div>
  `),e.previousElementSibling.querySelector(".direct-upload__filename").textContent=i.name});document.addEventListener("direct-upload:start",r=>{let{id:e}=r.detail;document.getElementById(`direct-upload-${e}`).classList.remove("direct-upload--pending")});document.addEventListener("direct-upload:progress",r=>{let{id:e,progress:t}=r.detail,n=document.getElementById(`direct-upload-progress-${e}`);n.style.width=`${t}%`});document.addEventListener("direct-upload:error",r=>{r.preventDefault();let{id:e,error:t}=r.detail,n=document.getElementById(`direct-upload-${e}`);n.classList.add("direct-upload--error"),n.setAttribute("title",t)});document.addEventListener("direct-upload:end",r=>{let{id:e}=r.detail;document.getElementById(`direct-upload-${e}`).classList.add("direct-upload--complete")})});function Aht(r){if("immediatePropagationStopped"in r)return r;{let{stopImmediatePropagation:e}=r;return Object.assign(r,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}function Iht(r){let t=r.trim().match(Oht)||[],n=t[2],i=t[3];return i&&!["keydown","keyup","keypress"].includes(n)&&(n+=`.${i}`,i=""),{eventTarget:Mht(t[4]),eventName:n,eventOptions:t[7]?Lht(t[7]):{},identifier:t[5],methodName:t[6],keyFilter:t[1]||i}}function Mht(r){if(r=="window")return window;if(r=="document")return document}function Lht(r){return r.split(":").reduce((e,t)=>Object.assign(e,{[t.replace(/^!/,"")]:!/^!/.test(t)}),{})}function Pht(r){if(r==window)return"window";if(r==document)return"document"}function Y6(r){return r.replace(/(?:[_-])([a-z0-9])/g,(e,t)=>t.toUpperCase())}function D6(r){return Y6(r.replace(/--/g,"-").replace(/__/g,"_"))}function lE(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Zpe(r){return r.replace(/([A-Z])/g,(e,t)=>`-${t.toLowerCase()}`)}function Rht(r){return r.match(/[^\s]+/g)||[]}function Upe(r){return r!=null}function O6(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function Fht(r){let e=r.tagName.toLowerCase();if(e in Hpe)return Hpe[e](r)}function ZI(r){throw new Error(r)}function qht(r){try{return JSON.parse(r)}catch{return r}}function Nht(r,e,t){Xpe(r,e).add(t)}function Bht(r,e,t){Xpe(r,e).delete(t),zht(r,e)}function Xpe(r,e){let t=r.get(e);return t||(t=new Set,r.set(e,t)),t}function zht(r,e){let t=r.get(e);t!=null&&t.size==0&&r.delete(e)}function Uht(r,e,t){return r.trim().split(/\s+/).filter(n=>n.length).map((n,i)=>({element:e,attributeName:t,content:n,index:i}))}function jht(r,e){let t=Math.max(r.length,e.length);return Array.from({length:t},(n,i)=>[r[i],e[i]])}function Hht(r,e){return r&&e&&r.index==e.index&&r.content==e.content}function uE(r,e){let t=Jpe(r);return Array.from(t.reduce((n,i)=>(Vht(i,e).forEach(a=>n.add(a)),n),new Set))}function Wht(r,e){return Jpe(r).reduce((n,i)=>(n.push(...$ht(i,e)),n),[])}function Jpe(r){let e=[];for(;r;)e.push(r),r=Object.getPrototypeOf(r);return e.reverse()}function Vht(r,e){let t=r[e];return Array.isArray(t)?t:[]}function $ht(r,e){let t=r[e];return t?Object.keys(t).map(n=>[n,t[n]]):[]}function Ght(r){return Kht(r,Yht(r))}function Kht(r,e){let t=Qht(r),n=Zht(r.prototype,e);return Object.defineProperties(t.prototype,n),t}function Yht(r){return uE(r,"blessings").reduce((t,n)=>{let i=n(r);for(let a in i){let l=t[a]||{};t[a]=Object.assign(l,i[a])}return t},{})}function Zht(r,e){return Jht(e).reduce((t,n)=>{let i=Xht(r,e,n);return i&&Object.assign(t,{[n]:i}),t},{})}function Xht(r,e,t){let n=Object.getOwnPropertyDescriptor(r,t);if(!(n&&"value"in n)){let a=Object.getOwnPropertyDescriptor(e,t).value;return n&&(a.get=n.get||a.get,a.set=n.set||a.set),a}}function edt(r){return{identifier:r.identifier,controllerConstructor:Ght(r.controllerConstructor)}}function W6(r,e){return`[${r}~="${e}"]`}function Wpe(r){return r.reduce((e,[t,n])=>Object.assign(Object.assign({},e),{[t]:n}),{})}function rdt(){return new Promise(r=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>r()):r()})}function ndt(r){return uE(r,"classes").reduce((t,n)=>Object.assign(t,idt(n)),{})}function idt(r){return{[`${r}Class`]:{get(){let{classes:e}=this;if(e.has(r))return e.get(r);{let t=e.getAttributeName(r);throw new Error(`Missing attribute "${t}"`)}}},[`${r}Classes`]:{get(){return this.classes.getAll(r)}},[`has${lE(r)}Class`]:{get(){return this.classes.has(r)}}}}function odt(r){return uE(r,"outlets").reduce((t,n)=>Object.assign(t,adt(n)),{})}function Vpe(r,e,t){return r.application.getControllerForElementAndIdentifier(e,t)}function $pe(r,e,t){let n=Vpe(r,e,t);if(n||(r.application.router.proposeToConnectScopeForElementAndIdentifier(e,t),n=Vpe(r,e,t),n))return n}function adt(r){let e=D6(r);return{[`${e}Outlet`]:{get(){let t=this.outlets.find(r),n=this.outlets.getSelectorForOutletName(r);if(t){let i=$pe(this,t,r);if(i)return i;throw new Error(`The provided outlet element is missing an outlet controller "${r}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${r}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${e}Outlets`]:{get(){let t=this.outlets.findAll(r);return t.length>0?t.map(n=>{let i=$pe(this,n,r);if(i)return i;console.warn(`The provided outlet element is missing an outlet controller "${r}" instance for host controller "${this.identifier}"`,n)}).filter(n=>n):[]}},[`${e}OutletElement`]:{get(){let t=this.outlets.find(r),n=this.outlets.getSelectorForOutletName(r);if(t)return t;throw new Error(`Missing outlet element "${r}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(r)}},[`has${lE(e)}Outlet`]:{get(){return this.outlets.has(r)}}}}function sdt(r){return uE(r,"targets").reduce((t,n)=>Object.assign(t,ldt(n)),{})}function ldt(r){return{[`${r}Target`]:{get(){let e=this.targets.find(r);if(e)return e;throw new Error(`Missing target element "${r}" for "${this.identifier}" controller`)}},[`${r}Targets`]:{get(){return this.targets.findAll(r)}},[`has${lE(r)}Target`]:{get(){return this.targets.has(r)}}}}function udt(r){let e=Wht(r,"values"),t={valueDescriptorMap:{get(){return e.reduce((n,i)=>{let a=Qpe(i,this.identifier),l=this.data.getAttributeNameForKey(a.key);return Object.assign(n,{[l]:a})},{})}}};return e.reduce((n,i)=>Object.assign(n,cdt(i)),t)}function cdt(r,e){let t=Qpe(r,e),{key:n,name:i,reader:a,writer:l}=t;return{[i]:{get(){let h=this.data.get(n);return h!==null?a(h):t.defaultValue},set(h){h===void 0?this.data.delete(n):this.data.set(n,l(h))}},[`has${lE(i)}`]:{get(){return this.data.has(n)||t.hasCustomDefaultValue}}}}function Qpe([r,e],t){return pdt({controller:t,token:r,typeDefinition:e})}function rM(r){switch(r){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function sE(r){switch(typeof r){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(r))return"array";if(Object.prototype.toString.call(r)==="[object Object]")return"object"}function fdt(r){let{controller:e,token:t,typeObject:n}=r,i=Upe(n.type),a=Upe(n.default),l=i&&a,h=i&&!a,g=!i&&a,w=rM(n.type),C=sE(r.typeObject.default);if(h)return w;if(g)return C;if(w!==C){let D=e?`${e}.${t}`:t;throw new Error(`The specified default value for the Stimulus Value "${D}" must match the defined type "${w}". The provided default value of "${n.default}" is of type "${C}".`)}if(l)return w}function hdt(r){let{controller:e,token:t,typeDefinition:n}=r,a=fdt({controller:e,token:t,typeObject:n}),l=sE(n),h=rM(n),g=a||l||h;if(g)return g;let w=e?`${e}.${n}`:t;throw new Error(`Unknown value type "${w}" for "${t}" value`)}function ddt(r){let e=rM(r);if(e)return Gpe[e];let t=O6(r,"default"),n=O6(r,"type"),i=r;if(t)return i.default;if(n){let{type:a}=i,l=rM(a);if(l)return Gpe[l]}return r}function pdt(r){let{token:e,typeDefinition:t}=r,n=`${Zpe(e)}-value`,i=hdt(r);return{type:i,key:n,name:Y6(n),get defaultValue(){return ddt(t)},get hasCustomDefaultValue(){return sE(t)!==void 0},reader:mdt[i],writer:Kpe[i]||Kpe.default}}function Ype(r){return JSON.stringify(r)}function gdt(r){return`${r}`}var C6,A6,Dht,Oht,jpe,I6,Hpe,M6,XI,JI,Ug,L6,P6,QI,eM,R6,F6,q6,N6,B6,Jht,Qht,z6,U6,j6,H6,V6,$6,aE,G6,K6,tdt,tM,Gpe,mdt,Kpe,nn,bo=ze(()=>{C6=class{constructor(e,t,n){this.eventTarget=e,this.eventName=t,this.eventOptions=n,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){let t=Aht(e);for(let n of this.bindings){if(t.immediatePropagationStopped)break;n.handleEvent(t)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((e,t)=>{let n=e.index,i=t.index;return n<i?-1:n>i?1:0})}};A6=class{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,t)=>e.concat(Array.from(t.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,t=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),t&&this.clearEventListenersForBinding(e)}handleError(e,t,n={}){this.application.handleError(e,`Error ${t}`,n)}clearEventListenersForBinding(e){let t=this.fetchEventListenerForBinding(e);t.hasBindings()||(t.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){let{eventTarget:t,eventName:n,eventOptions:i}=e,a=this.fetchEventListenerMapForEventTarget(t),l=this.cacheKey(n,i);a.delete(l),a.size==0&&this.eventListenerMaps.delete(t)}fetchEventListenerForBinding(e){let{eventTarget:t,eventName:n,eventOptions:i}=e;return this.fetchEventListener(t,n,i)}fetchEventListener(e,t,n){let i=this.fetchEventListenerMapForEventTarget(e),a=this.cacheKey(t,n),l=i.get(a);return l||(l=this.createEventListener(e,t,n),i.set(a,l)),l}createEventListener(e,t,n){let i=new C6(e,t,n);return this.started&&i.connect(),i}fetchEventListenerMapForEventTarget(e){let t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t}cacheKey(e,t){let n=[e];return Object.keys(t).sort().forEach(i=>{n.push(`${t[i]?"":"!"}${i}`)}),n.join(":")}},Dht={stop({event:r,value:e}){return e&&r.stopPropagation(),!0},prevent({event:r,value:e}){return e&&r.preventDefault(),!0},self({event:r,value:e,element:t}){return e?t===r.target:!0}},Oht=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;jpe=["meta","ctrl","alt","shift"],I6=class{constructor(e,t,n,i){this.element=e,this.index=t,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||Fht(e)||ZI("missing event name"),this.eventOptions=n.eventOptions||{},this.identifier=n.identifier||ZI("missing identifier"),this.methodName=n.methodName||ZI("missing method name"),this.keyFilter=n.keyFilter||"",this.schema=i}static forToken(e,t){return new this(e.element,e.index,Iht(e.content),t)}toString(){let e=this.keyFilter?`.${this.keyFilter}`:"",t=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${t}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return!1;let t=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,t))return!0;let n=t.filter(i=>!jpe.includes(i))[0];return n?(O6(this.keyMappings,n)||ZI(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[n].toLowerCase()!==e.key.toLowerCase()):!1}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return!1;let t=[this.keyFilter];return!!this.keyFilterDissatisfied(e,t)}get params(){let e={},t=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:n,value:i}of Array.from(this.element.attributes)){let a=n.match(t),l=a&&a[1];l&&(e[Y6(l)]=qht(i))}return e}get eventTargetName(){return Pht(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,t){let[n,i,a,l]=jpe.map(h=>t.includes(h));return e.metaKey!==n||e.ctrlKey!==i||e.altKey!==a||e.shiftKey!==l}},Hpe={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:r=>r.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};M6=class{constructor(e,t){this.context=e,this.action=t}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){let t=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(t)&&this.invokeWithEvent(t)}get eventName(){return this.action.eventName}get method(){let e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){let{element:t}=this.action,{actionDescriptorFilters:n}=this.context.application,{controller:i}=this.context,a=!0;for(let[l,h]of Object.entries(this.eventOptions))if(l in n){let g=n[l];a=a&&g({name:l,value:h,event:e,element:t,controller:i})}else continue;return a}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){let{target:t,currentTarget:n}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:t,currentTarget:n,action:this.methodName})}catch(i){let{identifier:a,controller:l,element:h,index:g}=this,w={identifier:a,controller:l,element:h,index:g,event:e};this.context.handleError(i,`invoking action "${this.action}"`,w)}}willBeInvokedByEvent(e){let t=e.target;return e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e)||e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e)?!1:this.element===t?!0:t instanceof Element&&this.element.contains(t)?this.scope.containsElement(t):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},XI=class{constructor(e,t){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){let e=new Set(this.matchElementsInTree());for(let t of Array.from(this.elements))e.has(t)||this.removeElement(t);for(let t of Array.from(e))this.addElement(t)}}processMutations(e){if(this.started)for(let t of e)this.processMutation(t)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,t){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,t):this.removeElement(e):this.matchElement(e)&&this.addElement(e)}processRemovedNodes(e){for(let t of Array.from(e)){let n=this.elementFromNode(t);n&&this.processTree(n,this.removeElement)}}processAddedNodes(e){for(let t of Array.from(e)){let n=this.elementFromNode(t);n&&this.elementIsActive(n)&&this.processTree(n,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,t){for(let n of this.matchElementsInTree(e))t.call(this,n)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}},JI=class{constructor(e,t,n){this.attributeName=t,this.delegate=n,this.elementObserver=new XI(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){let t=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return t.concat(n)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)}};Ug=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((t,n)=>t.concat(Array.from(n)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((t,n)=>t+n.size,0)}add(e,t){Nht(this.valuesByKey,e,t)}delete(e,t){Bht(this.valuesByKey,e,t)}has(e,t){let n=this.valuesByKey.get(e);return n!=null&&n.has(t)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(n=>n.has(e))}getValuesForKey(e){let t=this.valuesByKey.get(e);return t?Array.from(t):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([t,n])=>n.has(e)).map(([t,n])=>t)}},L6=class{constructor(e,t,n,i){this._selector=t,this.details=i,this.elementObserver=new XI(e,this),this.delegate=n,this.matchesByElement=new Ug}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh()}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){let{selector:t}=this;if(t){let n=e.matches(t);return this.delegate.selectorMatchElement?n&&this.delegate.selectorMatchElement(e,this.details):n}else return!1}matchElementsInTree(e){let{selector:t}=this;if(t){let n=this.matchElement(e)?[e]:[],i=Array.from(e.querySelectorAll(t)).filter(a=>this.matchElement(a));return n.concat(i)}else return[]}elementMatched(e){let{selector:t}=this;t&&this.selectorMatched(e,t)}elementUnmatched(e){let t=this.matchesByElement.getKeysForValue(e);for(let n of t)this.selectorUnmatched(e,n)}elementAttributeChanged(e,t){let{selector:n}=this;if(n){let i=this.matchElement(e),a=this.matchesByElement.has(n,e);i&&!a?this.selectorMatched(e,n):!i&&a&&this.selectorUnmatched(e,n)}}selectorMatched(e,t){this.delegate.selectorMatched(e,t,this.details),this.matchesByElement.add(t,e)}selectorUnmatched(e,t){this.delegate.selectorUnmatched(e,t,this.details),this.matchesByElement.delete(t,e)}},P6=class{constructor(e,t){this.element=e,this.delegate=t,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(let e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(let t of e)this.processMutation(t)}processMutation(e){let t=e.attributeName;t&&this.refreshAttribute(t,e.oldValue)}refreshAttribute(e,t){let n=this.delegate.getStringMapKeyForAttribute(e);if(n!=null){this.stringMap.has(e)||this.stringMapKeyAdded(n,e);let i=this.element.getAttribute(e);if(this.stringMap.get(e)!=i&&this.stringMapValueChanged(i,n,t),i==null){let a=this.stringMap.get(e);this.stringMap.delete(e),a&&this.stringMapKeyRemoved(n,e,a)}else this.stringMap.set(e,i)}}stringMapKeyAdded(e,t){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,t)}stringMapValueChanged(e,t,n){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,t,n)}stringMapKeyRemoved(e,t,n){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,t,n)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},QI=class{constructor(e,t,n){this.attributeObserver=new JI(e,t,this),this.delegate=n,this.tokensByElement=new Ug}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){let[t,n]=this.refreshTokensForElement(e);this.tokensUnmatched(t),this.tokensMatched(n)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(t=>this.tokenMatched(t))}tokensUnmatched(e){e.forEach(t=>this.tokenUnmatched(t))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){let t=this.tokensByElement.getValuesForKey(e),n=this.readTokensForElement(e),i=jht(t,n).findIndex(([a,l])=>!Hht(a,l));return i==-1?[[],[]]:[t.slice(i),n.slice(i)]}readTokensForElement(e){let t=this.attributeName,n=e.getAttribute(t)||"";return Uht(n,e,t)}};eM=class{constructor(e,t,n){this.tokenListObserver=new QI(e,t,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){let{element:t}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(t).set(e,n),this.delegate.elementMatchedValue(t,n))}tokenUnmatched(e){let{element:t}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,n))}fetchParseResultForToken(e){let t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t}fetchValuesByTokenForElement(e){let t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(t){return{error:t}}}},R6=class{constructor(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new eM(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){let t=new M6(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)}disconnectAction(e){let t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e,!0)),this.bindingsByAction.clear()}parseValueForToken(e){let t=I6.forToken(e,this.schema);if(t.identifier==this.identifier)return t}elementMatchedValue(e,t){this.connectAction(t)}elementUnmatchedValue(e,t){this.disconnectAction(t)}},F6=class{constructor(e,t){this.context=e,this.receiver=t,this.stringMapObserver=new P6(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,t){let n=this.valueDescriptorMap[t];this.hasValue(e)||this.invokeChangedCallback(e,n.writer(this.receiver[e]),n.writer(n.defaultValue))}stringMapValueChanged(e,t,n){let i=this.valueDescriptorNameMap[t];e!==null&&(n===null&&(n=i.writer(i.defaultValue)),this.invokeChangedCallback(t,e,n))}stringMapKeyRemoved(e,t,n){let i=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,i.writer(this.receiver[e]),n):this.invokeChangedCallback(e,i.writer(i.defaultValue),n)}invokeChangedCallbacksForDefaultValues(){for(let{key:e,name:t,defaultValue:n,writer:i}of this.valueDescriptors)n!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(t,i(n),void 0)}invokeChangedCallback(e,t,n){let i=`${e}Changed`,a=this.receiver[i];if(typeof a=="function"){let l=this.valueDescriptorNameMap[e];try{let h=l.reader(t),g=n;n&&(g=l.reader(n)),a.call(this.receiver,h,g)}catch(h){throw h instanceof TypeError&&(h.message=`Stimulus Value "${this.context.identifier}.${l.name}" - ${h.message}`),h}}}get valueDescriptors(){let{valueDescriptorMap:e}=this;return Object.keys(e).map(t=>e[t])}get valueDescriptorNameMap(){let e={};return Object.keys(this.valueDescriptorMap).forEach(t=>{let n=this.valueDescriptorMap[t];e[n.name]=n}),e}hasValue(e){let t=this.valueDescriptorNameMap[e],n=`has${lE(t.name)}`;return this.receiver[n]}},q6=class{constructor(e,t){this.context=e,this.delegate=t,this.targetsByName=new Ug}start(){this.tokenListObserver||(this.tokenListObserver=new QI(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:t}){this.scope.containsElement(e)&&this.connectTarget(e,t)}tokenUnmatched({element:e,content:t}){this.disconnectTarget(e,t)}connectTarget(e,t){var n;this.targetsByName.has(t,e)||(this.targetsByName.add(t,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetConnected(e,t)))}disconnectTarget(e,t){var n;this.targetsByName.has(t,e)&&(this.targetsByName.delete(t,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetDisconnected(e,t)))}disconnectAllTargets(){for(let e of this.targetsByName.keys)for(let t of this.targetsByName.getValuesForKey(e))this.disconnectTarget(t,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};N6=class{constructor(e,t){this.started=!1,this.context=e,this.delegate=t,this.outletsByName=new Ug,this.outletElementsByName=new Ug,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e)}),this.started=!0,this.dependentContexts.forEach(e=>e.refresh()))}refresh(){this.selectorObserverMap.forEach(e=>e.refresh()),this.attributeObserverMap.forEach(e=>e.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(e=>e.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(e=>e.stop()),this.attributeObserverMap.clear())}selectorMatched(e,t,{outletName:n}){let i=this.getOutlet(e,n);i&&this.connectOutlet(i,e,n)}selectorUnmatched(e,t,{outletName:n}){let i=this.getOutletFromMap(e,n);i&&this.disconnectOutlet(i,e,n)}selectorMatchElement(e,{outletName:t}){let n=this.selector(t),i=this.hasOutlet(e,t),a=e.matches(`[${this.schema.controllerAttribute}~=${t}]`);return n?i&&a&&e.matches(n):!1}elementMatchedAttribute(e,t){let n=this.getOutletNameFromOutletAttributeName(t);n&&this.updateSelectorObserverForOutlet(n)}elementAttributeValueChanged(e,t){let n=this.getOutletNameFromOutletAttributeName(t);n&&this.updateSelectorObserverForOutlet(n)}elementUnmatchedAttribute(e,t){let n=this.getOutletNameFromOutletAttributeName(t);n&&this.updateSelectorObserverForOutlet(n)}connectOutlet(e,t,n){var i;this.outletElementsByName.has(n,t)||(this.outletsByName.add(n,e),this.outletElementsByName.add(n,t),(i=this.selectorObserverMap.get(n))===null||i===void 0||i.pause(()=>this.delegate.outletConnected(e,t,n)))}disconnectOutlet(e,t,n){var i;this.outletElementsByName.has(n,t)&&(this.outletsByName.delete(n,e),this.outletElementsByName.delete(n,t),(i=this.selectorObserverMap.get(n))===null||i===void 0||i.pause(()=>this.delegate.outletDisconnected(e,t,n)))}disconnectAllOutlets(){for(let e of this.outletElementsByName.keys)for(let t of this.outletElementsByName.getValuesForKey(e))for(let n of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(n,t,e)}updateSelectorObserverForOutlet(e){let t=this.selectorObserverMap.get(e);t&&(t.selector=this.selector(e))}setupSelectorObserverForOutlet(e){let t=this.selector(e),n=new L6(document.body,t,this,{outletName:e});this.selectorObserverMap.set(e,n),n.start()}setupAttributeObserverForOutlet(e){let t=this.attributeNameForOutletName(e),n=new JI(this.scope.element,t,this);this.attributeObserverMap.set(e,n),n.start()}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find(t=>this.attributeNameForOutletName(t)===e)}get outletDependencies(){let e=new Ug;return this.router.modules.forEach(t=>{let n=t.definition.controllerConstructor;uE(n,"outlets").forEach(a=>e.add(a,t.identifier))}),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let e=this.dependentControllerIdentifiers;return this.router.contexts.filter(t=>e.includes(t.identifier))}hasOutlet(e,t){return!!this.getOutlet(e,t)||!!this.getOutletFromMap(e,t)}getOutlet(e,t){return this.application.getControllerForElementAndIdentifier(e,t)}getOutletFromMap(e,t){return this.outletsByName.getValuesForKey(t).find(n=>n.element===e)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},B6=class{constructor(e,t){this.logDebugActivity=(n,i={})=>{let{identifier:a,controller:l,element:h}=this;i=Object.assign({identifier:a,controller:l,element:h},i),this.application.logDebugActivity(this.identifier,n,i)},this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new R6(this,this.dispatcher),this.valueObserver=new F6(this,this.controller),this.targetObserver=new q6(this,this),this.outletObserver=new N6(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(n){this.handleError(n,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,t,n={}){let{identifier:i,controller:a,element:l}=this;n=Object.assign({identifier:i,controller:a,element:l},n),this.application.handleError(e,`Error ${t}`,n)}targetConnected(e,t){this.invokeControllerMethod(`${t}TargetConnected`,e)}targetDisconnected(e,t){this.invokeControllerMethod(`${t}TargetDisconnected`,e)}outletConnected(e,t,n){this.invokeControllerMethod(`${D6(n)}OutletConnected`,e,t)}outletDisconnected(e,t,n){this.invokeControllerMethod(`${D6(n)}OutletDisconnected`,e,t)}invokeControllerMethod(e,...t){let n=this.controller;typeof n[e]=="function"&&n[e](...t)}};Jht=(()=>typeof Object.getOwnPropertySymbols=="function"?r=>[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)]:Object.getOwnPropertyNames)(),Qht=(()=>{function r(t){function n(){return Reflect.construct(t,arguments,new.target)}return n.prototype=Object.create(t.prototype,{constructor:{value:n}}),Reflect.setPrototypeOf(n,t),n}function e(){let n=r(function(){this.a.call(this)});return n.prototype.a=function(){},new n}try{return e(),r}catch{return n=>class extends n{}}})();z6=class{constructor(e,t){this.application=e,this.definition=edt(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){let t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()}disconnectContextForScope(e){let t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())}fetchContextForScope(e){let t=this.contextsByScope.get(e);return t||(t=new B6(this,e),this.contextsByScope.set(e,t)),t}},U6=class{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){let t=this.data.get(this.getDataKey(e))||"";return Rht(t)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}},j6=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){let t=this.getAttributeNameForKey(e);return this.element.getAttribute(t)}set(e,t){let n=this.getAttributeNameForKey(e);return this.element.setAttribute(n,t),this.get(e)}has(e){let t=this.getAttributeNameForKey(e);return this.element.hasAttribute(t)}delete(e){if(this.has(e)){let t=this.getAttributeNameForKey(e);return this.element.removeAttribute(t),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${Zpe(e)}`}},H6=class{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,t,n){let i=this.warnedKeysByObject.get(e);i||(i=new Set,this.warnedKeysByObject.set(e,i)),i.has(t)||(i.add(t),this.logger.warn(n,e))}};V6=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((t,n)=>t||this.findTarget(n)||this.findLegacyTarget(n),void 0)}findAll(...e){return e.reduce((t,n)=>[...t,...this.findAllTargets(n),...this.findAllLegacyTargets(n)],[])}findTarget(e){let t=this.getSelectorForTargetName(e);return this.scope.findElement(t)}findAllTargets(e){let t=this.getSelectorForTargetName(e);return this.scope.findAllElements(t)}getSelectorForTargetName(e){let t=this.schema.targetAttributeForScope(this.identifier);return W6(t,e)}findLegacyTarget(e){let t=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(t),e)}findAllLegacyTargets(e){let t=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(t).map(n=>this.deprecate(n,e))}getLegacySelectorForTargetName(e){let t=`${this.identifier}.${e}`;return W6(this.schema.targetAttribute,t)}deprecate(e,t){if(e){let{identifier:n}=this,i=this.schema.targetAttribute,a=this.schema.targetAttributeForScope(n);this.guide.warn(e,`target:${t}`,`Please replace ${i}="${n}.${t}" with ${a}="${t}". The ${i} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}},$6=class{constructor(e,t){this.scope=e,this.controllerElement=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((t,n)=>t||this.findOutlet(n),void 0)}findAll(...e){return e.reduce((t,n)=>[...t,...this.findAllOutlets(n)],[])}getSelectorForOutletName(e){let t=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(t)}findOutlet(e){let t=this.getSelectorForOutletName(e);if(t)return this.findElement(t,e)}findAllOutlets(e){let t=this.getSelectorForOutletName(e);return t?this.findAllElements(t,e):[]}findElement(e,t){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,t))[0]}findAllElements(e,t){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,t))}matchesElement(e,t,n){let i=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(t)&&i.split(" ").includes(n)}},aE=class{constructor(e,t,n,i){this.targets=new V6(this),this.classes=new U6(this),this.data=new j6(this),this.containsElement=a=>a.closest(this.controllerSelector)===this.element,this.schema=e,this.element=t,this.identifier=n,this.guide=new H6(i),this.outlets=new $6(this.documentScope,t)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return W6(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new aE(this.schema,document.documentElement,this.identifier,this.guide.logger)}},G6=class{constructor(e,t,n){this.element=e,this.schema=t,this.delegate=n,this.valueListObserver=new eM(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){let{element:t,content:n}=e;return this.parseValueForElementAndIdentifier(t,n)}parseValueForElementAndIdentifier(e,t){let n=this.fetchScopesByIdentifierForElement(e),i=n.get(t);return i||(i=this.delegate.createScopeForElementAndIdentifier(e,t),n.set(t,i)),i}elementMatchedValue(e,t){let n=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,n),n==1&&this.delegate.scopeConnected(t)}elementUnmatchedValue(e,t){let n=this.scopeReferenceCounts.get(t);n&&(this.scopeReferenceCounts.set(t,n-1),n==1&&this.delegate.scopeDisconnected(t))}fetchScopesByIdentifierForElement(e){let t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t}},K6=class{constructor(e){this.application=e,this.scopeObserver=new G6(this.element,this.schema,this),this.scopesByIdentifier=new Ug,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,t)=>e.concat(t.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);let t=new z6(this.application,e);this.connectModule(t);let n=e.controllerConstructor.afterLoad;n&&n.call(e.controllerConstructor,e.identifier,this.application)}unloadIdentifier(e){let t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)}getContextForElementAndIdentifier(e,t){let n=this.modulesByIdentifier.get(t);if(n)return n.contexts.find(i=>i.element==e)}proposeToConnectScopeForElementAndIdentifier(e,t){let n=this.scopeObserver.parseValueForElementAndIdentifier(e,t);n?this.scopeObserver.elementMatchedValue(n.element,n):console.error(`Couldn't find or create scope for identifier: "${t}" and element:`,e)}handleError(e,t,n){this.application.handleError(e,t,n)}createScopeForElementAndIdentifier(e,t){return new aE(this.schema,e,t,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);let t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);let t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.connectContextForScope(n))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.disconnectContextForScope(n))}},tdt={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:r=>`data-${r}-target`,outletAttributeForScope:(r,e)=>`data-${r}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},Wpe("abcdefghijklmnopqrstuvwxyz".split("").map(r=>[r,r]))),Wpe("0123456789".split("").map(r=>[r,r])))};tM=class{constructor(e=document.documentElement,t=tdt){this.logger=console,this.debug=!1,this.logDebugActivity=(n,i,a={})=>{this.debug&&this.logFormattedMessage(n,i,a)},this.element=e,this.schema=t,this.dispatcher=new A6(this),this.router=new K6(this),this.actionDescriptorFilters=Object.assign({},Dht)}static start(e,t){let n=new this(e,t);return n.start(),n}async start(){await rdt(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,t){this.load({identifier:e,controllerConstructor:t})}registerActionOption(e,t){this.actionDescriptorFilters[e]=t}load(e,...t){(Array.isArray(e)?e:[e,...t]).forEach(i=>{i.controllerConstructor.shouldLoad&&this.router.loadDefinition(i)})}unload(e,...t){(Array.isArray(e)?e:[e,...t]).forEach(i=>this.router.unloadIdentifier(i))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,t){let n=this.router.getContextForElementAndIdentifier(e,t);return n?n.controller:null}handleError(e,t,n){var i;this.logger.error(`%s

%o

%o`,t,e,n),(i=window.onerror)===null||i===void 0||i.call(window,t,"",0,0,e)}logFormattedMessage(e,t,n={}){n=Object.assign({application:this},n),this.logger.groupCollapsed(`${e} #${t}`),this.logger.log("details:",Object.assign({},n)),this.logger.groupEnd()}};Gpe={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},mdt={array(r){let e=JSON.parse(r);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${r}" of type "${sE(e)}"`);return e},boolean(r){return!(r=="0"||String(r).toLowerCase()=="false")},number(r){return Number(r.replace(/_/g,""))},object(r){let e=JSON.parse(r);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${r}" of type "${sE(e)}"`);return e},string(r){return r}},Kpe={default:gdt,array:Ype,object:Ype};nn=class{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,t){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:t=this.element,detail:n={},prefix:i=this.identifier,bubbles:a=!0,cancelable:l=!0}={}){let h=i?`${i}:${e}`:e,g=new CustomEvent(h,{detail:n,bubbles:a,cancelable:l});return t.dispatchEvent(g),g}};nn.blessings=[ndt,sdt,udt,odt];nn.targets=[];nn.outlets=[];nn.values={}});var W_,Z6,cE,nM,X6,iM,fE,J6,Q6,eme=ze(()=>{bo();W_=class extends nn{initialize(){this.hide()}connect(){setTimeout(()=>{this.show()},this.showDelayValue),this.hasDismissAfterValue&&setTimeout(()=>{this.close()},this.dismissAfterValue)}close(){this.hide(),setTimeout(()=>{this.element.remove()},this.removeDelayValue)}show(){this.element.classList.add(...this.showClasses),this.element.classList.remove(...this.hideClasses)}hide(){this.element.classList.add(...this.hideClasses),this.element.classList.remove(...this.showClasses)}};W_.values={dismissAfter:Number,showDelay:{type:Number,default:200},removeDelay:{type:Number,default:1100}},W_.classes=["show","hide"];Z6=class extends nn{connect(){this.timeout=null,this.duration=this.data.get("duration")||1e3}save(){clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.statusTarget.textContent="Saving...",Rails.fire(this.formTarget,"submit")},this.duration)}success(){this.setStatus("Saved!")}error(){this.setStatus("Unable to save!")}setStatus(e){this.statusTarget.textContent=e,this.timeout=setTimeout(()=>{this.statusTarget.textContent=""},2e3)}};Z6.targets=["form","status"];cE=class extends nn{constructor(...e){super(...e),this._onMenuButtonKeydown=t=>{switch(t.keyCode){case 13:case 32:t.preventDefault(),this.toggle()}}}connect(){this.toggleClass=this.data.get("class")||"hidden",this.visibleClass=this.data.get("visibleClass")||null,this.invisibleClass=this.data.get("invisibleClass")||null,this.activeClass=this.data.get("activeClass")||null,this.enteringClass=this.data.get("enteringClass")||null,this.leavingClass=this.data.get("leavingClass")||null,this.hasButtonTarget&&this.buttonTarget.addEventListener("keydown",this._onMenuButtonKeydown),this.element.setAttribute("aria-haspopup","true")}disconnect(){this.hasButtonTarget&&this.buttonTarget.removeEventListener("keydown",this._onMenuButtonKeydown)}toggle(){this.openValue=!this.openValue}openValueChanged(){this.openValue?this._show():this._hide()}_show(e){setTimeout((()=>{this.menuTarget.classList.remove(this.toggleClass),this.element.setAttribute("aria-expanded","true"),this._enteringClassList[0].forEach((t=>{this.menuTarget.classList.add(t)}).bind(this)),this._activeClassList[0].forEach(t=>{this.activeTarget.classList.add(t)}),this._invisibleClassList[0].forEach(t=>this.menuTarget.classList.remove(t)),this._visibleClassList[0].forEach(t=>{this.menuTarget.classList.add(t)}),setTimeout((()=>{this._enteringClassList[0].forEach(t=>this.menuTarget.classList.remove(t))}).bind(this),this.enterTimeout[0]),typeof e=="function"&&e()}).bind(this))}_hide(e){setTimeout((()=>{this.element.setAttribute("aria-expanded","false"),this._invisibleClassList[0].forEach(t=>this.menuTarget.classList.add(t)),this._visibleClassList[0].forEach(t=>this.menuTarget.classList.remove(t)),this._activeClassList[0].forEach(t=>this.activeTarget.classList.remove(t)),this._leavingClassList[0].forEach(t=>this.menuTarget.classList.add(t)),setTimeout((()=>{this._leavingClassList[0].forEach(t=>this.menuTarget.classList.remove(t)),typeof e=="function"&&e(),this.menuTarget.classList.add(this.toggleClass)}).bind(this),this.leaveTimeout[0])}).bind(this))}show(){this.openValue=!0}hide(e){this.element.contains(e.target)===!1&&this.openValue&&(this.openValue=!1)}get activeTarget(){return this.data.has("activeTarget")?document.querySelector(this.data.get("activeTarget")):this.element}get _activeClassList(){return this.activeClass?this.activeClass.split(",").map(e=>e.split(" ")):[[],[]]}get _visibleClassList(){return this.visibleClass?this.visibleClass.split(",").map(e=>e.split(" ")):[[],[]]}get _invisibleClassList(){return this.invisibleClass?this.invisibleClass.split(",").map(e=>e.split(" ")):[[],[]]}get _enteringClassList(){return this.enteringClass?this.enteringClass.split(",").map(e=>e.split(" ")):[[],[]]}get _leavingClassList(){return this.leavingClass?this.leavingClass.split(",").map(e=>e.split(" ")):[[],[]]}get enterTimeout(){return(this.data.get("enterTimeout")||"0,0").split(",").map(e=>parseInt(e))}get leaveTimeout(){return(this.data.get("leaveTimeout")||"0,0").split(",").map(e=>parseInt(e))}};cE.targets=["menu","button"],cE.values={open:Boolean};nM=class extends nn{connect(){this.toggleClass=this.data.get("class")||"hidden",this.backgroundId=this.data.get("backgroundId")||"modal-background",this.backgroundHtml=this.data.get("backgroundHtml")||this._backgroundHTML(),this.allowBackgroundClose=(this.data.get("allowBackgroundClose")||"true")==="true",this.preventDefaultActionOpening=(this.data.get("preventDefaultActionOpening")||"true")==="true",this.preventDefaultActionClosing=(this.data.get("preventDefaultActionClosing")||"true")==="true"}disconnect(){this.close()}open(e){this.preventDefaultActionOpening&&e.preventDefault(),e.target.blur&&e.target.blur(),this.lockScroll(),this.containerTarget.classList.remove(this.toggleClass),this.data.get("disable-backdrop")||(document.body.insertAdjacentHTML("beforeend",this.backgroundHtml),this.background=document.querySelector(`#${this.backgroundId}`))}close(e){e&&this.preventDefaultActionClosing&&e.preventDefault(),this.unlockScroll(),this.containerTarget.classList.add(this.toggleClass),this.background&&this.background.remove()}closeBackground(e){this.allowBackgroundClose&&e.target===this.containerTarget&&this.close(e)}closeWithKeyboard(e){e.keyCode!==27||this.containerTarget.classList.contains(this.toggleClass)||this.close(e)}_backgroundHTML(){return`<div id="${this.backgroundId}" class="fixed top-0 left-0 w-full h-full" style="background-color: ${this.backdropColorValue}; z-index: 9998;"></div>`}lockScroll(){let e=window.innerWidth-document.documentElement.clientWidth;document.body.style.paddingRight=`${e}px`,this.saveScrollPosition(),document.body.classList.add("fixed","inset-x-0","overflow-hidden"),document.body.style.top=`-${this.scrollPosition}px`}unlockScroll(){document.body.style.paddingRight=null,document.body.classList.remove("fixed","inset-x-0","overflow-hidden"),this.restoreScrollValue&&this.restoreScrollPosition(),document.body.style.top=null}saveScrollPosition(){this.scrollPosition=window.pageYOffset||document.body.scrollTop}restoreScrollPosition(){this.scrollPosition!==void 0&&(document.documentElement.scrollTop=this.scrollPosition)}};nM.targets=["container"],nM.values={backdropColor:{type:String,default:"rgba(0, 0, 0, 0.8)"},restoreScroll:{type:Boolean,default:!0}};X6=class extends nn{connect(){this.activeTabClasses=(this.data.get("activeTab")||"active").split(" "),this.inactiveTabClasses=(this.data.get("inactiveTab")||"inactive").split(" "),this.anchor&&(this.index=this.tabTargets.findIndex(e=>e.id===this.anchor)),this.showTab()}change(e){e.preventDefault(),this.index=e.currentTarget.dataset.index?e.currentTarget.dataset.index:e.currentTarget.dataset.id?this.tabTargets.findIndex(t=>t.id==e.currentTarget.dataset.id):this.tabTargets.indexOf(e.currentTarget),window.dispatchEvent(new CustomEvent("tsc:tab-change"))}showTab(){this.tabTargets.forEach((e,t)=>{let n=this.panelTargets[t];t===this.index?(n.classList.remove("hidden"),e.classList.remove(...this.inactiveTabClasses),e.classList.add(...this.activeTabClasses),e.id&&(location.hash=e.id)):(n.classList.add("hidden"),e.classList.remove(...this.activeTabClasses),e.classList.add(...this.inactiveTabClasses))})}get index(){return parseInt(this.data.get("index")||0)}set index(e){this.data.set("index",e>=0?e:0),this.showTab()}get anchor(){return document.URL.split("#").length>1?document.URL.split("#")[1]:null}};X6.targets=["tab","panel"];iM=class extends nn{connect(){this.toggleClass=this.data.get("class")||"hidden"}toggle(e){e.preventDefault(),this.openValue=!this.openValue}hide(e){e.preventDefault(),this.openValue=!1}show(e){e.preventDefault(),this.openValue=!0}openValueChanged(){this.toggleClass&&this.toggleableTargets.forEach(e=>{e.classList.toggle(this.toggleClass)})}};iM.targets=["toggleable"],iM.values={open:Boolean};fE=class extends nn{initialize(){this.contentTarget.setAttribute("style",`transform:translate(${this.data.get("translateX")}, ${this.data.get("translateY")});`)}mouseOver(){this.contentTarget.classList.remove("hidden")}mouseOut(){this.contentTarget.classList.add("hidden")}toggle(){this.contentTarget.classList.contains("hidden")?this.contentTarget.classList.remove("hidden"):this.contentTarget.classList.add("hidden")}};fE.targets=["content"];J6=class extends cE{_show(){this.overlayTarget.classList.remove(this.toggleClass),super._show((()=>{this._activeClassList[1].forEach(e=>this.overlayTarget.classList.add(e)),this._invisibleClassList[1].forEach(e=>this.overlayTarget.classList.remove(e)),this._visibleClassList[1].forEach(e=>this.overlayTarget.classList.add(e)),setTimeout((()=>{this._enteringClassList[1].forEach(e=>this.overlayTarget.classList.remove(e))}).bind(this),this.enterTimeout[1])}).bind(this))}_hide(){this._leavingClassList[1].forEach(e=>this.overlayTarget.classList.add(e)),super._hide((()=>{setTimeout((()=>{this._visibleClassList[1].forEach(e=>this.overlayTarget.classList.remove(e)),this._invisibleClassList[1].forEach(e=>this.overlayTarget.classList.add(e)),this._activeClassList[1].forEach(e=>this.overlayTarget.classList.remove(e)),this._leavingClassList[1].forEach(e=>this.overlayTarget.classList.remove(e)),this.overlayTarget.classList.add(this.toggleClass)}).bind(this),this.leaveTimeout[1])}).bind(this))}};J6.targets=["menu","overlay"];Q6=class extends nn{connect(){this.styleProperty=this.data.get("style")||"backgroundColor"}update(){this.preview=this.color}set preview(e){this.previewTarget.style[this.styleProperty]=e;let t=this._getContrastYIQ(e);this.styleProperty==="color"?this.previewTarget.style.backgroundColor=t:this.previewTarget.style.color=t}get color(){return this.colorTarget.value}_getContrastYIQ(e){return e=e.replace("#",""),(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3>=128?"#000":"#fff"}};Q6.targets=["preview","color"]});function vdt(r,e){var t=e.attributes,n,i,a,l,h;if(!(e.nodeType===tme||r.nodeType===tme)){for(var g=t.length-1;g>=0;g--)n=t[g],i=n.name,a=n.namespaceURI,l=n.value,a?(i=n.localName||i,h=r.getAttributeNS(a,i),h!==l&&(n.prefix==="xmlns"&&(i=n.name),r.setAttributeNS(a,i,l))):(h=r.getAttribute(i),h!==l&&r.setAttribute(i,l));for(var w=r.attributes,C=w.length-1;C>=0;C--)n=w[C],i=n.name,a=n.namespaceURI,a?(i=n.localName||i,e.hasAttributeNS(a,i)||r.removeAttributeNS(a,i)):e.hasAttribute(i)||r.removeAttribute(i)}}function _dt(r){var e=Ch.createElement("template");return e.innerHTML=r,e.content.childNodes[0]}function wdt(r){oM||(oM=Ch.createRange(),oM.selectNode(Ch.body));var e=oM.createContextualFragment(r);return e.childNodes[0]}function Sdt(r){var e=Ch.createElement("body");return e.innerHTML=r,e.childNodes[0]}function Tdt(r){return r=r.trim(),bdt?_dt(r):xdt?wdt(r):Sdt(r)}function aM(r,e){var t=r.nodeName,n=e.nodeName,i,a;return t===n?!0:(i=t.charCodeAt(0),a=n.charCodeAt(0),i<=90&&a>=97?t===n.toUpperCase():a<=90&&i>=97?n===t.toUpperCase():!1)}function Edt(r,e){return!e||e===ydt?Ch.createElement(r):Ch.createElementNS(e,r)}function kdt(r,e){for(var t=r.firstChild;t;){var n=t.nextSibling;e.appendChild(t),t=n}return e}function eU(r,e,t){r[t]!==e[t]&&(r[t]=e[t],r[t]?r.setAttribute(t,""):r.removeAttribute(t))}function ay(){}function Cdt(r){if(r)return r.getAttribute&&r.getAttribute("id")||r.id}function Adt(r){return function(t,n,i){if(i||(i={}),typeof n=="string")if(t.nodeName==="#document"||t.nodeName==="HTML"||t.nodeName==="BODY"){var a=n;n=Ch.createElement("html"),n.innerHTML=a}else n=Tdt(n);else n.nodeType===nme&&(n=n.firstElementChild);var l=i.getNodeKey||Cdt,h=i.onBeforeNodeAdded||ay,g=i.onNodeAdded||ay,w=i.onBeforeElUpdated||ay,C=i.onElUpdated||ay,D=i.onBeforeNodeDiscarded||ay,F=i.onNodeDiscarded||ay,z=i.onBeforeElChildrenUpdated||ay,Y=i.skipFromChildren||ay,$=i.addChild||function(V,te){return V.appendChild(te)},re=i.childrenOnly===!0,oe=Object.create(null),ne=[];function he(V){ne.push(V)}function _(V,te){if(V.nodeType===hE)for(var _e=V.firstChild;_e;){var K=void 0;te&&(K=l(_e))?he(K):(F(_e),_e.firstChild&&_(_e,te)),_e=_e.nextSibling}}function ge(V,te,_e){D(V)!==!1&&(te&&te.removeChild(V),F(V),_(V,_e))}function fe(V){if(V.nodeType===hE||V.nodeType===nme)for(var te=V.firstChild;te;){var _e=l(te);_e&&(oe[_e]=te),fe(te),te=te.nextSibling}}fe(t);function me(V){g(V);for(var te=V.firstChild;te;){var _e=te.nextSibling,K=l(te);if(K){var U=oe[K];U&&aM(te,U)?(te.parentNode.replaceChild(U,te),Se(U,te)):me(te)}else me(te);te=_e}}function we(V,te,_e){for(;te;){var K=te.nextSibling;(_e=l(te))?he(_e):ge(te,V,!0),te=K}}function Se(V,te,_e){var K=l(te);K&&delete oe[K],!(!_e&&(w(V,te)===!1||(r(V,te),C(V),z(V,te)===!1)))&&(V.nodeName!=="TEXTAREA"?be(V,te):rme.TEXTAREA(V,te))}function be(V,te){var _e=Y(V),K=te.firstChild,U=V.firstChild,Ue,Je,Qe,Ct,Tt;e:for(;K;){for(Ct=K.nextSibling,Ue=l(K);!_e&&U;){if(Qe=U.nextSibling,K.isSameNode&&K.isSameNode(U)){K=Ct,U=Qe;continue e}Je=l(U);var Ht=U.nodeType,Rt=void 0;if(Ht===K.nodeType&&(Ht===hE?(Ue?Ue!==Je&&((Tt=oe[Ue])?Qe===Tt?Rt=!1:(V.insertBefore(Tt,U),Je?he(Je):ge(U,V,!0),U=Tt):Rt=!1):Je&&(Rt=!1),Rt=Rt!==!1&&aM(U,K),Rt&&Se(U,K)):(Ht===ime||Ht==ome)&&(Rt=!0,U.nodeValue!==K.nodeValue&&(U.nodeValue=K.nodeValue))),Rt){K=Ct,U=Qe;continue e}Je?he(Je):ge(U,V,!0),U=Qe}if(Ue&&(Tt=oe[Ue])&&aM(Tt,K))$(V,Tt),Se(Tt,K);else{var Yt=h(K);Yt!==!1&&(Yt&&(K=Yt),K.actualize&&(K=K.actualize(V.ownerDocument||Ch)),$(V,K),me(K))}K=Ct,U=Qe}we(V,U,Je);var cr=rme[V.nodeName];cr&&cr(V,te)}var $e=t,q=$e.nodeType,ee=n.nodeType;if(!re){if(q===hE)ee===hE?aM(t,n)||(F(t),$e=kdt(t,Edt(n.nodeName,n.namespaceURI))):$e=n;else if(q===ime||q===ome){if(ee===q)return $e.nodeValue!==n.nodeValue&&($e.nodeValue=n.nodeValue),$e;$e=n}}if($e===n)F(t);else{if(n.isSameNode&&n.isSameNode($e))return;if(Se($e,n,re),ne)for(var R=0,j=ne.length;R<j;R++){var G=oe[ne[R]];G&&ge(G,G.parentNode,!1)}}return!re&&$e!==t&&t.parentNode&&($e.actualize&&($e=$e.actualize(t.ownerDocument||Ch)),t.parentNode.replaceChild($e,t)),$e}}function Odt(){let r={childrenOnly:this.hasAttribute("children-only")};this.targetElements.forEach(e=>{Ddt(e,r.childrenOnly?this.templateContent:this.templateElement.innerHTML,r)})}function rU(r){return r.replace(/(?:[_-])([a-z0-9])/g,(e,t)=>t.toUpperCase())}function Mdt(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Ldt(r){return r.replace(/([A-Z])/g,(e,t)=>`-${t.toLowerCase()}`)}function sM(r){return r?r.match(/[^\s]+/g)||[]:[]}function nU(r){try{return JSON.parse(r)}catch{return r}}function sme(){let r=sM(this.getAttribute("classes"));r.length>0?this.targetElements.forEach(e=>e.classList.add(...r)):console.warn('[TurboPower] no "classes" provided for Turbo Streams operation "add_css_class"')}function lme(){let r=this.getAttribute("attribute");r?this.targetElements.forEach(e=>e.removeAttribute(r)):console.warn('[TurboPower] no "attribute" provided for Turbo Streams operation "remove_attribute"')}function ume(){let r=sM(this.getAttribute("classes"));r.length>0?this.targetElements.forEach(e=>e.classList.remove(...r)):console.warn('[TurboPower] no "classes" provided for Turbo Streams operation "remove_css_class"')}function cme(){let r=this.getAttribute("attribute"),e=this.getAttribute("value")||"";r?this.targetElements.forEach(t=>t.setAttribute(r,e)):console.warn('[TurboPower] no "attribute" provided for Turbo Streams operation "set_attribute"')}function fme(){let r=this.getAttribute("attribute"),e=this.getAttribute("value")||"";r?this.targetElements.forEach(t=>t.dataset[rU(r)]=e):console.warn('[TurboPower] no "attribute" provided for Turbo Streams operation "set_dataset_attribute"')}function hme(){let r=this.getAttribute("name"),e=nU(this.getAttribute("value")||"");r?this.targetElements.forEach(t=>t[r]=e):console.error('[TurboPower] no "name" provided for Turbo Streams operation "set_property"')}function dme(){let r=this.getAttribute("name"),e=this.getAttribute("value")||"";r?this.targetElements.forEach(t=>t.style[r]=e):console.error('[TurboPower] no "name" provided for Turbo Streams operation "set_style"')}function pme(){let r=this.getAttribute("styles")||"";this.targetElements.forEach(e=>e.setAttribute("style",r))}function mme(){let r=this.getAttribute("value")||"";this.targetElements.forEach(e=>e.value=r)}function gme(){let r=sM(this.getAttribute("classes"));r.length>0?this.targetElements.forEach(e=>{r.forEach(t=>e.classList.toggle(t))}):console.warn('[TurboPower] no "classes" provided for Turbo Streams operation "toggle_css_class"')}function vme(){let r=this.getAttribute("from")||"",e=this.getAttribute("to")||"";r&&e?this.targetElements.forEach(t=>{t.classList.replace(r,e)||console.warn(`[TurboPower] The "${r}" CSS class provided in the "from" attribute for the "replace_css_class" action was not found on the target element. No replacements made.`,t)}):console.warn('[TurboPower] no "from" or "to" class provided for Turbo Streams operation "replace_css_class"')}function yme(r){r.add_css_class=sme,r.remove_css_class=ume,r.remove_attribute=lme,r.set_attribute=cme,r.set_dataset_attribute=fme,r.set_property=hme,r.set_style=dme,r.set_styles=pme,r.set_value=mme,r.toggle_css_class=gme,r.replace_css_class=vme}function bme(){window.location.reload()}function xme(){let r=this.getAttribute("align-to-top"),e=this.getAttribute("block"),t=this.getAttribute("inline"),n=this.getAttribute("behavior");if(r)this.targetElements.forEach(i=>i.scrollIntoView(r==="true"));else if(e||t||n){let i={};e&&(i.block=e),t&&(i.inline=t),n&&(i.behavior=n),this.targetElements.forEach(a=>a.scrollIntoView(i))}else this.targetElements.forEach(i=>i.scrollIntoView())}function _me(){this.targetElements.forEach(r=>r.focus())}function wme(){let r=this.getAttribute("title")||"",e=document.head.querySelector("title");e||(e=document.createElement("title"),document.head.appendChild(e)),e.textContent=r}function Sme(r){r.reload=bme,r.scroll_into_view=xme,r.set_focus=_me,r.set_title=wme}function Tme(){let r=this.getAttribute("message"),e=this.getAttribute("level")||"log";console[e](r)}function Eme(){let r=JSON.parse(this.getAttribute("data")||"[]"),e=JSON.parse(this.getAttribute("columns")||"[]");console.table(r,e)}function kme(r){r.console_log=Tme,r.console_table=Eme}function Cme(){console.warn("[TurboPower] The `invoke` Turbo Stream Action was removed from TurboPower. If you'd like to continue using this action please use the successor library instead. Read more here: https://github.com/hopsoft/turbo_boost-streams")}function Ame(r){r.invoke||(r.invoke=Cme)}function Dme(){let r=this.getAttribute("cookie")||"";document.cookie=r}function Ome(){let r=new tU(this);document.cookie=r.build()}function Ime(r){r.set_cookie=Dme,r.set_cookie_item=Ome}function Mme(){let r=this.getAttribute("parent");if(r){let e=document.querySelector(r);e?this.targetElements.forEach(t=>e.appendChild(t)):console.error(`[TurboPower] couldn't find parent element using selector "${r}" for Turbo Streams operation "graft"`)}else console.error('[TurboPower] no "parent" selector provided for Turbo Streams operation "graft"')}function Lme(){let r=this.templateContent.textContent||"";this.targetElements.forEach(e=>e.innerHTML=r)}function Pme(){let r=this.getAttribute("position")||"beforebegin",e=this.templateContent.textContent||"";this.targetElements.forEach(t=>t.insertAdjacentHTML(r,e))}function Rme(){let r=this.getAttribute("position")||"beforebegin",e=this.getAttribute("text")||"";this.targetElements.forEach(t=>t.insertAdjacentText(r,e))}function Fme(){let r=this.templateContent.textContent||"";this.targetElements.forEach(e=>e.outerHTML=r)}function qme(){let r=this.getAttribute("name"),e=this.getAttribute("content")||"";if(r){let t=document.head.querySelector(`meta[name='${r}']`);t||(t=document.createElement("meta"),t.name=r,document.head.appendChild(t)),t.content=e}else console.error('[TurboPower] no "name" provided for Turbo Streams operation "set_meta"')}function Nme(){let r=this.getAttribute("text")||"";this.targetElements.forEach(e=>e.textContent=r)}function Bme(r){r.graft=Mme,r.inner_html=Lme,r.insert_adjacent_html=Pme,r.insert_adjacent_text=Rme,r.outer_html=Fme,r.text_content=Nme,r.set_meta=qme}function zme(){let r=this.getAttribute("name"),e=null;try{e=this.templateContent.textContent}catch{}try{let t=e?JSON.parse(e):{};if(r){let n={bubbles:!0,cancelable:!0,detail:t},i=new CustomEvent(r,n);this.targetElements.forEach(a=>a.dispatchEvent(i))}else console.warn('[TurboPower] no "name" provided for Turbo Streams operation "dispatch_event"')}catch(t){console.error(`[TurboPower] error proccessing provided "detail" in "<template>" ("${e}") for Turbo Streams operation "dispatch_event".`,`Error: "${t.message}"`)}}function Ume(r){r.dispatch_event=zme}function jme(){this.targetElements.forEach(r=>r.reset())}function Hme(r){r.reset_form=jme}function Wme(){let r=this.getAttribute("url"),e=this.getAttribute("state"),t=this.getAttribute("title")||"";window.history.pushState(e,t,r)}function Vme(){let r=this.getAttribute("url"),e=this.getAttribute("state"),t=this.getAttribute("title")||"";window.history.replaceState(e,t,r)}function $me(){window.history.back()}function Rdt(){window.history.forward()}function Gme(){let r=Number(this.getAttribute("delta"))||0;window.history.go(r)}function Kme(r){r.push_state=Wme,r.replace_state=Vme,r.history_back=$me,r.history_go=Gme}function Yme(){window.Notification?Notification.permission==="granted"?ame(this):Notification.permission!=="denied"&&Notification.requestPermission().then(r=>{r==="granted"&&ame(this)}):alert("This browser does not support desktop notification")}function Zme(r){r.notification=Yme}function iU(r){return r==="session"?window.sessionStorage:window.localStorage}function Xme(){let r=this.getAttribute("type");iU(r).clear()}function Jme(){let r=this.getAttribute("key"),e=this.getAttribute("value")||"",t=this.getAttribute("type");r?iU(t).setItem(r,e):console.warn('[TurboPower] no "key" provided for Turbo Streams operation "set_storage_item"')}function Qme(){let r=this.getAttribute("key"),e=this.getAttribute("type");r?iU(e).removeItem(r):console.warn('[TurboPower] no "key" provided for Turbo Streams operation "remove_storage_item"')}function ege(r){r.clear_storage=Xme,r.set_storage_item=Jme,r.remove_storage_item=Qme}function tge(){let r=this.getAttribute("url")||"/",e=this.getAttribute("turbo-action")||"advance",t=this.getAttribute("turbo-frame"),n=this.getAttribute("turbo")!=="false",i={action:e};t&&(i.frame=t),n&&window.Turbo?window.Turbo.visit(r,i):qdt.location.assign(r)}function rge(){window.Turbo.cache.clear()}function nge(r){r.redirect_to=tge,r.turbo_clear_cache=rge}function ige(){let r=this.getAttribute("value")||0;window.Turbo.navigator.adapter.progressBar.setValue(Number(r))}function oge(){window.Turbo.navigator.adapter.progressBar.show()}function age(){window.Turbo.navigator.adapter.progressBar.hide()}function sge(r){r.turbo_progress_bar_set_value=ige,r.turbo_progress_bar_show=oge,r.turbo_progress_bar_hide=age}function lge(){this.targetElements.forEach(r=>r.reload())}function uge(){let r=this.getAttribute("src");this.targetElements.forEach(e=>e.src=r)}function cge(r){r.turbo_frame_reload=lge,r.turbo_frame_set_src=uge}function fge(r){yme(r),Sme(r),kme(r),Ame(r),Ime(r),Bme(r),Ume(r),Hme(r),Kme(r),Zme(r),ege(r),nge(r),sge(r),cge(r)}function Bdt(r){Idt(r),fge(r)}function zdt(r,e,t){t[r]=e}var tme,oM,ydt,Ch,bdt,xdt,rme,hE,nme,ime,ome,Ddt,Idt,Pdt,tU,Fdt,ame,qdt,Ndt,hge,dge=ze(()=>{tme=11;ydt="http://www.w3.org/1999/xhtml",Ch=typeof document>"u"?void 0:document,bdt=!!Ch&&"content"in Ch.createElement("template"),xdt=!!Ch&&Ch.createRange&&"createContextualFragment"in Ch.createRange();rme={OPTION:function(r,e){var t=r.parentNode;if(t){var n=t.nodeName.toUpperCase();n==="OPTGROUP"&&(t=t.parentNode,n=t&&t.nodeName.toUpperCase()),n==="SELECT"&&!t.hasAttribute("multiple")&&(r.hasAttribute("selected")&&!e.selected&&(r.setAttribute("selected","selected"),r.removeAttribute("selected")),t.selectedIndex=-1)}eU(r,e,"selected")},INPUT:function(r,e){eU(r,e,"checked"),eU(r,e,"disabled"),r.value!==e.value&&(r.value=e.value),e.hasAttribute("value")||r.removeAttribute("value")},TEXTAREA:function(r,e){var t=e.value;r.value!==t&&(r.value=t);var n=r.firstChild;if(n){var i=n.nodeValue;if(i==t||!t&&i==r.placeholder)return;n.nodeValue=t}},SELECT:function(r,e){if(!e.hasAttribute("multiple")){for(var t=-1,n=0,i=r.firstChild,a,l;i;)if(l=i.nodeName&&i.nodeName.toUpperCase(),l==="OPTGROUP")a=i,i=a.firstChild;else{if(l==="OPTION"){if(i.hasAttribute("selected")){t=n;break}n++}i=i.nextSibling,!i&&a&&(i=a.nextSibling,a=null)}r.selectedIndex=t}}},hE=1,nme=11,ime=3,ome=8;Ddt=Adt(vdt);Idt=r=>{r.morph=Odt};Pdt=Object.freeze({__proto__:null,camelize:rU,capitalize:Mdt,dasherize:Ldt,tokenize:sM,typecast:nU});tU=class{constructor(e){this.ATTRIBUTE_TO_COOKIE_KEY_MAPPING=[["domain","Domain",!1],["path","Path",!1],["expires","Expires",!1],["max-age","Max-Age",!1],["http-only","HttpOnly",!0],["secure","Secure",!0],["same-site","SameSite",!1]],this.streamElement=e}build(){let e=`${this.streamElement.getAttribute("name")}=${this.streamElement.getAttribute("value")}`;return this.ATTRIBUTE_TO_COOKIE_KEY_MAPPING.forEach(([t,n,i])=>{let a=this.streamElement.getAttribute(t);if(a!==null){let l=i?n:`${n}=${a}`;e=`${e}; ${l}`}}),e}};Fdt=["dir","lang","badge","body","tag","icon","image","data","vibrate","renotify","require-interaction","actions","silent"],ame=r=>{let e=r.getAttribute("title")||"",t=Array.from(r.attributes).filter(i=>Fdt.includes(i.name)).map(i=>[rU(i.name),nU(i.value)]),n=Object.fromEntries(t);new Notification(e,n)};qdt={get location(){return window.TurboPowerLocation||window.location}};Ndt=Object.freeze({__proto__:null,add_css_class:sme,clear_storage:Xme,console_log:Tme,console_table:Eme,dispatch_event:zme,graft:Mme,history_back:$me,history_forward:Rdt,history_go:Gme,inner_html:Lme,insert_adjacent_html:Pme,insert_adjacent_text:Rme,invoke:Cme,notification:Yme,outer_html:Fme,push_state:Wme,redirect_to:tge,register:fge,registerAttributesActions:yme,registerBrowserActions:Sme,registerDOMActions:Bme,registerDebugActions:kme,registerDeprecatedActions:Ame,registerDocumentActions:Ime,registerEventsActions:Ume,registerFormActions:Hme,registerHistoryActions:Kme,registerNotificationActions:Zme,registerStorageActions:ege,registerTurboActions:nge,registerTurboFrameActions:cge,registerTurboProgressBarActions:sge,reload:bme,remove_attribute:lme,remove_css_class:ume,remove_storage_item:Qme,replace_css_class:vme,replace_state:Vme,reset_form:jme,scroll_into_view:xme,set_attribute:cme,set_cookie:Dme,set_cookie_item:Ome,set_dataset_attribute:fme,set_focus:_me,set_meta:qme,set_property:hme,set_storage_item:Jme,set_style:dme,set_styles:pme,set_title:wme,set_value:mme,text_content:Nme,toggle_css_class:gme,turbo_clear_cache:rge,turbo_frame_reload:lge,turbo_frame_set_src:uge,turbo_progress_bar_hide:age,turbo_progress_bar_set_value:ige,turbo_progress_bar_show:oge});hge={initialize:Bdt,register:zdt,Actions:Ndt,Utils:Pdt}});var qi,pge=ze(()=>{eme();bo();dge();hge.initialize(window.Turbo.StreamActions);qi=tM.start();qi.debug=window==null?void 0:window.localStorage.getItem("avo.debug");window.Stimulus=qi;qi.register("alert",W_);qi.register("popover",fE)});var gd,dE=ze(()=>{gd=r=>r=="true"});var pE,mge=ze(()=>{bo();dE();pE=class extends nn{connect(){this.resourceIdsTarget.value===""&&(this.resourceIdsTarget.value=this.resourceIds),this.selectionOptions.itemSelectAllSelectedAllValue==="true"&&(this.selectedAllQueryTarget.value=this.selectionOptions.itemSelectAllSelectedAllQueryValue),this.noConfirmation?this.submitTarget.click():this.controllerDivTarget.classList.remove("hidden")}get noConfirmation(){return gd(this.controllerDivTarget.dataset.noConfirmation)}get resourceName(){return this.controllerDivTarget.dataset.resourceName}get resourceIds(){try{return JSON.parse(this.selectionOptions.selectedResources)}catch(r){return[]}}get selectionOptions(){try{return document.querySelector(`[data-selected-resources-name="${this.resourceName}"]`).dataset}catch(r){return[]}}};Wr(pE,"targets",["controllerDiv","resourceIds","submit","selectedAllQuery"])});var V_,gge=ze(()=>{bo();V_=class extends nn{constructor(){super(...arguments);Wr(this,"childDimensions",null);Wr(this,"parentDimensions",null)}get parentTarget(){return document.querySelector('[data-component-name="avo/index/resource_table_component"]')||document.querySelector('[data-component-name="avo/index/resource_grid_component"]')||document.querySelector('[data-target="panel-body"]')}connect(){this.element.style.display="block",this.childDimensions=this.contentTarget.getBoundingClientRect(),this.element.style.display="",this.parentDimensions=this.parentTarget.getBoundingClientRect(),this.adjustOverflow()}adjustOverflow(){this.adjustVerticalOverflow(),this.adjustHorizontalOverflow()}adjustVerticalOverflow(){this.contentBottomOverflow&&(this.contentTarget.classList.remove("top-full","mt-2"),this.contentTarget.classList.add("bottom-full","mb-2"))}adjustHorizontalOverflow(){this.contentLeftOverflow&&(this.contentTarget.classList.remove("xl:right-0","sm:right-0"),this.contentTarget.classList.add("xl:left-0","sm:left-0"))}get contentBottomOverflow(){return this.panelListValue===!0?!1:this.parentDimensions.bottom<this.childDimensions.bottom}get contentLeftOverflow(){return this.parentDimensions.left>this.childDimensions.left}};Wr(V_,"targets",["content"]),Wr(V_,"values",{panelList:Boolean})});var $_,vge=ze(()=>{bo();$_=class extends nn{constructor(){super(...arguments);Wr(this,"target",{})}get targetIsDisabled(){return this.target.dataset.disabled==="true"}get actionsShowTurboFrame(){return document.querySelector("turbo-frame#actions_show")}enableTarget(){this.targetIsDisabled&&(this.target.classList.remove(...this.disabledClasses),this.target.classList.add(...this.enabledClasses),this.target.dataset.disabled=!1)}disableTarget(){this.target.classList.remove(...this.enabledClasses),this.target.classList.add(...this.disabledClasses),this.target.dataset.disabled=!0}visitAction(e){if(this.target=e.target,this.targetIsDisabled){e.preventDefault();return}this.disableTarget();let t=this;setTimeout(()=>{this.actionsShowTurboFrame.loaded.then(()=>t.enableTarget(t.target))},1)}};Wr($_,"targets",["resourceAction","standaloneAction"]),Wr($_,"classes",["enabled","disabled"])});var mE,yge=ze(()=>{bo();mE=class extends nn{connect(){this.formTarget.submit()}};Wr(mE,"targets",["form"])});var gE,bge=ze(()=>{bo();gE=class extends nn{constructor(){super(...arguments);Wr(this,"defaults",{})}get selectedType(){return this.selectTarget.value}get isSearchable(){return this.context.scope.element.dataset.searchable==="true"}get association(){return this.context.scope.element.dataset.association}get associationClass(){return this.context.scope.element.dataset.associationClass}connect(){this.copyValidNames(),this.changeType()}changeType(){this.hideAllTypes(),this.showType(this.selectTarget.value)}hideAllTypes(){this.typeTargets.forEach(e=>{e.classList.add("hidden"),this.invalidateTarget(e)})}copyValidNames(){this.typeTargets.forEach(e=>{let{type:t}=e.dataset;if(this.isSearchable){let n=e.querySelector('input[type="text"]');n&&this.nameToValidName(n);let i=e.querySelector('input[type="hidden"]');i&&this.nameToValidName(i)}else{let n=e.querySelector("select");n&&this.nameToValidName(n);let i=e.querySelector('input[type="hidden"]');i&&this.nameToValidName(i),this.selectedType!==t&&(n.selectedIndex=0)}})}showType(e){let t=this.typeTargets.find(n=>n.dataset.type===e);t&&(t.classList.remove("hidden"),this.validateTarget(t))}validateTarget(e){if(this.isSearchable){let t=e.querySelector('input[type="text"]'),n=e.querySelector('input[type="hidden"]');this.validNameToName(t),this.validNameToName(n)}else{let t=e.querySelector("select"),n=e.querySelector('input[type="hidden"]');this.validNameToName(t),n&&this.validNameToName(n)}}invalidateTarget(e){if(this.isSearchable)try{e.querySelector('input[type="text"]').setAttribute("name",""),e.querySelector('input[type="hidden"]').setAttribute("name","")}catch(t){}else if(e)try{e.querySelector("select").setAttribute("name",""),e.querySelector('input[type="hidden"]').setAttribute("name","")}catch(t){}}validNameToName(e){e.setAttribute("name",e.getAttribute("valid-name"))}nameToValidName(e){e.setAttribute("valid-name",e.getAttribute("name"))}};Wr(gE,"targets",["select","type","loadAssociationLink"])});var xge=de((G_,K_)=>{(function(r){var e=typeof G_=="object"&&G_&&!G_.nodeType&&G_,t=typeof K_=="object"&&K_&&!K_.nodeType&&K_,n=typeof global=="object"&&global;(n.global===n||n.window===n||n.self===n)&&(r=n);var i,a=2147483647,l=36,h=1,g=26,w=38,C=700,D=72,F=128,z="-",Y=/^xn--/,$=/[^\x20-\x7E]/,re=/[\x2E\u3002\uFF0E\uFF61]/g,oe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ne=l-h,he=Math.floor,_=String.fromCharCode,ge;function fe(te){throw new RangeError(oe[te])}function me(te,_e){for(var K=te.length,U=[];K--;)U[K]=_e(te[K]);return U}function we(te,_e){var K=te.split("@"),U="";K.length>1&&(U=K[0]+"@",te=K[1]),te=te.replace(re,".");var Ue=te.split("."),Je=me(Ue,_e).join(".");return U+Je}function Se(te){for(var _e=[],K=0,U=te.length,Ue,Je;K<U;)Ue=te.charCodeAt(K++),Ue>=55296&&Ue<=56319&&K<U?(Je=te.charCodeAt(K++),(Je&64512)==56320?_e.push(((Ue&1023)<<10)+(Je&1023)+65536):(_e.push(Ue),K--)):_e.push(Ue);return _e}function be(te){return me(te,function(_e){var K="";return _e>65535&&(_e-=65536,K+=_(_e>>>10&1023|55296),_e=56320|_e&1023),K+=_(_e),K}).join("")}function $e(te){return te-48<10?te-22:te-65<26?te-65:te-97<26?te-97:l}function q(te,_e){return te+22+75*(te<26)-((_e!=0)<<5)}function ee(te,_e,K){var U=0;for(te=K?he(te/C):te>>1,te+=he(te/_e);te>ne*g>>1;U+=l)te=he(te/ne);return he(U+(ne+1)*te/(te+w))}function R(te){var _e=[],K=te.length,U,Ue=0,Je=F,Qe=D,Ct,Tt,Ht,Rt,Yt,cr,Tr,ir,At;for(Ct=te.lastIndexOf(z),Ct<0&&(Ct=0),Tt=0;Tt<Ct;++Tt)te.charCodeAt(Tt)>=128&&fe("not-basic"),_e.push(te.charCodeAt(Tt));for(Ht=Ct>0?Ct+1:0;Ht<K;){for(Rt=Ue,Yt=1,cr=l;Ht>=K&&fe("invalid-input"),Tr=$e(te.charCodeAt(Ht++)),(Tr>=l||Tr>he((a-Ue)/Yt))&&fe("overflow"),Ue+=Tr*Yt,ir=cr<=Qe?h:cr>=Qe+g?g:cr-Qe,!(Tr<ir);cr+=l)At=l-ir,Yt>he(a/At)&&fe("overflow"),Yt*=At;U=_e.length+1,Qe=ee(Ue-Rt,U,Rt==0),he(Ue/U)>a-Je&&fe("overflow"),Je+=he(Ue/U),Ue%=U,_e.splice(Ue++,0,Je)}return be(_e)}function j(te){var _e,K,U,Ue,Je,Qe,Ct,Tt,Ht,Rt,Yt,cr=[],Tr,ir,At,kt;for(te=Se(te),Tr=te.length,_e=F,K=0,Je=D,Qe=0;Qe<Tr;++Qe)Yt=te[Qe],Yt<128&&cr.push(_(Yt));for(U=Ue=cr.length,Ue&&cr.push(z);U<Tr;){for(Ct=a,Qe=0;Qe<Tr;++Qe)Yt=te[Qe],Yt>=_e&&Yt<Ct&&(Ct=Yt);for(ir=U+1,Ct-_e>he((a-K)/ir)&&fe("overflow"),K+=(Ct-_e)*ir,_e=Ct,Qe=0;Qe<Tr;++Qe)if(Yt=te[Qe],Yt<_e&&++K>a&&fe("overflow"),Yt==_e){for(Tt=K,Ht=l;Rt=Ht<=Je?h:Ht>=Je+g?g:Ht-Je,!(Tt<Rt);Ht+=l)kt=Tt-Rt,At=l-Rt,cr.push(_(q(Rt+kt%At,0))),Tt=he(kt/At);cr.push(_(q(Tt,0))),Je=ee(K,ir,U==Ue),K=0,++U}++K,++_e}return cr.join("")}function G(te){return we(te,function(_e){return Y.test(_e)?R(_e.slice(4).toLowerCase()):_e})}function V(te){return we(te,function(_e){return $.test(_e)?"xn--"+j(_e):_e})}if(i={version:"1.3.2",ucs2:{decode:Se,encode:be},decode:R,encode:j,toASCII:V,toUnicode:G},typeof define=="function"&&typeof define.amd=="object"&&define.amd)define("punycode",function(){return i});else if(e&&t)if(K_.exports==e)t.exports=i;else for(ge in i)i.hasOwnProperty(ge)&&(e[ge]=i[ge]);else r.punycode=i})(G_)});var wge=de((_ge,lM)=>{(function(r,e){"use strict";typeof lM=="object"&&lM.exports?lM.exports=e():typeof define=="function"&&define.amd?define(e):r.IPv6=e(r)})(_ge,function(r){"use strict";var e=r&&r.IPv6;function t(i){var a=i.toLowerCase(),l=a.split(":"),h=l.length,g=8;l[0]===""&&l[1]===""&&l[2]===""?(l.shift(),l.shift()):l[0]===""&&l[1]===""?l.shift():l[h-1]===""&&l[h-2]===""&&l.pop(),h=l.length,l[h-1].indexOf(".")!==-1&&(g=7);var w;for(w=0;w<h&&l[w]!=="";w++);if(w<g)for(l.splice(w,1,"0000");l.length<g;)l.splice(w,0,"0000");for(var C,D=0;D<g;D++){C=l[D].split("");for(var F=0;F<3&&(C[0]==="0"&&C.length>1);F++)C.splice(0,1);l[D]=C.join("")}var z=-1,Y=0,$=0,re=-1,oe=!1;for(D=0;D<g;D++)oe?l[D]==="0"?$+=1:(oe=!1,$>Y&&(z=re,Y=$)):l[D]==="0"&&(oe=!0,re=D,$=1);$>Y&&(z=re,Y=$),Y>1&&l.splice(z,Y,""),h=l.length;var ne="";for(l[0]===""&&(ne=":"),D=0;D<h&&(ne+=l[D],D!==h-1);D++)ne+=":";return l[h-1]===""&&(ne+=":"),ne}function n(){return r.IPv6===this&&(r.IPv6=e),this}return{best:t,noConflict:n}})});var Tge=de((Sge,uM)=>{(function(r,e){"use strict";typeof uM=="object"&&uM.exports?uM.exports=e():typeof define=="function"&&define.amd?define(e):r.SecondLevelDomains=e(r)})(Sge,function(r){"use strict";var e=r&&r.SecondLevelDomains,t={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(n){var i=n.lastIndexOf(".");if(i<=0||i>=n.length-1)return!1;var a=n.lastIndexOf(".",i-1);if(a<=0||a>=i-1)return!1;var l=t.list[n.slice(i+1)];return l?l.indexOf(" "+n.slice(a+1,i)+" ")>=0:!1},is:function(n){var i=n.lastIndexOf(".");if(i<=0||i>=n.length-1)return!1;var a=n.lastIndexOf(".",i-1);if(a>=0)return!1;var l=t.list[n.slice(i+1)];return l?l.indexOf(" "+n.slice(0,i)+" ")>=0:!1},get:function(n){var i=n.lastIndexOf(".");if(i<=0||i>=n.length-1)return null;var a=n.lastIndexOf(".",i-1);if(a<=0||a>=i-1)return null;var l=t.list[n.slice(i+1)];return!l||l.indexOf(" "+n.slice(a+1,i)+" ")<0?null:n.slice(a+1)},noConflict:function(){return r.SecondLevelDomains===this&&(r.SecondLevelDomains=e),this}};return t})});var Y_=de((Ege,cM)=>{(function(r,e){"use strict";typeof cM=="object"&&cM.exports?cM.exports=e(xge(),wge(),Tge()):typeof define=="function"&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],e):r.URI=e(r.punycode,r.IPv6,r.SecondLevelDomains,r)})(Ege,function(r,e,t,n){"use strict";var i=n&&n.URI;function a(q,ee){var R=arguments.length>=1,j=arguments.length>=2;if(!(this instanceof a))return R?j?new a(q,ee):new a(q):new a;if(q===void 0){if(R)throw new TypeError("undefined is not a valid argument for URI");typeof location<"u"?q=location.href+"":q=""}if(q===null&&R)throw new TypeError("null is not a valid argument for URI");return this.href(q),ee!==void 0?this.absoluteTo(ee):this}function l(q){return/^[0-9]+$/.test(q)}a.version="1.19.11";var h=a.prototype,g=Object.prototype.hasOwnProperty;function w(q){return q.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function C(q){return q===void 0?"Undefined":String(Object.prototype.toString.call(q)).slice(8,-1)}function D(q){return C(q)==="Array"}function F(q,ee){var R={},j,G;if(C(ee)==="RegExp")R=null;else if(D(ee))for(j=0,G=ee.length;j<G;j++)R[ee[j]]=!0;else R[ee]=!0;for(j=0,G=q.length;j<G;j++){var V=R&&R[q[j]]!==void 0||!R&&ee.test(q[j]);V&&(q.splice(j,1),G--,j--)}return q}function z(q,ee){var R,j;if(D(ee)){for(R=0,j=ee.length;R<j;R++)if(!z(q,ee[R]))return!1;return!0}var G=C(ee);for(R=0,j=q.length;R<j;R++)if(G==="RegExp"){if(typeof q[R]=="string"&&q[R].match(ee))return!0}else if(q[R]===ee)return!0;return!1}function Y(q,ee){if(!D(q)||!D(ee)||q.length!==ee.length)return!1;q.sort(),ee.sort();for(var R=0,j=q.length;R<j;R++)if(q[R]!==ee[R])return!1;return!0}function $(q){var ee=/^\/+|\/+$/g;return q.replace(ee,"")}a._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:a.preventInvalidHostname,duplicateQueryParameters:a.duplicateQueryParameters,escapeQuerySpace:a.escapeQuerySpace}},a.preventInvalidHostname=!1,a.duplicateQueryParameters=!1,a.escapeQuerySpace=!0,a.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,a.idn_expression=/[^a-z0-9\._-]/i,a.punycode_expression=/(xn--)/i,a.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,a.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/ig,a.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},a.leading_whitespace_expression=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a.ascii_tab_whitespace=/[\u0009\u000A\u000D]+/g,a.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},a.hostProtocols=["http","https"],a.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,a.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},a.getDomAttribute=function(q){if(!(!q||!q.nodeName)){var ee=q.nodeName.toLowerCase();if(!(ee==="input"&&q.type!=="image"))return a.domAttributes[ee]}};function re(q){return escape(q)}function oe(q){return encodeURIComponent(q).replace(/[!'()*]/g,re).replace(/\*/g,"%2A")}a.encode=oe,a.decode=decodeURIComponent,a.iso8859=function(){a.encode=escape,a.decode=unescape},a.unicode=function(){a.encode=oe,a.decode=decodeURIComponent},a.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/ig,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},a.encodeQuery=function(q,ee){var R=a.encode(q+"");return ee===void 0&&(ee=a.escapeQuerySpace),ee?R.replace(/%20/g,"+"):R},a.decodeQuery=function(q,ee){q+="",ee===void 0&&(ee=a.escapeQuerySpace);try{return a.decode(ee?q.replace(/\+/g,"%20"):q)}catch{return q}};var ne={encode:"encode",decode:"decode"},he,_=function(q,ee){return function(R){try{return a[ee](R+"").replace(a.characters[q][ee].expression,function(j){return a.characters[q][ee].map[j]})}catch{return R}}};for(he in ne)a[he+"PathSegment"]=_("pathname",ne[he]),a[he+"UrnPathSegment"]=_("urnpath",ne[he]);var ge=function(q,ee,R){return function(j){var G;R?G=function(K){return a[ee](a[R](K))}:G=a[ee];for(var V=(j+"").split(q),te=0,_e=V.length;te<_e;te++)V[te]=G(V[te]);return V.join(q)}};a.decodePath=ge("/","decodePathSegment"),a.decodeUrnPath=ge(":","decodeUrnPathSegment"),a.recodePath=ge("/","encodePathSegment","decode"),a.recodeUrnPath=ge(":","encodeUrnPathSegment","decode"),a.encodeReserved=_("reserved","encode"),a.parse=function(q,ee){var R;return ee||(ee={preventInvalidHostname:a.preventInvalidHostname}),q=q.replace(a.leading_whitespace_expression,""),q=q.replace(a.ascii_tab_whitespace,""),R=q.indexOf("#"),R>-1&&(ee.fragment=q.substring(R+1)||null,q=q.substring(0,R)),R=q.indexOf("?"),R>-1&&(ee.query=q.substring(R+1)||null,q=q.substring(0,R)),q=q.replace(/^(https?|ftp|wss?)?:+[/\\]*/i,"$1://"),q=q.replace(/^[/\\]{2,}/i,"//"),q.substring(0,2)==="//"?(ee.protocol=null,q=q.substring(2),q=a.parseAuthority(q,ee)):(R=q.indexOf(":"),R>-1&&(ee.protocol=q.substring(0,R)||null,ee.protocol&&!ee.protocol.match(a.protocol_expression)?ee.protocol=void 0:q.substring(R+1,R+3).replace(/\\/g,"/")==="//"?(q=q.substring(R+3),q=a.parseAuthority(q,ee)):(q=q.substring(R+1),ee.urn=!0))),ee.path=q,ee},a.parseHost=function(q,ee){q||(q=""),q=q.replace(/\\/g,"/");var R=q.indexOf("/"),j,G;if(R===-1&&(R=q.length),q.charAt(0)==="[")j=q.indexOf("]"),ee.hostname=q.substring(1,j)||null,ee.port=q.substring(j+2,R)||null,ee.port==="/"&&(ee.port=null);else{var V=q.indexOf(":"),te=q.indexOf("/"),_e=q.indexOf(":",V+1);_e!==-1&&(te===-1||_e<te)?(ee.hostname=q.substring(0,R)||null,ee.port=null):(G=q.substring(0,R).split(":"),ee.hostname=G[0]||null,ee.port=G[1]||null)}return ee.hostname&&q.substring(R).charAt(0)!=="/"&&(R++,q="/"+q),ee.preventInvalidHostname&&a.ensureValidHostname(ee.hostname,ee.protocol),ee.port&&a.ensureValidPort(ee.port),q.substring(R)||"/"},a.parseAuthority=function(q,ee){return q=a.parseUserinfo(q,ee),a.parseHost(q,ee)},a.parseUserinfo=function(q,ee){var R=q,j=q.indexOf("\\");j!==-1&&(q=q.replace(/\\/g,"/"));var G=q.indexOf("/"),V=q.lastIndexOf("@",G>-1?G:q.length-1),te;return V>-1&&(G===-1||V<G)?(te=q.substring(0,V).split(":"),ee.username=te[0]?a.decode(te[0]):null,te.shift(),ee.password=te[0]?a.decode(te.join(":")):null,q=R.substring(V+1)):(ee.username=null,ee.password=null),q},a.parseQuery=function(q,ee){if(!q)return{};if(q=q.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!q)return{};for(var R={},j=q.split("&"),G=j.length,V,te,_e,K=0;K<G;K++)V=j[K].split("="),te=a.decodeQuery(V.shift(),ee),_e=V.length?a.decodeQuery(V.join("="),ee):null,te!=="__proto__"&&(g.call(R,te)?((typeof R[te]=="string"||R[te]===null)&&(R[te]=[R[te]]),R[te].push(_e)):R[te]=_e);return R},a.build=function(q){var ee="",R=!1;return q.protocol&&(ee+=q.protocol+":"),!q.urn&&(ee||q.hostname)&&(ee+="//",R=!0),ee+=a.buildAuthority(q)||"",typeof q.path=="string"&&(q.path.charAt(0)!=="/"&&R&&(ee+="/"),ee+=q.path),typeof q.query=="string"&&q.query&&(ee+="?"+q.query),typeof q.fragment=="string"&&q.fragment&&(ee+="#"+q.fragment),ee},a.buildHost=function(q){var ee="";if(q.hostname)a.ip6_expression.test(q.hostname)?ee+="["+q.hostname+"]":ee+=q.hostname;else return"";return q.port&&(ee+=":"+q.port),ee},a.buildAuthority=function(q){return a.buildUserinfo(q)+a.buildHost(q)},a.buildUserinfo=function(q){var ee="";return q.username&&(ee+=a.encode(q.username)),q.password&&(ee+=":"+a.encode(q.password)),ee&&(ee+="@"),ee},a.buildQuery=function(q,ee,R){var j="",G,V,te,_e;for(V in q)if(V!=="__proto__"&&g.call(q,V))if(D(q[V]))for(G={},te=0,_e=q[V].length;te<_e;te++)q[V][te]!==void 0&&G[q[V][te]+""]===void 0&&(j+="&"+a.buildQueryParameter(V,q[V][te],R),ee!==!0&&(G[q[V][te]+""]=!0));else q[V]!==void 0&&(j+="&"+a.buildQueryParameter(V,q[V],R));return j.substring(1)},a.buildQueryParameter=function(q,ee,R){return a.encodeQuery(q,R)+(ee!==null?"="+a.encodeQuery(ee,R):"")},a.addQuery=function(q,ee,R){if(typeof ee=="object")for(var j in ee)g.call(ee,j)&&a.addQuery(q,j,ee[j]);else if(typeof ee=="string"){if(q[ee]===void 0){q[ee]=R;return}else typeof q[ee]=="string"&&(q[ee]=[q[ee]]);D(R)||(R=[R]),q[ee]=(q[ee]||[]).concat(R)}else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter")},a.setQuery=function(q,ee,R){if(typeof ee=="object")for(var j in ee)g.call(ee,j)&&a.setQuery(q,j,ee[j]);else if(typeof ee=="string")q[ee]=R===void 0?null:R;else throw new TypeError("URI.setQuery() accepts an object, string as the name parameter")},a.removeQuery=function(q,ee,R){var j,G,V;if(D(ee))for(j=0,G=ee.length;j<G;j++)q[ee[j]]=void 0;else if(C(ee)==="RegExp")for(V in q)ee.test(V)&&(q[V]=void 0);else if(typeof ee=="object")for(V in ee)g.call(ee,V)&&a.removeQuery(q,V,ee[V]);else if(typeof ee=="string")R!==void 0?C(R)==="RegExp"?!D(q[ee])&&R.test(q[ee])?q[ee]=void 0:q[ee]=F(q[ee],R):q[ee]===String(R)&&(!D(R)||R.length===1)?q[ee]=void 0:D(q[ee])&&(q[ee]=F(q[ee],R)):q[ee]=void 0;else throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter")},a.hasQuery=function(q,ee,R,j){switch(C(ee)){case"String":break;case"RegExp":for(var G in q)if(g.call(q,G)&&ee.test(G)&&(R===void 0||a.hasQuery(q,G,R)))return!0;return!1;case"Object":for(var V in ee)if(g.call(ee,V)&&!a.hasQuery(q,V,ee[V]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(C(R)){case"Undefined":return ee in q;case"Boolean":var te=Boolean(D(q[ee])?q[ee].length:q[ee]);return R===te;case"Function":return!!R(q[ee],ee,q);case"Array":if(!D(q[ee]))return!1;var _e=j?z:Y;return _e(q[ee],R);case"RegExp":return D(q[ee])?j?z(q[ee],R):!1:Boolean(q[ee]&&q[ee].match(R));case"Number":R=String(R);case"String":return D(q[ee])?j?z(q[ee],R):!1:q[ee]===R;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},a.joinPaths=function(){for(var q=[],ee=[],R=0,j=0;j<arguments.length;j++){var G=new a(arguments[j]);q.push(G);for(var V=G.segment(),te=0;te<V.length;te++)typeof V[te]=="string"&&ee.push(V[te]),V[te]&&R++}if(!ee.length||!R)return new a("");var _e=new a("").segment(ee);return(q[0].path()===""||q[0].path().slice(0,1)==="/")&&_e.path("/"+_e.path()),_e.normalize()},a.commonPath=function(q,ee){var R=Math.min(q.length,ee.length),j;for(j=0;j<R;j++)if(q.charAt(j)!==ee.charAt(j)){j--;break}return j<1?q.charAt(0)===ee.charAt(0)&&q.charAt(0)==="/"?"/":"":((q.charAt(j)!=="/"||ee.charAt(j)!=="/")&&(j=q.substring(0,j).lastIndexOf("/")),q.substring(0,j+1))},a.withinString=function(q,ee,R){R||(R={});var j=R.start||a.findUri.start,G=R.end||a.findUri.end,V=R.trim||a.findUri.trim,te=R.parens||a.findUri.parens,_e=/[a-z0-9-]=["']?$/i;for(j.lastIndex=0;;){var K=j.exec(q);if(!K)break;var U=K.index;if(R.ignoreHtml){var Ue=q.slice(Math.max(U-3,0),U);if(Ue&&_e.test(Ue))continue}for(var Je=U+q.slice(U).search(G),Qe=q.slice(U,Je),Ct=-1;;){var Tt=te.exec(Qe);if(!Tt)break;var Ht=Tt.index+Tt[0].length;Ct=Math.max(Ct,Ht)}if(Ct>-1?Qe=Qe.slice(0,Ct)+Qe.slice(Ct).replace(V,""):Qe=Qe.replace(V,""),!(Qe.length<=K[0].length)&&!(R.ignore&&R.ignore.test(Qe))){Je=U+Qe.length;var Rt=ee(Qe,U,Je,q);if(Rt===void 0){j.lastIndex=Je;continue}Rt=String(Rt),q=q.slice(0,U)+Rt+q.slice(Je),j.lastIndex=U+Rt.length}}return j.lastIndex=0,q},a.ensureValidHostname=function(q,ee){var R=!!q,j=!!ee,G=!1;if(j&&(G=z(a.hostProtocols,ee)),G&&!R)throw new TypeError("Hostname cannot be empty, if protocol is "+ee);if(q&&q.match(a.invalid_hostname_characters)){if(!r)throw new TypeError('Hostname "'+q+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(r.toASCII(q).match(a.invalid_hostname_characters))throw new TypeError('Hostname "'+q+'" contains characters other than [A-Z0-9.-:_]')}},a.ensureValidPort=function(q){if(!!q){var ee=Number(q);if(!(l(ee)&&ee>0&&ee<65536))throw new TypeError('Port "'+q+'" is not a valid port')}},a.noConflict=function(q){if(q){var ee={URI:this.noConflict()};return n.URITemplate&&typeof n.URITemplate.noConflict=="function"&&(ee.URITemplate=n.URITemplate.noConflict()),n.IPv6&&typeof n.IPv6.noConflict=="function"&&(ee.IPv6=n.IPv6.noConflict()),n.SecondLevelDomains&&typeof n.SecondLevelDomains.noConflict=="function"&&(ee.SecondLevelDomains=n.SecondLevelDomains.noConflict()),ee}else n.URI===this&&(n.URI=i);return this},h.build=function(q){return q===!0?this._deferred_build=!0:(q===void 0||this._deferred_build)&&(this._string=a.build(this._parts),this._deferred_build=!1),this},h.clone=function(){return new a(this)},h.valueOf=h.toString=function(){return this.build(!1)._string};function fe(q){return function(ee,R){return ee===void 0?this._parts[q]||"":(this._parts[q]=ee||null,this.build(!R),this)}}function me(q,ee){return function(R,j){return R===void 0?this._parts[q]||"":(R!==null&&(R=R+"",R.charAt(0)===ee&&(R=R.substring(1))),this._parts[q]=R,this.build(!j),this)}}h.protocol=fe("protocol"),h.username=fe("username"),h.password=fe("password"),h.hostname=fe("hostname"),h.port=fe("port"),h.query=me("query","?"),h.fragment=me("fragment","#"),h.search=function(q,ee){var R=this.query(q,ee);return typeof R=="string"&&R.length?"?"+R:R},h.hash=function(q,ee){var R=this.fragment(q,ee);return typeof R=="string"&&R.length?"#"+R:R},h.pathname=function(q,ee){if(q===void 0||q===!0){var R=this._parts.path||(this._parts.hostname?"/":"");return q?(this._parts.urn?a.decodeUrnPath:a.decodePath)(R):R}else return this._parts.urn?this._parts.path=q?a.recodeUrnPath(q):"":this._parts.path=q?a.recodePath(q):"/",this.build(!ee),this},h.path=h.pathname,h.href=function(q,ee){var R;if(q===void 0)return this.toString();this._string="",this._parts=a._parts();var j=q instanceof a,G=typeof q=="object"&&(q.hostname||q.path||q.pathname);if(q.nodeName){var V=a.getDomAttribute(q);q=q[V]||"",G=!1}if(!j&&G&&q.pathname!==void 0&&(q=q.toString()),typeof q=="string"||q instanceof String)this._parts=a.parse(String(q),this._parts);else if(j||G){var te=j?q._parts:q;for(R in te)R!=="query"&&g.call(this._parts,R)&&(this._parts[R]=te[R]);te.query&&this.query(te.query,!1)}else throw new TypeError("invalid input");return this.build(!ee),this},h.is=function(q){var ee=!1,R=!1,j=!1,G=!1,V=!1,te=!1,_e=!1,K=!this._parts.urn;switch(this._parts.hostname&&(K=!1,R=a.ip4_expression.test(this._parts.hostname),j=a.ip6_expression.test(this._parts.hostname),ee=R||j,G=!ee,V=G&&t&&t.has(this._parts.hostname),te=G&&a.idn_expression.test(this._parts.hostname),_e=G&&a.punycode_expression.test(this._parts.hostname)),q.toLowerCase()){case"relative":return K;case"absolute":return!K;case"domain":case"name":return G;case"sld":return V;case"ip":return ee;case"ip4":case"ipv4":case"inet4":return R;case"ip6":case"ipv6":case"inet6":return j;case"idn":return te;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return _e}return null};var we=h.protocol,Se=h.port,be=h.hostname;h.protocol=function(q,ee){if(q&&(q=q.replace(/:(\/\/)?$/,""),!q.match(a.protocol_expression)))throw new TypeError('Protocol "'+q+`" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]`);return we.call(this,q,ee)},h.scheme=h.protocol,h.port=function(q,ee){return this._parts.urn?q===void 0?"":this:(q!==void 0&&(q===0&&(q=null),q&&(q+="",q.charAt(0)===":"&&(q=q.substring(1)),a.ensureValidPort(q))),Se.call(this,q,ee))},h.hostname=function(q,ee){if(this._parts.urn)return q===void 0?"":this;if(q!==void 0){var R={preventInvalidHostname:this._parts.preventInvalidHostname},j=a.parseHost(q,R);if(j!=="/")throw new TypeError('Hostname "'+q+'" contains characters other than [A-Z0-9.-]');q=R.hostname,this._parts.preventInvalidHostname&&a.ensureValidHostname(q,this._parts.protocol)}return be.call(this,q,ee)},h.origin=function(q,ee){if(this._parts.urn)return q===void 0?"":this;if(q===void 0){var R=this.protocol(),j=this.authority();return j?(R?R+"://":"")+this.authority():""}else{var G=a(q);return this.protocol(G.protocol()).authority(G.authority()).build(!ee),this}},h.host=function(q,ee){if(this._parts.urn)return q===void 0?"":this;if(q===void 0)return this._parts.hostname?a.buildHost(this._parts):"";var R=a.parseHost(q,this._parts);if(R!=="/")throw new TypeError('Hostname "'+q+'" contains characters other than [A-Z0-9.-]');return this.build(!ee),this},h.authority=function(q,ee){if(this._parts.urn)return q===void 0?"":this;if(q===void 0)return this._parts.hostname?a.buildAuthority(this._parts):"";var R=a.parseAuthority(q,this._parts);if(R!=="/")throw new TypeError('Hostname "'+q+'" contains characters other than [A-Z0-9.-]');return this.build(!ee),this},h.userinfo=function(q,ee){if(this._parts.urn)return q===void 0?"":this;if(q===void 0){var R=a.buildUserinfo(this._parts);return R&&R.substring(0,R.length-1)}else return q[q.length-1]!=="@"&&(q+="@"),a.parseUserinfo(q,this._parts),this.build(!ee),this},h.resource=function(q,ee){var R;return q===void 0?this.path()+this.search()+this.hash():(R=a.parse(q),this._parts.path=R.path,this._parts.query=R.query,this._parts.fragment=R.fragment,this.build(!ee),this)},h.subdomain=function(q,ee){if(this._parts.urn)return q===void 0?"":this;if(q===void 0){if(!this._parts.hostname||this.is("IP"))return"";var R=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,R)||""}else{var j=this._parts.hostname.length-this.domain().length,G=this._parts.hostname.substring(0,j),V=new RegExp("^"+w(G));if(q&&q.charAt(q.length-1)!=="."&&(q+="."),q.indexOf(":")!==-1)throw new TypeError("Domains cannot contain colons");return q&&a.ensureValidHostname(q,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(V,q),this.build(!ee),this}},h.domain=function(q,ee){if(this._parts.urn)return q===void 0?"":this;if(typeof q=="boolean"&&(ee=q,q=void 0),q===void 0){if(!this._parts.hostname||this.is("IP"))return"";var R=this._parts.hostname.match(/\./g);if(R&&R.length<2)return this._parts.hostname;var j=this._parts.hostname.length-this.tld(ee).length-1;return j=this._parts.hostname.lastIndexOf(".",j-1)+1,this._parts.hostname.substring(j)||""}else{if(!q)throw new TypeError("cannot set domain empty");if(q.indexOf(":")!==-1)throw new TypeError("Domains cannot contain colons");if(a.ensureValidHostname(q,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=q;else{var G=new RegExp(w(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(G,q)}return this.build(!ee),this}},h.tld=function(q,ee){if(this._parts.urn)return q===void 0?"":this;if(typeof q=="boolean"&&(ee=q,q=void 0),q===void 0){if(!this._parts.hostname||this.is("IP"))return"";var R=this._parts.hostname.lastIndexOf("."),j=this._parts.hostname.substring(R+1);return ee!==!0&&t&&t.list[j.toLowerCase()]&&t.get(this._parts.hostname)||j}else{var G;if(q)if(q.match(/[^a-zA-Z0-9-]/))if(t&&t.is(q))G=new RegExp(w(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(G,q);else throw new TypeError('TLD "'+q+'" contains characters other than [A-Z0-9]');else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");G=new RegExp(w(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(G,q)}else throw new TypeError("cannot set TLD empty");return this.build(!ee),this}},h.directory=function(q,ee){if(this._parts.urn)return q===void 0?"":this;if(q===void 0||q===!0){if(!this._parts.path&&!this._parts.hostname)return"";if(this._parts.path==="/")return"/";var R=this._parts.path.length-this.filename().length-1,j=this._parts.path.substring(0,R)||(this._parts.hostname?"/":"");return q?a.decodePath(j):j}else{var G=this._parts.path.length-this.filename().length,V=this._parts.path.substring(0,G),te=new RegExp("^"+w(V));return this.is("relative")||(q||(q="/"),q.charAt(0)!=="/"&&(q="/"+q)),q&&q.charAt(q.length-1)!=="/"&&(q+="/"),q=a.recodePath(q),this._parts.path=this._parts.path.replace(te,q),this.build(!ee),this}},h.filename=function(q,ee){if(this._parts.urn)return q===void 0?"":this;if(typeof q!="string"){if(!this._parts.path||this._parts.path==="/")return"";var R=this._parts.path.lastIndexOf("/"),j=this._parts.path.substring(R+1);return q?a.decodePathSegment(j):j}else{var G=!1;q.charAt(0)==="/"&&(q=q.substring(1)),q.match(/\.?\//)&&(G=!0);var V=new RegExp(w(this.filename())+"$");return q=a.recodePath(q),this._parts.path=this._parts.path.replace(V,q),G?this.normalizePath(ee):this.build(!ee),this}},h.suffix=function(q,ee){if(this._parts.urn)return q===void 0?"":this;if(q===void 0||q===!0){if(!this._parts.path||this._parts.path==="/")return"";var R=this.filename(),j=R.lastIndexOf("."),G,V;return j===-1?"":(G=R.substring(j+1),V=/^[a-z0-9%]+$/i.test(G)?G:"",q?a.decodePathSegment(V):V)}else{q.charAt(0)==="."&&(q=q.substring(1));var te=this.suffix(),_e;if(te)q?_e=new RegExp(w(te)+"$"):_e=new RegExp(w("."+te)+"$");else{if(!q)return this;this._parts.path+="."+a.recodePath(q)}return _e&&(q=a.recodePath(q),this._parts.path=this._parts.path.replace(_e,q)),this.build(!ee),this}},h.segment=function(q,ee,R){var j=this._parts.urn?":":"/",G=this.path(),V=G.substring(0,1)==="/",te=G.split(j);if(q!==void 0&&typeof q!="number"&&(R=ee,ee=q,q=void 0),q!==void 0&&typeof q!="number")throw new Error('Bad segment "'+q+'", must be 0-based integer');if(V&&te.shift(),q<0&&(q=Math.max(te.length+q,0)),ee===void 0)return q===void 0?te:te[q];if(q===null||te[q]===void 0)if(D(ee)){te=[];for(var _e=0,K=ee.length;_e<K;_e++)!ee[_e].length&&(!te.length||!te[te.length-1].length)||(te.length&&!te[te.length-1].length&&te.pop(),te.push($(ee[_e])))}else(ee||typeof ee=="string")&&(ee=$(ee),te[te.length-1]===""?te[te.length-1]=ee:te.push(ee));else ee?te[q]=$(ee):te.splice(q,1);return V&&te.unshift(""),this.path(te.join(j),R)},h.segmentCoded=function(q,ee,R){var j,G,V;if(typeof q!="number"&&(R=ee,ee=q,q=void 0),ee===void 0){if(j=this.segment(q,ee,R),!D(j))j=j!==void 0?a.decode(j):void 0;else for(G=0,V=j.length;G<V;G++)j[G]=a.decode(j[G]);return j}if(!D(ee))ee=typeof ee=="string"||ee instanceof String?a.encode(ee):ee;else for(G=0,V=ee.length;G<V;G++)ee[G]=a.encode(ee[G]);return this.segment(q,ee,R)};var $e=h.query;return h.query=function(q,ee){if(q===!0)return a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(typeof q=="function"){var R=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace),j=q.call(this,R);return this._parts.query=a.buildQuery(j||R,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!ee),this}else return q!==void 0&&typeof q!="string"?(this._parts.query=a.buildQuery(q,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!ee),this):$e.call(this,q,ee)},h.setQuery=function(q,ee,R){var j=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(typeof q=="string"||q instanceof String)j[q]=ee!==void 0?ee:null;else if(typeof q=="object")for(var G in q)g.call(q,G)&&(j[G]=q[G]);else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");return this._parts.query=a.buildQuery(j,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),typeof q!="string"&&(R=ee),this.build(!R),this},h.addQuery=function(q,ee,R){var j=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.addQuery(j,q,ee===void 0?null:ee),this._parts.query=a.buildQuery(j,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),typeof q!="string"&&(R=ee),this.build(!R),this},h.removeQuery=function(q,ee,R){var j=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.removeQuery(j,q,ee),this._parts.query=a.buildQuery(j,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),typeof q!="string"&&(R=ee),this.build(!R),this},h.hasQuery=function(q,ee,R){var j=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.hasQuery(j,q,ee,R)},h.setSearch=h.setQuery,h.addSearch=h.addQuery,h.removeSearch=h.removeQuery,h.hasSearch=h.hasQuery,h.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},h.normalizeProtocol=function(q){return typeof this._parts.protocol=="string"&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!q)),this},h.normalizeHostname=function(q){return this._parts.hostname&&(this.is("IDN")&&r?this._parts.hostname=r.toASCII(this._parts.hostname):this.is("IPv6")&&e&&(this._parts.hostname=e.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!q)),this},h.normalizePort=function(q){return typeof this._parts.protocol=="string"&&this._parts.port===a.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!q)),this},h.normalizePath=function(q){var ee=this._parts.path;if(!ee)return this;if(this._parts.urn)return this._parts.path=a.recodeUrnPath(this._parts.path),this.build(!q),this;if(this._parts.path==="/")return this;ee=a.recodePath(ee);var R,j="",G,V;for(ee.charAt(0)!=="/"&&(R=!0,ee="/"+ee),(ee.slice(-3)==="/.."||ee.slice(-2)==="/.")&&(ee+="/"),ee=ee.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),R&&(j=ee.substring(1).match(/^(\.\.\/)+/)||"",j&&(j=j[0]));G=ee.search(/\/\.\.(\/|$)/),G!==-1;){if(G===0){ee=ee.substring(3);continue}V=ee.substring(0,G).lastIndexOf("/"),V===-1&&(V=G),ee=ee.substring(0,V)+ee.substring(G+3)}return R&&this.is("relative")&&(ee=j+ee.substring(1)),this._parts.path=ee,this.build(!q),this},h.normalizePathname=h.normalizePath,h.normalizeQuery=function(q){return typeof this._parts.query=="string"&&(this._parts.query.length?this.query(a.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!q)),this},h.normalizeFragment=function(q){return this._parts.fragment||(this._parts.fragment=null,this.build(!q)),this},h.normalizeSearch=h.normalizeQuery,h.normalizeHash=h.normalizeFragment,h.iso8859=function(){var q=a.encode,ee=a.decode;a.encode=escape,a.decode=decodeURIComponent;try{this.normalize()}finally{a.encode=q,a.decode=ee}return this},h.unicode=function(){var q=a.encode,ee=a.decode;a.encode=oe,a.decode=unescape;try{this.normalize()}finally{a.encode=q,a.decode=ee}return this},h.readable=function(){var q=this.clone();q.username("").password("").normalize();var ee="";if(q._parts.protocol&&(ee+=q._parts.protocol+"://"),q._parts.hostname&&(q.is("punycode")&&r?(ee+=r.toUnicode(q._parts.hostname),q._parts.port&&(ee+=":"+q._parts.port)):ee+=q.host()),q._parts.hostname&&q._parts.path&&q._parts.path.charAt(0)!=="/"&&(ee+="/"),ee+=q.path(!0),q._parts.query){for(var R="",j=0,G=q._parts.query.split("&"),V=G.length;j<V;j++){var te=(G[j]||"").split("=");R+="&"+a.decodeQuery(te[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),te[1]!==void 0&&(R+="="+a.decodeQuery(te[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}ee+="?"+R.substring(1)}return ee+=a.decodeQuery(q.hash(),!0),ee},h.absoluteTo=function(q){var ee=this.clone(),R=["protocol","username","password","hostname","port"],j,G,V;if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(q instanceof a||(q=new a(q)),ee._parts.protocol||(ee._parts.protocol=q._parts.protocol,this._parts.hostname))return ee;for(G=0;V=R[G];G++)ee._parts[V]=q._parts[V];return ee._parts.path?(ee._parts.path.substring(-2)===".."&&(ee._parts.path+="/"),ee.path().charAt(0)!=="/"&&(j=q.directory(),j=j||(q.path().indexOf("/")===0?"/":""),ee._parts.path=(j?j+"/":"")+ee._parts.path,ee.normalizePath())):(ee._parts.path=q._parts.path,ee._parts.query||(ee._parts.query=q._parts.query)),ee.build(),ee},h.relativeTo=function(q){var ee=this.clone().normalize(),R,j,G,V,te;if(ee._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(q=new a(q).normalize(),R=ee._parts,j=q._parts,V=ee.path(),te=q.path(),V.charAt(0)!=="/")throw new Error("URI is already relative");if(te.charAt(0)!=="/")throw new Error("Cannot calculate a URI relative to another relative URI");if(R.protocol===j.protocol&&(R.protocol=null),R.username!==j.username||R.password!==j.password||R.protocol!==null||R.username!==null||R.password!==null)return ee.build();if(R.hostname===j.hostname&&R.port===j.port)R.hostname=null,R.port=null;else return ee.build();if(V===te)return R.path="",ee.build();if(G=a.commonPath(V,te),!G)return ee.build();var _e=j.path.substring(G.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return R.path=_e+R.path.substring(G.length)||"./",ee.build()},h.equals=function(q){var ee=this.clone(),R=new a(q),j={},G={},V={},te,_e,K;if(ee.normalize(),R.normalize(),ee.toString()===R.toString())return!0;if(te=ee.query(),_e=R.query(),ee.query(""),R.query(""),ee.toString()!==R.toString()||te.length!==_e.length)return!1;j=a.parseQuery(te,this._parts.escapeQuerySpace),G=a.parseQuery(_e,this._parts.escapeQuerySpace);for(K in j)if(g.call(j,K)){if(D(j[K])){if(!Y(j[K],G[K]))return!1}else if(j[K]!==G[K])return!1;V[K]=!0}for(K in G)if(g.call(G,K)&&!V[K])return!1;return!0},h.preventInvalidHostname=function(q){return this._parts.preventInvalidHostname=!!q,this},h.duplicateQueryParameters=function(q){return this._parts.duplicateQueryParameters=!!q,this},h.escapeQuerySpace=function(q){return this._parts.escapeQuerySpace=!!q,this},a})});var oU,Ah,Z_=ze(()=>{bo();oU=la(Y_()),Ah=class extends nn{uriParams(){return(0,oU.default)(window.location.toString()).query(!0)}viaResourceName(){return this.uriParams().via_resource_name}uriParam(r){return this.viaResourceName()?`${this.viaResourceName}_${r}`:r}decode(r){return JSON.parse(new TextDecoder().decode(Uint8Array.from(atob(decodeURIComponent(r)),e=>e.codePointAt(0))))}encode(r){return encodeURIComponent(btoa(String.fromCodePoint(...new TextEncoder().encode(JSON.stringify(r)))))}changeFilter(){let r=this.getFilterValue(),e=this.getFilterClass(),t=this.uriParams()[this.uriParam("filters")];t?t=this.decode(t):t={},t[e]=r;let n=Object.keys(t).filter(a=>t[a]!==null).reduce((a,l)=>(a[l]=t[l],a),{}),i;n&&Object.keys(n).length>0&&(i=this.encode(n)),this.navigateToURLWithFilters(i)}navigateToURLWithFilters(r){let e=new oU.default(this.urlRedirectTarget.href),t=id({},e.query(!0));this.keepFiltersPanelOpenValue&&(t.keep_filters_panel_open=this.keepFiltersPanelOpenValue?1:null),t.page=1,r?t.filters=r:delete t.filters,e.query(t),this.urlRedirectTarget.href=e.readable().toString(),this.urlRedirectTarget.click()}};Wr(Ah,"targets",["urlRedirect"]),Wr(Ah,"values",{keepFiltersPanelOpen:Boolean})});var vE,kge=ze(()=>{Z_();vE=class extends Ah{getFilterValue(){let r={};return this.optionTargets.forEach(e=>{r[e.value]=e.checked}),r}getFilterClass(){let{filterClass:r}=this.optionTarget.dataset;return r}};Wr(vE,"targets",["option"])});var Gs=de((aU,sU)=>{(function(r,e){typeof aU=="object"&&typeof sU<"u"?sU.exports=e():typeof define=="function"&&define.amd?define(e):(r=r||self,r.CodeMirror=e())})(aU,function(){"use strict";var r=navigator.userAgent,e=navigator.platform,t=/gecko\/\d/i.test(r),n=/MSIE \d/.test(r),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(r),a=/Edge\/(\d+)/.exec(r),l=n||i||a,h=l&&(n?document.documentMode||6:+(a||i)[1]),g=!a&&/WebKit\//.test(r),w=g&&/Qt\/\d+\.\d+/.test(r),C=!a&&/Chrome\//.test(r),D=/Opera\//.test(r),F=/Apple Computer/.test(navigator.vendor),z=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(r),Y=/PhantomJS/.test(r),$=F&&(/Mobile\/\w+/.test(r)||navigator.maxTouchPoints>2),re=/Android/.test(r),oe=$||re||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(r),ne=$||/Mac/.test(e),he=/\bCrOS\b/.test(r),_=/win/i.test(e),ge=D&&r.match(/Version\/(\d*\.\d*)/);ge&&(ge=Number(ge[1])),ge&&ge>=15&&(D=!1,g=!0);var fe=ne&&(w||D&&(ge==null||ge<12.11)),me=t||l&&h>=9;function we(f){return new RegExp("(^|\\s)"+f+"(?:$|\\s)\\s*")}var Se=function(f,v){var A=f.className,o=we(v).exec(A);if(o){var u=A.slice(o.index+o[0].length);f.className=A.slice(0,o.index)+(u?o[1]+u:"")}};function be(f){for(var v=f.childNodes.length;v>0;--v)f.removeChild(f.firstChild);return f}function $e(f,v){return be(f).appendChild(v)}function q(f,v,A,o){var u=document.createElement(f);if(A&&(u.className=A),o&&(u.style.cssText=o),typeof v=="string")u.appendChild(document.createTextNode(v));else if(v)for(var p=0;p<v.length;++p)u.appendChild(v[p]);return u}function ee(f,v,A,o){var u=q(f,v,A,o);return u.setAttribute("role","presentation"),u}var R;document.createRange?R=function(f,v,A,o){var u=document.createRange();return u.setEnd(o||f,A),u.setStart(f,v),u}:R=function(f,v,A){var o=document.body.createTextRange();try{o.moveToElementText(f.parentNode)}catch{return o}return o.collapse(!0),o.moveEnd("character",A),o.moveStart("character",v),o};function j(f,v){if(v.nodeType==3&&(v=v.parentNode),f.contains)return f.contains(v);do if(v.nodeType==11&&(v=v.host),v==f)return!0;while(v=v.parentNode)}function G(){var f;try{f=document.activeElement}catch{f=document.body||null}for(;f&&f.shadowRoot&&f.shadowRoot.activeElement;)f=f.shadowRoot.activeElement;return f}function V(f,v){var A=f.className;we(v).test(A)||(f.className+=(A?" ":"")+v)}function te(f,v){for(var A=f.split(" "),o=0;o<A.length;o++)A[o]&&!we(A[o]).test(v)&&(v+=" "+A[o]);return v}var _e=function(f){f.select()};$?_e=function(f){f.selectionStart=0,f.selectionEnd=f.value.length}:l&&(_e=function(f){try{f.select()}catch{}});function K(f){var v=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,v)}}function U(f,v,A){v||(v={});for(var o in f)f.hasOwnProperty(o)&&(A!==!1||!v.hasOwnProperty(o))&&(v[o]=f[o]);return v}function Ue(f,v,A,o,u){v==null&&(v=f.search(/[^\s\u00a0]/),v==-1&&(v=f.length));for(var p=o||0,b=u||0;;){var T=f.indexOf("	",p);if(T<0||T>=v)return b+(v-p);b+=T-p,b+=A-b%A,p=T+1}}var Je=function(){this.id=null,this.f=null,this.time=0,this.handler=K(this.onTimeout,this)};Je.prototype.onTimeout=function(f){f.id=0,f.time<=+new Date?f.f():setTimeout(f.handler,f.time-+new Date)},Je.prototype.set=function(f,v){this.f=v;var A=+new Date+f;(!this.id||A<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,f),this.time=A)};function Qe(f,v){for(var A=0;A<f.length;++A)if(f[A]==v)return A;return-1}var Ct=50,Tt={toString:function(){return"CodeMirror.Pass"}},Ht={scroll:!1},Rt={origin:"*mouse"},Yt={origin:"+move"};function cr(f,v,A){for(var o=0,u=0;;){var p=f.indexOf("	",o);p==-1&&(p=f.length);var b=p-o;if(p==f.length||u+b>=v)return o+Math.min(b,v-u);if(u+=p-o,u+=A-u%A,o=p+1,u>=v)return o}}var Tr=[""];function ir(f){for(;Tr.length<=f;)Tr.push(At(Tr)+" ");return Tr[f]}function At(f){return f[f.length-1]}function kt(f,v){for(var A=[],o=0;o<f.length;o++)A[o]=v(f[o],o);return A}function rt(f,v,A){for(var o=0,u=A(v);o<f.length&&A(f[o])<=u;)o++;f.splice(o,0,v)}function ce(){}function Te(f,v){var A;return Object.create?A=Object.create(f):(ce.prototype=f,A=new ce),v&&U(v,A),A}var Ne=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Wt(f){return/\w/.test(f)||f>"\x80"&&(f.toUpperCase()!=f.toLowerCase()||Ne.test(f))}function ft(f,v){return v?v.source.indexOf("\\w")>-1&&Wt(f)?!0:v.test(f):Wt(f)}function qt(f){for(var v in f)if(f.hasOwnProperty(v)&&f[v])return!1;return!0}var Nt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function vr(f){return f.charCodeAt(0)>=768&&Nt.test(f)}function _r(f,v,A){for(;(A<0?v>0:v<f.length)&&vr(f.charAt(v));)v+=A;return v}function Dr(f,v,A){for(var o=v>A?-1:1;;){if(v==A)return v;var u=(v+A)/2,p=o<0?Math.ceil(u):Math.floor(u);if(p==v)return f(p)?v:A;f(p)?A=p:v=p+o}}function kr(f,v,A,o){if(!f)return o(v,A,"ltr",0);for(var u=!1,p=0;p<f.length;++p){var b=f[p];(b.from<A&&b.to>v||v==A&&b.to==v)&&(o(Math.max(b.from,v),Math.min(b.to,A),b.level==1?"rtl":"ltr",p),u=!0)}u||o(v,A,"ltr")}var et=null;function pt(f,v,A){var o;et=null;for(var u=0;u<f.length;++u){var p=f[u];if(p.from<v&&p.to>v)return u;p.to==v&&(p.from!=p.to&&A=="before"?o=u:et=u),p.from==v&&(p.from!=p.to&&A!="before"?o=u:et=u)}return o??et}var er=function(){var f="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",v="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function A(N){return N<=247?f.charAt(N):1424<=N&&N<=1524?"R":1536<=N&&N<=1785?v.charAt(N-1536):1774<=N&&N<=2220?"r":8192<=N&&N<=8203?"w":N==8204?"b":"L"}var o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,u=/[stwN]/,p=/[LRr]/,b=/[Lb1n]/,T=/[1n]/;function M(N,Z,Q){this.level=N,this.from=Z,this.to=Q}return function(N,Z){var Q=Z=="ltr"?"L":"R";if(N.length==0||Z=="ltr"&&!o.test(N))return!1;for(var ue=N.length,Ce=[],Re=0;Re<ue;++Re)Ce.push(A(N.charCodeAt(Re)));for(var it=0,at=Q;it<ue;++it){var wt=Ce[it];wt=="m"?Ce[it]=at:at=wt}for(var zt=0,$t=Q;zt<ue;++zt){var or=Ce[zt];or=="1"&&$t=="r"?Ce[zt]="n":p.test(or)&&($t=or,or=="r"&&(Ce[zt]="R"))}for(var dr=1,ur=Ce[0];dr<ue-1;++dr){var xr=Ce[dr];xr=="+"&&ur=="1"&&Ce[dr+1]=="1"?Ce[dr]="1":xr==","&&ur==Ce[dr+1]&&(ur=="1"||ur=="n")&&(Ce[dr]=ur),ur=xr}for(var Jr=0;Jr<ue;++Jr){var ln=Ce[Jr];if(ln==",")Ce[Jr]="N";else if(ln=="%"){var _n=void 0;for(_n=Jr+1;_n<ue&&Ce[_n]=="%";++_n);for(var Ti=Jr&&Ce[Jr-1]=="!"||_n<ue&&Ce[_n]=="1"?"1":"N",ao=Jr;ao<_n;++ao)Ce[ao]=Ti;Jr=_n-1}}for(var ai=0,so=Q;ai<ue;++ai){var Wi=Ce[ai];so=="L"&&Wi=="1"?Ce[ai]="L":p.test(Wi)&&(so=Wi)}for(var Pn=0;Pn<ue;++Pn)if(u.test(Ce[Pn])){var fi=void 0;for(fi=Pn+1;fi<ue&&u.test(Ce[fi]);++fi);for(var jn=(Pn?Ce[Pn-1]:Q)=="L",Bi=(fi<ue?Ce[fi]:Q)=="L",Ko=jn==Bi?jn?"L":"R":Q,_i=Pn;_i<fi;++_i)Ce[_i]=Ko;Pn=fi-1}for(var ko=[],Jl,ma=0;ma<ue;)if(b.test(Ce[ma])){var Ls=ma;for(++ma;ma<ue&&b.test(Ce[ma]);++ma);ko.push(new M(0,Ls,ma))}else{var Ps=ma,oa=ko.length,Nf=Z=="rtl"?1:0;for(++ma;ma<ue&&Ce[ma]!="L";++ma);for(var Ca=Ps;Ca<ma;)if(T.test(Ce[Ca])){Ps<Ca&&(ko.splice(oa,0,new M(1,Ps,Ca)),oa+=Nf);var Sl=Ca;for(++Ca;Ca<ma&&T.test(Ce[Ca]);++Ca);ko.splice(oa,0,new M(2,Sl,Ca)),oa+=Nf,Ps=Ca}else++Ca;Ps<ma&&ko.splice(oa,0,new M(1,Ps,ma))}return Z=="ltr"&&(ko[0].level==1&&(Jl=N.match(/^\s+/))&&(ko[0].from=Jl[0].length,ko.unshift(new M(0,0,Jl[0].length))),At(ko).level==1&&(Jl=N.match(/\s+$/))&&(At(ko).to-=Jl[0].length,ko.push(new M(0,ue-Jl[0].length,ue)))),Z=="rtl"?ko.reverse():ko}}();function Lr(f,v){var A=f.order;return A==null&&(A=f.order=er(f.text,v)),A}var ki=[],zr=function(f,v,A){if(f.addEventListener)f.addEventListener(v,A,!1);else if(f.attachEvent)f.attachEvent("on"+v,A);else{var o=f._handlers||(f._handlers={});o[v]=(o[v]||ki).concat(A)}};function $n(f,v){return f._handlers&&f._handlers[v]||ki}function Dt(f,v,A){if(f.removeEventListener)f.removeEventListener(v,A,!1);else if(f.detachEvent)f.detachEvent("on"+v,A);else{var o=f._handlers,u=o&&o[v];if(u){var p=Qe(u,A);p>-1&&(o[v]=u.slice(0,p).concat(u.slice(p+1)))}}}function Et(f,v){var A=$n(f,v);if(!!A.length)for(var o=Array.prototype.slice.call(arguments,2),u=0;u<A.length;++u)A[u].apply(null,o)}function Er(f,v,A){return typeof v=="string"&&(v={type:v,preventDefault:function(){this.defaultPrevented=!0}}),Et(f,A||v.type,f,v),fo(v)||v.codemirrorIgnore}function on(f){var v=f._handlers&&f._handlers.cursorActivity;if(!!v)for(var A=f.curOp.cursorActivityHandlers||(f.curOp.cursorActivityHandlers=[]),o=0;o<v.length;++o)Qe(A,v[o])==-1&&A.push(v[o])}function Vr(f,v){return $n(f,v).length>0}function yn(f){f.prototype.on=function(v,A){zr(this,v,A)},f.prototype.off=function(v,A){Dt(this,v,A)}}function Rn(f){f.preventDefault?f.preventDefault():f.returnValue=!1}function mi(f){f.stopPropagation?f.stopPropagation():f.cancelBubble=!0}function fo(f){return f.defaultPrevented!=null?f.defaultPrevented:f.returnValue==!1}function gi(f){Rn(f),mi(f)}function Xe(f){return f.target||f.srcElement}function st(f){var v=f.which;return v==null&&(f.button&1?v=1:f.button&2?v=3:f.button&4&&(v=2)),ne&&f.ctrlKey&&v==1&&(v=3),v}var Mt=function(){if(l&&h<9)return!1;var f=q("div");return"draggable"in f||"dragDrop"in f}(),nr;function Pr(f){if(nr==null){var v=q("span","\u200B");$e(f,q("span",[v,document.createTextNode("x")])),f.firstChild.offsetHeight!=0&&(nr=v.offsetWidth<=1&&v.offsetHeight>2&&!(l&&h<8))}var A=nr?q("span","\u200B"):q("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return A.setAttribute("cm-text",""),A}var qr;function Nn(f){if(qr!=null)return qr;var v=$e(f,document.createTextNode("A\u062EA")),A=R(v,0,1).getBoundingClientRect(),o=R(v,1,2).getBoundingClientRect();return be(f),!A||A.left==A.right?!1:qr=o.right-A.right<3}var Nr=`

b`.split(/\n/).length!=3?function(f){for(var v=0,A=[],o=f.length;v<=o;){var u=f.indexOf(`
`,v);u==-1&&(u=f.length);var p=f.slice(v,f.charAt(u-1)=="\r"?u-1:u),b=p.indexOf("\r");b!=-1?(A.push(p.slice(0,b)),v+=b+1):(A.push(p),v=u+1)}return A}:function(f){return f.split(/\r\n?|\n/)},Fn=window.getSelection?function(f){try{return f.selectionStart!=f.selectionEnd}catch{return!1}}:function(f){var v;try{v=f.ownerDocument.selection.createRange()}catch{}return!v||v.parentElement()!=f?!1:v.compareEndPoints("StartToEnd",v)!=0},Fr=function(){var f=q("div");return"oncopy"in f?!0:(f.setAttribute("oncopy","return;"),typeof f.oncopy=="function")}(),mn=null;function bn(f){if(mn!=null)return mn;var v=$e(f,q("span","x")),A=v.getBoundingClientRect(),o=R(v,0,1).getBoundingClientRect();return mn=Math.abs(A.left-o.left)>1}var vi={},Ri={};function La(f,v){arguments.length>2&&(v.dependencies=Array.prototype.slice.call(arguments,2)),vi[f]=v}function li(f,v){Ri[f]=v}function ke(f){if(typeof f=="string"&&Ri.hasOwnProperty(f))f=Ri[f];else if(f&&typeof f.name=="string"&&Ri.hasOwnProperty(f.name)){var v=Ri[f.name];typeof v=="string"&&(v={name:v}),f=Te(v,f),f.name=v.name}else{if(typeof f=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(f))return ke("application/xml");if(typeof f=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(f))return ke("application/json")}return typeof f=="string"?{name:f}:f||{name:"null"}}function Ie(f,v){v=ke(v);var A=vi[v.name];if(!A)return Ie(f,"text/plain");var o=A(f,v);if(Fe.hasOwnProperty(v.name)){var u=Fe[v.name];for(var p in u)!u.hasOwnProperty(p)||(o.hasOwnProperty(p)&&(o["_"+p]=o[p]),o[p]=u[p])}if(o.name=v.name,v.helperType&&(o.helperType=v.helperType),v.modeProps)for(var b in v.modeProps)o[b]=v.modeProps[b];return o}var Fe={};function Ye(f,v){var A=Fe.hasOwnProperty(f)?Fe[f]:Fe[f]={};U(v,A)}function ot(f,v){if(v===!0)return v;if(f.copyState)return f.copyState(v);var A={};for(var o in v){var u=v[o];u instanceof Array&&(u=u.concat([])),A[o]=u}return A}function yt(f,v){for(var A;f.innerMode&&(A=f.innerMode(v),!(!A||A.mode==f));)v=A.state,f=A.mode;return A||{mode:f,state:v}}function mt(f,v,A){return f.startState?f.startState(v,A):!0}var qe=function(f,v,A){this.pos=this.start=0,this.string=f,this.tabSize=v||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=A};qe.prototype.eol=function(){return this.pos>=this.string.length},qe.prototype.sol=function(){return this.pos==this.lineStart},qe.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},qe.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},qe.prototype.eat=function(f){var v=this.string.charAt(this.pos),A;if(typeof f=="string"?A=v==f:A=v&&(f.test?f.test(v):f(v)),A)return++this.pos,v},qe.prototype.eatWhile=function(f){for(var v=this.pos;this.eat(f););return this.pos>v},qe.prototype.eatSpace=function(){for(var f=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>f},qe.prototype.skipToEnd=function(){this.pos=this.string.length},qe.prototype.skipTo=function(f){var v=this.string.indexOf(f,this.pos);if(v>-1)return this.pos=v,!0},qe.prototype.backUp=function(f){this.pos-=f},qe.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ue(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ue(this.string,this.lineStart,this.tabSize):0)},qe.prototype.indentation=function(){return Ue(this.string,null,this.tabSize)-(this.lineStart?Ue(this.string,this.lineStart,this.tabSize):0)},qe.prototype.match=function(f,v,A){if(typeof f=="string"){var o=function(b){return A?b.toLowerCase():b},u=this.string.substr(this.pos,f.length);if(o(u)==o(f))return v!==!1&&(this.pos+=f.length),!0}else{var p=this.string.slice(this.pos).match(f);return p&&p.index>0?null:(p&&v!==!1&&(this.pos+=p[0].length),p)}},qe.prototype.current=function(){return this.string.slice(this.start,this.pos)},qe.prototype.hideFirstChars=function(f,v){this.lineStart+=f;try{return v()}finally{this.lineStart-=f}},qe.prototype.lookAhead=function(f){var v=this.lineOracle;return v&&v.lookAhead(f)},qe.prototype.baseToken=function(){var f=this.lineOracle;return f&&f.baseToken(this.pos)};function Ke(f,v){if(v-=f.first,v<0||v>=f.size)throw new Error("There is no line "+(v+f.first)+" in the document.");for(var A=f;!A.lines;)for(var o=0;;++o){var u=A.children[o],p=u.chunkSize();if(v<p){A=u;break}v-=p}return A.lines[v]}function Ot(f,v,A){var o=[],u=v.line;return f.iter(v.line,A.line+1,function(p){var b=p.text;u==A.line&&(b=b.slice(0,A.ch)),u==v.line&&(b=b.slice(v.ch)),o.push(b),++u}),o}function lr(f,v,A){var o=[];return f.iter(v,A,function(u){o.push(u.text)}),o}function jt(f,v){var A=v-f.height;if(A)for(var o=f;o;o=o.parent)o.height+=A}function Bt(f){if(f.parent==null)return null;for(var v=f.parent,A=Qe(v.lines,f),o=v.parent;o;v=o,o=o.parent)for(var u=0;o.children[u]!=v;++u)A+=o.children[u].chunkSize();return A+v.first}function hr(f,v){var A=f.first;e:do{for(var o=0;o<f.children.length;++o){var u=f.children[o],p=u.height;if(v<p){f=u;continue e}v-=p,A+=u.chunkSize()}return A}while(!f.lines);for(var b=0;b<f.lines.length;++b){var T=f.lines[b],M=T.height;if(v<M)break;v-=M}return A+b}function Ae(f,v){return v>=f.first&&v<f.first+f.size}function je(f,v){return String(f.lineNumberFormatter(v+f.firstLineNumber))}function Pe(f,v,A){if(A===void 0&&(A=null),!(this instanceof Pe))return new Pe(f,v,A);this.line=f,this.ch=v,this.sticky=A}function se(f,v){return f.line-v.line||f.ch-v.ch}function ie(f,v){return f.sticky==v.sticky&&se(f,v)==0}function ye(f){return Pe(f.line,f.ch)}function Ge(f,v){return se(f,v)<0?v:f}function dt(f,v){return se(f,v)<0?f:v}function Gt(f,v){return Math.max(f.first,Math.min(v,f.first+f.size-1))}function tr(f,v){if(v.line<f.first)return Pe(f.first,0);var A=f.first+f.size-1;return v.line>A?Pe(A,Ke(f,A).text.length):Or(v,Ke(f,v.line).text.length)}function Or(f,v){var A=f.ch;return A==null||A>v?Pe(f.line,v):A<0?Pe(f.line,0):f}function Ur(f,v){for(var A=[],o=0;o<v.length;o++)A[o]=tr(f,v[o]);return A}var fr=function(f,v){this.state=f,this.lookAhead=v},En=function(f,v,A,o){this.state=v,this.doc=f,this.line=A,this.maxLookAhead=o||0,this.baseTokens=null,this.baseTokenPos=1};En.prototype.lookAhead=function(f){var v=this.doc.getLine(this.line+f);return v!=null&&f>this.maxLookAhead&&(this.maxLookAhead=f),v},En.prototype.baseToken=function(f){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=f;)this.baseTokenPos+=2;var v=this.baseTokens[this.baseTokenPos+1];return{type:v&&v.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-f}},En.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},En.fromSaved=function(f,v,A){return v instanceof fr?new En(f,ot(f.mode,v.state),A,v.lookAhead):new En(f,ot(f.mode,v),A)},En.prototype.save=function(f){var v=f!==!1?ot(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new fr(v,this.maxLookAhead):v};function Dn(f,v,A,o){var u=[f.state.modeGen],p={};ya(f,v.text,f.doc.mode,A,function(N,Z){return u.push(N,Z)},p,o);for(var b=A.state,T=function(N){A.baseTokens=u;var Z=f.state.overlays[N],Q=1,ue=0;A.state=!0,ya(f,v.text,Z.mode,A,function(Ce,Re){for(var it=Q;ue<Ce;){var at=u[Q];at>Ce&&u.splice(Q,1,Ce,u[Q+1],at),Q+=2,ue=Math.min(Ce,at)}if(!!Re)if(Z.opaque)u.splice(it,Q-it,Ce,"overlay "+Re),Q=it+2;else for(;it<Q;it+=2){var wt=u[it+1];u[it+1]=(wt?wt+" ":"")+"overlay "+Re}},p),A.state=b,A.baseTokens=null,A.baseTokenPos=1},M=0;M<f.state.overlays.length;++M)T(M);return{styles:u,classes:p.bgClass||p.textClass?p:null}}function an(f,v,A){if(!v.styles||v.styles[0]!=f.state.modeGen){var o=Qr(f,Bt(v)),u=v.text.length>f.options.maxHighlightLength&&ot(f.doc.mode,o.state),p=Dn(f,v,o);u&&(o.state=u),v.stateAfter=o.save(!u),v.styles=p.styles,p.classes?v.styleClasses=p.classes:v.styleClasses&&(v.styleClasses=null),A===f.doc.highlightFrontier&&(f.doc.modeFrontier=Math.max(f.doc.modeFrontier,++f.doc.highlightFrontier))}return v.styles}function Qr(f,v,A){var o=f.doc,u=f.display;if(!o.mode.startState)return new En(o,!0,v);var p=ql(f,v,A),b=p>o.first&&Ke(o,p-1).stateAfter,T=b?En.fromSaved(o,b,p):new En(o,mt(o.mode),p);return o.iter(p,v,function(M){sn(f,M.text,T);var N=T.line;M.stateAfter=N==v-1||N%5==0||N>=u.viewFrom&&N<u.viewTo?T.save():null,T.nextLine()}),A&&(o.modeFrontier=T.line),T}function sn(f,v,A,o){var u=f.doc.mode,p=new qe(v,f.options.tabSize,A);for(p.start=p.pos=o||0,v==""&&Xn(u,A.state);!p.eol();)zo(u,p,A.state),p.start=p.pos}function Xn(f,v){if(f.blankLine)return f.blankLine(v);if(!!f.innerMode){var A=yt(f,v);if(A.mode.blankLine)return A.mode.blankLine(A.state)}}function zo(f,v,A,o){for(var u=0;u<10;u++){o&&(o[0]=yt(f,A).mode);var p=f.token(v,A);if(v.pos>v.start)return p}throw new Error("Mode "+f.name+" failed to advance stream.")}var As=function(f,v,A){this.start=f.start,this.end=f.pos,this.string=f.current(),this.type=v||null,this.state=A};function ei(f,v,A,o){var u=f.doc,p=u.mode,b;v=tr(u,v);var T=Ke(u,v.line),M=Qr(f,v.line,A),N=new qe(T.text,f.options.tabSize,M),Z;for(o&&(Z=[]);(o||N.pos<v.ch)&&!N.eol();)N.start=N.pos,b=zo(p,N,M.state),o&&Z.push(new As(N,b,ot(u.mode,M.state)));return o?Z:new As(N,b,M.state)}function Ci(f,v){if(f)for(;;){var A=f.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!A)break;f=f.slice(0,A.index)+f.slice(A.index+A[0].length);var o=A[1]?"bgClass":"textClass";v[o]==null?v[o]=A[2]:new RegExp("(?:^|\\s)"+A[2]+"(?:$|\\s)").test(v[o])||(v[o]+=" "+A[2])}return f}function ya(f,v,A,o,u,p,b){var T=A.flattenSpans;T==null&&(T=f.options.flattenSpans);var M=0,N=null,Z=new qe(v,f.options.tabSize,o),Q,ue=f.options.addModeClass&&[null];for(v==""&&Ci(Xn(A,o.state),p);!Z.eol();){if(Z.pos>f.options.maxHighlightLength?(T=!1,b&&sn(f,v,o,Z.pos),Z.pos=v.length,Q=null):Q=Ci(zo(A,Z,o.state,ue),p),ue){var Ce=ue[0].name;Ce&&(Q="m-"+(Q?Ce+" "+Q:Ce))}if(!T||N!=Q){for(;M<Z.start;)M=Math.min(Z.start,M+5e3),u(M,N);N=Q}Z.start=Z.pos}for(;M<Z.pos;){var Re=Math.min(Z.pos,M+5e3);u(Re,N),M=Re}}function ql(f,v,A){for(var o,u,p=f.doc,b=A?-1:v-(f.doc.mode.innerMode?1e3:100),T=v;T>b;--T){if(T<=p.first)return p.first;var M=Ke(p,T-1),N=M.stateAfter;if(N&&(!A||T+(N instanceof fr?N.lookAhead:0)<=p.modeFrontier))return T;var Z=Ue(M.text,null,f.options.tabSize);(u==null||o>Z)&&(u=T-1,o=Z)}return u}function Gi(f,v){if(f.modeFrontier=Math.min(f.modeFrontier,v),!(f.highlightFrontier<v-10)){for(var A=f.first,o=v-1;o>A;o--){var u=Ke(f,o).stateAfter;if(u&&(!(u instanceof fr)||o+u.lookAhead<v)){A=o+1;break}}f.highlightFrontier=Math.min(f.highlightFrontier,A)}}var Bs=!1,ho=!1;function Ki(){Bs=!0}function Do(){ho=!0}function ii(f,v,A){this.marker=f,this.from=v,this.to=A}function Pa(f,v){if(f)for(var A=0;A<f.length;++A){var o=f[A];if(o.marker==v)return o}}function Ua(f,v){for(var A,o=0;o<f.length;++o)f[o]!=v&&(A||(A=[])).push(f[o]);return A}function ku(f,v){f.markedSpans=f.markedSpans?f.markedSpans.concat([v]):[v],v.marker.attachLine(f)}function ro(f,v,A){var o;if(f)for(var u=0;u<f.length;++u){var p=f[u],b=p.marker,T=p.from==null||(b.inclusiveLeft?p.from<=v:p.from<v);if(T||p.from==v&&b.type=="bookmark"&&(!A||!p.marker.insertLeft)){var M=p.to==null||(b.inclusiveRight?p.to>=v:p.to>v);(o||(o=[])).push(new ii(b,p.from,M?null:p.to))}}return o}function Qc(f,v,A){var o;if(f)for(var u=0;u<f.length;++u){var p=f[u],b=p.marker,T=p.to==null||(b.inclusiveRight?p.to>=v:p.to>v);if(T||p.from==v&&b.type=="bookmark"&&(!A||p.marker.insertLeft)){var M=p.from==null||(b.inclusiveLeft?p.from<=v:p.from<v);(o||(o=[])).push(new ii(b,M?null:p.from-v,p.to==null?null:p.to-v))}}return o}function ba(f,v){if(v.full)return null;var A=Ae(f,v.from.line)&&Ke(f,v.from.line).markedSpans,o=Ae(f,v.to.line)&&Ke(f,v.to.line).markedSpans;if(!A&&!o)return null;var u=v.from.ch,p=v.to.ch,b=se(v.from,v.to)==0,T=ro(A,u,b),M=Qc(o,p,b),N=v.text.length==1,Z=At(v.text).length+(N?u:0);if(T)for(var Q=0;Q<T.length;++Q){var ue=T[Q];if(ue.to==null){var Ce=Pa(M,ue.marker);Ce?N&&(ue.to=Ce.to==null?null:Ce.to+Z):ue.to=u}}if(M)for(var Re=0;Re<M.length;++Re){var it=M[Re];if(it.to!=null&&(it.to+=Z),it.from==null){var at=Pa(T,it.marker);at||(it.from=Z,N&&(T||(T=[])).push(it))}else it.from+=Z,N&&(T||(T=[])).push(it)}T&&(T=Oo(T)),M&&M!=T&&(M=Oo(M));var wt=[T];if(!N){var zt=v.text.length-2,$t;if(zt>0&&T)for(var or=0;or<T.length;++or)T[or].to==null&&($t||($t=[])).push(new ii(T[or].marker,null,null));for(var dr=0;dr<zt;++dr)wt.push($t);wt.push(M)}return wt}function Oo(f){for(var v=0;v<f.length;++v){var A=f[v];A.from!=null&&A.from==A.to&&A.marker.clearWhenEmpty!==!1&&f.splice(v--,1)}return f.length?f:null}function ts(f,v,A){var o=null;if(f.iter(v.line,A.line+1,function(Ce){if(Ce.markedSpans)for(var Re=0;Re<Ce.markedSpans.length;++Re){var it=Ce.markedSpans[Re].marker;it.readOnly&&(!o||Qe(o,it)==-1)&&(o||(o=[])).push(it)}}),!o)return null;for(var u=[{from:v,to:A}],p=0;p<o.length;++p)for(var b=o[p],T=b.find(0),M=0;M<u.length;++M){var N=u[M];if(!(se(N.to,T.from)<0||se(N.from,T.to)>0)){var Z=[M,1],Q=se(N.from,T.from),ue=se(N.to,T.to);(Q<0||!b.inclusiveLeft&&!Q)&&Z.push({from:N.from,to:T.from}),(ue>0||!b.inclusiveRight&&!ue)&&Z.push({from:T.to,to:N.to}),u.splice.apply(u,Z),M+=Z.length-3}}return u}function Ai(f){var v=f.markedSpans;if(!!v){for(var A=0;A<v.length;++A)v[A].marker.detachLine(f);f.markedSpans=null}}function gn(f,v){if(!!v){for(var A=0;A<v.length;++A)v[A].marker.attachLine(f);f.markedSpans=v}}function Vt(f){return f.inclusiveLeft?-1:0}function jr(f){return f.inclusiveRight?1:0}function un(f,v){var A=f.lines.length-v.lines.length;if(A!=0)return A;var o=f.find(),u=v.find(),p=se(o.from,u.from)||Vt(f)-Vt(v);if(p)return-p;var b=se(o.to,u.to)||jr(f)-jr(v);return b||v.id-f.id}function Cn(f,v){var A=ho&&f.markedSpans,o;if(A)for(var u=void 0,p=0;p<A.length;++p)u=A[p],u.marker.collapsed&&(v?u.from:u.to)==null&&(!o||un(o,u.marker)<0)&&(o=u.marker);return o}function Gn(f){return Cn(f,!0)}function Vo(f){return Cn(f,!1)}function xa(f,v){var A=ho&&f.markedSpans,o;if(A)for(var u=0;u<A.length;++u){var p=A[u];p.marker.collapsed&&(p.from==null||p.from<v)&&(p.to==null||p.to>v)&&(!o||un(o,p.marker)<0)&&(o=p.marker)}return o}function ps(f,v,A,o,u){var p=Ke(f,v),b=ho&&p.markedSpans;if(b)for(var T=0;T<b.length;++T){var M=b[T];if(!!M.marker.collapsed){var N=M.marker.find(0),Z=se(N.from,A)||Vt(M.marker)-Vt(u),Q=se(N.to,o)||jr(M.marker)-jr(u);if(!(Z>=0&&Q<=0||Z<=0&&Q>=0)&&(Z<=0&&(M.marker.inclusiveRight&&u.inclusiveLeft?se(N.to,A)>=0:se(N.to,A)>0)||Z>=0&&(M.marker.inclusiveRight&&u.inclusiveLeft?se(N.from,o)<=0:se(N.from,o)<0)))return!0}}}function no(f){for(var v;v=Gn(f);)f=v.find(-1,!0).line;return f}function ja(f){for(var v;v=Vo(f);)f=v.find(1,!0).line;return f}function ou(f){for(var v,A;v=Vo(f);)f=v.find(1,!0).line,(A||(A=[])).push(f);return A}function rs(f,v){var A=Ke(f,v),o=no(A);return A==o?v:Bt(o)}function Bh(f,v){if(v>f.lastLine())return v;var A=Ke(f,v),o;if(!Ni(f,A))return v;for(;o=Vo(A);)A=o.find(1,!0).line;return Bt(A)+1}function Ni(f,v){var A=ho&&v.markedSpans;if(A){for(var o=void 0,u=0;u<A.length;++u)if(o=A[u],!!o.marker.collapsed){if(o.from==null)return!0;if(!o.marker.widgetNode&&o.from==0&&o.marker.inclusiveLeft&&Nl(f,v,o))return!0}}}function Nl(f,v,A){if(A.to==null){var o=A.marker.find(1,!0);return Nl(f,o.line,Pa(o.line.markedSpans,A.marker))}if(A.marker.inclusiveRight&&A.to==v.text.length)return!0;for(var u=void 0,p=0;p<v.markedSpans.length;++p)if(u=v.markedSpans[p],u.marker.collapsed&&!u.marker.widgetNode&&u.from==A.to&&(u.to==null||u.to!=A.from)&&(u.marker.inclusiveLeft||A.marker.inclusiveRight)&&Nl(f,v,u))return!0}function _a(f){f=no(f);for(var v=0,A=f.parent,o=0;o<A.lines.length;++o){var u=A.lines[o];if(u==f)break;v+=u.height}for(var p=A.parent;p;A=p,p=A.parent)for(var b=0;b<p.children.length;++b){var T=p.children[b];if(T==A)break;v+=T.height}return v}function Ds(f){if(f.height==0)return 0;for(var v=f.text.length,A,o=f;A=Gn(o);){var u=A.find(0,!0);o=u.from.line,v+=u.from.ch-u.to.ch}for(o=f;A=Vo(o);){var p=A.find(0,!0);v-=o.text.length-p.from.ch,o=p.to.line,v+=o.text.length-p.to.ch}return v}function Bl(f){var v=f.display,A=f.doc;v.maxLine=Ke(A,A.first),v.maxLineLength=Ds(v.maxLine),v.maxLineChanged=!0,A.iter(function(o){var u=Ds(o);u>v.maxLineLength&&(v.maxLineLength=u,v.maxLine=o)})}var po=function(f,v,A){this.text=f,gn(this,v),this.height=A?A(this):1};po.prototype.lineNo=function(){return Bt(this)},yn(po);function ef(f,v,A,o){f.text=v,f.stateAfter&&(f.stateAfter=null),f.styles&&(f.styles=null),f.order!=null&&(f.order=null),Ai(f),gn(f,A);var u=o?o(f):1;u!=f.height&&jt(f,u)}function zs(f){f.parent=null,Ai(f)}var Uo={},kf={};function wd(f,v){if(!f||/^\s*$/.test(f))return null;var A=v.addModeClass?kf:Uo;return A[f]||(A[f]=f.replace(/\S+/g,"cm-$&"))}function hp(f,v){var A=ee("span",null,null,g?"padding-right: .1px":null),o={pre:ee("pre",[A],"CodeMirror-line"),content:A,col:0,pos:0,cm:f,trailingSpace:!1,splitSpaces:f.getOption("lineWrapping")};v.measure={};for(var u=0;u<=(v.rest?v.rest.length:0);u++){var p=u?v.rest[u-1]:v.line,b=void 0;o.pos=0,o.addToken=Sd,Nn(f.display.measure)&&(b=Lr(p,f.doc.direction))&&(o.addToken=dp(o.addToken,b)),o.map=[];var T=v!=f.display.externalMeasured&&Bt(p);Nc(p,o,an(f,p,T)),p.styleClasses&&(p.styleClasses.bgClass&&(o.bgClass=te(p.styleClasses.bgClass,o.bgClass||"")),p.styleClasses.textClass&&(o.textClass=te(p.styleClasses.textClass,o.textClass||""))),o.map.length==0&&o.map.push(0,0,o.content.appendChild(Pr(f.display.measure))),u==0?(v.measure.map=o.map,v.measure.cache={}):((v.measure.maps||(v.measure.maps=[])).push(o.map),(v.measure.caches||(v.measure.caches=[])).push({}))}if(g){var M=o.content.lastChild;(/\bcm-tab\b/.test(M.className)||M.querySelector&&M.querySelector(".cm-tab"))&&(o.content.className="cm-tab-wrap-hack")}return Et(f,"renderLine",f,v.line,o.pre),o.pre.className&&(o.textClass=te(o.pre.className,o.textClass||"")),o}function au(f){var v=q("span","\u2022","cm-invalidchar");return v.title="\\u"+f.charCodeAt(0).toString(16),v.setAttribute("aria-label",v.title),v}function Sd(f,v,A,o,u,p,b){if(!!v){var T=f.splitSpaces?cl(v,f.trailingSpace):v,M=f.cm.state.specialChars,N=!1,Z;if(!M.test(v))f.col+=v.length,Z=document.createTextNode(T),f.map.push(f.pos,f.pos+v.length,Z),l&&h<9&&(N=!0),f.pos+=v.length;else{Z=document.createDocumentFragment();for(var Q=0;;){M.lastIndex=Q;var ue=M.exec(v),Ce=ue?ue.index-Q:v.length-Q;if(Ce){var Re=document.createTextNode(T.slice(Q,Q+Ce));l&&h<9?Z.appendChild(q("span",[Re])):Z.appendChild(Re),f.map.push(f.pos,f.pos+Ce,Re),f.col+=Ce,f.pos+=Ce}if(!ue)break;Q+=Ce+1;var it=void 0;if(ue[0]=="	"){var at=f.cm.options.tabSize,wt=at-f.col%at;it=Z.appendChild(q("span",ir(wt),"cm-tab")),it.setAttribute("role","presentation"),it.setAttribute("cm-text","	"),f.col+=wt}else ue[0]=="\r"||ue[0]==`
`?(it=Z.appendChild(q("span",ue[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),it.setAttribute("cm-text",ue[0]),f.col+=1):(it=f.cm.options.specialCharPlaceholder(ue[0]),it.setAttribute("cm-text",ue[0]),l&&h<9?Z.appendChild(q("span",[it])):Z.appendChild(it),f.col+=1);f.map.push(f.pos,f.pos+1,it),f.pos++}}if(f.trailingSpace=T.charCodeAt(v.length-1)==32,A||o||u||N||p||b){var zt=A||"";o&&(zt+=o),u&&(zt+=u);var $t=q("span",[Z],zt,p);if(b)for(var or in b)b.hasOwnProperty(or)&&or!="style"&&or!="class"&&$t.setAttribute(or,b[or]);return f.content.appendChild($t)}f.content.appendChild(Z)}}function cl(f,v){if(f.length>1&&!/  /.test(f))return f;for(var A=v,o="",u=0;u<f.length;u++){var p=f.charAt(u);p==" "&&A&&(u==f.length-1||f.charCodeAt(u+1)==32)&&(p="\xA0"),o+=p,A=p==" "}return o}function dp(f,v){return function(A,o,u,p,b,T,M){u=u?u+" cm-force-border":"cm-force-border";for(var N=A.pos,Z=N+o.length;;){for(var Q=void 0,ue=0;ue<v.length&&(Q=v[ue],!(Q.to>N&&Q.from<=N));ue++);if(Q.to>=Z)return f(A,o,u,p,b,T,M);f(A,o.slice(0,Q.to-N),u,p,null,T,M),p=null,o=o.slice(Q.to-N),N=Q.to}}}function zh(f,v,A,o){var u=!o&&A.widgetNode;u&&f.map.push(f.pos,f.pos+v,u),!o&&f.cm.display.input.needsContentAttribute&&(u||(u=f.content.appendChild(document.createElement("span"))),u.setAttribute("cm-marker",A.id)),u&&(f.cm.display.input.setUneditable(u),f.content.appendChild(u)),f.pos+=v,f.trailingSpace=!1}function Nc(f,v,A){var o=f.markedSpans,u=f.text,p=0;if(!o){for(var b=1;b<A.length;b+=2)v.addToken(v,u.slice(p,p=A[b]),wd(A[b+1],v.cm.options));return}for(var T=u.length,M=0,N=1,Z="",Q,ue,Ce=0,Re,it,at,wt,zt;;){if(Ce==M){Re=it=at=ue="",zt=null,wt=null,Ce=1/0;for(var $t=[],or=void 0,dr=0;dr<o.length;++dr){var ur=o[dr],xr=ur.marker;if(xr.type=="bookmark"&&ur.from==M&&xr.widgetNode)$t.push(xr);else if(ur.from<=M&&(ur.to==null||ur.to>M||xr.collapsed&&ur.to==M&&ur.from==M)){if(ur.to!=null&&ur.to!=M&&Ce>ur.to&&(Ce=ur.to,it=""),xr.className&&(Re+=" "+xr.className),xr.css&&(ue=(ue?ue+";":"")+xr.css),xr.startStyle&&ur.from==M&&(at+=" "+xr.startStyle),xr.endStyle&&ur.to==Ce&&(or||(or=[])).push(xr.endStyle,ur.to),xr.title&&((zt||(zt={})).title=xr.title),xr.attributes)for(var Jr in xr.attributes)(zt||(zt={}))[Jr]=xr.attributes[Jr];xr.collapsed&&(!wt||un(wt.marker,xr)<0)&&(wt=ur)}else ur.from>M&&Ce>ur.from&&(Ce=ur.from)}if(or)for(var ln=0;ln<or.length;ln+=2)or[ln+1]==Ce&&(it+=" "+or[ln]);if(!wt||wt.from==M)for(var _n=0;_n<$t.length;++_n)zh(v,0,$t[_n]);if(wt&&(wt.from||0)==M){if(zh(v,(wt.to==null?T+1:wt.to)-M,wt.marker,wt.from==null),wt.to==null)return;wt.to==M&&(wt=!1)}}if(M>=T)break;for(var Ti=Math.min(T,Ce);;){if(Z){var ao=M+Z.length;if(!wt){var ai=ao>Ti?Z.slice(0,Ti-M):Z;v.addToken(v,ai,Q?Q+Re:Re,at,M+ai.length==Ce?it:"",ue,zt)}if(ao>=Ti){Z=Z.slice(Ti-M),M=Ti;break}M=ao,at=""}Z=u.slice(p,p=A[N++]),Q=wd(A[N++],v.cm.options)}}}function Qf(f,v,A){this.line=v,this.rest=ou(v),this.size=this.rest?Bt(At(this.rest))-A+1:1,this.node=this.text=null,this.hidden=Ni(f,v)}function Cf(f,v,A){for(var o=[],u,p=v;p<A;p=u){var b=new Qf(f.doc,Ke(f.doc,p),p);u=p+b.size,o.push(b)}return o}var io=null;function su(f){io?io.ops.push(f):f.ownsGroup=io={ops:[f],delayedCallbacks:[]}}function Af(f){var v=f.delayedCallbacks,A=0;do{for(;A<v.length;A++)v[A].call(null);for(var o=0;o<f.ops.length;o++){var u=f.ops[o];if(u.cursorActivityHandlers)for(;u.cursorActivityCalled<u.cursorActivityHandlers.length;)u.cursorActivityHandlers[u.cursorActivityCalled++].call(null,u.cm)}}while(A<v.length)}function wa(f,v){var A=f.ownsGroup;if(!!A)try{Af(A)}finally{io=null,v(A)}}var Bc=null;function ta(f,v){var A=$n(f,v);if(!!A.length){var o=Array.prototype.slice.call(arguments,2),u;io?u=io.delayedCallbacks:Bc?u=Bc:(u=Bc=[],setTimeout(tf,0));for(var p=function(T){u.push(function(){return A[T].apply(null,o)})},b=0;b<A.length;++b)p(b)}}function tf(){var f=Bc;Bc=null;for(var v=0;v<f.length;++v)f[v]()}function Cu(f,v,A,o){for(var u=0;u<v.changes.length;u++){var p=v.changes[u];p=="text"?Ju(f,v):p=="gutter"?Uh(f,v,A,o):p=="class"?Qu(f,v):p=="widget"&&Td(f,v,o)}v.changes=null}function wo(f){return f.node==f.text&&(f.node=q("div",null,null,"position: relative"),f.text.parentNode&&f.text.parentNode.replaceChild(f.node,f.text),f.node.appendChild(f.text),l&&h<8&&(f.node.style.zIndex=2)),f.node}function Xu(f,v){var A=v.bgClass?v.bgClass+" "+(v.line.bgClass||""):v.line.bgClass;if(A&&(A+=" CodeMirror-linebackground"),v.background)A?v.background.className=A:(v.background.parentNode.removeChild(v.background),v.background=null);else if(A){var o=wo(v);v.background=o.insertBefore(q("div",null,A),o.firstChild),f.display.input.setUneditable(v.background)}}function zl(f,v){var A=f.display.externalMeasured;return A&&A.line==v.line?(f.display.externalMeasured=null,v.measure=A.measure,A.built):hp(f,v)}function Ju(f,v){var A=v.text.className,o=zl(f,v);v.text==v.node&&(v.node=o.pre),v.text.parentNode.replaceChild(o.pre,v.text),v.text=o.pre,o.bgClass!=v.bgClass||o.textClass!=v.textClass?(v.bgClass=o.bgClass,v.textClass=o.textClass,Qu(f,v)):A&&(v.text.className=A)}function Qu(f,v){Xu(f,v),v.line.wrapClass?wo(v).className=v.line.wrapClass:v.node!=v.text&&(v.node.className="");var A=v.textClass?v.textClass+" "+(v.line.textClass||""):v.line.textClass;v.text.className=A||""}function Uh(f,v,A,o){if(v.gutter&&(v.node.removeChild(v.gutter),v.gutter=null),v.gutterBackground&&(v.node.removeChild(v.gutterBackground),v.gutterBackground=null),v.line.gutterClass){var u=wo(v);v.gutterBackground=q("div",null,"CodeMirror-gutter-background "+v.line.gutterClass,"left: "+(f.options.fixedGutter?o.fixedPos:-o.gutterTotalWidth)+"px; width: "+o.gutterTotalWidth+"px"),f.display.input.setUneditable(v.gutterBackground),u.insertBefore(v.gutterBackground,v.text)}var p=v.line.gutterMarkers;if(f.options.lineNumbers||p){var b=wo(v),T=v.gutter=q("div",null,"CodeMirror-gutter-wrapper","left: "+(f.options.fixedGutter?o.fixedPos:-o.gutterTotalWidth)+"px");if(f.display.input.setUneditable(T),b.insertBefore(T,v.text),v.line.gutterClass&&(T.className+=" "+v.line.gutterClass),f.options.lineNumbers&&(!p||!p["CodeMirror-linenumbers"])&&(v.lineNumber=T.appendChild(q("div",je(f.options,A),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+o.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+f.display.lineNumInnerWidth+"px"))),p)for(var M=0;M<f.display.gutterSpecs.length;++M){var N=f.display.gutterSpecs[M].className,Z=p.hasOwnProperty(N)&&p[N];Z&&T.appendChild(q("div",[Z],"CodeMirror-gutter-elt","left: "+o.gutterLeft[N]+"px; width: "+o.gutterWidth[N]+"px"))}}}function Td(f,v,A){v.alignable&&(v.alignable=null);for(var o=we("CodeMirror-linewidget"),u=v.node.firstChild,p=void 0;u;u=p)p=u.nextSibling,o.test(u.className)&&v.node.removeChild(u);Ed(f,v,A)}function Ui(f,v,A,o){var u=zl(f,v);return v.text=v.node=u.pre,u.bgClass&&(v.bgClass=u.bgClass),u.textClass&&(v.textClass=u.textClass),Qu(f,v),Uh(f,v,A,o),Ed(f,v,o),v.node}function Ed(f,v,A){if(jh(f,v.line,v,A,!0),v.rest)for(var o=0;o<v.rest.length;o++)jh(f,v.rest[o],v,A,!1)}function jh(f,v,A,o,u){if(!!v.widgets)for(var p=wo(A),b=0,T=v.widgets;b<T.length;++b){var M=T[b],N=q("div",[M.node],"CodeMirror-linewidget"+(M.className?" "+M.className:""));M.handleMouseEvents||N.setAttribute("cm-ignore-events","true"),kd(M,N,A,o),f.display.input.setUneditable(N),u&&M.above?p.insertBefore(N,A.gutter||A.text):p.appendChild(N),ta(M,"redraw")}}function kd(f,v,A,o){if(f.noHScroll){(A.alignable||(A.alignable=[])).push(v);var u=o.wrapperWidth;v.style.left=o.fixedPos+"px",f.coverGutter||(u-=o.gutterTotalWidth,v.style.paddingLeft=o.gutterTotalWidth+"px"),v.style.width=u+"px"}f.coverGutter&&(v.style.zIndex=5,v.style.position="relative",f.noHScroll||(v.style.marginLeft=-o.gutterTotalWidth+"px"))}function zc(f){if(f.height!=null)return f.height;var v=f.doc.cm;if(!v)return 0;if(!j(document.body,f.node)){var A="position: relative;";f.coverGutter&&(A+="margin-left: -"+v.display.gutters.offsetWidth+"px;"),f.noHScroll&&(A+="width: "+v.display.wrapper.clientWidth+"px;"),$e(v.display.measure,q("div",[f.node],null,A))}return f.height=f.node.parentNode.offsetHeight}function ec(f,v){for(var A=Xe(v);A!=f.wrapper;A=A.parentNode)if(!A||A.nodeType==1&&A.getAttribute("cm-ignore-events")=="true"||A.parentNode==f.sizer&&A!=f.mover)return!0}function eh(f){return f.lineSpace.offsetTop}function ra(f){return f.mover.offsetHeight-f.lineSpace.offsetHeight}function ms(f){if(f.cachedPaddingH)return f.cachedPaddingH;var v=$e(f.measure,q("pre","x","CodeMirror-line-like")),A=window.getComputedStyle?window.getComputedStyle(v):v.currentStyle,o={left:parseInt(A.paddingLeft),right:parseInt(A.paddingRight)};return!isNaN(o.left)&&!isNaN(o.right)&&(f.cachedPaddingH=o),o}function Sa(f){return Ct-f.display.nativeBarWidth}function tc(f){return f.display.scroller.clientWidth-Sa(f)-f.display.barWidth}function th(f){return f.display.scroller.clientHeight-Sa(f)-f.display.barHeight}function Au(f,v,A){var o=f.options.lineWrapping,u=o&&tc(f);if(!v.measure.heights||o&&v.measure.width!=u){var p=v.measure.heights=[];if(o){v.measure.width=u;for(var b=v.text.firstChild.getClientRects(),T=0;T<b.length-1;T++){var M=b[T],N=b[T+1];Math.abs(M.bottom-N.bottom)>2&&p.push((M.bottom+N.top)/2-A.top)}}p.push(A.bottom-A.top)}}function Ul(f,v,A){if(f.line==v)return{map:f.measure.map,cache:f.measure.cache};for(var o=0;o<f.rest.length;o++)if(f.rest[o]==v)return{map:f.measure.maps[o],cache:f.measure.caches[o]};for(var u=0;u<f.rest.length;u++)if(Bt(f.rest[u])>A)return{map:f.measure.maps[u],cache:f.measure.caches[u],before:!0}}function Cd(f,v){v=no(v);var A=Bt(v),o=f.display.externalMeasured=new Qf(f.doc,v,A);o.lineN=A;var u=o.built=hp(f,o);return o.text=u.pre,$e(f.display.lineMeasure,u.pre),o}function rf(f,v,A,o){return fl(f,Du(f,v),A,o)}function bc(f,v){if(v>=f.display.viewFrom&&v<f.display.viewTo)return f.display.view[cu(f,v)];var A=f.display.externalMeasured;if(A&&v>=A.lineN&&v<A.lineN+A.size)return A}function Du(f,v){var A=Bt(v),o=bc(f,A);o&&!o.text?o=null:o&&o.changes&&(Cu(f,o,A,Ha(f)),f.curOp.forceUpdate=!0),o||(o=Cd(f,v));var u=Ul(o,v,A);return{line:v,view:o,rect:null,map:u.map,cache:u.cache,before:u.before,hasHeights:!1}}function fl(f,v,A,o,u){v.before&&(A=-1);var p=A+(o||""),b;return v.cache.hasOwnProperty(p)?b=v.cache[p]:(v.rect||(v.rect=v.view.text.getBoundingClientRect()),v.hasHeights||(Au(f,v.view,v.rect),v.hasHeights=!0),b=jl(f,v,A,o),b.bogus||(v.cache[p]=b)),{left:b.left,right:b.right,top:u?b.rtop:b.top,bottom:u?b.rbottom:b.bottom}}var mo={left:0,right:0,top:0,bottom:0};function Ou(f,v,A){for(var o,u,p,b,T,M,N=0;N<f.length;N+=3)if(T=f[N],M=f[N+1],v<T?(u=0,p=1,b="left"):v<M?(u=v-T,p=u+1):(N==f.length-3||v==M&&f[N+3]>v)&&(p=M-T,u=p-1,v>=M&&(b="right")),u!=null){if(o=f[N+2],T==M&&A==(o.insertLeft?"left":"right")&&(b=A),A=="left"&&u==0)for(;N&&f[N-2]==f[N-3]&&f[N-1].insertLeft;)o=f[(N-=3)+2],b="left";if(A=="right"&&u==M-T)for(;N<f.length-3&&f[N+3]==f[N+4]&&!f[N+5].insertLeft;)o=f[(N+=3)+2],b="right";break}return{node:o,start:u,end:p,collapse:b,coverStart:T,coverEnd:M}}function rc(f,v){var A=mo;if(v=="left")for(var o=0;o<f.length&&(A=f[o]).left==A.right;o++);else for(var u=f.length-1;u>=0&&(A=f[u]).left==A.right;u--);return A}function jl(f,v,A,o){var u=Ou(v.map,A,o),p=u.node,b=u.start,T=u.end,M=u.collapse,N;if(p.nodeType==3){for(var Z=0;Z<4;Z++){for(;b&&vr(v.line.text.charAt(u.coverStart+b));)--b;for(;u.coverStart+T<u.coverEnd&&vr(v.line.text.charAt(u.coverStart+T));)++T;if(l&&h<9&&b==0&&T==u.coverEnd-u.coverStart?N=p.parentNode.getBoundingClientRect():N=rc(R(p,b,T).getClientRects(),o),N.left||N.right||b==0)break;T=b,b=b-1,M="right"}l&&h<11&&(N=rh(f.display.measure,N))}else{b>0&&(M=o="right");var Q;f.options.lineWrapping&&(Q=p.getClientRects()).length>1?N=Q[o=="right"?Q.length-1:0]:N=p.getBoundingClientRect()}if(l&&h<9&&!b&&(!N||!N.left&&!N.right)){var ue=p.parentNode.getClientRects()[0];ue?N={left:ue.left,right:ue.left+af(f.display),top:ue.top,bottom:ue.bottom}:N=mo}for(var Ce=N.top-v.rect.top,Re=N.bottom-v.rect.top,it=(Ce+Re)/2,at=v.view.measure.heights,wt=0;wt<at.length-1&&!(it<at[wt]);wt++);var zt=wt?at[wt-1]:0,$t=at[wt],or={left:(M=="right"?N.right:N.left)-v.rect.left,right:(M=="left"?N.left:N.right)-v.rect.left,top:zt,bottom:$t};return!N.left&&!N.right&&(or.bogus=!0),f.options.singleCursorHeightPerLine||(or.rtop=Ce,or.rbottom=Re),or}function rh(f,v){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!bn(f))return v;var A=screen.logicalXDPI/screen.deviceXDPI,o=screen.logicalYDPI/screen.deviceYDPI;return{left:v.left*A,right:v.right*A,top:v.top*o,bottom:v.bottom*o}}function nm(f){if(f.measure&&(f.measure.cache={},f.measure.heights=null,f.rest))for(var v=0;v<f.rest.length;v++)f.measure.caches[v]={}}function pp(f){f.display.externalMeasure=null,be(f.display.lineMeasure);for(var v=0;v<f.display.view.length;v++)nm(f.display.view[v])}function nf(f){pp(f),f.display.cachedCharWidth=f.display.cachedTextHeight=f.display.cachedPaddingH=null,f.options.lineWrapping||(f.display.maxLineChanged=!0),f.display.lineNumChars=null}function lu(){return C&&re?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Us(){return C&&re?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function nc(f){var v=0;if(f.widgets)for(var A=0;A<f.widgets.length;++A)f.widgets[A].above&&(v+=zc(f.widgets[A]));return v}function Uc(f,v,A,o,u){if(!u){var p=nc(v);A.top+=p,A.bottom+=p}if(o=="line")return A;o||(o="local");var b=_a(v);if(o=="local"?b+=eh(f.display):b-=f.display.viewOffset,o=="page"||o=="window"){var T=f.display.lineSpace.getBoundingClientRect();b+=T.top+(o=="window"?0:Us());var M=T.left+(o=="window"?0:lu());A.left+=M,A.right+=M}return A.top+=b,A.bottom+=b,A}function of(f,v,A){if(A=="div")return v;var o=v.left,u=v.top;if(A=="page")o-=lu(),u-=Us();else if(A=="local"||!A){var p=f.display.sizer.getBoundingClientRect();o+=p.left,u+=p.top}var b=f.display.lineSpace.getBoundingClientRect();return{left:o-b.left,top:u-b.top}}function nh(f,v,A,o,u){return o||(o=Ke(f.doc,v.line)),Uc(f,o,rf(f,o,v.ch,u),A)}function gs(f,v,A,o,u,p){o=o||Ke(f.doc,v.line),u||(u=Du(f,o));function b(Re,it){var at=fl(f,u,Re,it?"right":"left",p);return it?at.left=at.right:at.right=at.left,Uc(f,o,at,A)}var T=Lr(o,f.doc.direction),M=v.ch,N=v.sticky;if(M>=o.text.length?(M=o.text.length,N="before"):M<=0&&(M=0,N="after"),!T)return b(N=="before"?M-1:M,N=="before");function Z(Re,it,at){var wt=T[it],zt=wt.level==1;return b(at?Re-1:Re,zt!=at)}var Q=pt(T,M,N),ue=et,Ce=Z(M,Q,N=="before");return ue!=null&&(Ce.other=Z(M,ue,N!="before")),Ce}function uu(f,v){var A=0;v=tr(f.doc,v),f.options.lineWrapping||(A=af(f.display)*v.ch);var o=Ke(f.doc,v.line),u=_a(o)+eh(f.display);return{left:A,right:A,top:u,bottom:u+o.height}}function Hl(f,v,A,o,u){var p=Pe(f,v,A);return p.xRel=u,o&&(p.outside=o),p}function Pt(f,v,A){var o=f.doc;if(A+=f.display.viewOffset,A<0)return Hl(o.first,0,null,-1,-1);var u=hr(o,A),p=o.first+o.size-1;if(u>p)return Hl(o.first+o.size-1,Ke(o,p).text.length,null,1,1);v<0&&(v=0);for(var b=Ke(o,u);;){var T=ti(f,b,u,v,A),M=xa(b,T.ch+(T.xRel>0||T.outside>0?1:0));if(!M)return T;var N=M.find(1);if(N.line==u)return N;b=Ke(o,u=N.line)}}function gr(f,v,A,o){o-=nc(v);var u=v.text.length,p=Dr(function(b){return fl(f,A,b-1).bottom<=o},u,0);return u=Dr(function(b){return fl(f,A,b).top>o},p,u),{begin:p,end:u}}function sr(f,v,A,o){A||(A=Du(f,v));var u=Uc(f,v,fl(f,A,o),"line").top;return gr(f,v,A,u)}function fn(f,v,A,o){return f.bottom<=A?!1:f.top>A?!0:(o?f.left:f.right)>v}function ti(f,v,A,o,u){u-=_a(v);var p=Du(f,v),b=nc(v),T=0,M=v.text.length,N=!0,Z=Lr(v,f.doc.direction);if(Z){var Q=(f.options.lineWrapping?fa:Yi)(f,v,A,p,Z,o,u);N=Q.level!=1,T=N?Q.from:Q.to-1,M=N?Q.to:Q.from-1}var ue=null,Ce=null,Re=Dr(function(dr){var ur=fl(f,p,dr);return ur.top+=b,ur.bottom+=b,fn(ur,o,u,!1)?(ur.top<=u&&ur.left<=o&&(ue=dr,Ce=ur),!0):!1},T,M),it,at,wt=!1;if(Ce){var zt=o-Ce.left<Ce.right-o,$t=zt==N;Re=ue+($t?0:1),at=$t?"after":"before",it=zt?Ce.left:Ce.right}else{!N&&(Re==M||Re==T)&&Re++,at=Re==0?"after":Re==v.text.length?"before":fl(f,p,Re-(N?1:0)).bottom+b<=u==N?"after":"before";var or=gs(f,Pe(A,Re,at),"line",v,p);it=or.left,wt=u<or.top?-1:u>=or.bottom?1:0}return Re=_r(v.text,Re,1),Hl(A,Re,at,wt,o-it)}function Yi(f,v,A,o,u,p,b){var T=Dr(function(Q){var ue=u[Q],Ce=ue.level!=1;return fn(gs(f,Pe(A,Ce?ue.to:ue.from,Ce?"before":"after"),"line",v,o),p,b,!0)},0,u.length-1),M=u[T];if(T>0){var N=M.level!=1,Z=gs(f,Pe(A,N?M.from:M.to,N?"after":"before"),"line",v,o);fn(Z,p,b,!0)&&Z.top>b&&(M=u[T-1])}return M}function fa(f,v,A,o,u,p,b){var T=gr(f,v,o,b),M=T.begin,N=T.end;/\s/.test(v.text.charAt(N-1))&&N--;for(var Z=null,Q=null,ue=0;ue<u.length;ue++){var Ce=u[ue];if(!(Ce.from>=N||Ce.to<=M)){var Re=Ce.level!=1,it=fl(f,o,Re?Math.min(N,Ce.to)-1:Math.max(M,Ce.from)).right,at=it<p?p-it+1e9:it-p;(!Z||Q>at)&&(Z=Ce,Q=at)}}return Z||(Z=u[u.length-1]),Z.from<M&&(Z={from:M,to:Z.to,level:Z.level}),Z.to>N&&(Z={from:Z.from,to:N,level:Z.level}),Z}var oo;function ic(f){if(f.cachedTextHeight!=null)return f.cachedTextHeight;if(oo==null){oo=q("pre",null,"CodeMirror-line-like");for(var v=0;v<49;++v)oo.appendChild(document.createTextNode("x")),oo.appendChild(q("br"));oo.appendChild(document.createTextNode("x"))}$e(f.measure,oo);var A=oo.offsetHeight/50;return A>3&&(f.cachedTextHeight=A),be(f.measure),A||1}function af(f){if(f.cachedCharWidth!=null)return f.cachedCharWidth;var v=q("span","xxxxxxxxxx"),A=q("pre",[v],"CodeMirror-line-like");$e(f.measure,A);var o=v.getBoundingClientRect(),u=(o.right-o.left)/10;return u>2&&(f.cachedCharWidth=u),u||10}function Ha(f){for(var v=f.display,A={},o={},u=v.gutters.clientLeft,p=v.gutters.firstChild,b=0;p;p=p.nextSibling,++b){var T=f.display.gutterSpecs[b].className;A[T]=p.offsetLeft+p.clientLeft+u,o[T]=p.clientWidth}return{fixedPos:Iu(v),gutterTotalWidth:v.gutters.offsetWidth,gutterLeft:A,gutterWidth:o,wrapperWidth:v.wrapper.clientWidth}}function Iu(f){return f.scroller.getBoundingClientRect().left-f.sizer.getBoundingClientRect().left}function xc(f){var v=ic(f.display),A=f.options.lineWrapping,o=A&&Math.max(5,f.display.scroller.clientWidth/af(f.display)-3);return function(u){if(Ni(f.doc,u))return 0;var p=0;if(u.widgets)for(var b=0;b<u.widgets.length;b++)u.widgets[b].height&&(p+=u.widgets[b].height);return A?p+(Math.ceil(u.text.length/o)||1)*v:p+v}}function Mu(f){var v=f.doc,A=xc(f);v.iter(function(o){var u=A(o);u!=o.height&&jt(o,u)})}function Wl(f,v,A,o){var u=f.display;if(!A&&Xe(v).getAttribute("cm-not-content")=="true")return null;var p,b,T=u.lineSpace.getBoundingClientRect();try{p=v.clientX-T.left,b=v.clientY-T.top}catch{return null}var M=Pt(f,p,b),N;if(o&&M.xRel>0&&(N=Ke(f.doc,M.line).text).length==M.ch){var Z=Ue(N,N.length,f.options.tabSize)-N.length;M=Pe(M.line,Math.max(0,Math.round((p-ms(f.display).left)/af(f.display))-Z))}return M}function cu(f,v){if(v>=f.display.viewTo||(v-=f.display.viewFrom,v<0))return null;for(var A=f.display.view,o=0;o<A.length;o++)if(v-=A[o].size,v<0)return o}function Jn(f,v,A,o){v==null&&(v=f.doc.first),A==null&&(A=f.doc.first+f.doc.size),o||(o=0);var u=f.display;if(o&&A<u.viewTo&&(u.updateLineNumbers==null||u.updateLineNumbers>v)&&(u.updateLineNumbers=v),f.curOp.viewChanged=!0,v>=u.viewTo)ho&&rs(f.doc,v)<u.viewTo&&Wa(f);else if(A<=u.viewFrom)ho&&Bh(f.doc,A+o)>u.viewFrom?Wa(f):(u.viewFrom+=o,u.viewTo+=o);else if(v<=u.viewFrom&&A>=u.viewTo)Wa(f);else if(v<=u.viewFrom){var p=ri(f,A,A+o,1);p?(u.view=u.view.slice(p.index),u.viewFrom=p.lineN,u.viewTo+=o):Wa(f)}else if(A>=u.viewTo){var b=ri(f,v,v,-1);b?(u.view=u.view.slice(0,b.index),u.viewTo=b.lineN):Wa(f)}else{var T=ri(f,v,v,-1),M=ri(f,A,A+o,1);T&&M?(u.view=u.view.slice(0,T.index).concat(Cf(f,T.lineN,M.lineN)).concat(u.view.slice(M.index)),u.viewTo+=o):Wa(f)}var N=u.externalMeasured;N&&(A<N.lineN?N.lineN+=o:v<N.lineN+N.size&&(u.externalMeasured=null))}function hl(f,v,A){f.curOp.viewChanged=!0;var o=f.display,u=f.display.externalMeasured;if(u&&v>=u.lineN&&v<u.lineN+u.size&&(o.externalMeasured=null),!(v<o.viewFrom||v>=o.viewTo)){var p=o.view[cu(f,v)];if(p.node!=null){var b=p.changes||(p.changes=[]);Qe(b,A)==-1&&b.push(A)}}}function Wa(f){f.display.viewFrom=f.display.viewTo=f.doc.first,f.display.view=[],f.display.viewOffset=0}function ri(f,v,A,o){var u=cu(f,v),p,b=f.display.view;if(!ho||A==f.doc.first+f.doc.size)return{index:u,lineN:A};for(var T=f.display.viewFrom,M=0;M<u;M++)T+=b[M].size;if(T!=v){if(o>0){if(u==b.length-1)return null;p=T+b[u].size-v,u++}else p=T-v;v+=p,A+=p}for(;rs(f.doc,A)!=A;){if(u==(o<0?0:b.length-1))return null;A+=o*b[u-(o<0?1:0)].size,u+=o}return{index:u,lineN:A}}function oc(f,v,A){var o=f.display,u=o.view;u.length==0||v>=o.viewTo||A<=o.viewFrom?(o.view=Cf(f,v,A),o.viewFrom=v):(o.viewFrom>v?o.view=Cf(f,v,o.viewFrom).concat(o.view):o.viewFrom<v&&(o.view=o.view.slice(cu(f,v))),o.viewFrom=v,o.viewTo<A?o.view=o.view.concat(Cf(f,o.viewTo,A)):o.viewTo>A&&(o.view=o.view.slice(0,cu(f,A)))),o.viewTo=A}function dl(f){for(var v=f.display.view,A=0,o=0;o<v.length;o++){var u=v[o];!u.hidden&&(!u.node||u.changes)&&++A}return A}function pl(f){f.display.input.showSelection(f.display.input.prepareSelection())}function ui(f,v){v===void 0&&(v=!0);for(var A=f.doc,o={},u=o.cursors=document.createDocumentFragment(),p=o.selection=document.createDocumentFragment(),b=0;b<A.sel.ranges.length;b++)if(!(!v&&b==A.sel.primIndex)){var T=A.sel.ranges[b];if(!(T.from().line>=f.display.viewTo||T.to().line<f.display.viewFrom)){var M=T.empty();(M||f.options.showCursorWhenSelecting)&&Mi(f,T.head,u),M||Df(f,T,p)}}return o}function Mi(f,v,A){var o=gs(f,v,"div",null,null,!f.options.singleCursorHeightPerLine),u=A.appendChild(q("div","\xA0","CodeMirror-cursor"));if(u.style.left=o.left+"px",u.style.top=o.top+"px",u.style.height=Math.max(0,o.bottom-o.top)*f.options.cursorHeight+"px",o.other){var p=A.appendChild(q("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));p.style.display="",p.style.left=o.other.left+"px",p.style.top=o.other.top+"px",p.style.height=(o.other.bottom-o.other.top)*.85+"px"}}function Ta(f,v){return f.top-v.top||f.left-v.left}function Df(f,v,A){var o=f.display,u=f.doc,p=document.createDocumentFragment(),b=ms(f.display),T=b.left,M=Math.max(o.sizerWidth,tc(f)-o.sizer.offsetLeft)-b.right,N=u.direction=="ltr";function Z($t,or,dr,ur){or<0&&(or=0),or=Math.round(or),ur=Math.round(ur),p.appendChild(q("div",null,"CodeMirror-selected","position: absolute; left: "+$t+`px;
                             top: `+or+"px; width: "+(dr??M-$t)+`px;
                             height: `+(ur-or)+"px"))}function Q($t,or,dr){var ur=Ke(u,$t),xr=ur.text.length,Jr,ln;function _n(ai,so){return nh(f,Pe($t,ai),"div",ur,so)}function Ti(ai,so,Wi){var Pn=sr(f,ur,null,ai),fi=so=="ltr"==(Wi=="after")?"left":"right",jn=Wi=="after"?Pn.begin:Pn.end-(/\s/.test(ur.text.charAt(Pn.end-1))?2:1);return _n(jn,fi)[fi]}var ao=Lr(ur,u.direction);return kr(ao,or||0,dr??xr,function(ai,so,Wi,Pn){var fi=Wi=="ltr",jn=_n(ai,fi?"left":"right"),Bi=_n(so-1,fi?"right":"left"),Ko=or==null&&ai==0,_i=dr==null&&so==xr,ko=Pn==0,Jl=!ao||Pn==ao.length-1;if(Bi.top-jn.top<=3){var ma=(N?Ko:_i)&&ko,Ls=(N?_i:Ko)&&Jl,Ps=ma?T:(fi?jn:Bi).left,oa=Ls?M:(fi?Bi:jn).right;Z(Ps,jn.top,oa-Ps,jn.bottom)}else{var Nf,Ca,Sl,Dc;fi?(Nf=N&&Ko&&ko?T:jn.left,Ca=N?M:Ti(ai,Wi,"before"),Sl=N?T:Ti(so,Wi,"after"),Dc=N&&_i&&Jl?M:Bi.right):(Nf=N?Ti(ai,Wi,"before"):T,Ca=!N&&Ko&&ko?M:jn.right,Sl=!N&&_i&&Jl?T:Bi.left,Dc=N?Ti(so,Wi,"after"):M),Z(Nf,jn.top,Ca-Nf,jn.bottom),jn.bottom<Bi.top&&Z(T,jn.bottom,null,Bi.top),Z(Sl,Bi.top,Dc-Sl,Bi.bottom)}(!Jr||Ta(jn,Jr)<0)&&(Jr=jn),Ta(Bi,Jr)<0&&(Jr=Bi),(!ln||Ta(jn,ln)<0)&&(ln=jn),Ta(Bi,ln)<0&&(ln=Bi)}),{start:Jr,end:ln}}var ue=v.from(),Ce=v.to();if(ue.line==Ce.line)Q(ue.line,ue.ch,Ce.ch);else{var Re=Ke(u,ue.line),it=Ke(u,Ce.line),at=no(Re)==no(it),wt=Q(ue.line,ue.ch,at?Re.text.length+1:null).end,zt=Q(Ce.line,at?0:null,Ce.ch).start;at&&(wt.top<zt.top-2?(Z(wt.right,wt.top,null,wt.bottom),Z(T,zt.top,zt.left,zt.bottom)):Z(wt.right,wt.top,zt.left-wt.right,wt.bottom)),wt.bottom<zt.top&&Z(T,wt.bottom,null,zt.top)}A.appendChild(p)}function fu(f){if(!!f.state.focused){var v=f.display;clearInterval(v.blinker);var A=!0;v.cursorDiv.style.visibility="",f.options.cursorBlinkRate>0?v.blinker=setInterval(function(){f.hasFocus()||Lu(f),v.cursorDiv.style.visibility=(A=!A)?"":"hidden"},f.options.cursorBlinkRate):f.options.cursorBlinkRate<0&&(v.cursorDiv.style.visibility="hidden")}}function _c(f){f.hasFocus()||(f.display.input.focus(),f.state.focused||sf(f))}function Ad(f){f.state.delayingBlurEvent=!0,setTimeout(function(){f.state.delayingBlurEvent&&(f.state.delayingBlurEvent=!1,f.state.focused&&Lu(f))},100)}function sf(f,v){f.state.delayingBlurEvent&&!f.state.draggingText&&(f.state.delayingBlurEvent=!1),f.options.readOnly!="nocursor"&&(f.state.focused||(Et(f,"focus",f,v),f.state.focused=!0,V(f.display.wrapper,"CodeMirror-focused"),!f.curOp&&f.display.selForContextMenu!=f.doc.sel&&(f.display.input.reset(),g&&setTimeout(function(){return f.display.input.reset(!0)},20)),f.display.input.receivedFocus()),fu(f))}function Lu(f,v){f.state.delayingBlurEvent||(f.state.focused&&(Et(f,"blur",f,v),f.state.focused=!1,Se(f.display.wrapper,"CodeMirror-focused")),clearInterval(f.display.blinker),setTimeout(function(){f.state.focused||(f.display.shift=!1)},150))}function Vl(f){for(var v=f.display,A=v.lineDiv.offsetTop,o=0;o<v.view.length;o++){var u=v.view[o],p=f.options.lineWrapping,b=void 0,T=0;if(!u.hidden){if(l&&h<8){var M=u.node.offsetTop+u.node.offsetHeight;b=M-A,A=M}else{var N=u.node.getBoundingClientRect();b=N.bottom-N.top,!p&&u.text.firstChild&&(T=u.text.firstChild.getBoundingClientRect().right-N.left-1)}var Z=u.line.height-b;if((Z>.005||Z<-.005)&&(jt(u.line,b),Os(u.line),u.rest))for(var Q=0;Q<u.rest.length;Q++)Os(u.rest[Q]);if(T>f.display.sizerWidth){var ue=Math.ceil(T/af(f.display));ue>f.display.maxLineLength&&(f.display.maxLineLength=ue,f.display.maxLine=u.line,f.display.maxLineChanged=!0)}}}}function Os(f){if(f.widgets)for(var v=0;v<f.widgets.length;++v){var A=f.widgets[v],o=A.node.parentNode;o&&(A.height=o.offsetHeight)}}function go(f,v,A){var o=A&&A.top!=null?Math.max(0,A.top):f.scroller.scrollTop;o=Math.floor(o-eh(f));var u=A&&A.bottom!=null?A.bottom:o+f.wrapper.clientHeight,p=hr(v,o),b=hr(v,u);if(A&&A.ensure){var T=A.ensure.from.line,M=A.ensure.to.line;T<p?(p=T,b=hr(v,_a(Ke(v,T))+f.wrapper.clientHeight)):Math.min(M,v.lastLine())>=b&&(p=hr(v,_a(Ke(v,M))-f.wrapper.clientHeight),b=M)}return{from:p,to:Math.max(b,p+1)}}function lf(f,v){if(!Er(f,"scrollCursorIntoView")){var A=f.display,o=A.sizer.getBoundingClientRect(),u=null;if(v.top+o.top<0?u=!0:v.bottom+o.top>(window.innerHeight||document.documentElement.clientHeight)&&(u=!1),u!=null&&!Y){var p=q("div","\u200B",null,`position: absolute;
                         top: `+(v.top-A.viewOffset-eh(f.display))+`px;
                         height: `+(v.bottom-v.top+Sa(f)+A.barHeight)+`px;
                         left: `+v.left+"px; width: "+Math.max(2,v.right-v.left)+"px;");f.display.lineSpace.appendChild(p),p.scrollIntoView(u),f.display.lineSpace.removeChild(p)}}}function mp(f,v,A,o){o==null&&(o=0);var u;!f.options.lineWrapping&&v==A&&(v=v.ch?Pe(v.line,v.sticky=="before"?v.ch-1:v.ch,"after"):v,A=v.sticky=="before"?Pe(v.line,v.ch+1,"before"):v);for(var p=0;p<5;p++){var b=!1,T=gs(f,v),M=!A||A==v?T:gs(f,A);u={left:Math.min(T.left,M.left),top:Math.min(T.top,M.top)-o,right:Math.max(T.left,M.left),bottom:Math.max(T.bottom,M.bottom)+o};var N=Zr(f,u),Z=f.doc.scrollTop,Q=f.doc.scrollLeft;if(N.scrollTop!=null&&(wr(f,N.scrollTop),Math.abs(f.doc.scrollTop-Z)>1&&(b=!0)),N.scrollLeft!=null&&(sc(f,N.scrollLeft),Math.abs(f.doc.scrollLeft-Q)>1&&(b=!0)),!b)break}return u}function na(f,v){var A=Zr(f,v);A.scrollTop!=null&&wr(f,A.scrollTop),A.scrollLeft!=null&&sc(f,A.scrollLeft)}function Zr(f,v){var A=f.display,o=ic(f.display);v.top<0&&(v.top=0);var u=f.curOp&&f.curOp.scrollTop!=null?f.curOp.scrollTop:A.scroller.scrollTop,p=th(f),b={};v.bottom-v.top>p&&(v.bottom=v.top+p);var T=f.doc.height+ra(A),M=v.top<o,N=v.bottom>T-o;if(v.top<u)b.scrollTop=M?0:v.top;else if(v.bottom>u+p){var Z=Math.min(v.top,(N?T:v.bottom)-p);Z!=u&&(b.scrollTop=Z)}var Q=f.options.fixedGutter?0:A.gutters.offsetWidth,ue=f.curOp&&f.curOp.scrollLeft!=null?f.curOp.scrollLeft:A.scroller.scrollLeft-Q,Ce=tc(f)-A.gutters.offsetWidth,Re=v.right-v.left>Ce;return Re&&(v.right=v.left+Ce),v.left<10?b.scrollLeft=0:v.left<ue?b.scrollLeft=Math.max(0,v.left+Q-(Re?0:10)):v.right>Ce+ue-3&&(b.scrollLeft=v.right+(Re?0:10)-Ce),b}function vs(f,v){v!=null&&(Ra(f),f.curOp.scrollTop=(f.curOp.scrollTop==null?f.doc.scrollTop:f.curOp.scrollTop)+v)}function ac(f){Ra(f);var v=f.getCursor();f.curOp.scrollToPos={from:v,to:v,margin:f.options.cursorScrollMargin}}function Pu(f,v,A){(v!=null||A!=null)&&Ra(f),v!=null&&(f.curOp.scrollLeft=v),A!=null&&(f.curOp.scrollTop=A)}function $l(f,v){Ra(f),f.curOp.scrollToPos=v}function Ra(f){var v=f.curOp.scrollToPos;if(v){f.curOp.scrollToPos=null;var A=uu(f,v.from),o=uu(f,v.to);uf(f,A,o,v.margin)}}function uf(f,v,A,o){var u=Zr(f,{left:Math.min(v.left,A.left),top:Math.min(v.top,A.top)-o,right:Math.max(v.right,A.right),bottom:Math.max(v.bottom,A.bottom)+o});Pu(f,u.scrollLeft,u.scrollTop)}function wr(f,v){Math.abs(f.doc.scrollTop-v)<2||(t||Fu(f,{top:v}),Fa(f,v,!0),t&&Fu(f),yi(f,100))}function Fa(f,v,A){v=Math.max(0,Math.min(f.display.scroller.scrollHeight-f.display.scroller.clientHeight,v)),!(f.display.scroller.scrollTop==v&&!A)&&(f.doc.scrollTop=v,f.display.scrollbars.setScrollTop(v),f.display.scroller.scrollTop!=v&&(f.display.scroller.scrollTop=v))}function sc(f,v,A,o){v=Math.max(0,Math.min(v,f.display.scroller.scrollWidth-f.display.scroller.clientWidth)),!((A?v==f.doc.scrollLeft:Math.abs(f.doc.scrollLeft-v)<2)&&!o)&&(f.doc.scrollLeft=v,os(f),f.display.scroller.scrollLeft!=v&&(f.display.scroller.scrollLeft=v),f.display.scrollbars.setScrollLeft(v))}function lc(f){var v=f.display,A=v.gutters.offsetWidth,o=Math.round(f.doc.height+ra(f.display));return{clientHeight:v.scroller.clientHeight,viewHeight:v.wrapper.clientHeight,scrollWidth:v.scroller.scrollWidth,clientWidth:v.scroller.clientWidth,viewWidth:v.wrapper.clientWidth,barLeft:f.options.fixedGutter?A:0,docHeight:o,scrollHeight:o+Sa(f)+v.barHeight,nativeBarWidth:v.nativeBarWidth,gutterWidth:A}}var ns=function(f,v,A){this.cm=A;var o=this.vert=q("div",[q("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),u=this.horiz=q("div",[q("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");o.tabIndex=u.tabIndex=-1,f(o),f(u),zr(o,"scroll",function(){o.clientHeight&&v(o.scrollTop,"vertical")}),zr(u,"scroll",function(){u.clientWidth&&v(u.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,l&&h<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ns.prototype.update=function(f){var v=f.scrollWidth>f.clientWidth+1,A=f.scrollHeight>f.clientHeight+1,o=f.nativeBarWidth;if(A){this.vert.style.display="block",this.vert.style.bottom=v?o+"px":"0";var u=f.viewHeight-(v?o:0);this.vert.firstChild.style.height=Math.max(0,f.scrollHeight-f.clientHeight+u)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(v){this.horiz.style.display="block",this.horiz.style.right=A?o+"px":"0",this.horiz.style.left=f.barLeft+"px";var p=f.viewWidth-f.barLeft-(A?o:0);this.horiz.firstChild.style.width=Math.max(0,f.scrollWidth-f.clientWidth+p)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&f.clientHeight>0&&(o==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:A?o:0,bottom:v?o:0}},ns.prototype.setScrollLeft=function(f){this.horiz.scrollLeft!=f&&(this.horiz.scrollLeft=f),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ns.prototype.setScrollTop=function(f){this.vert.scrollTop!=f&&(this.vert.scrollTop=f),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ns.prototype.zeroWidthHack=function(){var f=ne&&!z?"12px":"18px";this.horiz.style.height=this.vert.style.width=f,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Je,this.disableVert=new Je},ns.prototype.enableZeroWidthBar=function(f,v,A){f.style.pointerEvents="auto";function o(){var u=f.getBoundingClientRect(),p=A=="vert"?document.elementFromPoint(u.right-1,(u.top+u.bottom)/2):document.elementFromPoint((u.right+u.left)/2,u.bottom-1);p!=f?f.style.pointerEvents="none":v.set(1e3,o)}v.set(1e3,o)},ns.prototype.clear=function(){var f=this.horiz.parentNode;f.removeChild(this.horiz),f.removeChild(this.vert)};var ha=function(){};ha.prototype.update=function(){return{bottom:0,right:0}},ha.prototype.setScrollLeft=function(){},ha.prototype.setScrollTop=function(){},ha.prototype.clear=function(){};function ml(f,v){v||(v=lc(f));var A=f.display.barWidth,o=f.display.barHeight;gl(f,v);for(var u=0;u<4&&A!=f.display.barWidth||o!=f.display.barHeight;u++)A!=f.display.barWidth&&f.options.lineWrapping&&Vl(f),gl(f,lc(f)),A=f.display.barWidth,o=f.display.barHeight}function gl(f,v){var A=f.display,o=A.scrollbars.update(v);A.sizer.style.paddingRight=(A.barWidth=o.right)+"px",A.sizer.style.paddingBottom=(A.barHeight=o.bottom)+"px",A.heightForcer.style.borderBottom=o.bottom+"px solid transparent",o.right&&o.bottom?(A.scrollbarFiller.style.display="block",A.scrollbarFiller.style.height=o.bottom+"px",A.scrollbarFiller.style.width=o.right+"px"):A.scrollbarFiller.style.display="",o.bottom&&f.options.coverGutterNextToScrollbar&&f.options.fixedGutter?(A.gutterFiller.style.display="block",A.gutterFiller.style.height=o.bottom+"px",A.gutterFiller.style.width=v.gutterWidth+"px"):A.gutterFiller.style.display=""}var Va={native:ns,null:ha};function is(f){f.display.scrollbars&&(f.display.scrollbars.clear(),f.display.scrollbars.addClass&&Se(f.display.wrapper,f.display.scrollbars.addClass)),f.display.scrollbars=new Va[f.options.scrollbarStyle](function(v){f.display.wrapper.insertBefore(v,f.display.scrollbarFiller),zr(v,"mousedown",function(){f.state.focused&&setTimeout(function(){return f.display.input.focus()},0)}),v.setAttribute("cm-not-content","true")},function(v,A){A=="horizontal"?sc(f,v):wr(f,v)},f),f.display.scrollbars.addClass&&V(f.display.wrapper,f.display.scrollbars.addClass)}var Of=0;function Ys(f){f.curOp={cm:f,viewChanged:!1,startHeight:f.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Of},su(f.curOp)}function hu(f){var v=f.curOp;v&&wa(v,function(A){for(var o=0;o<A.ops.length;o++)A.ops[o].cm.curOp=null;cf(A)})}function cf(f){for(var v=f.ops,A=0;A<v.length;A++)js(v[A]);for(var o=0;o<v.length;o++)ys(v[o]);for(var u=0;u<v.length;u++)ci(v[u]);for(var p=0;p<v.length;p++)wc(v[p]);for(var b=0;b<v.length;b++)Ru(v[b])}function js(f){var v=f.cm,A=v.display;Sr(v),f.updateMaxLine&&Bl(v),f.mustUpdate=f.viewChanged||f.forceUpdate||f.scrollTop!=null||f.scrollToPos&&(f.scrollToPos.from.line<A.viewFrom||f.scrollToPos.to.line>=A.viewTo)||A.maxLineChanged&&v.options.lineWrapping,f.update=f.mustUpdate&&new Rr(v,f.mustUpdate&&{top:f.scrollTop,ensure:f.scrollToPos},f.forceUpdate)}function ys(f){f.updatedDisplay=f.mustUpdate&&du(f.cm,f.update)}function ci(f){var v=f.cm,A=v.display;f.updatedDisplay&&Vl(v),f.barMeasure=lc(v),A.maxLineChanged&&!v.options.lineWrapping&&(f.adjustWidthTo=rf(v,A.maxLine,A.maxLine.text.length).left+3,v.display.sizerWidth=f.adjustWidthTo,f.barMeasure.scrollWidth=Math.max(A.scroller.clientWidth,A.sizer.offsetLeft+f.adjustWidthTo+Sa(v)+v.display.barWidth),f.maxScrollLeft=Math.max(0,A.sizer.offsetLeft+f.adjustWidthTo-tc(v))),(f.updatedDisplay||f.selectionChanged)&&(f.preparedSelection=A.input.prepareSelection())}function wc(f){var v=f.cm;f.adjustWidthTo!=null&&(v.display.sizer.style.minWidth=f.adjustWidthTo+"px",f.maxScrollLeft<v.doc.scrollLeft&&sc(v,Math.min(v.display.scroller.scrollLeft,f.maxScrollLeft),!0),v.display.maxLineChanged=!1);var A=f.focus&&f.focus==G();f.preparedSelection&&v.display.input.showSelection(f.preparedSelection,A),(f.updatedDisplay||f.startHeight!=v.doc.height)&&ml(v,f.barMeasure),f.updatedDisplay&&Li(v,f.barMeasure),f.selectionChanged&&fu(v),v.state.focused&&f.updateInput&&v.display.input.reset(f.typing),A&&_c(f.cm)}function Ru(f){var v=f.cm,A=v.display,o=v.doc;if(f.updatedDisplay&&ia(v,f.update),A.wheelStartX!=null&&(f.scrollTop!=null||f.scrollLeft!=null||f.scrollToPos)&&(A.wheelStartX=A.wheelStartY=null),f.scrollTop!=null&&Fa(v,f.scrollTop,f.forceScroll),f.scrollLeft!=null&&sc(v,f.scrollLeft,!0,!0),f.scrollToPos){var u=mp(v,tr(o,f.scrollToPos.from),tr(o,f.scrollToPos.to),f.scrollToPos.margin);lf(v,u)}var p=f.maybeHiddenMarkers,b=f.maybeUnhiddenMarkers;if(p)for(var T=0;T<p.length;++T)p[T].lines.length||Et(p[T],"hide");if(b)for(var M=0;M<b.length;++M)b[M].lines.length&&Et(b[M],"unhide");A.wrapper.offsetHeight&&(o.scrollTop=v.display.scroller.scrollTop),f.changeObjs&&Et(v,"changes",v,f.changeObjs),f.update&&f.update.finish()}function Zi(f,v){if(f.curOp)return v();Ys(f);try{return v()}finally{hu(f)}}function Io(f,v){return function(){if(f.curOp)return v.apply(f,arguments);Ys(f);try{return v.apply(f,arguments)}finally{hu(f)}}}function da(f){return function(){if(this.curOp)return f.apply(this,arguments);Ys(this);try{return f.apply(this,arguments)}finally{hu(this)}}}function Be(f){return function(){var v=this.cm;if(!v||v.curOp)return f.apply(this,arguments);Ys(v);try{return f.apply(this,arguments)}finally{hu(v)}}}function yi(f,v){f.doc.highlightFrontier<f.display.viewTo&&f.state.highlight.set(v,K(Ea,f))}function Ea(f){var v=f.doc;if(!(v.highlightFrontier>=f.display.viewTo)){var A=+new Date+f.options.workTime,o=Qr(f,v.highlightFrontier),u=[];v.iter(o.line,Math.min(v.first+v.size,f.display.viewTo+500),function(p){if(o.line>=f.display.viewFrom){var b=p.styles,T=p.text.length>f.options.maxHighlightLength?ot(v.mode,o.state):null,M=Dn(f,p,o,!0);T&&(o.state=T),p.styles=M.styles;var N=p.styleClasses,Z=M.classes;Z?p.styleClasses=Z:N&&(p.styleClasses=null);for(var Q=!b||b.length!=p.styles.length||N!=Z&&(!N||!Z||N.bgClass!=Z.bgClass||N.textClass!=Z.textClass),ue=0;!Q&&ue<b.length;++ue)Q=b[ue]!=p.styles[ue];Q&&u.push(o.line),p.stateAfter=o.save(),o.nextLine()}else p.text.length<=f.options.maxHighlightLength&&sn(f,p.text,o),p.stateAfter=o.line%5==0?o.save():null,o.nextLine();if(+new Date>A)return yi(f,f.options.workDelay),!0}),v.highlightFrontier=o.line,v.modeFrontier=Math.max(v.modeFrontier,o.line),u.length&&Zi(f,function(){for(var p=0;p<u.length;p++)hl(f,u[p],"text")})}}var Rr=function(f,v,A){var o=f.display;this.viewport=v,this.visible=go(o,f.doc,v),this.editorIsHidden=!o.wrapper.offsetWidth,this.wrapperHeight=o.wrapper.clientHeight,this.wrapperWidth=o.wrapper.clientWidth,this.oldDisplayWidth=tc(f),this.force=A,this.dims=Ha(f),this.events=[]};Rr.prototype.signal=function(f,v){Vr(f,v)&&this.events.push(arguments)},Rr.prototype.finish=function(){for(var f=0;f<this.events.length;f++)Et.apply(null,this.events[f])};function Sr(f){var v=f.display;!v.scrollbarsClipped&&v.scroller.offsetWidth&&(v.nativeBarWidth=v.scroller.offsetWidth-v.scroller.clientWidth,v.heightForcer.style.height=Sa(f)+"px",v.sizer.style.marginBottom=-v.nativeBarWidth+"px",v.sizer.style.borderRightWidth=Sa(f)+"px",v.scrollbarsClipped=!0)}function Dd(f){if(f.hasFocus())return null;var v=G();if(!v||!j(f.display.lineDiv,v))return null;var A={activeElt:v};if(window.getSelection){var o=window.getSelection();o.anchorNode&&o.extend&&j(f.display.lineDiv,o.anchorNode)&&(A.anchorNode=o.anchorNode,A.anchorOffset=o.anchorOffset,A.focusNode=o.focusNode,A.focusOffset=o.focusOffset)}return A}function bs(f){if(!(!f||!f.activeElt||f.activeElt==G())&&(f.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(f.activeElt.nodeName)&&f.anchorNode&&j(document.body,f.anchorNode)&&j(document.body,f.focusNode))){var v=window.getSelection(),A=document.createRange();A.setEnd(f.anchorNode,f.anchorOffset),A.collapse(!1),v.removeAllRanges(),v.addRange(A),v.extend(f.focusNode,f.focusOffset)}}function du(f,v){var A=f.display,o=f.doc;if(v.editorIsHidden)return Wa(f),!1;if(!v.force&&v.visible.from>=A.viewFrom&&v.visible.to<=A.viewTo&&(A.updateLineNumbers==null||A.updateLineNumbers>=A.viewTo)&&A.renderedView==A.view&&dl(f)==0)return!1;pu(f)&&(Wa(f),v.dims=Ha(f));var u=o.first+o.size,p=Math.max(v.visible.from-f.options.viewportMargin,o.first),b=Math.min(u,v.visible.to+f.options.viewportMargin);A.viewFrom<p&&p-A.viewFrom<20&&(p=Math.max(o.first,A.viewFrom)),A.viewTo>b&&A.viewTo-b<20&&(b=Math.min(u,A.viewTo)),ho&&(p=rs(f.doc,p),b=Bh(f.doc,b));var T=p!=A.viewFrom||b!=A.viewTo||A.lastWrapHeight!=v.wrapperHeight||A.lastWrapWidth!=v.wrapperWidth;oc(f,p,b),A.viewOffset=_a(Ke(f.doc,A.viewFrom)),f.display.mover.style.top=A.viewOffset+"px";var M=dl(f);if(!T&&M==0&&!v.force&&A.renderedView==A.view&&(A.updateLineNumbers==null||A.updateLineNumbers>=A.viewTo))return!1;var N=Dd(f);return M>4&&(A.lineDiv.style.display="none"),Hh(f,A.updateLineNumbers,v.dims),M>4&&(A.lineDiv.style.display=""),A.renderedView=A.view,bs(N),be(A.cursorDiv),be(A.selectionDiv),A.gutters.style.height=A.sizer.style.minHeight=0,T&&(A.lastWrapHeight=v.wrapperHeight,A.lastWrapWidth=v.wrapperWidth,yi(f,400)),A.updateLineNumbers=null,!0}function ia(f,v){for(var A=v.viewport,o=!0;;o=!1){if(!o||!f.options.lineWrapping||v.oldDisplayWidth==tc(f)){if(A&&A.top!=null&&(A={top:Math.min(f.doc.height+ra(f.display)-th(f),A.top)}),v.visible=go(f.display,f.doc,A),v.visible.from>=f.display.viewFrom&&v.visible.to<=f.display.viewTo)break}else o&&(v.visible=go(f.display,f.doc,A));if(!du(f,v))break;Vl(f);var u=lc(f);pl(f),ml(f,u),Li(f,u),v.force=!1}v.signal(f,"update",f),(f.display.viewFrom!=f.display.reportedViewFrom||f.display.viewTo!=f.display.reportedViewTo)&&(v.signal(f,"viewportChange",f,f.display.viewFrom,f.display.viewTo),f.display.reportedViewFrom=f.display.viewFrom,f.display.reportedViewTo=f.display.viewTo)}function Fu(f,v){var A=new Rr(f,v);if(du(f,A)){Vl(f),ia(f,A);var o=lc(f);pl(f),ml(f,o),Li(f,o),A.finish()}}function Hh(f,v,A){var o=f.display,u=f.options.lineNumbers,p=o.lineDiv,b=p.firstChild;function T(Re){var it=Re.nextSibling;return g&&ne&&f.display.currentWheelTarget==Re?Re.style.display="none":Re.parentNode.removeChild(Re),it}for(var M=o.view,N=o.viewFrom,Z=0;Z<M.length;Z++){var Q=M[Z];if(!Q.hidden)if(!Q.node||Q.node.parentNode!=p){var ue=Ui(f,Q,N,A);p.insertBefore(ue,b)}else{for(;b!=Q.node;)b=T(b);var Ce=u&&v!=null&&v<=N&&Q.lineNumber;Q.changes&&(Qe(Q.changes,"gutter")>-1&&(Ce=!1),Cu(f,Q,N,A)),Ce&&(be(Q.lineNumber),Q.lineNumber.appendChild(document.createTextNode(je(f.options,N)))),b=Q.node.nextSibling}N+=Q.size}for(;b;)b=T(b)}function If(f){var v=f.gutters.offsetWidth;f.sizer.style.marginLeft=v+"px"}function Li(f,v){f.display.sizer.style.minHeight=v.docHeight+"px",f.display.heightForcer.style.top=v.docHeight+"px",f.display.gutters.style.height=v.docHeight+f.display.barHeight+Sa(f)+"px"}function os(f){var v=f.display,A=v.view;if(!(!v.alignWidgets&&(!v.gutters.firstChild||!f.options.fixedGutter))){for(var o=Iu(v)-v.scroller.scrollLeft+f.doc.scrollLeft,u=v.gutters.offsetWidth,p=o+"px",b=0;b<A.length;b++)if(!A[b].hidden){f.options.fixedGutter&&(A[b].gutter&&(A[b].gutter.style.left=p),A[b].gutterBackground&&(A[b].gutterBackground.style.left=p));var T=A[b].alignable;if(T)for(var M=0;M<T.length;M++)T[M].style.left=p}f.options.fixedGutter&&(v.gutters.style.left=o+u+"px")}}function pu(f){if(!f.options.lineNumbers)return!1;var v=f.doc,A=je(f.options,v.first+v.size-1),o=f.display;if(A.length!=o.lineNumChars){var u=o.measure.appendChild(q("div",[q("div",A)],"CodeMirror-linenumber CodeMirror-gutter-elt")),p=u.firstChild.offsetWidth,b=u.offsetWidth-p;return o.lineGutter.style.width="",o.lineNumInnerWidth=Math.max(p,o.lineGutter.offsetWidth-b)+1,o.lineNumWidth=o.lineNumInnerWidth+b,o.lineNumChars=o.lineNumInnerWidth?A.length:-1,o.lineGutter.style.width=o.lineNumWidth+"px",If(f.display),!0}return!1}function uc(f,v){for(var A=[],o=!1,u=0;u<f.length;u++){var p=f[u],b=null;if(typeof p!="string"&&(b=p.style,p=p.className),p=="CodeMirror-linenumbers")if(v)o=!0;else continue;A.push({className:p,style:b})}return v&&!o&&A.push({className:"CodeMirror-linenumbers",style:null}),A}function Wh(f){var v=f.gutters,A=f.gutterSpecs;be(v),f.lineGutter=null;for(var o=0;o<A.length;++o){var u=A[o],p=u.className,b=u.style,T=v.appendChild(q("div",null,"CodeMirror-gutter "+p));b&&(T.style.cssText=b),p=="CodeMirror-linenumbers"&&(f.lineGutter=T,T.style.width=(f.lineNumWidth||1)+"px")}v.style.display=A.length?"":"none",If(f)}function Gl(f){Wh(f.display),Jn(f),os(f)}function Zs(f,v,A,o){var u=this;this.input=A,u.scrollbarFiller=q("div",null,"CodeMirror-scrollbar-filler"),u.scrollbarFiller.setAttribute("cm-not-content","true"),u.gutterFiller=q("div",null,"CodeMirror-gutter-filler"),u.gutterFiller.setAttribute("cm-not-content","true"),u.lineDiv=ee("div",null,"CodeMirror-code"),u.selectionDiv=q("div",null,null,"position: relative; z-index: 1"),u.cursorDiv=q("div",null,"CodeMirror-cursors"),u.measure=q("div",null,"CodeMirror-measure"),u.lineMeasure=q("div",null,"CodeMirror-measure"),u.lineSpace=ee("div",[u.measure,u.lineMeasure,u.selectionDiv,u.cursorDiv,u.lineDiv],null,"position: relative; outline: none");var p=ee("div",[u.lineSpace],"CodeMirror-lines");u.mover=q("div",[p],null,"position: relative"),u.sizer=q("div",[u.mover],"CodeMirror-sizer"),u.sizerWidth=null,u.heightForcer=q("div",null,null,"position: absolute; height: "+Ct+"px; width: 1px;"),u.gutters=q("div",null,"CodeMirror-gutters"),u.lineGutter=null,u.scroller=q("div",[u.sizer,u.heightForcer,u.gutters],"CodeMirror-scroll"),u.scroller.setAttribute("tabIndex","-1"),u.wrapper=q("div",[u.scrollbarFiller,u.gutterFiller,u.scroller],"CodeMirror"),l&&h<8&&(u.gutters.style.zIndex=-1,u.scroller.style.paddingRight=0),!g&&!(t&&oe)&&(u.scroller.draggable=!0),f&&(f.appendChild?f.appendChild(u.wrapper):f(u.wrapper)),u.viewFrom=u.viewTo=v.first,u.reportedViewFrom=u.reportedViewTo=v.first,u.view=[],u.renderedView=null,u.externalMeasured=null,u.viewOffset=0,u.lastWrapHeight=u.lastWrapWidth=0,u.updateLineNumbers=null,u.nativeBarWidth=u.barHeight=u.barWidth=0,u.scrollbarsClipped=!1,u.lineNumWidth=u.lineNumInnerWidth=u.lineNumChars=null,u.alignWidgets=!1,u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null,u.maxLine=null,u.maxLineLength=0,u.maxLineChanged=!1,u.wheelDX=u.wheelDY=u.wheelStartX=u.wheelStartY=null,u.shift=!1,u.selForContextMenu=null,u.activeTouch=null,u.gutterSpecs=uc(o.gutters,o.lineNumbers),Wh(u),A.init(u)}var Sc=0,Xi=null;l?Xi=-.53:t?Xi=15:C?Xi=-.7:F&&(Xi=-1/3);function Vh(f){var v=f.wheelDeltaX,A=f.wheelDeltaY;return v==null&&f.detail&&f.axis==f.HORIZONTAL_AXIS&&(v=f.detail),A==null&&f.detail&&f.axis==f.VERTICAL_AXIS?A=f.detail:A==null&&(A=f.wheelDelta),{x:v,y:A}}function jc(f){var v=Vh(f);return v.x*=Xi,v.y*=Xi,v}function Kl(f,v){var A=Vh(v),o=A.x,u=A.y,p=f.display,b=p.scroller,T=b.scrollWidth>b.clientWidth,M=b.scrollHeight>b.clientHeight;if(!!(o&&T||u&&M)){if(u&&ne&&g){e:for(var N=v.target,Z=p.view;N!=b;N=N.parentNode)for(var Q=0;Q<Z.length;Q++)if(Z[Q].node==N){f.display.currentWheelTarget=N;break e}}if(o&&!t&&!D&&Xi!=null){u&&M&&wr(f,Math.max(0,b.scrollTop+u*Xi)),sc(f,Math.max(0,b.scrollLeft+o*Xi)),(!u||u&&M)&&Rn(v),p.wheelStartX=null;return}if(u&&Xi!=null){var ue=u*Xi,Ce=f.doc.scrollTop,Re=Ce+p.wrapper.clientHeight;ue<0?Ce=Math.max(0,Ce+ue-50):Re=Math.min(f.doc.height,Re+ue+50),Fu(f,{top:Ce,bottom:Re})}Sc<20&&(p.wheelStartX==null?(p.wheelStartX=b.scrollLeft,p.wheelStartY=b.scrollTop,p.wheelDX=o,p.wheelDY=u,setTimeout(function(){if(p.wheelStartX!=null){var it=b.scrollLeft-p.wheelStartX,at=b.scrollTop-p.wheelStartY,wt=at&&p.wheelDY&&at/p.wheelDY||it&&p.wheelDX&&it/p.wheelDX;p.wheelStartX=p.wheelStartY=null,wt&&(Xi=(Xi*Sc+wt)/(Sc+1),++Sc)}},200)):(p.wheelDX+=o,p.wheelDY+=u))}}var Xs=function(f,v){this.ranges=f,this.primIndex=v};Xs.prototype.primary=function(){return this.ranges[this.primIndex]},Xs.prototype.equals=function(f){if(f==this)return!0;if(f.primIndex!=this.primIndex||f.ranges.length!=this.ranges.length)return!1;for(var v=0;v<this.ranges.length;v++){var A=this.ranges[v],o=f.ranges[v];if(!ie(A.anchor,o.anchor)||!ie(A.head,o.head))return!1}return!0},Xs.prototype.deepCopy=function(){for(var f=[],v=0;v<this.ranges.length;v++)f[v]=new Fi(ye(this.ranges[v].anchor),ye(this.ranges[v].head));return new Xs(f,this.primIndex)},Xs.prototype.somethingSelected=function(){for(var f=0;f<this.ranges.length;f++)if(!this.ranges[f].empty())return!0;return!1},Xs.prototype.contains=function(f,v){v||(v=f);for(var A=0;A<this.ranges.length;A++){var o=this.ranges[A];if(se(v,o.from())>=0&&se(f,o.to())<=0)return A}return-1};var Fi=function(f,v){this.anchor=f,this.head=v};Fi.prototype.from=function(){return dt(this.anchor,this.head)},Fi.prototype.to=function(){return Ge(this.anchor,this.head)},Fi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function pa(f,v,A){var o=f&&f.options.selectionsMayTouch,u=v[A];v.sort(function(ue,Ce){return se(ue.from(),Ce.from())}),A=Qe(v,u);for(var p=1;p<v.length;p++){var b=v[p],T=v[p-1],M=se(T.to(),b.from());if(o&&!b.empty()?M>0:M>=0){var N=dt(T.from(),b.from()),Z=Ge(T.to(),b.to()),Q=T.empty()?b.from()==b.head:T.from()==T.head;p<=A&&--A,v.splice(--p,2,new Fi(Q?Z:N,Q?N:Z))}}return new Xs(v,A)}function qa(f,v){return new Xs([new Fi(f,v||f)],0)}function oi(f){return f.text?Pe(f.from.line+f.text.length-1,At(f.text).length+(f.text.length==1?f.from.ch:0)):f.to}function Mo(f,v){if(se(f,v.from)<0)return f;if(se(f,v.to)<=0)return oi(v);var A=f.line+v.text.length-(v.to.line-v.from.line)-1,o=f.ch;return f.line==v.to.line&&(o+=oi(v).ch-v.to.ch),Pe(A,o)}function mu(f,v){for(var A=[],o=0;o<f.sel.ranges.length;o++){var u=f.sel.ranges[o];A.push(new Fi(Mo(u.anchor,v),Mo(u.head,v)))}return pa(f.cm,A,f.sel.primIndex)}function Js(f,v,A){return f.line==v.line?Pe(A.line,f.ch-v.ch+A.ch):Pe(A.line+(f.line-v.line),f.ch)}function gu(f,v,A){for(var o=[],u=Pe(f.first,0),p=u,b=0;b<v.length;b++){var T=v[b],M=Js(T.from,u,p),N=Js(oi(T),u,p);if(u=T.to,p=N,A=="around"){var Z=f.sel.ranges[b],Q=se(Z.head,Z.anchor)<0;o[b]=new Fi(Q?N:M,Q?M:N)}else o[b]=new Fi(M,M)}return new Xs(o,f.sel.primIndex)}function Mf(f){f.doc.mode=Ie(f.options,f.doc.modeOption),Tc(f)}function Tc(f){f.doc.iter(function(v){v.stateAfter&&(v.stateAfter=null),v.styles&&(v.styles=null)}),f.doc.modeFrontier=f.doc.highlightFrontier=f.doc.first,yi(f,100),f.state.modeGen++,f.curOp&&Jn(f)}function $h(f,v){return v.from.ch==0&&v.to.ch==0&&At(v.text)==""&&(!f.cm||f.cm.options.wholeLineUpdateBefore)}function Hc(f,v,A,o){function u(zt){return A?A[zt]:null}function p(zt,$t,or){ef(zt,$t,or,o),ta(zt,"change",zt,v)}function b(zt,$t){for(var or=[],dr=zt;dr<$t;++dr)or.push(new po(N[dr],u(dr),o));return or}var T=v.from,M=v.to,N=v.text,Z=Ke(f,T.line),Q=Ke(f,M.line),ue=At(N),Ce=u(N.length-1),Re=M.line-T.line;if(v.full)f.insert(0,b(0,N.length)),f.remove(N.length,f.size-N.length);else if($h(f,v)){var it=b(0,N.length-1);p(Q,Q.text,Ce),Re&&f.remove(T.line,Re),it.length&&f.insert(T.line,it)}else if(Z==Q)if(N.length==1)p(Z,Z.text.slice(0,T.ch)+ue+Z.text.slice(M.ch),Ce);else{var at=b(1,N.length-1);at.push(new po(ue+Z.text.slice(M.ch),Ce,o)),p(Z,Z.text.slice(0,T.ch)+N[0],u(0)),f.insert(T.line+1,at)}else if(N.length==1)p(Z,Z.text.slice(0,T.ch)+N[0]+Q.text.slice(M.ch),u(0)),f.remove(T.line+1,Re);else{p(Z,Z.text.slice(0,T.ch)+N[0],u(0)),p(Q,ue+Q.text.slice(M.ch),Ce);var wt=b(1,N.length-1);Re>1&&f.remove(T.line+1,Re-1),f.insert(T.line+1,wt)}ta(f,"change",f,v)}function m(f,v,A){function o(u,p,b){if(u.linked)for(var T=0;T<u.linked.length;++T){var M=u.linked[T];if(M.doc!=p){var N=b&&M.sharedHist;A&&!N||(v(M.doc,N),o(M.doc,u,N))}}}o(f,null,!0)}function x(f,v){if(v.cm)throw new Error("This document is already in use.");f.doc=v,v.cm=f,Mu(f),Mf(f),y(f),f.options.lineWrapping||Bl(f),f.options.mode=v.modeOption,Jn(f)}function y(f){(f.doc.direction=="rtl"?V:Se)(f.display.lineDiv,"CodeMirror-rtl")}function k(f){Zi(f,function(){y(f),Jn(f)})}function P(f){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=f||1}function H(f,v){var A={from:ye(v.from),to:oi(v),text:Ot(f,v.from,v.to)};return Ze(f,A,v.from.line,v.to.line+1),m(f,function(o){return Ze(o,A,v.from.line,v.to.line+1)},!0),A}function X(f){for(;f.length;){var v=At(f);if(v.ranges)f.pop();else break}}function ae(f,v){if(v)return X(f.done),At(f.done);if(f.done.length&&!At(f.done).ranges)return At(f.done);if(f.done.length>1&&!f.done[f.done.length-2].ranges)return f.done.pop(),At(f.done)}function xe(f,v,A,o){var u=f.history;u.undone.length=0;var p=+new Date,b,T;if((u.lastOp==o||u.lastOrigin==v.origin&&v.origin&&(v.origin.charAt(0)=="+"&&u.lastModTime>p-(f.cm?f.cm.options.historyEventDelay:500)||v.origin.charAt(0)=="*"))&&(b=ae(u,u.lastOp==o)))T=At(b.changes),se(v.from,v.to)==0&&se(v.from,T.to)==0?T.to=oi(v):b.changes.push(H(f,v));else{var M=At(u.done);for((!M||!M.ranges)&&We(f.sel,u.done),b={changes:[H(f,v)],generation:u.generation},u.done.push(b);u.done.length>u.undoDepth;)u.done.shift(),u.done[0].ranges||u.done.shift()}u.done.push(A),u.generation=++u.maxGeneration,u.lastModTime=u.lastSelTime=p,u.lastOp=u.lastSelOp=o,u.lastOrigin=u.lastSelOrigin=v.origin,T||Et(f,"historyAdded")}function Oe(f,v,A,o){var u=v.charAt(0);return u=="*"||u=="+"&&A.ranges.length==o.ranges.length&&A.somethingSelected()==o.somethingSelected()&&new Date-f.history.lastSelTime<=(f.cm?f.cm.options.historyEventDelay:500)}function He(f,v,A,o){var u=f.history,p=o&&o.origin;A==u.lastSelOp||p&&u.lastSelOrigin==p&&(u.lastModTime==u.lastSelTime&&u.lastOrigin==p||Oe(f,p,At(u.done),v))?u.done[u.done.length-1]=v:We(v,u.done),u.lastSelTime=+new Date,u.lastSelOrigin=p,u.lastSelOp=A,o&&o.clearRedo!==!1&&X(u.undone)}function We(f,v){var A=At(v);A&&A.ranges&&A.equals(f)||v.push(f)}function Ze(f,v,A,o){var u=v["spans_"+f.id],p=0;f.iter(Math.max(f.first,A),Math.min(f.first+f.size,o),function(b){b.markedSpans&&((u||(u=v["spans_"+f.id]={}))[p]=b.markedSpans),++p})}function ht(f){if(!f)return null;for(var v,A=0;A<f.length;++A)f[A].marker.explicitlyCleared?v||(v=f.slice(0,A)):v&&v.push(f[A]);return v?v.length?v:null:f}function lt(f,v){var A=v["spans_"+f.id];if(!A)return null;for(var o=[],u=0;u<v.text.length;++u)o.push(ht(A[u]));return o}function vt(f,v){var A=lt(f,v),o=ba(f,v);if(!A)return o;if(!o)return A;for(var u=0;u<A.length;++u){var p=A[u],b=o[u];if(p&&b){e:for(var T=0;T<b.length;++T){for(var M=b[T],N=0;N<p.length;++N)if(p[N].marker==M.marker)continue e;p.push(M)}}else b&&(A[u]=b)}return A}function nt(f,v,A){for(var o=[],u=0;u<f.length;++u){var p=f[u];if(p.ranges){o.push(A?Xs.prototype.deepCopy.call(p):p);continue}var b=p.changes,T=[];o.push({changes:T});for(var M=0;M<b.length;++M){var N=b[M],Z=void 0;if(T.push({from:N.from,to:N.to,text:N.text}),v)for(var Q in N)(Z=Q.match(/^spans_(\d+)$/))&&Qe(v,Number(Z[1]))>-1&&(At(T)[Q]=N[Q],delete N[Q])}}return o}function bt(f,v,A,o){if(o){var u=f.anchor;if(A){var p=se(v,u)<0;p!=se(A,u)<0?(u=v,v=A):p!=se(v,A)<0&&(v=A)}return new Fi(u,v)}else return new Fi(A||v,v)}function St(f,v,A,o,u){u==null&&(u=f.cm&&(f.cm.display.shift||f.extend)),yr(f,new Xs([bt(f.sel.primary(),v,A,u)],0),o)}function Ft(f,v,A){for(var o=[],u=f.cm&&(f.cm.display.shift||f.extend),p=0;p<f.sel.ranges.length;p++)o[p]=bt(f.sel.ranges[p],v[p],null,u);var b=pa(f.cm,o,f.sel.primIndex);yr(f,b,A)}function rr(f,v,A,o){var u=f.sel.ranges.slice(0);u[v]=A,yr(f,pa(f.cm,u,f.sel.primIndex),o)}function Jt(f,v,A,o){yr(f,qa(v,A),o)}function Zt(f,v,A){var o={ranges:v.ranges,update:function(u){this.ranges=[];for(var p=0;p<u.length;p++)this.ranges[p]=new Fi(tr(f,u[p].anchor),tr(f,u[p].head))},origin:A&&A.origin};return Et(f,"beforeSelectionChange",f,o),f.cm&&Et(f.cm,"beforeSelectionChange",f.cm,o),o.ranges!=v.ranges?pa(f.cm,o.ranges,o.ranges.length-1):v}function mr(f,v,A){var o=f.history.done,u=At(o);u&&u.ranges?(o[o.length-1]=v,br(f,v,A)):yr(f,v,A)}function yr(f,v,A){br(f,v,A),He(f,f.sel,f.cm?f.cm.curOp.id:NaN,A)}function br(f,v,A){(Vr(f,"beforeSelectionChange")||f.cm&&Vr(f.cm,"beforeSelectionChange"))&&(v=Zt(f,v,A));var o=A&&A.bias||(se(v.primary().head,f.sel.primary().head)<0?-1:1);$r(f,hn(f,v,o,!0)),!(A&&A.scroll===!1)&&f.cm&&ac(f.cm)}function $r(f,v){v.equals(f.sel)||(f.sel=v,f.cm&&(f.cm.curOp.updateInput=1,f.cm.curOp.selectionChanged=!0,on(f.cm)),ta(f,"cursorActivity",f))}function Gr(f){$r(f,hn(f,f.sel,null,!1))}function hn(f,v,A,o){for(var u,p=0;p<v.ranges.length;p++){var b=v.ranges[p],T=v.ranges.length==f.sel.ranges.length&&f.sel.ranges[p],M=Bn(f,b.anchor,T&&T.anchor,A,o),N=Bn(f,b.head,T&&T.head,A,o);(u||M!=b.anchor||N!=b.head)&&(u||(u=v.ranges.slice(0,p)),u[p]=new Fi(M,N))}return u?pa(f.cm,u,v.primIndex):v}function dn(f,v,A,o,u){var p=Ke(f,v.line);if(p.markedSpans)for(var b=0;b<p.markedSpans.length;++b){var T=p.markedSpans[b],M=T.marker,N="selectLeft"in M?!M.selectLeft:M.inclusiveLeft,Z="selectRight"in M?!M.selectRight:M.inclusiveRight;if((T.from==null||(N?T.from<=v.ch:T.from<v.ch))&&(T.to==null||(Z?T.to>=v.ch:T.to>v.ch))){if(u&&(Et(M,"beforeCursorEnter"),M.explicitlyCleared))if(p.markedSpans){--b;continue}else break;if(!M.atomic)continue;if(A){var Q=M.find(o<0?1:-1),ue=void 0;if((o<0?Z:N)&&(Q=Kr(f,Q,-o,Q&&Q.line==v.line?p:null)),Q&&Q.line==v.line&&(ue=se(Q,A))&&(o<0?ue<0:ue>0))return dn(f,Q,v,o,u)}var Ce=M.find(o<0?-1:1);return(o<0?N:Z)&&(Ce=Kr(f,Ce,o,Ce.line==v.line?p:null)),Ce?dn(f,Ce,v,o,u):null}}return v}function Bn(f,v,A,o,u){var p=o||1,b=dn(f,v,A,p,u)||!u&&dn(f,v,A,p,!0)||dn(f,v,A,-p,u)||!u&&dn(f,v,A,-p,!0);return b||(f.cantEdit=!0,Pe(f.first,0))}function Kr(f,v,A,o){return A<0&&v.ch==0?v.line>f.first?tr(f,Pe(v.line-1)):null:A>0&&v.ch==(o||Ke(f,v.line)).text.length?v.line<f.first+f.size-1?Pe(v.line+1,0):null:new Pe(v.line,v.ch+A)}function Mn(f){f.setSelection(Pe(f.firstLine(),0),Pe(f.lastLine()),Ht)}function Vn(f,v,A){var o={canceled:!1,from:v.from,to:v.to,text:v.text,origin:v.origin,cancel:function(){return o.canceled=!0}};return A&&(o.update=function(u,p,b,T){u&&(o.from=tr(f,u)),p&&(o.to=tr(f,p)),b&&(o.text=b),T!==void 0&&(o.origin=T)}),Et(f,"beforeChange",f,o),f.cm&&Et(f.cm,"beforeChange",f.cm,o),o.canceled?(f.cm&&(f.cm.curOp.updateInput=2),null):{from:o.from,to:o.to,text:o.text,origin:o.origin}}function On(f,v,A){if(f.cm){if(!f.cm.curOp)return Io(f.cm,On)(f,v,A);if(f.cm.state.suppressEdits)return}if(!((Vr(f,"beforeChange")||f.cm&&Vr(f.cm,"beforeChange"))&&(v=Vn(f,v,!0),!v))){var o=Bs&&!A&&ts(f,v.from,v.to);if(o)for(var u=o.length-1;u>=0;--u)Ln(f,{from:o[u].from,to:o[u].to,text:u?[""]:v.text,origin:v.origin});else Ln(f,v)}}function Ln(f,v){if(!(v.text.length==1&&v.text[0]==""&&se(v.from,v.to)==0)){var A=mu(f,v);xe(f,v,A,f.cm?f.cm.curOp.id:NaN),xn(f,v,A,ba(f,v));var o=[];m(f,function(u,p){!p&&Qe(o,u.history)==-1&&(_o(u.history,v),o.push(u.history)),xn(u,v,null,ba(u,v))})}}function Hn(f,v,A){var o=f.cm&&f.cm.state.suppressEdits;if(!(o&&!A)){for(var u=f.history,p,b=f.sel,T=v=="undo"?u.done:u.undone,M=v=="undo"?u.undone:u.done,N=0;N<T.length&&(p=T[N],!(A?p.ranges&&!p.equals(f.sel):!p.ranges));N++);if(N!=T.length){for(u.lastOrigin=u.lastSelOrigin=null;;)if(p=T.pop(),p.ranges){if(We(p,M),A&&!p.equals(f.sel)){yr(f,p,{clearRedo:!1});return}b=p}else if(o){T.push(p);return}else break;var Z=[];We(b,M),M.push({changes:Z,generation:u.generation}),u.generation=p.generation||++u.maxGeneration;for(var Q=Vr(f,"beforeChange")||f.cm&&Vr(f.cm,"beforeChange"),ue=function(it){var at=p.changes[it];if(at.origin=v,Q&&!Vn(f,at,!1))return T.length=0,{};Z.push(H(f,at));var wt=it?mu(f,at):At(T);xn(f,at,wt,vt(f,at)),!it&&f.cm&&f.cm.scrollIntoView({from:at.from,to:oi(at)});var zt=[];m(f,function($t,or){!or&&Qe(zt,$t.history)==-1&&(_o($t.history,at),zt.push($t.history)),xn($t,at,null,vt($t,at))})},Ce=p.changes.length-1;Ce>=0;--Ce){var Re=ue(Ce);if(Re)return Re.v}}}}function vn(f,v){if(v!=0&&(f.first+=v,f.sel=new Xs(kt(f.sel.ranges,function(u){return new Fi(Pe(u.anchor.line+v,u.anchor.ch),Pe(u.head.line+v,u.head.ch))}),f.sel.primIndex),f.cm)){Jn(f.cm,f.first,f.first-v,v);for(var A=f.cm.display,o=A.viewFrom;o<A.viewTo;o++)hl(f.cm,o,"gutter")}}function xn(f,v,A,o){if(f.cm&&!f.cm.curOp)return Io(f.cm,xn)(f,v,A,o);if(v.to.line<f.first){vn(f,v.text.length-1-(v.to.line-v.from.line));return}if(!(v.from.line>f.lastLine())){if(v.from.line<f.first){var u=v.text.length-1-(f.first-v.from.line);vn(f,u),v={from:Pe(f.first,0),to:Pe(v.to.line+u,v.to.ch),text:[At(v.text)],origin:v.origin}}var p=f.lastLine();v.to.line>p&&(v={from:v.from,to:Pe(p,Ke(f,p).text.length),text:[v.text[0]],origin:v.origin}),v.removed=Ot(f,v.from,v.to),A||(A=mu(f,v)),f.cm?ka(f.cm,v,o):Hc(f,v,o),br(f,A,Ht),f.cantEdit&&Bn(f,Pe(f.firstLine(),0))&&(f.cantEdit=!1)}}function ka(f,v,A){var o=f.doc,u=f.display,p=v.from,b=v.to,T=!1,M=p.line;f.options.lineWrapping||(M=Bt(no(Ke(o,p.line))),o.iter(M,b.line+1,function(Ce){if(Ce==u.maxLine)return T=!0,!0})),o.sel.contains(v.from,v.to)>-1&&on(f),Hc(o,v,A,xc(f)),f.options.lineWrapping||(o.iter(M,p.line+v.text.length,function(Ce){var Re=Ds(Ce);Re>u.maxLineLength&&(u.maxLine=Ce,u.maxLineLength=Re,u.maxLineChanged=!0,T=!1)}),T&&(f.curOp.updateMaxLine=!0)),Gi(o,p.line),yi(f,400);var N=v.text.length-(b.line-p.line)-1;v.full?Jn(f):p.line==b.line&&v.text.length==1&&!$h(f.doc,v)?hl(f,p.line,"text"):Jn(f,p.line,b.line+1,N);var Z=Vr(f,"changes"),Q=Vr(f,"change");if(Q||Z){var ue={from:p,to:b,text:v.text,removed:v.removed,origin:v.origin};Q&&ta(f,"change",f,ue),Z&&(f.curOp.changeObjs||(f.curOp.changeObjs=[])).push(ue)}f.display.selForContextMenu=null}function So(f,v,A,o,u){var p;o||(o=A),se(o,A)<0&&(p=[o,A],A=p[0],o=p[1]),typeof v=="string"&&(v=f.splitLines(v)),On(f,{from:A,to:o,text:v,origin:u})}function Qo(f,v,A,o){A<f.line?f.line+=o:v<f.line&&(f.line=v,f.ch=0)}function as(f,v,A,o){for(var u=0;u<f.length;++u){var p=f[u],b=!0;if(p.ranges){p.copied||(p=f[u]=p.deepCopy(),p.copied=!0);for(var T=0;T<p.ranges.length;T++)Qo(p.ranges[T].anchor,v,A,o),Qo(p.ranges[T].head,v,A,o);continue}for(var M=0;M<p.changes.length;++M){var N=p.changes[M];if(A<N.from.line)N.from=Pe(N.from.line+o,N.from.ch),N.to=Pe(N.to.line+o,N.to.ch);else if(v<=N.to.line){b=!1;break}}b||(f.splice(0,u+1),u=0)}}function _o(f,v){var A=v.from.line,o=v.to.line,u=v.text.length-(o-A)-1;as(f.done,A,o,u),as(f.undone,A,o,u)}function To(f,v,A,o){var u=v,p=v;return typeof v=="number"?p=Ke(f,Gt(f,v)):u=Bt(v),u==null?null:(o(p,u)&&f.cm&&hl(f.cm,u,A),p)}function ss(f){this.lines=f,this.parent=null;for(var v=0,A=0;A<f.length;++A)f[A].parent=this,v+=f[A].height;this.height=v}ss.prototype={chunkSize:function(){return this.lines.length},removeInner:function(f,v){for(var A=f,o=f+v;A<o;++A){var u=this.lines[A];this.height-=u.height,zs(u),ta(u,"delete")}this.lines.splice(f,v)},collapse:function(f){f.push.apply(f,this.lines)},insertInner:function(f,v,A){this.height+=A,this.lines=this.lines.slice(0,f).concat(v).concat(this.lines.slice(f));for(var o=0;o<v.length;++o)v[o].parent=this},iterN:function(f,v,A){for(var o=f+v;f<o;++f)if(A(this.lines[f]))return!0}};function $a(f){this.children=f;for(var v=0,A=0,o=0;o<f.length;++o){var u=f[o];v+=u.chunkSize(),A+=u.height,u.parent=this}this.size=v,this.height=A,this.parent=null}$a.prototype={chunkSize:function(){return this.size},removeInner:function(f,v){this.size-=v;for(var A=0;A<this.children.length;++A){var o=this.children[A],u=o.chunkSize();if(f<u){var p=Math.min(v,u-f),b=o.height;if(o.removeInner(f,p),this.height-=b-o.height,u==p&&(this.children.splice(A--,1),o.parent=null),(v-=p)==0)break;f=0}else f-=u}if(this.size-v<25&&(this.children.length>1||!(this.children[0]instanceof ss))){var T=[];this.collapse(T),this.children=[new ss(T)],this.children[0].parent=this}},collapse:function(f){for(var v=0;v<this.children.length;++v)this.children[v].collapse(f)},insertInner:function(f,v,A){this.size+=v.length,this.height+=A;for(var o=0;o<this.children.length;++o){var u=this.children[o],p=u.chunkSize();if(f<=p){if(u.insertInner(f,v,A),u.lines&&u.lines.length>50){for(var b=u.lines.length%25+25,T=b;T<u.lines.length;){var M=new ss(u.lines.slice(T,T+=25));u.height-=M.height,this.children.splice(++o,0,M),M.parent=this}u.lines=u.lines.slice(0,b),this.maybeSpill()}break}f-=p}},maybeSpill:function(){if(!(this.children.length<=10)){var f=this;do{var v=f.children.splice(f.children.length-5,5),A=new $a(v);if(f.parent){f.size-=A.size,f.height-=A.height;var u=Qe(f.parent.children,f);f.parent.children.splice(u+1,0,A)}else{var o=new $a(f.children);o.parent=f,f.children=[o,A],f=o}A.parent=f.parent}while(f.children.length>10);f.parent.maybeSpill()}},iterN:function(f,v,A){for(var o=0;o<this.children.length;++o){var u=this.children[o],p=u.chunkSize();if(f<p){var b=Math.min(v,p-f);if(u.iterN(f,b,A))return!0;if((v-=b)==0)break;f=0}else f-=p}}};var Qs=function(f,v,A){if(A)for(var o in A)A.hasOwnProperty(o)&&(this[o]=A[o]);this.doc=f,this.node=v};Qs.prototype.clear=function(){var f=this.doc.cm,v=this.line.widgets,A=this.line,o=Bt(A);if(!(o==null||!v)){for(var u=0;u<v.length;++u)v[u]==this&&v.splice(u--,1);v.length||(A.widgets=null);var p=zc(this);jt(A,Math.max(0,A.height-p)),f&&(Zi(f,function(){ls(f,A,-p),hl(f,o,"widget")}),ta(f,"lineWidgetCleared",f,this,o))}},Qs.prototype.changed=function(){var f=this,v=this.height,A=this.doc.cm,o=this.line;this.height=null;var u=zc(this)-v;!u||(Ni(this.doc,o)||jt(o,o.height+u),A&&Zi(A,function(){A.curOp.forceUpdate=!0,ls(A,o,u),ta(A,"lineWidgetChanged",A,f,Bt(o))}))},yn(Qs);function ls(f,v,A){_a(v)<(f.curOp&&f.curOp.scrollTop||f.doc.scrollTop)&&vs(f,A)}function el(f,v,A,o){var u=new Qs(f,A,o),p=f.cm;return p&&u.noHScroll&&(p.display.alignWidgets=!0),To(f,v,"widget",function(b){var T=b.widgets||(b.widgets=[]);if(u.insertAt==null?T.push(u):T.splice(Math.min(T.length,Math.max(0,u.insertAt)),0,u),u.line=b,p&&!Ni(f,b)){var M=_a(b)<f.scrollTop;jt(b,b.height+zc(u)),M&&vs(p,u.height),p.curOp.forceUpdate=!0}return!0}),p&&ta(p,"lineWidgetAdded",p,u,typeof v=="number"?v:Bt(v)),u}var xs=0,vu=function(f,v){this.lines=[],this.type=v,this.doc=f,this.id=++xs};vu.prototype.clear=function(){if(!this.explicitlyCleared){var f=this.doc.cm,v=f&&!f.curOp;if(v&&Ys(f),Vr(this,"clear")){var A=this.find();A&&ta(this,"clear",A.from,A.to)}for(var o=null,u=null,p=0;p<this.lines.length;++p){var b=this.lines[p],T=Pa(b.markedSpans,this);f&&!this.collapsed?hl(f,Bt(b),"text"):f&&(T.to!=null&&(u=Bt(b)),T.from!=null&&(o=Bt(b))),b.markedSpans=Ua(b.markedSpans,T),T.from==null&&this.collapsed&&!Ni(this.doc,b)&&f&&jt(b,ic(f.display))}if(f&&this.collapsed&&!f.options.lineWrapping)for(var M=0;M<this.lines.length;++M){var N=no(this.lines[M]),Z=Ds(N);Z>f.display.maxLineLength&&(f.display.maxLine=N,f.display.maxLineLength=Z,f.display.maxLineChanged=!0)}o!=null&&f&&this.collapsed&&Jn(f,o,u+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,f&&Gr(f.doc)),f&&ta(f,"markerCleared",f,this,o,u),v&&hu(f),this.parent&&this.parent.clear()}},vu.prototype.find=function(f,v){f==null&&this.type=="bookmark"&&(f=1);for(var A,o,u=0;u<this.lines.length;++u){var p=this.lines[u],b=Pa(p.markedSpans,this);if(b.from!=null&&(A=Pe(v?p:Bt(p),b.from),f==-1))return A;if(b.to!=null&&(o=Pe(v?p:Bt(p),b.to),f==1))return o}return A&&{from:A,to:o}},vu.prototype.changed=function(){var f=this,v=this.find(-1,!0),A=this,o=this.doc.cm;!v||!o||Zi(o,function(){var u=v.line,p=Bt(v.line),b=bc(o,p);if(b&&(nm(b),o.curOp.selectionChanged=o.curOp.forceUpdate=!0),o.curOp.updateMaxLine=!0,!Ni(A.doc,u)&&A.height!=null){var T=A.height;A.height=null;var M=zc(A)-T;M&&jt(u,u.height+M)}ta(o,"markerChanged",o,f)})},vu.prototype.attachLine=function(f){if(!this.lines.length&&this.doc.cm){var v=this.doc.cm.curOp;(!v.maybeHiddenMarkers||Qe(v.maybeHiddenMarkers,this)==-1)&&(v.maybeUnhiddenMarkers||(v.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(f)},vu.prototype.detachLine=function(f){if(this.lines.splice(Qe(this.lines,f),1),!this.lines.length&&this.doc.cm){var v=this.doc.cm.curOp;(v.maybeHiddenMarkers||(v.maybeHiddenMarkers=[])).push(this)}},yn(vu);function yu(f,v,A,o,u){if(o&&o.shared)return Zl(f,v,A,o,u);if(f.cm&&!f.cm.curOp)return Io(f.cm,yu)(f,v,A,o,u);var p=new vu(f,u),b=se(v,A);if(o&&U(o,p,!1),b>0||b==0&&p.clearWhenEmpty!==!1)return p;if(p.replacedWith&&(p.collapsed=!0,p.widgetNode=ee("span",[p.replacedWith],"CodeMirror-widget"),o.handleMouseEvents||p.widgetNode.setAttribute("cm-ignore-events","true"),o.insertLeft&&(p.widgetNode.insertLeft=!0)),p.collapsed){if(ps(f,v.line,v,A,p)||v.line!=A.line&&ps(f,A.line,v,A,p))throw new Error("Inserting collapsed marker partially overlapping an existing one");Do()}p.addToHistory&&xe(f,{from:v,to:A,origin:"markText"},f.sel,NaN);var T=v.line,M=f.cm,N;if(f.iter(T,A.line+1,function(Q){M&&p.collapsed&&!M.options.lineWrapping&&no(Q)==M.display.maxLine&&(N=!0),p.collapsed&&T!=v.line&&jt(Q,0),ku(Q,new ii(p,T==v.line?v.ch:null,T==A.line?A.ch:null)),++T}),p.collapsed&&f.iter(v.line,A.line+1,function(Q){Ni(f,Q)&&jt(Q,0)}),p.clearOnEnter&&zr(p,"beforeCursorEnter",function(){return p.clear()}),p.readOnly&&(Ki(),(f.history.done.length||f.history.undone.length)&&f.clearHistory()),p.collapsed&&(p.id=++xs,p.atomic=!0),M){if(N&&(M.curOp.updateMaxLine=!0),p.collapsed)Jn(M,v.line,A.line+1);else if(p.className||p.startStyle||p.endStyle||p.css||p.attributes||p.title)for(var Z=v.line;Z<=A.line;Z++)hl(M,Z,"text");p.atomic&&Gr(M.doc),ta(M,"markerAdded",M,p)}return p}var Yl=function(f,v){this.markers=f,this.primary=v;for(var A=0;A<f.length;++A)f[A].parent=this};Yl.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var f=0;f<this.markers.length;++f)this.markers[f].clear();ta(this,"clear")}},Yl.prototype.find=function(f,v){return this.primary.find(f,v)},yn(Yl);function Zl(f,v,A,o,u){o=U(o),o.shared=!1;var p=[yu(f,v,A,o,u)],b=p[0],T=o.widgetNode;return m(f,function(M){T&&(o.widgetNode=T.cloneNode(!0)),p.push(yu(M,tr(M,v),tr(M,A),o,u));for(var N=0;N<M.linked.length;++N)if(M.linked[N].isParent)return;b=At(p)}),new Yl(p,b)}function qu(f){return f.findMarks(Pe(f.first,0),f.clipPos(Pe(f.lastLine())),function(v){return v.parent})}function Hs(f,v){for(var A=0;A<v.length;A++){var o=v[A],u=o.find(),p=f.clipPos(u.from),b=f.clipPos(u.to);if(se(p,b)){var T=yu(f,p,b,o.primary,o.primary.type);o.markers.push(T),T.parent=o}}}function Gh(f){for(var v=function(o){var u=f[o],p=[u.primary.doc];m(u.primary.doc,function(M){return p.push(M)});for(var b=0;b<u.markers.length;b++){var T=u.markers[b];Qe(p,T.doc)==-1&&(T.parent=null,u.markers.splice(b--,1))}},A=0;A<f.length;A++)v(A)}var Nu=0,ji=function(f,v,A,o,u){if(!(this instanceof ji))return new ji(f,v,A,o,u);A==null&&(A=0),$a.call(this,[new ss([new po("",null)])]),this.first=A,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=A;var p=Pe(A,0);this.sel=qa(p),this.history=new P(null),this.id=++Nu,this.modeOption=v,this.lineSep=o,this.direction=u=="rtl"?"rtl":"ltr",this.extend=!1,typeof f=="string"&&(f=this.splitLines(f)),Hc(this,{from:p,to:p,text:f}),yr(this,qa(p),Ht)};ji.prototype=Te($a.prototype,{constructor:ji,iter:function(f,v,A){A?this.iterN(f-this.first,v-f,A):this.iterN(this.first,this.first+this.size,f)},insert:function(f,v){for(var A=0,o=0;o<v.length;++o)A+=v[o].height;this.insertInner(f-this.first,v,A)},remove:function(f,v){this.removeInner(f-this.first,v)},getValue:function(f){var v=lr(this,this.first,this.first+this.size);return f===!1?v:v.join(f||this.lineSeparator())},setValue:Be(function(f){var v=Pe(this.first,0),A=this.first+this.size-1;On(this,{from:v,to:Pe(A,Ke(this,A).text.length),text:this.splitLines(f),origin:"setValue",full:!0},!0),this.cm&&Pu(this.cm,0,0),yr(this,qa(v),Ht)}),replaceRange:function(f,v,A,o){v=tr(this,v),A=A?tr(this,A):v,So(this,f,v,A,o)},getRange:function(f,v,A){var o=Ot(this,tr(this,f),tr(this,v));return A===!1?o:o.join(A||this.lineSeparator())},getLine:function(f){var v=this.getLineHandle(f);return v&&v.text},getLineHandle:function(f){if(Ae(this,f))return Ke(this,f)},getLineNumber:function(f){return Bt(f)},getLineHandleVisualStart:function(f){return typeof f=="number"&&(f=Ke(this,f)),no(f)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(f){return tr(this,f)},getCursor:function(f){var v=this.sel.primary(),A;return f==null||f=="head"?A=v.head:f=="anchor"?A=v.anchor:f=="end"||f=="to"||f===!1?A=v.to():A=v.from(),A},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Be(function(f,v,A){Jt(this,tr(this,typeof f=="number"?Pe(f,v||0):f),null,A)}),setSelection:Be(function(f,v,A){Jt(this,tr(this,f),tr(this,v||f),A)}),extendSelection:Be(function(f,v,A){St(this,tr(this,f),v&&tr(this,v),A)}),extendSelections:Be(function(f,v){Ft(this,Ur(this,f),v)}),extendSelectionsBy:Be(function(f,v){var A=kt(this.sel.ranges,f);Ft(this,Ur(this,A),v)}),setSelections:Be(function(f,v,A){if(!!f.length){for(var o=[],u=0;u<f.length;u++)o[u]=new Fi(tr(this,f[u].anchor),tr(this,f[u].head));v==null&&(v=Math.min(f.length-1,this.sel.primIndex)),yr(this,pa(this.cm,o,v),A)}}),addSelection:Be(function(f,v,A){var o=this.sel.ranges.slice(0);o.push(new Fi(tr(this,f),tr(this,v||f))),yr(this,pa(this.cm,o,o.length-1),A)}),getSelection:function(f){for(var v=this.sel.ranges,A,o=0;o<v.length;o++){var u=Ot(this,v[o].from(),v[o].to());A=A?A.concat(u):u}return f===!1?A:A.join(f||this.lineSeparator())},getSelections:function(f){for(var v=[],A=this.sel.ranges,o=0;o<A.length;o++){var u=Ot(this,A[o].from(),A[o].to());f!==!1&&(u=u.join(f||this.lineSeparator())),v[o]=u}return v},replaceSelection:function(f,v,A){for(var o=[],u=0;u<this.sel.ranges.length;u++)o[u]=f;this.replaceSelections(o,v,A||"+input")},replaceSelections:Be(function(f,v,A){for(var o=[],u=this.sel,p=0;p<u.ranges.length;p++){var b=u.ranges[p];o[p]={from:b.from(),to:b.to(),text:this.splitLines(f[p]),origin:A}}for(var T=v&&v!="end"&&gu(this,o,v),M=o.length-1;M>=0;M--)On(this,o[M]);T?mr(this,T):this.cm&&ac(this.cm)}),undo:Be(function(){Hn(this,"undo")}),redo:Be(function(){Hn(this,"redo")}),undoSelection:Be(function(){Hn(this,"undo",!0)}),redoSelection:Be(function(){Hn(this,"redo",!0)}),setExtending:function(f){this.extend=f},getExtending:function(){return this.extend},historySize:function(){for(var f=this.history,v=0,A=0,o=0;o<f.done.length;o++)f.done[o].ranges||++v;for(var u=0;u<f.undone.length;u++)f.undone[u].ranges||++A;return{undo:v,redo:A}},clearHistory:function(){var f=this;this.history=new P(this.history.maxGeneration),m(this,function(v){return v.history=f.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(f){return f&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(f){return this.history.generation==(f||this.cleanGeneration)},getHistory:function(){return{done:nt(this.history.done),undone:nt(this.history.undone)}},setHistory:function(f){var v=this.history=new P(this.history.maxGeneration);v.done=nt(f.done.slice(0),null,!0),v.undone=nt(f.undone.slice(0),null,!0)},setGutterMarker:Be(function(f,v,A){return To(this,f,"gutter",function(o){var u=o.gutterMarkers||(o.gutterMarkers={});return u[v]=A,!A&&qt(u)&&(o.gutterMarkers=null),!0})}),clearGutter:Be(function(f){var v=this;this.iter(function(A){A.gutterMarkers&&A.gutterMarkers[f]&&To(v,A,"gutter",function(){return A.gutterMarkers[f]=null,qt(A.gutterMarkers)&&(A.gutterMarkers=null),!0})})}),lineInfo:function(f){var v;if(typeof f=="number"){if(!Ae(this,f)||(v=f,f=Ke(this,f),!f))return null}else if(v=Bt(f),v==null)return null;return{line:v,handle:f,text:f.text,gutterMarkers:f.gutterMarkers,textClass:f.textClass,bgClass:f.bgClass,wrapClass:f.wrapClass,widgets:f.widgets}},addLineClass:Be(function(f,v,A){return To(this,f,v=="gutter"?"gutter":"class",function(o){var u=v=="text"?"textClass":v=="background"?"bgClass":v=="gutter"?"gutterClass":"wrapClass";if(!o[u])o[u]=A;else{if(we(A).test(o[u]))return!1;o[u]+=" "+A}return!0})}),removeLineClass:Be(function(f,v,A){return To(this,f,v=="gutter"?"gutter":"class",function(o){var u=v=="text"?"textClass":v=="background"?"bgClass":v=="gutter"?"gutterClass":"wrapClass",p=o[u];if(p)if(A==null)o[u]=null;else{var b=p.match(we(A));if(!b)return!1;var T=b.index+b[0].length;o[u]=p.slice(0,b.index)+(!b.index||T==p.length?"":" ")+p.slice(T)||null}else return!1;return!0})}),addLineWidget:Be(function(f,v,A){return el(this,f,v,A)}),removeLineWidget:function(f){f.clear()},markText:function(f,v,A){return yu(this,tr(this,f),tr(this,v),A,A&&A.type||"range")},setBookmark:function(f,v){var A={replacedWith:v&&(v.nodeType==null?v.widget:v),insertLeft:v&&v.insertLeft,clearWhenEmpty:!1,shared:v&&v.shared,handleMouseEvents:v&&v.handleMouseEvents};return f=tr(this,f),yu(this,f,f,A,"bookmark")},findMarksAt:function(f){f=tr(this,f);var v=[],A=Ke(this,f.line).markedSpans;if(A)for(var o=0;o<A.length;++o){var u=A[o];(u.from==null||u.from<=f.ch)&&(u.to==null||u.to>=f.ch)&&v.push(u.marker.parent||u.marker)}return v},findMarks:function(f,v,A){f=tr(this,f),v=tr(this,v);var o=[],u=f.line;return this.iter(f.line,v.line+1,function(p){var b=p.markedSpans;if(b)for(var T=0;T<b.length;T++){var M=b[T];!(M.to!=null&&u==f.line&&f.ch>=M.to||M.from==null&&u!=f.line||M.from!=null&&u==v.line&&M.from>=v.ch)&&(!A||A(M.marker))&&o.push(M.marker.parent||M.marker)}++u}),o},getAllMarks:function(){var f=[];return this.iter(function(v){var A=v.markedSpans;if(A)for(var o=0;o<A.length;++o)A[o].from!=null&&f.push(A[o].marker)}),f},posFromIndex:function(f){var v,A=this.first,o=this.lineSeparator().length;return this.iter(function(u){var p=u.text.length+o;if(p>f)return v=f,!0;f-=p,++A}),tr(this,Pe(A,v))},indexFromPos:function(f){f=tr(this,f);var v=f.ch;if(f.line<this.first||f.ch<0)return 0;var A=this.lineSeparator().length;return this.iter(this.first,f.line,function(o){v+=o.text.length+A}),v},copy:function(f){var v=new ji(lr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return v.scrollTop=this.scrollTop,v.scrollLeft=this.scrollLeft,v.sel=this.sel,v.extend=!1,f&&(v.history.undoDepth=this.history.undoDepth,v.setHistory(this.getHistory())),v},linkedDoc:function(f){f||(f={});var v=this.first,A=this.first+this.size;f.from!=null&&f.from>v&&(v=f.from),f.to!=null&&f.to<A&&(A=f.to);var o=new ji(lr(this,v,A),f.mode||this.modeOption,v,this.lineSep,this.direction);return f.sharedHist&&(o.history=this.history),(this.linked||(this.linked=[])).push({doc:o,sharedHist:f.sharedHist}),o.linked=[{doc:this,isParent:!0,sharedHist:f.sharedHist}],Hs(o,qu(this)),o},unlinkDoc:function(f){if(f instanceof $o&&(f=f.doc),this.linked)for(var v=0;v<this.linked.length;++v){var A=this.linked[v];if(A.doc==f){this.linked.splice(v,1),f.unlinkDoc(this),Gh(qu(this));break}}if(f.history==this.history){var o=[f.id];m(f,function(u){return o.push(u.id)},!0),f.history=new P(null),f.history.done=nt(this.history.done,o),f.history.undone=nt(this.history.undone,o)}},iterLinkedDocs:function(f){m(this,f)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(f){return this.lineSep?f.split(this.lineSep):Nr(f)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Be(function(f){f!="rtl"&&(f="ltr"),f!=this.direction&&(this.direction=f,this.iter(function(v){return v.order=null}),this.cm&&k(this.cm))})}),ji.prototype.eachLine=ji.prototype.iter;var Ec=0;function Wc(f){var v=this;if(vl(v),!(Er(v,f)||ec(v.display,f))){Rn(f),l&&(Ec=+new Date);var A=Wl(v,f,!0),o=f.dataTransfer.files;if(!(!A||v.isReadOnly()))if(o&&o.length&&window.FileReader&&window.File)for(var u=o.length,p=Array(u),b=0,T=function(){++b==u&&Io(v,function(){A=tr(v.doc,A);var Ce={from:A,to:A,text:v.doc.splitLines(p.filter(function(Re){return Re!=null}).join(v.doc.lineSeparator())),origin:"paste"};On(v.doc,Ce),mr(v.doc,qa(tr(v.doc,A),tr(v.doc,oi(Ce))))})()},M=function(Ce,Re){if(v.options.allowDropFileTypes&&Qe(v.options.allowDropFileTypes,Ce.type)==-1){T();return}var it=new FileReader;it.onerror=function(){return T()},it.onload=function(){var at=it.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(at)){T();return}p[Re]=at,T()},it.readAsText(Ce)},N=0;N<o.length;N++)M(o[N],N);else{if(v.state.draggingText&&v.doc.sel.contains(A)>-1){v.state.draggingText(f),setTimeout(function(){return v.display.input.focus()},20);return}try{var Z=f.dataTransfer.getData("Text");if(Z){var Q;if(v.state.draggingText&&!v.state.draggingText.copy&&(Q=v.listSelections()),br(v.doc,qa(A,A)),Q)for(var ue=0;ue<Q.length;++ue)So(v.doc,"",Q[ue].anchor,Q[ue].head,"drag");v.replaceSelection(Z,"around","paste"),v.display.input.focus()}}catch{}}}}function Ga(f,v){if(l&&(!f.state.draggingText||+new Date-Ec<100)){gi(v);return}if(!(Er(f,v)||ec(f.display,v))&&(v.dataTransfer.setData("Text",f.getSelection()),v.dataTransfer.effectAllowed="copyMove",v.dataTransfer.setDragImage&&!F)){var A=q("img",null,null,"position: fixed; left: 0; top: 0;");A.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",D&&(A.width=A.height=1,f.display.wrapper.appendChild(A),A._top=A.offsetTop),v.dataTransfer.setDragImage(A,0,0),D&&A.parentNode.removeChild(A)}}function Oi(f,v){var A=Wl(f,v);if(!!A){var o=document.createDocumentFragment();Mi(f,A,o),f.display.dragCursor||(f.display.dragCursor=q("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),f.display.lineSpace.insertBefore(f.display.dragCursor,f.display.cursorDiv)),$e(f.display.dragCursor,o)}}function vl(f){f.display.dragCursor&&(f.display.lineSpace.removeChild(f.display.dragCursor),f.display.dragCursor=null)}function Is(f){if(!!document.getElementsByClassName){for(var v=document.getElementsByClassName("CodeMirror"),A=[],o=0;o<v.length;o++){var u=v[o].CodeMirror;u&&A.push(u)}A.length&&A[0].operation(function(){for(var p=0;p<A.length;p++)f(A[p])})}}var ff=!1;function Od(){ff||(bi(),ff=!0)}function bi(){var f;zr(window,"resize",function(){f==null&&(f=setTimeout(function(){f=null,Is(im)},100))}),zr(window,"blur",function(){return Is(Lu)})}function im(f){var v=f.display;v.cachedCharWidth=v.cachedTextHeight=v.cachedPaddingH=null,v.scrollbarsClipped=!1,f.setSize()}for(var Bu={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},kc=0;kc<10;kc++)Bu[kc+48]=Bu[kc+96]=String(kc);for(var Cc=65;Cc<=90;Cc++)Bu[Cc]=String.fromCharCode(Cc);for(var yl=1;yl<=12;yl++)Bu[yl+111]=Bu[yl+63235]="F"+yl;var bu={};bu.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},bu.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},bu.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},bu.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},bu.default=ne?bu.macDefault:bu.pcDefault;function _s(f){var v=f.split(/-(?!$)/);f=v[v.length-1];for(var A,o,u,p,b=0;b<v.length-1;b++){var T=v[b];if(/^(cmd|meta|m)$/i.test(T))p=!0;else if(/^a(lt)?$/i.test(T))A=!0;else if(/^(c|ctrl|control)$/i.test(T))o=!0;else if(/^s(hift)?$/i.test(T))u=!0;else throw new Error("Unrecognized modifier name: "+T)}return A&&(f="Alt-"+f),o&&(f="Ctrl-"+f),p&&(f="Cmd-"+f),u&&(f="Shift-"+f),f}function Ms(f){var v={};for(var A in f)if(f.hasOwnProperty(A)){var o=f[A];if(/^(name|fallthrough|(de|at)tach)$/.test(A))continue;if(o=="..."){delete f[A];continue}for(var u=kt(A.split(" "),_s),p=0;p<u.length;p++){var b=void 0,T=void 0;p==u.length-1?(T=u.join(" "),b=o):(T=u.slice(0,p+1).join(" "),b="...");var M=v[T];if(!M)v[T]=b;else if(M!=b)throw new Error("Inconsistent bindings for "+T)}delete f[A]}for(var N in v)f[N]=v[N];return f}function bl(f,v,A,o){v=xl(v);var u=v.call?v.call(f,o):v[f];if(u===!1)return"nothing";if(u==="...")return"multi";if(u!=null&&A(u))return"handled";if(v.fallthrough){if(Object.prototype.toString.call(v.fallthrough)!="[object Array]")return bl(f,v.fallthrough,A,o);for(var p=0;p<v.fallthrough.length;p++){var b=bl(f,v.fallthrough[p],A,o);if(b)return b}}}function gp(f){var v=typeof f=="string"?f:Bu[f.keyCode];return v=="Ctrl"||v=="Alt"||v=="Shift"||v=="Mod"}function Um(f,v,A){var o=f;return v.altKey&&o!="Alt"&&(f="Alt-"+f),(fe?v.metaKey:v.ctrlKey)&&o!="Ctrl"&&(f="Ctrl-"+f),(fe?v.ctrlKey:v.metaKey)&&o!="Mod"&&(f="Cmd-"+f),!A&&v.shiftKey&&o!="Shift"&&(f="Shift-"+f),f}function ih(f,v){if(D&&f.keyCode==34&&f.char)return!1;var A=Bu[f.keyCode];return A==null||f.altGraphKey?!1:(f.keyCode==3&&f.code&&(A=f.code),Um(A,f,v))}function xl(f){return typeof f=="string"?bu[f]:f}function zu(f,v){for(var A=f.doc.sel.ranges,o=[],u=0;u<A.length;u++){for(var p=v(A[u]);o.length&&se(p.from,At(o).to)<=0;){var b=o.pop();if(se(b.from,p.from)<0){p.from=b.from;break}}o.push(p)}Zi(f,function(){for(var T=o.length-1;T>=0;T--)So(f.doc,"",o[T].from,o[T].to,"+delete");ac(f)})}function oh(f,v,A){var o=_r(f.text,v+A,A);return o<0||o>f.text.length?null:o}function Kh(f,v,A){var o=oh(f,v.ch,A);return o==null?null:new Pe(v.line,o,A<0?"after":"before")}function Uu(f,v,A,o,u){if(f){v.doc.direction=="rtl"&&(u=-u);var p=Lr(A,v.doc.direction);if(p){var b=u<0?At(p):p[0],T=u<0==(b.level==1),M=T?"after":"before",N;if(b.level>0||v.doc.direction=="rtl"){var Z=Du(v,A);N=u<0?A.text.length-1:0;var Q=fl(v,Z,N).top;N=Dr(function(ue){return fl(v,Z,ue).top==Q},u<0==(b.level==1)?b.from:b.to-1,N),M=="before"&&(N=oh(A,N,1))}else N=u<0?b.to:b.from;return new Pe(o,N,M)}}return new Pe(o,u<0?A.text.length:0,u<0?"before":"after")}function vp(f,v,A,o){var u=Lr(v,f.doc.direction);if(!u)return Kh(v,A,o);A.ch>=v.text.length?(A.ch=v.text.length,A.sticky="before"):A.ch<=0&&(A.ch=0,A.sticky="after");var p=pt(u,A.ch,A.sticky),b=u[p];if(f.doc.direction=="ltr"&&b.level%2==0&&(o>0?b.to>A.ch:b.from<A.ch))return Kh(v,A,o);var T=function(wt,zt){return oh(v,wt instanceof Pe?wt.ch:wt,zt)},M,N=function(wt){return f.options.lineWrapping?(M=M||Du(f,v),sr(f,v,M,wt)):{begin:0,end:v.text.length}},Z=N(A.sticky=="before"?T(A,-1):A.ch);if(f.doc.direction=="rtl"||b.level==1){var Q=b.level==1==o<0,ue=T(A,Q?1:-1);if(ue!=null&&(Q?ue<=b.to&&ue<=Z.end:ue>=b.from&&ue>=Z.begin)){var Ce=Q?"before":"after";return new Pe(A.line,ue,Ce)}}var Re=function(wt,zt,$t){for(var or=function(Jr,ln){return ln?new Pe(A.line,T(Jr,1),"before"):new Pe(A.line,Jr,"after")};wt>=0&&wt<u.length;wt+=zt){var dr=u[wt],ur=zt>0==(dr.level!=1),xr=ur?$t.begin:T($t.end,-1);if(dr.from<=xr&&xr<dr.to||(xr=ur?dr.from:T(dr.to,-1),$t.begin<=xr&&xr<$t.end))return or(xr,ur)}},it=Re(p+o,o,Z);if(it)return it;var at=o>0?Z.end:T(Z.begin,-1);return at!=null&&!(o>0&&at==v.text.length)&&(it=Re(o>0?0:u.length-1,o,N(at)),it)?it:null}var Xl={selectAll:Mn,singleSelection:function(f){return f.setSelection(f.getCursor("anchor"),f.getCursor("head"),Ht)},killLine:function(f){return zu(f,function(v){if(v.empty()){var A=Ke(f.doc,v.head.line).text.length;return v.head.ch==A&&v.head.line<f.lastLine()?{from:v.head,to:Pe(v.head.line+1,0)}:{from:v.head,to:Pe(v.head.line,A)}}else return{from:v.from(),to:v.to()}})},deleteLine:function(f){return zu(f,function(v){return{from:Pe(v.from().line,0),to:tr(f.doc,Pe(v.to().line+1,0))}})},delLineLeft:function(f){return zu(f,function(v){return{from:Pe(v.from().line,0),to:v.from()}})},delWrappedLineLeft:function(f){return zu(f,function(v){var A=f.charCoords(v.head,"div").top+5,o=f.coordsChar({left:0,top:A},"div");return{from:o,to:v.from()}})},delWrappedLineRight:function(f){return zu(f,function(v){var A=f.charCoords(v.head,"div").top+5,o=f.coordsChar({left:f.display.lineDiv.offsetWidth+100,top:A},"div");return{from:v.from(),to:o}})},undo:function(f){return f.undo()},redo:function(f){return f.redo()},undoSelection:function(f){return f.undoSelection()},redoSelection:function(f){return f.redoSelection()},goDocStart:function(f){return f.extendSelection(Pe(f.firstLine(),0))},goDocEnd:function(f){return f.extendSelection(Pe(f.lastLine()))},goLineStart:function(f){return f.extendSelectionsBy(function(v){return Lf(f,v.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(f){return f.extendSelectionsBy(function(v){return ah(f,v.head)},{origin:"+move",bias:1})},goLineEnd:function(f){return f.extendSelectionsBy(function(v){return jm(f,v.head.line)},{origin:"+move",bias:-1})},goLineRight:function(f){return f.extendSelectionsBy(function(v){var A=f.cursorCoords(v.head,"div").top+5;return f.coordsChar({left:f.display.lineDiv.offsetWidth+100,top:A},"div")},Yt)},goLineLeft:function(f){return f.extendSelectionsBy(function(v){var A=f.cursorCoords(v.head,"div").top+5;return f.coordsChar({left:0,top:A},"div")},Yt)},goLineLeftSmart:function(f){return f.extendSelectionsBy(function(v){var A=f.cursorCoords(v.head,"div").top+5,o=f.coordsChar({left:0,top:A},"div");return o.ch<f.getLine(o.line).search(/\S/)?ah(f,v.head):o},Yt)},goLineUp:function(f){return f.moveV(-1,"line")},goLineDown:function(f){return f.moveV(1,"line")},goPageUp:function(f){return f.moveV(-1,"page")},goPageDown:function(f){return f.moveV(1,"page")},goCharLeft:function(f){return f.moveH(-1,"char")},goCharRight:function(f){return f.moveH(1,"char")},goColumnLeft:function(f){return f.moveH(-1,"column")},goColumnRight:function(f){return f.moveH(1,"column")},goWordLeft:function(f){return f.moveH(-1,"word")},goGroupRight:function(f){return f.moveH(1,"group")},goGroupLeft:function(f){return f.moveH(-1,"group")},goWordRight:function(f){return f.moveH(1,"word")},delCharBefore:function(f){return f.deleteH(-1,"codepoint")},delCharAfter:function(f){return f.deleteH(1,"char")},delWordBefore:function(f){return f.deleteH(-1,"word")},delWordAfter:function(f){return f.deleteH(1,"word")},delGroupBefore:function(f){return f.deleteH(-1,"group")},delGroupAfter:function(f){return f.deleteH(1,"group")},indentAuto:function(f){return f.indentSelection("smart")},indentMore:function(f){return f.indentSelection("add")},indentLess:function(f){return f.indentSelection("subtract")},insertTab:function(f){return f.replaceSelection("	")},insertSoftTab:function(f){for(var v=[],A=f.listSelections(),o=f.options.tabSize,u=0;u<A.length;u++){var p=A[u].from(),b=Ue(f.getLine(p.line),p.ch,o);v.push(ir(o-b%o))}f.replaceSelections(v)},defaultTab:function(f){f.somethingSelected()?f.indentSelection("add"):f.execCommand("insertTab")},transposeChars:function(f){return Zi(f,function(){for(var v=f.listSelections(),A=[],o=0;o<v.length;o++)if(!!v[o].empty()){var u=v[o].head,p=Ke(f.doc,u.line).text;if(p){if(u.ch==p.length&&(u=new Pe(u.line,u.ch-1)),u.ch>0)u=new Pe(u.line,u.ch+1),f.replaceRange(p.charAt(u.ch-1)+p.charAt(u.ch-2),Pe(u.line,u.ch-2),u,"+transpose");else if(u.line>f.doc.first){var b=Ke(f.doc,u.line-1).text;b&&(u=new Pe(u.line,1),f.replaceRange(p.charAt(0)+f.doc.lineSeparator()+b.charAt(b.length-1),Pe(u.line-1,b.length-1),u,"+transpose"))}}A.push(new Fi(u,u))}f.setSelections(A)})},newlineAndIndent:function(f){return Zi(f,function(){for(var v=f.listSelections(),A=v.length-1;A>=0;A--)f.replaceRange(f.doc.lineSeparator(),v[A].anchor,v[A].head,"+input");v=f.listSelections();for(var o=0;o<v.length;o++)f.indentLine(v[o].from().line,null,!0);ac(f)})},openLine:function(f){return f.replaceSelection(`
`,"start")},toggleOverwrite:function(f){return f.toggleOverwrite()}};function Lf(f,v){var A=Ke(f.doc,v),o=no(A);return o!=A&&(v=Bt(o)),Uu(!0,f,o,v,1)}function jm(f,v){var A=Ke(f.doc,v),o=ja(A);return o!=A&&(v=Bt(o)),Uu(!0,f,A,v,-1)}function ah(f,v){var A=Lf(f,v.line),o=Ke(f.doc,A.line),u=Lr(o,f.doc.direction);if(!u||u[0].level==0){var p=Math.max(A.ch,o.text.search(/\S/)),b=v.line==A.line&&v.ch<=p&&v.ch;return Pe(A.line,b?0:p,A.sticky)}return A}function Ac(f,v,A){if(typeof v=="string"&&(v=Xl[v],!v))return!1;f.display.input.ensurePolled();var o=f.display.shift,u=!1;try{f.isReadOnly()&&(f.state.suppressEdits=!0),A&&(f.display.shift=!1),u=v(f)!=Tt}finally{f.display.shift=o,f.state.suppressEdits=!1}return u}function Oy(f,v,A){for(var o=0;o<f.state.keyMaps.length;o++){var u=bl(v,f.state.keyMaps[o],A,f);if(u)return u}return f.options.extraKeys&&bl(v,f.options.extraKeys,A,f)||bl(v,f.options.keyMap,A,f)}var Pf=new Je;function Rf(f,v,A,o){var u=f.state.keySeq;if(u){if(gp(v))return"handled";if(/\'$/.test(v)?f.state.keySeq=null:Pf.set(50,function(){f.state.keySeq==u&&(f.state.keySeq=null,f.display.input.reset())}),Hm(f,u+" "+v,A,o))return!0}return Hm(f,v,A,o)}function Hm(f,v,A,o){var u=Oy(f,v,o);return u=="multi"&&(f.state.keySeq=v),u=="handled"&&ta(f,"keyHandled",f,v,A),(u=="handled"||u=="multi")&&(Rn(A),fu(f)),!!u}function Id(f,v){var A=ih(v,!0);return A?v.shiftKey&&!f.state.keySeq?Rf(f,"Shift-"+A,v,function(o){return Ac(f,o,!0)})||Rf(f,A,v,function(o){if(typeof o=="string"?/^go[A-Z]/.test(o):o.motion)return Ac(f,o)}):Rf(f,A,v,function(o){return Ac(f,o)}):!1}function yp(f,v,A){return Rf(f,"'"+A+"'",v,function(o){return Ac(f,o,!0)})}var Ff=null;function Wm(f){var v=this;if(!(f.target&&f.target!=v.display.input.getField())&&(v.curOp.focus=G(),!Er(v,f))){l&&h<11&&f.keyCode==27&&(f.returnValue=!1);var A=f.keyCode;v.display.shift=A==16||f.shiftKey;var o=Id(v,f);D&&(Ff=o?A:null,!o&&A==88&&!Fr&&(ne?f.metaKey:f.ctrlKey)&&v.replaceSelection("",null,"cut")),t&&!ne&&!o&&A==46&&f.shiftKey&&!f.ctrlKey&&document.execCommand&&document.execCommand("cut"),A==18&&!/\bCodeMirror-crosshair\b/.test(v.display.lineDiv.className)&&Na(v)}}function Na(f){var v=f.display.lineDiv;V(v,"CodeMirror-crosshair");function A(o){(o.keyCode==18||!o.altKey)&&(Se(v,"CodeMirror-crosshair"),Dt(document,"keyup",A),Dt(document,"mouseover",A))}zr(document,"keyup",A),zr(document,"mouseover",A)}function sh(f){f.keyCode==16&&(this.doc.sel.shift=!1),Er(this,f)}function om(f){var v=this;if(!(f.target&&f.target!=v.display.input.getField())&&!(ec(v.display,f)||Er(v,f)||f.ctrlKey&&!f.altKey||ne&&f.metaKey)){var A=f.keyCode,o=f.charCode;if(D&&A==Ff){Ff=null,Rn(f);return}if(!(D&&(!f.which||f.which<10)&&Id(v,f))){var u=String.fromCharCode(o??A);u!="\b"&&(yp(v,f,u)||v.display.input.onKeyPress(f))}}}var bp=400,lh=function(f,v,A){this.time=f,this.pos=v,this.button=A};lh.prototype.compare=function(f,v,A){return this.time+bp>f&&se(v,this.pos)==0&&A==this.button};var Ka,xu;function am(f,v){var A=+new Date;return xu&&xu.compare(A,f,v)?(Ka=xu=null,"triple"):Ka&&Ka.compare(A,f,v)?(xu=new lh(A,f,v),Ka=null,"double"):(Ka=new lh(A,f,v),xu=null,"single")}function hf(f){var v=this,A=v.display;if(!(Er(v,f)||A.activeTouch&&A.input.supportsTouch())){if(A.input.ensurePolled(),A.shift=f.shiftKey,ec(A,f)){g||(A.scroller.draggable=!1,setTimeout(function(){return A.scroller.draggable=!0},100));return}if(!xp(v,f)){var o=Wl(v,f),u=st(f),p=o?am(o,u):"single";window.focus(),u==1&&v.state.selectingText&&v.state.selectingText(f),!(o&&df(v,u,o,p,f))&&(u==1?o?Vm(v,o,p,f):Xe(f)==A.scroller&&Rn(f):u==2?(o&&St(v.doc,o),setTimeout(function(){return A.input.focus()},20)):u==3&&(me?v.display.input.onContextMenu(f):Ad(v)))}}}function df(f,v,A,o,u){var p="Click";return o=="double"?p="Double"+p:o=="triple"&&(p="Triple"+p),p=(v==1?"Left":v==2?"Middle":"Right")+p,Rf(f,Um(p,u),u,function(b){if(typeof b=="string"&&(b=Xl[b]),!b)return!1;var T=!1;try{f.isReadOnly()&&(f.state.suppressEdits=!0),T=b(f,A)!=Tt}finally{f.state.suppressEdits=!1}return T})}function uh(f,v,A){var o=f.getOption("configureMouse"),u=o?o(f,v,A):{};if(u.unit==null){var p=he?A.shiftKey&&A.metaKey:A.altKey;u.unit=p?"rectangle":v=="single"?"char":v=="double"?"word":"line"}return(u.extend==null||f.doc.extend)&&(u.extend=f.doc.extend||A.shiftKey),u.addNew==null&&(u.addNew=ne?A.metaKey:A.ctrlKey),u.moveOnDrag==null&&(u.moveOnDrag=!(ne?A.altKey:A.ctrlKey)),u}function Vm(f,v,A,o){l?setTimeout(K(_c,f),0):f.curOp.focus=G();var u=uh(f,A,o),p=f.doc.sel,b;f.options.dragDrop&&Mt&&!f.isReadOnly()&&A=="single"&&(b=p.contains(v))>-1&&(se((b=p.ranges[b]).from(),v)<0||v.xRel>0)&&(se(b.to(),v)>0||v.xRel<0)?Md(f,o,v,u):sm(f,o,v,u)}function Md(f,v,A,o){var u=f.display,p=!1,b=Io(f,function(N){g&&(u.scroller.draggable=!1),f.state.draggingText=!1,f.state.delayingBlurEvent&&(f.hasFocus()?f.state.delayingBlurEvent=!1:Ad(f)),Dt(u.wrapper.ownerDocument,"mouseup",b),Dt(u.wrapper.ownerDocument,"mousemove",T),Dt(u.scroller,"dragstart",M),Dt(u.scroller,"drop",b),p||(Rn(N),o.addNew||St(f.doc,A,null,null,o.extend),g&&!F||l&&h==9?setTimeout(function(){u.wrapper.ownerDocument.body.focus({preventScroll:!0}),u.input.focus()},20):u.input.focus())}),T=function(N){p=p||Math.abs(v.clientX-N.clientX)+Math.abs(v.clientY-N.clientY)>=10},M=function(){return p=!0};g&&(u.scroller.draggable=!0),f.state.draggingText=b,b.copy=!o.moveOnDrag,zr(u.wrapper.ownerDocument,"mouseup",b),zr(u.wrapper.ownerDocument,"mousemove",T),zr(u.scroller,"dragstart",M),zr(u.scroller,"drop",b),f.state.delayingBlurEvent=!0,setTimeout(function(){return u.input.focus()},20),u.scroller.dragDrop&&u.scroller.dragDrop()}function ev(f,v,A){if(A=="char")return new Fi(v,v);if(A=="word")return f.findWordAt(v);if(A=="line")return new Fi(Pe(v.line,0),tr(f.doc,Pe(v.line+1,0)));var o=A(f,v);return new Fi(o.from,o.to)}function sm(f,v,A,o){l&&Ad(f);var u=f.display,p=f.doc;Rn(v);var b,T,M=p.sel,N=M.ranges;if(o.addNew&&!o.extend?(T=p.sel.contains(A),T>-1?b=N[T]:b=new Fi(A,A)):(b=p.sel.primary(),T=p.sel.primIndex),o.unit=="rectangle")o.addNew||(b=new Fi(A,A)),A=Wl(f,v,!0,!0),T=-1;else{var Z=ev(f,A,o.unit);o.extend?b=bt(b,Z.anchor,Z.head,o.extend):b=Z}o.addNew?T==-1?(T=N.length,yr(p,pa(f,N.concat([b]),T),{scroll:!1,origin:"*mouse"})):N.length>1&&N[T].empty()&&o.unit=="char"&&!o.extend?(yr(p,pa(f,N.slice(0,T).concat(N.slice(T+1)),0),{scroll:!1,origin:"*mouse"}),M=p.sel):rr(p,T,b,Rt):(T=0,yr(p,new Xs([b],0),Rt),M=p.sel);var Q=A;function ue($t){if(se(Q,$t)!=0)if(Q=$t,o.unit=="rectangle"){for(var or=[],dr=f.options.tabSize,ur=Ue(Ke(p,A.line).text,A.ch,dr),xr=Ue(Ke(p,$t.line).text,$t.ch,dr),Jr=Math.min(ur,xr),ln=Math.max(ur,xr),_n=Math.min(A.line,$t.line),Ti=Math.min(f.lastLine(),Math.max(A.line,$t.line));_n<=Ti;_n++){var ao=Ke(p,_n).text,ai=cr(ao,Jr,dr);Jr==ln?or.push(new Fi(Pe(_n,ai),Pe(_n,ai))):ao.length>ai&&or.push(new Fi(Pe(_n,ai),Pe(_n,cr(ao,ln,dr))))}or.length||or.push(new Fi(A,A)),yr(p,pa(f,M.ranges.slice(0,T).concat(or),T),{origin:"*mouse",scroll:!1}),f.scrollIntoView($t)}else{var so=b,Wi=ev(f,$t,o.unit),Pn=so.anchor,fi;se(Wi.anchor,Pn)>0?(fi=Wi.head,Pn=dt(so.from(),Wi.anchor)):(fi=Wi.anchor,Pn=Ge(so.to(),Wi.head));var jn=M.ranges.slice(0);jn[T]=Ld(f,new Fi(tr(p,Pn),fi)),yr(p,pa(f,jn,T),Rt)}}var Ce=u.wrapper.getBoundingClientRect(),Re=0;function it($t){var or=++Re,dr=Wl(f,$t,!0,o.unit=="rectangle");if(!!dr)if(se(dr,Q)!=0){f.curOp.focus=G(),ue(dr);var ur=go(u,p);(dr.line>=ur.to||dr.line<ur.from)&&setTimeout(Io(f,function(){Re==or&&it($t)}),150)}else{var xr=$t.clientY<Ce.top?-20:$t.clientY>Ce.bottom?20:0;xr&&setTimeout(Io(f,function(){Re==or&&(u.scroller.scrollTop+=xr,it($t))}),50)}}function at($t){f.state.selectingText=!1,Re=1/0,$t&&(Rn($t),u.input.focus()),Dt(u.wrapper.ownerDocument,"mousemove",wt),Dt(u.wrapper.ownerDocument,"mouseup",zt),p.history.lastSelOrigin=null}var wt=Io(f,function($t){$t.buttons===0||!st($t)?at($t):it($t)}),zt=Io(f,at);f.state.selectingText=zt,zr(u.wrapper.ownerDocument,"mousemove",wt),zr(u.wrapper.ownerDocument,"mouseup",zt)}function Ld(f,v){var A=v.anchor,o=v.head,u=Ke(f.doc,A.line);if(se(A,o)==0&&A.sticky==o.sticky)return v;var p=Lr(u);if(!p)return v;var b=pt(p,A.ch,A.sticky),T=p[b];if(T.from!=A.ch&&T.to!=A.ch)return v;var M=b+(T.from==A.ch==(T.level!=1)?0:1);if(M==0||M==p.length)return v;var N;if(o.line!=A.line)N=(o.line-A.line)*(f.doc.direction=="ltr"?1:-1)>0;else{var Z=pt(p,o.ch,o.sticky),Q=Z-b||(o.ch-A.ch)*(T.level==1?-1:1);Z==M-1||Z==M?N=Q<0:N=Q>0}var ue=p[M+(N?-1:0)],Ce=N==(ue.level==1),Re=Ce?ue.from:ue.to,it=Ce?"after":"before";return A.ch==Re&&A.sticky==it?v:new Fi(new Pe(A.line,Re,it),o)}function qf(f,v,A,o){var u,p;if(v.touches)u=v.touches[0].clientX,p=v.touches[0].clientY;else try{u=v.clientX,p=v.clientY}catch{return!1}if(u>=Math.floor(f.display.gutters.getBoundingClientRect().right))return!1;o&&Rn(v);var b=f.display,T=b.lineDiv.getBoundingClientRect();if(p>T.bottom||!Vr(f,A))return fo(v);p-=T.top-b.viewOffset;for(var M=0;M<f.display.gutterSpecs.length;++M){var N=b.gutters.childNodes[M];if(N&&N.getBoundingClientRect().right>=u){var Z=hr(f.doc,p),Q=f.display.gutterSpecs[M];return Et(f,A,f,Z,Q.className,v),fo(v)}}}function xp(f,v){return qf(f,v,"gutterClick",!0)}function cc(f,v){ec(f.display,v)||$m(f,v)||Er(f,v,"contextmenu")||me||f.display.input.onContextMenu(v)}function $m(f,v){return Vr(f,"gutterContextMenu")?qf(f,v,"gutterContextMenu",!1):!1}function Yh(f){f.display.wrapper.className=f.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+f.options.theme.replace(/(^|\s)\s*/g," cm-s-"),nf(f)}var ch={toString:function(){return"CodeMirror.Init"}},_p={},fh={};function ju(f){var v=f.optionHandlers;function A(o,u,p,b){f.defaults[o]=u,p&&(v[o]=b?function(T,M,N){N!=ch&&p(T,M,N)}:p)}f.defineOption=A,f.Init=ch,A("value","",function(o,u){return o.setValue(u)},!0),A("mode",null,function(o,u){o.doc.modeOption=u,Mf(o)},!0),A("indentUnit",2,Mf,!0),A("indentWithTabs",!1),A("smartIndent",!0),A("tabSize",4,function(o){Tc(o),nf(o),Jn(o)},!0),A("lineSeparator",null,function(o,u){if(o.doc.lineSep=u,!!u){var p=[],b=o.doc.first;o.doc.iter(function(M){for(var N=0;;){var Z=M.text.indexOf(u,N);if(Z==-1)break;N=Z+u.length,p.push(Pe(b,Z))}b++});for(var T=p.length-1;T>=0;T--)So(o.doc,u,p[T],Pe(p[T].line,p[T].ch+u.length))}}),A("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(o,u,p){o.state.specialChars=new RegExp(u.source+(u.test("	")?"":"|	"),"g"),p!=ch&&o.refresh()}),A("specialCharPlaceholder",au,function(o){return o.refresh()},!0),A("electricChars",!0),A("inputStyle",oe?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),A("spellcheck",!1,function(o,u){return o.getInputField().spellcheck=u},!0),A("autocorrect",!1,function(o,u){return o.getInputField().autocorrect=u},!0),A("autocapitalize",!1,function(o,u){return o.getInputField().autocapitalize=u},!0),A("rtlMoveVisually",!_),A("wholeLineUpdateBefore",!0),A("theme","default",function(o){Yh(o),Gl(o)},!0),A("keyMap","default",function(o,u,p){var b=xl(u),T=p!=ch&&xl(p);T&&T.detach&&T.detach(o,b),b.attach&&b.attach(o,T||null)}),A("extraKeys",null),A("configureMouse",null),A("lineWrapping",!1,wp,!0),A("gutters",[],function(o,u){o.display.gutterSpecs=uc(u,o.options.lineNumbers),Gl(o)},!0),A("fixedGutter",!0,function(o,u){o.display.gutters.style.left=u?Iu(o.display)+"px":"0",o.refresh()},!0),A("coverGutterNextToScrollbar",!1,function(o){return ml(o)},!0),A("scrollbarStyle","native",function(o){is(o),ml(o),o.display.scrollbars.setScrollTop(o.doc.scrollTop),o.display.scrollbars.setScrollLeft(o.doc.scrollLeft)},!0),A("lineNumbers",!1,function(o,u){o.display.gutterSpecs=uc(o.options.gutters,u),Gl(o)},!0),A("firstLineNumber",1,Gl,!0),A("lineNumberFormatter",function(o){return o},Gl,!0),A("showCursorWhenSelecting",!1,pl,!0),A("resetSelectionOnContextMenu",!0),A("lineWiseCopyCut",!0),A("pasteLinesPerSelection",!0),A("selectionsMayTouch",!1),A("readOnly",!1,function(o,u){u=="nocursor"&&(Lu(o),o.display.input.blur()),o.display.input.readOnlyChanged(u)}),A("screenReaderLabel",null,function(o,u){u=u===""?null:u,o.display.input.screenReaderLabelChanged(u)}),A("disableInput",!1,function(o,u){u||o.display.input.reset()},!0),A("dragDrop",!0,tv),A("allowDropFileTypes",null),A("cursorBlinkRate",530),A("cursorScrollMargin",0),A("cursorHeight",1,pl,!0),A("singleCursorHeightPerLine",!0,pl,!0),A("workTime",100),A("workDelay",100),A("flattenSpans",!0,Tc,!0),A("addModeClass",!1,Tc,!0),A("pollInterval",100),A("undoDepth",200,function(o,u){return o.doc.history.undoDepth=u}),A("historyEventDelay",1250),A("viewportMargin",10,function(o){return o.refresh()},!0),A("maxHighlightLength",1e4,Tc,!0),A("moveInputWithCursor",!0,function(o,u){u||o.display.input.resetPosition()}),A("tabindex",null,function(o,u){return o.display.input.getField().tabIndex=u||""}),A("autofocus",null),A("direction","ltr",function(o,u){return o.doc.setDirection(u)},!0),A("phrases",null)}function tv(f,v,A){var o=A&&A!=ch;if(!v!=!o){var u=f.display.dragFunctions,p=v?zr:Dt;p(f.display.scroller,"dragstart",u.start),p(f.display.scroller,"dragenter",u.enter),p(f.display.scroller,"dragover",u.over),p(f.display.scroller,"dragleave",u.leave),p(f.display.scroller,"drop",u.drop)}}function wp(f){f.options.lineWrapping?(V(f.display.wrapper,"CodeMirror-wrap"),f.display.sizer.style.minWidth="",f.display.sizerWidth=null):(Se(f.display.wrapper,"CodeMirror-wrap"),Bl(f)),Mu(f),Jn(f),nf(f),setTimeout(function(){return ml(f)},100)}function $o(f,v){var A=this;if(!(this instanceof $o))return new $o(f,v);this.options=v=v?U(v):{},U(_p,v,!1);var o=v.value;typeof o=="string"?o=new ji(o,v.mode,null,v.lineSeparator,v.direction):v.mode&&(o.modeOption=v.mode),this.doc=o;var u=new $o.inputStyles[v.inputStyle](this),p=this.display=new Zs(f,o,u,v);p.wrapper.CodeMirror=this,Yh(this),v.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),is(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Je,keySeq:null,specialChars:null},v.autofocus&&!oe&&p.input.focus(),l&&h<11&&setTimeout(function(){return A.display.input.reset(!0)},20),Gm(this),Od(),Ys(this),this.curOp.forceUpdate=!0,x(this,o),v.autofocus&&!oe||this.hasFocus()?setTimeout(function(){A.hasFocus()&&!A.state.focused&&sf(A)},20):Lu(this);for(var b in fh)fh.hasOwnProperty(b)&&fh[b](this,v[b],ch);pu(this),v.finishInit&&v.finishInit(this);for(var T=0;T<Sp.length;++T)Sp[T](this);hu(this),g&&v.lineWrapping&&getComputedStyle(p.lineDiv).textRendering=="optimizelegibility"&&(p.lineDiv.style.textRendering="auto")}$o.defaults=_p,$o.optionHandlers=fh;function Gm(f){var v=f.display;zr(v.scroller,"mousedown",Io(f,hf)),l&&h<11?zr(v.scroller,"dblclick",Io(f,function(M){if(!Er(f,M)){var N=Wl(f,M);if(!(!N||xp(f,M)||ec(f.display,M))){Rn(M);var Z=f.findWordAt(N);St(f.doc,Z.anchor,Z.head)}}})):zr(v.scroller,"dblclick",function(M){return Er(f,M)||Rn(M)}),zr(v.scroller,"contextmenu",function(M){return cc(f,M)}),zr(v.input.getField(),"contextmenu",function(M){v.scroller.contains(M.target)||cc(f,M)});var A,o={end:0};function u(){v.activeTouch&&(A=setTimeout(function(){return v.activeTouch=null},1e3),o=v.activeTouch,o.end=+new Date)}function p(M){if(M.touches.length!=1)return!1;var N=M.touches[0];return N.radiusX<=1&&N.radiusY<=1}function b(M,N){if(N.left==null)return!0;var Z=N.left-M.left,Q=N.top-M.top;return Z*Z+Q*Q>20*20}zr(v.scroller,"touchstart",function(M){if(!Er(f,M)&&!p(M)&&!xp(f,M)){v.input.ensurePolled(),clearTimeout(A);var N=+new Date;v.activeTouch={start:N,moved:!1,prev:N-o.end<=300?o:null},M.touches.length==1&&(v.activeTouch.left=M.touches[0].pageX,v.activeTouch.top=M.touches[0].pageY)}}),zr(v.scroller,"touchmove",function(){v.activeTouch&&(v.activeTouch.moved=!0)}),zr(v.scroller,"touchend",function(M){var N=v.activeTouch;if(N&&!ec(v,M)&&N.left!=null&&!N.moved&&new Date-N.start<300){var Z=f.coordsChar(v.activeTouch,"page"),Q;!N.prev||b(N,N.prev)?Q=new Fi(Z,Z):!N.prev.prev||b(N,N.prev.prev)?Q=f.findWordAt(Z):Q=new Fi(Pe(Z.line,0),tr(f.doc,Pe(Z.line+1,0))),f.setSelection(Q.anchor,Q.head),f.focus(),Rn(M)}u()}),zr(v.scroller,"touchcancel",u),zr(v.scroller,"scroll",function(){v.scroller.clientHeight&&(wr(f,v.scroller.scrollTop),sc(f,v.scroller.scrollLeft,!0),Et(f,"scroll",f))}),zr(v.scroller,"mousewheel",function(M){return Kl(f,M)}),zr(v.scroller,"DOMMouseScroll",function(M){return Kl(f,M)}),zr(v.wrapper,"scroll",function(){return v.wrapper.scrollTop=v.wrapper.scrollLeft=0}),v.dragFunctions={enter:function(M){Er(f,M)||gi(M)},over:function(M){Er(f,M)||(Oi(f,M),gi(M))},start:function(M){return Ga(f,M)},drop:Io(f,Wc),leave:function(M){Er(f,M)||vl(f)}};var T=v.input.getField();zr(T,"keyup",function(M){return sh.call(f,M)}),zr(T,"keydown",Io(f,Wm)),zr(T,"keypress",Io(f,om)),zr(T,"focus",function(M){return sf(f,M)}),zr(T,"blur",function(M){return Lu(f,M)})}var Sp=[];$o.defineInitHook=function(f){return Sp.push(f)};function Go(f,v,A,o){var u=f.doc,p;A==null&&(A="add"),A=="smart"&&(u.mode.indent?p=Qr(f,v).state:A="prev");var b=f.options.tabSize,T=Ke(u,v),M=Ue(T.text,null,b);T.stateAfter&&(T.stateAfter=null);var N=T.text.match(/^\s*/)[0],Z;if(!o&&!/\S/.test(T.text))Z=0,A="not";else if(A=="smart"&&(Z=u.mode.indent(p,T.text.slice(N.length),T.text),Z==Tt||Z>150)){if(!o)return;A="prev"}A=="prev"?v>u.first?Z=Ue(Ke(u,v-1).text,null,b):Z=0:A=="add"?Z=M+f.options.indentUnit:A=="subtract"?Z=M-f.options.indentUnit:typeof A=="number"&&(Z=M+A),Z=Math.max(0,Z);var Q="",ue=0;if(f.options.indentWithTabs)for(var Ce=Math.floor(Z/b);Ce;--Ce)ue+=b,Q+="	";if(ue<Z&&(Q+=ir(Z-ue)),Q!=N)return So(u,Q,Pe(v,0),Pe(v,N.length),"+input"),T.stateAfter=null,!0;for(var Re=0;Re<u.sel.ranges.length;Re++){var it=u.sel.ranges[Re];if(it.head.line==v&&it.head.ch<N.length){var at=Pe(v,N.length);rr(u,Re,new Fi(at,at));break}}}var _l=null;function Hu(f){_l=f}function pf(f,v,A,o,u){var p=f.doc;f.display.shift=!1,o||(o=p.sel);var b=+new Date-200,T=u=="paste"||f.state.pasteIncoming>b,M=Nr(v),N=null;if(T&&o.ranges.length>1)if(_l&&_l.text.join(`
`)==v){if(o.ranges.length%_l.text.length==0){N=[];for(var Z=0;Z<_l.text.length;Z++)N.push(p.splitLines(_l.text[Z]))}}else M.length==o.ranges.length&&f.options.pasteLinesPerSelection&&(N=kt(M,function(wt){return[wt]}));for(var Q=f.curOp.updateInput,ue=o.ranges.length-1;ue>=0;ue--){var Ce=o.ranges[ue],Re=Ce.from(),it=Ce.to();Ce.empty()&&(A&&A>0?Re=Pe(Re.line,Re.ch-A):f.state.overwrite&&!T?it=Pe(it.line,Math.min(Ke(p,it.line).text.length,it.ch+At(M).length)):T&&_l&&_l.lineWise&&_l.text.join(`
`)==M.join(`
`)&&(Re=it=Pe(Re.line,0)));var at={from:Re,to:it,text:N?N[ue%N.length]:M,origin:u||(T?"paste":f.state.cutIncoming>b?"cut":"+input")};On(f.doc,at),ta(f,"inputRead",f,at)}v&&!T&&_u(f,v),ac(f),f.curOp.updateInput<2&&(f.curOp.updateInput=Q),f.curOp.typing=!0,f.state.pasteIncoming=f.state.cutIncoming=-1}function wl(f,v){var A=f.clipboardData&&f.clipboardData.getData("Text");if(A)return f.preventDefault(),!v.isReadOnly()&&!v.options.disableInput&&Zi(v,function(){return pf(v,A,0,null,"paste")}),!0}function _u(f,v){if(!(!f.options.electricChars||!f.options.smartIndent))for(var A=f.doc.sel,o=A.ranges.length-1;o>=0;o--){var u=A.ranges[o];if(!(u.head.ch>100||o&&A.ranges[o-1].head.line==u.head.line)){var p=f.getModeAt(u.head),b=!1;if(p.electricChars){for(var T=0;T<p.electricChars.length;T++)if(v.indexOf(p.electricChars.charAt(T))>-1){b=Go(f,u.head.line,"smart");break}}else p.electricInput&&p.electricInput.test(Ke(f.doc,u.head.line).text.slice(0,u.head.ch))&&(b=Go(f,u.head.line,"smart"));b&&ta(f,"electricInput",f,u.head.line)}}}function Tp(f){for(var v=[],A=[],o=0;o<f.doc.sel.ranges.length;o++){var u=f.doc.sel.ranges[o].head.line,p={anchor:Pe(u,0),head:Pe(u+1,0)};A.push(p),v.push(f.getRange(p.anchor,p.head))}return{text:v,ranges:A}}function Km(f,v,A,o){f.setAttribute("autocorrect",A?"":"off"),f.setAttribute("autocapitalize",o?"":"off"),f.setAttribute("spellcheck",!!v)}function Ym(){var f=q("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),v=q("div",[f],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return g?f.style.width="1000px":f.setAttribute("wrap","off"),$&&(f.style.border="1px solid black"),Km(f),v}function Wu(f){var v=f.optionHandlers,A=f.helpers={};f.prototype={constructor:f,focus:function(){window.focus(),this.display.input.focus()},setOption:function(o,u){var p=this.options,b=p[o];p[o]==u&&o!="mode"||(p[o]=u,v.hasOwnProperty(o)&&Io(this,v[o])(this,u,b),Et(this,"optionChange",this,o))},getOption:function(o){return this.options[o]},getDoc:function(){return this.doc},addKeyMap:function(o,u){this.state.keyMaps[u?"push":"unshift"](xl(o))},removeKeyMap:function(o){for(var u=this.state.keyMaps,p=0;p<u.length;++p)if(u[p]==o||u[p].name==o)return u.splice(p,1),!0},addOverlay:da(function(o,u){var p=o.token?o:f.getMode(this.options,o);if(p.startState)throw new Error("Overlays may not be stateful.");rt(this.state.overlays,{mode:p,modeSpec:o,opaque:u&&u.opaque,priority:u&&u.priority||0},function(b){return b.priority}),this.state.modeGen++,Jn(this)}),removeOverlay:da(function(o){for(var u=this.state.overlays,p=0;p<u.length;++p){var b=u[p].modeSpec;if(b==o||typeof o=="string"&&b.name==o){u.splice(p,1),this.state.modeGen++,Jn(this);return}}}),indentLine:da(function(o,u,p){typeof u!="string"&&typeof u!="number"&&(u==null?u=this.options.smartIndent?"smart":"prev":u=u?"add":"subtract"),Ae(this.doc,o)&&Go(this,o,u,p)}),indentSelection:da(function(o){for(var u=this.doc.sel.ranges,p=-1,b=0;b<u.length;b++){var T=u[b];if(T.empty())T.head.line>p&&(Go(this,T.head.line,o,!0),p=T.head.line,b==this.doc.sel.primIndex&&ac(this));else{var M=T.from(),N=T.to(),Z=Math.max(p,M.line);p=Math.min(this.lastLine(),N.line-(N.ch?0:1))+1;for(var Q=Z;Q<p;++Q)Go(this,Q,o);var ue=this.doc.sel.ranges;M.ch==0&&u.length==ue.length&&ue[b].from().ch>0&&rr(this.doc,b,new Fi(M,ue[b].to()),Ht)}}}),getTokenAt:function(o,u){return ei(this,o,u)},getLineTokens:function(o,u){return ei(this,Pe(o),u,!0)},getTokenTypeAt:function(o){o=tr(this.doc,o);var u=an(this,Ke(this.doc,o.line)),p=0,b=(u.length-1)/2,T=o.ch,M;if(T==0)M=u[2];else for(;;){var N=p+b>>1;if((N?u[N*2-1]:0)>=T)b=N;else if(u[N*2+1]<T)p=N+1;else{M=u[N*2+2];break}}var Z=M?M.indexOf("overlay "):-1;return Z<0?M:Z==0?null:M.slice(0,Z-1)},getModeAt:function(o){var u=this.doc.mode;return u.innerMode?f.innerMode(u,this.getTokenAt(o).state).mode:u},getHelper:function(o,u){return this.getHelpers(o,u)[0]},getHelpers:function(o,u){var p=[];if(!A.hasOwnProperty(u))return p;var b=A[u],T=this.getModeAt(o);if(typeof T[u]=="string")b[T[u]]&&p.push(b[T[u]]);else if(T[u])for(var M=0;M<T[u].length;M++){var N=b[T[u][M]];N&&p.push(N)}else T.helperType&&b[T.helperType]?p.push(b[T.helperType]):b[T.name]&&p.push(b[T.name]);for(var Z=0;Z<b._global.length;Z++){var Q=b._global[Z];Q.pred(T,this)&&Qe(p,Q.val)==-1&&p.push(Q.val)}return p},getStateAfter:function(o,u){var p=this.doc;return o=Gt(p,o??p.first+p.size-1),Qr(this,o+1,u).state},cursorCoords:function(o,u){var p,b=this.doc.sel.primary();return o==null?p=b.head:typeof o=="object"?p=tr(this.doc,o):p=o?b.from():b.to(),gs(this,p,u||"page")},charCoords:function(o,u){return nh(this,tr(this.doc,o),u||"page")},coordsChar:function(o,u){return o=of(this,o,u||"page"),Pt(this,o.left,o.top)},lineAtHeight:function(o,u){return o=of(this,{top:o,left:0},u||"page").top,hr(this.doc,o+this.display.viewOffset)},heightAtLine:function(o,u,p){var b=!1,T;if(typeof o=="number"){var M=this.doc.first+this.doc.size-1;o<this.doc.first?o=this.doc.first:o>M&&(o=M,b=!0),T=Ke(this.doc,o)}else T=o;return Uc(this,T,{top:0,left:0},u||"page",p||b).top+(b?this.doc.height-_a(T):0)},defaultTextHeight:function(){return ic(this.display)},defaultCharWidth:function(){return af(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(o,u,p,b,T){var M=this.display;o=gs(this,tr(this.doc,o));var N=o.bottom,Z=o.left;if(u.style.position="absolute",u.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(u),M.sizer.appendChild(u),b=="over")N=o.top;else if(b=="above"||b=="near"){var Q=Math.max(M.wrapper.clientHeight,this.doc.height),ue=Math.max(M.sizer.clientWidth,M.lineSpace.clientWidth);(b=="above"||o.bottom+u.offsetHeight>Q)&&o.top>u.offsetHeight?N=o.top-u.offsetHeight:o.bottom+u.offsetHeight<=Q&&(N=o.bottom),Z+u.offsetWidth>ue&&(Z=ue-u.offsetWidth)}u.style.top=N+"px",u.style.left=u.style.right="",T=="right"?(Z=M.sizer.clientWidth-u.offsetWidth,u.style.right="0px"):(T=="left"?Z=0:T=="middle"&&(Z=(M.sizer.clientWidth-u.offsetWidth)/2),u.style.left=Z+"px"),p&&na(this,{left:Z,top:N,right:Z+u.offsetWidth,bottom:N+u.offsetHeight})},triggerOnKeyDown:da(Wm),triggerOnKeyPress:da(om),triggerOnKeyUp:sh,triggerOnMouseDown:da(hf),execCommand:function(o){if(Xl.hasOwnProperty(o))return Xl[o].call(null,this)},triggerElectric:da(function(o){_u(this,o)}),findPosH:function(o,u,p,b){var T=1;u<0&&(T=-1,u=-u);for(var M=tr(this.doc,o),N=0;N<u&&(M=hh(this.doc,M,T,p,b),!M.hitSide);++N);return M},moveH:da(function(o,u){var p=this;this.extendSelectionsBy(function(b){return p.display.shift||p.doc.extend||b.empty()?hh(p.doc,b.head,o,u,p.options.rtlMoveVisually):o<0?b.from():b.to()},Yt)}),deleteH:da(function(o,u){var p=this.doc.sel,b=this.doc;p.somethingSelected()?b.replaceSelection("",null,"+delete"):zu(this,function(T){var M=hh(b,T.head,o,u,!1);return o<0?{from:M,to:T.head}:{from:T.head,to:M}})}),findPosV:function(o,u,p,b){var T=1,M=b;u<0&&(T=-1,u=-u);for(var N=tr(this.doc,o),Z=0;Z<u;++Z){var Q=gs(this,N,"div");if(M==null?M=Q.left:Q.left=M,N=Ep(this,Q,T,p),N.hitSide)break}return N},moveV:da(function(o,u){var p=this,b=this.doc,T=[],M=!this.display.shift&&!b.extend&&b.sel.somethingSelected();if(b.extendSelectionsBy(function(Z){if(M)return o<0?Z.from():Z.to();var Q=gs(p,Z.head,"div");Z.goalColumn!=null&&(Q.left=Z.goalColumn),T.push(Q.left);var ue=Ep(p,Q,o,u);return u=="page"&&Z==b.sel.primary()&&vs(p,nh(p,ue,"div").top-Q.top),ue},Yt),T.length)for(var N=0;N<b.sel.ranges.length;N++)b.sel.ranges[N].goalColumn=T[N]}),findWordAt:function(o){var u=this.doc,p=Ke(u,o.line).text,b=o.ch,T=o.ch;if(p){var M=this.getHelper(o,"wordChars");(o.sticky=="before"||T==p.length)&&b?--b:++T;for(var N=p.charAt(b),Z=ft(N,M)?function(Q){return ft(Q,M)}:/\s/.test(N)?function(Q){return/\s/.test(Q)}:function(Q){return!/\s/.test(Q)&&!ft(Q)};b>0&&Z(p.charAt(b-1));)--b;for(;T<p.length&&Z(p.charAt(T));)++T}return new Fi(Pe(o.line,b),Pe(o.line,T))},toggleOverwrite:function(o){o!=null&&o==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?V(this.display.cursorDiv,"CodeMirror-overwrite"):Se(this.display.cursorDiv,"CodeMirror-overwrite"),Et(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==G()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:da(function(o,u){Pu(this,o,u)}),getScrollInfo:function(){var o=this.display.scroller;return{left:o.scrollLeft,top:o.scrollTop,height:o.scrollHeight-Sa(this)-this.display.barHeight,width:o.scrollWidth-Sa(this)-this.display.barWidth,clientHeight:th(this),clientWidth:tc(this)}},scrollIntoView:da(function(o,u){o==null?(o={from:this.doc.sel.primary().head,to:null},u==null&&(u=this.options.cursorScrollMargin)):typeof o=="number"?o={from:Pe(o,0),to:null}:o.from==null&&(o={from:o,to:null}),o.to||(o.to=o.from),o.margin=u||0,o.from.line!=null?$l(this,o):uf(this,o.from,o.to,o.margin)}),setSize:da(function(o,u){var p=this,b=function(M){return typeof M=="number"||/^\d+$/.test(String(M))?M+"px":M};o!=null&&(this.display.wrapper.style.width=b(o)),u!=null&&(this.display.wrapper.style.height=b(u)),this.options.lineWrapping&&pp(this);var T=this.display.viewFrom;this.doc.iter(T,this.display.viewTo,function(M){if(M.widgets){for(var N=0;N<M.widgets.length;N++)if(M.widgets[N].noHScroll){hl(p,T,"widget");break}}++T}),this.curOp.forceUpdate=!0,Et(this,"refresh",this)}),operation:function(o){return Zi(this,o)},startOperation:function(){return Ys(this)},endOperation:function(){return hu(this)},refresh:da(function(){var o=this.display.cachedTextHeight;Jn(this),this.curOp.forceUpdate=!0,nf(this),Pu(this,this.doc.scrollLeft,this.doc.scrollTop),If(this.display),(o==null||Math.abs(o-ic(this.display))>.5||this.options.lineWrapping)&&Mu(this),Et(this,"refresh",this)}),swapDoc:da(function(o){var u=this.doc;return u.cm=null,this.state.selectingText&&this.state.selectingText(),x(this,o),nf(this),this.display.input.reset(),Pu(this,o.scrollLeft,o.scrollTop),this.curOp.forceScroll=!0,ta(this,"swapDoc",this,u),u}),phrase:function(o){var u=this.options.phrases;return u&&Object.prototype.hasOwnProperty.call(u,o)?u[o]:o},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},yn(f),f.registerHelper=function(o,u,p){A.hasOwnProperty(o)||(A[o]=f[o]={_global:[]}),A[o][u]=p},f.registerGlobalHelper=function(o,u,p,b){f.registerHelper(o,u,b),A[o]._global.push({pred:p,val:b})}}function hh(f,v,A,o,u){var p=v,b=A,T=Ke(f,v.line),M=u&&f.direction=="rtl"?-A:A;function N(){var zt=v.line+M;return zt<f.first||zt>=f.first+f.size?!1:(v=new Pe(zt,v.ch,v.sticky),T=Ke(f,zt))}function Z(zt){var $t;if(o=="codepoint"){var or=T.text.charCodeAt(v.ch+(o>0?0:-1));if(isNaN(or))$t=null;else{var dr=A>0?or>=55296&&or<56320:or>=56320&&or<57343;$t=new Pe(v.line,Math.max(0,Math.min(T.text.length,v.ch+A*(dr?2:1))),-A)}}else u?$t=vp(f.cm,T,v,A):$t=Kh(T,v,A);if($t==null)if(!zt&&N())v=Uu(u,f.cm,T,v.line,M);else return!1;else v=$t;return!0}if(o=="char"||o=="codepoint")Z();else if(o=="column")Z(!0);else if(o=="word"||o=="group")for(var Q=null,ue=o=="group",Ce=f.cm&&f.cm.getHelper(v,"wordChars"),Re=!0;!(A<0&&!Z(!Re));Re=!1){var it=T.text.charAt(v.ch)||`
`,at=ft(it,Ce)?"w":ue&&it==`
`?"n":!ue||/\s/.test(it)?null:"p";if(ue&&!Re&&!at&&(at="s"),Q&&Q!=at){A<0&&(A=1,Z(),v.sticky="after");break}if(at&&(Q=at),A>0&&!Z(!Re))break}var wt=Bn(f,v,p,b,!0);return ie(p,wt)&&(wt.hitSide=!0),wt}function Ep(f,v,A,o){var u=f.doc,p=v.left,b;if(o=="page"){var T=Math.min(f.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),M=Math.max(T-.5*ic(f.display),3);b=(A>0?v.bottom:v.top)+A*M}else o=="line"&&(b=A>0?v.bottom+3:v.top-3);for(var N;N=Pt(f,p,b),!!N.outside;){if(A<0?b<=0:b>=u.height){N.hitSide=!0;break}b+=A*5}return N}var Eo=function(f){this.cm=f,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Je,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Eo.prototype.init=function(f){var v=this,A=this,o=A.cm,u=A.div=f.lineDiv;Km(u,o.options.spellcheck,o.options.autocorrect,o.options.autocapitalize);function p(T){for(var M=T.target;M;M=M.parentNode){if(M==u)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(M.className))break}return!1}zr(u,"paste",function(T){!p(T)||Er(o,T)||wl(T,o)||h<=11&&setTimeout(Io(o,function(){return v.updateFromDOM()}),20)}),zr(u,"compositionstart",function(T){v.composing={data:T.data,done:!1}}),zr(u,"compositionupdate",function(T){v.composing||(v.composing={data:T.data,done:!1})}),zr(u,"compositionend",function(T){v.composing&&(T.data!=v.composing.data&&v.readFromDOMSoon(),v.composing.done=!0)}),zr(u,"touchstart",function(){return A.forceCompositionEnd()}),zr(u,"input",function(){v.composing||v.readFromDOMSoon()});function b(T){if(!(!p(T)||Er(o,T))){if(o.somethingSelected())Hu({lineWise:!1,text:o.getSelections()}),T.type=="cut"&&o.replaceSelection("",null,"cut");else if(o.options.lineWiseCopyCut){var M=Tp(o);Hu({lineWise:!0,text:M.text}),T.type=="cut"&&o.operation(function(){o.setSelections(M.ranges,0,Ht),o.replaceSelection("",null,"cut")})}else return;if(T.clipboardData){T.clipboardData.clearData();var N=_l.text.join(`
`);if(T.clipboardData.setData("Text",N),T.clipboardData.getData("Text")==N){T.preventDefault();return}}var Z=Ym(),Q=Z.firstChild;o.display.lineSpace.insertBefore(Z,o.display.lineSpace.firstChild),Q.value=_l.text.join(`
`);var ue=document.activeElement;_e(Q),setTimeout(function(){o.display.lineSpace.removeChild(Z),ue.focus(),ue==u&&A.showPrimarySelection()},50)}}zr(u,"copy",b),zr(u,"cut",b)},Eo.prototype.screenReaderLabelChanged=function(f){f?this.div.setAttribute("aria-label",f):this.div.removeAttribute("aria-label")},Eo.prototype.prepareSelection=function(){var f=ui(this.cm,!1);return f.focus=document.activeElement==this.div,f},Eo.prototype.showSelection=function(f,v){!f||!this.cm.display.view.length||((f.focus||v)&&this.showPrimarySelection(),this.showMultipleSelections(f))},Eo.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Eo.prototype.showPrimarySelection=function(){var f=this.getSelection(),v=this.cm,A=v.doc.sel.primary(),o=A.from(),u=A.to();if(v.display.viewTo==v.display.viewFrom||o.line>=v.display.viewTo||u.line<v.display.viewFrom){f.removeAllRanges();return}var p=Pd(v,f.anchorNode,f.anchorOffset),b=Pd(v,f.focusNode,f.focusOffset);if(!(p&&!p.bad&&b&&!b.bad&&se(dt(p,b),o)==0&&se(Ge(p,b),u)==0)){var T=v.display.view,M=o.line>=v.display.viewFrom&&Zh(v,o)||{node:T[0].measure.map[2],offset:0},N=u.line<v.display.viewTo&&Zh(v,u);if(!N){var Z=T[T.length-1].measure,Q=Z.maps?Z.maps[Z.maps.length-1]:Z.map;N={node:Q[Q.length-1],offset:Q[Q.length-2]-Q[Q.length-3]}}if(!M||!N){f.removeAllRanges();return}var ue=f.rangeCount&&f.getRangeAt(0),Ce;try{Ce=R(M.node,M.offset,N.offset,N.node)}catch{}Ce&&(!t&&v.state.focused?(f.collapse(M.node,M.offset),Ce.collapsed||(f.removeAllRanges(),f.addRange(Ce))):(f.removeAllRanges(),f.addRange(Ce)),ue&&f.anchorNode==null?f.addRange(ue):t&&this.startGracePeriod()),this.rememberSelection()}},Eo.prototype.startGracePeriod=function(){var f=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){f.gracePeriod=!1,f.selectionChanged()&&f.cm.operation(function(){return f.cm.curOp.selectionChanged=!0})},20)},Eo.prototype.showMultipleSelections=function(f){$e(this.cm.display.cursorDiv,f.cursors),$e(this.cm.display.selectionDiv,f.selection)},Eo.prototype.rememberSelection=function(){var f=this.getSelection();this.lastAnchorNode=f.anchorNode,this.lastAnchorOffset=f.anchorOffset,this.lastFocusNode=f.focusNode,this.lastFocusOffset=f.focusOffset},Eo.prototype.selectionInEditor=function(){var f=this.getSelection();if(!f.rangeCount)return!1;var v=f.getRangeAt(0).commonAncestorContainer;return j(this.div,v)},Eo.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||document.activeElement!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Eo.prototype.blur=function(){this.div.blur()},Eo.prototype.getField=function(){return this.div},Eo.prototype.supportsTouch=function(){return!0},Eo.prototype.receivedFocus=function(){var f=this;this.selectionInEditor()?this.pollSelection():Zi(this.cm,function(){return f.cm.curOp.selectionChanged=!0});function v(){f.cm.state.focused&&(f.pollSelection(),f.polling.set(f.cm.options.pollInterval,v))}this.polling.set(this.cm.options.pollInterval,v)},Eo.prototype.selectionChanged=function(){var f=this.getSelection();return f.anchorNode!=this.lastAnchorNode||f.anchorOffset!=this.lastAnchorOffset||f.focusNode!=this.lastFocusNode||f.focusOffset!=this.lastFocusOffset},Eo.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var f=this.getSelection(),v=this.cm;if(re&&C&&this.cm.display.gutterSpecs.length&&Xh(f.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var A=Pd(v,f.anchorNode,f.anchorOffset),o=Pd(v,f.focusNode,f.focusOffset);A&&o&&Zi(v,function(){yr(v.doc,qa(A,o),Ht),(A.bad||o.bad)&&(v.curOp.selectionChanged=!0)})}}},Eo.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var f=this.cm,v=f.display,A=f.doc.sel.primary(),o=A.from(),u=A.to();if(o.ch==0&&o.line>f.firstLine()&&(o=Pe(o.line-1,Ke(f.doc,o.line-1).length)),u.ch==Ke(f.doc,u.line).text.length&&u.line<f.lastLine()&&(u=Pe(u.line+1,0)),o.line<v.viewFrom||u.line>v.viewTo-1)return!1;var p,b,T;o.line==v.viewFrom||(p=cu(f,o.line))==0?(b=Bt(v.view[0].line),T=v.view[0].node):(b=Bt(v.view[p].line),T=v.view[p-1].node.nextSibling);var M=cu(f,u.line),N,Z;if(M==v.view.length-1?(N=v.viewTo-1,Z=v.lineDiv.lastChild):(N=Bt(v.view[M+1].line)-1,Z=v.view[M+1].node.previousSibling),!T)return!1;for(var Q=f.doc.splitLines(ws(f,T,Z,b,N)),ue=Ot(f.doc,Pe(b,0),Pe(N,Ke(f.doc,N).text.length));Q.length>1&&ue.length>1;)if(At(Q)==At(ue))Q.pop(),ue.pop(),N--;else if(Q[0]==ue[0])Q.shift(),ue.shift(),b++;else break;for(var Ce=0,Re=0,it=Q[0],at=ue[0],wt=Math.min(it.length,at.length);Ce<wt&&it.charCodeAt(Ce)==at.charCodeAt(Ce);)++Ce;for(var zt=At(Q),$t=At(ue),or=Math.min(zt.length-(Q.length==1?Ce:0),$t.length-(ue.length==1?Ce:0));Re<or&&zt.charCodeAt(zt.length-Re-1)==$t.charCodeAt($t.length-Re-1);)++Re;if(Q.length==1&&ue.length==1&&b==o.line)for(;Ce&&Ce>o.ch&&zt.charCodeAt(zt.length-Re-1)==$t.charCodeAt($t.length-Re-1);)Ce--,Re++;Q[Q.length-1]=zt.slice(0,zt.length-Re).replace(/^\u200b+/,""),Q[0]=Q[0].slice(Ce).replace(/\u200b+$/,"");var dr=Pe(b,Ce),ur=Pe(N,ue.length?At(ue).length-Re:0);if(Q.length>1||Q[0]||se(dr,ur))return So(f.doc,Q,dr,ur,"+input"),!0},Eo.prototype.ensurePolled=function(){this.forceCompositionEnd()},Eo.prototype.reset=function(){this.forceCompositionEnd()},Eo.prototype.forceCompositionEnd=function(){!this.composing||(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Eo.prototype.readFromDOMSoon=function(){var f=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(f.readDOMTimeout=null,f.composing)if(f.composing.done)f.composing=null;else return;f.updateFromDOM()},80))},Eo.prototype.updateFromDOM=function(){var f=this;(this.cm.isReadOnly()||!this.pollContent())&&Zi(this.cm,function(){return Jn(f.cm)})},Eo.prototype.setUneditable=function(f){f.contentEditable="false"},Eo.prototype.onKeyPress=function(f){f.charCode==0||this.composing||(f.preventDefault(),this.cm.isReadOnly()||Io(this.cm,pf)(this.cm,String.fromCharCode(f.charCode==null?f.keyCode:f.charCode),0))},Eo.prototype.readOnlyChanged=function(f){this.div.contentEditable=String(f!="nocursor")},Eo.prototype.onContextMenu=function(){},Eo.prototype.resetPosition=function(){},Eo.prototype.needsContentAttribute=!0;function Zh(f,v){var A=bc(f,v.line);if(!A||A.hidden)return null;var o=Ke(f.doc,v.line),u=Ul(A,o,v.line),p=Lr(o,f.doc.direction),b="left";if(p){var T=pt(p,v.ch);b=T%2?"right":"left"}var M=Ou(u.map,v.ch,b);return M.offset=M.collapse=="right"?M.end:M.start,M}function Xh(f){for(var v=f;v;v=v.parentNode)if(/CodeMirror-gutter-wrapper/.test(v.className))return!0;return!1}function en(f,v){return v&&(f.bad=!0),f}function ws(f,v,A,o,u){var p="",b=!1,T=f.doc.lineSeparator(),M=!1;function N(Ce){return function(Re){return Re.id==Ce}}function Z(){b&&(p+=T,M&&(p+=T),b=M=!1)}function Q(Ce){Ce&&(Z(),p+=Ce)}function ue(Ce){if(Ce.nodeType==1){var Re=Ce.getAttribute("cm-text");if(Re){Q(Re);return}var it=Ce.getAttribute("cm-marker"),at;if(it){var wt=f.findMarks(Pe(o,0),Pe(u+1,0),N(+it));wt.length&&(at=wt[0].find(0))&&Q(Ot(f.doc,at.from,at.to).join(T));return}if(Ce.getAttribute("contenteditable")=="false")return;var zt=/^(pre|div|p|li|table|br)$/i.test(Ce.nodeName);if(!/^br$/i.test(Ce.nodeName)&&Ce.textContent.length==0)return;zt&&Z();for(var $t=0;$t<Ce.childNodes.length;$t++)ue(Ce.childNodes[$t]);/^(pre|p)$/i.test(Ce.nodeName)&&(M=!0),zt&&(b=!0)}else Ce.nodeType==3&&Q(Ce.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;ue(v),v!=A;)v=v.nextSibling,M=!1;return p}function Pd(f,v,A){var o;if(v==f.display.lineDiv){if(o=f.display.lineDiv.childNodes[A],!o)return en(f.clipPos(Pe(f.display.viewTo-1)),!0);v=null,A=0}else for(o=v;;o=o.parentNode){if(!o||o==f.display.lineDiv)return null;if(o.parentNode&&o.parentNode==f.display.lineDiv)break}for(var u=0;u<f.display.view.length;u++){var p=f.display.view[u];if(p.node==o)return fc(p,v,A)}}function fc(f,v,A){var o=f.text.firstChild,u=!1;if(!v||!j(o,v))return en(Pe(Bt(f.line),0),!0);if(v==o&&(u=!0,v=o.childNodes[A],A=0,!v)){var p=f.rest?At(f.rest):f.line;return en(Pe(Bt(p),p.text.length),u)}var b=v.nodeType==3?v:null,T=v;for(!b&&v.childNodes.length==1&&v.firstChild.nodeType==3&&(b=v.firstChild,A&&(A=b.nodeValue.length));T.parentNode!=o;)T=T.parentNode;var M=f.measure,N=M.maps;function Z(at,wt,zt){for(var $t=-1;$t<(N?N.length:0);$t++)for(var or=$t<0?M.map:N[$t],dr=0;dr<or.length;dr+=3){var ur=or[dr+2];if(ur==at||ur==wt){var xr=Bt($t<0?f.line:f.rest[$t]),Jr=or[dr]+zt;return(zt<0||ur!=at)&&(Jr=or[dr+(zt?1:0)]),Pe(xr,Jr)}}}var Q=Z(b,T,A);if(Q)return en(Q,u);for(var ue=T.nextSibling,Ce=b?b.nodeValue.length-A:0;ue;ue=ue.nextSibling){if(Q=Z(ue,ue.firstChild,0),Q)return en(Pe(Q.line,Q.ch-Ce),u);Ce+=ue.textContent.length}for(var Re=T.previousSibling,it=A;Re;Re=Re.previousSibling){if(Q=Z(Re,Re.firstChild,-1),Q)return en(Pe(Q.line,Q.ch+it),u);it+=Re.textContent.length}}var Ya=function(f){this.cm=f,this.prevInput="",this.pollingFast=!1,this.polling=new Je,this.hasSelection=!1,this.composing=null};Ya.prototype.init=function(f){var v=this,A=this,o=this.cm;this.createField(f);var u=this.textarea;f.wrapper.insertBefore(this.wrapper,f.wrapper.firstChild),$&&(u.style.width="0px"),zr(u,"input",function(){l&&h>=9&&v.hasSelection&&(v.hasSelection=null),A.poll()}),zr(u,"paste",function(b){Er(o,b)||wl(b,o)||(o.state.pasteIncoming=+new Date,A.fastPoll())});function p(b){if(!Er(o,b)){if(o.somethingSelected())Hu({lineWise:!1,text:o.getSelections()});else if(o.options.lineWiseCopyCut){var T=Tp(o);Hu({lineWise:!0,text:T.text}),b.type=="cut"?o.setSelections(T.ranges,null,Ht):(A.prevInput="",u.value=T.text.join(`
`),_e(u))}else return;b.type=="cut"&&(o.state.cutIncoming=+new Date)}}zr(u,"cut",p),zr(u,"copy",p),zr(f.scroller,"paste",function(b){if(!(ec(f,b)||Er(o,b))){if(!u.dispatchEvent){o.state.pasteIncoming=+new Date,A.focus();return}var T=new Event("paste");T.clipboardData=b.clipboardData,u.dispatchEvent(T)}}),zr(f.lineSpace,"selectstart",function(b){ec(f,b)||Rn(b)}),zr(u,"compositionstart",function(){var b=o.getCursor("from");A.composing&&A.composing.range.clear(),A.composing={start:b,range:o.markText(b,o.getCursor("to"),{className:"CodeMirror-composing"})}}),zr(u,"compositionend",function(){A.composing&&(A.poll(),A.composing.range.clear(),A.composing=null)})},Ya.prototype.createField=function(f){this.wrapper=Ym(),this.textarea=this.wrapper.firstChild},Ya.prototype.screenReaderLabelChanged=function(f){f?this.textarea.setAttribute("aria-label",f):this.textarea.removeAttribute("aria-label")},Ya.prototype.prepareSelection=function(){var f=this.cm,v=f.display,A=f.doc,o=ui(f);if(f.options.moveInputWithCursor){var u=gs(f,A.sel.primary().head,"div"),p=v.wrapper.getBoundingClientRect(),b=v.lineDiv.getBoundingClientRect();o.teTop=Math.max(0,Math.min(v.wrapper.clientHeight-10,u.top+b.top-p.top)),o.teLeft=Math.max(0,Math.min(v.wrapper.clientWidth-10,u.left+b.left-p.left))}return o},Ya.prototype.showSelection=function(f){var v=this.cm,A=v.display;$e(A.cursorDiv,f.cursors),$e(A.selectionDiv,f.selection),f.teTop!=null&&(this.wrapper.style.top=f.teTop+"px",this.wrapper.style.left=f.teLeft+"px")},Ya.prototype.reset=function(f){if(!(this.contextMenuPending||this.composing)){var v=this.cm;if(v.somethingSelected()){this.prevInput="";var A=v.getSelection();this.textarea.value=A,v.state.focused&&_e(this.textarea),l&&h>=9&&(this.hasSelection=A)}else f||(this.prevInput=this.textarea.value="",l&&h>=9&&(this.hasSelection=null))}},Ya.prototype.getField=function(){return this.textarea},Ya.prototype.supportsTouch=function(){return!1},Ya.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!oe||G()!=this.textarea))try{this.textarea.focus()}catch{}},Ya.prototype.blur=function(){this.textarea.blur()},Ya.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ya.prototype.receivedFocus=function(){this.slowPoll()},Ya.prototype.slowPoll=function(){var f=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){f.poll(),f.cm.state.focused&&f.slowPoll()})},Ya.prototype.fastPoll=function(){var f=!1,v=this;v.pollingFast=!0;function A(){var o=v.poll();!o&&!f?(f=!0,v.polling.set(60,A)):(v.pollingFast=!1,v.slowPoll())}v.polling.set(20,A)},Ya.prototype.poll=function(){var f=this,v=this.cm,A=this.textarea,o=this.prevInput;if(this.contextMenuPending||!v.state.focused||Fn(A)&&!o&&!this.composing||v.isReadOnly()||v.options.disableInput||v.state.keySeq)return!1;var u=A.value;if(u==o&&!v.somethingSelected())return!1;if(l&&h>=9&&this.hasSelection===u||ne&&/[\uf700-\uf7ff]/.test(u))return v.display.input.reset(),!1;if(v.doc.sel==v.display.selForContextMenu){var p=u.charCodeAt(0);if(p==8203&&!o&&(o="\u200B"),p==8666)return this.reset(),this.cm.execCommand("undo")}for(var b=0,T=Math.min(o.length,u.length);b<T&&o.charCodeAt(b)==u.charCodeAt(b);)++b;return Zi(v,function(){pf(v,u.slice(b),o.length-b,null,f.composing?"*compose":null),u.length>1e3||u.indexOf(`
`)>-1?A.value=f.prevInput="":f.prevInput=u,f.composing&&(f.composing.range.clear(),f.composing.range=v.markText(f.composing.start,v.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Ya.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ya.prototype.onKeyPress=function(){l&&h>=9&&(this.hasSelection=null),this.fastPoll()},Ya.prototype.onContextMenu=function(f){var v=this,A=v.cm,o=A.display,u=v.textarea;v.contextMenuPending&&v.contextMenuPending();var p=Wl(A,f),b=o.scroller.scrollTop;if(!p||D)return;var T=A.options.resetSelectionOnContextMenu;T&&A.doc.sel.contains(p)==-1&&Io(A,yr)(A.doc,qa(p),Ht);var M=u.style.cssText,N=v.wrapper.style.cssText,Z=v.wrapper.offsetParent.getBoundingClientRect();v.wrapper.style.cssText="position: static",u.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(f.clientY-Z.top-5)+"px; left: "+(f.clientX-Z.left-5)+`px;
      z-index: 1000; background: `+(l?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Q;g&&(Q=window.scrollY),o.input.focus(),g&&window.scrollTo(null,Q),o.input.reset(),A.somethingSelected()||(u.value=v.prevInput=" "),v.contextMenuPending=Ce,o.selForContextMenu=A.doc.sel,clearTimeout(o.detectingSelectAll);function ue(){if(u.selectionStart!=null){var it=A.somethingSelected(),at="\u200B"+(it?u.value:"");u.value="\u21DA",u.value=at,v.prevInput=it?"":"\u200B",u.selectionStart=1,u.selectionEnd=at.length,o.selForContextMenu=A.doc.sel}}function Ce(){if(v.contextMenuPending==Ce&&(v.contextMenuPending=!1,v.wrapper.style.cssText=N,u.style.cssText=M,l&&h<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=b),u.selectionStart!=null)){(!l||l&&h<9)&&ue();var it=0,at=function(){o.selForContextMenu==A.doc.sel&&u.selectionStart==0&&u.selectionEnd>0&&v.prevInput=="\u200B"?Io(A,Mn)(A):it++<10?o.detectingSelectAll=setTimeout(at,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(at,200)}}if(l&&h>=9&&ue(),me){gi(f);var Re=function(){Dt(window,"mouseup",Re),setTimeout(Ce,20)};zr(window,"mouseup",Re)}else setTimeout(Ce,50)},Ya.prototype.readOnlyChanged=function(f){f||this.reset(),this.textarea.disabled=f=="nocursor",this.textarea.readOnly=!!f},Ya.prototype.setUneditable=function(){},Ya.prototype.needsContentAttribute=!1;function Rd(f,v){if(v=v?U(v):{},v.value=f.value,!v.tabindex&&f.tabIndex&&(v.tabindex=f.tabIndex),!v.placeholder&&f.placeholder&&(v.placeholder=f.placeholder),v.autofocus==null){var A=G();v.autofocus=A==f||f.getAttribute("autofocus")!=null&&A==document.body}function o(){f.value=T.getValue()}var u;if(f.form&&(zr(f.form,"submit",o),!v.leaveSubmitMethodAlone)){var p=f.form;u=p.submit;try{var b=p.submit=function(){o(),p.submit=u,p.submit(),p.submit=b}}catch{}}v.finishInit=function(M){M.save=o,M.getTextArea=function(){return f},M.toTextArea=function(){M.toTextArea=isNaN,o(),f.parentNode.removeChild(M.getWrapperElement()),f.style.display="",f.form&&(Dt(f.form,"submit",o),!v.leaveSubmitMethodAlone&&typeof f.form.submit=="function"&&(f.form.submit=u))}},f.style.display="none";var T=$o(function(M){return f.parentNode.insertBefore(M,f.nextSibling)},v);return T}function Zm(f){f.off=Dt,f.on=zr,f.wheelEventPixels=jc,f.Doc=ji,f.splitLines=Nr,f.countColumn=Ue,f.findColumn=cr,f.isWordChar=Wt,f.Pass=Tt,f.signal=Et,f.Line=po,f.changeEnd=oi,f.scrollbarModel=Va,f.Pos=Pe,f.cmpPos=se,f.modes=vi,f.mimeModes=Ri,f.resolveMode=ke,f.getMode=Ie,f.modeExtensions=Fe,f.extendMode=Ye,f.copyState=ot,f.startState=mt,f.innerMode=yt,f.commands=Xl,f.keyMap=bu,f.keyName=ih,f.isModifierKey=gp,f.lookupKey=bl,f.normalizeKeyMap=Ms,f.StringStream=qe,f.SharedTextMarker=Yl,f.TextMarker=vu,f.LineWidget=Qs,f.e_preventDefault=Rn,f.e_stopPropagation=mi,f.e_stop=gi,f.addClass=V,f.contains=j,f.rmClass=Se,f.keyNames=Bu}ju($o),Wu($o);var Hi="iter insert remove copy getEditor constructor".split(" ");for(var lm in ji.prototype)ji.prototype.hasOwnProperty(lm)&&Qe(Hi,lm)<0&&($o.prototype[lm]=function(f){return function(){return f.apply(this.doc,arguments)}}(ji.prototype[lm]));return yn(ji),$o.inputStyles={textarea:Ya,contenteditable:Eo},$o.defineMode=function(f){!$o.defaults.mode&&f!="null"&&($o.defaults.mode=f),La.apply(this,arguments)},$o.defineMIME=li,$o.defineMode("null",function(){return{token:function(f){return f.skipToEnd()}}}),$o.defineMIME("text/plain","null"),$o.defineExtension=function(f,v){$o.prototype[f]=v},$o.defineDocExtension=function(f,v){ji.prototype[f]=v},$o.fromTextArea=Rd,Zm($o),$o.version="5.59.1",$o})});var X_=de((Cge,Age)=>{(function(r){typeof Cge=="object"&&typeof Age=="object"?r(Gs()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("css",function(we,Se){var be=Se.inline;Se.propertyKeywords||(Se=r.resolveMode("text/css"));var $e=we.indentUnit,q=Se.tokenHooks,ee=Se.documentTypes||{},R=Se.mediaTypes||{},j=Se.mediaFeatures||{},G=Se.mediaValueKeywords||{},V=Se.propertyKeywords||{},te=Se.nonStandardPropertyKeywords||{},_e=Se.fontProperties||{},K=Se.counterDescriptors||{},U=Se.colorKeywords||{},Ue=Se.valueKeywords||{},Je=Se.allowNested,Qe=Se.lineComment,Ct=Se.supportsAtComponent===!0,Tt=we.highlightNonStandardPropertyKeywords!==!1,Ht,Rt;function Yt(ft,qt){return Ht=qt,ft}function cr(ft,qt){var Nt=ft.next();if(q[Nt]){var vr=q[Nt](ft,qt);if(vr!==!1)return vr}if(Nt=="@")return ft.eatWhile(/[\w\\\-]/),Yt("def",ft.current());if(Nt=="="||(Nt=="~"||Nt=="|")&&ft.eat("="))return Yt(null,"compare");if(Nt=='"'||Nt=="'")return qt.tokenize=Tr(Nt),qt.tokenize(ft,qt);if(Nt=="#")return ft.eatWhile(/[\w\\\-]/),Yt("atom","hash");if(Nt=="!")return ft.match(/^\s*\w*/),Yt("keyword","important");if(/\d/.test(Nt)||Nt=="."&&ft.eat(/\d/))return ft.eatWhile(/[\w.%]/),Yt("number","unit");if(Nt==="-"){if(/[\d.]/.test(ft.peek()))return ft.eatWhile(/[\w.%]/),Yt("number","unit");if(ft.match(/^-[\w\\\-]*/))return ft.eatWhile(/[\w\\\-]/),ft.match(/^\s*:/,!1)?Yt("variable-2","variable-definition"):Yt("variable-2","variable");if(ft.match(/^\w+-/))return Yt("meta","meta")}else return/[,+>*\/]/.test(Nt)?Yt(null,"select-op"):Nt=="."&&ft.match(/^-?[_a-z][_a-z0-9-]*/i)?Yt("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(Nt)?Yt(null,Nt):ft.match(/[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/.test(ft.current().toLowerCase())&&(qt.tokenize=ir),Yt("variable callee","variable")):/[\w\\\-]/.test(Nt)?(ft.eatWhile(/[\w\\\-]/),Yt("property","word")):Yt(null,null)}function Tr(ft){return function(qt,Nt){for(var vr=!1,_r;(_r=qt.next())!=null;){if(_r==ft&&!vr){ft==")"&&qt.backUp(1);break}vr=!vr&&_r=="\\"}return(_r==ft||!vr&&ft!=")")&&(Nt.tokenize=null),Yt("string","string")}}function ir(ft,qt){return ft.next(),ft.match(/\s*[\"\')]/,!1)?qt.tokenize=null:qt.tokenize=Tr(")"),Yt(null,"(")}function At(ft,qt,Nt){this.type=ft,this.indent=qt,this.prev=Nt}function kt(ft,qt,Nt,vr){return ft.context=new At(Nt,qt.indentation()+(vr===!1?0:$e),ft.context),Nt}function rt(ft){return ft.context.prev&&(ft.context=ft.context.prev),ft.context.type}function ce(ft,qt,Nt){return Wt[Nt.context.type](ft,qt,Nt)}function Te(ft,qt,Nt,vr){for(var _r=vr||1;_r>0;_r--)Nt.context=Nt.context.prev;return ce(ft,qt,Nt)}function Ne(ft){var qt=ft.current().toLowerCase();Ue.hasOwnProperty(qt)?Rt="atom":U.hasOwnProperty(qt)?Rt="keyword":Rt="variable"}var Wt={};return Wt.top=function(ft,qt,Nt){if(ft=="{")return kt(Nt,qt,"block");if(ft=="}"&&Nt.context.prev)return rt(Nt);if(Ct&&/@component/i.test(ft))return kt(Nt,qt,"atComponentBlock");if(/^@(-moz-)?document$/i.test(ft))return kt(Nt,qt,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(ft))return kt(Nt,qt,"atBlock");if(/^@(font-face|counter-style)/i.test(ft))return Nt.stateArg=ft,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(ft))return"keyframes";if(ft&&ft.charAt(0)=="@")return kt(Nt,qt,"at");if(ft=="hash")Rt="builtin";else if(ft=="word")Rt="tag";else{if(ft=="variable-definition")return"maybeprop";if(ft=="interpolation")return kt(Nt,qt,"interpolation");if(ft==":")return"pseudo";if(Je&&ft=="(")return kt(Nt,qt,"parens")}return Nt.context.type},Wt.block=function(ft,qt,Nt){if(ft=="word"){var vr=qt.current().toLowerCase();return V.hasOwnProperty(vr)?(Rt="property","maybeprop"):te.hasOwnProperty(vr)?(Rt=Tt?"string-2":"property","maybeprop"):Je?(Rt=qt.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Rt+=" error","maybeprop")}else return ft=="meta"?"block":!Je&&(ft=="hash"||ft=="qualifier")?(Rt="error","block"):Wt.top(ft,qt,Nt)},Wt.maybeprop=function(ft,qt,Nt){return ft==":"?kt(Nt,qt,"prop"):ce(ft,qt,Nt)},Wt.prop=function(ft,qt,Nt){if(ft==";")return rt(Nt);if(ft=="{"&&Je)return kt(Nt,qt,"propBlock");if(ft=="}"||ft=="{")return Te(ft,qt,Nt);if(ft=="(")return kt(Nt,qt,"parens");if(ft=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(qt.current()))Rt+=" error";else if(ft=="word")Ne(qt);else if(ft=="interpolation")return kt(Nt,qt,"interpolation");return"prop"},Wt.propBlock=function(ft,qt,Nt){return ft=="}"?rt(Nt):ft=="word"?(Rt="property","maybeprop"):Nt.context.type},Wt.parens=function(ft,qt,Nt){return ft=="{"||ft=="}"?Te(ft,qt,Nt):ft==")"?rt(Nt):ft=="("?kt(Nt,qt,"parens"):ft=="interpolation"?kt(Nt,qt,"interpolation"):(ft=="word"&&Ne(qt),"parens")},Wt.pseudo=function(ft,qt,Nt){return ft=="meta"?"pseudo":ft=="word"?(Rt="variable-3",Nt.context.type):ce(ft,qt,Nt)},Wt.documentTypes=function(ft,qt,Nt){return ft=="word"&&ee.hasOwnProperty(qt.current())?(Rt="tag",Nt.context.type):Wt.atBlock(ft,qt,Nt)},Wt.atBlock=function(ft,qt,Nt){if(ft=="(")return kt(Nt,qt,"atBlock_parens");if(ft=="}"||ft==";")return Te(ft,qt,Nt);if(ft=="{")return rt(Nt)&&kt(Nt,qt,Je?"block":"top");if(ft=="interpolation")return kt(Nt,qt,"interpolation");if(ft=="word"){var vr=qt.current().toLowerCase();vr=="only"||vr=="not"||vr=="and"||vr=="or"?Rt="keyword":R.hasOwnProperty(vr)?Rt="attribute":j.hasOwnProperty(vr)?Rt="property":G.hasOwnProperty(vr)?Rt="keyword":V.hasOwnProperty(vr)?Rt="property":te.hasOwnProperty(vr)?Rt=Tt?"string-2":"property":Ue.hasOwnProperty(vr)?Rt="atom":U.hasOwnProperty(vr)?Rt="keyword":Rt="error"}return Nt.context.type},Wt.atComponentBlock=function(ft,qt,Nt){return ft=="}"?Te(ft,qt,Nt):ft=="{"?rt(Nt)&&kt(Nt,qt,Je?"block":"top",!1):(ft=="word"&&(Rt="error"),Nt.context.type)},Wt.atBlock_parens=function(ft,qt,Nt){return ft==")"?rt(Nt):ft=="{"||ft=="}"?Te(ft,qt,Nt,2):Wt.atBlock(ft,qt,Nt)},Wt.restricted_atBlock_before=function(ft,qt,Nt){return ft=="{"?kt(Nt,qt,"restricted_atBlock"):ft=="word"&&Nt.stateArg=="@counter-style"?(Rt="variable","restricted_atBlock_before"):ce(ft,qt,Nt)},Wt.restricted_atBlock=function(ft,qt,Nt){return ft=="}"?(Nt.stateArg=null,rt(Nt)):ft=="word"?(Nt.stateArg=="@font-face"&&!_e.hasOwnProperty(qt.current().toLowerCase())||Nt.stateArg=="@counter-style"&&!K.hasOwnProperty(qt.current().toLowerCase())?Rt="error":Rt="property","maybeprop"):"restricted_atBlock"},Wt.keyframes=function(ft,qt,Nt){return ft=="word"?(Rt="variable","keyframes"):ft=="{"?kt(Nt,qt,"top"):ce(ft,qt,Nt)},Wt.at=function(ft,qt,Nt){return ft==";"?rt(Nt):ft=="{"||ft=="}"?Te(ft,qt,Nt):(ft=="word"?Rt="tag":ft=="hash"&&(Rt="builtin"),"at")},Wt.interpolation=function(ft,qt,Nt){return ft=="}"?rt(Nt):ft=="{"||ft==";"?Te(ft,qt,Nt):(ft=="word"?Rt="variable":ft!="variable"&&ft!="("&&ft!=")"&&(Rt="error"),"interpolation")},{startState:function(ft){return{tokenize:null,state:be?"block":"top",stateArg:null,context:new At(be?"block":"top",ft||0,null)}},token:function(ft,qt){if(!qt.tokenize&&ft.eatSpace())return null;var Nt=(qt.tokenize||cr)(ft,qt);return Nt&&typeof Nt=="object"&&(Ht=Nt[1],Nt=Nt[0]),Rt=Nt,Ht!="comment"&&(qt.state=Wt[qt.state](Ht,ft,qt)),Rt},indent:function(ft,qt){var Nt=ft.context,vr=qt&&qt.charAt(0),_r=Nt.indent;return Nt.type=="prop"&&(vr=="}"||vr==")")&&(Nt=Nt.prev),Nt.prev&&(vr=="}"&&(Nt.type=="block"||Nt.type=="top"||Nt.type=="interpolation"||Nt.type=="restricted_atBlock")?(Nt=Nt.prev,_r=Nt.indent):(vr==")"&&(Nt.type=="parens"||Nt.type=="atBlock_parens")||vr=="{"&&(Nt.type=="at"||Nt.type=="atBlock"))&&(_r=Math.max(0,Nt.indent-$e))),_r},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:Qe,fold:"brace"}});function e(we){for(var Se={},be=0;be<we.length;++be)Se[we[be].toLowerCase()]=!0;return Se}var t=["domain","regexp","url","url-prefix"],n=e(t),i=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],a=e(i),l=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],h=e(l),g=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],w=e(g),C=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],D=e(C),F=["border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],z=e(F),Y=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],$=e(Y),re=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],oe=e(re),ne=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],he=e(ne),_=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],ge=e(_),fe=t.concat(i).concat(l).concat(g).concat(C).concat(F).concat(ne).concat(_);r.registerHelper("hintWords","css",fe);function me(we,Se){for(var be=!1,$e;($e=we.next())!=null;){if(be&&$e=="/"){Se.tokenize=null;break}be=$e=="*"}return["comment","comment"]}r.defineMIME("text/css",{documentTypes:n,mediaTypes:a,mediaFeatures:h,mediaValueKeywords:w,propertyKeywords:D,nonStandardPropertyKeywords:z,fontProperties:$,counterDescriptors:oe,colorKeywords:he,valueKeywords:ge,tokenHooks:{"/":function(we,Se){return we.eat("*")?(Se.tokenize=me,me(we,Se)):!1}},name:"css"}),r.defineMIME("text/x-scss",{mediaTypes:a,mediaFeatures:h,mediaValueKeywords:w,propertyKeywords:D,nonStandardPropertyKeywords:z,colorKeywords:he,valueKeywords:ge,fontProperties:$,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(we,Se){return we.eat("/")?(we.skipToEnd(),["comment","comment"]):we.eat("*")?(Se.tokenize=me,me(we,Se)):["operator","operator"]},":":function(we){return we.match(/\s*\{/,!1)?[null,null]:!1},$:function(we){return we.match(/^[\w-]+/),we.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(we){return we.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),r.defineMIME("text/x-less",{mediaTypes:a,mediaFeatures:h,mediaValueKeywords:w,propertyKeywords:D,nonStandardPropertyKeywords:z,colorKeywords:he,valueKeywords:ge,fontProperties:$,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(we,Se){return we.eat("/")?(we.skipToEnd(),["comment","comment"]):we.eat("*")?(Se.tokenize=me,me(we,Se)):["operator","operator"]},"@":function(we){return we.eat("{")?[null,"interpolation"]:we.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(we.eatWhile(/[\w\\\-]/),we.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),r.defineMIME("text/x-gss",{documentTypes:n,mediaTypes:a,mediaFeatures:h,propertyKeywords:D,nonStandardPropertyKeywords:z,fontProperties:$,counterDescriptors:oe,colorKeywords:he,valueKeywords:ge,supportsAtComponent:!0,tokenHooks:{"/":function(we,Se){return we.eat("*")?(Se.tokenize=me,me(we,Se)):!1}},name:"css",helperType:"gss"})})});var lU=de((Dge,Oge)=>{(function(r){typeof Dge=="object"&&typeof Oge=="object"?r(Gs()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineSimpleMode=function(C,D){r.defineMode(C,function(F){return r.simpleMode(F,D)})},r.simpleMode=function(C,D){e(D,"start");var F={},z=D.meta||{},Y=!1;for(var $ in D)if($!=z&&D.hasOwnProperty($))for(var re=F[$]=[],oe=D[$],ne=0;ne<oe.length;ne++){var he=oe[ne];re.push(new i(he,D)),(he.indent||he.dedent)&&(Y=!0)}var _={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:Y?[]:null}},copyState:function(fe){var me={state:fe.state,pending:fe.pending,local:fe.local,localState:null,indent:fe.indent&&fe.indent.slice(0)};fe.localState&&(me.localState=r.copyState(fe.local.mode,fe.localState)),fe.stack&&(me.stack=fe.stack.slice(0));for(var we=fe.persistentStates;we;we=we.next)me.persistentStates={mode:we.mode,spec:we.spec,state:we.state==fe.localState?me.localState:r.copyState(we.mode,we.state),next:me.persistentStates};return me},token:a(F,C),innerMode:function(fe){return fe.local&&{mode:fe.local.mode,state:fe.localState}},indent:w(F,z)};if(z)for(var ge in z)z.hasOwnProperty(ge)&&(_[ge]=z[ge]);return _};function e(C,D){if(!C.hasOwnProperty(D))throw new Error("Undefined state "+D+" in simple mode")}function t(C,D){if(!C)return/(?:)/;var F="";return C instanceof RegExp?(C.ignoreCase&&(F="i"),C=C.source):C=String(C),new RegExp((D===!1?"":"^")+"(?:"+C+")",F)}function n(C){if(!C)return null;if(C.apply)return C;if(typeof C=="string")return C.replace(/\./g," ");for(var D=[],F=0;F<C.length;F++)D.push(C[F]&&C[F].replace(/\./g," "));return D}function i(C,D){(C.next||C.push)&&e(D,C.next||C.push),this.regex=t(C.regex),this.token=n(C.token),this.data=C}function a(C,D){return function(F,z){if(z.pending){var Y=z.pending.shift();return z.pending.length==0&&(z.pending=null),F.pos+=Y.text.length,Y.token}if(z.local)if(z.local.end&&F.match(z.local.end)){var $=z.local.endToken||null;return z.local=z.localState=null,$}else{var $=z.local.mode.token(F,z.localState),re;return z.local.endScan&&(re=z.local.endScan.exec(F.current()))&&(F.pos=F.start+re.index),$}for(var oe=C[z.state],ne=0;ne<oe.length;ne++){var he=oe[ne],_=(!he.data.sol||F.sol())&&F.match(he.regex);if(_){he.data.next?z.state=he.data.next:he.data.push?((z.stack||(z.stack=[])).push(z.state),z.state=he.data.push):he.data.pop&&z.stack&&z.stack.length&&(z.state=z.stack.pop()),he.data.mode&&h(D,z,he.data.mode,he.token),he.data.indent&&z.indent.push(F.indentation()+D.indentUnit),he.data.dedent&&z.indent.pop();var ge=he.token;if(ge&&ge.apply&&(ge=ge(_)),_.length>2&&he.token&&typeof he.token!="string"){z.pending=[];for(var fe=2;fe<_.length;fe++)_[fe]&&z.pending.push({text:_[fe],token:he.token[fe-1]});return F.backUp(_[0].length-(_[1]?_[1].length:0)),ge[0]}else return ge&&ge.join?ge[0]:ge}}return F.next(),null}}function l(C,D){if(C===D)return!0;if(!C||typeof C!="object"||!D||typeof D!="object")return!1;var F=0;for(var z in C)if(C.hasOwnProperty(z)){if(!D.hasOwnProperty(z)||!l(C[z],D[z]))return!1;F++}for(var z in D)D.hasOwnProperty(z)&&F--;return F==0}function h(C,D,F,z){var Y;if(F.persistent)for(var $=D.persistentStates;$&&!Y;$=$.next)(F.spec?l(F.spec,$.spec):F.mode==$.mode)&&(Y=$);var re=Y?Y.mode:F.mode||r.getMode(C,F.spec),oe=Y?Y.state:r.startState(re);F.persistent&&!Y&&(D.persistentStates={mode:re,spec:F.spec,state:oe,next:D.persistentStates}),D.localState=oe,D.local={mode:re,end:F.end&&t(F.end),endScan:F.end&&F.forceEnd!==!1&&t(F.end,!1),endToken:z&&z.join?z[z.length-1]:z}}function g(C,D){for(var F=0;F<D.length;F++)if(D[F]===C)return!0}function w(C,D){return function(F,z,Y){if(F.local&&F.local.mode.indent)return F.local.mode.indent(F.localState,z,Y);if(F.indent==null||F.local||D.dontIndentStates&&g(F.state,D.dontIndentStates)>-1)return r.Pass;var $=F.indent.length-1,re=C[F.state];e:for(;;){for(var oe=0;oe<re.length;oe++){var ne=re[oe];if(ne.data.dedent&&ne.data.dedentIfLineStart!==!1){var he=ne.regex.exec(z);if(he&&he[0]){$--,(ne.next||ne.push)&&(re=C[ne.next||ne.push]),z=z.slice(he[0].length);continue e}}}break}return $<0?0:F.indent[$]}}})});var Lge=de((Ige,Mge)=>{(function(r){typeof Ige=="object"&&typeof Mge=="object"?r(Gs(),lU()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple"],r):r(CodeMirror)})(function(r){"use strict";var e="from",t=new RegExp("^(\\s*)\\b("+e+")\\b","i"),n=["run","cmd","entrypoint","shell"],i=new RegExp("^(\\s*)("+n.join("|")+")(\\s+\\[)","i"),a="expose",l=new RegExp("^(\\s*)("+a+")(\\s+)","i"),h=["arg","from","maintainer","label","env","add","copy","volume","user","workdir","onbuild","stopsignal","healthcheck","shell"],g=[e,a].concat(n).concat(h),w="("+g.join("|")+")",C=new RegExp("^(\\s*)"+w+"(\\s*)(#.*)?$","i"),D=new RegExp("^(\\s*)"+w+"(\\s+)","i");r.defineSimpleMode("dockerfile",{start:[{regex:/^\s*#.*$/,sol:!0,token:"comment"},{regex:t,token:[null,"keyword"],sol:!0,next:"from"},{regex:C,token:[null,"keyword",null,"error"],sol:!0},{regex:i,token:[null,"keyword",null],sol:!0,next:"array"},{regex:l,token:[null,"keyword",null],sol:!0,next:"expose"},{regex:D,token:[null,"keyword",null],sol:!0,next:"arguments"},{regex:/./,token:null}],from:[{regex:/\s*$/,token:null,next:"start"},{regex:/(\s*)(#.*)$/,token:[null,"error"],next:"start"},{regex:/(\s*\S+\s+)(as)/i,token:[null,"keyword"],next:"start"},{token:null,next:"start"}],single:[{regex:/(?:[^\\']|\\.)/,token:"string"},{regex:/'/,token:"string",pop:!0}],double:[{regex:/(?:[^\\"]|\\.)/,token:"string"},{regex:/"/,token:"string",pop:!0}],array:[{regex:/\]/,token:null,next:"start"},{regex:/"(?:[^\\"]|\\.)*"?/,token:"string"}],expose:[{regex:/\d+$/,token:"number",next:"start"},{regex:/[^\d]+$/,token:null,next:"start"},{regex:/\d+/,token:"number"},{regex:/[^\d]+/,token:null},{token:null,next:"start"}],arguments:[{regex:/^\s*#.*$/,sol:!0,token:"comment"},{regex:/"(?:[^\\"]|\\.)*"?$/,token:"string",next:"start"},{regex:/"/,token:"string",push:"double"},{regex:/'(?:[^\\']|\\.)*'?$/,token:"string",next:"start"},{regex:/'/,token:"string",push:"single"},{regex:/[^#"']+[\\`]$/,token:null},{regex:/[^#"']+$/,token:null,next:"start"},{regex:/[^#"']+/,token:null},{token:null,next:"start"}],meta:{lineComment:"#"}}),r.defineMIME("text/x-dockerfile","dockerfile")})});var yE=de((Pge,Rge)=>{(function(r){typeof Pge=="object"&&typeof Rge=="object"?r(Gs()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},t={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};r.defineMode("xml",function(n,i){var a=n.indentUnit,l={},h=i.htmlMode?e:t;for(var g in h)l[g]=h[g];for(var g in i)l[g]=i[g];var w,C;function D(q,ee){function R(V){return ee.tokenize=V,V(q,ee)}var j=q.next();if(j=="<")return q.eat("!")?q.eat("[")?q.match("CDATA[")?R(Y("atom","]]>")):null:q.match("--")?R(Y("comment","-->")):q.match("DOCTYPE",!0,!0)?(q.eatWhile(/[\w\._\-]/),R($(1))):null:q.eat("?")?(q.eatWhile(/[\w\._\-]/),ee.tokenize=Y("meta","?>"),"meta"):(w=q.eat("/")?"closeTag":"openTag",ee.tokenize=F,"tag bracket");if(j=="&"){var G;return q.eat("#")?q.eat("x")?G=q.eatWhile(/[a-fA-F\d]/)&&q.eat(";"):G=q.eatWhile(/[\d]/)&&q.eat(";"):G=q.eatWhile(/[\w\.\-:]/)&&q.eat(";"),G?"atom":"error"}else return q.eatWhile(/[^&<]/),null}D.isInText=!0;function F(q,ee){var R=q.next();if(R==">"||R=="/"&&q.eat(">"))return ee.tokenize=D,w=R==">"?"endTag":"selfcloseTag","tag bracket";if(R=="=")return w="equals",null;if(R=="<"){ee.tokenize=D,ee.state=he,ee.tagName=ee.tagStart=null;var j=ee.tokenize(q,ee);return j?j+" tag error":"tag error"}else return/[\'\"]/.test(R)?(ee.tokenize=z(R),ee.stringStartCol=q.column(),ee.tokenize(q,ee)):(q.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function z(q){var ee=function(R,j){for(;!R.eol();)if(R.next()==q){j.tokenize=F;break}return"string"};return ee.isInAttribute=!0,ee}function Y(q,ee){return function(R,j){for(;!R.eol();){if(R.match(ee)){j.tokenize=D;break}R.next()}return q}}function $(q){return function(ee,R){for(var j;(j=ee.next())!=null;){if(j=="<")return R.tokenize=$(q+1),R.tokenize(ee,R);if(j==">")if(q==1){R.tokenize=D;break}else return R.tokenize=$(q-1),R.tokenize(ee,R)}return"meta"}}function re(q,ee,R){this.prev=q.context,this.tagName=ee||"",this.indent=q.indented,this.startOfLine=R,(l.doNotIndent.hasOwnProperty(ee)||q.context&&q.context.noIndent)&&(this.noIndent=!0)}function oe(q){q.context&&(q.context=q.context.prev)}function ne(q,ee){for(var R;;){if(!q.context||(R=q.context.tagName,!l.contextGrabbers.hasOwnProperty(R)||!l.contextGrabbers[R].hasOwnProperty(ee)))return;oe(q)}}function he(q,ee,R){return q=="openTag"?(R.tagStart=ee.column(),_):q=="closeTag"?ge:he}function _(q,ee,R){return q=="word"?(R.tagName=ee.current(),C="tag",we):l.allowMissingTagName&&q=="endTag"?(C="tag bracket",we(q,ee,R)):(C="error",_)}function ge(q,ee,R){if(q=="word"){var j=ee.current();return R.context&&R.context.tagName!=j&&l.implicitlyClosed.hasOwnProperty(R.context.tagName)&&oe(R),R.context&&R.context.tagName==j||l.matchClosing===!1?(C="tag",fe):(C="tag error",me)}else return l.allowMissingTagName&&q=="endTag"?(C="tag bracket",fe(q,ee,R)):(C="error",me)}function fe(q,ee,R){return q!="endTag"?(C="error",fe):(oe(R),he)}function me(q,ee,R){return C="error",fe(q,ee,R)}function we(q,ee,R){if(q=="word")return C="attribute",Se;if(q=="endTag"||q=="selfcloseTag"){var j=R.tagName,G=R.tagStart;return R.tagName=R.tagStart=null,q=="selfcloseTag"||l.autoSelfClosers.hasOwnProperty(j)?ne(R,j):(ne(R,j),R.context=new re(R,j,G==R.indented)),he}return C="error",we}function Se(q,ee,R){return q=="equals"?be:(l.allowMissing||(C="error"),we(q,ee,R))}function be(q,ee,R){return q=="string"?$e:q=="word"&&l.allowUnquoted?(C="string",we):(C="error",we(q,ee,R))}function $e(q,ee,R){return q=="string"?$e:we(q,ee,R)}return{startState:function(q){var ee={tokenize:D,state:he,indented:q||0,tagName:null,tagStart:null,context:null};return q!=null&&(ee.baseIndent=q),ee},token:function(q,ee){if(!ee.tagName&&q.sol()&&(ee.indented=q.indentation()),q.eatSpace())return null;w=null;var R=ee.tokenize(q,ee);return(R||w)&&R!="comment"&&(C=null,ee.state=ee.state(w||R,q,ee),C&&(R=C=="error"?R+" error":C)),R},indent:function(q,ee,R){var j=q.context;if(q.tokenize.isInAttribute)return q.tagStart==q.indented?q.stringStartCol+1:q.indented+a;if(j&&j.noIndent)return r.Pass;if(q.tokenize!=F&&q.tokenize!=D)return R?R.match(/^(\s*)/)[0].length:0;if(q.tagName)return l.multilineTagIndentPastTag!==!1?q.tagStart+q.tagName.length+2:q.tagStart+a*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(ee))return 0;var G=ee&&/^<(\/)?([\w_:\.-]*)/.exec(ee);if(G&&G[1])for(;j;)if(j.tagName==G[2]){j=j.prev;break}else if(l.implicitlyClosed.hasOwnProperty(j.tagName))j=j.prev;else break;else if(G)for(;j;){var V=l.contextGrabbers[j.tagName];if(V&&V.hasOwnProperty(G[2]))j=j.prev;else break}for(;j&&j.prev&&!j.startOfLine;)j=j.prev;return j?j.indent+a:q.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(q){q.state==be&&(q.state=we)},xmlCurrentTag:function(q){return q.tagName?{name:q.tagName,close:q.type=="closeTag"}:null},xmlCurrentContext:function(q){for(var ee=[],R=q.context;R;R=R.prev)ee.push(R.tagName);return ee.reverse()}}}),r.defineMIME("text/xml","xml"),r.defineMIME("application/xml","xml"),r.mimeModes.hasOwnProperty("text/html")||r.defineMIME("text/html",{name:"xml",htmlMode:!0})})});var bE=de((Fge,qge)=>{(function(r){typeof Fge=="object"&&typeof qge=="object"?r(Gs()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("javascript",function(e,t){var n=e.indentUnit,i=t.statementIndent,a=t.jsonld,l=t.json||a,h=t.typescript,g=t.wordCharacters||/[\w$\xa1-\uffff]/,w=function(){function Ae(dt){return{type:dt,style:"keyword"}}var je=Ae("keyword a"),Pe=Ae("keyword b"),se=Ae("keyword c"),ie=Ae("keyword d"),ye=Ae("operator"),Ge={type:"atom",style:"atom"};return{if:Ae("if"),while:je,with:je,else:Pe,do:Pe,try:Pe,finally:Pe,return:ie,break:ie,continue:ie,new:Ae("new"),delete:se,void:se,throw:se,debugger:Ae("debugger"),var:Ae("var"),const:Ae("var"),let:Ae("var"),function:Ae("function"),catch:Ae("catch"),for:Ae("for"),switch:Ae("switch"),case:Ae("case"),default:Ae("default"),in:ye,typeof:ye,instanceof:ye,true:Ge,false:Ge,null:Ge,undefined:Ge,NaN:Ge,Infinity:Ge,this:Ae("this"),class:Ae("class"),super:Ae("atom"),yield:se,export:Ae("export"),import:Ae("import"),extends:se,await:se}}(),C=/[+\-*&%=<>!?|~^@]/,D=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function F(Ae){for(var je=!1,Pe,se=!1;(Pe=Ae.next())!=null;){if(!je){if(Pe=="/"&&!se)return;Pe=="["?se=!0:se&&Pe=="]"&&(se=!1)}je=!je&&Pe=="\\"}}var z,Y;function $(Ae,je,Pe){return z=Ae,Y=Pe,je}function re(Ae,je){var Pe=Ae.next();if(Pe=='"'||Pe=="'")return je.tokenize=oe(Pe),je.tokenize(Ae,je);if(Pe=="."&&Ae.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return $("number","number");if(Pe=="."&&Ae.match(".."))return $("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Pe))return $(Pe);if(Pe=="="&&Ae.eat(">"))return $("=>","operator");if(Pe=="0"&&Ae.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return $("number","number");if(/\d/.test(Pe))return Ae.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),$("number","number");if(Pe=="/")return Ae.eat("*")?(je.tokenize=ne,ne(Ae,je)):Ae.eat("/")?(Ae.skipToEnd(),$("comment","comment")):hr(Ae,je,1)?(F(Ae),Ae.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),$("regexp","string-2")):(Ae.eat("="),$("operator","operator",Ae.current()));if(Pe=="`")return je.tokenize=he,he(Ae,je);if(Pe=="#"&&Ae.peek()=="!")return Ae.skipToEnd(),$("meta","meta");if(Pe=="#"&&Ae.eatWhile(g))return $("variable","property");if(Pe=="<"&&Ae.match("!--")||Pe=="-"&&Ae.match("->")&&!/\S/.test(Ae.string.slice(0,Ae.start)))return Ae.skipToEnd(),$("comment","comment");if(C.test(Pe))return(Pe!=">"||!je.lexical||je.lexical.type!=">")&&(Ae.eat("=")?(Pe=="!"||Pe=="=")&&Ae.eat("="):/[<>*+\-|&?]/.test(Pe)&&(Ae.eat(Pe),Pe==">"&&Ae.eat(Pe))),Pe=="?"&&Ae.eat(".")?$("."):$("operator","operator",Ae.current());if(g.test(Pe)){Ae.eatWhile(g);var se=Ae.current();if(je.lastType!="."){if(w.propertyIsEnumerable(se)){var ie=w[se];return $(ie.type,ie.style,se)}if(se=="async"&&Ae.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return $("async","keyword",se)}return $("variable","variable",se)}}function oe(Ae){return function(je,Pe){var se=!1,ie;if(a&&je.peek()=="@"&&je.match(D))return Pe.tokenize=re,$("jsonld-keyword","meta");for(;(ie=je.next())!=null&&!(ie==Ae&&!se);)se=!se&&ie=="\\";return se||(Pe.tokenize=re),$("string","string")}}function ne(Ae,je){for(var Pe=!1,se;se=Ae.next();){if(se=="/"&&Pe){je.tokenize=re;break}Pe=se=="*"}return $("comment","comment")}function he(Ae,je){for(var Pe=!1,se;(se=Ae.next())!=null;){if(!Pe&&(se=="`"||se=="$"&&Ae.eat("{"))){je.tokenize=re;break}Pe=!Pe&&se=="\\"}return $("quasi","string-2",Ae.current())}var _="([{}])";function ge(Ae,je){je.fatArrowAt&&(je.fatArrowAt=null);var Pe=Ae.string.indexOf("=>",Ae.start);if(!(Pe<0)){if(h){var se=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(Ae.string.slice(Ae.start,Pe));se&&(Pe=se.index)}for(var ie=0,ye=!1,Ge=Pe-1;Ge>=0;--Ge){var dt=Ae.string.charAt(Ge),Gt=_.indexOf(dt);if(Gt>=0&&Gt<3){if(!ie){++Ge;break}if(--ie==0){dt=="("&&(ye=!0);break}}else if(Gt>=3&&Gt<6)++ie;else if(g.test(dt))ye=!0;else if(/["'\/`]/.test(dt))for(;;--Ge){if(Ge==0)return;var tr=Ae.string.charAt(Ge-1);if(tr==dt&&Ae.string.charAt(Ge-2)!="\\"){Ge--;break}}else if(ye&&!ie){++Ge;break}}ye&&!ie&&(je.fatArrowAt=Ge)}}var fe={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function me(Ae,je,Pe,se,ie,ye){this.indented=Ae,this.column=je,this.type=Pe,this.prev=ie,this.info=ye,se!=null&&(this.align=se)}function we(Ae,je){for(var Pe=Ae.localVars;Pe;Pe=Pe.next)if(Pe.name==je)return!0;for(var se=Ae.context;se;se=se.prev)for(var Pe=se.vars;Pe;Pe=Pe.next)if(Pe.name==je)return!0}function Se(Ae,je,Pe,se,ie){var ye=Ae.cc;for(be.state=Ae,be.stream=ie,be.marked=null,be.cc=ye,be.style=je,Ae.lexical.hasOwnProperty("align")||(Ae.lexical.align=!0);;){var Ge=ye.length?ye.pop():l?Rt:Tt;if(Ge(Pe,se)){for(;ye.length&&ye[ye.length-1].lex;)ye.pop()();return be.marked?be.marked:Pe=="variable"&&we(Ae,se)?"variable-2":je}}}var be={state:null,column:null,marked:null,cc:null};function $e(){for(var Ae=arguments.length-1;Ae>=0;Ae--)be.cc.push(arguments[Ae])}function q(){return $e.apply(null,arguments),!0}function ee(Ae,je){for(var Pe=je;Pe;Pe=Pe.next)if(Pe.name==Ae)return!0;return!1}function R(Ae){var je=be.state;if(be.marked="def",je.context){if(je.lexical.info=="var"&&je.context&&je.context.block){var Pe=j(Ae,je.context);if(Pe!=null){je.context=Pe;return}}else if(!ee(Ae,je.localVars)){je.localVars=new te(Ae,je.localVars);return}}t.globalVars&&!ee(Ae,je.globalVars)&&(je.globalVars=new te(Ae,je.globalVars))}function j(Ae,je){if(je)if(je.block){var Pe=j(Ae,je.prev);return Pe?Pe==je.prev?je:new V(Pe,je.vars,!0):null}else return ee(Ae,je.vars)?je:new V(je.prev,new te(Ae,je.vars),!1);else return null}function G(Ae){return Ae=="public"||Ae=="private"||Ae=="protected"||Ae=="abstract"||Ae=="readonly"}function V(Ae,je,Pe){this.prev=Ae,this.vars=je,this.block=Pe}function te(Ae,je){this.name=Ae,this.next=je}var _e=new te("this",new te("arguments",null));function K(){be.state.context=new V(be.state.context,be.state.localVars,!1),be.state.localVars=_e}function U(){be.state.context=new V(be.state.context,be.state.localVars,!0),be.state.localVars=null}function Ue(){be.state.localVars=be.state.context.vars,be.state.context=be.state.context.prev}Ue.lex=!0;function Je(Ae,je){var Pe=function(){var se=be.state,ie=se.indented;if(se.lexical.type=="stat")ie=se.lexical.indented;else for(var ye=se.lexical;ye&&ye.type==")"&&ye.align;ye=ye.prev)ie=ye.indented;se.lexical=new me(ie,be.stream.column(),Ae,null,se.lexical,je)};return Pe.lex=!0,Pe}function Qe(){var Ae=be.state;Ae.lexical.prev&&(Ae.lexical.type==")"&&(Ae.indented=Ae.lexical.indented),Ae.lexical=Ae.lexical.prev)}Qe.lex=!0;function Ct(Ae){function je(Pe){return Pe==Ae?q():Ae==";"||Pe=="}"||Pe==")"||Pe=="]"?$e():q(je)}return je}function Tt(Ae,je){return Ae=="var"?q(Je("vardef",je),gi,Ct(";"),Qe):Ae=="keyword a"?q(Je("form"),cr,Tt,Qe):Ae=="keyword b"?q(Je("form"),Tt,Qe):Ae=="keyword d"?be.stream.match(/^\s*$/,!1)?q():q(Je("stat"),ir,Ct(";"),Qe):Ae=="debugger"?q(Ct(";")):Ae=="{"?q(Je("}"),U,er,Qe,Ue):Ae==";"?q():Ae=="if"?(be.state.lexical.info=="else"&&be.state.cc[be.state.cc.length-1]==Qe&&be.state.cc.pop()(),q(Je("form"),cr,Tt,Qe,qr)):Ae=="function"?q(Fr):Ae=="for"?q(Je("form"),Nn,Tt,Qe):Ae=="class"||h&&je=="interface"?(be.marked="keyword",q(Je("form",Ae=="class"?Ae:je),La,Qe)):Ae=="variable"?h&&je=="declare"?(be.marked="keyword",q(Tt)):h&&(je=="module"||je=="enum"||je=="type")&&be.stream.match(/^\s*\w/,!1)?(be.marked="keyword",je=="enum"?q(lr):je=="type"?q(bn,Ct("operator"),Dt,Ct(";")):q(Je("form"),Xe,Ct("{"),Je("}"),er,Qe,Qe)):h&&je=="namespace"?(be.marked="keyword",q(Je("form"),Rt,Tt,Qe)):h&&je=="abstract"?(be.marked="keyword",q(Tt)):q(Je("stat"),Nt):Ae=="switch"?q(Je("form"),cr,Ct("{"),Je("}","switch"),U,er,Qe,Qe,Ue):Ae=="case"?q(Rt,Ct(":")):Ae=="default"?q(Ct(":")):Ae=="catch"?q(Je("form"),K,Ht,Tt,Qe,Ue):Ae=="export"?q(Je("stat"),Fe,Qe):Ae=="import"?q(Je("stat"),ot,Qe):Ae=="async"?q(Tt):je=="@"?q(Rt,Tt):$e(Je("stat"),Rt,Ct(";"),Qe)}function Ht(Ae){if(Ae=="(")return q(vi,Ct(")"))}function Rt(Ae,je){return Tr(Ae,je,!1)}function Yt(Ae,je){return Tr(Ae,je,!0)}function cr(Ae){return Ae!="("?$e():q(Je(")"),ir,Ct(")"),Qe)}function Tr(Ae,je,Pe){if(be.state.fatArrowAt==be.stream.start){var se=Pe?Ne:Te;if(Ae=="(")return q(K,Je(")"),et(vi,")"),Qe,Ct("=>"),se,Ue);if(Ae=="variable")return $e(K,Xe,Ct("=>"),se,Ue)}var ie=Pe?kt:At;return fe.hasOwnProperty(Ae)?q(ie):Ae=="function"?q(Fr,ie):Ae=="class"||h&&je=="interface"?(be.marked="keyword",q(Je("form"),Ri,Qe)):Ae=="keyword c"||Ae=="async"?q(Pe?Yt:Rt):Ae=="("?q(Je(")"),ir,Ct(")"),Qe,ie):Ae=="operator"||Ae=="spread"?q(Pe?Yt:Rt):Ae=="["?q(Je("]"),Ot,Qe,ie):Ae=="{"?pt(_r,"}",null,ie):Ae=="quasi"?$e(rt,ie):Ae=="new"?q(Wt(Pe)):Ae=="import"?q(Rt):q()}function ir(Ae){return Ae.match(/[;\}\)\],]/)?$e():$e(Rt)}function At(Ae,je){return Ae==","?q(ir):kt(Ae,je,!1)}function kt(Ae,je,Pe){var se=Pe==!1?At:kt,ie=Pe==!1?Rt:Yt;if(Ae=="=>")return q(K,Pe?Ne:Te,Ue);if(Ae=="operator")return/\+\+|--/.test(je)||h&&je=="!"?q(se):h&&je=="<"&&be.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?q(Je(">"),et(Dt,">"),Qe,se):je=="?"?q(Rt,Ct(":"),ie):q(ie);if(Ae=="quasi")return $e(rt,se);if(Ae!=";"){if(Ae=="(")return pt(Yt,")","call",se);if(Ae==".")return q(vr,se);if(Ae=="[")return q(Je("]"),ir,Ct("]"),Qe,se);if(h&&je=="as")return be.marked="keyword",q(Dt,se);if(Ae=="regexp")return be.state.lastType=be.marked="operator",be.stream.backUp(be.stream.pos-be.stream.start-1),q(ie)}}function rt(Ae,je){return Ae!="quasi"?$e():je.slice(je.length-2)!="${"?q(rt):q(Rt,ce)}function ce(Ae){if(Ae=="}")return be.marked="string-2",be.state.tokenize=he,q(rt)}function Te(Ae){return ge(be.stream,be.state),$e(Ae=="{"?Tt:Rt)}function Ne(Ae){return ge(be.stream,be.state),$e(Ae=="{"?Tt:Yt)}function Wt(Ae){return function(je){return je=="."?q(Ae?qt:ft):je=="variable"&&h?q(Rn,Ae?kt:At):$e(Ae?Yt:Rt)}}function ft(Ae,je){if(je=="target")return be.marked="keyword",q(At)}function qt(Ae,je){if(je=="target")return be.marked="keyword",q(kt)}function Nt(Ae){return Ae==":"?q(Qe,Tt):$e(At,Ct(";"),Qe)}function vr(Ae){if(Ae=="variable")return be.marked="property",q()}function _r(Ae,je){if(Ae=="async")return be.marked="property",q(_r);if(Ae=="variable"||be.style=="keyword"){if(be.marked="property",je=="get"||je=="set")return q(Dr);var Pe;return h&&be.state.fatArrowAt==be.stream.start&&(Pe=be.stream.match(/^\s*:\s*/,!1))&&(be.state.fatArrowAt=be.stream.pos+Pe[0].length),q(kr)}else{if(Ae=="number"||Ae=="string")return be.marked=a?"property":be.style+" property",q(kr);if(Ae=="jsonld-keyword")return q(kr);if(h&&G(je))return be.marked="keyword",q(_r);if(Ae=="[")return q(Rt,Lr,Ct("]"),kr);if(Ae=="spread")return q(Yt,kr);if(je=="*")return be.marked="keyword",q(_r);if(Ae==":")return $e(kr)}}function Dr(Ae){return Ae!="variable"?$e(kr):(be.marked="property",q(Fr))}function kr(Ae){if(Ae==":")return q(Yt);if(Ae=="(")return $e(Fr)}function et(Ae,je,Pe){function se(ie,ye){if(Pe?Pe.indexOf(ie)>-1:ie==","){var Ge=be.state.lexical;return Ge.info=="call"&&(Ge.pos=(Ge.pos||0)+1),q(function(dt,Gt){return dt==je||Gt==je?$e():$e(Ae)},se)}return ie==je||ye==je?q():Pe&&Pe.indexOf(";")>-1?$e(Ae):q(Ct(je))}return function(ie,ye){return ie==je||ye==je?q():$e(Ae,se)}}function pt(Ae,je,Pe){for(var se=3;se<arguments.length;se++)be.cc.push(arguments[se]);return q(Je(je,Pe),et(Ae,je),Qe)}function er(Ae){return Ae=="}"?q():$e(Tt,er)}function Lr(Ae,je){if(h){if(Ae==":")return q(Dt);if(je=="?")return q(Lr)}}function ki(Ae,je){if(h&&(Ae==":"||je=="in"))return q(Dt)}function zr(Ae){if(h&&Ae==":")return be.stream.match(/^\s*\w+\s+is\b/,!1)?q(Rt,$n,Dt):q(Dt)}function $n(Ae,je){if(je=="is")return be.marked="keyword",q()}function Dt(Ae,je){if(je=="keyof"||je=="typeof"||je=="infer")return be.marked="keyword",q(je=="typeof"?Yt:Dt);if(Ae=="variable"||je=="void")return be.marked="type",q(yn);if(je=="|"||je=="&")return q(Dt);if(Ae=="string"||Ae=="number"||Ae=="atom")return q(yn);if(Ae=="[")return q(Je("]"),et(Dt,"]",","),Qe,yn);if(Ae=="{")return q(Je("}"),Er,Qe,yn);if(Ae=="(")return q(et(Vr,")"),Et,yn);if(Ae=="<")return q(et(Dt,">"),Dt)}function Et(Ae){if(Ae=="=>")return q(Dt)}function Er(Ae){return Ae=="}"?q():Ae==","||Ae==";"?q(Er):$e(on,Er)}function on(Ae,je){if(Ae=="variable"||be.style=="keyword")return be.marked="property",q(on);if(je=="?"||Ae=="number"||Ae=="string")return q(on);if(Ae==":")return q(Dt);if(Ae=="[")return q(Ct("variable"),ki,Ct("]"),on);if(Ae=="(")return $e(mn,on);if(!Ae.match(/[;\}\)\],]/))return q()}function Vr(Ae,je){return Ae=="variable"&&be.stream.match(/^\s*[?:]/,!1)||je=="?"?q(Vr):Ae==":"?q(Dt):Ae=="spread"?q(Vr):$e(Dt)}function yn(Ae,je){if(je=="<")return q(Je(">"),et(Dt,">"),Qe,yn);if(je=="|"||Ae=="."||je=="&")return q(Dt);if(Ae=="[")return q(Dt,Ct("]"),yn);if(je=="extends"||je=="implements")return be.marked="keyword",q(Dt);if(je=="?")return q(Dt,Ct(":"),Dt)}function Rn(Ae,je){if(je=="<")return q(Je(">"),et(Dt,">"),Qe,yn)}function mi(){return $e(Dt,fo)}function fo(Ae,je){if(je=="=")return q(Dt)}function gi(Ae,je){return je=="enum"?(be.marked="keyword",q(lr)):$e(Xe,Lr,nr,Pr)}function Xe(Ae,je){if(h&&G(je))return be.marked="keyword",q(Xe);if(Ae=="variable")return R(je),q();if(Ae=="spread")return q(Xe);if(Ae=="[")return pt(Mt,"]");if(Ae=="{")return pt(st,"}")}function st(Ae,je){return Ae=="variable"&&!be.stream.match(/^\s*:/,!1)?(R(je),q(nr)):(Ae=="variable"&&(be.marked="property"),Ae=="spread"?q(Xe):Ae=="}"?$e():Ae=="["?q(Rt,Ct("]"),Ct(":"),st):q(Ct(":"),Xe,nr))}function Mt(){return $e(Xe,nr)}function nr(Ae,je){if(je=="=")return q(Yt)}function Pr(Ae){if(Ae==",")return q(gi)}function qr(Ae,je){if(Ae=="keyword b"&&je=="else")return q(Je("form","else"),Tt,Qe)}function Nn(Ae,je){if(je=="await")return q(Nn);if(Ae=="(")return q(Je(")"),Nr,Qe)}function Nr(Ae){return Ae=="var"?q(gi,Fn):Ae=="variable"?q(Fn):$e(Fn)}function Fn(Ae,je){return Ae==")"?q():Ae==";"?q(Fn):je=="in"||je=="of"?(be.marked="keyword",q(Rt,Fn)):$e(Rt,Fn)}function Fr(Ae,je){if(je=="*")return be.marked="keyword",q(Fr);if(Ae=="variable")return R(je),q(Fr);if(Ae=="(")return q(K,Je(")"),et(vi,")"),Qe,zr,Tt,Ue);if(h&&je=="<")return q(Je(">"),et(mi,">"),Qe,Fr)}function mn(Ae,je){if(je=="*")return be.marked="keyword",q(mn);if(Ae=="variable")return R(je),q(mn);if(Ae=="(")return q(K,Je(")"),et(vi,")"),Qe,zr,Ue);if(h&&je=="<")return q(Je(">"),et(mi,">"),Qe,mn)}function bn(Ae,je){if(Ae=="keyword"||Ae=="variable")return be.marked="type",q(bn);if(je=="<")return q(Je(">"),et(mi,">"),Qe)}function vi(Ae,je){return je=="@"&&q(Rt,vi),Ae=="spread"?q(vi):h&&G(je)?(be.marked="keyword",q(vi)):h&&Ae=="this"?q(Lr,nr):$e(Xe,Lr,nr)}function Ri(Ae,je){return Ae=="variable"?La(Ae,je):li(Ae,je)}function La(Ae,je){if(Ae=="variable")return R(je),q(li)}function li(Ae,je){if(je=="<")return q(Je(">"),et(mi,">"),Qe,li);if(je=="extends"||je=="implements"||h&&Ae==",")return je=="implements"&&(be.marked="keyword"),q(h?Dt:Rt,li);if(Ae=="{")return q(Je("}"),ke,Qe)}function ke(Ae,je){if(Ae=="async"||Ae=="variable"&&(je=="static"||je=="get"||je=="set"||h&&G(je))&&be.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return be.marked="keyword",q(ke);if(Ae=="variable"||be.style=="keyword")return be.marked="property",q(Ie,ke);if(Ae=="number"||Ae=="string")return q(Ie,ke);if(Ae=="[")return q(Rt,Lr,Ct("]"),Ie,ke);if(je=="*")return be.marked="keyword",q(ke);if(h&&Ae=="(")return $e(mn,ke);if(Ae==";"||Ae==",")return q(ke);if(Ae=="}")return q();if(je=="@")return q(Rt,ke)}function Ie(Ae,je){if(je=="?")return q(Ie);if(Ae==":")return q(Dt,nr);if(je=="=")return q(Yt);var Pe=be.state.lexical.prev,se=Pe&&Pe.info=="interface";return $e(se?mn:Fr)}function Fe(Ae,je){return je=="*"?(be.marked="keyword",q(Ke,Ct(";"))):je=="default"?(be.marked="keyword",q(Rt,Ct(";"))):Ae=="{"?q(et(Ye,"}"),Ke,Ct(";")):$e(Tt)}function Ye(Ae,je){if(je=="as")return be.marked="keyword",q(Ct("variable"));if(Ae=="variable")return $e(Yt,Ye)}function ot(Ae){return Ae=="string"?q():Ae=="("?$e(Rt):$e(yt,mt,Ke)}function yt(Ae,je){return Ae=="{"?pt(yt,"}"):(Ae=="variable"&&R(je),je=="*"&&(be.marked="keyword"),q(qe))}function mt(Ae){if(Ae==",")return q(yt,mt)}function qe(Ae,je){if(je=="as")return be.marked="keyword",q(yt)}function Ke(Ae,je){if(je=="from")return be.marked="keyword",q(Rt)}function Ot(Ae){return Ae=="]"?q():$e(et(Yt,"]"))}function lr(){return $e(Je("form"),Xe,Ct("{"),Je("}"),et(jt,"}"),Qe,Qe)}function jt(){return $e(Xe,nr)}function Bt(Ae,je){return Ae.lastType=="operator"||Ae.lastType==","||C.test(je.charAt(0))||/[,.]/.test(je.charAt(0))}function hr(Ae,je,Pe){return je.tokenize==re&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(je.lastType)||je.lastType=="quasi"&&/\{\s*$/.test(Ae.string.slice(0,Ae.pos-(Pe||0)))}return{startState:function(Ae){var je={tokenize:re,lastType:"sof",cc:[],lexical:new me((Ae||0)-n,0,"block",!1),localVars:t.localVars,context:t.localVars&&new V(null,null,!1),indented:Ae||0};return t.globalVars&&typeof t.globalVars=="object"&&(je.globalVars=t.globalVars),je},token:function(Ae,je){if(Ae.sol()&&(je.lexical.hasOwnProperty("align")||(je.lexical.align=!1),je.indented=Ae.indentation(),ge(Ae,je)),je.tokenize!=ne&&Ae.eatSpace())return null;var Pe=je.tokenize(Ae,je);return z=="comment"?Pe:(je.lastType=z=="operator"&&(Y=="++"||Y=="--")?"incdec":z,Se(je,Pe,z,Y,Ae))},indent:function(Ae,je){if(Ae.tokenize==ne||Ae.tokenize==he)return r.Pass;if(Ae.tokenize!=re)return 0;var Pe=je&&je.charAt(0),se=Ae.lexical,ie;if(!/^\s*else\b/.test(je))for(var ye=Ae.cc.length-1;ye>=0;--ye){var Ge=Ae.cc[ye];if(Ge==Qe)se=se.prev;else if(Ge!=qr)break}for(;(se.type=="stat"||se.type=="form")&&(Pe=="}"||(ie=Ae.cc[Ae.cc.length-1])&&(ie==At||ie==kt)&&!/^[,\.=+\-*:?[\(]/.test(je));)se=se.prev;i&&se.type==")"&&se.prev.type=="stat"&&(se=se.prev);var dt=se.type,Gt=Pe==dt;return dt=="vardef"?se.indented+(Ae.lastType=="operator"||Ae.lastType==","?se.info.length+1:0):dt=="form"&&Pe=="{"?se.indented:dt=="form"?se.indented+n:dt=="stat"?se.indented+(Bt(Ae,je)?i||n:0):se.info=="switch"&&!Gt&&t.doubleIndentSwitch!=!1?se.indented+(/^(?:case|default)\b/.test(je)?n:2*n):se.align?se.column+(Gt?0:1):se.indented+(Gt?0:n)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:a,jsonMode:l,expressionAllowed:hr,skipExpression:function(Ae){var je=Ae.cc[Ae.cc.length-1];(je==Rt||je==Yt)&&Ae.cc.pop()}}}),r.registerHelper("wordChars","javascript",/[\w$]/),r.defineMIME("text/javascript","javascript"),r.defineMIME("text/ecmascript","javascript"),r.defineMIME("application/javascript","javascript"),r.defineMIME("application/x-javascript","javascript"),r.defineMIME("application/ecmascript","javascript"),r.defineMIME("application/json",{name:"javascript",json:!0}),r.defineMIME("application/x-json",{name:"javascript",json:!0}),r.defineMIME("application/manifest+json",{name:"javascript",json:!0}),r.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),r.defineMIME("text/typescript",{name:"javascript",typescript:!0}),r.defineMIME("application/typescript",{name:"javascript",typescript:!0})})});var fM=de((Nge,Bge)=>{(function(r){typeof Nge=="object"&&typeof Bge=="object"?r(Gs(),yE(),bE(),X_()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],r):r(CodeMirror)})(function(r){"use strict";var e={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function t(w,C,D){var F=w.current(),z=F.search(C);return z>-1?w.backUp(F.length-z):F.match(/<\/?$/)&&(w.backUp(F.length),w.match(C,!1)||w.match(F)),D}var n={};function i(w){var C=n[w];return C||(n[w]=new RegExp("\\s+"+w+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function a(w,C){var D=w.match(i(C));return D?/^\s*(.*?)\s*$/.exec(D[2])[1]:""}function l(w,C){return new RegExp((C?"^":"")+"</s*"+w+"s*>","i")}function h(w,C){for(var D in w)for(var F=C[D]||(C[D]=[]),z=w[D],Y=z.length-1;Y>=0;Y--)F.unshift(z[Y])}function g(w,C){for(var D=0;D<w.length;D++){var F=w[D];if(!F[0]||F[1].test(a(C,F[0])))return F[2]}}r.defineMode("htmlmixed",function(w,C){var D=r.getMode(w,{name:"xml",htmlMode:!0,multilineTagIndentFactor:C.multilineTagIndentFactor,multilineTagIndentPastTag:C.multilineTagIndentPastTag,allowMissingTagName:C.allowMissingTagName}),F={},z=C&&C.tags,Y=C&&C.scriptTypes;if(h(e,F),z&&h(z,F),Y)for(var $=Y.length-1;$>=0;$--)F.script.unshift(["type",Y[$].matches,Y[$].mode]);function re(oe,ne){var he=D.token(oe,ne.htmlState),_=/\btag\b/.test(he),ge;if(_&&!/[<>\s\/]/.test(oe.current())&&(ge=ne.htmlState.tagName&&ne.htmlState.tagName.toLowerCase())&&F.hasOwnProperty(ge))ne.inTag=ge+" ";else if(ne.inTag&&_&&/>$/.test(oe.current())){var fe=/^([\S]+) (.*)/.exec(ne.inTag);ne.inTag=null;var me=oe.current()==">"&&g(F[fe[1]],fe[2]),we=r.getMode(w,me),Se=l(fe[1],!0),be=l(fe[1],!1);ne.token=function($e,q){return $e.match(Se,!1)?(q.token=re,q.localState=q.localMode=null,null):t($e,be,q.localMode.token($e,q.localState))},ne.localMode=we,ne.localState=r.startState(we,D.indent(ne.htmlState,"",""))}else ne.inTag&&(ne.inTag+=oe.current(),oe.eol()&&(ne.inTag+=" "));return he}return{startState:function(){var oe=r.startState(D);return{token:re,inTag:null,localMode:null,localState:null,htmlState:oe}},copyState:function(oe){var ne;return oe.localState&&(ne=r.copyState(oe.localMode,oe.localState)),{token:oe.token,inTag:oe.inTag,localMode:oe.localMode,localState:ne,htmlState:r.copyState(D,oe.htmlState)}},token:function(oe,ne){return ne.token(oe,ne)},indent:function(oe,ne,he){return!oe.localMode||/^\s*<\//.test(ne)?D.indent(oe.htmlState,ne,he):oe.localMode.indent?oe.localMode.indent(oe.localState,ne,he):r.Pass},innerMode:function(oe){return{state:oe.localState||oe.htmlState,mode:oe.localMode||D}}}},"xml","javascript","css"),r.defineMIME("text/html","htmlmixed")})});var jge=de((zge,Uge)=>{(function(r){typeof zge=="object"&&typeof Uge=="object"?r(Gs()):typeof define=="function"&&define.amd?define(["../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var e=0;e<r.modeInfo.length;e++){var t=r.modeInfo[e];t.mimes&&(t.mime=t.mimes[0])}r.findModeByMIME=function(n){n=n.toLowerCase();for(var i=0;i<r.modeInfo.length;i++){var a=r.modeInfo[i];if(a.mime==n)return a;if(a.mimes){for(var l=0;l<a.mimes.length;l++)if(a.mimes[l]==n)return a}}if(/\+xml$/.test(n))return r.findModeByMIME("application/xml");if(/\+json$/.test(n))return r.findModeByMIME("application/json")},r.findModeByExtension=function(n){n=n.toLowerCase();for(var i=0;i<r.modeInfo.length;i++){var a=r.modeInfo[i];if(a.ext){for(var l=0;l<a.ext.length;l++)if(a.ext[l]==n)return a}}},r.findModeByFileName=function(n){for(var i=0;i<r.modeInfo.length;i++){var a=r.modeInfo[i];if(a.file&&a.file.test(n))return a}var l=n.lastIndexOf("."),h=l>-1&&n.substring(l+1,n.length);if(h)return r.findModeByExtension(h)},r.findModeByName=function(n){n=n.toLowerCase();for(var i=0;i<r.modeInfo.length;i++){var a=r.modeInfo[i];if(a.name.toLowerCase()==n)return a;if(a.alias){for(var l=0;l<a.alias.length;l++)if(a.alias[l].toLowerCase()==n)return a}}}})});var Vge=de((Hge,Wge)=>{(function(r){typeof Hge=="object"&&typeof Wge=="object"?r(Gs(),yE(),jge()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("markdown",function(e,t){var n=r.getMode(e,"text/html"),i=n.name=="null";function a(K){if(r.findModeByName){var U=r.findModeByName(K);U&&(K=U.mime||U.mimes[0])}var Ue=r.getMode(e,K);return Ue.name=="null"?null:Ue}t.highlightFormatting===void 0&&(t.highlightFormatting=!1),t.maxBlockquoteDepth===void 0&&(t.maxBlockquoteDepth=0),t.taskLists===void 0&&(t.taskLists=!1),t.strikethrough===void 0&&(t.strikethrough=!1),t.emoji===void 0&&(t.emoji=!1),t.fencedCodeBlockHighlighting===void 0&&(t.fencedCodeBlockHighlighting=!0),t.fencedCodeBlockDefaultMode===void 0&&(t.fencedCodeBlockDefaultMode="text/plain"),t.xml===void 0&&(t.xml=!0),t.tokenTypeOverrides===void 0&&(t.tokenTypeOverrides={});var l={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var h in l)l.hasOwnProperty(h)&&t.tokenTypeOverrides[h]&&(l[h]=t.tokenTypeOverrides[h]);var g=/^([*\-_])(?:\s*\1){2,}\s*$/,w=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,C=/^\[(x| )\](?=\s)/i,D=t.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,F=/^ {0,3}(?:\={1,}|-{2,})\s*$/,z=/^[^#!\[\]*_\\<>` "'(~:]+/,Y=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,$=/^\s*\[[^\]]+?\]:.*$/,re=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,oe="    ";function ne(K,U,Ue){return U.f=U.inline=Ue,Ue(K,U)}function he(K,U,Ue){return U.f=U.block=Ue,Ue(K,U)}function _(K){return!K||!/\S/.test(K.string)}function ge(K){if(K.linkTitle=!1,K.linkHref=!1,K.linkText=!1,K.em=!1,K.strong=!1,K.strikethrough=!1,K.quote=0,K.indentedCode=!1,K.f==me){var U=i;if(!U){var Ue=r.innerMode(n,K.htmlState);U=Ue.mode.name=="xml"&&Ue.state.tagStart===null&&!Ue.state.context&&Ue.state.tokenize.isInText}U&&(K.f=$e,K.block=fe,K.htmlState=null)}return K.trailingSpace=0,K.trailingSpaceNewLine=!1,K.prevLine=K.thisLine,K.thisLine={stream:null},null}function fe(K,U){var Ue=K.column()===U.indentation,Je=_(U.prevLine.stream),Qe=U.indentedCode,Ct=U.prevLine.hr,Tt=U.list!==!1,Ht=(U.listStack[U.listStack.length-1]||0)+3;U.indentedCode=!1;var Rt=U.indentation;if(U.indentationDiff===null&&(U.indentationDiff=U.indentation,Tt)){for(U.list=null;Rt<U.listStack[U.listStack.length-1];)U.listStack.pop(),U.listStack.length?U.indentation=U.listStack[U.listStack.length-1]:U.list=!1;U.list!==!1&&(U.indentationDiff=Rt-U.listStack[U.listStack.length-1])}var Yt=!Je&&!Ct&&!U.prevLine.header&&(!Tt||!Qe)&&!U.prevLine.fencedCodeEnd,cr=(U.list===!1||Ct||Je)&&U.indentation<=Ht&&K.match(g),Tr=null;if(U.indentationDiff>=4&&(Qe||U.prevLine.fencedCodeEnd||U.prevLine.header||Je))return K.skipToEnd(),U.indentedCode=!0,l.code;if(K.eatSpace())return null;if(Ue&&U.indentation<=Ht&&(Tr=K.match(D))&&Tr[1].length<=6)return U.quote=0,U.header=Tr[1].length,U.thisLine.header=!0,t.highlightFormatting&&(U.formatting="header"),U.f=U.inline,Se(U);if(U.indentation<=Ht&&K.eat(">"))return U.quote=Ue?1:U.quote+1,t.highlightFormatting&&(U.formatting="quote"),K.eatSpace(),Se(U);if(!cr&&!U.setext&&Ue&&U.indentation<=Ht&&(Tr=K.match(w))){var ir=Tr[1]?"ol":"ul";return U.indentation=Rt+K.current().length,U.list=!0,U.quote=0,U.listStack.push(U.indentation),U.em=!1,U.strong=!1,U.code=!1,U.strikethrough=!1,t.taskLists&&K.match(C,!1)&&(U.taskList=!0),U.f=U.inline,t.highlightFormatting&&(U.formatting=["list","list-"+ir]),Se(U)}else{if(Ue&&U.indentation<=Ht&&(Tr=K.match(Y,!0)))return U.quote=0,U.fencedEndRE=new RegExp(Tr[1]+"+ *$"),U.localMode=t.fencedCodeBlockHighlighting&&a(Tr[2]||t.fencedCodeBlockDefaultMode),U.localMode&&(U.localState=r.startState(U.localMode)),U.f=U.block=we,t.highlightFormatting&&(U.formatting="code-block"),U.code=-1,Se(U);if(U.setext||(!Yt||!Tt)&&!U.quote&&U.list===!1&&!U.code&&!cr&&!$.test(K.string)&&(Tr=K.lookAhead(1))&&(Tr=Tr.match(F)))return U.setext?(U.header=U.setext,U.setext=0,K.skipToEnd(),t.highlightFormatting&&(U.formatting="header")):(U.header=Tr[0].charAt(0)=="="?1:2,U.setext=U.header),U.thisLine.header=!0,U.f=U.inline,Se(U);if(cr)return K.skipToEnd(),U.hr=!0,U.thisLine.hr=!0,l.hr;if(K.peek()==="[")return ne(K,U,G)}return ne(K,U,U.inline)}function me(K,U){var Ue=n.token(K,U.htmlState);if(!i){var Je=r.innerMode(n,U.htmlState);(Je.mode.name=="xml"&&Je.state.tagStart===null&&!Je.state.context&&Je.state.tokenize.isInText||U.md_inside&&K.current().indexOf(">")>-1)&&(U.f=$e,U.block=fe,U.htmlState=null)}return Ue}function we(K,U){var Ue=U.listStack[U.listStack.length-1]||0,Je=U.indentation<Ue,Qe=Ue+3;if(U.fencedEndRE&&U.indentation<=Qe&&(Je||K.match(U.fencedEndRE))){t.highlightFormatting&&(U.formatting="code-block");var Ct;return Je||(Ct=Se(U)),U.localMode=U.localState=null,U.block=fe,U.f=$e,U.fencedEndRE=null,U.code=0,U.thisLine.fencedCodeEnd=!0,Je?he(K,U,U.block):Ct}else return U.localMode?U.localMode.token(K,U.localState):(K.skipToEnd(),l.code)}function Se(K){var U=[];if(K.formatting){U.push(l.formatting),typeof K.formatting=="string"&&(K.formatting=[K.formatting]);for(var Ue=0;Ue<K.formatting.length;Ue++)U.push(l.formatting+"-"+K.formatting[Ue]),K.formatting[Ue]==="header"&&U.push(l.formatting+"-"+K.formatting[Ue]+"-"+K.header),K.formatting[Ue]==="quote"&&(!t.maxBlockquoteDepth||t.maxBlockquoteDepth>=K.quote?U.push(l.formatting+"-"+K.formatting[Ue]+"-"+K.quote):U.push("error"))}if(K.taskOpen)return U.push("meta"),U.length?U.join(" "):null;if(K.taskClosed)return U.push("property"),U.length?U.join(" "):null;if(K.linkHref?U.push(l.linkHref,"url"):(K.strong&&U.push(l.strong),K.em&&U.push(l.em),K.strikethrough&&U.push(l.strikethrough),K.emoji&&U.push(l.emoji),K.linkText&&U.push(l.linkText),K.code&&U.push(l.code),K.image&&U.push(l.image),K.imageAltText&&U.push(l.imageAltText,"link"),K.imageMarker&&U.push(l.imageMarker)),K.header&&U.push(l.header,l.header+"-"+K.header),K.quote&&(U.push(l.quote),!t.maxBlockquoteDepth||t.maxBlockquoteDepth>=K.quote?U.push(l.quote+"-"+K.quote):U.push(l.quote+"-"+t.maxBlockquoteDepth)),K.list!==!1){var Je=(K.listStack.length-1)%3;Je?Je===1?U.push(l.list2):U.push(l.list3):U.push(l.list1)}return K.trailingSpaceNewLine?U.push("trailing-space-new-line"):K.trailingSpace&&U.push("trailing-space-"+(K.trailingSpace%2?"a":"b")),U.length?U.join(" "):null}function be(K,U){if(K.match(z,!0))return Se(U)}function $e(K,U){var Ue=U.text(K,U);if(typeof Ue<"u")return Ue;if(U.list)return U.list=null,Se(U);if(U.taskList){var Je=K.match(C,!0)[1]===" ";return Je?U.taskOpen=!0:U.taskClosed=!0,t.highlightFormatting&&(U.formatting="task"),U.taskList=!1,Se(U)}if(U.taskOpen=!1,U.taskClosed=!1,U.header&&K.match(/^#+$/,!0))return t.highlightFormatting&&(U.formatting="header"),Se(U);var Qe=K.next();if(U.linkTitle){U.linkTitle=!1;var Ct=Qe;Qe==="("&&(Ct=")"),Ct=(Ct+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var Tt="^\\s*(?:[^"+Ct+"\\\\]+|\\\\\\\\|\\\\.)"+Ct;if(K.match(new RegExp(Tt),!0))return l.linkHref}if(Qe==="`"){var Ht=U.formatting;t.highlightFormatting&&(U.formatting="code"),K.eatWhile("`");var Rt=K.current().length;if(U.code==0&&(!U.quote||Rt==1))return U.code=Rt,Se(U);if(Rt==U.code){var Yt=Se(U);return U.code=0,Yt}else return U.formatting=Ht,Se(U)}else if(U.code)return Se(U);if(Qe==="\\"&&(K.next(),t.highlightFormatting)){var cr=Se(U),Tr=l.formatting+"-escape";return cr?cr+" "+Tr:Tr}if(Qe==="!"&&K.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return U.imageMarker=!0,U.image=!0,t.highlightFormatting&&(U.formatting="image"),Se(U);if(Qe==="["&&U.imageMarker&&K.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return U.imageMarker=!1,U.imageAltText=!0,t.highlightFormatting&&(U.formatting="image"),Se(U);if(Qe==="]"&&U.imageAltText){t.highlightFormatting&&(U.formatting="image");var cr=Se(U);return U.imageAltText=!1,U.image=!1,U.inline=U.f=ee,cr}if(Qe==="["&&!U.image)return U.linkText&&K.match(/^.*?\]/)||(U.linkText=!0,t.highlightFormatting&&(U.formatting="link")),Se(U);if(Qe==="]"&&U.linkText){t.highlightFormatting&&(U.formatting="link");var cr=Se(U);return U.linkText=!1,U.inline=U.f=K.match(/\(.*?\)| ?\[.*?\]/,!1)?ee:$e,cr}if(Qe==="<"&&K.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){U.f=U.inline=q,t.highlightFormatting&&(U.formatting="link");var cr=Se(U);return cr?cr+=" ":cr="",cr+l.linkInline}if(Qe==="<"&&K.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){U.f=U.inline=q,t.highlightFormatting&&(U.formatting="link");var cr=Se(U);return cr?cr+=" ":cr="",cr+l.linkEmail}if(t.xml&&Qe==="<"&&K.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var ir=K.string.indexOf(">",K.pos);if(ir!=-1){var At=K.string.substring(K.start,ir);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(At)&&(U.md_inside=!0)}return K.backUp(1),U.htmlState=r.startState(n),he(K,U,me)}if(t.xml&&Qe==="<"&&K.match(/^\/\w*?>/))return U.md_inside=!1,"tag";if(Qe==="*"||Qe==="_"){for(var kt=1,rt=K.pos==1?" ":K.string.charAt(K.pos-2);kt<3&&K.eat(Qe);)kt++;var ce=K.peek()||" ",Te=!/\s/.test(ce)&&(!re.test(ce)||/\s/.test(rt)||re.test(rt)),Ne=!/\s/.test(rt)&&(!re.test(rt)||/\s/.test(ce)||re.test(ce)),Wt=null,ft=null;if(kt%2&&(!U.em&&Te&&(Qe==="*"||!Ne||re.test(rt))?Wt=!0:U.em==Qe&&Ne&&(Qe==="*"||!Te||re.test(ce))&&(Wt=!1)),kt>1&&(!U.strong&&Te&&(Qe==="*"||!Ne||re.test(rt))?ft=!0:U.strong==Qe&&Ne&&(Qe==="*"||!Te||re.test(ce))&&(ft=!1)),ft!=null||Wt!=null){t.highlightFormatting&&(U.formatting=Wt==null?"strong":ft==null?"em":"strong em"),Wt===!0&&(U.em=Qe),ft===!0&&(U.strong=Qe);var Yt=Se(U);return Wt===!1&&(U.em=!1),ft===!1&&(U.strong=!1),Yt}}else if(Qe===" "&&(K.eat("*")||K.eat("_"))){if(K.peek()===" ")return Se(U);K.backUp(1)}if(t.strikethrough){if(Qe==="~"&&K.eatWhile(Qe)){if(U.strikethrough){t.highlightFormatting&&(U.formatting="strikethrough");var Yt=Se(U);return U.strikethrough=!1,Yt}else if(K.match(/^[^\s]/,!1))return U.strikethrough=!0,t.highlightFormatting&&(U.formatting="strikethrough"),Se(U)}else if(Qe===" "&&K.match(/^~~/,!0)){if(K.peek()===" ")return Se(U);K.backUp(2)}}if(t.emoji&&Qe===":"&&K.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){U.emoji=!0,t.highlightFormatting&&(U.formatting="emoji");var qt=Se(U);return U.emoji=!1,qt}return Qe===" "&&(K.match(/^ +$/,!1)?U.trailingSpace++:U.trailingSpace&&(U.trailingSpaceNewLine=!0)),Se(U)}function q(K,U){var Ue=K.next();if(Ue===">"){U.f=U.inline=$e,t.highlightFormatting&&(U.formatting="link");var Je=Se(U);return Je?Je+=" ":Je="",Je+l.linkInline}return K.match(/^[^>]+/,!0),l.linkInline}function ee(K,U){if(K.eatSpace())return null;var Ue=K.next();return Ue==="("||Ue==="["?(U.f=U.inline=j(Ue==="("?")":"]"),t.highlightFormatting&&(U.formatting="link-string"),U.linkHref=!0,Se(U)):"error"}var R={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function j(K){return function(U,Ue){var Je=U.next();if(Je===K){Ue.f=Ue.inline=$e,t.highlightFormatting&&(Ue.formatting="link-string");var Qe=Se(Ue);return Ue.linkHref=!1,Qe}return U.match(R[K]),Ue.linkHref=!0,Se(Ue)}}function G(K,U){return K.match(/^([^\]\\]|\\.)*\]:/,!1)?(U.f=V,K.next(),t.highlightFormatting&&(U.formatting="link"),U.linkText=!0,Se(U)):ne(K,U,$e)}function V(K,U){if(K.match(/^\]:/,!0)){U.f=U.inline=te,t.highlightFormatting&&(U.formatting="link");var Ue=Se(U);return U.linkText=!1,Ue}return K.match(/^([^\]\\]|\\.)+/,!0),l.linkText}function te(K,U){return K.eatSpace()?null:(K.match(/^[^\s]+/,!0),K.peek()===void 0?U.linkTitle=!0:K.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),U.f=U.inline=$e,l.linkHref+" url")}var _e={startState:function(){return{f:fe,prevLine:{stream:null},thisLine:{stream:null},block:fe,htmlState:null,indentation:0,inline:$e,text:be,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(K){return{f:K.f,prevLine:K.prevLine,thisLine:K.thisLine,block:K.block,htmlState:K.htmlState&&r.copyState(n,K.htmlState),indentation:K.indentation,localMode:K.localMode,localState:K.localMode?r.copyState(K.localMode,K.localState):null,inline:K.inline,text:K.text,formatting:!1,linkText:K.linkText,linkTitle:K.linkTitle,linkHref:K.linkHref,code:K.code,em:K.em,strong:K.strong,strikethrough:K.strikethrough,emoji:K.emoji,header:K.header,setext:K.setext,hr:K.hr,taskList:K.taskList,list:K.list,listStack:K.listStack.slice(0),quote:K.quote,indentedCode:K.indentedCode,trailingSpace:K.trailingSpace,trailingSpaceNewLine:K.trailingSpaceNewLine,md_inside:K.md_inside,fencedEndRE:K.fencedEndRE}},token:function(K,U){if(U.formatting=!1,K!=U.thisLine.stream){if(U.header=0,U.hr=!1,K.match(/^\s*$/,!0))return ge(U),null;if(U.prevLine=U.thisLine,U.thisLine={stream:K},U.taskList=!1,U.trailingSpace=0,U.trailingSpaceNewLine=!1,!U.localState&&(U.f=U.block,U.f!=me)){var Ue=K.match(/^\s*/,!0)[0].replace(/\t/g,oe).length;if(U.indentation=Ue,U.indentationDiff=null,Ue>0)return null}}return U.f(K,U)},innerMode:function(K){return K.block==me?{state:K.htmlState,mode:n}:K.localState?{state:K.localState,mode:K.localMode}:{state:K,mode:_e}},indent:function(K,U,Ue){return K.block==me&&n.indent?n.indent(K.htmlState,U,Ue):K.localState&&K.localMode.indent?K.localMode.indent(K.localState,U,Ue):r.Pass},blankLine:ge,getType:Se,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return _e},"xml"),r.defineMIME("text/markdown","markdown"),r.defineMIME("text/x-markdown","markdown")})});var Kge=de(($ge,Gge)=>{(function(r){typeof $ge=="object"&&typeof Gge=="object"?r(Gs()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("nginx",function(e){function t(z){for(var Y={},$=z.split(" "),re=0;re<$.length;++re)Y[$[re]]=!0;return Y}var n=t("break return rewrite set accept_mutex accept_mutex_delay access_log add_after_body add_before_body add_header addition_types aio alias allow ancient_browser ancient_browser_value auth_basic auth_basic_user_file auth_http auth_http_header auth_http_timeout autoindex autoindex_exact_size autoindex_localtime charset charset_types client_body_buffer_size client_body_in_file_only client_body_in_single_buffer client_body_temp_path client_body_timeout client_header_buffer_size client_header_timeout client_max_body_size connection_pool_size create_full_put_path daemon dav_access dav_methods debug_connection debug_points default_type degradation degrade deny devpoll_changes devpoll_events directio directio_alignment empty_gif env epoll_events error_log eventport_events expires fastcgi_bind fastcgi_buffer_size fastcgi_buffers fastcgi_busy_buffers_size fastcgi_cache fastcgi_cache_key fastcgi_cache_methods fastcgi_cache_min_uses fastcgi_cache_path fastcgi_cache_use_stale fastcgi_cache_valid fastcgi_catch_stderr fastcgi_connect_timeout fastcgi_hide_header fastcgi_ignore_client_abort fastcgi_ignore_headers fastcgi_index fastcgi_intercept_errors fastcgi_max_temp_file_size fastcgi_next_upstream fastcgi_param fastcgi_pass_header fastcgi_pass_request_body fastcgi_pass_request_headers fastcgi_read_timeout fastcgi_send_lowat fastcgi_send_timeout fastcgi_split_path_info fastcgi_store fastcgi_store_access fastcgi_temp_file_write_size fastcgi_temp_path fastcgi_upstream_fail_timeout fastcgi_upstream_max_fails flv geoip_city geoip_country google_perftools_profiles gzip gzip_buffers gzip_comp_level gzip_disable gzip_hash gzip_http_version gzip_min_length gzip_no_buffer gzip_proxied gzip_static gzip_types gzip_vary gzip_window if_modified_since ignore_invalid_headers image_filter image_filter_buffer image_filter_jpeg_quality image_filter_transparency imap_auth imap_capabilities imap_client_buffer index ip_hash keepalive_requests keepalive_timeout kqueue_changes kqueue_events large_client_header_buffers limit_conn limit_conn_log_level limit_rate limit_rate_after limit_req limit_req_log_level limit_req_zone limit_zone lingering_time lingering_timeout lock_file log_format log_not_found log_subrequest map_hash_bucket_size map_hash_max_size master_process memcached_bind memcached_buffer_size memcached_connect_timeout memcached_next_upstream memcached_read_timeout memcached_send_timeout memcached_upstream_fail_timeout memcached_upstream_max_fails merge_slashes min_delete_depth modern_browser modern_browser_value msie_padding msie_refresh multi_accept open_file_cache open_file_cache_errors open_file_cache_events open_file_cache_min_uses open_file_cache_valid open_log_file_cache output_buffers override_charset perl perl_modules perl_require perl_set pid pop3_auth pop3_capabilities port_in_redirect postpone_gzipping postpone_output protocol proxy proxy_bind proxy_buffer proxy_buffer_size proxy_buffering proxy_buffers proxy_busy_buffers_size proxy_cache proxy_cache_key proxy_cache_methods proxy_cache_min_uses proxy_cache_path proxy_cache_use_stale proxy_cache_valid proxy_connect_timeout proxy_headers_hash_bucket_size proxy_headers_hash_max_size proxy_hide_header proxy_ignore_client_abort proxy_ignore_headers proxy_intercept_errors proxy_max_temp_file_size proxy_method proxy_next_upstream proxy_pass_error_message proxy_pass_header proxy_pass_request_body proxy_pass_request_headers proxy_read_timeout proxy_redirect proxy_send_lowat proxy_send_timeout proxy_set_body proxy_set_header proxy_ssl_session_reuse proxy_store proxy_store_access proxy_temp_file_write_size proxy_temp_path proxy_timeout proxy_upstream_fail_timeout proxy_upstream_max_fails random_index read_ahead real_ip_header recursive_error_pages request_pool_size reset_timedout_connection resolver resolver_timeout rewrite_log rtsig_overflow_events rtsig_overflow_test rtsig_overflow_threshold rtsig_signo satisfy secure_link_secret send_lowat send_timeout sendfile sendfile_max_chunk server_name_in_redirect server_names_hash_bucket_size server_names_hash_max_size server_tokens set_real_ip_from smtp_auth smtp_capabilities smtp_client_buffer smtp_greeting_delay so_keepalive source_charset ssi ssi_ignore_recycled_buffers ssi_min_file_chunk ssi_silent_errors ssi_types ssi_value_length ssl ssl_certificate ssl_certificate_key ssl_ciphers ssl_client_certificate ssl_crl ssl_dhparam ssl_engine ssl_prefer_server_ciphers ssl_protocols ssl_session_cache ssl_session_timeout ssl_verify_client ssl_verify_depth starttls stub_status sub_filter sub_filter_once sub_filter_types tcp_nodelay tcp_nopush thread_stack_size timeout timer_resolution types_hash_bucket_size types_hash_max_size underscores_in_headers uninitialized_variable_warn use user userid userid_domain userid_expires userid_mark userid_name userid_p3p userid_path userid_service valid_referers variables_hash_bucket_size variables_hash_max_size worker_connections worker_cpu_affinity worker_priority worker_processes worker_rlimit_core worker_rlimit_nofile worker_rlimit_sigpending worker_threads working_directory xclient xml_entities xslt_stylesheet xslt_typesdrew@li229-23"),i=t("http mail events server types location upstream charset_map limit_except if geo map"),a=t("include root server server_name listen internal proxy_pass memcached_pass fastcgi_pass try_files"),l=e.indentUnit,h;function g(z,Y){return h=Y,z}function w(z,Y){z.eatWhile(/[\w\$_]/);var $=z.current();if(n.propertyIsEnumerable($))return"keyword";if(i.propertyIsEnumerable($))return"variable-2";if(a.propertyIsEnumerable($))return"string-2";var re=z.next();if(re=="@")return z.eatWhile(/[\w\\\-]/),g("meta",z.current());if(re=="/"&&z.eat("*"))return Y.tokenize=C,C(z,Y);if(re=="<"&&z.eat("!"))return Y.tokenize=D,D(z,Y);if(re=="=")g(null,"compare");else return(re=="~"||re=="|")&&z.eat("=")?g(null,"compare"):re=='"'||re=="'"?(Y.tokenize=F(re),Y.tokenize(z,Y)):re=="#"?(z.skipToEnd(),g("comment","comment")):re=="!"?(z.match(/^\s*\w*/),g("keyword","important")):/\d/.test(re)?(z.eatWhile(/[\w.%]/),g("number","unit")):/[,.+>*\/]/.test(re)?g(null,"select-op"):/[;{}:\[\]]/.test(re)?g(null,re):(z.eatWhile(/[\w\\\-]/),g("variable","variable"))}function C(z,Y){for(var $=!1,re;(re=z.next())!=null;){if($&&re=="/"){Y.tokenize=w;break}$=re=="*"}return g("comment","comment")}function D(z,Y){for(var $=0,re;(re=z.next())!=null;){if($>=2&&re==">"){Y.tokenize=w;break}$=re=="-"?$+1:0}return g("comment","comment")}function F(z){return function(Y,$){for(var re=!1,oe;(oe=Y.next())!=null&&!(oe==z&&!re);)re=!re&&oe=="\\";return re||($.tokenize=w),g("string","string")}}return{startState:function(z){return{tokenize:w,baseIndent:z||0,stack:[]}},token:function(z,Y){if(z.eatSpace())return null;h=null;var $=Y.tokenize(z,Y),re=Y.stack[Y.stack.length-1];return h=="hash"&&re=="rule"?$="atom":$=="variable"&&(re=="rule"?$="number":(!re||re=="@media{")&&($="tag")),re=="rule"&&/^[\{\};]$/.test(h)&&Y.stack.pop(),h=="{"?re=="@media"?Y.stack[Y.stack.length-1]="@media{":Y.stack.push("{"):h=="}"?Y.stack.pop():h=="@media"?Y.stack.push("@media"):re=="{"&&h!="comment"&&Y.stack.push("rule"),$},indent:function(z,Y){var $=z.stack.length;return/^\}/.test(Y)&&($-=z.stack[z.stack.length-1]=="rule"?2:1),z.baseIndent+$*l},electricChars:"}"}}),r.defineMIME("text/x-nginx-conf","nginx")})});var Xge=de((Yge,Zge)=>{(function(r){typeof Yge=="object"&&typeof Zge=="object"?r(Gs()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";function e(G,V,te,_e,K,U){this.indented=G,this.column=V,this.type=te,this.info=_e,this.align=K,this.prev=U}function t(G,V,te,_e){var K=G.indented;return G.context&&G.context.type=="statement"&&te!="statement"&&(K=G.context.indented),G.context=new e(K,V,te,_e,null,G.context)}function n(G){var V=G.context.type;return(V==")"||V=="]"||V=="}")&&(G.indented=G.context.indented),G.context=G.context.prev}function i(G,V,te){if(V.prevToken=="variable"||V.prevToken=="type"||/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(G.string.slice(0,te))||V.typeAtEndOfLine&&G.column()==G.indentation())return!0}function a(G){for(;;){if(!G||G.type=="top")return!0;if(G.type=="}"&&G.prev.info!="namespace")return!1;G=G.prev}}r.defineMode("clike",function(G,V){var te=G.indentUnit,_e=V.statementIndentUnit||te,K=V.dontAlignCalls,U=V.keywords||{},Ue=V.types||{},Je=V.builtin||{},Qe=V.blockKeywords||{},Ct=V.defKeywords||{},Tt=V.atoms||{},Ht=V.hooks||{},Rt=V.multiLineStrings,Yt=V.indentStatements!==!1,cr=V.indentSwitch!==!1,Tr=V.namespaceSeparator,ir=V.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,At=V.numberStart||/[\d\.]/,kt=V.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,rt=V.isOperatorChar||/[+\-*&%=<>!?|\/]/,ce=V.isIdentifierChar||/[\w\$_\xa1-\uffff]/,Te=V.isReservedIdentifier||!1,Ne,Wt;function ft(_r,Dr){var kr=_r.next();if(Ht[kr]){var et=Ht[kr](_r,Dr);if(et!==!1)return et}if(kr=='"'||kr=="'")return Dr.tokenize=qt(kr),Dr.tokenize(_r,Dr);if(At.test(kr)){if(_r.backUp(1),_r.match(kt))return"number";_r.next()}if(ir.test(kr))return Ne=kr,null;if(kr=="/"){if(_r.eat("*"))return Dr.tokenize=Nt,Nt(_r,Dr);if(_r.eat("/"))return _r.skipToEnd(),"comment"}if(rt.test(kr)){for(;!_r.match(/^\/[\/*]/,!1)&&_r.eat(rt););return"operator"}if(_r.eatWhile(ce),Tr)for(;_r.match(Tr);)_r.eatWhile(ce);var pt=_r.current();return h(U,pt)?(h(Qe,pt)&&(Ne="newstatement"),h(Ct,pt)&&(Wt=!0),"keyword"):h(Ue,pt)?"type":h(Je,pt)||Te&&Te(pt)?(h(Qe,pt)&&(Ne="newstatement"),"builtin"):h(Tt,pt)?"atom":"variable"}function qt(_r){return function(Dr,kr){for(var et=!1,pt,er=!1;(pt=Dr.next())!=null;){if(pt==_r&&!et){er=!0;break}et=!et&&pt=="\\"}return(er||!(et||Rt))&&(kr.tokenize=null),"string"}}function Nt(_r,Dr){for(var kr=!1,et;et=_r.next();){if(et=="/"&&kr){Dr.tokenize=null;break}kr=et=="*"}return"comment"}function vr(_r,Dr){V.typeFirstDefinitions&&_r.eol()&&a(Dr.context)&&(Dr.typeAtEndOfLine=i(_r,Dr,_r.pos))}return{startState:function(_r){return{tokenize:null,context:new e((_r||0)-te,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(_r,Dr){var kr=Dr.context;if(_r.sol()&&(kr.align==null&&(kr.align=!1),Dr.indented=_r.indentation(),Dr.startOfLine=!0),_r.eatSpace())return vr(_r,Dr),null;Ne=Wt=null;var et=(Dr.tokenize||ft)(_r,Dr);if(et=="comment"||et=="meta")return et;if(kr.align==null&&(kr.align=!0),Ne==";"||Ne==":"||Ne==","&&_r.match(/^\s*(?:\/\/.*)?$/,!1))for(;Dr.context.type=="statement";)n(Dr);else if(Ne=="{")t(Dr,_r.column(),"}");else if(Ne=="[")t(Dr,_r.column(),"]");else if(Ne=="(")t(Dr,_r.column(),")");else if(Ne=="}"){for(;kr.type=="statement";)kr=n(Dr);for(kr.type=="}"&&(kr=n(Dr));kr.type=="statement";)kr=n(Dr)}else Ne==kr.type?n(Dr):Yt&&((kr.type=="}"||kr.type=="top")&&Ne!=";"||kr.type=="statement"&&Ne=="newstatement")&&t(Dr,_r.column(),"statement",_r.current());if(et=="variable"&&(Dr.prevToken=="def"||V.typeFirstDefinitions&&i(_r,Dr,_r.start)&&a(Dr.context)&&_r.match(/^\s*\(/,!1))&&(et="def"),Ht.token){var pt=Ht.token(_r,Dr,et);pt!==void 0&&(et=pt)}return et=="def"&&V.styleDefs===!1&&(et="variable"),Dr.startOfLine=!1,Dr.prevToken=Wt?"def":et||Ne,vr(_r,Dr),et},indent:function(_r,Dr){if(_r.tokenize!=ft&&_r.tokenize!=null||_r.typeAtEndOfLine)return r.Pass;var kr=_r.context,et=Dr&&Dr.charAt(0),pt=et==kr.type;if(kr.type=="statement"&&et=="}"&&(kr=kr.prev),V.dontIndentStatements)for(;kr.type=="statement"&&V.dontIndentStatements.test(kr.info);)kr=kr.prev;if(Ht.indent){var er=Ht.indent(_r,kr,Dr,te);if(typeof er=="number")return er}var Lr=kr.prev&&kr.prev.info=="switch";if(V.allmanIndentation&&/[{(]/.test(et)){for(;kr.type!="top"&&kr.type!="}";)kr=kr.prev;return kr.indented}return kr.type=="statement"?kr.indented+(et=="{"?0:_e):kr.align&&(!K||kr.type!=")")?kr.column+(pt?0:1):kr.type==")"&&!pt?kr.indented+_e:kr.indented+(pt?0:te)+(!pt&&Lr&&!/^(?:case|default)\b/.test(Dr)?te:0)},electricInput:cr?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"brace"}});function l(G){for(var V={},te=G.split(" "),_e=0;_e<te.length;++_e)V[te[_e]]=!0;return V}function h(G,V){return typeof G=="function"?G(V):G.propertyIsEnumerable(V)}var g="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile inline restrict asm fortran",w="alignas alignof and and_eq audit axiom bitand bitor catch class compl concept constexpr const_cast decltype delete dynamic_cast explicit export final friend import module mutable namespace new noexcept not not_eq operator or or_eq override private protected public reinterpret_cast requires static_assert static_cast template this thread_local throw try typeid typename using virtual xor xor_eq",C="bycopy byref in inout oneway out self super atomic nonatomic retain copy readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd @interface @implementation @end @protocol @encode @property @synthesize @dynamic @class @public @package @private @protected @required @optional @try @catch @finally @import @selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available",D="FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION  NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT",F=l("int long char short double float unsigned signed void bool"),z=l("SEL instancetype id Class Protocol BOOL");function Y(G){return h(F,G)||/.+_t$/.test(G)}function $(G){return Y(G)||h(z,G)}var re="case do else for if switch while struct enum union",oe="struct enum union";function ne(G,V){if(!V.startOfLine)return!1;for(var te,_e=null;te=G.peek();){if(te=="\\"&&G.match(/^.$/)){_e=ne;break}else if(te=="/"&&G.match(/^\/[\/\*]/,!1))break;G.next()}return V.tokenize=_e,"meta"}function he(G,V){return V.prevToken=="type"?"type":!1}function _(G){return!G||G.length<2||G[0]!="_"?!1:G[1]=="_"||G[1]!==G[1].toLowerCase()}function ge(G){return G.eatWhile(/[\w\.']/),"number"}function fe(G,V){if(G.backUp(1),G.match(/(R|u8R|uR|UR|LR)/)){var te=G.match(/"([^\s\\()]{0,16})\(/);return te?(V.cpp11RawStringDelim=te[1],V.tokenize=Se,Se(G,V)):!1}return G.match(/(u8|u|U|L)/)?G.match(/["']/,!1)?"string":!1:(G.next(),!1)}function me(G){var V=/(\w+)::~?(\w+)$/.exec(G);return V&&V[1]==V[2]}function we(G,V){for(var te;(te=G.next())!=null;)if(te=='"'&&!G.eat('"')){V.tokenize=null;break}return"string"}function Se(G,V){var te=V.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),_e=G.match(new RegExp(".*?\\)"+te+'"'));return _e?V.tokenize=null:G.skipToEnd(),"string"}function be(G,V){typeof G=="string"&&(G=[G]);var te=[];function _e(U){if(U)for(var Ue in U)U.hasOwnProperty(Ue)&&te.push(Ue)}_e(V.keywords),_e(V.types),_e(V.builtin),_e(V.atoms),te.length&&(V.helperType=G[0],r.registerHelper("hintWords",G[0],te));for(var K=0;K<G.length;++K)r.defineMIME(G[K],V)}be(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:l(g),types:Y,blockKeywords:l(re),defKeywords:l(oe),typeFirstDefinitions:!0,atoms:l("NULL true false"),isReservedIdentifier:_,hooks:{"#":ne,"*":he},modeProps:{fold:["brace","include"]}}),be(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:l(g+" "+w),types:Y,blockKeywords:l(re+" class try catch"),defKeywords:l(oe+" class namespace"),typeFirstDefinitions:!0,atoms:l("true false NULL nullptr"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,isReservedIdentifier:_,hooks:{"#":ne,"*":he,u:fe,U:fe,L:fe,R:fe,0:ge,1:ge,2:ge,3:ge,4:ge,5:ge,6:ge,7:ge,8:ge,9:ge,token:function(G,V,te){if(te=="variable"&&G.peek()=="("&&(V.prevToken==";"||V.prevToken==null||V.prevToken=="}")&&me(G.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),be("text/x-java",{name:"clike",keywords:l("abstract assert break case catch class const continue default do else enum extends final finally for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:l("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:l("catch class do else finally for if switch try while"),defKeywords:l("class interface enum @interface"),typeFirstDefinitions:!0,atoms:l("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(G){return G.match("interface",!1)?!1:(G.eatWhile(/[\w\$_]/),"meta")}},modeProps:{fold:["brace","import"]}}),be("text/x-csharp",{name:"clike",keywords:l("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:l("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:l("catch class do else finally for foreach if struct switch try while"),defKeywords:l("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:l("true false null"),hooks:{"@":function(G,V){return G.eat('"')?(V.tokenize=we,we(G,V)):(G.eatWhile(/[\w\$_]/),"meta")}}});function $e(G,V){for(var te=!1;!G.eol();){if(!te&&G.match('"""')){V.tokenize=null;break}te=G.next()=="\\"&&!te}return"string"}function q(G){return function(V,te){for(var _e;_e=V.next();)if(_e=="*"&&V.eat("/"))if(G==1){te.tokenize=null;break}else return te.tokenize=q(G-1),te.tokenize(V,te);else if(_e=="/"&&V.eat("*"))return te.tokenize=q(G+1),te.tokenize(V,te);return"comment"}}be("text/x-scala",{name:"clike",keywords:l("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:l("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:l("catch class enum do else finally for forSome if match switch try while"),defKeywords:l("class enum def object package trait type val var"),atoms:l("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(G){return G.eatWhile(/[\w\$_]/),"meta"},'"':function(G,V){return G.match('""')?(V.tokenize=$e,V.tokenize(G,V)):!1},"'":function(G){return G.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(G,V){var te=V.context;return te.type=="}"&&te.align&&G.eat(">")?(V.context=new e(te.indented,te.column,te.type,te.info,null,te.prev),"operator"):!1},"/":function(G,V){return G.eat("*")?(V.tokenize=q(1),V.tokenize(G,V)):!1}},modeProps:{closeBrackets:{pairs:'()[]{}""',triples:'"'}}});function ee(G){return function(V,te){for(var _e=!1,K,U=!1;!V.eol();){if(!G&&!_e&&V.match('"')){U=!0;break}if(G&&V.match('"""')){U=!0;break}K=V.next(),!_e&&K=="$"&&V.match("{")&&V.skipTo("}"),_e=!_e&&K=="\\"&&!G}return(U||!G)&&(te.tokenize=null),"string"}}be("text/x-kotlin",{name:"clike",keywords:l("package as typealias class interface this super val operator var fun for is in This throw return annotation break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend actual expect setparam"),types:l("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy LazyThreadSafetyMode LongArray Nothing ShortArray Unit"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+(\.\d+)?|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:l("catch class do else finally for if where try while enum"),defKeywords:l("class val var object interface fun"),atoms:l("true false null this"),hooks:{"@":function(G){return G.eatWhile(/[\w\$_]/),"meta"},"*":function(G,V){return V.prevToken=="."?"variable":"operator"},'"':function(G,V){return V.tokenize=ee(G.match('""')),V.tokenize(G,V)},"/":function(G,V){return G.eat("*")?(V.tokenize=q(1),V.tokenize(G,V)):!1},indent:function(G,V,te,_e){var K=te&&te.charAt(0);if((G.prevToken=="}"||G.prevToken==")")&&te=="")return G.indented;if(G.prevToken=="operator"&&te!="}"&&G.context.type!="}"||G.prevToken=="variable"&&K=="."||(G.prevToken=="}"||G.prevToken==")")&&K==".")return _e*2+V.indented;if(V.align&&V.type=="}")return V.indented+(G.context.type==(te||"").charAt(0)?0:_e)}},modeProps:{closeBrackets:{triples:'"'}}}),be(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:l("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:l("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:l("for while do if else struct"),builtin:l("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:l("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":ne},modeProps:{fold:["brace","include"]}}),be("text/x-nesc",{name:"clike",keywords:l(g+" as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:Y,blockKeywords:l(re),atoms:l("null true false"),hooks:{"#":ne},modeProps:{fold:["brace","include"]}}),be("text/x-objectivec",{name:"clike",keywords:l(g+" "+C),types:$,builtin:l(D),blockKeywords:l(re+" @synthesize @try @catch @finally @autoreleasepool @synchronized"),defKeywords:l(oe+" @interface @implementation @protocol @class"),dontIndentStatements:/^@.*$/,typeFirstDefinitions:!0,atoms:l("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:_,hooks:{"#":ne,"*":he},modeProps:{fold:["brace","include"]}}),be("text/x-objectivec++",{name:"clike",keywords:l(g+" "+C+" "+w),types:$,builtin:l(D),blockKeywords:l(re+" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch"),defKeywords:l(oe+" @interface @implementation @protocol @class class namespace"),dontIndentStatements:/^@.*$|^template$/,typeFirstDefinitions:!0,atoms:l("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:_,hooks:{"#":ne,"*":he,u:fe,U:fe,L:fe,R:fe,0:ge,1:ge,2:ge,3:ge,4:ge,5:ge,6:ge,7:ge,8:ge,9:ge,token:function(G,V,te){if(te=="variable"&&G.peek()=="("&&(V.prevToken==";"||V.prevToken==null||V.prevToken=="}")&&me(G.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),be("text/x-squirrel",{name:"clike",keywords:l("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:Y,blockKeywords:l("case catch class else for foreach if switch try while"),defKeywords:l("function local class"),typeFirstDefinitions:!0,atoms:l("true false null"),hooks:{"#":ne},modeProps:{fold:["brace","include"]}});var R=null;function j(G){return function(V,te){for(var _e=!1,K,U=!1;!V.eol();){if(!_e&&V.match('"')&&(G=="single"||V.match('""'))){U=!0;break}if(!_e&&V.match("``")){R=j(G),U=!0;break}K=V.next(),_e=G=="single"&&!_e&&K=="\\"}return U&&(te.tokenize=null),"string"}}be("text/x-ceylon",{name:"clike",keywords:l("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(G){var V=G.charAt(0);return V===V.toUpperCase()&&V!==V.toLowerCase()},blockKeywords:l("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:l("class dynamic function interface module object package value"),builtin:l("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:l("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(G){return G.eatWhile(/[\w\$_]/),"meta"},'"':function(G,V){return V.tokenize=j(G.match('""')?"triple":"single"),V.tokenize(G,V)},"`":function(G,V){return!R||!G.match("`")?!1:(V.tokenize=R,R=null,V.tokenize(G,V))},"'":function(G){return G.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(G,V,te){if((te=="variable"||te=="type")&&V.prevToken==".")return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})})});var eve=de((Jge,Qge)=>{(function(r){typeof Jge=="object"&&typeof Qge=="object"?r(Gs(),fM(),Xge()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../clike/clike"],r):r(CodeMirror)})(function(r){"use strict";function e(w){for(var C={},D=w.split(" "),F=0;F<D.length;++F)C[D[F]]=!0;return C}function t(w,C,D){return w.length==0?n(C):function(F,z){for(var Y=w[0],$=0;$<Y.length;$++)if(F.match(Y[$][0]))return z.tokenize=t(w.slice(1),C),Y[$][1];return z.tokenize=n(C,D),"string"}}function n(w,C){return function(D,F){return i(D,F,w,C)}}function i(w,C,D,F){if(F!==!1&&w.match("${",!1)||w.match("{$",!1))return C.tokenize=null,"string";if(F!==!1&&w.match(/^\$[a-zA-Z_][a-zA-Z0-9_]*/))return w.match("[",!1)&&(C.tokenize=t([[["[",null]],[[/\d[\w\.]*/,"number"],[/\$[a-zA-Z_][a-zA-Z0-9_]*/,"variable-2"],[/[\w\$]+/,"variable"]],[["]",null]]],D,F)),w.match(/\-\>\w/,!1)&&(C.tokenize=t([[["->",null]],[[/[\w]+/,"variable"]]],D,F)),"variable-2";for(var z=!1;!w.eol()&&(z||F===!1||!w.match("{$",!1)&&!w.match(/^(\$[a-zA-Z_][a-zA-Z0-9_]*|\$\{)/,!1));){if(!z&&w.match(D)){C.tokenize=null,C.tokStack.pop(),C.tokStack.pop();break}z=w.next()=="\\"&&!z}return"string"}var a="abstract and array as break case catch class clone const continue declare default do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach function global goto if implements interface instanceof namespace new or private protected public static switch throw trait try use var while xor die echo empty exit eval include include_once isset list require require_once return print unset __halt_compiler self static parent yield insteadof finally",l="true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__ __TRAIT__",h="func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex hex2bin sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents file_put_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists array_intersect_key array_combine array_column pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport http_response_code get_declared_traits getimagesizefromstring socket_import_stream stream_set_chunk_size trait_exists header_register_callback class_uses session_status session_register_shutdown echo print global static exit array empty eval isset unset die include require include_once require_once json_decode json_encode json_last_error json_last_error_msg curl_close curl_copy_handle curl_errno curl_error curl_escape curl_exec curl_file_create curl_getinfo curl_init curl_multi_add_handle curl_multi_close curl_multi_exec curl_multi_getcontent curl_multi_info_read curl_multi_init curl_multi_remove_handle curl_multi_select curl_multi_setopt curl_multi_strerror curl_pause curl_reset curl_setopt_array curl_setopt curl_share_close curl_share_init curl_share_setopt curl_strerror curl_unescape curl_version mysqli_affected_rows mysqli_autocommit mysqli_change_user mysqli_character_set_name mysqli_close mysqli_commit mysqli_connect_errno mysqli_connect_error mysqli_connect mysqli_data_seek mysqli_debug mysqli_dump_debug_info mysqli_errno mysqli_error_list mysqli_error mysqli_fetch_all mysqli_fetch_array mysqli_fetch_assoc mysqli_fetch_field_direct mysqli_fetch_field mysqli_fetch_fields mysqli_fetch_lengths mysqli_fetch_object mysqli_fetch_row mysqli_field_count mysqli_field_seek mysqli_field_tell mysqli_free_result mysqli_get_charset mysqli_get_client_info mysqli_get_client_stats mysqli_get_client_version mysqli_get_connection_stats mysqli_get_host_info mysqli_get_proto_info mysqli_get_server_info mysqli_get_server_version mysqli_info mysqli_init mysqli_insert_id mysqli_kill mysqli_more_results mysqli_multi_query mysqli_next_result mysqli_num_fields mysqli_num_rows mysqli_options mysqli_ping mysqli_prepare mysqli_query mysqli_real_connect mysqli_real_escape_string mysqli_real_query mysqli_reap_async_query mysqli_refresh mysqli_rollback mysqli_select_db mysqli_set_charset mysqli_set_local_infile_default mysqli_set_local_infile_handler mysqli_sqlstate mysqli_ssl_set mysqli_stat mysqli_stmt_init mysqli_store_result mysqli_thread_id mysqli_thread_safe mysqli_use_result mysqli_warning_count";r.registerHelper("hintWords","php",[a,l,h].join(" ").split(" ")),r.registerHelper("wordChars","php",/[\w$]/);var g={name:"clike",helperType:"php",keywords:e(a),blockKeywords:e("catch do else elseif for foreach if switch try while finally"),defKeywords:e("class function interface namespace trait"),atoms:e(l),builtin:e(h),multiLineStrings:!0,hooks:{$:function(w){return w.eatWhile(/[\w\$_]/),"variable-2"},"<":function(w,C){var D;if(D=w.match(/<<\s*/)){var F=w.eat(/['"]/);w.eatWhile(/[\w\.]/);var z=w.current().slice(D[0].length+(F?2:1));if(F&&w.eat(F),z)return(C.tokStack||(C.tokStack=[])).push(z,0),C.tokenize=n(z,F!="'"),"string"}return!1},"#":function(w){for(;!w.eol()&&!w.match("?>",!1);)w.next();return"comment"},"/":function(w){if(w.eat("/")){for(;!w.eol()&&!w.match("?>",!1);)w.next();return"comment"}return!1},'"':function(w,C){return(C.tokStack||(C.tokStack=[])).push('"',0),C.tokenize=n('"'),"string"},"{":function(w,C){return C.tokStack&&C.tokStack.length&&C.tokStack[C.tokStack.length-1]++,!1},"}":function(w,C){return C.tokStack&&C.tokStack.length>0&&!--C.tokStack[C.tokStack.length-1]&&(C.tokenize=n(C.tokStack[C.tokStack.length-2])),!1}}};r.defineMode("php",function(w,C){var D=r.getMode(w,C&&C.htmlMode||"text/html"),F=r.getMode(w,g);function z(Y,$){var re=$.curMode==F;if(Y.sol()&&$.pending&&$.pending!='"'&&$.pending!="'"&&($.pending=null),re)return re&&$.php.tokenize==null&&Y.match("?>")?($.curMode=D,$.curState=$.html,$.php.context.prev||($.php=null),"meta"):F.token(Y,$.curState);if(Y.match(/^<\?\w*/))return $.curMode=F,$.php||($.php=r.startState(F,D.indent($.html,"",""))),$.curState=$.php,"meta";if($.pending=='"'||$.pending=="'"){for(;!Y.eol()&&Y.next()!=$.pending;);var oe="string"}else if($.pending&&Y.pos<$.pending.end){Y.pos=$.pending.end;var oe=$.pending.style}else var oe=D.token(Y,$.curState);$.pending&&($.pending=null);var ne=Y.current(),he=ne.search(/<\?/),_;return he!=-1&&(oe=="string"&&(_=ne.match(/[\'\"]$/))&&!/\?>/.test(ne)?$.pending=_[0]:$.pending={end:Y.pos,style:oe},Y.backUp(ne.length-he)),oe}return{startState:function(){var Y=r.startState(D),$=C.startOpen?r.startState(F):null;return{html:Y,php:$,curMode:C.startOpen?F:D,curState:C.startOpen?$:Y,pending:null}},copyState:function(Y){var $=Y.html,re=r.copyState(D,$),oe=Y.php,ne=oe&&r.copyState(F,oe),he;return Y.curMode==D?he=re:he=ne,{html:re,php:ne,curMode:Y.curMode,curState:he,pending:Y.pending}},token:z,indent:function(Y,$,re){return Y.curMode!=F&&/^\s*<\//.test($)||Y.curMode==F&&/^\?>/.test($)?D.indent(Y.html,$,re):Y.curMode.indent(Y.curState,$,re)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",innerMode:function(Y){return{state:Y.curState,mode:Y.curMode}}}},"htmlmixed","clike"),r.defineMIME("application/x-httpd-php","php"),r.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:!0}),r.defineMIME("text/x-php",g)})});var nve=de((tve,rve)=>{(function(r){typeof tve=="object"&&typeof rve=="object"?r(Gs()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";function e(g){for(var w={},C=0,D=g.length;C<D;++C)w[g[C]]=!0;return w}var t=["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload","__END__","__FILE__","__LINE__","__dir__"],n=e(t),i=e(["def","class","case","for","while","until","module","then","catch","loop","proc","begin"]),a=e(["end","until"]),l={"[":"]","{":"}","(":")"},h={"]":"[","}":"{",")":"("};r.defineMode("ruby",function(g){var w;function C(ne,he,_){return _.tokenize.push(ne),ne(he,_)}function D(ne,he){if(ne.sol()&&ne.match("=begin")&&ne.eol())return he.tokenize.push(oe),"comment";if(ne.eatSpace())return null;var _=ne.next(),ge;if(_=="`"||_=="'"||_=='"')return C($(_,"string",_=='"'||_=="`"),ne,he);if(_=="/")return F(ne)?C($(_,"string-2",!0),ne,he):"operator";if(_=="%"){var fe="string",me=!0;ne.eat("s")?fe="atom":ne.eat(/[WQ]/)?fe="string":ne.eat(/[r]/)?fe="string-2":ne.eat(/[wxq]/)&&(fe="string",me=!1);var we=ne.eat(/[^\w\s=]/);return we?(l.propertyIsEnumerable(we)&&(we=l[we]),C($(we,fe,me,!0),ne,he)):"operator"}else{if(_=="#")return ne.skipToEnd(),"comment";if(_=="<"&&(ge=ne.match(/^<([-~])[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return C(re(ge[2],ge[1]),ne,he);if(_=="0")return ne.eat("x")?ne.eatWhile(/[\da-fA-F]/):ne.eat("b")?ne.eatWhile(/[01]/):ne.eatWhile(/[0-7]/),"number";if(/\d/.test(_))return ne.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if(_=="?"){for(;ne.match(/^\\[CM]-/););return ne.eat("\\")?ne.eatWhile(/\w/):ne.next(),"string"}else{if(_==":")return ne.eat("'")?C($("'","atom",!1),ne,he):ne.eat('"')?C($('"',"atom",!0),ne,he):ne.eat(/[\<\>]/)?(ne.eat(/[\<\>]/),"atom"):ne.eat(/[\+\-\*\/\&\|\:\!]/)?"atom":ne.eat(/[a-zA-Z$@_\xa1-\uffff]/)?(ne.eatWhile(/[\w$\xa1-\uffff]/),ne.eat(/[\?\!\=]/),"atom"):"operator";if(_=="@"&&ne.match(/^@?[a-zA-Z_\xa1-\uffff]/))return ne.eat("@"),ne.eatWhile(/[\w\xa1-\uffff]/),"variable-2";if(_=="$")return ne.eat(/[a-zA-Z_]/)?ne.eatWhile(/[\w]/):ne.eat(/\d/)?ne.eat(/\d/):ne.next(),"variable-3";if(/[a-zA-Z_\xa1-\uffff]/.test(_))return ne.eatWhile(/[\w\xa1-\uffff]/),ne.eat(/[\?\!]/),ne.eat(":")?"atom":"ident";if(_=="|"&&(he.varList||he.lastTok=="{"||he.lastTok=="do"))return w="|",null;if(/[\(\)\[\]{}\\;]/.test(_))return w=_,null;if(_=="-"&&ne.eat(">"))return"arrow";if(/[=+\-\/*:\.^%<>~|]/.test(_)){var Se=ne.eatWhile(/[=+\-\/*:\.^%<>~|]/);return _=="."&&!Se&&(w="."),"operator"}else return null}}}function F(ne){for(var he=ne.pos,_=0,ge,fe=!1,me=!1;(ge=ne.next())!=null;)if(me)me=!1;else{if("[{(".indexOf(ge)>-1)_++;else if("]})".indexOf(ge)>-1){if(_--,_<0)break}else if(ge=="/"&&_==0){fe=!0;break}me=ge=="\\"}return ne.backUp(ne.pos-he),fe}function z(ne){return ne||(ne=1),function(he,_){if(he.peek()=="}"){if(ne==1)return _.tokenize.pop(),_.tokenize[_.tokenize.length-1](he,_);_.tokenize[_.tokenize.length-1]=z(ne-1)}else he.peek()=="{"&&(_.tokenize[_.tokenize.length-1]=z(ne+1));return D(he,_)}}function Y(){var ne=!1;return function(he,_){return ne?(_.tokenize.pop(),_.tokenize[_.tokenize.length-1](he,_)):(ne=!0,D(he,_))}}function $(ne,he,_,ge){return function(fe,me){var we=!1,Se;for(me.context.type==="read-quoted-paused"&&(me.context=me.context.prev,fe.eat("}"));(Se=fe.next())!=null;){if(Se==ne&&(ge||!we)){me.tokenize.pop();break}if(_&&Se=="#"&&!we){if(fe.eat("{")){ne=="}"&&(me.context={prev:me.context,type:"read-quoted-paused"}),me.tokenize.push(z());break}else if(/[@\$]/.test(fe.peek())){me.tokenize.push(Y());break}}we=!we&&Se=="\\"}return he}}function re(ne,he){return function(_,ge){return he&&_.eatSpace(),_.match(ne)?ge.tokenize.pop():_.skipToEnd(),"string"}}function oe(ne,he){return ne.sol()&&ne.match("=end")&&ne.eol()&&he.tokenize.pop(),ne.skipToEnd(),"comment"}return{startState:function(){return{tokenize:[D],indented:0,context:{type:"top",indented:-g.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(ne,he){w=null,ne.sol()&&(he.indented=ne.indentation());var _=he.tokenize[he.tokenize.length-1](ne,he),ge,fe=w;if(_=="ident"){var me=ne.current();_=he.lastTok=="."?"property":n.propertyIsEnumerable(ne.current())?"keyword":/^[A-Z]/.test(me)?"tag":he.lastTok=="def"||he.lastTok=="class"||he.varList?"def":"variable",_=="keyword"&&(fe=me,i.propertyIsEnumerable(me)?ge="indent":a.propertyIsEnumerable(me)?ge="dedent":((me=="if"||me=="unless")&&ne.column()==ne.indentation()||me=="do"&&he.context.indented<he.indented)&&(ge="indent"))}return(w||_&&_!="comment")&&(he.lastTok=fe),w=="|"&&(he.varList=!he.varList),ge=="indent"||/[\(\[\{]/.test(w)?he.context={prev:he.context,type:w||_,indented:he.indented}:(ge=="dedent"||/[\)\]\}]/.test(w))&&he.context.prev&&(he.context=he.context.prev),ne.eol()&&(he.continuedLine=w=="\\"||_=="operator"),_},indent:function(ne,he){if(ne.tokenize[ne.tokenize.length-1]!=D)return r.Pass;var _=he&&he.charAt(0),ge=ne.context,fe=ge.type==h[_]||ge.type=="keyword"&&/^(?:end|until|else|elsif|when|rescue)\b/.test(he);return ge.indented+(fe?0:g.indentUnit)+(ne.continuedLine?g.indentUnit:0)},electricInput:/^\s*(?:end|rescue|elsif|else|\})$/,lineComment:"#",fold:"indent"}}),r.defineMIME("text/x-ruby","ruby"),r.registerHelper("hintWords","ruby",t)})});var uU=de((ive,ove)=>{(function(r){typeof ive=="object"&&typeof ove=="object"?r(Gs(),X_()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../css/css"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("sass",function(e){var t=r.mimeModes["text/css"],n=t.propertyKeywords||{},i=t.colorKeywords||{},a=t.valueKeywords||{},l=t.fontProperties||{};function h(me){return new RegExp("^"+me.join("|"))}var g=["true","false","null","auto"],w=new RegExp("^"+g.join("|")),C=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"],D=h(C),F=/^::?[a-zA-Z_][\w\-]*/,z;function Y(me){return!me.peek()||me.match(/\s+$/,!1)}function $(me,we){var Se=me.peek();return Se===")"?(me.next(),we.tokenizer=ge,"operator"):Se==="("?(me.next(),me.eatSpace(),"operator"):Se==="'"||Se==='"'?(we.tokenizer=oe(me.next()),"string"):(we.tokenizer=oe(")",!1),"string")}function re(me,we){return function(Se,be){return Se.sol()&&Se.indentation()<=me?(be.tokenizer=ge,ge(Se,be)):(we&&Se.skipTo("*/")?(Se.next(),Se.next(),be.tokenizer=ge):Se.skipToEnd(),"comment")}}function oe(me,we){we==null&&(we=!0);function Se(be,$e){var q=be.next(),ee=be.peek(),R=be.string.charAt(be.pos-2),j=q!=="\\"&&ee===me||q===me&&R!=="\\";return j?(q!==me&&we&&be.next(),Y(be)&&($e.cursorHalf=0),$e.tokenizer=ge,"string"):q==="#"&&ee==="{"?($e.tokenizer=ne(Se),be.next(),"operator"):"string"}return Se}function ne(me){return function(we,Se){return we.peek()==="}"?(we.next(),Se.tokenizer=me,"operator"):ge(we,Se)}}function he(me){if(me.indentCount==0){me.indentCount++;var we=me.scopes[0].offset,Se=we+e.indentUnit;me.scopes.unshift({offset:Se})}}function _(me){me.scopes.length!=1&&me.scopes.shift()}function ge(me,we){var Se=me.peek();if(me.match("/*"))return we.tokenizer=re(me.indentation(),!0),we.tokenizer(me,we);if(me.match("//"))return we.tokenizer=re(me.indentation(),!1),we.tokenizer(me,we);if(me.match("#{"))return we.tokenizer=ne(ge),"operator";if(Se==='"'||Se==="'")return me.next(),we.tokenizer=oe(Se),"string";if(we.cursorHalf){if(Se==="#"&&(me.next(),me.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/))||me.match(/^-?[0-9\.]+/))return Y(me)&&(we.cursorHalf=0),"number";if(me.match(/^(px|em|in)\b/))return Y(me)&&(we.cursorHalf=0),"unit";if(me.match(w))return Y(me)&&(we.cursorHalf=0),"keyword";if(me.match(/^url/)&&me.peek()==="(")return we.tokenizer=$,Y(me)&&(we.cursorHalf=0),"atom";if(Se==="$")return me.next(),me.eatWhile(/[\w-]/),Y(me)&&(we.cursorHalf=0),"variable-2";if(Se==="!")return me.next(),we.cursorHalf=0,me.match(/^[\w]+/)?"keyword":"operator";if(me.match(D))return Y(me)&&(we.cursorHalf=0),"operator";if(me.eatWhile(/[\w-]/))return Y(me)&&(we.cursorHalf=0),z=me.current().toLowerCase(),a.hasOwnProperty(z)?"atom":i.hasOwnProperty(z)?"keyword":n.hasOwnProperty(z)?(we.prevProp=me.current().toLowerCase(),"property"):"tag";if(Y(me))return we.cursorHalf=0,null}else{if(Se==="-"&&me.match(/^-\w+-/))return"meta";if(Se==="."){if(me.next(),me.match(/^[\w-]+/))return he(we),"qualifier";if(me.peek()==="#")return he(we),"tag"}if(Se==="#"){if(me.next(),me.match(/^[\w-]+/))return he(we),"builtin";if(me.peek()==="#")return he(we),"tag"}if(Se==="$")return me.next(),me.eatWhile(/[\w-]/),"variable-2";if(me.match(/^-?[0-9\.]+/))return"number";if(me.match(/^(px|em|in)\b/))return"unit";if(me.match(w))return"keyword";if(me.match(/^url/)&&me.peek()==="(")return we.tokenizer=$,"atom";if(Se==="="&&me.match(/^=[\w-]+/))return he(we),"meta";if(Se==="+"&&me.match(/^\+[\w-]+/))return"variable-3";if(Se==="@"&&me.match(/@extend/)&&(me.match(/\s*[\w]/)||_(we)),me.match(/^@(else if|if|media|else|for|each|while|mixin|function)/))return he(we),"def";if(Se==="@")return me.next(),me.eatWhile(/[\w-]/),"def";if(me.eatWhile(/[\w-]/))if(me.match(/ *: *[\w-\+\$#!\("']/,!1)){z=me.current().toLowerCase();var be=we.prevProp+"-"+z;return n.hasOwnProperty(be)?"property":n.hasOwnProperty(z)?(we.prevProp=z,"property"):l.hasOwnProperty(z)?"property":"tag"}else return me.match(/ *:/,!1)?(he(we),we.cursorHalf=1,we.prevProp=me.current().toLowerCase(),"property"):(me.match(/ *,/,!1)||he(we),"tag");if(Se===":")return me.match(F)?"variable-3":(me.next(),we.cursorHalf=1,"operator")}return me.match(D)?"operator":(me.next(),null)}function fe(me,we){me.sol()&&(we.indentCount=0);var Se=we.tokenizer(me,we),be=me.current();if((be==="@return"||be==="}")&&_(we),Se!==null){for(var $e=me.pos-be.length,q=$e+e.indentUnit*we.indentCount,ee=[],R=0;R<we.scopes.length;R++){var j=we.scopes[R];j.offset<=q&&ee.push(j)}we.scopes=ee}return Se}return{startState:function(){return{tokenizer:ge,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(me,we){var Se=fe(me,we);return we.lastToken={style:Se,content:me.current()},Se},indent:function(me){return me.scopes[0].offset}}},"css"),r.defineMIME("text/x-sass","sass")})});var lve=de((ave,sve)=>{(function(r){typeof ave=="object"&&typeof sve=="object"?r(Gs()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("shell",function(){var e={};function t(F,z){for(var Y=0;Y<z.length;Y++)e[z[Y]]=F}var n=["true","false"],i=["if","then","do","else","elif","while","until","for","in","esac","fi","fin","fil","done","exit","set","unset","export","function"],a=["ab","awk","bash","beep","cat","cc","cd","chown","chmod","chroot","clear","cp","curl","cut","diff","echo","find","gawk","gcc","get","git","grep","hg","kill","killall","ln","ls","make","mkdir","openssl","mv","nc","nl","node","npm","ping","ps","restart","rm","rmdir","sed","service","sh","shopt","shred","source","sort","sleep","ssh","start","stop","su","sudo","svn","tee","telnet","top","touch","vi","vim","wall","wc","wget","who","write","yes","zsh"];r.registerHelper("hintWords","shell",n.concat(i,a)),t("atom",n),t("keyword",i),t("builtin",a);function l(F,z){if(F.eatSpace())return null;var Y=F.sol(),$=F.next();if($==="\\")return F.next(),null;if($==="'"||$==='"'||$==="`")return z.tokens.unshift(h($,$==="`"?"quote":"string")),D(F,z);if($==="#")return Y&&F.eat("!")?(F.skipToEnd(),"meta"):(F.skipToEnd(),"comment");if($==="$")return z.tokens.unshift(w),D(F,z);if($==="+"||$==="=")return"operator";if($==="-")return F.eat("-"),F.eatWhile(/\w/),"attribute";if($=="<"){if(F.match("<<"))return"operator";var re=F.match(/^<-?\s*['"]?([^'"]*)['"]?/);if(re)return z.tokens.unshift(C(re[1])),"string-2"}if(/\d/.test($)&&(F.eatWhile(/\d/),F.eol()||!/\w/.test(F.peek())))return"number";F.eatWhile(/[\w-]/);var oe=F.current();return F.peek()==="="&&/\w+/.test(oe)?"def":e.hasOwnProperty(oe)?e[oe]:null}function h(F,z){var Y=F=="("?")":F=="{"?"}":F;return function($,re){for(var oe,ne=!1;(oe=$.next())!=null;){if(oe===Y&&!ne){re.tokens.shift();break}else if(oe==="$"&&!ne&&F!=="'"&&$.peek()!=Y){ne=!0,$.backUp(1),re.tokens.unshift(w);break}else{if(!ne&&F!==Y&&oe===F)return re.tokens.unshift(h(F,z)),D($,re);if(!ne&&/['"]/.test(oe)&&!/['"]/.test(F)){re.tokens.unshift(g(oe,"string")),$.backUp(1);break}}ne=!ne&&oe==="\\"}return z}}function g(F,z){return function(Y,$){return $.tokens[0]=h(F,z),Y.next(),D(Y,$)}}var w=function(F,z){z.tokens.length>1&&F.eat("$");var Y=F.next();return/['"({]/.test(Y)?(z.tokens[0]=h(Y,Y=="("?"quote":Y=="{"?"def":"string"),D(F,z)):(/\d/.test(Y)||F.eatWhile(/\w/),z.tokens.shift(),"def")};function C(F){return function(z,Y){return z.sol()&&z.string==F&&Y.tokens.shift(),z.skipToEnd(),"string-2"}}function D(F,z){return(z.tokens[0]||l)(F,z)}return{startState:function(){return{tokens:[]}},token:function(F,z){return D(F,z)},closeBrackets:"()[]{}''\"\"``",lineComment:"#",fold:"brace"}}),r.defineMIME("text/x-sh","shell"),r.defineMIME("application/x-sh","shell")})});var fve=de((uve,cve)=>{(function(r){typeof uve=="object"&&typeof cve=="object"?r(Gs()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("sql",function(g,w){var C=w.client||{},D=w.atoms||{false:!0,true:!0,null:!0},F=w.builtin||l(h),z=w.keywords||l(a),Y=w.operatorChars||/^[*+\-%<>!=&|~^\/]/,$=w.support||{},re=w.hooks||{},oe=w.dateSQL||{date:!0,time:!0,timestamp:!0},ne=w.backslashStringEscapes!==!1,he=w.brackets||/^[\{}\(\)\[\]]/,_=w.punctuation||/^[;.,:]/;function ge(be,$e){var q=be.next();if(re[q]){var ee=re[q](be,$e);if(ee!==!1)return ee}if($.hexNumber&&(q=="0"&&be.match(/^[xX][0-9a-fA-F]+/)||(q=="x"||q=="X")&&be.match(/^'[0-9a-fA-F]+'/)))return"number";if($.binaryNumber&&((q=="b"||q=="B")&&be.match(/^'[01]+'/)||q=="0"&&be.match(/^b[01]+/)))return"number";if(q.charCodeAt(0)>47&&q.charCodeAt(0)<58)return be.match(/^[0-9]*(\.[0-9]+)?([eE][-+]?[0-9]+)?/),$.decimallessFloat&&be.match(/^\.(?!\.)/),"number";if(q=="?"&&(be.eatSpace()||be.eol()||be.eat(";")))return"variable-3";if(q=="'"||q=='"'&&$.doubleQuote)return $e.tokenize=fe(q),$e.tokenize(be,$e);if(($.nCharCast&&(q=="n"||q=="N")||$.charsetCast&&q=="_"&&be.match(/[a-z][a-z0-9]*/i))&&(be.peek()=="'"||be.peek()=='"'))return"keyword";if($.escapeConstant&&(q=="e"||q=="E")&&(be.peek()=="'"||be.peek()=='"'&&$.doubleQuote))return $e.tokenize=function(j,G){return(G.tokenize=fe(j.next(),!0))(j,G)},"keyword";if($.commentSlashSlash&&q=="/"&&be.eat("/"))return be.skipToEnd(),"comment";if($.commentHash&&q=="#"||q=="-"&&be.eat("-")&&(!$.commentSpaceRequired||be.eat(" ")))return be.skipToEnd(),"comment";if(q=="/"&&be.eat("*"))return $e.tokenize=me(1),$e.tokenize(be,$e);if(q=="."){if($.zerolessFloat&&be.match(/^(?:\d+(?:e[+-]?\d+)?)/i))return"number";if(be.match(/^\.+/))return null;if($.ODBCdotTable&&be.match(/^[\w\d_$#]+/))return"variable-2"}else{if(Y.test(q))return be.eatWhile(Y),"operator";if(he.test(q))return"bracket";if(_.test(q))return be.eatWhile(_),"punctuation";if(q=="{"&&(be.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||be.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";be.eatWhile(/^[_\w\d]/);var R=be.current().toLowerCase();return oe.hasOwnProperty(R)&&(be.match(/^( )+'[^']*'/)||be.match(/^( )+"[^"]*"/))?"number":D.hasOwnProperty(R)?"atom":F.hasOwnProperty(R)?"builtin":z.hasOwnProperty(R)?"keyword":C.hasOwnProperty(R)?"string-2":null}}function fe(be,$e){return function(q,ee){for(var R=!1,j;(j=q.next())!=null;){if(j==be&&!R){ee.tokenize=ge;break}R=(ne||$e)&&!R&&j=="\\"}return"string"}}function me(be){return function($e,q){var ee=$e.match(/^.*?(\/\*|\*\/)/);return ee?ee[1]=="/*"?q.tokenize=me(be+1):be>1?q.tokenize=me(be-1):q.tokenize=ge:$e.skipToEnd(),"comment"}}function we(be,$e,q){$e.context={prev:$e.context,indent:be.indentation(),col:be.column(),type:q}}function Se(be){be.indent=be.context.indent,be.context=be.context.prev}return{startState:function(){return{tokenize:ge,context:null}},token:function(be,$e){if(be.sol()&&$e.context&&$e.context.align==null&&($e.context.align=!1),$e.tokenize==ge&&be.eatSpace())return null;var q=$e.tokenize(be,$e);if(q=="comment")return q;$e.context&&$e.context.align==null&&($e.context.align=!0);var ee=be.current();return ee=="("?we(be,$e,")"):ee=="["?we(be,$e,"]"):$e.context&&$e.context.type==ee&&Se($e),q},indent:function(be,$e){var q=be.context;if(!q)return r.Pass;var ee=$e.charAt(0)==q.type;return q.align?q.col+(ee?0:1):q.indent+(ee?0:g.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:$.commentSlashSlash?"//":$.commentHash?"#":"--",closeBrackets:"()[]{}''\"\"``"}});function e(g){for(var w;(w=g.next())!=null;)if(w=="`"&&!g.eat("`"))return"variable-2";return g.backUp(g.current().length-1),g.eatWhile(/\w/)?"variable-2":null}function t(g){for(var w;(w=g.next())!=null;)if(w=='"'&&!g.eat('"'))return"variable-2";return g.backUp(g.current().length-1),g.eatWhile(/\w/)?"variable-2":null}function n(g){return g.eat("@")&&(g.match(/^session\./),g.match(/^local\./),g.match(/^global\./)),g.eat("'")?(g.match(/^.*'/),"variable-2"):g.eat('"')?(g.match(/^.*"/),"variable-2"):g.eat("`")?(g.match(/^.*`/),"variable-2"):g.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function i(g){return g.eat("N")?"atom":g.match(/^[a-zA-Z.#!?]/)?"variable-2":null}var a="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ";function l(g){for(var w={},C=g.split(" "),D=0;D<C.length;++D)w[C[D]]=!0;return w}var h="bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric";r.defineMIME("text/x-sql",{name:"sql",keywords:l(a+"begin"),builtin:l(h),atoms:l("false true null unknown"),dateSQL:l("date time timestamp"),support:l("ODBCdotTable doubleQuote binaryNumber hexNumber")}),r.defineMIME("text/x-mssql",{name:"sql",client:l("$partition binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id"),keywords:l(a+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx updlock with"),builtin:l("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:l("is not null like and or in left right between inner outer join all any some cross unpivot pivot exists"),operatorChars:/^[*+\-%<>!=^\&|\/]/,brackets:/^[\{}\(\)]/,punctuation:/^[;.,:/]/,backslashStringEscapes:!1,dateSQL:l("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":n}}),r.defineMIME("text/x-mysql",{name:"sql",client:l("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:l(a+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:l("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:l("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:l("date time timestamp"),support:l("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":n,"`":e,"\\":i}}),r.defineMIME("text/x-mariadb",{name:"sql",client:l("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:l(a+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:l("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:l("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:l("date time timestamp"),support:l("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":n,"`":e,"\\":i}}),r.defineMIME("text/x-sqlite",{name:"sql",client:l("auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width"),keywords:l(a+"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without"),builtin:l("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real"),atoms:l("null current_date current_time current_timestamp"),operatorChars:/^[*+\-%<>!=&|/~]/,dateSQL:l("date time timestamp datetime"),support:l("decimallessFloat zerolessFloat"),identifierQuote:'"',hooks:{"@":n,":":n,"?":n,$:n,'"':t,"`":e}}),r.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:l("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),builtin:l("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:l("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:l("commentSlashSlash decimallessFloat"),hooks:{}}),r.defineMIME("text/x-plsql",{name:"sql",client:l("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:l("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:l("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*\/+\-%<>!=~]/,dateSQL:l("date time timestamp"),support:l("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")}),r.defineMIME("text/x-hive",{name:"sql",keywords:l("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with admin authorization char compact compactions conf cube current current_date current_timestamp day decimal defined dependency directories elem_type exchange file following for grouping hour ignore inner interval jar less logical macro minute month more none noscan over owner partialscan preceding pretty principals protection reload rewrite role roles rollup rows second server sets skewed transactions truncate unbounded unset uri user values window year"),builtin:l("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype key_type utctimestamp value_type varchar"),atoms:l("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:l("date timestamp"),support:l("ODBCdotTable doubleQuote binaryNumber hexNumber")}),r.defineMIME("text/x-pgsql",{name:"sql",client:l("source"),keywords:l(a+"a abort abs absent absolute access according action ada add admin after aggregate alias all allocate also alter always analyse analyze and any are array array_agg array_max_cardinality as asc asensitive assert assertion assignment asymmetric at atomic attach attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli between bigint binary bit bit_length blob blocked bom boolean both breadth by c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain char char_length character character_length character_set_catalog character_set_name character_set_schema characteristics characters check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column column_name columns command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constant constraint constraint_catalog constraint_name constraint_schema constraints constructor contains content continue control conversion convert copy corr corresponding cost count covar_pop covar_samp create cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datatype date datetime_interval_code datetime_interval_precision day db deallocate debug dec decimal declare default defaults deferrable deferred defined definer degree delete delimiter delimiters dense_rank depends depth deref derived desc describe descriptor detach detail deterministic diagnostics dictionary disable discard disconnect dispatch distinct dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain double drop dump dynamic dynamic_function dynamic_function_code each element else elseif elsif empty enable encoding encrypted end end_frame end_partition endexec enforced enum equals errcode error escape event every except exception exclude excluding exclusive exec execute exists exit exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreach foreign fortran forward found frame_row free freeze from fs full function functions fusion g general generated get global go goto grant granted greatest group grouping groups handler having header hex hierarchy hint hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import in include including increment indent index indexes indicator info inherit inherits initially inline inner inout input insensitive insert instance instantiable instead int integer integrity intersect intersection interval into invoker is isnull isolation join k key key_member key_type label lag language large last last_value lateral lead leading leakproof least left length level library like like_regex limit link listen ln load local localtime localtimestamp location locator lock locked log logged loop lower m map mapping match matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized not nothing notice notify notnull nowait nth_value ntile null nullable nullif nulls number numeric object occurrences_regex octet_length octets of off offset oids old on only open operator option options or order ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parallel parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password path percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding precision prepare prepared preserve primary print_strict_params prior privileges procedural procedure procedures program public publication query quote raise range rank read reads real reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict result result_oid return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns reverse revoke right role rollback rollup routine routine_catalog routine_name routine_schema routines row row_count row_number rows rowtype rule savepoint scale schema schema_name schemas scope scope_catalog scope_name scope_schema scroll search second section security select selective self sensitive sequence sequences serializable server server_name session session_user set setof sets share show similar simple size skip slice smallint snapshot some source space specific specific_name specifictype sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable stacked standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time system_user t table table_name tables tablesample tablespace temp template temporary text then ties time timestamp timezone_hour timezone_minute to token top_level_count trailing transaction transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted union unique unknown unlink unlisten unlogged unnamed unnest until untyped update upper uri usage use_column use_variable user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of values var_pop var_samp varbinary varchar variable_conflict variadic varying verbose version versioning view views volatile warning when whenever where while whitespace width_bucket window with within without work wrapper write xml xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes zone"),builtin:l("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:l("false true null unknown"),operatorChars:/^[*\/+\-%<>!=&|^\/#@?~]/,backslashStringEscapes:!1,dateSQL:l("date time timestamp"),support:l("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast escapeConstant")}),r.defineMIME("text/x-gql",{name:"sql",keywords:l("ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where"),atoms:l("false true"),builtin:l("blob datetime first key __key__ string integer double boolean null"),operatorChars:/^[*+\-%<>!=]/}),r.defineMIME("text/x-gpsql",{name:"sql",client:l("source"),keywords:l("abort absolute access action active add admin after aggregate all also alter always analyse analyze and any array as asc assertion assignment asymmetric at authorization backward before begin between bigint binary bit boolean both by cache called cascade cascaded case cast chain char character characteristics check checkpoint class close cluster coalesce codegen collate column comment commit committed concurrency concurrently configuration connection constraint constraints contains content continue conversion copy cost cpu_rate_limit create createdb createexttable createrole createuser cross csv cube current current_catalog current_date current_role current_schema current_time current_timestamp current_user cursor cycle data database day deallocate dec decimal declare decode default defaults deferrable deferred definer delete delimiter delimiters deny desc dictionary disable discard distinct distributed do document domain double drop dxl each else enable encoding encrypted end enum errors escape every except exchange exclude excluding exclusive execute exists explain extension external extract false family fetch fields filespace fill filter first float following for force foreign format forward freeze from full function global grant granted greatest group group_id grouping handler hash having header hold host hour identity if ignore ilike immediate immutable implicit in including inclusive increment index indexes inherit inherits initially inline inner inout input insensitive insert instead int integer intersect interval into invoker is isnull isolation join key language large last leading least left level like limit list listen load local localtime localtimestamp location lock log login mapping master match maxvalue median merge minute minvalue missing mode modifies modify month move name names national natural nchar new newline next no nocreatedb nocreateexttable nocreaterole nocreateuser noinherit nologin none noovercommit nosuperuser not nothing notify notnull nowait null nullif nulls numeric object of off offset oids old on only operator option options or order ordered others out outer over overcommit overlaps overlay owned owner parser partial partition partitions passing password percent percentile_cont percentile_disc placing plans position preceding precision prepare prepared preserve primary prior privileges procedural procedure protocol queue quote randomly range read readable reads real reassign recheck recursive ref references reindex reject relative release rename repeatable replace replica reset resource restart restrict returning returns revoke right role rollback rollup rootpartition row rows rule savepoint scatter schema scroll search second security segment select sequence serializable session session_user set setof sets share show similar simple smallint some split sql stable standalone start statement statistics stdin stdout storage strict strip subpartition subpartitions substring superuser symmetric sysid system table tablespace temp template temporary text then threshold ties time timestamp to trailing transaction treat trigger trim true truncate trusted type unbounded uncommitted unencrypted union unique unknown unlisten until update user using vacuum valid validation validator value values varchar variadic varying verbose version view volatile web when where whitespace window with within without work writable write xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlparse xmlpi xmlroot xmlserialize year yes zone"),builtin:l("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:l("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:l("date time timestamp"),support:l("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")}),r.defineMIME("text/x-sparksql",{name:"sql",keywords:l("add after all alter analyze and anti archive array as asc at between bucket buckets by cache cascade case cast change clear cluster clustered codegen collection column columns comment commit compact compactions compute concatenate cost create cross cube current current_date current_timestamp database databases datata dbproperties defined delete delimited deny desc describe dfs directories distinct distribute drop else end escaped except exchange exists explain export extended external false fields fileformat first following for format formatted from full function functions global grant group grouping having if ignore import in index indexes inner inpath inputformat insert intersect interval into is items join keys last lateral lazy left like limit lines list load local location lock locks logical macro map minus msck natural no not null nulls of on optimize option options or order out outer outputformat over overwrite partition partitioned partitions percent preceding principals purge range recordreader recordwriter recover reduce refresh regexp rename repair replace reset restrict revoke right rlike role roles rollback rollup row rows schema schemas select semi separated serde serdeproperties set sets show skewed sort sorted start statistics stored stratify struct table tables tablesample tblproperties temp temporary terminated then to touch transaction transactions transform true truncate unarchive unbounded uncache union unlock unset use using values view when where window with"),builtin:l("tinyint smallint int bigint boolean float double string binary timestamp decimal array map struct uniontype delimited serde sequencefile textfile rcfile inputformat outputformat"),atoms:l("false true null"),operatorChars:/^[*\/+\-%<>!=~&|^]/,dateSQL:l("date time timestamp"),support:l("ODBCdotTable doubleQuote zerolessFloat")}),r.defineMIME("text/x-esper",{name:"sql",client:l("source"),keywords:l("alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit after all and as at asc avedev avg between by case cast coalesce count create current_timestamp day days delete define desc distinct else end escape events every exists false first from full group having hour hours in inner insert instanceof into irstream is istream join last lastweekday left limit like max match_recognize matches median measures metadatasql min minute minutes msec millisecond milliseconds not null offset on or order outer output partition pattern prev prior regexp retain-union retain-intersection right rstream sec second seconds select set some snapshot sql stddev sum then true unidirectional until update variable weekday when where window"),builtin:{},atoms:l("false true null"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:l("time"),support:l("decimallessFloat zerolessFloat binaryNumber hexNumber")})})});var pve=de((hve,dve)=>{(function(r){typeof hve=="object"&&typeof dve=="object"?r(Gs()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.overlayMode=function(e,t,n){return{startState:function(){return{base:r.startState(e),overlay:r.startState(t),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(i){return{base:r.copyState(e,i.base),overlay:r.copyState(t,i.overlay),basePos:i.basePos,baseCur:null,overlayPos:i.overlayPos,overlayCur:null}},token:function(i,a){return(i!=a.streamSeen||Math.min(a.basePos,a.overlayPos)<i.start)&&(a.streamSeen=i,a.basePos=a.overlayPos=i.start),i.start==a.basePos&&(a.baseCur=e.token(i,a.base),a.basePos=i.pos),i.start==a.overlayPos&&(i.pos=i.start,a.overlayCur=t.token(i,a.overlay),a.overlayPos=i.pos),i.pos=Math.min(a.basePos,a.overlayPos),a.overlayCur==null?a.baseCur:a.baseCur!=null&&a.overlay.combineTokens||n&&a.overlay.combineTokens==null?a.baseCur+" "+a.overlayCur:a.overlayCur},indent:e.indent&&function(i,a,l){return e.indent(i.base,a,l)},electricChars:e.electricChars,innerMode:function(i){return{state:i.base,mode:e}},blankLine:function(i){var a,l;return e.blankLine&&(a=e.blankLine(i.base)),t.blankLine&&(l=t.blankLine(i.overlay)),l==null?a:n&&a!=null?a+" "+l:l}}}})});var vve=de((mve,gve)=>{(function(r){typeof mve=="object"&&typeof gve=="object"?r(Gs()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("coffeescript",function(e,t){var n="error";function i(we){return new RegExp("^(("+we.join(")|(")+"))\\b")}var a=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/,l=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,h=/^[_A-Za-z$][_A-Za-z$0-9]*/,g=/^@[_A-Za-z$][_A-Za-z$0-9]*/,w=i(["and","or","not","is","isnt","in","instanceof","typeof"]),C=["for","while","loop","if","unless","else","switch","try","catch","finally","class"],D=["break","by","continue","debugger","delete","do","in","of","new","return","then","this","@","throw","when","until","extends"],F=i(C.concat(D));C=i(C);var z=/^('{3}|\"{3}|['\"])/,Y=/^(\/{3}|\/)/,$=["Infinity","NaN","undefined","null","true","false","on","off","yes","no"],re=i($);function oe(we,Se){if(we.sol()){Se.scope.align===null&&(Se.scope.align=!1);var be=Se.scope.offset;if(we.eatSpace()){var $e=we.indentation();return $e>be&&Se.scope.type=="coffee"?"indent":$e<be?"dedent":null}else be>0&&ge(we,Se)}if(we.eatSpace())return null;var q=we.peek();if(we.match("####"))return we.skipToEnd(),"comment";if(we.match("###"))return Se.tokenize=he,Se.tokenize(we,Se);if(q==="#")return we.skipToEnd(),"comment";if(we.match(/^-?[0-9\.]/,!1)){var ee=!1;if(we.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(ee=!0),we.match(/^-?\d+\.\d*/)&&(ee=!0),we.match(/^-?\.\d+/)&&(ee=!0),ee)return we.peek()=="."&&we.backUp(1),"number";var R=!1;if(we.match(/^-?0x[0-9a-f]+/i)&&(R=!0),we.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(R=!0),we.match(/^-?0(?![\dx])/i)&&(R=!0),R)return"number"}if(we.match(z))return Se.tokenize=ne(we.current(),!1,"string"),Se.tokenize(we,Se);if(we.match(Y)){if(we.current()!="/"||we.match(/^.*\//,!1))return Se.tokenize=ne(we.current(),!0,"string-2"),Se.tokenize(we,Se);we.backUp(1)}return we.match(a)||we.match(w)?"operator":we.match(l)?"punctuation":we.match(re)?"atom":we.match(g)||Se.prop&&we.match(h)?"property":we.match(F)?"keyword":we.match(h)?"variable":(we.next(),n)}function ne(we,Se,be){return function($e,q){for(;!$e.eol();)if($e.eatWhile(/[^'"\/\\]/),$e.eat("\\")){if($e.next(),Se&&$e.eol())return be}else{if($e.match(we))return q.tokenize=oe,be;$e.eat(/['"\/]/)}return Se&&(t.singleLineStringErrors?be=n:q.tokenize=oe),be}}function he(we,Se){for(;!we.eol();){if(we.eatWhile(/[^#]/),we.match("###")){Se.tokenize=oe;break}we.eatWhile("#")}return"comment"}function _(we,Se,be){be=be||"coffee";for(var $e=0,q=!1,ee=null,R=Se.scope;R;R=R.prev)if(R.type==="coffee"||R.type=="}"){$e=R.offset+e.indentUnit;break}be!=="coffee"?(q=null,ee=we.column()+we.current().length):Se.scope.align&&(Se.scope.align=!1),Se.scope={offset:$e,type:be,prev:Se.scope,align:q,alignOffset:ee}}function ge(we,Se){if(!!Se.scope.prev)if(Se.scope.type==="coffee"){for(var be=we.indentation(),$e=!1,q=Se.scope;q;q=q.prev)if(be===q.offset){$e=!0;break}if(!$e)return!0;for(;Se.scope.prev&&Se.scope.offset!==be;)Se.scope=Se.scope.prev;return!1}else return Se.scope=Se.scope.prev,!1}function fe(we,Se){var be=Se.tokenize(we,Se),$e=we.current();$e==="return"&&(Se.dedent=!0),(($e==="->"||$e==="=>")&&we.eol()||be==="indent")&&_(we,Se);var q="[({".indexOf($e);if(q!==-1&&_(we,Se,"])}".slice(q,q+1)),C.exec($e)&&_(we,Se),$e=="then"&&ge(we,Se),be==="dedent"&&ge(we,Se))return n;if(q="])}".indexOf($e),q!==-1){for(;Se.scope.type=="coffee"&&Se.scope.prev;)Se.scope=Se.scope.prev;Se.scope.type==$e&&(Se.scope=Se.scope.prev)}return Se.dedent&&we.eol()&&(Se.scope.type=="coffee"&&Se.scope.prev&&(Se.scope=Se.scope.prev),Se.dedent=!1),be}var me={startState:function(we){return{tokenize:oe,scope:{offset:we||0,type:"coffee",prev:null,align:!1},prop:!1,dedent:0}},token:function(we,Se){var be=Se.scope.align===null&&Se.scope;be&&we.sol()&&(be.align=!1);var $e=fe(we,Se);return $e&&$e!="comment"&&(be&&(be.align=!0),Se.prop=$e=="punctuation"&&we.current()=="."),$e},indent:function(we,Se){if(we.tokenize!=oe)return 0;var be=we.scope,$e=Se&&"])}".indexOf(Se.charAt(0))>-1;if($e)for(;be.type=="coffee"&&be.prev;)be=be.prev;var q=$e&&be.type===Se.charAt(0);return be.align?be.alignOffset-(q?1:0):(q?be.prev:be).offset},lineComment:"#",fold:"indent"};return me}),r.defineMIME("application/vnd.coffeescript","coffeescript"),r.defineMIME("text/x-coffeescript","coffeescript"),r.defineMIME("text/coffeescript","coffeescript")})});var xve=de((yve,bve)=>{(function(r){typeof yve=="object"&&typeof bve=="object"?r(Gs()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("stylus",function(ne){for(var he=ne.indentUnit,_="",ge=re(e),fe=/^(a|b|i|s|col|em)$/i,me=re(a),we=re(l),Se=re(w),be=re(g),$e=re(t),q=$(t),ee=re(i),R=re(n),j=re(h),G=/^\s*([.]{2,3}|&&|\|\||\*\*|[?!=:]?=|[-+*\/%<>]=?|\?:|\~)/,V=$(C),te=re(D),_e=new RegExp(/^\-(moz|ms|o|webkit)-/i),K=re(F),U="",Ue={},Je,Qe,Ct,Tt;_.length<he;)_+=" ";function Ht(et,pt){if(U=et.string.match(/(^[\w-]+\s*=\s*$)|(^\s*[\w-]+\s*=\s*[\w-])|(^\s*(\.|#|@|\$|\&|\[|\d|\+|::?|\{|\>|~|\/)?\s*[\w-]*([a-z0-9-]|\*|\/\*)(\(|,)?)/),pt.context.line.firstWord=U?U[0].replace(/^\s*/,""):"",pt.context.line.indent=et.indentation(),Je=et.peek(),et.match("//"))return et.skipToEnd(),["comment","comment"];if(et.match("/*"))return pt.tokenize=Rt,Rt(et,pt);if(Je=='"'||Je=="'")return et.next(),pt.tokenize=Yt(Je),pt.tokenize(et,pt);if(Je=="@")return et.next(),et.eatWhile(/[\w\\-]/),["def",et.current()];if(Je=="#"){if(et.next(),et.match(/^[0-9a-f]{3}([0-9a-f]([0-9a-f]{2}){0,2})?\b(?!-)/i))return["atom","atom"];if(et.match(/^[a-z][\w-]*/i))return["builtin","hash"]}return et.match(_e)?["meta","vendor-prefixes"]:et.match(/^-?[0-9]?\.?[0-9]/)?(et.eatWhile(/[a-z%]/i),["number","unit"]):Je=="!"?(et.next(),[et.match(/^(important|optional)/i)?"keyword":"operator","important"]):Je=="."&&et.match(/^\.[a-z][\w-]*/i)?["qualifier","qualifier"]:et.match(q)?(et.peek()=="("&&(pt.tokenize=cr),["property","word"]):et.match(/^[a-z][\w-]*\(/i)?(et.backUp(1),["keyword","mixin"]):et.match(/^(\+|-)[a-z][\w-]*\(/i)?(et.backUp(1),["keyword","block-mixin"]):et.string.match(/^\s*&/)&&et.match(/^[-_]+[a-z][\w-]*/)?["qualifier","qualifier"]:et.match(/^(\/|&)(-|_|:|\.|#|[a-z])/)?(et.backUp(1),["variable-3","reference"]):et.match(/^&{1}\s*$/)?["variable-3","reference"]:et.match(V)?["operator","operator"]:et.match(/^\$?[-_]*[a-z0-9]+[\w-]*/i)?et.match(/^(\.|\[)[\w-\'\"\]]+/i,!1)&&!ce(et.current())?(et.match(/\./),["variable-2","variable-name"]):["variable-2","word"]:et.match(G)?["operator",et.current()]:/[:;,{}\[\]\(\)]/.test(Je)?(et.next(),[null,Je]):(et.next(),[null,null])}function Rt(et,pt){for(var er=!1,Lr;(Lr=et.next())!=null;){if(er&&Lr=="/"){pt.tokenize=null;break}er=Lr=="*"}return["comment","comment"]}function Yt(et){return function(pt,er){for(var Lr=!1,ki;(ki=pt.next())!=null;){if(ki==et&&!Lr){et==")"&&pt.backUp(1);break}Lr=!Lr&&ki=="\\"}return(ki==et||!Lr&&et!=")")&&(er.tokenize=null),["string","string"]}}function cr(et,pt){return et.next(),et.match(/\s*[\"\')]/,!1)?pt.tokenize=null:pt.tokenize=Yt(")"),[null,"("]}function Tr(et,pt,er,Lr){this.type=et,this.indent=pt,this.prev=er,this.line=Lr||{firstWord:"",indent:0}}function ir(et,pt,er,Lr){return Lr=Lr>=0?Lr:he,et.context=new Tr(er,pt.indentation()+Lr,et.context),er}function At(et,pt){var er=et.context.indent-he;return pt=pt||!1,et.context=et.context.prev,pt&&(et.context.indent=er),et.context.type}function kt(et,pt,er){return Ue[er.context.type](et,pt,er)}function rt(et,pt,er,Lr){for(var ki=Lr||1;ki>0;ki--)er.context=er.context.prev;return kt(et,pt,er)}function ce(et){return et.toLowerCase()in ge}function Te(et){return et=et.toLowerCase(),et in me||et in j}function Ne(et){return et.toLowerCase()in te}function Wt(et){return et.toLowerCase().match(_e)}function ft(et){var pt=et.toLowerCase(),er="variable-2";return ce(et)?er="tag":Ne(et)?er="block-keyword":Te(et)?er="property":pt in Se||pt in K?er="atom":pt=="return"||pt in be?er="keyword":et.match(/^[A-Z]/)&&(er="string"),er}function qt(et,pt){return Dr(pt)&&(et=="{"||et=="]"||et=="hash"||et=="qualifier")||et=="block-mixin"}function Nt(et,pt){return et=="{"&&pt.match(/^\s*\$?[\w-]+/i,!1)}function vr(et,pt){return et==":"&&pt.match(/^[a-z-]+/,!1)}function _r(et){return et.sol()||et.string.match(new RegExp("^\\s*"+oe(et.current())))}function Dr(et){return et.eol()||et.match(/^\s*$/,!1)}function kr(et){var pt=/^\s*[-_]*[a-z0-9]+[\w-]*/i,er=typeof et=="string"?et.match(pt):et.string.match(pt);return er?er[0].replace(/^\s*/,""):""}return Ue.block=function(et,pt,er){if(et=="comment"&&_r(pt)||et==","&&Dr(pt)||et=="mixin")return ir(er,pt,"block",0);if(Nt(et,pt))return ir(er,pt,"interpolation");if(Dr(pt)&&et=="]"&&!/^\s*(\.|#|:|\[|\*|&)/.test(pt.string)&&!ce(kr(pt)))return ir(er,pt,"block",0);if(qt(et,pt))return ir(er,pt,"block");if(et=="}"&&Dr(pt))return ir(er,pt,"block",0);if(et=="variable-name")return pt.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/)||Ne(kr(pt))?ir(er,pt,"variableName"):ir(er,pt,"variableName",0);if(et=="=")return!Dr(pt)&&!Ne(kr(pt))?ir(er,pt,"block",0):ir(er,pt,"block");if(et=="*"&&(Dr(pt)||pt.match(/\s*(,|\.|#|\[|:|{)/,!1)))return Tt="tag",ir(er,pt,"block");if(vr(et,pt))return ir(er,pt,"pseudo");if(/@(font-face|media|supports|(-moz-)?document)/.test(et))return ir(er,pt,Dr(pt)?"block":"atBlock");if(/@(-(moz|ms|o|webkit)-)?keyframes$/.test(et))return ir(er,pt,"keyframes");if(/@extends?/.test(et))return ir(er,pt,"extend",0);if(et&&et.charAt(0)=="@")return pt.indentation()>0&&Te(pt.current().slice(1))?(Tt="variable-2","block"):/(@import|@require|@charset)/.test(et)?ir(er,pt,"block",0):ir(er,pt,"block");if(et=="reference"&&Dr(pt))return ir(er,pt,"block");if(et=="(")return ir(er,pt,"parens");if(et=="vendor-prefixes")return ir(er,pt,"vendorPrefixes");if(et=="word"){var Lr=pt.current();if(Tt=ft(Lr),Tt=="property")return _r(pt)?ir(er,pt,"block",0):(Tt="atom","block");if(Tt=="tag"){if(/embed|menu|pre|progress|sub|table/.test(Lr)&&Te(kr(pt))||pt.string.match(new RegExp("\\[\\s*"+Lr+"|"+Lr+"\\s*\\]")))return Tt="atom","block";if(fe.test(Lr)&&(_r(pt)&&pt.string.match(/=/)||!_r(pt)&&!pt.string.match(/^(\s*\.|#|\&|\[|\/|>|\*)/)&&!ce(kr(pt))))return Tt="variable-2",Ne(kr(pt))?"block":ir(er,pt,"block",0);if(Dr(pt))return ir(er,pt,"block")}if(Tt=="block-keyword")return Tt="keyword",pt.current(/(if|unless)/)&&!_r(pt)?"block":ir(er,pt,"block");if(Lr=="return")return ir(er,pt,"block",0);if(Tt=="variable-2"&&pt.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/))return ir(er,pt,"block")}return er.context.type},Ue.parens=function(et,pt,er){if(et=="(")return ir(er,pt,"parens");if(et==")")return er.context.prev.type=="parens"?At(er):pt.string.match(/^[a-z][\w-]*\(/i)&&Dr(pt)||Ne(kr(pt))||/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(kr(pt))||!pt.string.match(/^-?[a-z][\w-\.\[\]\'\"]*\s*=/)&&ce(kr(pt))?ir(er,pt,"block"):pt.string.match(/^[\$-]?[a-z][\w-\.\[\]\'\"]*\s*=/)||pt.string.match(/^\s*(\(|\)|[0-9])/)||pt.string.match(/^\s+[a-z][\w-]*\(/i)||pt.string.match(/^\s+[\$-]?[a-z]/i)?ir(er,pt,"block",0):Dr(pt)?ir(er,pt,"block"):ir(er,pt,"block",0);if(et&&et.charAt(0)=="@"&&Te(pt.current().slice(1))&&(Tt="variable-2"),et=="word"){var Lr=pt.current();Tt=ft(Lr),Tt=="tag"&&fe.test(Lr)&&(Tt="variable-2"),(Tt=="property"||Lr=="to")&&(Tt="atom")}return et=="variable-name"?ir(er,pt,"variableName"):vr(et,pt)?ir(er,pt,"pseudo"):er.context.type},Ue.vendorPrefixes=function(et,pt,er){return et=="word"?(Tt="property",ir(er,pt,"block",0)):At(er)},Ue.pseudo=function(et,pt,er){return Te(kr(pt.string))?rt(et,pt,er):(pt.match(/^[a-z-]+/),Tt="variable-3",Dr(pt)?ir(er,pt,"block"):At(er))},Ue.atBlock=function(et,pt,er){if(et=="(")return ir(er,pt,"atBlock_parens");if(qt(et,pt))return ir(er,pt,"block");if(Nt(et,pt))return ir(er,pt,"interpolation");if(et=="word"){var Lr=pt.current().toLowerCase();if(/^(only|not|and|or)$/.test(Lr)?Tt="keyword":$e.hasOwnProperty(Lr)?Tt="tag":R.hasOwnProperty(Lr)?Tt="attribute":ee.hasOwnProperty(Lr)?Tt="property":we.hasOwnProperty(Lr)?Tt="string-2":Tt=ft(pt.current()),Tt=="tag"&&Dr(pt))return ir(er,pt,"block")}return et=="operator"&&/^(not|and|or)$/.test(pt.current())&&(Tt="keyword"),er.context.type},Ue.atBlock_parens=function(et,pt,er){if(et=="{"||et=="}")return er.context.type;if(et==")")return Dr(pt)?ir(er,pt,"block"):ir(er,pt,"atBlock");if(et=="word"){var Lr=pt.current().toLowerCase();return Tt=ft(Lr),/^(max|min)/.test(Lr)&&(Tt="property"),Tt=="tag"&&(fe.test(Lr)?Tt="variable-2":Tt="atom"),er.context.type}return Ue.atBlock(et,pt,er)},Ue.keyframes=function(et,pt,er){return pt.indentation()=="0"&&(et=="}"&&_r(pt)||et=="]"||et=="hash"||et=="qualifier"||ce(pt.current()))?rt(et,pt,er):et=="{"?ir(er,pt,"keyframes"):et=="}"?_r(pt)?At(er,!0):ir(er,pt,"keyframes"):et=="unit"&&/^[0-9]+\%$/.test(pt.current())?ir(er,pt,"keyframes"):et=="word"&&(Tt=ft(pt.current()),Tt=="block-keyword")?(Tt="keyword",ir(er,pt,"keyframes")):/@(font-face|media|supports|(-moz-)?document)/.test(et)?ir(er,pt,Dr(pt)?"block":"atBlock"):et=="mixin"?ir(er,pt,"block",0):er.context.type},Ue.interpolation=function(et,pt,er){return et=="{"&&At(er)&&ir(er,pt,"block"),et=="}"?pt.string.match(/^\s*(\.|#|:|\[|\*|&|>|~|\+|\/)/i)||pt.string.match(/^\s*[a-z]/i)&&ce(kr(pt))?ir(er,pt,"block"):!pt.string.match(/^(\{|\s*\&)/)||pt.match(/\s*[\w-]/,!1)?ir(er,pt,"block",0):ir(er,pt,"block"):et=="variable-name"?ir(er,pt,"variableName",0):(et=="word"&&(Tt=ft(pt.current()),Tt=="tag"&&(Tt="atom")),er.context.type)},Ue.extend=function(et,pt,er){return et=="["||et=="="?"extend":et=="]"?At(er):et=="word"?(Tt=ft(pt.current()),"extend"):At(er)},Ue.variableName=function(et,pt,er){return et=="string"||et=="["||et=="]"||pt.current().match(/^(\.|\$)/)?(pt.current().match(/^\.[\w-]+/i)&&(Tt="variable-2"),"variableName"):rt(et,pt,er)},{startState:function(et){return{tokenize:null,state:"block",context:new Tr("block",et||0,null)}},token:function(et,pt){return!pt.tokenize&&et.eatSpace()?null:(Qe=(pt.tokenize||Ht)(et,pt),Qe&&typeof Qe=="object"&&(Ct=Qe[1],Qe=Qe[0]),Tt=Qe,pt.state=Ue[pt.state](Ct,et,pt),Tt)},indent:function(et,pt,er){var Lr=et.context,ki=pt&&pt.charAt(0),zr=Lr.indent,$n=kr(pt),Dt=er.match(/^\s*/)[0].replace(/\t/g,_).length,Et=et.context.prev?et.context.prev.line.firstWord:"",Er=et.context.prev?et.context.prev.line.indent:Dt;return Lr.prev&&(ki=="}"&&(Lr.type=="block"||Lr.type=="atBlock"||Lr.type=="keyframes")||ki==")"&&(Lr.type=="parens"||Lr.type=="atBlock_parens")||ki=="{"&&Lr.type=="at")?zr=Lr.indent-he:/(\})/.test(ki)||(/@|\$|\d/.test(ki)||/^\{/.test(pt)||/^\s*\/(\/|\*)/.test(pt)||/^\s*\/\*/.test(Et)||/^\s*[\w-\.\[\]\'\"]+\s*(\?|:|\+)?=/i.test(pt)||/^(\+|-)?[a-z][\w-]*\(/i.test(pt)||/^return/.test(pt)||Ne($n)?zr=Dt:/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(ki)||ce($n)?/\,\s*$/.test(Et)?zr=Er:/^\s+/.test(er)&&(/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(Et)||ce(Et))?zr=Dt<=Er?Er:Er+he:zr=Dt:!/,\s*$/.test(er)&&(Wt($n)||Te($n))&&(Ne(Et)?zr=Dt<=Er?Er:Er+he:/^\{/.test(Et)?zr=Dt<=Er?Dt:Er+he:Wt(Et)||Te(Et)?zr=Dt>=Er?Er:Dt:/^(\.|#|:|\[|\*|&|@|\+|\-|>|~|\/)/.test(Et)||/=\s*$/.test(Et)||ce(Et)||/^\$[\w-\.\[\]\'\"]/.test(Et)?zr=Er+he:zr=Dt)),zr},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"indent"}});var e=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","bgsound","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","nobr","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video"],t=["domain","regexp","url-prefix","url"],n=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],i=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],a=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode","font-smoothing","osx-font-smoothing"],l=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],h=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],g=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],w=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scale","scale3d","scaleX","scaleY","scaleZ","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","x-large","x-small","xor","xx-large","xx-small","bicubic","optimizespeed","grayscale","row","row-reverse","wrap","wrap-reverse","column-reverse","flex-start","flex-end","space-between","space-around","unset"],C=["in","and","or","not","is not","is a","is","isnt","defined","if unless"],D=["for","if","else","unless","from","to"],F=["null","true","false","href","title","type","not-allowed","readonly","disabled"],z=["@font-face","@keyframes","@media","@viewport","@page","@host","@supports","@block","@css"],Y=e.concat(t,n,i,a,l,g,w,h,C,D,F,z);function $(ne){return ne=ne.sort(function(he,_){return _>he}),new RegExp("^(("+ne.join(")|(")+"))\\b")}function re(ne){for(var he={},_=0;_<ne.length;++_)he[ne[_]]=!0;return he}function oe(ne){return ne.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}r.registerHelper("hintWords","stylus",Y),r.defineMIME("text/x-styl","stylus")})});var Sve=de((_ve,wve)=>{(function(r){typeof _ve=="object"&&typeof wve=="object"?r(Gs(),bE(),X_(),fM()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../javascript/javascript","../css/css","../htmlmixed/htmlmixed"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("pug",function(e){var t="keyword",n="meta",i="builtin",a="qualifier",l={"{":"}","(":")","[":"]"},h=r.getMode(e,"javascript");function g(){this.javaScriptLine=!1,this.javaScriptLineExcludesColon=!1,this.javaScriptArguments=!1,this.javaScriptArgumentsDepth=0,this.isInterpolating=!1,this.interpolationNesting=0,this.jsState=r.startState(h),this.restOfLine="",this.isIncludeFiltered=!1,this.isEach=!1,this.lastTag="",this.scriptType="",this.isAttrs=!1,this.attrsNest=[],this.inAttributeName=!0,this.attributeIsType=!1,this.attrValue="",this.indentOf=1/0,this.indentToken="",this.innerMode=null,this.innerState=null,this.innerModeForLine=!1}g.prototype.copy=function(){var ce=new g;return ce.javaScriptLine=this.javaScriptLine,ce.javaScriptLineExcludesColon=this.javaScriptLineExcludesColon,ce.javaScriptArguments=this.javaScriptArguments,ce.javaScriptArgumentsDepth=this.javaScriptArgumentsDepth,ce.isInterpolating=this.isInterpolating,ce.interpolationNesting=this.interpolationNesting,ce.jsState=r.copyState(h,this.jsState),ce.innerMode=this.innerMode,this.innerMode&&this.innerState&&(ce.innerState=r.copyState(this.innerMode,this.innerState)),ce.restOfLine=this.restOfLine,ce.isIncludeFiltered=this.isIncludeFiltered,ce.isEach=this.isEach,ce.lastTag=this.lastTag,ce.scriptType=this.scriptType,ce.isAttrs=this.isAttrs,ce.attrsNest=this.attrsNest.slice(),ce.inAttributeName=this.inAttributeName,ce.attributeIsType=this.attributeIsType,ce.attrValue=this.attrValue,ce.indentOf=this.indentOf,ce.indentToken=this.indentToken,ce.innerModeForLine=this.innerModeForLine,ce};function w(ce,Te){if(ce.sol()&&(Te.javaScriptLine=!1,Te.javaScriptLineExcludesColon=!1),Te.javaScriptLine){if(Te.javaScriptLineExcludesColon&&ce.peek()===":"){Te.javaScriptLine=!1,Te.javaScriptLineExcludesColon=!1;return}var Ne=h.token(ce,Te.jsState);return ce.eol()&&(Te.javaScriptLine=!1),Ne||!0}}function C(ce,Te){if(Te.javaScriptArguments){if(Te.javaScriptArgumentsDepth===0&&ce.peek()!=="("){Te.javaScriptArguments=!1;return}if(ce.peek()==="("?Te.javaScriptArgumentsDepth++:ce.peek()===")"&&Te.javaScriptArgumentsDepth--,Te.javaScriptArgumentsDepth===0){Te.javaScriptArguments=!1;return}var Ne=h.token(ce,Te.jsState);return Ne||!0}}function D(ce){if(ce.match(/^yield\b/))return"keyword"}function F(ce){if(ce.match(/^(?:doctype) *([^\n]+)?/))return n}function z(ce,Te){if(ce.match("#{"))return Te.isInterpolating=!0,Te.interpolationNesting=0,"punctuation"}function Y(ce,Te){if(Te.isInterpolating){if(ce.peek()==="}"){if(Te.interpolationNesting--,Te.interpolationNesting<0)return ce.next(),Te.isInterpolating=!1,"punctuation"}else ce.peek()==="{"&&Te.interpolationNesting++;return h.token(ce,Te.jsState)||!0}}function $(ce,Te){if(ce.match(/^case\b/))return Te.javaScriptLine=!0,t}function re(ce,Te){if(ce.match(/^when\b/))return Te.javaScriptLine=!0,Te.javaScriptLineExcludesColon=!0,t}function oe(ce){if(ce.match(/^default\b/))return t}function ne(ce,Te){if(ce.match(/^extends?\b/))return Te.restOfLine="string",t}function he(ce,Te){if(ce.match(/^append\b/))return Te.restOfLine="variable",t}function _(ce,Te){if(ce.match(/^prepend\b/))return Te.restOfLine="variable",t}function ge(ce,Te){if(ce.match(/^block\b *(?:(prepend|append)\b)?/))return Te.restOfLine="variable",t}function fe(ce,Te){if(ce.match(/^include\b/))return Te.restOfLine="string",t}function me(ce,Te){if(ce.match(/^include:([a-zA-Z0-9\-]+)/,!1)&&ce.match("include"))return Te.isIncludeFiltered=!0,t}function we(ce,Te){if(Te.isIncludeFiltered){var Ne=V(ce,Te);return Te.isIncludeFiltered=!1,Te.restOfLine="string",Ne}}function Se(ce,Te){if(ce.match(/^mixin\b/))return Te.javaScriptLine=!0,t}function be(ce,Te){if(ce.match(/^\+([-\w]+)/))return ce.match(/^\( *[-\w]+ *=/,!1)||(Te.javaScriptArguments=!0,Te.javaScriptArgumentsDepth=0),"variable";if(ce.match(/^\+#{/,!1))return ce.next(),Te.mixinCallAfter=!0,z(ce,Te)}function $e(ce,Te){if(Te.mixinCallAfter)return Te.mixinCallAfter=!1,ce.match(/^\( *[-\w]+ *=/,!1)||(Te.javaScriptArguments=!0,Te.javaScriptArgumentsDepth=0),!0}function q(ce,Te){if(ce.match(/^(if|unless|else if|else)\b/))return Te.javaScriptLine=!0,t}function ee(ce,Te){if(ce.match(/^(- *)?(each|for)\b/))return Te.isEach=!0,t}function R(ce,Te){if(Te.isEach){if(ce.match(/^ in\b/))return Te.javaScriptLine=!0,Te.isEach=!1,t;if(ce.sol()||ce.eol())Te.isEach=!1;else if(ce.next()){for(;!ce.match(/^ in\b/,!1)&&ce.next(););return"variable"}}}function j(ce,Te){if(ce.match(/^while\b/))return Te.javaScriptLine=!0,t}function G(ce,Te){var Ne;if(Ne=ce.match(/^(\w(?:[-:\w]*\w)?)\/?/))return Te.lastTag=Ne[1].toLowerCase(),Te.lastTag==="script"&&(Te.scriptType="application/javascript"),"tag"}function V(ce,Te){if(ce.match(/^:([\w\-]+)/)){var Ne;return e&&e.innerModes&&(Ne=e.innerModes(ce.current().substring(1))),Ne||(Ne=ce.current().substring(1)),typeof Ne=="string"&&(Ne=r.getMode(e,Ne)),cr(ce,Te,Ne),"atom"}}function te(ce,Te){if(ce.match(/^(!?=|-)/))return Te.javaScriptLine=!0,"punctuation"}function _e(ce){if(ce.match(/^#([\w-]+)/))return i}function K(ce){if(ce.match(/^\.([\w-]+)/))return a}function U(ce,Te){if(ce.peek()=="(")return ce.next(),Te.isAttrs=!0,Te.attrsNest=[],Te.inAttributeName=!0,Te.attrValue="",Te.attributeIsType=!1,"punctuation"}function Ue(ce,Te){if(Te.isAttrs){if(l[ce.peek()]&&Te.attrsNest.push(l[ce.peek()]),Te.attrsNest[Te.attrsNest.length-1]===ce.peek())Te.attrsNest.pop();else if(ce.eat(")"))return Te.isAttrs=!1,"punctuation";if(Te.inAttributeName&&ce.match(/^[^=,\)!]+/))return(ce.peek()==="="||ce.peek()==="!")&&(Te.inAttributeName=!1,Te.jsState=r.startState(h),Te.lastTag==="script"&&ce.current().trim().toLowerCase()==="type"?Te.attributeIsType=!0:Te.attributeIsType=!1),"attribute";var Ne=h.token(ce,Te.jsState);if(Te.attributeIsType&&Ne==="string"&&(Te.scriptType=ce.current().toString()),Te.attrsNest.length===0&&(Ne==="string"||Ne==="variable"||Ne==="keyword"))try{return Function("","var x "+Te.attrValue.replace(/,\s*$/,"").replace(/^!/,"")),Te.inAttributeName=!0,Te.attrValue="",ce.backUp(ce.current().length),Ue(ce,Te)}catch{}return Te.attrValue+=ce.current(),Ne||!0}}function Je(ce,Te){if(ce.match(/^&attributes\b/))return Te.javaScriptArguments=!0,Te.javaScriptArgumentsDepth=0,"keyword"}function Qe(ce){if(ce.sol()&&ce.eatSpace())return"indent"}function Ct(ce,Te){if(ce.match(/^ *\/\/(-)?([^\n]*)/))return Te.indentOf=ce.indentation(),Te.indentToken="comment","comment"}function Tt(ce){if(ce.match(/^: */))return"colon"}function Ht(ce,Te){if(ce.match(/^(?:\| ?| )([^\n]+)/))return"string";if(ce.match(/^(<[^\n]*)/,!1))return cr(ce,Te,"htmlmixed"),Te.innerModeForLine=!0,Tr(ce,Te,!0)}function Rt(ce,Te){if(ce.eat(".")){var Ne=null;return Te.lastTag==="script"&&Te.scriptType.toLowerCase().indexOf("javascript")!=-1?Ne=Te.scriptType.toLowerCase().replace(/"|'/g,""):Te.lastTag==="style"&&(Ne="css"),cr(ce,Te,Ne),"dot"}}function Yt(ce){return ce.next(),null}function cr(ce,Te,Ne){Ne=r.mimeModes[Ne]||Ne,Ne=e.innerModes&&e.innerModes(Ne)||Ne,Ne=r.mimeModes[Ne]||Ne,Ne=r.getMode(e,Ne),Te.indentOf=ce.indentation(),Ne&&Ne.name!=="null"?Te.innerMode=Ne:Te.indentToken="string"}function Tr(ce,Te,Ne){if(ce.indentation()>Te.indentOf||Te.innerModeForLine&&!ce.sol()||Ne)return Te.innerMode?(Te.innerState||(Te.innerState=Te.innerMode.startState?r.startState(Te.innerMode,ce.indentation()):{}),ce.hideFirstChars(Te.indentOf+2,function(){return Te.innerMode.token(ce,Te.innerState)||!0})):(ce.skipToEnd(),Te.indentToken);ce.sol()&&(Te.indentOf=1/0,Te.indentToken=null,Te.innerMode=null,Te.innerState=null)}function ir(ce,Te){if(ce.sol()&&(Te.restOfLine=""),Te.restOfLine){ce.skipToEnd();var Ne=Te.restOfLine;return Te.restOfLine="",Ne}}function At(){return new g}function kt(ce){return ce.copy()}function rt(ce,Te){var Ne=Tr(ce,Te)||ir(ce,Te)||Y(ce,Te)||we(ce,Te)||R(ce,Te)||Ue(ce,Te)||w(ce,Te)||C(ce,Te)||$e(ce,Te)||D(ce)||F(ce)||z(ce,Te)||$(ce,Te)||re(ce,Te)||oe(ce)||ne(ce,Te)||he(ce,Te)||_(ce,Te)||ge(ce,Te)||fe(ce,Te)||me(ce,Te)||Se(ce,Te)||be(ce,Te)||q(ce,Te)||ee(ce,Te)||j(ce,Te)||G(ce,Te)||V(ce,Te)||te(ce,Te)||_e(ce)||K(ce)||U(ce,Te)||Je(ce,Te)||Qe(ce)||Ht(ce,Te)||Ct(ce,Te)||Tt(ce)||Rt(ce,Te)||Yt(ce);return Ne===!0?null:Ne}return{startState:At,copyState:kt,token:rt}},"javascript","css","htmlmixed"),r.defineMIME("text/x-pug","pug"),r.defineMIME("text/x-jade","pug")})});var kve=de((Tve,Eve)=>{(function(r){typeof Tve=="object"&&typeof Eve=="object"?r(Gs()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.multiplexingMode=function(e){var t=Array.prototype.slice.call(arguments,1);function n(i,a,l,h){if(typeof a=="string"){var g=i.indexOf(a,l);return h&&g>-1?g+a.length:g}var w=a.exec(l?i.slice(l):i);return w?w.index+l+(h?w[0].length:0):-1}return{startState:function(){return{outer:r.startState(e),innerActive:null,inner:null}},copyState:function(i){return{outer:r.copyState(e,i.outer),innerActive:i.innerActive,inner:i.innerActive&&r.copyState(i.innerActive.mode,i.inner)}},token:function(i,a){if(a.innerActive){var Y=a.innerActive,h=i.string;if(!Y.close&&i.sol())return a.innerActive=a.inner=null,this.token(i,a);var C=Y.close?n(h,Y.close,i.pos,Y.parseDelimiters):-1;if(C==i.pos&&!Y.parseDelimiters)return i.match(Y.close),a.innerActive=a.inner=null,Y.delimStyle&&Y.delimStyle+" "+Y.delimStyle+"-close";C>-1&&(i.string=h.slice(0,C));var $=Y.mode.token(i,a.inner);return C>-1&&(i.string=h),C==i.pos&&Y.parseDelimiters&&(a.innerActive=a.inner=null),Y.innerStyle&&($?$=$+" "+Y.innerStyle:$=Y.innerStyle),$}else{for(var l=1/0,h=i.string,g=0;g<t.length;++g){var w=t[g],C=n(h,w.open,i.pos);if(C==i.pos){w.parseDelimiters||i.match(w.open),a.innerActive=w;var D=0;if(e.indent){var F=e.indent(a.outer,"","");F!==r.Pass&&(D=F)}return a.inner=r.startState(w.mode,D),w.delimStyle&&w.delimStyle+" "+w.delimStyle+"-open"}else C!=-1&&C<l&&(l=C)}l!=1/0&&(i.string=h.slice(0,l));var z=e.token(i,a.outer);return l!=1/0&&(i.string=h),z}},indent:function(i,a,l){var h=i.innerActive?i.innerActive.mode:e;return h.indent?h.indent(i.innerActive?i.inner:i.outer,a,l):r.Pass},blankLine:function(i){var a=i.innerActive?i.innerActive.mode:e;if(a.blankLine&&a.blankLine(i.innerActive?i.inner:i.outer),i.innerActive)i.innerActive.close===`
`&&(i.innerActive=i.inner=null);else for(var l=0;l<t.length;++l){var h=t[l];h.open===`
`&&(i.innerActive=h,i.inner=r.startState(h.mode,a.indent?a.indent(i.outer,"",""):0))}},electricChars:e.electricChars,innerMode:function(i){return i.inner?{state:i.inner,mode:i.innerActive.mode}:{state:i.outer,mode:e}}}}})});var Dve=de((Cve,Ave)=>{(function(r){typeof Cve=="object"&&typeof Ave=="object"?r(Gs(),lU(),kve()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/simple","../../addon/mode/multiplex"],r):r(CodeMirror)})(function(r){"use strict";r.defineSimpleMode("handlebars-tags",{start:[{regex:/\{\{\{/,push:"handlebars_raw",token:"tag"},{regex:/\{\{!--/,push:"dash_comment",token:"comment"},{regex:/\{\{!/,push:"comment",token:"comment"},{regex:/\{\{/,push:"handlebars",token:"tag"}],handlebars_raw:[{regex:/\}\}\}/,pop:!0,token:"tag"}],handlebars:[{regex:/\}\}/,pop:!0,token:"tag"},{regex:/"(?:[^\\"]|\\.)*"?/,token:"string"},{regex:/'(?:[^\\']|\\.)*'?/,token:"string"},{regex:/>|[#\/]([A-Za-z_]\w*)/,token:"keyword"},{regex:/(?:else|this)\b/,token:"keyword"},{regex:/\d+/i,token:"number"},{regex:/=|~|@|true|false/,token:"atom"},{regex:/(?:\.\.\/)*(?:[A-Za-z_][\w\.]*)+/,token:"variable-2"}],dash_comment:[{regex:/--\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],comment:[{regex:/\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],meta:{blockCommentStart:"{{--",blockCommentEnd:"--}}"}}),r.defineMode("handlebars",function(e,t){var n=r.getMode(e,"handlebars-tags");return!t||!t.base?n:r.multiplexingMode(r.getMode(e,t.base),{open:"{{",close:/\}\}\}?/,mode:n,parseDelimiters:!0})}),r.defineMIME("text/x-handlebars-template","handlebars")})});var Mve=de((Ove,Ive)=>{(function(r){"use strict";typeof Ove=="object"&&typeof Ive=="object"?r(Gs(),pve(),yE(),bE(),vve(),X_(),uU(),xve(),Sve(),Dve()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../addon/mode/overlay","../xml/xml","../javascript/javascript","../coffeescript/coffeescript","../css/css","../sass/sass","../stylus/stylus","../pug/pug","../handlebars/handlebars"],r):r(CodeMirror)})(function(r){var e={script:[["lang",/coffee(script)?/,"coffeescript"],["type",/^(?:text|application)\/(?:x-)?coffee(?:script)?$/,"coffeescript"],["lang",/^babel$/,"javascript"],["type",/^text\/babel$/,"javascript"],["type",/^text\/ecmascript-\d+$/,"javascript"]],style:[["lang",/^stylus$/i,"stylus"],["lang",/^sass$/i,"sass"],["lang",/^less$/i,"text/x-less"],["lang",/^scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?styl(us)?$/i,"stylus"],["type",/^text\/sass/i,"sass"],["type",/^(text\/)?(x-)?scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?less$/i,"text/x-less"]],template:[["lang",/^vue-template$/i,"vue"],["lang",/^pug$/i,"pug"],["lang",/^handlebars$/i,"handlebars"],["type",/^(text\/)?(x-)?pug$/i,"pug"],["type",/^text\/x-handlebars-template$/i,"handlebars"],[null,null,"vue-template"]]};r.defineMode("vue-template",function(t,n){var i={token:function(a){if(a.match(/^\{\{.*?\}\}/))return"meta mustache";for(;a.next()&&!a.match("{{",!1););return null}};return r.overlayMode(r.getMode(t,n.backdrop||"text/html"),i)}),r.defineMode("vue",function(t){return r.getMode(t,{name:"htmlmixed",tags:e})},"htmlmixed","xml","javascript","coffeescript","css","sass","stylus","pug","handlebars"),r.defineMIME("script/x-vue","vue"),r.defineMIME("text/x-vue","vue")})});var Rve=de((Lve,Pve)=>{(function(r){typeof Lve=="object"&&typeof Pve=="object"?r(Gs()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("yaml",function(){var e=["true","false","on","off","yes","no"],t=new RegExp("\\b(("+e.join(")|(")+"))$","i");return{token:function(n,i){var a=n.peek(),l=i.escaped;if(i.escaped=!1,a=="#"&&(n.pos==0||/\s/.test(n.string.charAt(n.pos-1))))return n.skipToEnd(),"comment";if(n.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(i.literal&&n.indentation()>i.keyCol)return n.skipToEnd(),"string";if(i.literal&&(i.literal=!1),n.sol()){if(i.keyCol=0,i.pair=!1,i.pairStart=!1,n.match(/---/)||n.match(/\.\.\./))return"def";if(n.match(/\s*-\s+/))return"meta"}if(n.match(/^(\{|\}|\[|\])/))return a=="{"?i.inlinePairs++:a=="}"?i.inlinePairs--:a=="["?i.inlineList++:i.inlineList--,"meta";if(i.inlineList>0&&!l&&a==",")return n.next(),"meta";if(i.inlinePairs>0&&!l&&a==",")return i.keyCol=0,i.pair=!1,i.pairStart=!1,n.next(),"meta";if(i.pairStart){if(n.match(/^\s*(\||\>)\s*/))return i.literal=!0,"meta";if(n.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(i.inlinePairs==0&&n.match(/^\s*-?[0-9\.\,]+\s?$/)||i.inlinePairs>0&&n.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(n.match(t))return"keyword"}return!i.pair&&n.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(i.pair=!0,i.keyCol=n.indentation(),"atom"):i.pair&&n.match(/^:\s*/)?(i.pairStart=!0,"meta"):(i.pairStart=!1,i.escaped=a=="\\",n.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:"#",fold:"indent"}}),r.defineMIME("text/x-yaml","yaml"),r.defineMIME("text/yaml","yaml")})});var b9t,x9t,_9t,w9t,S9t,T9t,E9t,k9t,C9t,A9t,D9t,O9t,I9t,M9t,Fve,xE,qve=ze(()=>{b9t=la(X_()),x9t=la(Lge()),_9t=la(fM()),w9t=la(bE()),S9t=la(Vge()),T9t=la(Kge()),E9t=la(eve()),k9t=la(nve()),C9t=la(uU()),A9t=la(lve()),D9t=la(fve()),O9t=la(Mve()),I9t=la(yE()),M9t=la(Rve());bo();Fve=la(Gs());dE();xE=class extends nn{connect(){let r={readOnly:gd(this.elementTarget.dataset.readOnly),mode:this.elementTarget.dataset.language,theme:this.elementTarget.dataset.theme,tabSize:this.elementTarget.dataset.tabSize,indentWithTabs:gd(this.elementTarget.dataset.indentWithTabs),lineWrapping:gd(this.elementTarget.dataset.lineWrapping),lineNumbers:!0},e=this;setTimeout(()=>{Fve.default.fromTextArea(this.elementTarget,r).on("change",t=>{e.elementTarget.innerText=t.getValue(),e.elementTarget.dispatchEvent(new Event("input"))})},1)}};Wr(xE,"targets",["element"])});var hM,Nve=ze(()=>{bo();hM=class extends nn{copy(){let r=this.context.element.dataset.text,e=document.createElement("textarea"),t=e.contentEditable,n=e.readOnly;e.value=r,e.contentEditable=!0,e.readOnly=!1,e.setAttribute("readonly",!1),e.setAttribute("contenteditable",!0),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);let i=document.getSelection().rangeCount>0?document.getSelection().getRangeAt(0):!1;e.select(),e.setSelectionRange(0,999999),document.execCommand("copy"),document.body.removeChild(e),i&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(i)),e.contentEditable=t,e.readOnly=n}}});var _E,Bve=ze(()=>{bo();_E=class extends nn{constructor(){super(...arguments);Wr(this,"interval")}get parentTurboFrame(){return this.context.scope.element.closest("turbo-frame")}get refreshInterval(){if(this.cardTarget.dataset.refreshEvery)return parseInt(this.cardTarget.dataset.refreshEvery,10)*1e3}connect(){this.refreshInterval&&(this.interval=setInterval(()=>{this.parentTurboFrame.reload()},this.refreshInterval))}cardTargetDisconnected(){this.interval&&clearInterval(this.interval)}};Wr(_E,"targets",["card"])});var jg,dM,pM,mM,Kp,J_,Ku,Yp,sy=ze(()=>{jg=class extends Error{},dM=class extends jg{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},pM=class extends jg{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},mM=class extends jg{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},Kp=class extends jg{},J_=class extends jg{constructor(e){super(`Invalid unit ${e}`)}},Ku=class extends jg{},Yp=class extends jg{constructor(){super("Zone is an abstract class")}}});var Tn,Zp,vd,ly,wE,cU,SE,TE,EE,kE,CE,AE,DE,OE,IE,ME,LE,PE,RE,FE,fU,qE,NE,BE,zE,UE=ze(()=>{Tn="numeric",Zp="short",vd="long",ly={year:Tn,month:Tn,day:Tn},wE={year:Tn,month:Zp,day:Tn},cU={year:Tn,month:Zp,day:Tn,weekday:Zp},SE={year:Tn,month:vd,day:Tn},TE={year:Tn,month:vd,day:Tn,weekday:vd},EE={hour:Tn,minute:Tn},kE={hour:Tn,minute:Tn,second:Tn},CE={hour:Tn,minute:Tn,second:Tn,timeZoneName:Zp},AE={hour:Tn,minute:Tn,second:Tn,timeZoneName:vd},DE={hour:Tn,minute:Tn,hourCycle:"h23"},OE={hour:Tn,minute:Tn,second:Tn,hourCycle:"h23"},IE={hour:Tn,minute:Tn,second:Tn,hourCycle:"h23",timeZoneName:Zp},ME={hour:Tn,minute:Tn,second:Tn,hourCycle:"h23",timeZoneName:vd},LE={year:Tn,month:Tn,day:Tn,hour:Tn,minute:Tn},PE={year:Tn,month:Tn,day:Tn,hour:Tn,minute:Tn,second:Tn},RE={year:Tn,month:Zp,day:Tn,hour:Tn,minute:Tn},FE={year:Tn,month:Zp,day:Tn,hour:Tn,minute:Tn,second:Tn},fU={year:Tn,month:Zp,day:Tn,weekday:Zp,hour:Tn,minute:Tn},qE={year:Tn,month:vd,day:Tn,hour:Tn,minute:Tn,timeZoneName:Zp},NE={year:Tn,month:vd,day:Tn,hour:Tn,minute:Tn,second:Tn,timeZoneName:Zp},BE={year:Tn,month:vd,day:Tn,weekday:vd,hour:Tn,minute:Tn,timeZoneName:vd},zE={year:Tn,month:vd,day:Tn,weekday:vd,hour:Tn,minute:Tn,second:Tn,timeZoneName:vd}});var Dh,Wb=ze(()=>{sy();Dh=class{get type(){throw new Yp}get name(){throw new Yp}get ianaName(){return this.name}get isUniversal(){throw new Yp}offsetName(e,t){throw new Yp}formatOffset(e,t){throw new Yp}offset(e){throw new Yp}equals(e){throw new Yp}get isValid(){throw new Yp}}});var hU,Fm,vM=ze(()=>{Xf();Wb();hU=null,Fm=class extends Dh{static get instance(){return hU===null&&(hU=new Fm),hU}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return yM(e,t,n)}formatOffset(e,t){return uy(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}});function Udt(r){return xM[r]||(xM[r]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),xM[r]}function Hdt(r,e){let t=r.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,i,a,l,h,g,w,C]=n;return[l,i,a,h,g,w,C]}function Wdt(r,e){let t=r.formatToParts(e),n=[];for(let i=0;i<t.length;i++){let{type:a,value:l}=t[i],h=jdt[a];a==="era"?n[h]=l:xi(h)||(n[h]=parseInt(l,10))}return n}var xM,jdt,bM,yc,cy=ze(()=>{Xf();Wb();xM={};jdt={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};bM={},yc=class extends Dh{static create(e){return bM[e]||(bM[e]=new yc(e)),bM[e]}static resetCache(){bM={},xM={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=yc.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return yM(e,t,n,this.name)}formatOffset(e,t){return uy(this.offset(e),t)}offset(e){let t=new Date(e);if(isNaN(t))return NaN;let n=Udt(this.name),[i,a,l,h,g,w,C]=n.formatToParts?Wdt(n,t):Hdt(n,t);h==="BC"&&(i=-Math.abs(i)+1);let F=Q_({year:i,month:a,day:l,hour:g===24?0:g,minute:w,second:C,millisecond:0}),z=+t,Y=z%1e3;return z-=Y>=0?Y:1e3+Y,(F-z)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}});function Vdt(r,e={}){let t=JSON.stringify([r,e]),n=zve[t];return n||(n=new Intl.ListFormat(r,e),zve[t]=n),n}function pU(r,e={}){let t=JSON.stringify([r,e]),n=dU[t];return n||(n=new Intl.DateTimeFormat(r,e),dU[t]=n),n}function $dt(r,e={}){let t=JSON.stringify([r,e]),n=mU[t];return n||(n=new Intl.NumberFormat(r,e),mU[t]=n),n}function Gdt(r,e={}){let{base:t,...n}=e,i=JSON.stringify([r,n]),a=gU[i];return a||(a=new Intl.RelativeTimeFormat(r,e),gU[i]=a),a}function Kdt(){return jE||(jE=new Intl.DateTimeFormat().resolvedOptions().locale,jE)}function Ydt(r){let e=Uve[r];if(!e){let t=new Intl.Locale(r);e="getWeekInfo"in t?t.getWeekInfo():t.weekInfo,Uve[r]=e}return e}function Zdt(r){let e=r.indexOf("-x-");e!==-1&&(r=r.substring(0,e));let t=r.indexOf("-u-");if(t===-1)return[r];{let n,i;try{n=pU(r).resolvedOptions(),i=r}catch{let g=r.substring(0,t);n=pU(g).resolvedOptions(),i=g}let{numberingSystem:a,calendar:l}=n;return[i,a,l]}}function Xdt(r,e,t){return(t||e)&&(r.includes("-u-")||(r+="-u"),t&&(r+=`-ca-${t}`),e&&(r+=`-nu-${e}`)),r}function Jdt(r){let e=[];for(let t=1;t<=12;t++){let n=Qn.utc(2009,t,1);e.push(r(n))}return e}function Qdt(r){let e=[];for(let t=1;t<=7;t++){let n=Qn.utc(2016,11,13+t);e.push(r(n))}return e}function _M(r,e,t,n){let i=r.listingMode();return i==="error"?null:i==="en"?t(e):n(e)}function ept(r){return r.numberingSystem&&r.numberingSystem!=="latn"?!1:r.numberingSystem==="latn"||!r.locale||r.locale.startsWith("en")||new Intl.DateTimeFormat(r.intl).resolvedOptions().numberingSystem==="latn"}var zve,dU,mU,gU,jE,Uve,vU,yU,bU,tpt,Jo,WE=ze(()=>{Xf();TM();fy();Vb();cy();zve={};dU={};mU={};gU={};jE=null;Uve={};vU=class{constructor(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;let{padTo:i,floor:a,...l}=n;if(!t||Object.keys(l).length>0){let h={useGrouping:!1,...n};n.padTo>0&&(h.minimumIntegerDigits=n.padTo),this.inf=$dt(e,h)}}format(e){if(this.inf){let t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{let t=this.floor?Math.floor(e):e1(e,3);return Ml(t,this.padTo)}}},yU=class{constructor(e,t,n){this.opts=n,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){let l=-1*(e.offset/60),h=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;e.offset!==0&&yc.create(h).valid?(i=h,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);let a={...this.opts};a.timeZone=a.timeZone||i,this.dtf=pU(t,a)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){let n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:n}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}},bU=class{constructor(e,t,n){this.opts={style:"long",...n},!t&&wM()&&(this.rtf=Gdt(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):jve(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}},tpt={firstDay:1,minimalDays:4,weekend:[6,7]},Jo=class{static fromOpts(e){return Jo.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,n,i,a=!1){let l=e||Ia.defaultLocale,h=l||(a?"en-US":Kdt()),g=t||Ia.defaultNumberingSystem,w=n||Ia.defaultOutputCalendar,C=HE(i)||Ia.defaultWeekSettings;return new Jo(h,g,w,C,l)}static resetCache(){jE=null,dU={},mU={},gU={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:n,weekSettings:i}={}){return Jo.create(e,t,n,i)}constructor(e,t,n,i,a){let[l,h,g]=Zdt(e);this.locale=l,this.numberingSystem=t||h||null,this.outputCalendar=n||g||null,this.weekSettings=i,this.intl=Xdt(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=a,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=ept(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Jo.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,HE(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return _M(this,e,xU,()=>{let n=t?{month:e,day:"numeric"}:{month:e},i=t?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=Jdt(a=>this.extract(a,n,"month"))),this.monthsCache[i][e]})}weekdays(e,t=!1){return _M(this,e,_U,()=>{let n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=t?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=Qdt(a=>this.extract(a,n,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return _M(this,void 0,()=>wU,()=>{if(!this.meridiemCache){let e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Qn.utc(2016,11,13,9),Qn.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return _M(this,e,SU,()=>{let t={era:e};return this.eraCache[e]||(this.eraCache[e]=[Qn.utc(-40,1,1),Qn.utc(2017,1,1)].map(n=>this.extract(n,t,"era"))),this.eraCache[e]})}extract(e,t,n){let i=this.dtFormatter(e,t),a=i.formatToParts(),l=a.find(h=>h.type.toLowerCase()===n);return l?l.value:null}numberFormatter(e={}){return new vU(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new yU(e,this.intl,t)}relFormatter(e={}){return new bU(this.intl,this.isEnglish(),e)}listFormatter(e={}){return Vdt(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:SM()?Ydt(this.locale):tpt}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}});var EU,Ll,t1=ze(()=>{Xf();Wb();EU=null,Ll=class extends Dh{static get utcInstance(){return EU===null&&(EU=new Ll(0)),EU}static instance(e){return e===0?Ll.utcInstance:new Ll(e)}static parseSpecifier(e){if(e){let t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Ll($b(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${uy(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${uy(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return uy(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}});var r1,kU=ze(()=>{Wb();r1=class extends Dh{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}});function Xp(r,e){let t;if(xi(r)||r===null)return e;if(r instanceof Dh)return r;if(Hve(r)){let n=r.toLowerCase();return n==="default"?e:n==="local"||n==="system"?Fm.instance:n==="utc"||n==="gmt"?Ll.utcInstance:Ll.parseSpecifier(n)||yc.create(r)}else return qm(r)?Ll.instance(r):typeof r=="object"&&"offset"in r&&typeof r.offset=="function"?r:new r1(r)}var EM=ze(()=>{Wb();cy();t1();kU();Xf();vM()});var Wve,Vve,$ve,Gve,Kve,Yve,Zve,Xve,Ia,fy=ze(()=>{vM();cy();WE();EM();Xf();Wve=()=>Date.now(),Vve="system",$ve=null,Gve=null,Kve=null,Yve=60,Xve=null,Ia=class{static get now(){return Wve}static set now(e){Wve=e}static set defaultZone(e){Vve=e}static get defaultZone(){return Xp(Vve,Fm.instance)}static get defaultLocale(){return $ve}static set defaultLocale(e){$ve=e}static get defaultNumberingSystem(){return Gve}static set defaultNumberingSystem(e){Gve=e}static get defaultOutputCalendar(){return Kve}static set defaultOutputCalendar(e){Kve=e}static get defaultWeekSettings(){return Xve}static set defaultWeekSettings(e){Xve=HE(e)}static get twoDigitCutoffYear(){return Yve}static set twoDigitCutoffYear(e){Yve=e%100}static get throwOnInvalid(){return Zve}static set throwOnInvalid(e){Zve=e}static resetCaches(){Jo.resetCache(),yc.resetCache()}}});var Fc,VE=ze(()=>{Fc=class{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}});function up(r,e){return new Fc("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${r}, which is invalid`)}function kM(r,e,t){let n=new Date(Date.UTC(r,e-1,t));r<100&&r>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);let i=n.getUTCDay();return i===0?7:i}function eye(r,e,t){return t+(Kb(r)?Qve:Jve)[e-1]}function tye(r,e){let t=Kb(r)?Qve:Jve,n=t.findIndex(a=>a<e),i=e-t[n];return{month:n+1,day:i}}function CM(r,e){return(r-e+7)%7+1}function $E(r,e=4,t=1){let{year:n,month:i,day:a}=r,l=eye(n,i,a),h=CM(kM(n,i,a),t),g=Math.floor((l-h+14-e)/7),w;return g<1?(w=n-1,g=Gb(w,e,t)):g>Gb(n,e,t)?(w=n+1,g=1):w=n,{weekYear:w,weekNumber:g,weekday:h,...KE(r)}}function CU(r,e=4,t=1){let{weekYear:n,weekNumber:i,weekday:a}=r,l=CM(kM(n,1,e),t),h=hy(n),g=i*7+a-l-7+e,w;g<1?(w=n-1,g+=hy(w)):g>h?(w=n+1,g-=hy(n)):w=n;let{month:C,day:D}=tye(w,g);return{year:w,month:C,day:D,...KE(r)}}function AM(r){let{year:e,month:t,day:n}=r,i=eye(e,t,n);return{year:e,ordinal:i,...KE(r)}}function AU(r){let{year:e,ordinal:t}=r,{month:n,day:i}=tye(e,t);return{year:e,month:n,day:i,...KE(r)}}function DU(r,e){if(!xi(r.localWeekday)||!xi(r.localWeekNumber)||!xi(r.localWeekYear)){if(!xi(r.weekday)||!xi(r.weekNumber)||!xi(r.weekYear))throw new Kp("Cannot mix locale-based week fields with ISO-based week fields");return xi(r.localWeekday)||(r.weekday=r.localWeekday),xi(r.localWeekNumber)||(r.weekNumber=r.localWeekNumber),xi(r.localWeekYear)||(r.weekYear=r.localWeekYear),delete r.localWeekday,delete r.localWeekNumber,delete r.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function rye(r,e=4,t=1){let n=GE(r.weekYear),i=yd(r.weekNumber,1,Gb(r.weekYear,e,t)),a=yd(r.weekday,1,7);return n?i?a?!1:up("weekday",r.weekday):up("week",r.weekNumber):up("weekYear",r.weekYear)}function nye(r){let e=GE(r.year),t=yd(r.ordinal,1,hy(r.year));return e?t?!1:up("ordinal",r.ordinal):up("year",r.year)}function OU(r){let e=GE(r.year),t=yd(r.month,1,12),n=yd(r.day,1,n1(r.year,r.month));return e?t?n?!1:up("day",r.day):up("month",r.month):up("year",r.year)}function IU(r){let{hour:e,minute:t,second:n,millisecond:i}=r,a=yd(e,0,23)||e===24&&t===0&&n===0&&i===0,l=yd(t,0,59),h=yd(n,0,59),g=yd(i,0,999);return a?l?h?g?!1:up("millisecond",i):up("second",n):up("minute",t):up("hour",e)}var Jve,Qve,MU=ze(()=>{Xf();VE();sy();Jve=[0,31,59,90,120,151,181,212,243,273,304,334],Qve=[0,31,60,91,121,152,182,213,244,274,305,335]});function xi(r){return typeof r>"u"}function qm(r){return typeof r=="number"}function GE(r){return typeof r=="number"&&r%1===0}function Hve(r){return typeof r=="string"}function oye(r){return Object.prototype.toString.call(r)==="[object Date]"}function wM(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function SM(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function aye(r){return Array.isArray(r)?r:[r]}function LU(r,e,t){if(r.length!==0)return r.reduce((n,i)=>{let a=[e(i),i];return n&&t(n[0],a[0])===n[0]?n:a},null)[1]}function sye(r,e){return e.reduce((t,n)=>(t[n]=r[n],t),{})}function dy(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function HE(r){if(r==null)return null;if(typeof r!="object")throw new Ku("Week settings must be an object");if(!yd(r.firstDay,1,7)||!yd(r.minimalDays,1,7)||!Array.isArray(r.weekend)||r.weekend.some(e=>!yd(e,1,7)))throw new Ku("Invalid week settings");return{firstDay:r.firstDay,minimalDays:r.minimalDays,weekend:Array.from(r.weekend)}}function yd(r,e,t){return GE(r)&&r>=e&&r<=t}function rpt(r,e){return r-e*Math.floor(r/e)}function Ml(r,e=2){let t=r<0,n;return t?n="-"+(""+-r).padStart(e,"0"):n=(""+r).padStart(e,"0"),n}function Hg(r){if(!(xi(r)||r===null||r===""))return parseInt(r,10)}function py(r){if(!(xi(r)||r===null||r===""))return parseFloat(r)}function YE(r){if(!(xi(r)||r===null||r==="")){let e=parseFloat("0."+r)*1e3;return Math.floor(e)}}function e1(r,e,t=!1){let n=10**e;return(t?Math.trunc:Math.round)(r*n)/n}function Kb(r){return r%4===0&&(r%100!==0||r%400===0)}function hy(r){return Kb(r)?366:365}function n1(r,e){let t=rpt(e-1,12)+1,n=r+(e-t)/12;return t===2?Kb(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function Q_(r){let e=Date.UTC(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond);return r.year<100&&r.year>=0&&(e=new Date(e),e.setUTCFullYear(r.year,r.month-1,r.day)),+e}function iye(r,e,t){return-CM(kM(r,1,e),t)+e-1}function Gb(r,e=4,t=1){let n=iye(r,e,t),i=iye(r+1,e,t);return(hy(r)-n+i)/7}function ZE(r){return r>99?r:r>Ia.twoDigitCutoffYear?1900+r:2e3+r}function yM(r,e,t,n=null){let i=new Date(r),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(a.timeZone=n);let l={timeZoneName:e,...a},h=new Intl.DateTimeFormat(t,l).formatToParts(i).find(g=>g.type.toLowerCase()==="timezonename");return h?h.value:null}function $b(r,e){let t=parseInt(r,10);Number.isNaN(t)&&(t=0);let n=parseInt(e,10)||0,i=t<0||Object.is(t,-0)?-n:n;return t*60+i}function PU(r){let e=Number(r);if(typeof r=="boolean"||r===""||Number.isNaN(e))throw new Ku(`Invalid unit value ${r}`);return e}function i1(r,e){let t={};for(let n in r)if(dy(r,n)){let i=r[n];if(i==null)continue;t[e(n)]=PU(i)}return t}function uy(r,e){let t=Math.trunc(Math.abs(r/60)),n=Math.trunc(Math.abs(r%60)),i=r>=0?"+":"-";switch(e){case"short":return`${i}${Ml(t,2)}:${Ml(n,2)}`;case"narrow":return`${i}${t}${n>0?`:${n}`:""}`;case"techie":return`${i}${Ml(t,2)}${Ml(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function KE(r){return sye(r,["hour","minute","second","millisecond"])}var Xf=ze(()=>{sy();fy();MU()});function xU(r){switch(r){case"narrow":return[...ipt];case"short":return[...RU];case"long":return[...npt];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}function _U(r){switch(r){case"narrow":return[...opt];case"short":return[...qU];case"long":return[...FU];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}function SU(r){switch(r){case"narrow":return[...lpt];case"short":return[...spt];case"long":return[...apt];default:return null}}function lye(r){return wU[r.hour<12?0:1]}function uye(r,e){return _U(e)[r.weekday-1]}function cye(r,e){return xU(e)[r.month-1]}function fye(r,e){return SU(e)[r.year<0?0:1]}function jve(r,e,t="always",n=!1){let i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(r)===-1;if(t==="auto"&&a){let D=r==="days";switch(e){case 1:return D?"tomorrow":`next ${i[r][0]}`;case-1:return D?"yesterday":`last ${i[r][0]}`;case 0:return D?"today":`this ${i[r][0]}`;default:}}let l=Object.is(e,-0)||e<0,h=Math.abs(e),g=h===1,w=i[r],C=n?g?w[1]:w[2]||w[1]:g?i[r][0]:r;return l?`${h} ${C} ago`:`in ${h} ${C}`}var npt,RU,ipt,FU,qU,opt,wU,apt,spt,lpt,TM=ze(()=>{UE();Xf();npt=["January","February","March","April","May","June","July","August","September","October","November","December"],RU=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ipt=["J","F","M","A","M","J","J","A","S","O","N","D"];FU=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],qU=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],opt=["M","T","W","T","F","S","S"];wU=["AM","PM"],apt=["Before Christ","Anno Domini"],spt=["BC","AD"],lpt=["B","A"]});function hye(r,e){let t="";for(let n of r)n.literal?t+=n.val:t+=e(n.val);return t}var upt,Pl,XE=ze(()=>{TM();UE();Xf();upt={D:ly,DD:wE,DDD:SE,DDDD:TE,t:EE,tt:kE,ttt:CE,tttt:AE,T:DE,TT:OE,TTT:IE,TTTT:ME,f:LE,ff:RE,fff:qE,ffff:BE,F:PE,FF:FE,FFF:NE,FFFF:zE},Pl=class{static create(e,t={}){return new Pl(e,t)}static parseFormat(e){let t=null,n="",i=!1,a=[];for(let l=0;l<e.length;l++){let h=e.charAt(l);h==="'"?(n.length>0&&a.push({literal:i||/^\s+$/.test(n),val:n}),t=null,n="",i=!i):i||h===t?n+=h:(n.length>0&&a.push({literal:/^\s+$/.test(n),val:n}),n=h,t=h)}return n.length>0&&a.push({literal:i||/^\s+$/.test(n),val:n}),a}static macroTokenToFormatOpts(e){return upt[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return Ml(e,t);let n={...this.opts};return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,t){let n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=(z,Y)=>this.loc.extract(e,z,Y),l=z=>e.isOffsetFixed&&e.offset===0&&z.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,z.format):"",h=()=>n?lye(e):a({hour:"numeric",hourCycle:"h12"},"dayperiod"),g=(z,Y)=>n?cye(e,z):a(Y?{month:z}:{month:z,day:"numeric"},"month"),w=(z,Y)=>n?uye(e,z):a(Y?{weekday:z}:{weekday:z,month:"long",day:"numeric"},"weekday"),C=z=>{let Y=Pl.macroTokenToFormatOpts(z);return Y?this.formatWithSystemDefault(e,Y):z},D=z=>n?fye(e,z):a({era:z},"era"),F=z=>{switch(z){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return h();case"d":return i?a({day:"numeric"},"day"):this.num(e.day);case"dd":return i?a({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return w("short",!0);case"cccc":return w("long",!0);case"ccccc":return w("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return w("short",!1);case"EEEE":return w("long",!1);case"EEEEE":return w("narrow",!1);case"L":return i?a({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?a({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return g("short",!0);case"LLLL":return g("long",!0);case"LLLLL":return g("narrow",!0);case"M":return i?a({month:"numeric"},"month"):this.num(e.month);case"MM":return i?a({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return g("short",!1);case"MMMM":return g("long",!1);case"MMMMM":return g("narrow",!1);case"y":return i?a({year:"numeric"},"year"):this.num(e.year);case"yy":return i?a({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?a({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?a({year:"numeric"},"year"):this.num(e.year,6);case"G":return D("short");case"GG":return D("long");case"GGGGG":return D("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return C(z)}};return hye(Pl.parseFormat(t),F)}formatDurationFromString(e,t){let n=g=>{switch(g[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=g=>w=>{let C=n(w);return C?this.num(g.get(C),w.length):w},a=Pl.parseFormat(t),l=a.reduce((g,{literal:w,val:C})=>w?g:g.concat(C),[]),h=e.shiftTo(...l.map(n).filter(g=>g));return hye(a,i(h))}}});function a1(...r){let e=r.reduce((t,n)=>t+n.source,"");return RegExp(`^${e}$`)}function s1(...r){return e=>r.reduce(([t,n,i],a)=>{let[l,h,g]=a(e,i);return[{...t,...l},h||n,g]},[{},null,1]).slice(0,2)}function l1(r,...e){if(r==null)return[null,null];for(let[t,n]of e){let i=t.exec(r);if(i)return n(i)}return[null,null]}function mye(...r){return(e,t)=>{let n={},i;for(i=0;i<r.length;i++)n[r[i]]=Hg(e[t+i]);return[n,null,t+i]}}function o1(r,e,t){let n=r[e];return xi(n)?t:Hg(n)}function ypt(r,e){return[{year:o1(r,e),month:o1(r,e+1,1),day:o1(r,e+2,1)},null,e+3]}function u1(r,e){return[{hours:o1(r,e,0),minutes:o1(r,e+1,0),seconds:o1(r,e+2,0),milliseconds:YE(r[e+3])},null,e+4]}function JE(r,e){let t=!r[e]&&!r[e+1],n=$b(r[e+1],r[e+2]),i=t?null:Ll.instance(n);return[{},i,e+3]}function QE(r,e){let t=r[e]?yc.create(r[e]):null;return[{},t,e+1]}function _pt(r){let[e,t,n,i,a,l,h,g,w]=r,C=e[0]==="-",D=g&&g[0]==="-",F=(z,Y=!1)=>z!==void 0&&(Y||z&&C)?-z:z;return[{years:F(py(t)),months:F(py(n)),weeks:F(py(i)),days:F(py(a)),hours:F(py(l)),minutes:F(py(h)),seconds:F(py(g),g==="-0"),milliseconds:F(YE(w),D)}]}function zU(r,e,t,n,i,a,l){let h={year:e.length===2?ZE(Hg(e)):Hg(e),month:RU.indexOf(t)+1,day:Hg(n),hour:Hg(i),minute:Hg(a)};return l&&(h.second=Hg(l)),r&&(h.weekday=r.length>3?FU.indexOf(r)+1:qU.indexOf(r)+1),h}function Tpt(r){let[,e,t,n,i,a,l,h,g,w,C,D]=r,F=zU(e,i,n,t,a,l,h),z;return g?z=wpt[g]:w?z=0:z=$b(C,D),[F,new Ll(z)]}function Ept(r){return r.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function dye(r){let[,e,t,n,i,a,l,h]=r;return[zU(e,i,n,t,a,l,h),Ll.utcInstance]}function Dpt(r){let[,e,t,n,i,a,l,h]=r;return[zU(e,h,t,n,i,a,l),Ll.utcInstance]}function xye(r){return l1(r,[Opt,bye],[Ipt,Ppt],[Mpt,Rpt],[Lpt,Fpt])}function _ye(r){return l1(Ept(r),[Spt,Tpt])}function wye(r){return l1(r,[kpt,dye],[Cpt,dye],[Apt,Dpt])}function Sye(r){return l1(r,[xpt,_pt])}function Tye(r){return l1(r,[bpt,qpt])}function Eye(r){return l1(r,[Npt,bye],[Bpt,zpt])}var pye,gye,cpt,NU,vye,BU,fpt,hpt,dpt,ppt,mpt,gpt,yye,vpt,bpt,xpt,wpt,Spt,kpt,Cpt,Apt,Opt,Ipt,Mpt,Lpt,bye,Ppt,Rpt,Fpt,qpt,Npt,Bpt,zpt,UU=ze(()=>{Xf();TM();t1();cy();pye=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;gye=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,cpt=`(?:${gye.source}?(?:\\[(${pye.source})\\])?)?`,NU=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,vye=RegExp(`${NU.source}${cpt}`),BU=RegExp(`(?:T${vye.source})?`),fpt=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,hpt=/(\d{4})-?W(\d\d)(?:-?(\d))?/,dpt=/(\d{4})-?(\d{3})/,ppt=mye("weekYear","weekNumber","weekDay"),mpt=mye("year","ordinal"),gpt=/(\d{4})-(\d\d)-(\d\d)/,yye=RegExp(`${NU.source} ?(?:${gye.source}|(${pye.source}))?`),vpt=RegExp(`(?: ${yye.source})?`);bpt=RegExp(`^T?${NU.source}$`),xpt=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;wpt={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};Spt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;kpt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Cpt=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Apt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;Opt=a1(fpt,BU),Ipt=a1(hpt,BU),Mpt=a1(dpt,BU),Lpt=a1(vye),bye=s1(ypt,u1,JE,QE),Ppt=s1(ppt,u1,JE,QE),Rpt=s1(mpt,u1,JE,QE),Fpt=s1(u1,JE,QE);qpt=s1(u1);Npt=a1(gpt,vpt),Bpt=a1(yye),zpt=s1(u1,JE,QE)});function my(r,e,t=!1){let n={values:t?e.values:{...r.values,...e.values||{}},loc:r.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||r.conversionAccuracy,matrix:e.matrix||r.matrix};return new xo(n)}function Dye(r,e){let t=e.milliseconds??0;for(let n of Hpt.slice(1))e[n]&&(t+=e[n]*r[n].milliseconds);return t}function Cye(r,e){let t=Dye(r,e)<0?-1:1;Yb.reduceRight((n,i)=>{if(xi(e[i]))return n;if(n){let a=e[n]*t,l=r[i][n],h=Math.floor(a/l);e[i]+=h*t,e[n]-=h*l*t}return i},null),Yb.reduce((n,i)=>{if(xi(e[i]))return n;if(n){let a=e[n]%1;e[n]-=a,e[i]+=a*r[n][i]}return i},null)}function Wpt(r){let e={};for(let[t,n]of Object.entries(r))n!==0&&(e[t]=n);return e}var kye,Aye,Upt,cp,c1,jpt,Yb,Hpt,xo,ek=ze(()=>{sy();XE();VE();WE();UU();Xf();fy();Vb();kye="Invalid Duration",Aye={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Upt={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Aye},cp=146097/400,c1=146097/4800,jpt={years:{quarters:4,months:12,weeks:cp/7,days:cp,hours:cp*24,minutes:cp*24*60,seconds:cp*24*60*60,milliseconds:cp*24*60*60*1e3},quarters:{months:3,weeks:cp/28,days:cp/4,hours:cp*24/4,minutes:cp*24*60/4,seconds:cp*24*60*60/4,milliseconds:cp*24*60*60*1e3/4},months:{weeks:c1/7,days:c1,hours:c1*24,minutes:c1*24*60,seconds:c1*24*60*60,milliseconds:c1*24*60*60*1e3},...Aye},Yb=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Hpt=Yb.slice(0).reverse();xo=class{constructor(e){let t=e.conversionAccuracy==="longterm"||!1,n=t?jpt:Upt;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Jo.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,t){return xo.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new Ku(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new xo({values:i1(e,xo.normalizeUnit),loc:Jo.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(qm(e))return xo.fromMillis(e);if(xo.isDuration(e))return e;if(typeof e=="object")return xo.fromObject(e);throw new Ku(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){let[n]=Sye(e);return n?xo.fromObject(n,t):xo.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){let[n]=Tye(e);return n?xo.fromObject(n,t):xo.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new Ku("need to specify a reason the Duration is invalid");let n=e instanceof Fc?e:new Fc(e,t);if(Ia.throwOnInvalid)throw new mM(n);return new xo({invalid:n})}static normalizeUnit(e){let t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new J_(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){let n={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?Pl.create(this.loc,n).formatDurationFromString(this,e):kye}toHuman(e={}){if(!this.isValid)return kye;let t=Yb.map(n=>{let i=this.values[n];return xi(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=e1(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Qn.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Dye(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let t=xo.fromDurationLike(e),n={};for(let i of Yb)(dy(t.values,i)||dy(this.values,i))&&(n[i]=t.get(i)+this.get(i));return my(this,{values:n},!0)}minus(e){if(!this.isValid)return this;let t=xo.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;let t={};for(let n of Object.keys(this.values))t[n]=PU(e(this.values[n],n));return my(this,{values:t},!0)}get(e){return this[xo.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let t={...this.values,...i1(e,xo.normalizeUnit)};return my(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:n,matrix:i}={}){let l={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:i,conversionAccuracy:n};return my(this,l)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return Cye(this.matrix,e),my(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=Wpt(this.normalize().shiftToAll().toObject());return my(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(l=>xo.normalizeUnit(l));let t={},n={},i=this.toObject(),a;for(let l of Yb)if(e.indexOf(l)>=0){a=l;let h=0;for(let w in n)h+=this.matrix[w][l]*n[w],n[w]=0;qm(i[l])&&(h+=i[l]);let g=Math.trunc(h);t[l]=g,n[l]=(h*1e3-g*1e3)/1e3}else qm(i[l])&&(n[l]=i[l]);for(let l in n)n[l]!==0&&(t[a]+=l===a?n[l]:n[l]/this.matrix[a][l]);return Cye(this.matrix,t),my(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return my(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(let n of Yb)if(!t(this.values[n],e.values[n]))return!1;return!0}}});function Vpt(r,e){return!r||!r.isValid?ks.invalid("missing or invalid start"):!e||!e.isValid?ks.invalid("missing or invalid end"):e<r?ks.invalid("end before start",`The end of an interval must be after its start, but you had start=${r.toISO()} and end=${e.toISO()}`):null}var f1,ks,jU=ze(()=>{Vb();ek();fy();sy();VE();XE();UE();f1="Invalid Interval";ks=class{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new Ku("need to specify a reason the Interval is invalid");let n=e instanceof Fc?e:new Fc(e,t);if(Ia.throwOnInvalid)throw new pM(n);return new ks({invalid:n})}static fromDateTimes(e,t){let n=h1(e),i=h1(t),a=Vpt(n,i);return a??new ks({start:n,end:i})}static after(e,t){let n=xo.fromDurationLike(t),i=h1(e);return ks.fromDateTimes(i,i.plus(n))}static before(e,t){let n=xo.fromDurationLike(t),i=h1(e);return ks.fromDateTimes(i.minus(n),i)}static fromISO(e,t){let[n,i]=(e||"").split("/",2);if(n&&i){let a,l;try{a=Qn.fromISO(n,t),l=a.isValid}catch{l=!1}let h,g;try{h=Qn.fromISO(i,t),g=h.isValid}catch{g=!1}if(l&&g)return ks.fromDateTimes(a,h);if(l){let w=xo.fromISO(i,t);if(w.isValid)return ks.after(a,w)}else if(g){let w=xo.fromISO(n,t);if(w.isValid)return ks.before(h,w)}}return ks.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;let n=this.start.startOf(e,t),i;return t?.useLocaleWeeks?i=this.end.reconfigure({locale:n.locale}):i=this.end,i=i.startOf(e,t),Math.floor(i.diff(n,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?ks.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];let t=e.map(h1).filter(l=>this.contains(l)).sort((l,h)=>l.toMillis()-h.toMillis()),n=[],{s:i}=this,a=0;for(;i<this.e;){let l=t[a]||this.e,h=+l>+this.e?this.e:l;n.push(ks.fromDateTimes(i,h)),i=h,a+=1}return n}splitBy(e){let t=xo.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:n}=this,i=1,a,l=[];for(;n<this.e;){let h=this.start.plus(t.mapUnits(g=>g*i));a=+h>+this.e?this.e:h,l.push(ks.fromDateTimes(n,a)),n=a,i+=1}return l}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let t=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return t>=n?null:ks.fromDateTimes(t,n)}union(e){if(!this.isValid)return this;let t=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return ks.fromDateTimes(t,n)}static merge(e){let[t,n]=e.sort((i,a)=>i.s-a.s).reduce(([i,a],l)=>a?a.overlaps(l)||a.abutsStart(l)?[i,a.union(l)]:[i.concat([a]),l]:[i,l],[[],null]);return n&&t.push(n),t}static xor(e){let t=null,n=0,i=[],a=e.map(g=>[{time:g.s,type:"s"},{time:g.e,type:"e"}]),l=Array.prototype.concat(...a),h=l.sort((g,w)=>g.time-w.time);for(let g of h)n+=g.type==="s"?1:-1,n===1?t=g.time:(t&&+t!=+g.time&&i.push(ks.fromDateTimes(t,g.time)),t=null);return ks.merge(i)}difference(...e){return ks.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:f1}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=ly,t={}){return this.isValid?Pl.create(this.s.loc.clone(t),e).formatInterval(this):f1}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:f1}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:f1}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:f1}toFormat(e,{separator:t=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:f1}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):xo.invalid(this.invalidReason)}mapEndpoints(e){return ks.fromDateTimes(e(this.s),e(this.e))}}});var Wg,HU=ze(()=>{Vb();fy();WE();cy();EM();Xf();Wg=class{static hasDST(e=Ia.defaultZone){let t=Qn.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return yc.isValidZone(e)}static normalizeZone(e){return Xp(e,Ia.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||Jo.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||Jo.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||Jo.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||Jo.create(t,n,a)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||Jo.create(t,n,a)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Jo.create(t,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Jo.create(t,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Jo.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return Jo.create(t,null,"gregory").eras(e)}static features(){return{relative:wM(),localeWeek:SM()}}}});function Oye(r,e){let t=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=t(e)-t(r);return Math.floor(xo.fromMillis(n).as("days"))}function $pt(r,e,t){let n=[["years",(g,w)=>w.year-g.year],["quarters",(g,w)=>w.quarter-g.quarter+(w.year-g.year)*4],["months",(g,w)=>w.month-g.month+(w.year-g.year)*12],["weeks",(g,w)=>{let C=Oye(g,w);return(C-C%7)/7}],["days",Oye]],i={},a=r,l,h;for(let[g,w]of n)t.indexOf(g)>=0&&(l=g,i[g]=w(r,e),h=a.plus(i),h>e?(i[g]--,r=a.plus(i),r>e&&(h=r,i[g]--,r=a.plus(i))):r=h);return[r,i,h,l]}function Iye(r,e,t,n){let[i,a,l,h]=$pt(r,e,t),g=e-i,w=t.filter(D=>["hours","minutes","seconds","milliseconds"].indexOf(D)>=0);w.length===0&&(l<e&&(l=i.plus({[h]:1})),l!==i&&(a[h]=(a[h]||0)+g/(l-i)));let C=xo.fromObject(a,n);return w.length>0?xo.fromMillis(g,n).shiftTo(...w).plus(C):C}var Mye=ze(()=>{ek()});function Pye(r){let e=parseInt(r,10);if(isNaN(e)){e="";for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(r[t].search(WU.hanidec)!==-1)e+=Gpt.indexOf(r[t]);else for(let i in Lye){let[a,l]=Lye[i];n>=a&&n<=l&&(e+=n-a)}}return parseInt(e,10)}else return e}function fp({numberingSystem:r},e=""){return new RegExp(`${WU[r||"latn"]}${e}`)}var WU,Lye,Gpt,Rye=ze(()=>{WU={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Lye={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Gpt=WU.hanidec.replace(/[\[|\]]/g,"").split("")});function Ma(r,e=t=>t){return{regex:r,deser:([t])=>e(Pye(t))}}function Zpt(r){return r.replace(/\./g,"\\.?").replace(Bye,Nye)}function Fye(r){return r.replace(/\./g,"").replace(Bye," ").toLowerCase()}function Jp(r,e){return r===null?null:{regex:RegExp(r.map(Zpt).join("|")),deser:([t])=>r.findIndex(n=>Fye(t)===Fye(n))+e}}function qye(r,e){return{regex:r,deser:([,t,n])=>$b(t,n),groups:e}}function DM(r){return{regex:r,deser:([e])=>e}}function Xpt(r){return r.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Jpt(r,e){let t=fp(e),n=fp(e,"{2}"),i=fp(e,"{3}"),a=fp(e,"{4}"),l=fp(e,"{6}"),h=fp(e,"{1,2}"),g=fp(e,"{1,3}"),w=fp(e,"{1,6}"),C=fp(e,"{1,9}"),D=fp(e,"{2,4}"),F=fp(e,"{4,6}"),z=re=>({regex:RegExp(Xpt(re.val)),deser:([oe])=>oe,literal:!0}),$=(re=>{if(r.literal)return z(re);switch(re.val){case"G":return Jp(e.eras("short"),0);case"GG":return Jp(e.eras("long"),0);case"y":return Ma(w);case"yy":return Ma(D,ZE);case"yyyy":return Ma(a);case"yyyyy":return Ma(F);case"yyyyyy":return Ma(l);case"M":return Ma(h);case"MM":return Ma(n);case"MMM":return Jp(e.months("short",!0),1);case"MMMM":return Jp(e.months("long",!0),1);case"L":return Ma(h);case"LL":return Ma(n);case"LLL":return Jp(e.months("short",!1),1);case"LLLL":return Jp(e.months("long",!1),1);case"d":return Ma(h);case"dd":return Ma(n);case"o":return Ma(g);case"ooo":return Ma(i);case"HH":return Ma(n);case"H":return Ma(h);case"hh":return Ma(n);case"h":return Ma(h);case"mm":return Ma(n);case"m":return Ma(h);case"q":return Ma(h);case"qq":return Ma(n);case"s":return Ma(h);case"ss":return Ma(n);case"S":return Ma(g);case"SSS":return Ma(i);case"u":return DM(C);case"uu":return DM(h);case"uuu":return Ma(t);case"a":return Jp(e.meridiems(),0);case"kkkk":return Ma(a);case"kk":return Ma(D,ZE);case"W":return Ma(h);case"WW":return Ma(n);case"E":case"c":return Ma(t);case"EEE":return Jp(e.weekdays("short",!1),1);case"EEEE":return Jp(e.weekdays("long",!1),1);case"ccc":return Jp(e.weekdays("short",!0),1);case"cccc":return Jp(e.weekdays("long",!0),1);case"Z":case"ZZ":return qye(new RegExp(`([+-]${h.source})(?::(${n.source}))?`),2);case"ZZZ":return qye(new RegExp(`([+-]${h.source})(${n.source})?`),2);case"z":return DM(/[a-z_+-/]{1,256}?/i);case" ":return DM(/[^\S\n\r]/);default:return z(re)}})(r)||{invalidReason:Kpt};return $.token=r,$}function emt(r,e,t){let{type:n,value:i}=r;if(n==="literal"){let g=/^\s+$/.test(i);return{literal:!g,val:g?" ":i}}let a=e[n],l=n;n==="hour"&&(e.hour12!=null?l=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?l="hour12":l="hour24":l=t.hour12?"hour12":"hour24");let h=Qpt[l];if(typeof h=="object"&&(h=h[a]),h)return{literal:!1,val:h}}function tmt(r){return[`^${r.map(t=>t.regex).reduce((t,n)=>`${t}(${n.source})`,"")}$`,r]}function rmt(r,e,t){let n=r.match(e);if(n){let i={},a=1;for(let l in t)if(dy(t,l)){let h=t[l],g=h.groups?h.groups+1:1;!h.literal&&h.token&&(i[h.token.val[0]]=h.deser(n.slice(a,a+g))),a+=g}return[n,i]}else return[n,{}]}function nmt(r){let e=a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},t=null,n;return xi(r.z)||(t=yc.create(r.z)),xi(r.Z)||(t||(t=new Ll(r.Z)),n=r.Z),xi(r.q)||(r.M=(r.q-1)*3+1),xi(r.h)||(r.h<12&&r.a===1?r.h+=12:r.h===12&&r.a===0&&(r.h=0)),r.G===0&&r.y&&(r.y=-r.y),xi(r.u)||(r.S=YE(r.u)),[Object.keys(r).reduce((a,l)=>{let h=e(l);return h&&(a[h]=r[l]),a},{}),t,n]}function imt(){return VU||(VU=Qn.fromMillis(1555555555555)),VU}function omt(r,e){if(r.literal)return r;let t=Pl.macroTokenToFormatOpts(r.val),n=KU(t,e);return n==null||n.includes(void 0)?r:n}function $U(r,e){return Array.prototype.concat(...r.map(t=>omt(t,e)))}function GU(r,e,t){let n=$U(Pl.parseFormat(t),r),i=n.map(l=>Jpt(l,r)),a=i.find(l=>l.invalidReason);if(a)return{input:e,tokens:n,invalidReason:a.invalidReason};{let[l,h]=tmt(i),g=RegExp(l,"i"),[w,C]=rmt(e,g,h),[D,F,z]=C?nmt(C):[null,null,void 0];if(dy(C,"a")&&dy(C,"H"))throw new Kp("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:g,rawMatches:w,matches:C,result:D,zone:F,specificOffset:z}}}function zye(r,e,t){let{result:n,zone:i,specificOffset:a,invalidReason:l}=GU(r,e,t);return[n,i,a,l]}function KU(r,e){if(!r)return null;let n=Pl.create(e,r).dtFormatter(imt()),i=n.formatToParts(),a=n.resolvedOptions();return i.map(l=>emt(l,r,a))}var Kpt,Ypt,Nye,Bye,Qpt,VU,Uye=ze(()=>{Xf();XE();t1();cy();Vb();Rye();sy();Kpt="missing Intl.DateTimeFormat.formatToParts support";Ypt=String.fromCharCode(160),Nye=`[ ${Ypt}]`,Bye=new RegExp(Nye,"g");Qpt={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};VU=null});function OM(r){return new Fc("unsupported zone",`the zone "${r.name}" is not supported`)}function ZU(r){return r.weekData===null&&(r.weekData=$E(r.c)),r.weekData}function XU(r){return r.localWeekData===null&&(r.localWeekData=$E(r.c,r.loc.getMinDaysInFirstWeek(),r.loc.getStartOfWeek())),r.localWeekData}function Zb(r,e){let t={ts:r.ts,zone:r.zone,c:r.c,o:r.o,loc:r.loc,invalid:r.invalid};return new Qn({...t,...e,old:t})}function Yye(r,e,t){let n=r-e*60*1e3,i=t.offset(n);if(e===i)return[n,e];n-=(i-e)*60*1e3;let a=t.offset(n);return i===a?[n,i]:[r-Math.min(i,a)*60*1e3,Math.max(i,a)]}function IM(r,e){r+=e*60*1e3;let t=new Date(r);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function LM(r,e,t){return Yye(Q_(r),e,t)}function Hye(r,e){let t=r.o,n=r.c.year+Math.trunc(e.years),i=r.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,a={...r.c,year:n,month:i,day:Math.min(r.c.day,n1(n,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},l=xo.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),h=Q_(a),[g,w]=Yye(h,t,r.zone);return l!==0&&(g+=l,w=r.zone.offset(g)),{ts:g,o:w}}function tk(r,e,t,n,i,a){let{setZone:l,zone:h}=t;if(r&&Object.keys(r).length!==0||e){let g=e||h,w=Qn.fromObject(r,{...t,zone:g,specificOffset:a});return l?w:w.setZone(h)}else return Qn.invalid(new Fc("unparsable",`the input "${i}" can't be parsed as ${n}`))}function MM(r,e,t=!0){return r.isValid?Pl.create(Jo.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(r,e):null}function JU(r,e){let t=r.c.year>9999||r.c.year<0,n="";return t&&r.c.year>=0&&(n+="+"),n+=Ml(r.c.year,t?6:4),e?(n+="-",n+=Ml(r.c.month),n+="-",n+=Ml(r.c.day)):(n+=Ml(r.c.month),n+=Ml(r.c.day)),n}function Wye(r,e,t,n,i,a){let l=Ml(r.c.hour);return e?(l+=":",l+=Ml(r.c.minute),(r.c.millisecond!==0||r.c.second!==0||!t)&&(l+=":")):l+=Ml(r.c.minute),(r.c.millisecond!==0||r.c.second!==0||!t)&&(l+=Ml(r.c.second),(r.c.millisecond!==0||!n)&&(l+=".",l+=Ml(r.c.millisecond,3))),i&&(r.isOffsetFixed&&r.offset===0&&!a?l+="Z":r.o<0?(l+="-",l+=Ml(Math.trunc(-r.o/60)),l+=":",l+=Ml(Math.trunc(-r.o%60))):(l+="+",l+=Ml(Math.trunc(r.o/60)),l+=":",l+=Ml(Math.trunc(r.o%60)))),a&&(l+="["+r.zone.ianaName+"]"),l}function cmt(r){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[r.toLowerCase()];if(!e)throw new J_(r);return e}function Vye(r){switch(r.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return cmt(r)}}function $ye(r,e){let t=Xp(e.zone,Ia.defaultZone),n=Jo.fromObject(e),i=Ia.now(),a,l;if(xi(r.year))a=i;else{for(let w of Xye)xi(r[w])&&(r[w]=Zye[w]);let h=OU(r)||IU(r);if(h)return Qn.invalid(h);let g=t.offset(i);[a,l]=LM(r,g,t)}return new Qn({ts:a,zone:t,loc:n,o:l})}function Gye(r,e,t){let n=xi(t.round)?!0:t.round,i=(l,h)=>(l=e1(l,n||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(l,h)),a=l=>t.calendary?e.hasSame(r,l)?0:e.startOf(l).diff(r.startOf(l),l).get(l):e.diff(r,l).get(l);if(t.unit)return i(a(t.unit),t.unit);for(let l of t.units){let h=a(l);if(Math.abs(h)>=1)return i(h,l)}return i(r>e?-0:0,t.units[t.units.length-1])}function Kye(r){let e={},t;return r.length>0&&typeof r[r.length-1]=="object"?(e=r[r.length-1],t=Array.from(r).slice(0,r.length-1)):t=Array.from(r),[e,t]}function h1(r){if(Qn.isDateTime(r))return r;if(r&&r.valueOf&&qm(r.valueOf()))return Qn.fromJSDate(r);if(r&&typeof r=="object")return Qn.fromObject(r);throw new Ku(`Unknown datetime argument: ${r}, of type ${typeof r}`)}var YU,jye,Zye,amt,smt,Xye,lmt,umt,Qn,Vb=ze(()=>{ek();jU();fy();HU();XE();t1();WE();Xf();EM();Mye();UU();Uye();MU();UE();sy();VE();YU="Invalid DateTime",jye=864e13;Zye={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},amt={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},smt={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Xye=["year","month","day","hour","minute","second","millisecond"],lmt=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],umt=["year","ordinal","hour","minute","second","millisecond"];Qn=class{constructor(e){let t=e.zone||Ia.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new Fc("invalid input"):null)||(t.isValid?null:OM(t));this.ts=xi(e.ts)?Ia.now():e.ts;let i=null,a=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[i,a]=[e.old.c,e.old.o];else{let h=t.offset(this.ts);i=IM(this.ts,h),n=Number.isNaN(i.year)?new Fc("invalid input"):null,i=n?null:i,a=n?null:h}this._zone=t,this.loc=e.loc||Jo.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=i,this.o=a,this.isLuxonDateTime=!0}static now(){return new Qn({})}static local(){let[e,t]=Kye(arguments),[n,i,a,l,h,g,w]=t;return $ye({year:n,month:i,day:a,hour:l,minute:h,second:g,millisecond:w},e)}static utc(){let[e,t]=Kye(arguments),[n,i,a,l,h,g,w]=t;return e.zone=Ll.utcInstance,$ye({year:n,month:i,day:a,hour:l,minute:h,second:g,millisecond:w},e)}static fromJSDate(e,t={}){let n=oye(e)?e.valueOf():NaN;if(Number.isNaN(n))return Qn.invalid("invalid input");let i=Xp(t.zone,Ia.defaultZone);return i.isValid?new Qn({ts:n,zone:i,loc:Jo.fromObject(t)}):Qn.invalid(OM(i))}static fromMillis(e,t={}){if(qm(e))return e<-jye||e>jye?Qn.invalid("Timestamp out of range"):new Qn({ts:e,zone:Xp(t.zone,Ia.defaultZone),loc:Jo.fromObject(t)});throw new Ku(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(qm(e))return new Qn({ts:e*1e3,zone:Xp(t.zone,Ia.defaultZone),loc:Jo.fromObject(t)});throw new Ku("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};let n=Xp(t.zone,Ia.defaultZone);if(!n.isValid)return Qn.invalid(OM(n));let i=Jo.fromObject(t),a=i1(e,Vye),{minDaysInFirstWeek:l,startOfWeek:h}=DU(a,i),g=Ia.now(),w=xi(t.specificOffset)?n.offset(g):t.specificOffset,C=!xi(a.ordinal),D=!xi(a.year),F=!xi(a.month)||!xi(a.day),z=D||F,Y=a.weekYear||a.weekNumber;if((z||C)&&Y)throw new Kp("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(F&&C)throw new Kp("Can't mix ordinal dates with month/day");let $=Y||a.weekday&&!z,re,oe,ne=IM(g,w);$?(re=lmt,oe=amt,ne=$E(ne,l,h)):C?(re=umt,oe=smt,ne=AM(ne)):(re=Xye,oe=Zye);let he=!1;for(let be of re){let $e=a[be];xi($e)?he?a[be]=oe[be]:a[be]=ne[be]:he=!0}let _=$?rye(a,l,h):C?nye(a):OU(a),ge=_||IU(a);if(ge)return Qn.invalid(ge);let fe=$?CU(a,l,h):C?AU(a):a,[me,we]=LM(fe,w,n),Se=new Qn({ts:me,zone:n,o:we,loc:i});return a.weekday&&z&&e.weekday!==Se.weekday?Qn.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${Se.toISO()}`):Se}static fromISO(e,t={}){let[n,i]=xye(e);return tk(n,i,t,"ISO 8601",e)}static fromRFC2822(e,t={}){let[n,i]=_ye(e);return tk(n,i,t,"RFC 2822",e)}static fromHTTP(e,t={}){let[n,i]=wye(e);return tk(n,i,t,"HTTP",t)}static fromFormat(e,t,n={}){if(xi(e)||xi(t))throw new Ku("fromFormat requires an input string and a format");let{locale:i=null,numberingSystem:a=null}=n,l=Jo.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0}),[h,g,w,C]=zye(l,e,t);return C?Qn.invalid(C):tk(h,g,n,`format ${t}`,e,w)}static fromString(e,t,n={}){return Qn.fromFormat(e,t,n)}static fromSQL(e,t={}){let[n,i]=Eye(e);return tk(n,i,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new Ku("need to specify a reason the DateTime is invalid");let n=e instanceof Fc?e:new Fc(e,t);if(Ia.throwOnInvalid)throw new dM(n);return new Qn({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){let n=KU(e,Jo.fromObject(t));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(e,t={}){return $U(Pl.parseFormat(e),Jo.fromObject(t)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?ZU(this).weekYear:NaN}get weekNumber(){return this.isValid?ZU(this).weekNumber:NaN}get weekday(){return this.isValid?ZU(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?XU(this).weekday:NaN}get localWeekNumber(){return this.isValid?XU(this).weekNumber:NaN}get localWeekYear(){return this.isValid?XU(this).weekYear:NaN}get ordinal(){return this.isValid?AM(this.c).ordinal:NaN}get monthShort(){return this.isValid?Wg.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Wg.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Wg.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Wg.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let e=864e5,t=6e4,n=Q_(this.c),i=this.zone.offset(n-e),a=this.zone.offset(n+e),l=this.zone.offset(n-i*t),h=this.zone.offset(n-a*t);if(l===h)return[this];let g=n-l*t,w=n-h*t,C=IM(g,l),D=IM(w,h);return C.hour===D.hour&&C.minute===D.minute&&C.second===D.second&&C.millisecond===D.millisecond?[Zb(this,{ts:g}),Zb(this,{ts:w})]:[this]}get isInLeapYear(){return Kb(this.year)}get daysInMonth(){return n1(this.year,this.month)}get daysInYear(){return this.isValid?hy(this.year):NaN}get weeksInWeekYear(){return this.isValid?Gb(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Gb(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){let{locale:t,numberingSystem:n,calendar:i}=Pl.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:i}}toUTC(e=0,t={}){return this.setZone(Ll.instance(e),t)}toLocal(){return this.setZone(Ia.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:n=!1}={}){if(e=Xp(e,Ia.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(t||n){let a=e.offset(this.ts),l=this.toObject();[i]=LM(l,a,e)}return Zb(this,{ts:i,zone:e})}else return Qn.invalid(OM(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:n}={}){let i=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n});return Zb(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let t=i1(e,Vye),{minDaysInFirstWeek:n,startOfWeek:i}=DU(t,this.loc),a=!xi(t.weekYear)||!xi(t.weekNumber)||!xi(t.weekday),l=!xi(t.ordinal),h=!xi(t.year),g=!xi(t.month)||!xi(t.day),w=h||g,C=t.weekYear||t.weekNumber;if((w||l)&&C)throw new Kp("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(g&&l)throw new Kp("Can't mix ordinal dates with month/day");let D;a?D=CU({...$E(this.c,n,i),...t},n,i):xi(t.ordinal)?(D={...this.toObject(),...t},xi(t.day)&&(D.day=Math.min(n1(D.year,D.month),D.day))):D=AU({...AM(this.c),...t});let[F,z]=LM(D,this.o,this.zone);return Zb(this,{ts:F,o:z})}plus(e){if(!this.isValid)return this;let t=xo.fromDurationLike(e);return Zb(this,Hye(this,t))}minus(e){if(!this.isValid)return this;let t=xo.fromDurationLike(e).negate();return Zb(this,Hye(this,t))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;let n={},i=xo.normalizeUnit(e);switch(i){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break;case"milliseconds":break}if(i==="weeks")if(t){let a=this.loc.getStartOfWeek(),{weekday:l}=this;l<a&&(n.weekNumber=this.weekNumber-1),n.weekday=a}else n.weekday=1;if(i==="quarters"){let a=Math.ceil(this.month/3);n.month=(a-1)*3+1}return this.set(n)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?Pl.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):YU}toLocaleString(e=ly,t={}){return this.isValid?Pl.create(this.loc.clone(t),e).formatDateTime(this):YU}toLocaleParts(e={}){return this.isValid?Pl.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:a=!1}={}){if(!this.isValid)return null;let l=e==="extended",h=JU(this,l);return h+="T",h+=Wye(this,l,t,n,i,a),h}toISODate({format:e="extended"}={}){return this.isValid?JU(this,e==="extended"):null}toISOWeekDate(){return MM(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:a=!1,format:l="extended"}={}){return this.isValid?(i?"T":"")+Wye(this,l==="extended",t,e,n,a):null}toRFC2822(){return MM(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return MM(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?JU(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(t||e)&&(n&&(i+=" "),t?i+="z":e&&(i+="ZZ")),MM(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():YU}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",n={}){if(!this.isValid||!e.isValid)return xo.invalid("created by diffing an invalid DateTime");let i={locale:this.locale,numberingSystem:this.numberingSystem,...n},a=aye(t).map(xo.normalizeUnit),l=e.valueOf()>this.valueOf(),h=l?this:e,g=l?e:this,w=Iye(h,g,a,i);return l?w.negate():w}diffNow(e="milliseconds",t={}){return this.diff(Qn.now(),e,t)}until(e){return this.isValid?ks.fromDateTimes(this,e):this}hasSame(e,t,n){if(!this.isValid)return!1;let i=e.valueOf(),a=this.setZone(e.zone,{keepLocalTime:!0});return a.startOf(t,n)<=i&&i<=a.endOf(t,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let t=e.base||Qn.fromObject({},{zone:this.zone}),n=e.padding?this<t?-e.padding:e.padding:0,i=["years","months","days","hours","minutes","seconds"],a=e.unit;return Array.isArray(e.unit)&&(i=e.unit,a=void 0),Gye(t,this.plus(n),{...e,numeric:"always",units:i,unit:a})}toRelativeCalendar(e={}){return this.isValid?Gye(e.base||Qn.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Qn.isDateTime))throw new Ku("min requires all arguments be DateTimes");return LU(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(Qn.isDateTime))throw new Ku("max requires all arguments be DateTimes");return LU(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,n={}){let{locale:i=null,numberingSystem:a=null}=n,l=Jo.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0});return GU(l,e,t)}static fromStringExplain(e,t,n={}){return Qn.fromFormatExplain(e,t,n)}static get DATE_SHORT(){return ly}static get DATE_MED(){return wE}static get DATE_MED_WITH_WEEKDAY(){return cU}static get DATE_FULL(){return SE}static get DATE_HUGE(){return TE}static get TIME_SIMPLE(){return EE}static get TIME_WITH_SECONDS(){return kE}static get TIME_WITH_SHORT_OFFSET(){return CE}static get TIME_WITH_LONG_OFFSET(){return AE}static get TIME_24_SIMPLE(){return DE}static get TIME_24_WITH_SECONDS(){return OE}static get TIME_24_WITH_SHORT_OFFSET(){return IE}static get TIME_24_WITH_LONG_OFFSET(){return ME}static get DATETIME_SHORT(){return LE}static get DATETIME_SHORT_WITH_SECONDS(){return PE}static get DATETIME_MED(){return RE}static get DATETIME_MED_WITH_SECONDS(){return FE}static get DATETIME_MED_WITH_WEEKDAY(){return fU}static get DATETIME_FULL(){return qE}static get DATETIME_FULL_WITH_SECONDS(){return NE}static get DATETIME_HUGE(){return BE}static get DATETIME_HUGE_WITH_SECONDS(){return zE}}});var Jye=ze(()=>{Vb();ek();jU();HU();Wb();t1();cy();kU();vM();fy()});var PM,gy,QU=ze(()=>{PM=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],gy={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(r){return typeof console<"u"&&console.warn(r)},getWeek:function(r){var e=new Date(r.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1}});var RM,FM,ej=ze(()=>{RM={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(r){var e=r%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},FM=RM});function tj(r,e){var t;return function(){var n=this,i=arguments;clearTimeout(t),t=setTimeout(function(){return r.apply(n,i)},e)}}var _f,Oh,qM,rj=ze(()=>{_f=function(r,e){return e===void 0&&(e=2),("000"+r).slice(e*-1)},Oh=function(r){return r===!0?1:0};qM=function(r){return r instanceof Array?r:[r]}});function wf(r,e,t){if(t===!0)return r.classList.add(e);r.classList.remove(e)}function va(r,e,t){var n=window.document.createElement(r);return e=e||"",t=t||"",n.className=e,t!==void 0&&(n.textContent=t),n}function rk(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function nj(r,e){if(e(r))return r;if(r.parentNode)return nj(r.parentNode,e)}function nk(r,e){var t=va("div","numInputWrapper"),n=va("input","numInput "+r),i=va("span","arrowUp"),a=va("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?n.type="number":(n.type="text",n.pattern="\\d*"),e!==void 0)for(var l in e)n.setAttribute(l,e[l]);return t.appendChild(n),t.appendChild(i),t.appendChild(a),t}function Ih(r){try{if(typeof r.composedPath=="function"){var e=r.composedPath();return e[0]}return r.target}catch{return r.target}}var Qye=ze(()=>{});var ij,ik,ebe,Vg,d1,oj=ze(()=>{rj();ij=function(){},ik=function(r,e,t){return t.months[e?"shorthand":"longhand"][r]},ebe={D:ij,F:function(r,e,t){r.setMonth(t.months.longhand.indexOf(e))},G:function(r,e){r.setHours((r.getHours()>=12?12:0)+parseFloat(e))},H:function(r,e){r.setHours(parseFloat(e))},J:function(r,e){r.setDate(parseFloat(e))},K:function(r,e,t){r.setHours(r.getHours()%12+12*Oh(new RegExp(t.amPM[1],"i").test(e)))},M:function(r,e,t){r.setMonth(t.months.shorthand.indexOf(e))},S:function(r,e){r.setSeconds(parseFloat(e))},U:function(r,e){return new Date(parseFloat(e)*1e3)},W:function(r,e,t){var n=parseInt(e),i=new Date(r.getFullYear(),0,2+(n-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+t.firstDayOfWeek),i},Y:function(r,e){r.setFullYear(parseFloat(e))},Z:function(r,e){return new Date(e)},d:function(r,e){r.setDate(parseFloat(e))},h:function(r,e){r.setHours((r.getHours()>=12?12:0)+parseFloat(e))},i:function(r,e){r.setMinutes(parseFloat(e))},j:function(r,e){r.setDate(parseFloat(e))},l:ij,m:function(r,e){r.setMonth(parseFloat(e)-1)},n:function(r,e){r.setMonth(parseFloat(e)-1)},s:function(r,e){r.setSeconds(parseFloat(e))},u:function(r,e){return new Date(parseFloat(e))},w:ij,y:function(r,e){r.setFullYear(2e3+parseFloat(e))}},Vg={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},d1={Z:function(r){return r.toISOString()},D:function(r,e,t){return e.weekdays.shorthand[d1.w(r,e,t)]},F:function(r,e,t){return ik(d1.n(r,e,t)-1,!1,e)},G:function(r,e,t){return _f(d1.h(r,e,t))},H:function(r){return _f(r.getHours())},J:function(r,e){return e.ordinal!==void 0?r.getDate()+e.ordinal(r.getDate()):r.getDate()},K:function(r,e){return e.amPM[Oh(r.getHours()>11)]},M:function(r,e){return ik(r.getMonth(),!0,e)},S:function(r){return _f(r.getSeconds())},U:function(r){return r.getTime()/1e3},W:function(r,e,t){return t.getWeek(r)},Y:function(r){return _f(r.getFullYear(),4)},d:function(r){return _f(r.getDate())},h:function(r){return r.getHours()%12?r.getHours()%12:12},i:function(r){return _f(r.getMinutes())},j:function(r){return r.getDate()},l:function(r,e){return e.weekdays.longhand[r.getDay()]},m:function(r){return _f(r.getMonth()+1)},n:function(r){return r.getMonth()+1},s:function(r){return r.getSeconds()},u:function(r){return r.getTime()},w:function(r){return r.getDay()},y:function(r){return String(r.getFullYear()).substring(2)}}});function Mh(r,e,t){return t===void 0&&(t=!0),t!==!1?new Date(r.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):r.getTime()-e.getTime()}function zM(r){var e=r.defaultHour,t=r.defaultMinute,n=r.defaultSeconds;if(r.minDate!==void 0){var i=r.minDate.getHours(),a=r.minDate.getMinutes(),l=r.minDate.getSeconds();e<i&&(e=i),e===i&&t<a&&(t=a),e===i&&t===a&&n<l&&(n=r.minDate.getSeconds())}if(r.maxDate!==void 0){var h=r.maxDate.getHours(),g=r.maxDate.getMinutes();e=Math.min(e,h),e===h&&(t=Math.min(g,t)),e===h&&t===g&&(n=r.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:n}}var aj,NM,tbe,BM,rbe,nbe,ibe=ze(()=>{oj();QU();ej();aj=function(r){var e=r.config,t=e===void 0?gy:e,n=r.l10n,i=n===void 0?RM:n,a=r.isMobile,l=a===void 0?!1:a;return function(h,g,w){var C=w||i;return t.formatDate!==void 0&&!l?t.formatDate(h,g,C):g.split("").map(function(D,F,z){return d1[D]&&z[F-1]!=="\\"?d1[D](h,C,t):D!=="\\"?D:""}).join("")}},NM=function(r){var e=r.config,t=e===void 0?gy:e,n=r.l10n,i=n===void 0?RM:n;return function(a,l,h,g){if(!(a!==0&&!a)){var w=g||i,C,D=a;if(a instanceof Date)C=new Date(a.getTime());else if(typeof a!="string"&&a.toFixed!==void 0)C=new Date(a);else if(typeof a=="string"){var F=l||(t||gy).dateFormat,z=String(a).trim();if(z==="today")C=new Date,h=!0;else if(t&&t.parseDate)C=t.parseDate(a,F);else if(/Z$/.test(z)||/GMT$/.test(z))C=new Date(a);else{for(var Y=void 0,$=[],re=0,oe=0,ne="";re<F.length;re++){var he=F[re],_=he==="\\",ge=F[re-1]==="\\"||_;if(Vg[he]&&!ge){ne+=Vg[he];var fe=new RegExp(ne).exec(a);fe&&(Y=!0)&&$[he!=="Y"?"push":"unshift"]({fn:ebe[he],val:fe[++oe]})}else _||(ne+=".")}C=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),$.forEach(function(me){var we=me.fn,Se=me.val;return C=we(C,Se,w)||C}),C=Y?C:void 0}}if(!(C instanceof Date&&!isNaN(C.getTime()))){t.errorHandler(new Error("Invalid date provided: "+D));return}return h===!0&&C.setHours(0,0,0,0),C}}};tbe=function(r,e,t){return r>Math.min(e,t)&&r<Math.max(e,t)},BM=function(r,e,t){return r*3600+e*60+t},rbe=function(r){var e=Math.floor(r/3600),t=(r-e*3600)/60;return[e,t,r-e*3600-t*60]},nbe={DAY:864e5}});var obe=ze(()=>{"use strict";typeof Object.assign!="function"&&(Object.assign=function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!r)throw TypeError("Cannot convert undefined or null to object");for(var n=function(h){h&&Object.keys(h).forEach(function(g){return r[g]=h[g]})},i=0,a=e;i<a.length;i++){var l=a[i];n(l)}return r})});function hmt(r,e){var t={config:Sf(Sf({},gy),Yu.defaultConfig),l10n:FM};t.parseDate=NM({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=$,t._setHoursFromDate=F,t._positionCalendar=Wt,t.changeMonth=U,t.changeYear=Ht,t.clear=Ue,t.close=Je,t.onMouseOver=ir,t._createElement=va,t.createDay=fe,t.destroy=Qe,t.isEnabled=Rt,t.jumpToDate=ne,t.updateValue=mi,t.open=kt,t.redraw=Nt,t.set=kr,t.setDate=pt,t.toggle=Dt;function n(){t.utils={getDaysInMonth:function(Xe,st){return Xe===void 0&&(Xe=t.currentMonth),st===void 0&&(st=t.currentYear),Xe===1&&(st%4===0&&st%100!==0||st%400===0)?29:t.l10n.daysInMonth[Xe]}}}function i(){t.element=t.input=r,t.isOpen=!1,ce(),Ne(),ki(),Lr(),n(),t.isMobile||ge(),oe(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&F(t.config.noCalendar?t.latestSelectedDateObj:void 0),mi(!1)),h();var Xe=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&Xe&&Wt(),Et("onReady")}function a(){var Xe;return((Xe=t.calendarContainer)===null||Xe===void 0?void 0:Xe.getRootNode()).activeElement||document.activeElement}function l(Xe){return Xe.bind(t)}function h(){var Xe=t.config;Xe.weekNumbers===!1&&Xe.showMonths===1||Xe.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var st=(t.days.offsetWidth+1)*Xe.showMonths;t.daysContainer.style.width=st+"px",t.calendarContainer.style.width=st+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function g(Xe){if(t.selectedDates.length===0){var st=t.config.minDate===void 0||Mh(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),Mt=zM(t.config);st.setHours(Mt.hours,Mt.minutes,Mt.seconds,st.getMilliseconds()),t.selectedDates=[st],t.latestSelectedDateObj=st}Xe!==void 0&&Xe.type!=="blur"&&gi(Xe);var nr=t._input.value;D(),mi(),t._input.value!==nr&&t._debouncedChange()}function w(Xe,st){return Xe%12+12*Oh(st===t.l10n.amPM[1])}function C(Xe){switch(Xe%24){case 0:case 12:return 12;default:return Xe%12}}function D(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var Xe=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,st=(parseInt(t.minuteElement.value,10)||0)%60,Mt=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(Xe=w(Xe,t.amPM.textContent));var nr=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&Mh(t.latestSelectedDateObj,t.config.minDate,!0)===0,Pr=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&Mh(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var qr=BM(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),Nn=BM(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),Nr=BM(Xe,st,Mt);if(Nr>Nn&&Nr<qr){var Fn=rbe(qr);Xe=Fn[0],st=Fn[1],Mt=Fn[2]}}else{if(Pr){var Fr=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;Xe=Math.min(Xe,Fr.getHours()),Xe===Fr.getHours()&&(st=Math.min(st,Fr.getMinutes())),st===Fr.getMinutes()&&(Mt=Math.min(Mt,Fr.getSeconds()))}if(nr){var mn=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;Xe=Math.max(Xe,mn.getHours()),Xe===mn.getHours()&&st<mn.getMinutes()&&(st=mn.getMinutes()),st===mn.getMinutes()&&(Mt=Math.max(Mt,mn.getSeconds()))}}z(Xe,st,Mt)}}function F(Xe){var st=Xe||t.latestSelectedDateObj;st&&st instanceof Date&&z(st.getHours(),st.getMinutes(),st.getSeconds())}function z(Xe,st,Mt){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(Xe%24,st,Mt||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=_f(t.config.time_24hr?Xe:(12+Xe)%12+12*Oh(Xe%12===0)),t.minuteElement.value=_f(st),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[Oh(Xe>=12)]),t.secondElement!==void 0&&(t.secondElement.value=_f(Mt)))}function Y(Xe){var st=Ih(Xe),Mt=parseInt(st.value)+(Xe.delta||0);(Mt/1e3>1||Xe.key==="Enter"&&!/[^\d]/.test(Mt.toString()))&&Ht(Mt)}function $(Xe,st,Mt,nr){if(st instanceof Array)return st.forEach(function(Pr){return $(Xe,Pr,Mt,nr)});if(Xe instanceof Array)return Xe.forEach(function(Pr){return $(Pr,st,Mt,nr)});Xe.addEventListener(st,Mt,nr),t._handlers.push({remove:function(){return Xe.removeEventListener(st,Mt,nr)}})}function re(){Et("onChange")}function oe(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(Mt){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+Mt+"]"),function(nr){return $(nr,"click",t[Mt])})}),t.isMobile){$n();return}var Xe=tj(At,50);if(t._debouncedChange=tj(re,fmt),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&$(t.daysContainer,"mouseover",function(Mt){t.config.mode==="range"&&ir(Ih(Mt))}),$(t._input,"keydown",Tr),t.calendarContainer!==void 0&&$(t.calendarContainer,"keydown",Tr),!t.config.inline&&!t.config.static&&$(window,"resize",Xe),window.ontouchstart!==void 0?$(window.document,"touchstart",Tt):$(window.document,"mousedown",Tt),$(window.document,"focus",Tt,{capture:!0}),t.config.clickOpens===!0&&($(t._input,"focus",t.open),$(t._input,"click",t.open)),t.daysContainer!==void 0&&($(t.monthNav,"click",fo),$(t.monthNav,["keyup","increment"],Y),$(t.daysContainer,"click",_r)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var st=function(Mt){return Ih(Mt).select()};$(t.timeContainer,["increment"],g),$(t.timeContainer,"blur",g,{capture:!0}),$(t.timeContainer,"click",he),$([t.hourElement,t.minuteElement],["focus","click"],st),t.secondElement!==void 0&&$(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&$(t.amPM,"click",function(Mt){g(Mt)})}t.config.allowInput&&$(t._input,"blur",cr)}function ne(Xe,st){var Mt=Xe!==void 0?t.parseDate(Xe):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),nr=t.currentYear,Pr=t.currentMonth;try{Mt!==void 0&&(t.currentYear=Mt.getFullYear(),t.currentMonth=Mt.getMonth())}catch(qr){qr.message="Invalid date supplied: "+Mt,t.config.errorHandler(qr)}st&&t.currentYear!==nr&&(Et("onYearChange"),ee()),st&&(t.currentYear!==nr||t.currentMonth!==Pr)&&Et("onMonthChange"),t.redraw()}function he(Xe){var st=Ih(Xe);~st.className.indexOf("arrow")&&_(Xe,st.classList.contains("arrowUp")?1:-1)}function _(Xe,st,Mt){var nr=Xe&&Ih(Xe),Pr=Mt||nr&&nr.parentNode&&nr.parentNode.firstChild,qr=Er("increment");qr.delta=st,Pr&&Pr.dispatchEvent(qr)}function ge(){var Xe=window.document.createDocumentFragment();if(t.calendarContainer=va("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(Xe.appendChild(G()),t.innerContainer=va("div","flatpickr-innerContainer"),t.config.weekNumbers){var st=K(),Mt=st.weekWrapper,nr=st.weekNumbers;t.innerContainer.appendChild(Mt),t.weekNumbers=nr,t.weekWrapper=Mt}t.rContainer=va("div","flatpickr-rContainer"),t.rContainer.appendChild(te()),t.daysContainer||(t.daysContainer=va("div","flatpickr-days"),t.daysContainer.tabIndex=-1),q(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),Xe.appendChild(t.innerContainer)}t.config.enableTime&&Xe.appendChild(V()),wf(t.calendarContainer,"rangeMode",t.config.mode==="range"),wf(t.calendarContainer,"animate",t.config.animate===!0),wf(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(Xe);var Pr=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!Pr&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var qr=va("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(qr,t.element),qr.appendChild(t.element),t.altInput&&qr.appendChild(t.altInput),qr.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function fe(Xe,st,Mt,nr){var Pr=Rt(st,!0),qr=va("span",Xe,st.getDate().toString());return qr.dateObj=st,qr.$i=nr,qr.setAttribute("aria-label",t.formatDate(st,t.config.ariaDateFormat)),Xe.indexOf("hidden")===-1&&Mh(st,t.now)===0&&(t.todayDateElem=qr,qr.classList.add("today"),qr.setAttribute("aria-current","date")),Pr?(qr.tabIndex=-1,on(st)&&(qr.classList.add("selected"),t.selectedDateElem=qr,t.config.mode==="range"&&(wf(qr,"startRange",t.selectedDates[0]&&Mh(st,t.selectedDates[0],!0)===0),wf(qr,"endRange",t.selectedDates[1]&&Mh(st,t.selectedDates[1],!0)===0),Xe==="nextMonthDay"&&qr.classList.add("inRange")))):qr.classList.add("flatpickr-disabled"),t.config.mode==="range"&&Vr(st)&&!on(st)&&qr.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&Xe!=="prevMonthDay"&&nr%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(st)+"</span>"),Et("onDayCreate",qr),qr}function me(Xe){Xe.focus(),t.config.mode==="range"&&ir(Xe)}function we(Xe){for(var st=Xe>0?0:t.config.showMonths-1,Mt=Xe>0?t.config.showMonths:-1,nr=st;nr!=Mt;nr+=Xe)for(var Pr=t.daysContainer.children[nr],qr=Xe>0?0:Pr.children.length-1,Nn=Xe>0?Pr.children.length:-1,Nr=qr;Nr!=Nn;Nr+=Xe){var Fn=Pr.children[Nr];if(Fn.className.indexOf("hidden")===-1&&Rt(Fn.dateObj))return Fn}}function Se(Xe,st){for(var Mt=Xe.className.indexOf("Month")===-1?Xe.dateObj.getMonth():t.currentMonth,nr=st>0?t.config.showMonths:-1,Pr=st>0?1:-1,qr=Mt-t.currentMonth;qr!=nr;qr+=Pr)for(var Nn=t.daysContainer.children[qr],Nr=Mt-t.currentMonth===qr?Xe.$i+st:st<0?Nn.children.length-1:0,Fn=Nn.children.length,Fr=Nr;Fr>=0&&Fr<Fn&&Fr!=(st>0?Fn:-1);Fr+=Pr){var mn=Nn.children[Fr];if(mn.className.indexOf("hidden")===-1&&Rt(mn.dateObj)&&Math.abs(Xe.$i-Fr)>=Math.abs(st))return me(mn)}t.changeMonth(Pr),be(we(Pr),0)}function be(Xe,st){var Mt=a(),nr=Yt(Mt||document.body),Pr=Xe!==void 0?Xe:nr?Mt:t.selectedDateElem!==void 0&&Yt(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&Yt(t.todayDateElem)?t.todayDateElem:we(st>0?1:-1);Pr===void 0?t._input.focus():nr?Se(Pr,st):me(Pr)}function $e(Xe,st){for(var Mt=(new Date(Xe,st,1).getDay()-t.l10n.firstDayOfWeek+7)%7,nr=t.utils.getDaysInMonth((st-1+12)%12,Xe),Pr=t.utils.getDaysInMonth(st,Xe),qr=window.document.createDocumentFragment(),Nn=t.config.showMonths>1,Nr=Nn?"prevMonthDay hidden":"prevMonthDay",Fn=Nn?"nextMonthDay hidden":"nextMonthDay",Fr=nr+1-Mt,mn=0;Fr<=nr;Fr++,mn++)qr.appendChild(fe("flatpickr-day "+Nr,new Date(Xe,st-1,Fr),Fr,mn));for(Fr=1;Fr<=Pr;Fr++,mn++)qr.appendChild(fe("flatpickr-day",new Date(Xe,st,Fr),Fr,mn));for(var bn=Pr+1;bn<=42-Mt&&(t.config.showMonths===1||mn%7!==0);bn++,mn++)qr.appendChild(fe("flatpickr-day "+Fn,new Date(Xe,st+1,bn%Pr),bn,mn));var vi=va("div","dayContainer");return vi.appendChild(qr),vi}function q(){if(t.daysContainer!==void 0){rk(t.daysContainer),t.weekNumbers&&rk(t.weekNumbers);for(var Xe=document.createDocumentFragment(),st=0;st<t.config.showMonths;st++){var Mt=new Date(t.currentYear,t.currentMonth,1);Mt.setMonth(t.currentMonth+st),Xe.appendChild($e(Mt.getFullYear(),Mt.getMonth()))}t.daysContainer.appendChild(Xe),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&ir()}}function ee(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var Xe=function(nr){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&nr<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&nr>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var st=0;st<12;st++)if(!!Xe(st)){var Mt=va("option","flatpickr-monthDropdown-month");Mt.value=new Date(t.currentYear,st).getMonth().toString(),Mt.textContent=ik(st,t.config.shorthandCurrentMonth,t.l10n),Mt.tabIndex=-1,t.currentMonth===st&&(Mt.selected=!0),t.monthsDropdownContainer.appendChild(Mt)}}}function R(){var Xe=va("div","flatpickr-month"),st=window.document.createDocumentFragment(),Mt;t.config.showMonths>1||t.config.monthSelectorType==="static"?Mt=va("span","cur-month"):(t.monthsDropdownContainer=va("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),$(t.monthsDropdownContainer,"change",function(Nn){var Nr=Ih(Nn),Fn=parseInt(Nr.value,10);t.changeMonth(Fn-t.currentMonth),Et("onMonthChange")}),ee(),Mt=t.monthsDropdownContainer);var nr=nk("cur-year",{tabindex:"-1"}),Pr=nr.getElementsByTagName("input")[0];Pr.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&Pr.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(Pr.setAttribute("max",t.config.maxDate.getFullYear().toString()),Pr.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var qr=va("div","flatpickr-current-month");return qr.appendChild(Mt),qr.appendChild(nr),st.appendChild(qr),Xe.appendChild(st),{container:Xe,yearElement:Pr,monthElement:Mt}}function j(){rk(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var Xe=t.config.showMonths;Xe--;){var st=R();t.yearElements.push(st.yearElement),t.monthElements.push(st.monthElement),t.monthNav.appendChild(st.container)}t.monthNav.appendChild(t.nextMonthNav)}function G(){return t.monthNav=va("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=va("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=va("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,j(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(Xe){t.__hidePrevMonthArrow!==Xe&&(wf(t.prevMonthNav,"flatpickr-disabled",Xe),t.__hidePrevMonthArrow=Xe)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(Xe){t.__hideNextMonthArrow!==Xe&&(wf(t.nextMonthNav,"flatpickr-disabled",Xe),t.__hideNextMonthArrow=Xe)}}),t.currentYearElement=t.yearElements[0],yn(),t.monthNav}function V(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var Xe=zM(t.config);t.timeContainer=va("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var st=va("span","flatpickr-time-separator",":"),Mt=nk("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=Mt.getElementsByTagName("input")[0];var nr=nk("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=nr.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=_f(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?Xe.hours:C(Xe.hours)),t.minuteElement.value=_f(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():Xe.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Mt),t.timeContainer.appendChild(st),t.timeContainer.appendChild(nr),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var Pr=nk("flatpickr-second");t.secondElement=Pr.getElementsByTagName("input")[0],t.secondElement.value=_f(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():Xe.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(va("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(Pr)}return t.config.time_24hr||(t.amPM=va("span","flatpickr-am-pm",t.l10n.amPM[Oh((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function te(){t.weekdayContainer?rk(t.weekdayContainer):t.weekdayContainer=va("div","flatpickr-weekdays");for(var Xe=t.config.showMonths;Xe--;){var st=va("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(st)}return _e(),t.weekdayContainer}function _e(){if(!!t.weekdayContainer){var Xe=t.l10n.firstDayOfWeek,st=abe(t.l10n.weekdays.shorthand);Xe>0&&Xe<st.length&&(st=abe(st.splice(Xe,st.length),st.splice(0,Xe)));for(var Mt=t.config.showMonths;Mt--;)t.weekdayContainer.children[Mt].innerHTML=`
      <span class='flatpickr-weekday'>
        `+st.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function K(){t.calendarContainer.classList.add("hasWeeks");var Xe=va("div","flatpickr-weekwrapper");Xe.appendChild(va("span","flatpickr-weekday",t.l10n.weekAbbreviation));var st=va("div","flatpickr-weeks");return Xe.appendChild(st),{weekWrapper:Xe,weekNumbers:st}}function U(Xe,st){st===void 0&&(st=!0);var Mt=st?Xe:Xe-t.currentMonth;Mt<0&&t._hidePrevMonthArrow===!0||Mt>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=Mt,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,Et("onYearChange"),ee()),q(),Et("onMonthChange"),yn())}function Ue(Xe,st){if(Xe===void 0&&(Xe=!0),st===void 0&&(st=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,st===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var Mt=zM(t.config),nr=Mt.hours,Pr=Mt.minutes,qr=Mt.seconds;z(nr,Pr,qr)}t.redraw(),Xe&&Et("onChange")}function Je(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),Et("onClose")}function Qe(){t.config!==void 0&&Et("onDestroy");for(var Xe=t._handlers.length;Xe--;)t._handlers[Xe].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var st=t.calendarContainer.parentNode;if(st.lastChild&&st.removeChild(st.lastChild),st.parentNode){for(;st.firstChild;)st.parentNode.insertBefore(st.firstChild,st);st.parentNode.removeChild(st)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(Mt){try{delete t[Mt]}catch{}})}function Ct(Xe){return t.calendarContainer.contains(Xe)}function Tt(Xe){if(t.isOpen&&!t.config.inline){var st=Ih(Xe),Mt=Ct(st),nr=st===t.input||st===t.altInput||t.element.contains(st)||Xe.path&&Xe.path.indexOf&&(~Xe.path.indexOf(t.input)||~Xe.path.indexOf(t.altInput)),Pr=!nr&&!Mt&&!Ct(Xe.relatedTarget),qr=!t.config.ignoredFocusElements.some(function(Nn){return Nn.contains(st)});Pr&&qr&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&g(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function Ht(Xe){if(!(!Xe||t.config.minDate&&Xe<t.config.minDate.getFullYear()||t.config.maxDate&&Xe>t.config.maxDate.getFullYear())){var st=Xe,Mt=t.currentYear!==st;t.currentYear=st||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),Mt&&(t.redraw(),Et("onYearChange"),ee())}}function Rt(Xe,st){var Mt;st===void 0&&(st=!0);var nr=t.parseDate(Xe,void 0,st);if(t.config.minDate&&nr&&Mh(nr,t.config.minDate,st!==void 0?st:!t.minDateHasTime)<0||t.config.maxDate&&nr&&Mh(nr,t.config.maxDate,st!==void 0?st:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(nr===void 0)return!1;for(var Pr=!!t.config.enable,qr=(Mt=t.config.enable)!==null&&Mt!==void 0?Mt:t.config.disable,Nn=0,Nr=void 0;Nn<qr.length;Nn++){if(Nr=qr[Nn],typeof Nr=="function"&&Nr(nr))return Pr;if(Nr instanceof Date&&nr!==void 0&&Nr.getTime()===nr.getTime())return Pr;if(typeof Nr=="string"){var Fn=t.parseDate(Nr,void 0,!0);return Fn&&Fn.getTime()===nr.getTime()?Pr:!Pr}else if(typeof Nr=="object"&&nr!==void 0&&Nr.from&&Nr.to&&nr.getTime()>=Nr.from.getTime()&&nr.getTime()<=Nr.to.getTime())return Pr}return!Pr}function Yt(Xe){return t.daysContainer!==void 0?Xe.className.indexOf("hidden")===-1&&Xe.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(Xe):!1}function cr(Xe){var st=Xe.target===t._input,Mt=t._input.value.trimEnd()!==Rn();st&&Mt&&!(Xe.relatedTarget&&Ct(Xe.relatedTarget))&&t.setDate(t._input.value,!0,Xe.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function Tr(Xe){var st=Ih(Xe),Mt=t.config.wrap?r.contains(st):st===t._input,nr=t.config.allowInput,Pr=t.isOpen&&(!nr||!Mt),qr=t.config.inline&&Mt&&!nr;if(Xe.keyCode===13&&Mt){if(nr)return t.setDate(t._input.value,!0,st===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),st.blur();t.open()}else if(Ct(st)||Pr||qr){var Nn=!!t.timeContainer&&t.timeContainer.contains(st);switch(Xe.keyCode){case 13:Nn?(Xe.preventDefault(),g(),vr()):_r(Xe);break;case 27:Xe.preventDefault(),vr();break;case 8:case 46:Mt&&!t.config.allowInput&&(Xe.preventDefault(),t.clear());break;case 37:case 39:if(!Nn&&!Mt){Xe.preventDefault();var Nr=a();if(t.daysContainer!==void 0&&(nr===!1||Nr&&Yt(Nr))){var Fn=Xe.keyCode===39?1:-1;Xe.ctrlKey?(Xe.stopPropagation(),U(Fn),be(we(1),0)):be(void 0,Fn)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:Xe.preventDefault();var Fr=Xe.keyCode===40?1:-1;t.daysContainer&&st.$i!==void 0||st===t.input||st===t.altInput?Xe.ctrlKey?(Xe.stopPropagation(),Ht(t.currentYear-Fr),be(we(1),0)):Nn||be(void 0,Fr*7):st===t.currentYearElement?Ht(t.currentYear-Fr):t.config.enableTime&&(!Nn&&t.hourElement&&t.hourElement.focus(),g(Xe),t._debouncedChange());break;case 9:if(Nn){var mn=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(Ri){return Ri}),bn=mn.indexOf(st);if(bn!==-1){var vi=mn[bn+(Xe.shiftKey?-1:1)];Xe.preventDefault(),(vi||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(st)&&Xe.shiftKey&&(Xe.preventDefault(),t._input.focus());break;default:break}}if(t.amPM!==void 0&&st===t.amPM)switch(Xe.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],D(),mi();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],D(),mi();break}(Mt||Ct(st))&&Et("onKeyDown",Xe)}function ir(Xe,st){if(st===void 0&&(st="flatpickr-day"),!(t.selectedDates.length!==1||Xe&&(!Xe.classList.contains(st)||Xe.classList.contains("flatpickr-disabled")))){for(var Mt=Xe?Xe.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),nr=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),Pr=Math.min(Mt,t.selectedDates[0].getTime()),qr=Math.max(Mt,t.selectedDates[0].getTime()),Nn=!1,Nr=0,Fn=0,Fr=Pr;Fr<qr;Fr+=nbe.DAY)Rt(new Date(Fr),!0)||(Nn=Nn||Fr>Pr&&Fr<qr,Fr<nr&&(!Nr||Fr>Nr)?Nr=Fr:Fr>nr&&(!Fn||Fr<Fn)&&(Fn=Fr));var mn=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+st));mn.forEach(function(bn){var vi=bn.dateObj,Ri=vi.getTime(),La=Nr>0&&Ri<Nr||Fn>0&&Ri>Fn;if(La){bn.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(li){bn.classList.remove(li)});return}else if(Nn&&!La)return;["startRange","inRange","endRange","notAllowed"].forEach(function(li){bn.classList.remove(li)}),Xe!==void 0&&(Xe.classList.add(Mt<=t.selectedDates[0].getTime()?"startRange":"endRange"),nr<Mt&&Ri===nr?bn.classList.add("startRange"):nr>Mt&&Ri===nr&&bn.classList.add("endRange"),Ri>=Nr&&(Fn===0||Ri<=Fn)&&tbe(Ri,nr,Mt)&&bn.classList.add("inRange"))})}}function At(){t.isOpen&&!t.config.static&&!t.config.inline&&Wt()}function kt(Xe,st){if(st===void 0&&(st=t._positionElement),t.isMobile===!0){if(Xe){Xe.preventDefault();var Mt=Ih(Xe);Mt&&Mt.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),Et("onOpen");return}else if(t._input.disabled||t.config.inline)return;var nr=t.isOpen;t.isOpen=!0,nr||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),Et("onOpen"),Wt(st)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(Xe===void 0||!t.timeContainer.contains(Xe.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function rt(Xe){return function(st){var Mt=t.config["_"+Xe+"Date"]=t.parseDate(st,t.config.dateFormat),nr=t.config["_"+(Xe==="min"?"max":"min")+"Date"];Mt!==void 0&&(t[Xe==="min"?"minDateHasTime":"maxDateHasTime"]=Mt.getHours()>0||Mt.getMinutes()>0||Mt.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(Pr){return Rt(Pr)}),!t.selectedDates.length&&Xe==="min"&&F(Mt),mi()),t.daysContainer&&(Nt(),Mt!==void 0?t.currentYearElement[Xe]=Mt.getFullYear().toString():t.currentYearElement.removeAttribute(Xe),t.currentYearElement.disabled=!!nr&&Mt!==void 0&&nr.getFullYear()===Mt.getFullYear())}}function ce(){var Xe=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],st=Sf(Sf({},JSON.parse(JSON.stringify(r.dataset||{}))),e),Mt={};t.config.parseDate=st.parseDate,t.config.formatDate=st.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(mn){t.config._enable=er(mn)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(mn){t.config._disable=er(mn)}});var nr=st.mode==="time";if(!st.dateFormat&&(st.enableTime||nr)){var Pr=Yu.defaultConfig.dateFormat||gy.dateFormat;Mt.dateFormat=st.noCalendar||nr?"H:i"+(st.enableSeconds?":S":""):Pr+" H:i"+(st.enableSeconds?":S":"")}if(st.altInput&&(st.enableTime||nr)&&!st.altFormat){var qr=Yu.defaultConfig.altFormat||gy.altFormat;Mt.altFormat=st.noCalendar||nr?"h:i"+(st.enableSeconds?":S K":" K"):qr+(" h:i"+(st.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:rt("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:rt("max")});var Nn=function(mn){return function(bn){t.config[mn==="min"?"_minTime":"_maxTime"]=t.parseDate(bn,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:Nn("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:Nn("max")}),st.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,Mt,st);for(var Nr=0;Nr<Xe.length;Nr++)t.config[Xe[Nr]]=t.config[Xe[Nr]]===!0||t.config[Xe[Nr]]==="true";PM.filter(function(mn){return t.config[mn]!==void 0}).forEach(function(mn){t.config[mn]=qM(t.config[mn]||[]).map(l)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var Nr=0;Nr<t.config.plugins.length;Nr++){var Fn=t.config.plugins[Nr](t)||{};for(var Fr in Fn)PM.indexOf(Fr)>-1?t.config[Fr]=qM(Fn[Fr]).map(l).concat(t.config[Fr]):typeof st[Fr]>"u"&&(t.config[Fr]=Fn[Fr])}st.altInputClass||(t.config.altInputClass=Te().className+" "+t.config.altInputClass),Et("onParseConfig")}function Te(){return t.config.wrap?r.querySelector("[data-input]"):r}function Ne(){typeof t.config.locale!="object"&&typeof Yu.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=Sf(Sf({},Yu.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?Yu.l10ns[t.config.locale]:void 0),Vg.D="("+t.l10n.weekdays.shorthand.join("|")+")",Vg.l="("+t.l10n.weekdays.longhand.join("|")+")",Vg.M="("+t.l10n.months.shorthand.join("|")+")",Vg.F="("+t.l10n.months.longhand.join("|")+")",Vg.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var Xe=Sf(Sf({},e),JSON.parse(JSON.stringify(r.dataset||{})));Xe.time_24hr===void 0&&Yu.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=aj(t),t.parseDate=NM({config:t.config,l10n:t.l10n})}function Wt(Xe){if(typeof t.config.position=="function")return void t.config.position(t,Xe);if(t.calendarContainer!==void 0){Et("onPreCalendarPosition");var st=Xe||t._positionElement,Mt=Array.prototype.reduce.call(t.calendarContainer.children,function(Ke,Ot){return Ke+Ot.offsetHeight},0),nr=t.calendarContainer.offsetWidth,Pr=t.config.position.split(" "),qr=Pr[0],Nn=Pr.length>1?Pr[1]:null,Nr=st.getBoundingClientRect(),Fn=window.innerHeight-Nr.bottom,Fr=qr==="above"||qr!=="below"&&Fn<Mt&&Nr.top>Mt,mn=window.pageYOffset+Nr.top+(Fr?-Mt-2:st.offsetHeight+2);if(wf(t.calendarContainer,"arrowTop",!Fr),wf(t.calendarContainer,"arrowBottom",Fr),!t.config.inline){var bn=window.pageXOffset+Nr.left,vi=!1,Ri=!1;Nn==="center"?(bn-=(nr-Nr.width)/2,vi=!0):Nn==="right"&&(bn-=nr-Nr.width,Ri=!0),wf(t.calendarContainer,"arrowLeft",!vi&&!Ri),wf(t.calendarContainer,"arrowCenter",vi),wf(t.calendarContainer,"arrowRight",Ri);var La=window.document.body.offsetWidth-(window.pageXOffset+Nr.right),li=bn+nr>window.document.body.offsetWidth,ke=La+nr>window.document.body.offsetWidth;if(wf(t.calendarContainer,"rightMost",li),!t.config.static)if(t.calendarContainer.style.top=mn+"px",!li)t.calendarContainer.style.left=bn+"px",t.calendarContainer.style.right="auto";else if(!ke)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=La+"px";else{var Ie=ft();if(Ie===void 0)return;var Fe=window.document.body.offsetWidth,Ye=Math.max(0,Fe/2-nr/2),ot=".flatpickr-calendar.centerMost:before",yt=".flatpickr-calendar.centerMost:after",mt=Ie.cssRules.length,qe="{left:"+Nr.left+"px;right:auto;}";wf(t.calendarContainer,"rightMost",!1),wf(t.calendarContainer,"centerMost",!0),Ie.insertRule(ot+","+yt+qe,mt),t.calendarContainer.style.left=Ye+"px",t.calendarContainer.style.right="auto"}}}}function ft(){for(var Xe=null,st=0;st<document.styleSheets.length;st++){var Mt=document.styleSheets[st];if(!!Mt.cssRules){try{Mt.cssRules}catch{continue}Xe=Mt;break}}return Xe??qt()}function qt(){var Xe=document.createElement("style");return document.head.appendChild(Xe),Xe.sheet}function Nt(){t.config.noCalendar||t.isMobile||(ee(),yn(),q())}function vr(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function _r(Xe){Xe.preventDefault(),Xe.stopPropagation();var st=function(mn){return mn.classList&&mn.classList.contains("flatpickr-day")&&!mn.classList.contains("flatpickr-disabled")&&!mn.classList.contains("notAllowed")},Mt=nj(Ih(Xe),st);if(Mt!==void 0){var nr=Mt,Pr=t.latestSelectedDateObj=new Date(nr.dateObj.getTime()),qr=(Pr.getMonth()<t.currentMonth||Pr.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=nr,t.config.mode==="single")t.selectedDates=[Pr];else if(t.config.mode==="multiple"){var Nn=on(Pr);Nn?t.selectedDates.splice(parseInt(Nn),1):t.selectedDates.push(Pr)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=Pr,t.selectedDates.push(Pr),Mh(Pr,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(mn,bn){return mn.getTime()-bn.getTime()}));if(D(),qr){var Nr=t.currentYear!==Pr.getFullYear();t.currentYear=Pr.getFullYear(),t.currentMonth=Pr.getMonth(),Nr&&(Et("onYearChange"),ee()),Et("onMonthChange")}if(yn(),q(),mi(),!qr&&t.config.mode!=="range"&&t.config.showMonths===1?me(nr):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var Fn=t.config.mode==="single"&&!t.config.enableTime,Fr=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(Fn||Fr)&&vr()}re()}}var Dr={locale:[Ne,_e],showMonths:[j,h,te],minDate:[ne],maxDate:[ne],positionElement:[zr],clickOpens:[function(){t.config.clickOpens===!0?($(t._input,"focus",t.open),$(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function kr(Xe,st){if(Xe!==null&&typeof Xe=="object"){Object.assign(t.config,Xe);for(var Mt in Xe)Dr[Mt]!==void 0&&Dr[Mt].forEach(function(nr){return nr()})}else t.config[Xe]=st,Dr[Xe]!==void 0?Dr[Xe].forEach(function(nr){return nr()}):PM.indexOf(Xe)>-1&&(t.config[Xe]=qM(st));t.redraw(),mi(!0)}function et(Xe,st){var Mt=[];if(Xe instanceof Array)Mt=Xe.map(function(nr){return t.parseDate(nr,st)});else if(Xe instanceof Date||typeof Xe=="number")Mt=[t.parseDate(Xe,st)];else if(typeof Xe=="string")switch(t.config.mode){case"single":case"time":Mt=[t.parseDate(Xe,st)];break;case"multiple":Mt=Xe.split(t.config.conjunction).map(function(nr){return t.parseDate(nr,st)});break;case"range":Mt=Xe.split(t.l10n.rangeSeparator).map(function(nr){return t.parseDate(nr,st)});break;default:break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(Xe)));t.selectedDates=t.config.allowInvalidPreload?Mt:Mt.filter(function(nr){return nr instanceof Date&&Rt(nr,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(nr,Pr){return nr.getTime()-Pr.getTime()})}function pt(Xe,st,Mt){if(st===void 0&&(st=!1),Mt===void 0&&(Mt=t.config.dateFormat),Xe!==0&&!Xe||Xe instanceof Array&&Xe.length===0)return t.clear(st);et(Xe,Mt),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),ne(void 0,st),F(),t.selectedDates.length===0&&t.clear(!1),mi(st),st&&Et("onChange")}function er(Xe){return Xe.slice().map(function(st){return typeof st=="string"||typeof st=="number"||st instanceof Date?t.parseDate(st,void 0,!0):st&&typeof st=="object"&&st.from&&st.to?{from:t.parseDate(st.from,void 0),to:t.parseDate(st.to,void 0)}:st}).filter(function(st){return st})}function Lr(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var Xe=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);Xe&&et(Xe,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function ki(){if(t.input=Te(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=va(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),zr()}function zr(){t._positionElement=t.config.positionElement||t._input}function $n(){var Xe=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=va("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=Xe,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=Xe==="datetime-local"?"Y-m-d\\TH:i:S":Xe==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}$(t.mobileInput,"change",function(st){t.setDate(Ih(st).value,!1,t.mobileFormatStr),Et("onChange"),Et("onClose")})}function Dt(Xe){if(t.isOpen===!0)return t.close();t.open(Xe)}function Et(Xe,st){if(t.config!==void 0){var Mt=t.config[Xe];if(Mt!==void 0&&Mt.length>0)for(var nr=0;Mt[nr]&&nr<Mt.length;nr++)Mt[nr](t.selectedDates,t.input.value,t,st);Xe==="onChange"&&(t.input.dispatchEvent(Er("change")),t.input.dispatchEvent(Er("input")))}}function Er(Xe){var st=document.createEvent("Event");return st.initEvent(Xe,!0,!0),st}function on(Xe){for(var st=0;st<t.selectedDates.length;st++){var Mt=t.selectedDates[st];if(Mt instanceof Date&&Mh(Mt,Xe)===0)return""+st}return!1}function Vr(Xe){return t.config.mode!=="range"||t.selectedDates.length<2?!1:Mh(Xe,t.selectedDates[0])>=0&&Mh(Xe,t.selectedDates[1])<=0}function yn(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(Xe,st){var Mt=new Date(t.currentYear,t.currentMonth,1);Mt.setMonth(t.currentMonth+st),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[st].textContent=ik(Mt.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=Mt.getMonth().toString(),Xe.value=Mt.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function Rn(Xe){var st=Xe||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(Mt){return t.formatDate(Mt,st)}).filter(function(Mt,nr,Pr){return t.config.mode!=="range"||t.config.enableTime||Pr.indexOf(Mt)===nr}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function mi(Xe){Xe===void 0&&(Xe=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=Rn(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=Rn(t.config.altFormat)),Xe!==!1&&Et("onValueUpdate")}function fo(Xe){var st=Ih(Xe),Mt=t.prevMonthNav.contains(st),nr=t.nextMonthNav.contains(st);Mt||nr?U(Mt?-1:1):t.yearElements.indexOf(st)>=0?st.select():st.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):st.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function gi(Xe){Xe.preventDefault();var st=Xe.type==="keydown",Mt=Ih(Xe),nr=Mt;t.amPM!==void 0&&Mt===t.amPM&&(t.amPM.textContent=t.l10n.amPM[Oh(t.amPM.textContent===t.l10n.amPM[0])]);var Pr=parseFloat(nr.getAttribute("min")),qr=parseFloat(nr.getAttribute("max")),Nn=parseFloat(nr.getAttribute("step")),Nr=parseInt(nr.value,10),Fn=Xe.delta||(st?Xe.which===38?1:-1:0),Fr=Nr+Nn*Fn;if(typeof nr.value<"u"&&nr.value.length===2){var mn=nr===t.hourElement,bn=nr===t.minuteElement;Fr<Pr?(Fr=qr+Fr+Oh(!mn)+(Oh(mn)&&Oh(!t.amPM)),bn&&_(void 0,-1,t.hourElement)):Fr>qr&&(Fr=nr===t.hourElement?Fr-qr-Oh(!t.amPM):Pr,bn&&_(void 0,1,t.hourElement)),t.amPM&&mn&&(Nn===1?Fr+Nr===23:Math.abs(Fr-Nr)>Nn)&&(t.amPM.textContent=t.l10n.amPM[Oh(t.amPM.textContent===t.l10n.amPM[0])]),nr.value=_f(Fr)}}return i(),t}function p1(r,e){for(var t=Array.prototype.slice.call(r).filter(function(l){return l instanceof HTMLElement}),n=[],i=0;i<t.length;i++){var a=t[i];try{if(a.getAttribute("data-fp-omit")!==null)continue;a._flatpickr!==void 0&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=hmt(a,e||{}),n.push(a._flatpickr)}catch(l){console.error(l)}}return n.length===1?n[0]:n}var Sf,abe,fmt,Yu,sbe,lbe=ze(()=>{QU();ej();rj();Qye();ibe();oj();obe();Sf=function(){return Sf=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Sf.apply(this,arguments)},abe=function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var a=arguments[e],l=0,h=a.length;l<h;l++,i++)n[i]=a[l];return n},fmt=300;typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(r){return p1(this,r)},HTMLElement.prototype.flatpickr=function(r){return p1([this],r)});Yu=function(r,e){return typeof r=="string"?p1(window.document.querySelectorAll(r),e):r instanceof Node?p1([r],e):p1(r,e)};Yu.defaultConfig={};Yu.l10ns={en:Sf({},FM),default:Sf({},FM)};Yu.localize=function(r){Yu.l10ns.default=Sf(Sf({},Yu.l10ns.default),r)};Yu.setDefaults=function(r){Yu.defaultConfig=Sf(Sf({},Yu.defaultConfig),r)};Yu.parseDate=NM({});Yu.formatDate=aj({});Yu.compareDates=Mh;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(r){return p1(this,r)});Date.prototype.fp_incr=function(r){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof r=="string"?parseInt(r,10):r))};typeof window<"u"&&(window.flatpickr=Yu);sbe=Yu});function ube(r){return new Date(new Date(r).getTime()+new Date(r).getTimezoneOffset()*60*1e3)}var cbe,fbe,m1,hbe=ze(()=>{bo();Jye();lbe();cbe="y/LL/dd",fbe="TT",m1=class extends nn{constructor(){super(...arguments);Wr(this,"flatpickrInstance");Wr(this,"cachedInitialValue")}get browserZone(){return Qn.local().zoneName}get initialValue(){return this.isOnShow||this.isOnIndex?this.context.element.innerText:this.isOnEdit?this.inputTarget.value:null}get isOnIndex(){return this.viewValue==="index"}get isOnEdit(){return this.viewValue==="edit"}get isOnShow(){return this.viewValue==="show"}get fieldIsDate(){return this.fieldTypeValue==="date"}get fieldIsDateTime(){return this.fieldTypeValue==="dateTime"}get fieldIsTime(){return this.fieldTypeValue==="time"}get fieldHasTime(){return this.fieldIsTime||this.fieldIsDateTime}get parsedValue(){return Qn.fromISO(this.initialValue.trim(),{zone:"UTC"})}get displayTimezone(){return this.timezoneValue||this.browserZone}connect(){this.cacheInitialValue(),this.isOnShow||this.isOnIndex?this.initShow():this.isOnEdit&&this.initEdit()}disconnect(){this.isOnShow||this.isOnIndex?this.context.element.innerText=this.cachedInitialValue:this.isOnEdit&&this.flatpickrInstance&&this.flatpickrInstance.destroy()}cacheInitialValue(){this.cachedInitialValue=this.initialValue}initShow(){let e=this.parsedValue;this.fieldHasTime&&this.relativeValue&&(e=e.setZone(this.displayTimezone)),this.context.element.innerText=e.toFormat(this.formatValue)}initEdit(){let e=id({enableTime:!1,enableSeconds:!1,time_24hr:this.time24HrValue,locale:{firstDayOfWeek:0},altInput:!0,onChange:this.onChange.bind(this),noCalendar:!1},this.pickerOptionsValue);if(e.altFormat=this.pickerFormatValue,e.disableMobile=this.disableMobileValue,e.locale.firstDayOfWeek=this.firstDayOfWeekValue,e.enableTime=this.enableTimeValue,e.enableSeconds=this.enableTimeValue,e.noCalendar=this.noCalendarValue,this.fieldHasTime&&(e.dateFormat="Y-m-d H:i:S"),this.initialValue)switch(this.fieldTypeValue){case"date":e.defaultDate=ube(this.initialValue);break;default:case"time":e.defaultDate=this.parsedValue.setZone(this.displayTimezone,{keepLocalTime:!this.relativeValue}).toISO();break;case"dateTime":e.defaultDate=this.parsedValue.setZone(this.displayTimezone,{keepLocalTime:!this.relativeValue}).toISO();break}if(this.flatpickrInstance=sbe(this.fakeInputTarget,e),!this.initialValue)return;let t;switch(this.fieldTypeValue){case"time":t=this.parsedValue.setZone(this.displayTimezone,{keepLocalTime:!0}).toFormat(fbe);break;case"date":t=Qn.fromJSDate(ube(this.initialValue)).toFormat(cbe);break;default:case"dateTime":t=this.parsedValue.setZone(this.displayTimezone).toISO();break}this.updateRealInput(t)}onChange(e){if(e.length===0){this.updateRealInput("");return}let t;switch(this.fieldTypeValue){case"time":t=Qn.fromISO(e[0].toISOString()).setZone("UTC",{keepLocalTime:!this.relativeValue}).toFormat(fbe);break;case"date":t=Qn.fromISO(e[0].toISOString()).setZone("UTC",{keepLocalTime:!0}).toFormat(cbe);break;default:case"dateTime":t=Qn.fromISO(e[0].toISOString()).setZone("UTC",{keepLocalTime:!this.relativeValue}).toISO();break}this.updateRealInput(t)}updateRealInput(e){this.inputTarget.value=e}};Wr(m1,"targets",["input","fakeInput"]),Wr(m1,"values",{view:String,timezone:String,format:String,enableTime:Boolean,pickerFormat:String,firstDayOfWeek:Number,time24Hr:Boolean,disableMobile:Boolean,noCalendar:Boolean,relative:Boolean,fieldType:{type:String,default:"dateTime"},pickerOptions:{type:Object,default:{}}})});var Lh=de((sj,lj)=>{(function(r,e){typeof sj=="object"&&typeof lj<"u"?lj.exports=e():typeof define=="function"&&define.amd?define(e):(r=r||self,r.CodeMirror=e())})(sj,function(){"use strict";var r=navigator.userAgent,e=navigator.platform,t=/gecko\/\d/i.test(r),n=/MSIE \d/.test(r),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(r),a=/Edge\/(\d+)/.exec(r),l=n||i||a,h=l&&(n?document.documentMode||6:+(a||i)[1]),g=!a&&/WebKit\//.test(r),w=g&&/Qt\/\d+\.\d+/.test(r),C=!a&&/Chrome\/(\d+)/.exec(r),D=C&&+C[1],F=/Opera\//.test(r),z=/Apple Computer/.test(navigator.vendor),Y=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(r),$=/PhantomJS/.test(r),re=z&&(/Mobile\/\w+/.test(r)||navigator.maxTouchPoints>2),oe=/Android/.test(r),ne=re||oe||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(r),he=re||/Mac/.test(e),_=/\bCrOS\b/.test(r),ge=/win/i.test(e),fe=F&&r.match(/Version\/(\d*\.\d*)/);fe&&(fe=Number(fe[1])),fe&&fe>=15&&(F=!1,g=!0);var me=he&&(w||F&&(fe==null||fe<12.11)),we=t||l&&h>=9;function Se(o){return new RegExp("(^|\\s)"+o+"(?:$|\\s)\\s*")}var be=function(o,u){var p=o.className,b=Se(u).exec(p);if(b){var T=p.slice(b.index+b[0].length);o.className=p.slice(0,b.index)+(T?b[1]+T:"")}};function $e(o){for(var u=o.childNodes.length;u>0;--u)o.removeChild(o.firstChild);return o}function q(o,u){return $e(o).appendChild(u)}function ee(o,u,p,b){var T=document.createElement(o);if(p&&(T.className=p),b&&(T.style.cssText=b),typeof u=="string")T.appendChild(document.createTextNode(u));else if(u)for(var M=0;M<u.length;++M)T.appendChild(u[M]);return T}function R(o,u,p,b){var T=ee(o,u,p,b);return T.setAttribute("role","presentation"),T}var j;document.createRange?j=function(o,u,p,b){var T=document.createRange();return T.setEnd(b||o,p),T.setStart(o,u),T}:j=function(o,u,p){var b=document.body.createTextRange();try{b.moveToElementText(o.parentNode)}catch{return b}return b.collapse(!0),b.moveEnd("character",p),b.moveStart("character",u),b};function G(o,u){if(u.nodeType==3&&(u=u.parentNode),o.contains)return o.contains(u);do if(u.nodeType==11&&(u=u.host),u==o)return!0;while(u=u.parentNode)}function V(o){var u;try{u=o.activeElement}catch{u=o.body||null}for(;u&&u.shadowRoot&&u.shadowRoot.activeElement;)u=u.shadowRoot.activeElement;return u}function te(o,u){var p=o.className;Se(u).test(p)||(o.className+=(p?" ":"")+u)}function _e(o,u){for(var p=o.split(" "),b=0;b<p.length;b++)p[b]&&!Se(p[b]).test(u)&&(u+=" "+p[b]);return u}var K=function(o){o.select()};re?K=function(o){o.selectionStart=0,o.selectionEnd=o.value.length}:l&&(K=function(o){try{o.select()}catch{}});function U(o){return o.display.wrapper.ownerDocument}function Ue(o){return U(o).defaultView}function Je(o){var u=Array.prototype.slice.call(arguments,1);return function(){return o.apply(null,u)}}function Qe(o,u,p){u||(u={});for(var b in o)o.hasOwnProperty(b)&&(p!==!1||!u.hasOwnProperty(b))&&(u[b]=o[b]);return u}function Ct(o,u,p,b,T){u==null&&(u=o.search(/[^\s\u00a0]/),u==-1&&(u=o.length));for(var M=b||0,N=T||0;;){var Z=o.indexOf("	",M);if(Z<0||Z>=u)return N+(u-M);N+=Z-M,N+=p-N%p,M=Z+1}}var Tt=function(){this.id=null,this.f=null,this.time=0,this.handler=Je(this.onTimeout,this)};Tt.prototype.onTimeout=function(o){o.id=0,o.time<=+new Date?o.f():setTimeout(o.handler,o.time-+new Date)},Tt.prototype.set=function(o,u){this.f=u;var p=+new Date+o;(!this.id||p<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,o),this.time=p)};function Ht(o,u){for(var p=0;p<o.length;++p)if(o[p]==u)return p;return-1}var Rt=50,Yt={toString:function(){return"CodeMirror.Pass"}},cr={scroll:!1},Tr={origin:"*mouse"},ir={origin:"+move"};function At(o,u,p){for(var b=0,T=0;;){var M=o.indexOf("	",b);M==-1&&(M=o.length);var N=M-b;if(M==o.length||T+N>=u)return b+Math.min(N,u-T);if(T+=M-b,T+=p-T%p,b=M+1,T>=u)return b}}var kt=[""];function rt(o){for(;kt.length<=o;)kt.push(ce(kt)+" ");return kt[o]}function ce(o){return o[o.length-1]}function Te(o,u){for(var p=[],b=0;b<o.length;b++)p[b]=u(o[b],b);return p}function Ne(o,u,p){for(var b=0,T=p(u);b<o.length&&p(o[b])<=T;)b++;o.splice(b,0,u)}function Wt(){}function ft(o,u){var p;return Object.create?p=Object.create(o):(Wt.prototype=o,p=new Wt),u&&Qe(u,p),p}var qt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Nt(o){return/\w/.test(o)||o>"\x80"&&(o.toUpperCase()!=o.toLowerCase()||qt.test(o))}function vr(o,u){return u?u.source.indexOf("\\w")>-1&&Nt(o)?!0:u.test(o):Nt(o)}function _r(o){for(var u in o)if(o.hasOwnProperty(u)&&o[u])return!1;return!0}var Dr=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function kr(o){return o.charCodeAt(0)>=768&&Dr.test(o)}function et(o,u,p){for(;(p<0?u>0:u<o.length)&&kr(o.charAt(u));)u+=p;return u}function pt(o,u,p){for(var b=u>p?-1:1;;){if(u==p)return u;var T=(u+p)/2,M=b<0?Math.ceil(T):Math.floor(T);if(M==u)return o(M)?u:p;o(M)?p=M:u=M+b}}function er(o,u,p,b){if(!o)return b(u,p,"ltr",0);for(var T=!1,M=0;M<o.length;++M){var N=o[M];(N.from<p&&N.to>u||u==p&&N.to==u)&&(b(Math.max(N.from,u),Math.min(N.to,p),N.level==1?"rtl":"ltr",M),T=!0)}T||b(u,p,"ltr")}var Lr=null;function ki(o,u,p){var b;Lr=null;for(var T=0;T<o.length;++T){var M=o[T];if(M.from<u&&M.to>u)return T;M.to==u&&(M.from!=M.to&&p=="before"?b=T:Lr=T),M.from==u&&(M.from!=M.to&&p!="before"?b=T:Lr=T)}return b??Lr}var zr=function(){var o="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",u="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function p(ue){return ue<=247?o.charAt(ue):1424<=ue&&ue<=1524?"R":1536<=ue&&ue<=1785?u.charAt(ue-1536):1774<=ue&&ue<=2220?"r":8192<=ue&&ue<=8203?"w":ue==8204?"b":"L"}var b=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,T=/[stwN]/,M=/[LRr]/,N=/[Lb1n]/,Z=/[1n]/;function Q(ue,Ce,Re){this.level=ue,this.from=Ce,this.to=Re}return function(ue,Ce){var Re=Ce=="ltr"?"L":"R";if(ue.length==0||Ce=="ltr"&&!b.test(ue))return!1;for(var it=ue.length,at=[],wt=0;wt<it;++wt)at.push(p(ue.charCodeAt(wt)));for(var zt=0,$t=Re;zt<it;++zt){var or=at[zt];or=="m"?at[zt]=$t:$t=or}for(var dr=0,ur=Re;dr<it;++dr){var xr=at[dr];xr=="1"&&ur=="r"?at[dr]="n":M.test(xr)&&(ur=xr,xr=="r"&&(at[dr]="R"))}for(var Jr=1,ln=at[0];Jr<it-1;++Jr){var _n=at[Jr];_n=="+"&&ln=="1"&&at[Jr+1]=="1"?at[Jr]="1":_n==","&&ln==at[Jr+1]&&(ln=="1"||ln=="n")&&(at[Jr]=ln),ln=_n}for(var Ti=0;Ti<it;++Ti){var ao=at[Ti];if(ao==",")at[Ti]="N";else if(ao=="%"){var ai=void 0;for(ai=Ti+1;ai<it&&at[ai]=="%";++ai);for(var so=Ti&&at[Ti-1]=="!"||ai<it&&at[ai]=="1"?"1":"N",Wi=Ti;Wi<ai;++Wi)at[Wi]=so;Ti=ai-1}}for(var Pn=0,fi=Re;Pn<it;++Pn){var jn=at[Pn];fi=="L"&&jn=="1"?at[Pn]="L":M.test(jn)&&(fi=jn)}for(var Bi=0;Bi<it;++Bi)if(T.test(at[Bi])){var Ko=void 0;for(Ko=Bi+1;Ko<it&&T.test(at[Ko]);++Ko);for(var _i=(Bi?at[Bi-1]:Re)=="L",ko=(Ko<it?at[Ko]:Re)=="L",Jl=_i==ko?_i?"L":"R":Re,ma=Bi;ma<Ko;++ma)at[ma]=Jl;Bi=Ko-1}for(var Ls=[],Ps,oa=0;oa<it;)if(N.test(at[oa])){var Nf=oa;for(++oa;oa<it&&N.test(at[oa]);++oa);Ls.push(new Q(0,Nf,oa))}else{var Ca=oa,Sl=Ls.length,Dc=Ce=="rtl"?1:0;for(++oa;oa<it&&at[oa]!="L";++oa);for(var Ql=Ca;Ql<oa;)if(Z.test(at[Ql])){Ca<Ql&&(Ls.splice(Sl,0,new Q(1,Ca,Ql)),Sl+=Dc);var Fd=Ql;for(++Ql;Ql<oa&&Z.test(at[Ql]);++Ql);Ls.splice(Sl,0,new Q(2,Fd,Ql)),Sl+=Dc,Ca=Ql}else++Ql;Ca<oa&&Ls.splice(Sl,0,new Q(1,Ca,oa))}return Ce=="ltr"&&(Ls[0].level==1&&(Ps=ue.match(/^\s+/))&&(Ls[0].from=Ps[0].length,Ls.unshift(new Q(0,0,Ps[0].length))),ce(Ls).level==1&&(Ps=ue.match(/\s+$/))&&(ce(Ls).to-=Ps[0].length,Ls.push(new Q(0,it-Ps[0].length,it)))),Ce=="rtl"?Ls.reverse():Ls}}();function $n(o,u){var p=o.order;return p==null&&(p=o.order=zr(o.text,u)),p}var Dt=[],Et=function(o,u,p){if(o.addEventListener)o.addEventListener(u,p,!1);else if(o.attachEvent)o.attachEvent("on"+u,p);else{var b=o._handlers||(o._handlers={});b[u]=(b[u]||Dt).concat(p)}};function Er(o,u){return o._handlers&&o._handlers[u]||Dt}function on(o,u,p){if(o.removeEventListener)o.removeEventListener(u,p,!1);else if(o.detachEvent)o.detachEvent("on"+u,p);else{var b=o._handlers,T=b&&b[u];if(T){var M=Ht(T,p);M>-1&&(b[u]=T.slice(0,M).concat(T.slice(M+1)))}}}function Vr(o,u){var p=Er(o,u);if(!!p.length)for(var b=Array.prototype.slice.call(arguments,2),T=0;T<p.length;++T)p[T].apply(null,b)}function yn(o,u,p){return typeof u=="string"&&(u={type:u,preventDefault:function(){this.defaultPrevented=!0}}),Vr(o,p||u.type,o,u),st(u)||u.codemirrorIgnore}function Rn(o){var u=o._handlers&&o._handlers.cursorActivity;if(!!u)for(var p=o.curOp.cursorActivityHandlers||(o.curOp.cursorActivityHandlers=[]),b=0;b<u.length;++b)Ht(p,u[b])==-1&&p.push(u[b])}function mi(o,u){return Er(o,u).length>0}function fo(o){o.prototype.on=function(u,p){Et(this,u,p)},o.prototype.off=function(u,p){on(this,u,p)}}function gi(o){o.preventDefault?o.preventDefault():o.returnValue=!1}function Xe(o){o.stopPropagation?o.stopPropagation():o.cancelBubble=!0}function st(o){return o.defaultPrevented!=null?o.defaultPrevented:o.returnValue==!1}function Mt(o){gi(o),Xe(o)}function nr(o){return o.target||o.srcElement}function Pr(o){var u=o.which;return u==null&&(o.button&1?u=1:o.button&2?u=3:o.button&4&&(u=2)),he&&o.ctrlKey&&u==1&&(u=3),u}var qr=function(){if(l&&h<9)return!1;var o=ee("div");return"draggable"in o||"dragDrop"in o}(),Nn;function Nr(o){if(Nn==null){var u=ee("span","\u200B");q(o,ee("span",[u,document.createTextNode("x")])),o.firstChild.offsetHeight!=0&&(Nn=u.offsetWidth<=1&&u.offsetHeight>2&&!(l&&h<8))}var p=Nn?ee("span","\u200B"):ee("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return p.setAttribute("cm-text",""),p}var Fn;function Fr(o){if(Fn!=null)return Fn;var u=q(o,document.createTextNode("A\u062EA")),p=j(u,0,1).getBoundingClientRect(),b=j(u,1,2).getBoundingClientRect();return $e(o),!p||p.left==p.right?!1:Fn=b.right-p.right<3}var mn=`

b`.split(/\n/).length!=3?function(o){for(var u=0,p=[],b=o.length;u<=b;){var T=o.indexOf(`
`,u);T==-1&&(T=o.length);var M=o.slice(u,o.charAt(T-1)=="\r"?T-1:T),N=M.indexOf("\r");N!=-1?(p.push(M.slice(0,N)),u+=N+1):(p.push(M),u=T+1)}return p}:function(o){return o.split(/\r\n?|\n/)},bn=window.getSelection?function(o){try{return o.selectionStart!=o.selectionEnd}catch{return!1}}:function(o){var u;try{u=o.ownerDocument.selection.createRange()}catch{}return!u||u.parentElement()!=o?!1:u.compareEndPoints("StartToEnd",u)!=0},vi=function(){var o=ee("div");return"oncopy"in o?!0:(o.setAttribute("oncopy","return;"),typeof o.oncopy=="function")}(),Ri=null;function La(o){if(Ri!=null)return Ri;var u=q(o,ee("span","x")),p=u.getBoundingClientRect(),b=j(u,0,1).getBoundingClientRect();return Ri=Math.abs(p.left-b.left)>1}var li={},ke={};function Ie(o,u){arguments.length>2&&(u.dependencies=Array.prototype.slice.call(arguments,2)),li[o]=u}function Fe(o,u){ke[o]=u}function Ye(o){if(typeof o=="string"&&ke.hasOwnProperty(o))o=ke[o];else if(o&&typeof o.name=="string"&&ke.hasOwnProperty(o.name)){var u=ke[o.name];typeof u=="string"&&(u={name:u}),o=ft(u,o),o.name=u.name}else{if(typeof o=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(o))return Ye("application/xml");if(typeof o=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(o))return Ye("application/json")}return typeof o=="string"?{name:o}:o||{name:"null"}}function ot(o,u){u=Ye(u);var p=li[u.name];if(!p)return ot(o,"text/plain");var b=p(o,u);if(yt.hasOwnProperty(u.name)){var T=yt[u.name];for(var M in T)!T.hasOwnProperty(M)||(b.hasOwnProperty(M)&&(b["_"+M]=b[M]),b[M]=T[M])}if(b.name=u.name,u.helperType&&(b.helperType=u.helperType),u.modeProps)for(var N in u.modeProps)b[N]=u.modeProps[N];return b}var yt={};function mt(o,u){var p=yt.hasOwnProperty(o)?yt[o]:yt[o]={};Qe(u,p)}function qe(o,u){if(u===!0)return u;if(o.copyState)return o.copyState(u);var p={};for(var b in u){var T=u[b];T instanceof Array&&(T=T.concat([])),p[b]=T}return p}function Ke(o,u){for(var p;o.innerMode&&(p=o.innerMode(u),!(!p||p.mode==o));)u=p.state,o=p.mode;return p||{mode:o,state:u}}function Ot(o,u,p){return o.startState?o.startState(u,p):!0}var lr=function(o,u,p){this.pos=this.start=0,this.string=o,this.tabSize=u||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=p};lr.prototype.eol=function(){return this.pos>=this.string.length},lr.prototype.sol=function(){return this.pos==this.lineStart},lr.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},lr.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},lr.prototype.eat=function(o){var u=this.string.charAt(this.pos),p;if(typeof o=="string"?p=u==o:p=u&&(o.test?o.test(u):o(u)),p)return++this.pos,u},lr.prototype.eatWhile=function(o){for(var u=this.pos;this.eat(o););return this.pos>u},lr.prototype.eatSpace=function(){for(var o=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>o},lr.prototype.skipToEnd=function(){this.pos=this.string.length},lr.prototype.skipTo=function(o){var u=this.string.indexOf(o,this.pos);if(u>-1)return this.pos=u,!0},lr.prototype.backUp=function(o){this.pos-=o},lr.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ct(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ct(this.string,this.lineStart,this.tabSize):0)},lr.prototype.indentation=function(){return Ct(this.string,null,this.tabSize)-(this.lineStart?Ct(this.string,this.lineStart,this.tabSize):0)},lr.prototype.match=function(o,u,p){if(typeof o=="string"){var b=function(N){return p?N.toLowerCase():N},T=this.string.substr(this.pos,o.length);if(b(T)==b(o))return u!==!1&&(this.pos+=o.length),!0}else{var M=this.string.slice(this.pos).match(o);return M&&M.index>0?null:(M&&u!==!1&&(this.pos+=M[0].length),M)}},lr.prototype.current=function(){return this.string.slice(this.start,this.pos)},lr.prototype.hideFirstChars=function(o,u){this.lineStart+=o;try{return u()}finally{this.lineStart-=o}},lr.prototype.lookAhead=function(o){var u=this.lineOracle;return u&&u.lookAhead(o)},lr.prototype.baseToken=function(){var o=this.lineOracle;return o&&o.baseToken(this.pos)};function jt(o,u){if(u-=o.first,u<0||u>=o.size)throw new Error("There is no line "+(u+o.first)+" in the document.");for(var p=o;!p.lines;)for(var b=0;;++b){var T=p.children[b],M=T.chunkSize();if(u<M){p=T;break}u-=M}return p.lines[u]}function Bt(o,u,p){var b=[],T=u.line;return o.iter(u.line,p.line+1,function(M){var N=M.text;T==p.line&&(N=N.slice(0,p.ch)),T==u.line&&(N=N.slice(u.ch)),b.push(N),++T}),b}function hr(o,u,p){var b=[];return o.iter(u,p,function(T){b.push(T.text)}),b}function Ae(o,u){var p=u-o.height;if(p)for(var b=o;b;b=b.parent)b.height+=p}function je(o){if(o.parent==null)return null;for(var u=o.parent,p=Ht(u.lines,o),b=u.parent;b;u=b,b=b.parent)for(var T=0;b.children[T]!=u;++T)p+=b.children[T].chunkSize();return p+u.first}function Pe(o,u){var p=o.first;e:do{for(var b=0;b<o.children.length;++b){var T=o.children[b],M=T.height;if(u<M){o=T;continue e}u-=M,p+=T.chunkSize()}return p}while(!o.lines);for(var N=0;N<o.lines.length;++N){var Z=o.lines[N],Q=Z.height;if(u<Q)break;u-=Q}return p+N}function se(o,u){return u>=o.first&&u<o.first+o.size}function ie(o,u){return String(o.lineNumberFormatter(u+o.firstLineNumber))}function ye(o,u,p){if(p===void 0&&(p=null),!(this instanceof ye))return new ye(o,u,p);this.line=o,this.ch=u,this.sticky=p}function Ge(o,u){return o.line-u.line||o.ch-u.ch}function dt(o,u){return o.sticky==u.sticky&&Ge(o,u)==0}function Gt(o){return ye(o.line,o.ch)}function tr(o,u){return Ge(o,u)<0?u:o}function Or(o,u){return Ge(o,u)<0?o:u}function Ur(o,u){return Math.max(o.first,Math.min(u,o.first+o.size-1))}function fr(o,u){if(u.line<o.first)return ye(o.first,0);var p=o.first+o.size-1;return u.line>p?ye(p,jt(o,p).text.length):En(u,jt(o,u.line).text.length)}function En(o,u){var p=o.ch;return p==null||p>u?ye(o.line,u):p<0?ye(o.line,0):o}function Dn(o,u){for(var p=[],b=0;b<u.length;b++)p[b]=fr(o,u[b]);return p}var an=function(o,u){this.state=o,this.lookAhead=u},Qr=function(o,u,p,b){this.state=u,this.doc=o,this.line=p,this.maxLookAhead=b||0,this.baseTokens=null,this.baseTokenPos=1};Qr.prototype.lookAhead=function(o){var u=this.doc.getLine(this.line+o);return u!=null&&o>this.maxLookAhead&&(this.maxLookAhead=o),u},Qr.prototype.baseToken=function(o){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=o;)this.baseTokenPos+=2;var u=this.baseTokens[this.baseTokenPos+1];return{type:u&&u.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-o}},Qr.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Qr.fromSaved=function(o,u,p){return u instanceof an?new Qr(o,qe(o.mode,u.state),p,u.lookAhead):new Qr(o,qe(o.mode,u),p)},Qr.prototype.save=function(o){var u=o!==!1?qe(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new an(u,this.maxLookAhead):u};function sn(o,u,p,b){var T=[o.state.modeGen],M={};Bs(o,u.text,o.doc.mode,p,function(ue,Ce){return T.push(ue,Ce)},M,b);for(var N=p.state,Z=function(ue){p.baseTokens=T;var Ce=o.state.overlays[ue],Re=1,it=0;p.state=!0,Bs(o,u.text,Ce.mode,p,function(at,wt){for(var zt=Re;it<at;){var $t=T[Re];$t>at&&T.splice(Re,1,at,T[Re+1],$t),Re+=2,it=Math.min(at,$t)}if(!!wt)if(Ce.opaque)T.splice(zt,Re-zt,at,"overlay "+wt),Re=zt+2;else for(;zt<Re;zt+=2){var or=T[zt+1];T[zt+1]=(or?or+" ":"")+"overlay "+wt}},M),p.state=N,p.baseTokens=null,p.baseTokenPos=1},Q=0;Q<o.state.overlays.length;++Q)Z(Q);return{styles:T,classes:M.bgClass||M.textClass?M:null}}function Xn(o,u,p){if(!u.styles||u.styles[0]!=o.state.modeGen){var b=zo(o,je(u)),T=u.text.length>o.options.maxHighlightLength&&qe(o.doc.mode,b.state),M=sn(o,u,b);T&&(b.state=T),u.stateAfter=b.save(!T),u.styles=M.styles,M.classes?u.styleClasses=M.classes:u.styleClasses&&(u.styleClasses=null),p===o.doc.highlightFrontier&&(o.doc.modeFrontier=Math.max(o.doc.modeFrontier,++o.doc.highlightFrontier))}return u.styles}function zo(o,u,p){var b=o.doc,T=o.display;if(!b.mode.startState)return new Qr(b,!0,u);var M=ho(o,u,p),N=M>b.first&&jt(b,M-1).stateAfter,Z=N?Qr.fromSaved(b,N,M):new Qr(b,Ot(b.mode),M);return b.iter(M,u,function(Q){As(o,Q.text,Z);var ue=Z.line;Q.stateAfter=ue==u-1||ue%5==0||ue>=T.viewFrom&&ue<T.viewTo?Z.save():null,Z.nextLine()}),p&&(b.modeFrontier=Z.line),Z}function As(o,u,p,b){var T=o.doc.mode,M=new lr(u,o.options.tabSize,p);for(M.start=M.pos=b||0,u==""&&ei(T,p.state);!M.eol();)Ci(T,M,p.state),M.start=M.pos}function ei(o,u){if(o.blankLine)return o.blankLine(u);if(!!o.innerMode){var p=Ke(o,u);if(p.mode.blankLine)return p.mode.blankLine(p.state)}}function Ci(o,u,p,b){for(var T=0;T<10;T++){b&&(b[0]=Ke(o,p).mode);var M=o.token(u,p);if(u.pos>u.start)return M}throw new Error("Mode "+o.name+" failed to advance stream.")}var ya=function(o,u,p){this.start=o.start,this.end=o.pos,this.string=o.current(),this.type=u||null,this.state=p};function ql(o,u,p,b){var T=o.doc,M=T.mode,N;u=fr(T,u);var Z=jt(T,u.line),Q=zo(o,u.line,p),ue=new lr(Z.text,o.options.tabSize,Q),Ce;for(b&&(Ce=[]);(b||ue.pos<u.ch)&&!ue.eol();)ue.start=ue.pos,N=Ci(M,ue,Q.state),b&&Ce.push(new ya(ue,N,qe(T.mode,Q.state)));return b?Ce:new ya(ue,N,Q.state)}function Gi(o,u){if(o)for(;;){var p=o.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!p)break;o=o.slice(0,p.index)+o.slice(p.index+p[0].length);var b=p[1]?"bgClass":"textClass";u[b]==null?u[b]=p[2]:new RegExp("(?:^|\\s)"+p[2]+"(?:$|\\s)").test(u[b])||(u[b]+=" "+p[2])}return o}function Bs(o,u,p,b,T,M,N){var Z=p.flattenSpans;Z==null&&(Z=o.options.flattenSpans);var Q=0,ue=null,Ce=new lr(u,o.options.tabSize,b),Re,it=o.options.addModeClass&&[null];for(u==""&&Gi(ei(p,b.state),M);!Ce.eol();){if(Ce.pos>o.options.maxHighlightLength?(Z=!1,N&&As(o,u,b,Ce.pos),Ce.pos=u.length,Re=null):Re=Gi(Ci(p,Ce,b.state,it),M),it){var at=it[0].name;at&&(Re="m-"+(Re?at+" "+Re:at))}if(!Z||ue!=Re){for(;Q<Ce.start;)Q=Math.min(Ce.start,Q+5e3),T(Q,ue);ue=Re}Ce.start=Ce.pos}for(;Q<Ce.pos;){var wt=Math.min(Ce.pos,Q+5e3);T(wt,ue),Q=wt}}function ho(o,u,p){for(var b,T,M=o.doc,N=p?-1:u-(o.doc.mode.innerMode?1e3:100),Z=u;Z>N;--Z){if(Z<=M.first)return M.first;var Q=jt(M,Z-1),ue=Q.stateAfter;if(ue&&(!p||Z+(ue instanceof an?ue.lookAhead:0)<=M.modeFrontier))return Z;var Ce=Ct(Q.text,null,o.options.tabSize);(T==null||b>Ce)&&(T=Z-1,b=Ce)}return T}function Ki(o,u){if(o.modeFrontier=Math.min(o.modeFrontier,u),!(o.highlightFrontier<u-10)){for(var p=o.first,b=u-1;b>p;b--){var T=jt(o,b).stateAfter;if(T&&(!(T instanceof an)||b+T.lookAhead<u)){p=b+1;break}}o.highlightFrontier=Math.min(o.highlightFrontier,p)}}var Do=!1,ii=!1;function Pa(){Do=!0}function Ua(){ii=!0}function ku(o,u,p){this.marker=o,this.from=u,this.to=p}function ro(o,u){if(o)for(var p=0;p<o.length;++p){var b=o[p];if(b.marker==u)return b}}function Qc(o,u){for(var p,b=0;b<o.length;++b)o[b]!=u&&(p||(p=[])).push(o[b]);return p}function ba(o,u,p){var b=p&&window.WeakSet&&(p.markedSpans||(p.markedSpans=new WeakSet));b&&o.markedSpans&&b.has(o.markedSpans)?o.markedSpans.push(u):(o.markedSpans=o.markedSpans?o.markedSpans.concat([u]):[u],b&&b.add(o.markedSpans)),u.marker.attachLine(o)}function Oo(o,u,p){var b;if(o)for(var T=0;T<o.length;++T){var M=o[T],N=M.marker,Z=M.from==null||(N.inclusiveLeft?M.from<=u:M.from<u);if(Z||M.from==u&&N.type=="bookmark"&&(!p||!M.marker.insertLeft)){var Q=M.to==null||(N.inclusiveRight?M.to>=u:M.to>u);(b||(b=[])).push(new ku(N,M.from,Q?null:M.to))}}return b}function ts(o,u,p){var b;if(o)for(var T=0;T<o.length;++T){var M=o[T],N=M.marker,Z=M.to==null||(N.inclusiveRight?M.to>=u:M.to>u);if(Z||M.from==u&&N.type=="bookmark"&&(!p||M.marker.insertLeft)){var Q=M.from==null||(N.inclusiveLeft?M.from<=u:M.from<u);(b||(b=[])).push(new ku(N,Q?null:M.from-u,M.to==null?null:M.to-u))}}return b}function Ai(o,u){if(u.full)return null;var p=se(o,u.from.line)&&jt(o,u.from.line).markedSpans,b=se(o,u.to.line)&&jt(o,u.to.line).markedSpans;if(!p&&!b)return null;var T=u.from.ch,M=u.to.ch,N=Ge(u.from,u.to)==0,Z=Oo(p,T,N),Q=ts(b,M,N),ue=u.text.length==1,Ce=ce(u.text).length+(ue?T:0);if(Z)for(var Re=0;Re<Z.length;++Re){var it=Z[Re];if(it.to==null){var at=ro(Q,it.marker);at?ue&&(it.to=at.to==null?null:at.to+Ce):it.to=T}}if(Q)for(var wt=0;wt<Q.length;++wt){var zt=Q[wt];if(zt.to!=null&&(zt.to+=Ce),zt.from==null){var $t=ro(Z,zt.marker);$t||(zt.from=Ce,ue&&(Z||(Z=[])).push(zt))}else zt.from+=Ce,ue&&(Z||(Z=[])).push(zt)}Z&&(Z=gn(Z)),Q&&Q!=Z&&(Q=gn(Q));var or=[Z];if(!ue){var dr=u.text.length-2,ur;if(dr>0&&Z)for(var xr=0;xr<Z.length;++xr)Z[xr].to==null&&(ur||(ur=[])).push(new ku(Z[xr].marker,null,null));for(var Jr=0;Jr<dr;++Jr)or.push(ur);or.push(Q)}return or}function gn(o){for(var u=0;u<o.length;++u){var p=o[u];p.from!=null&&p.from==p.to&&p.marker.clearWhenEmpty!==!1&&o.splice(u--,1)}return o.length?o:null}function Vt(o,u,p){var b=null;if(o.iter(u.line,p.line+1,function(at){if(at.markedSpans)for(var wt=0;wt<at.markedSpans.length;++wt){var zt=at.markedSpans[wt].marker;zt.readOnly&&(!b||Ht(b,zt)==-1)&&(b||(b=[])).push(zt)}}),!b)return null;for(var T=[{from:u,to:p}],M=0;M<b.length;++M)for(var N=b[M],Z=N.find(0),Q=0;Q<T.length;++Q){var ue=T[Q];if(!(Ge(ue.to,Z.from)<0||Ge(ue.from,Z.to)>0)){var Ce=[Q,1],Re=Ge(ue.from,Z.from),it=Ge(ue.to,Z.to);(Re<0||!N.inclusiveLeft&&!Re)&&Ce.push({from:ue.from,to:Z.from}),(it>0||!N.inclusiveRight&&!it)&&Ce.push({from:Z.to,to:ue.to}),T.splice.apply(T,Ce),Q+=Ce.length-3}}return T}function jr(o){var u=o.markedSpans;if(!!u){for(var p=0;p<u.length;++p)u[p].marker.detachLine(o);o.markedSpans=null}}function un(o,u){if(!!u){for(var p=0;p<u.length;++p)u[p].marker.attachLine(o);o.markedSpans=u}}function Cn(o){return o.inclusiveLeft?-1:0}function Gn(o){return o.inclusiveRight?1:0}function Vo(o,u){var p=o.lines.length-u.lines.length;if(p!=0)return p;var b=o.find(),T=u.find(),M=Ge(b.from,T.from)||Cn(o)-Cn(u);if(M)return-M;var N=Ge(b.to,T.to)||Gn(o)-Gn(u);return N||u.id-o.id}function xa(o,u){var p=ii&&o.markedSpans,b;if(p)for(var T=void 0,M=0;M<p.length;++M)T=p[M],T.marker.collapsed&&(u?T.from:T.to)==null&&(!b||Vo(b,T.marker)<0)&&(b=T.marker);return b}function ps(o){return xa(o,!0)}function no(o){return xa(o,!1)}function ja(o,u){var p=ii&&o.markedSpans,b;if(p)for(var T=0;T<p.length;++T){var M=p[T];M.marker.collapsed&&(M.from==null||M.from<u)&&(M.to==null||M.to>u)&&(!b||Vo(b,M.marker)<0)&&(b=M.marker)}return b}function ou(o,u,p,b,T){var M=jt(o,u),N=ii&&M.markedSpans;if(N)for(var Z=0;Z<N.length;++Z){var Q=N[Z];if(!!Q.marker.collapsed){var ue=Q.marker.find(0),Ce=Ge(ue.from,p)||Cn(Q.marker)-Cn(T),Re=Ge(ue.to,b)||Gn(Q.marker)-Gn(T);if(!(Ce>=0&&Re<=0||Ce<=0&&Re>=0)&&(Ce<=0&&(Q.marker.inclusiveRight&&T.inclusiveLeft?Ge(ue.to,p)>=0:Ge(ue.to,p)>0)||Ce>=0&&(Q.marker.inclusiveRight&&T.inclusiveLeft?Ge(ue.from,b)<=0:Ge(ue.from,b)<0)))return!0}}}function rs(o){for(var u;u=ps(o);)o=u.find(-1,!0).line;return o}function Bh(o){for(var u;u=no(o);)o=u.find(1,!0).line;return o}function Ni(o){for(var u,p;u=no(o);)o=u.find(1,!0).line,(p||(p=[])).push(o);return p}function Nl(o,u){var p=jt(o,u),b=rs(p);return p==b?u:je(b)}function _a(o,u){if(u>o.lastLine())return u;var p=jt(o,u),b;if(!Ds(o,p))return u;for(;b=no(p);)p=b.find(1,!0).line;return je(p)+1}function Ds(o,u){var p=ii&&u.markedSpans;if(p){for(var b=void 0,T=0;T<p.length;++T)if(b=p[T],!!b.marker.collapsed){if(b.from==null)return!0;if(!b.marker.widgetNode&&b.from==0&&b.marker.inclusiveLeft&&Bl(o,u,b))return!0}}}function Bl(o,u,p){if(p.to==null){var b=p.marker.find(1,!0);return Bl(o,b.line,ro(b.line.markedSpans,p.marker))}if(p.marker.inclusiveRight&&p.to==u.text.length)return!0;for(var T=void 0,M=0;M<u.markedSpans.length;++M)if(T=u.markedSpans[M],T.marker.collapsed&&!T.marker.widgetNode&&T.from==p.to&&(T.to==null||T.to!=p.from)&&(T.marker.inclusiveLeft||p.marker.inclusiveRight)&&Bl(o,u,T))return!0}function po(o){o=rs(o);for(var u=0,p=o.parent,b=0;b<p.lines.length;++b){var T=p.lines[b];if(T==o)break;u+=T.height}for(var M=p.parent;M;p=M,M=p.parent)for(var N=0;N<M.children.length;++N){var Z=M.children[N];if(Z==p)break;u+=Z.height}return u}function ef(o){if(o.height==0)return 0;for(var u=o.text.length,p,b=o;p=ps(b);){var T=p.find(0,!0);b=T.from.line,u+=T.from.ch-T.to.ch}for(b=o;p=no(b);){var M=p.find(0,!0);u-=b.text.length-M.from.ch,b=M.to.line,u+=b.text.length-M.to.ch}return u}function zs(o){var u=o.display,p=o.doc;u.maxLine=jt(p,p.first),u.maxLineLength=ef(u.maxLine),u.maxLineChanged=!0,p.iter(function(b){var T=ef(b);T>u.maxLineLength&&(u.maxLineLength=T,u.maxLine=b)})}var Uo=function(o,u,p){this.text=o,un(this,u),this.height=p?p(this):1};Uo.prototype.lineNo=function(){return je(this)},fo(Uo);function kf(o,u,p,b){o.text=u,o.stateAfter&&(o.stateAfter=null),o.styles&&(o.styles=null),o.order!=null&&(o.order=null),jr(o),un(o,p);var T=b?b(o):1;T!=o.height&&Ae(o,T)}function wd(o){o.parent=null,jr(o)}var hp={},au={};function Sd(o,u){if(!o||/^\s*$/.test(o))return null;var p=u.addModeClass?au:hp;return p[o]||(p[o]=o.replace(/\S+/g,"cm-$&"))}function cl(o,u){var p=R("span",null,null,g?"padding-right: .1px":null),b={pre:R("pre",[p],"CodeMirror-line"),content:p,col:0,pos:0,cm:o,trailingSpace:!1,splitSpaces:o.getOption("lineWrapping")};u.measure={};for(var T=0;T<=(u.rest?u.rest.length:0);T++){var M=T?u.rest[T-1]:u.line,N=void 0;b.pos=0,b.addToken=zh,Fr(o.display.measure)&&(N=$n(M,o.doc.direction))&&(b.addToken=Qf(b.addToken,N)),b.map=[];var Z=u!=o.display.externalMeasured&&je(M);io(M,b,Xn(o,M,Z)),M.styleClasses&&(M.styleClasses.bgClass&&(b.bgClass=_e(M.styleClasses.bgClass,b.bgClass||"")),M.styleClasses.textClass&&(b.textClass=_e(M.styleClasses.textClass,b.textClass||""))),b.map.length==0&&b.map.push(0,0,b.content.appendChild(Nr(o.display.measure))),T==0?(u.measure.map=b.map,u.measure.cache={}):((u.measure.maps||(u.measure.maps=[])).push(b.map),(u.measure.caches||(u.measure.caches=[])).push({}))}if(g){var Q=b.content.lastChild;(/\bcm-tab\b/.test(Q.className)||Q.querySelector&&Q.querySelector(".cm-tab"))&&(b.content.className="cm-tab-wrap-hack")}return Vr(o,"renderLine",o,u.line,b.pre),b.pre.className&&(b.textClass=_e(b.pre.className,b.textClass||"")),b}function dp(o){var u=ee("span","\u2022","cm-invalidchar");return u.title="\\u"+o.charCodeAt(0).toString(16),u.setAttribute("aria-label",u.title),u}function zh(o,u,p,b,T,M,N){if(!!u){var Z=o.splitSpaces?Nc(u,o.trailingSpace):u,Q=o.cm.state.specialChars,ue=!1,Ce;if(!Q.test(u))o.col+=u.length,Ce=document.createTextNode(Z),o.map.push(o.pos,o.pos+u.length,Ce),l&&h<9&&(ue=!0),o.pos+=u.length;else{Ce=document.createDocumentFragment();for(var Re=0;;){Q.lastIndex=Re;var it=Q.exec(u),at=it?it.index-Re:u.length-Re;if(at){var wt=document.createTextNode(Z.slice(Re,Re+at));l&&h<9?Ce.appendChild(ee("span",[wt])):Ce.appendChild(wt),o.map.push(o.pos,o.pos+at,wt),o.col+=at,o.pos+=at}if(!it)break;Re+=at+1;var zt=void 0;if(it[0]=="	"){var $t=o.cm.options.tabSize,or=$t-o.col%$t;zt=Ce.appendChild(ee("span",rt(or),"cm-tab")),zt.setAttribute("role","presentation"),zt.setAttribute("cm-text","	"),o.col+=or}else it[0]=="\r"||it[0]==`
`?(zt=Ce.appendChild(ee("span",it[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),zt.setAttribute("cm-text",it[0]),o.col+=1):(zt=o.cm.options.specialCharPlaceholder(it[0]),zt.setAttribute("cm-text",it[0]),l&&h<9?Ce.appendChild(ee("span",[zt])):Ce.appendChild(zt),o.col+=1);o.map.push(o.pos,o.pos+1,zt),o.pos++}}if(o.trailingSpace=Z.charCodeAt(u.length-1)==32,p||b||T||ue||M||N){var dr=p||"";b&&(dr+=b),T&&(dr+=T);var ur=ee("span",[Ce],dr,M);if(N)for(var xr in N)N.hasOwnProperty(xr)&&xr!="style"&&xr!="class"&&ur.setAttribute(xr,N[xr]);return o.content.appendChild(ur)}o.content.appendChild(Ce)}}function Nc(o,u){if(o.length>1&&!/  /.test(o))return o;for(var p=u,b="",T=0;T<o.length;T++){var M=o.charAt(T);M==" "&&p&&(T==o.length-1||o.charCodeAt(T+1)==32)&&(M="\xA0"),b+=M,p=M==" "}return b}function Qf(o,u){return function(p,b,T,M,N,Z,Q){T=T?T+" cm-force-border":"cm-force-border";for(var ue=p.pos,Ce=ue+b.length;;){for(var Re=void 0,it=0;it<u.length&&(Re=u[it],!(Re.to>ue&&Re.from<=ue));it++);if(Re.to>=Ce)return o(p,b,T,M,N,Z,Q);o(p,b.slice(0,Re.to-ue),T,M,null,Z,Q),M=null,b=b.slice(Re.to-ue),ue=Re.to}}}function Cf(o,u,p,b){var T=!b&&p.widgetNode;T&&o.map.push(o.pos,o.pos+u,T),!b&&o.cm.display.input.needsContentAttribute&&(T||(T=o.content.appendChild(document.createElement("span"))),T.setAttribute("cm-marker",p.id)),T&&(o.cm.display.input.setUneditable(T),o.content.appendChild(T)),o.pos+=u,o.trailingSpace=!1}function io(o,u,p){var b=o.markedSpans,T=o.text,M=0;if(!b){for(var N=1;N<p.length;N+=2)u.addToken(u,T.slice(M,M=p[N]),Sd(p[N+1],u.cm.options));return}for(var Z=T.length,Q=0,ue=1,Ce="",Re,it,at=0,wt,zt,$t,or,dr;;){if(at==Q){wt=zt=$t=it="",dr=null,or=null,at=1/0;for(var ur=[],xr=void 0,Jr=0;Jr<b.length;++Jr){var ln=b[Jr],_n=ln.marker;if(_n.type=="bookmark"&&ln.from==Q&&_n.widgetNode)ur.push(_n);else if(ln.from<=Q&&(ln.to==null||ln.to>Q||_n.collapsed&&ln.to==Q&&ln.from==Q)){if(ln.to!=null&&ln.to!=Q&&at>ln.to&&(at=ln.to,zt=""),_n.className&&(wt+=" "+_n.className),_n.css&&(it=(it?it+";":"")+_n.css),_n.startStyle&&ln.from==Q&&($t+=" "+_n.startStyle),_n.endStyle&&ln.to==at&&(xr||(xr=[])).push(_n.endStyle,ln.to),_n.title&&((dr||(dr={})).title=_n.title),_n.attributes)for(var Ti in _n.attributes)(dr||(dr={}))[Ti]=_n.attributes[Ti];_n.collapsed&&(!or||Vo(or.marker,_n)<0)&&(or=ln)}else ln.from>Q&&at>ln.from&&(at=ln.from)}if(xr)for(var ao=0;ao<xr.length;ao+=2)xr[ao+1]==at&&(zt+=" "+xr[ao]);if(!or||or.from==Q)for(var ai=0;ai<ur.length;++ai)Cf(u,0,ur[ai]);if(or&&(or.from||0)==Q){if(Cf(u,(or.to==null?Z+1:or.to)-Q,or.marker,or.from==null),or.to==null)return;or.to==Q&&(or=!1)}}if(Q>=Z)break;for(var so=Math.min(Z,at);;){if(Ce){var Wi=Q+Ce.length;if(!or){var Pn=Wi>so?Ce.slice(0,so-Q):Ce;u.addToken(u,Pn,Re?Re+wt:wt,$t,Q+Pn.length==at?zt:"",it,dr)}if(Wi>=so){Ce=Ce.slice(so-Q),Q=so;break}Q=Wi,$t=""}Ce=T.slice(M,M=p[ue++]),Re=Sd(p[ue++],u.cm.options)}}}function su(o,u,p){this.line=u,this.rest=Ni(u),this.size=this.rest?je(ce(this.rest))-p+1:1,this.node=this.text=null,this.hidden=Ds(o,u)}function Af(o,u,p){for(var b=[],T,M=u;M<p;M=T){var N=new su(o.doc,jt(o.doc,M),M);T=M+N.size,b.push(N)}return b}var wa=null;function Bc(o){wa?wa.ops.push(o):o.ownsGroup=wa={ops:[o],delayedCallbacks:[]}}function ta(o){var u=o.delayedCallbacks,p=0;do{for(;p<u.length;p++)u[p].call(null);for(var b=0;b<o.ops.length;b++){var T=o.ops[b];if(T.cursorActivityHandlers)for(;T.cursorActivityCalled<T.cursorActivityHandlers.length;)T.cursorActivityHandlers[T.cursorActivityCalled++].call(null,T.cm)}}while(p<u.length)}function tf(o,u){var p=o.ownsGroup;if(!!p)try{ta(p)}finally{wa=null,u(p)}}var Cu=null;function wo(o,u){var p=Er(o,u);if(!!p.length){var b=Array.prototype.slice.call(arguments,2),T;wa?T=wa.delayedCallbacks:Cu?T=Cu:(T=Cu=[],setTimeout(Xu,0));for(var M=function(Z){T.push(function(){return p[Z].apply(null,b)})},N=0;N<p.length;++N)M(N)}}function Xu(){var o=Cu;Cu=null;for(var u=0;u<o.length;++u)o[u]()}function zl(o,u,p,b){for(var T=0;T<u.changes.length;T++){var M=u.changes[T];M=="text"?Td(o,u):M=="gutter"?Ed(o,u,p,b):M=="class"?Ui(o,u):M=="widget"&&jh(o,u,b)}u.changes=null}function Ju(o){return o.node==o.text&&(o.node=ee("div",null,null,"position: relative"),o.text.parentNode&&o.text.parentNode.replaceChild(o.node,o.text),o.node.appendChild(o.text),l&&h<8&&(o.node.style.zIndex=2)),o.node}function Qu(o,u){var p=u.bgClass?u.bgClass+" "+(u.line.bgClass||""):u.line.bgClass;if(p&&(p+=" CodeMirror-linebackground"),u.background)p?u.background.className=p:(u.background.parentNode.removeChild(u.background),u.background=null);else if(p){var b=Ju(u);u.background=b.insertBefore(ee("div",null,p),b.firstChild),o.display.input.setUneditable(u.background)}}function Uh(o,u){var p=o.display.externalMeasured;return p&&p.line==u.line?(o.display.externalMeasured=null,u.measure=p.measure,p.built):cl(o,u)}function Td(o,u){var p=u.text.className,b=Uh(o,u);u.text==u.node&&(u.node=b.pre),u.text.parentNode.replaceChild(b.pre,u.text),u.text=b.pre,b.bgClass!=u.bgClass||b.textClass!=u.textClass?(u.bgClass=b.bgClass,u.textClass=b.textClass,Ui(o,u)):p&&(u.text.className=p)}function Ui(o,u){Qu(o,u),u.line.wrapClass?Ju(u).className=u.line.wrapClass:u.node!=u.text&&(u.node.className="");var p=u.textClass?u.textClass+" "+(u.line.textClass||""):u.line.textClass;u.text.className=p||""}function Ed(o,u,p,b){if(u.gutter&&(u.node.removeChild(u.gutter),u.gutter=null),u.gutterBackground&&(u.node.removeChild(u.gutterBackground),u.gutterBackground=null),u.line.gutterClass){var T=Ju(u);u.gutterBackground=ee("div",null,"CodeMirror-gutter-background "+u.line.gutterClass,"left: "+(o.options.fixedGutter?b.fixedPos:-b.gutterTotalWidth)+"px; width: "+b.gutterTotalWidth+"px"),o.display.input.setUneditable(u.gutterBackground),T.insertBefore(u.gutterBackground,u.text)}var M=u.line.gutterMarkers;if(o.options.lineNumbers||M){var N=Ju(u),Z=u.gutter=ee("div",null,"CodeMirror-gutter-wrapper","left: "+(o.options.fixedGutter?b.fixedPos:-b.gutterTotalWidth)+"px");if(Z.setAttribute("aria-hidden","true"),o.display.input.setUneditable(Z),N.insertBefore(Z,u.text),u.line.gutterClass&&(Z.className+=" "+u.line.gutterClass),o.options.lineNumbers&&(!M||!M["CodeMirror-linenumbers"])&&(u.lineNumber=Z.appendChild(ee("div",ie(o.options,p),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+b.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+o.display.lineNumInnerWidth+"px"))),M)for(var Q=0;Q<o.display.gutterSpecs.length;++Q){var ue=o.display.gutterSpecs[Q].className,Ce=M.hasOwnProperty(ue)&&M[ue];Ce&&Z.appendChild(ee("div",[Ce],"CodeMirror-gutter-elt","left: "+b.gutterLeft[ue]+"px; width: "+b.gutterWidth[ue]+"px"))}}}function jh(o,u,p){u.alignable&&(u.alignable=null);for(var b=Se("CodeMirror-linewidget"),T=u.node.firstChild,M=void 0;T;T=M)M=T.nextSibling,b.test(T.className)&&u.node.removeChild(T);zc(o,u,p)}function kd(o,u,p,b){var T=Uh(o,u);return u.text=u.node=T.pre,T.bgClass&&(u.bgClass=T.bgClass),T.textClass&&(u.textClass=T.textClass),Ui(o,u),Ed(o,u,p,b),zc(o,u,b),u.node}function zc(o,u,p){if(ec(o,u.line,u,p,!0),u.rest)for(var b=0;b<u.rest.length;b++)ec(o,u.rest[b],u,p,!1)}function ec(o,u,p,b,T){if(!!u.widgets)for(var M=Ju(p),N=0,Z=u.widgets;N<Z.length;++N){var Q=Z[N],ue=ee("div",[Q.node],"CodeMirror-linewidget"+(Q.className?" "+Q.className:""));Q.handleMouseEvents||ue.setAttribute("cm-ignore-events","true"),eh(Q,ue,p,b),o.display.input.setUneditable(ue),T&&Q.above?M.insertBefore(ue,p.gutter||p.text):M.appendChild(ue),wo(Q,"redraw")}}function eh(o,u,p,b){if(o.noHScroll){(p.alignable||(p.alignable=[])).push(u);var T=b.wrapperWidth;u.style.left=b.fixedPos+"px",o.coverGutter||(T-=b.gutterTotalWidth,u.style.paddingLeft=b.gutterTotalWidth+"px"),u.style.width=T+"px"}o.coverGutter&&(u.style.zIndex=5,u.style.position="relative",o.noHScroll||(u.style.marginLeft=-b.gutterTotalWidth+"px"))}function ra(o){if(o.height!=null)return o.height;var u=o.doc.cm;if(!u)return 0;if(!G(document.body,o.node)){var p="position: relative;";o.coverGutter&&(p+="margin-left: -"+u.display.gutters.offsetWidth+"px;"),o.noHScroll&&(p+="width: "+u.display.wrapper.clientWidth+"px;"),q(u.display.measure,ee("div",[o.node],null,p))}return o.height=o.node.parentNode.offsetHeight}function ms(o,u){for(var p=nr(u);p!=o.wrapper;p=p.parentNode)if(!p||p.nodeType==1&&p.getAttribute("cm-ignore-events")=="true"||p.parentNode==o.sizer&&p!=o.mover)return!0}function Sa(o){return o.lineSpace.offsetTop}function tc(o){return o.mover.offsetHeight-o.lineSpace.offsetHeight}function th(o){if(o.cachedPaddingH)return o.cachedPaddingH;var u=q(o.measure,ee("pre","x","CodeMirror-line-like")),p=window.getComputedStyle?window.getComputedStyle(u):u.currentStyle,b={left:parseInt(p.paddingLeft),right:parseInt(p.paddingRight)};return!isNaN(b.left)&&!isNaN(b.right)&&(o.cachedPaddingH=b),b}function Au(o){return Rt-o.display.nativeBarWidth}function Ul(o){return o.display.scroller.clientWidth-Au(o)-o.display.barWidth}function Cd(o){return o.display.scroller.clientHeight-Au(o)-o.display.barHeight}function rf(o,u,p){var b=o.options.lineWrapping,T=b&&Ul(o);if(!u.measure.heights||b&&u.measure.width!=T){var M=u.measure.heights=[];if(b){u.measure.width=T;for(var N=u.text.firstChild.getClientRects(),Z=0;Z<N.length-1;Z++){var Q=N[Z],ue=N[Z+1];Math.abs(Q.bottom-ue.bottom)>2&&M.push((Q.bottom+ue.top)/2-p.top)}}M.push(p.bottom-p.top)}}function bc(o,u,p){if(o.line==u)return{map:o.measure.map,cache:o.measure.cache};if(o.rest){for(var b=0;b<o.rest.length;b++)if(o.rest[b]==u)return{map:o.measure.maps[b],cache:o.measure.caches[b]};for(var T=0;T<o.rest.length;T++)if(je(o.rest[T])>p)return{map:o.measure.maps[T],cache:o.measure.caches[T],before:!0}}}function Du(o,u){u=rs(u);var p=je(u),b=o.display.externalMeasured=new su(o.doc,u,p);b.lineN=p;var T=b.built=cl(o,b);return b.text=T.pre,q(o.display.lineMeasure,T.pre),b}function fl(o,u,p,b){return rc(o,Ou(o,u),p,b)}function mo(o,u){if(u>=o.display.viewFrom&&u<o.display.viewTo)return o.display.view[Wa(o,u)];var p=o.display.externalMeasured;if(p&&u>=p.lineN&&u<p.lineN+p.size)return p}function Ou(o,u){var p=je(u),b=mo(o,p);b&&!b.text?b=null:b&&b.changes&&(zl(o,b,p,Mu(o)),o.curOp.forceUpdate=!0),b||(b=Du(o,u));var T=bc(b,u,p);return{line:u,view:b,rect:null,map:T.map,cache:T.cache,before:T.before,hasHeights:!1}}function rc(o,u,p,b,T){u.before&&(p=-1);var M=p+(b||""),N;return u.cache.hasOwnProperty(M)?N=u.cache[M]:(u.rect||(u.rect=u.view.text.getBoundingClientRect()),u.hasHeights||(rf(o,u.view,u.rect),u.hasHeights=!0),N=pp(o,u,p,b),N.bogus||(u.cache[M]=N)),{left:N.left,right:N.right,top:T?N.rtop:N.top,bottom:T?N.rbottom:N.bottom}}var jl={left:0,right:0,top:0,bottom:0};function rh(o,u,p){for(var b,T,M,N,Z,Q,ue=0;ue<o.length;ue+=3)if(Z=o[ue],Q=o[ue+1],u<Z?(T=0,M=1,N="left"):u<Q?(T=u-Z,M=T+1):(ue==o.length-3||u==Q&&o[ue+3]>u)&&(M=Q-Z,T=M-1,u>=Q&&(N="right")),T!=null){if(b=o[ue+2],Z==Q&&p==(b.insertLeft?"left":"right")&&(N=p),p=="left"&&T==0)for(;ue&&o[ue-2]==o[ue-3]&&o[ue-1].insertLeft;)b=o[(ue-=3)+2],N="left";if(p=="right"&&T==Q-Z)for(;ue<o.length-3&&o[ue+3]==o[ue+4]&&!o[ue+5].insertLeft;)b=o[(ue+=3)+2],N="right";break}return{node:b,start:T,end:M,collapse:N,coverStart:Z,coverEnd:Q}}function nm(o,u){var p=jl;if(u=="left")for(var b=0;b<o.length&&(p=o[b]).left==p.right;b++);else for(var T=o.length-1;T>=0&&(p=o[T]).left==p.right;T--);return p}function pp(o,u,p,b){var T=rh(u.map,p,b),M=T.node,N=T.start,Z=T.end,Q=T.collapse,ue;if(M.nodeType==3){for(var Ce=0;Ce<4;Ce++){for(;N&&kr(u.line.text.charAt(T.coverStart+N));)--N;for(;T.coverStart+Z<T.coverEnd&&kr(u.line.text.charAt(T.coverStart+Z));)++Z;if(l&&h<9&&N==0&&Z==T.coverEnd-T.coverStart?ue=M.parentNode.getBoundingClientRect():ue=nm(j(M,N,Z).getClientRects(),b),ue.left||ue.right||N==0)break;Z=N,N=N-1,Q="right"}l&&h<11&&(ue=nf(o.display.measure,ue))}else{N>0&&(Q=b="right");var Re;o.options.lineWrapping&&(Re=M.getClientRects()).length>1?ue=Re[b=="right"?Re.length-1:0]:ue=M.getBoundingClientRect()}if(l&&h<9&&!N&&(!ue||!ue.left&&!ue.right)){var it=M.parentNode.getClientRects()[0];it?ue={left:it.left,right:it.left+xc(o.display),top:it.top,bottom:it.bottom}:ue=jl}for(var at=ue.top-u.rect.top,wt=ue.bottom-u.rect.top,zt=(at+wt)/2,$t=u.view.measure.heights,or=0;or<$t.length-1&&!(zt<$t[or]);or++);var dr=or?$t[or-1]:0,ur=$t[or],xr={left:(Q=="right"?ue.right:ue.left)-u.rect.left,right:(Q=="left"?ue.left:ue.right)-u.rect.left,top:dr,bottom:ur};return!ue.left&&!ue.right&&(xr.bogus=!0),o.options.singleCursorHeightPerLine||(xr.rtop=at,xr.rbottom=wt),xr}function nf(o,u){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!La(o))return u;var p=screen.logicalXDPI/screen.deviceXDPI,b=screen.logicalYDPI/screen.deviceYDPI;return{left:u.left*p,right:u.right*p,top:u.top*b,bottom:u.bottom*b}}function lu(o){if(o.measure&&(o.measure.cache={},o.measure.heights=null,o.rest))for(var u=0;u<o.rest.length;u++)o.measure.caches[u]={}}function Us(o){o.display.externalMeasure=null,$e(o.display.lineMeasure);for(var u=0;u<o.display.view.length;u++)lu(o.display.view[u])}function nc(o){Us(o),o.display.cachedCharWidth=o.display.cachedTextHeight=o.display.cachedPaddingH=null,o.options.lineWrapping||(o.display.maxLineChanged=!0),o.display.lineNumChars=null}function Uc(o){return C&&oe?-(o.body.getBoundingClientRect().left-parseInt(getComputedStyle(o.body).marginLeft)):o.defaultView.pageXOffset||(o.documentElement||o.body).scrollLeft}function of(o){return C&&oe?-(o.body.getBoundingClientRect().top-parseInt(getComputedStyle(o.body).marginTop)):o.defaultView.pageYOffset||(o.documentElement||o.body).scrollTop}function nh(o){var u=rs(o),p=u.widgets,b=0;if(p)for(var T=0;T<p.length;++T)p[T].above&&(b+=ra(p[T]));return b}function gs(o,u,p,b,T){if(!T){var M=nh(u);p.top+=M,p.bottom+=M}if(b=="line")return p;b||(b="local");var N=po(u);if(b=="local"?N+=Sa(o.display):N-=o.display.viewOffset,b=="page"||b=="window"){var Z=o.display.lineSpace.getBoundingClientRect();N+=Z.top+(b=="window"?0:of(U(o)));var Q=Z.left+(b=="window"?0:Uc(U(o)));p.left+=Q,p.right+=Q}return p.top+=N,p.bottom+=N,p}function uu(o,u,p){if(p=="div")return u;var b=u.left,T=u.top;if(p=="page")b-=Uc(U(o)),T-=of(U(o));else if(p=="local"||!p){var M=o.display.sizer.getBoundingClientRect();b+=M.left,T+=M.top}var N=o.display.lineSpace.getBoundingClientRect();return{left:b-N.left,top:T-N.top}}function Hl(o,u,p,b,T){return b||(b=jt(o.doc,u.line)),gs(o,b,fl(o,b,u.ch,T),p)}function Pt(o,u,p,b,T,M){b=b||jt(o.doc,u.line),T||(T=Ou(o,b));function N(wt,zt){var $t=rc(o,T,wt,zt?"right":"left",M);return zt?$t.left=$t.right:$t.right=$t.left,gs(o,b,$t,p)}var Z=$n(b,o.doc.direction),Q=u.ch,ue=u.sticky;if(Q>=b.text.length?(Q=b.text.length,ue="before"):Q<=0&&(Q=0,ue="after"),!Z)return N(ue=="before"?Q-1:Q,ue=="before");function Ce(wt,zt,$t){var or=Z[zt],dr=or.level==1;return N($t?wt-1:wt,dr!=$t)}var Re=ki(Z,Q,ue),it=Lr,at=Ce(Q,Re,ue=="before");return it!=null&&(at.other=Ce(Q,it,ue!="before")),at}function gr(o,u){var p=0;u=fr(o.doc,u),o.options.lineWrapping||(p=xc(o.display)*u.ch);var b=jt(o.doc,u.line),T=po(b)+Sa(o.display);return{left:p,right:p,top:T,bottom:T+b.height}}function sr(o,u,p,b,T){var M=ye(o,u,p);return M.xRel=T,b&&(M.outside=b),M}function fn(o,u,p){var b=o.doc;if(p+=o.display.viewOffset,p<0)return sr(b.first,0,null,-1,-1);var T=Pe(b,p),M=b.first+b.size-1;if(T>M)return sr(b.first+b.size-1,jt(b,M).text.length,null,1,1);u<0&&(u=0);for(var N=jt(b,T);;){var Z=oo(o,N,T,u,p),Q=ja(N,Z.ch+(Z.xRel>0||Z.outside>0?1:0));if(!Q)return Z;var ue=Q.find(1);if(ue.line==T)return ue;N=jt(b,T=ue.line)}}function ti(o,u,p,b){b-=nh(u);var T=u.text.length,M=pt(function(N){return rc(o,p,N-1).bottom<=b},T,0);return T=pt(function(N){return rc(o,p,N).top>b},M,T),{begin:M,end:T}}function Yi(o,u,p,b){p||(p=Ou(o,u));var T=gs(o,u,rc(o,p,b),"line").top;return ti(o,u,p,T)}function fa(o,u,p,b){return o.bottom<=p?!1:o.top>p?!0:(b?o.left:o.right)>u}function oo(o,u,p,b,T){T-=po(u);var M=Ou(o,u),N=nh(u),Z=0,Q=u.text.length,ue=!0,Ce=$n(u,o.doc.direction);if(Ce){var Re=(o.options.lineWrapping?af:ic)(o,u,p,M,Ce,b,T);ue=Re.level!=1,Z=ue?Re.from:Re.to-1,Q=ue?Re.to:Re.from-1}var it=null,at=null,wt=pt(function(Jr){var ln=rc(o,M,Jr);return ln.top+=N,ln.bottom+=N,fa(ln,b,T,!1)?(ln.top<=T&&ln.left<=b&&(it=Jr,at=ln),!0):!1},Z,Q),zt,$t,or=!1;if(at){var dr=b-at.left<at.right-b,ur=dr==ue;wt=it+(ur?0:1),$t=ur?"after":"before",zt=dr?at.left:at.right}else{!ue&&(wt==Q||wt==Z)&&wt++,$t=wt==0?"after":wt==u.text.length?"before":rc(o,M,wt-(ue?1:0)).bottom+N<=T==ue?"after":"before";var xr=Pt(o,ye(p,wt,$t),"line",u,M);zt=xr.left,or=T<xr.top?-1:T>=xr.bottom?1:0}return wt=et(u.text,wt,1),sr(p,wt,$t,or,b-zt)}function ic(o,u,p,b,T,M,N){var Z=pt(function(Re){var it=T[Re],at=it.level!=1;return fa(Pt(o,ye(p,at?it.to:it.from,at?"before":"after"),"line",u,b),M,N,!0)},0,T.length-1),Q=T[Z];if(Z>0){var ue=Q.level!=1,Ce=Pt(o,ye(p,ue?Q.from:Q.to,ue?"after":"before"),"line",u,b);fa(Ce,M,N,!0)&&Ce.top>N&&(Q=T[Z-1])}return Q}function af(o,u,p,b,T,M,N){var Z=ti(o,u,b,N),Q=Z.begin,ue=Z.end;/\s/.test(u.text.charAt(ue-1))&&ue--;for(var Ce=null,Re=null,it=0;it<T.length;it++){var at=T[it];if(!(at.from>=ue||at.to<=Q)){var wt=at.level!=1,zt=rc(o,b,wt?Math.min(ue,at.to)-1:Math.max(Q,at.from)).right,$t=zt<M?M-zt+1e9:zt-M;(!Ce||Re>$t)&&(Ce=at,Re=$t)}}return Ce||(Ce=T[T.length-1]),Ce.from<Q&&(Ce={from:Q,to:Ce.to,level:Ce.level}),Ce.to>ue&&(Ce={from:Ce.from,to:ue,level:Ce.level}),Ce}var Ha;function Iu(o){if(o.cachedTextHeight!=null)return o.cachedTextHeight;if(Ha==null){Ha=ee("pre",null,"CodeMirror-line-like");for(var u=0;u<49;++u)Ha.appendChild(document.createTextNode("x")),Ha.appendChild(ee("br"));Ha.appendChild(document.createTextNode("x"))}q(o.measure,Ha);var p=Ha.offsetHeight/50;return p>3&&(o.cachedTextHeight=p),$e(o.measure),p||1}function xc(o){if(o.cachedCharWidth!=null)return o.cachedCharWidth;var u=ee("span","xxxxxxxxxx"),p=ee("pre",[u],"CodeMirror-line-like");q(o.measure,p);var b=u.getBoundingClientRect(),T=(b.right-b.left)/10;return T>2&&(o.cachedCharWidth=T),T||10}function Mu(o){for(var u=o.display,p={},b={},T=u.gutters.clientLeft,M=u.gutters.firstChild,N=0;M;M=M.nextSibling,++N){var Z=o.display.gutterSpecs[N].className;p[Z]=M.offsetLeft+M.clientLeft+T,b[Z]=M.clientWidth}return{fixedPos:Wl(u),gutterTotalWidth:u.gutters.offsetWidth,gutterLeft:p,gutterWidth:b,wrapperWidth:u.wrapper.clientWidth}}function Wl(o){return o.scroller.getBoundingClientRect().left-o.sizer.getBoundingClientRect().left}function cu(o){var u=Iu(o.display),p=o.options.lineWrapping,b=p&&Math.max(5,o.display.scroller.clientWidth/xc(o.display)-3);return function(T){if(Ds(o.doc,T))return 0;var M=0;if(T.widgets)for(var N=0;N<T.widgets.length;N++)T.widgets[N].height&&(M+=T.widgets[N].height);return p?M+(Math.ceil(T.text.length/b)||1)*u:M+u}}function Jn(o){var u=o.doc,p=cu(o);u.iter(function(b){var T=p(b);T!=b.height&&Ae(b,T)})}function hl(o,u,p,b){var T=o.display;if(!p&&nr(u).getAttribute("cm-not-content")=="true")return null;var M,N,Z=T.lineSpace.getBoundingClientRect();try{M=u.clientX-Z.left,N=u.clientY-Z.top}catch{return null}var Q=fn(o,M,N),ue;if(b&&Q.xRel>0&&(ue=jt(o.doc,Q.line).text).length==Q.ch){var Ce=Ct(ue,ue.length,o.options.tabSize)-ue.length;Q=ye(Q.line,Math.max(0,Math.round((M-th(o.display).left)/xc(o.display))-Ce))}return Q}function Wa(o,u){if(u>=o.display.viewTo||(u-=o.display.viewFrom,u<0))return null;for(var p=o.display.view,b=0;b<p.length;b++)if(u-=p[b].size,u<0)return b}function ri(o,u,p,b){u==null&&(u=o.doc.first),p==null&&(p=o.doc.first+o.doc.size),b||(b=0);var T=o.display;if(b&&p<T.viewTo&&(T.updateLineNumbers==null||T.updateLineNumbers>u)&&(T.updateLineNumbers=u),o.curOp.viewChanged=!0,u>=T.viewTo)ii&&Nl(o.doc,u)<T.viewTo&&dl(o);else if(p<=T.viewFrom)ii&&_a(o.doc,p+b)>T.viewFrom?dl(o):(T.viewFrom+=b,T.viewTo+=b);else if(u<=T.viewFrom&&p>=T.viewTo)dl(o);else if(u<=T.viewFrom){var M=pl(o,p,p+b,1);M?(T.view=T.view.slice(M.index),T.viewFrom=M.lineN,T.viewTo+=b):dl(o)}else if(p>=T.viewTo){var N=pl(o,u,u,-1);N?(T.view=T.view.slice(0,N.index),T.viewTo=N.lineN):dl(o)}else{var Z=pl(o,u,u,-1),Q=pl(o,p,p+b,1);Z&&Q?(T.view=T.view.slice(0,Z.index).concat(Af(o,Z.lineN,Q.lineN)).concat(T.view.slice(Q.index)),T.viewTo+=b):dl(o)}var ue=T.externalMeasured;ue&&(p<ue.lineN?ue.lineN+=b:u<ue.lineN+ue.size&&(T.externalMeasured=null))}function oc(o,u,p){o.curOp.viewChanged=!0;var b=o.display,T=o.display.externalMeasured;if(T&&u>=T.lineN&&u<T.lineN+T.size&&(b.externalMeasured=null),!(u<b.viewFrom||u>=b.viewTo)){var M=b.view[Wa(o,u)];if(M.node!=null){var N=M.changes||(M.changes=[]);Ht(N,p)==-1&&N.push(p)}}}function dl(o){o.display.viewFrom=o.display.viewTo=o.doc.first,o.display.view=[],o.display.viewOffset=0}function pl(o,u,p,b){var T=Wa(o,u),M,N=o.display.view;if(!ii||p==o.doc.first+o.doc.size)return{index:T,lineN:p};for(var Z=o.display.viewFrom,Q=0;Q<T;Q++)Z+=N[Q].size;if(Z!=u){if(b>0){if(T==N.length-1)return null;M=Z+N[T].size-u,T++}else M=Z-u;u+=M,p+=M}for(;Nl(o.doc,p)!=p;){if(T==(b<0?0:N.length-1))return null;p+=b*N[T-(b<0?1:0)].size,T+=b}return{index:T,lineN:p}}function ui(o,u,p){var b=o.display,T=b.view;T.length==0||u>=b.viewTo||p<=b.viewFrom?(b.view=Af(o,u,p),b.viewFrom=u):(b.viewFrom>u?b.view=Af(o,u,b.viewFrom).concat(b.view):b.viewFrom<u&&(b.view=b.view.slice(Wa(o,u))),b.viewFrom=u,b.viewTo<p?b.view=b.view.concat(Af(o,b.viewTo,p)):b.viewTo>p&&(b.view=b.view.slice(0,Wa(o,p)))),b.viewTo=p}function Mi(o){for(var u=o.display.view,p=0,b=0;b<u.length;b++){var T=u[b];!T.hidden&&(!T.node||T.changes)&&++p}return p}function Ta(o){o.display.input.showSelection(o.display.input.prepareSelection())}function Df(o,u){u===void 0&&(u=!0);var p=o.doc,b={},T=b.cursors=document.createDocumentFragment(),M=b.selection=document.createDocumentFragment(),N=o.options.$customCursor;N&&(u=!0);for(var Z=0;Z<p.sel.ranges.length;Z++)if(!(!u&&Z==p.sel.primIndex)){var Q=p.sel.ranges[Z];if(!(Q.from().line>=o.display.viewTo||Q.to().line<o.display.viewFrom)){var ue=Q.empty();if(N){var Ce=N(o,Q);Ce&&fu(o,Ce,T)}else(ue||o.options.showCursorWhenSelecting)&&fu(o,Q.head,T);ue||Ad(o,Q,M)}}return b}function fu(o,u,p){var b=Pt(o,u,"div",null,null,!o.options.singleCursorHeightPerLine),T=p.appendChild(ee("div","\xA0","CodeMirror-cursor"));if(T.style.left=b.left+"px",T.style.top=b.top+"px",T.style.height=Math.max(0,b.bottom-b.top)*o.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(o.getWrapperElement().className)){var M=Hl(o,u,"div",null,null),N=M.right-M.left;T.style.width=(N>0?N:o.defaultCharWidth())+"px"}if(b.other){var Z=p.appendChild(ee("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));Z.style.display="",Z.style.left=b.other.left+"px",Z.style.top=b.other.top+"px",Z.style.height=(b.other.bottom-b.other.top)*.85+"px"}}function _c(o,u){return o.top-u.top||o.left-u.left}function Ad(o,u,p){var b=o.display,T=o.doc,M=document.createDocumentFragment(),N=th(o.display),Z=N.left,Q=Math.max(b.sizerWidth,Ul(o)-b.sizer.offsetLeft)-N.right,ue=T.direction=="ltr";function Ce(ur,xr,Jr,ln){xr<0&&(xr=0),xr=Math.round(xr),ln=Math.round(ln),M.appendChild(ee("div",null,"CodeMirror-selected","position: absolute; left: "+ur+`px;
                             top: `+xr+"px; width: "+(Jr??Q-ur)+`px;
                             height: `+(ln-xr)+"px"))}function Re(ur,xr,Jr){var ln=jt(T,ur),_n=ln.text.length,Ti,ao;function ai(Pn,fi){return Hl(o,ye(ur,Pn),"div",ln,fi)}function so(Pn,fi,jn){var Bi=Yi(o,ln,null,Pn),Ko=fi=="ltr"==(jn=="after")?"left":"right",_i=jn=="after"?Bi.begin:Bi.end-(/\s/.test(ln.text.charAt(Bi.end-1))?2:1);return ai(_i,Ko)[Ko]}var Wi=$n(ln,T.direction);return er(Wi,xr||0,Jr??_n,function(Pn,fi,jn,Bi){var Ko=jn=="ltr",_i=ai(Pn,Ko?"left":"right"),ko=ai(fi-1,Ko?"right":"left"),Jl=xr==null&&Pn==0,ma=Jr==null&&fi==_n,Ls=Bi==0,Ps=!Wi||Bi==Wi.length-1;if(ko.top-_i.top<=3){var oa=(ue?Jl:ma)&&Ls,Nf=(ue?ma:Jl)&&Ps,Ca=oa?Z:(Ko?_i:ko).left,Sl=Nf?Q:(Ko?ko:_i).right;Ce(Ca,_i.top,Sl-Ca,_i.bottom)}else{var Dc,Ql,Fd,Iy;Ko?(Dc=ue&&Jl&&Ls?Z:_i.left,Ql=ue?Q:so(Pn,jn,"before"),Fd=ue?Z:so(fi,jn,"after"),Iy=ue&&ma&&Ps?Q:ko.right):(Dc=ue?so(Pn,jn,"before"):Z,Ql=!ue&&Jl&&Ls?Q:_i.right,Fd=!ue&&ma&&Ps?Z:ko.left,Iy=ue?so(fi,jn,"after"):Q),Ce(Dc,_i.top,Ql-Dc,_i.bottom),_i.bottom<ko.top&&Ce(Z,_i.bottom,null,ko.top),Ce(Fd,ko.top,Iy-Fd,ko.bottom)}(!Ti||_c(_i,Ti)<0)&&(Ti=_i),_c(ko,Ti)<0&&(Ti=ko),(!ao||_c(_i,ao)<0)&&(ao=_i),_c(ko,ao)<0&&(ao=ko)}),{start:Ti,end:ao}}var it=u.from(),at=u.to();if(it.line==at.line)Re(it.line,it.ch,at.ch);else{var wt=jt(T,it.line),zt=jt(T,at.line),$t=rs(wt)==rs(zt),or=Re(it.line,it.ch,$t?wt.text.length+1:null).end,dr=Re(at.line,$t?0:null,at.ch).start;$t&&(or.top<dr.top-2?(Ce(or.right,or.top,null,or.bottom),Ce(Z,dr.top,dr.left,dr.bottom)):Ce(or.right,or.top,dr.left-or.right,or.bottom)),or.bottom<dr.top&&Ce(Z,or.bottom,null,dr.top)}p.appendChild(M)}function sf(o){if(!!o.state.focused){var u=o.display;clearInterval(u.blinker);var p=!0;u.cursorDiv.style.visibility="",o.options.cursorBlinkRate>0?u.blinker=setInterval(function(){o.hasFocus()||go(o),u.cursorDiv.style.visibility=(p=!p)?"":"hidden"},o.options.cursorBlinkRate):o.options.cursorBlinkRate<0&&(u.cursorDiv.style.visibility="hidden")}}function Lu(o){o.hasFocus()||(o.display.input.focus(),o.state.focused||Os(o))}function Vl(o){o.state.delayingBlurEvent=!0,setTimeout(function(){o.state.delayingBlurEvent&&(o.state.delayingBlurEvent=!1,o.state.focused&&go(o))},100)}function Os(o,u){o.state.delayingBlurEvent&&!o.state.draggingText&&(o.state.delayingBlurEvent=!1),o.options.readOnly!="nocursor"&&(o.state.focused||(Vr(o,"focus",o,u),o.state.focused=!0,te(o.display.wrapper,"CodeMirror-focused"),!o.curOp&&o.display.selForContextMenu!=o.doc.sel&&(o.display.input.reset(),g&&setTimeout(function(){return o.display.input.reset(!0)},20)),o.display.input.receivedFocus()),sf(o))}function go(o,u){o.state.delayingBlurEvent||(o.state.focused&&(Vr(o,"blur",o,u),o.state.focused=!1,be(o.display.wrapper,"CodeMirror-focused")),clearInterval(o.display.blinker),setTimeout(function(){o.state.focused||(o.display.shift=!1)},150))}function lf(o){for(var u=o.display,p=u.lineDiv.offsetTop,b=Math.max(0,u.scroller.getBoundingClientRect().top),T=u.lineDiv.getBoundingClientRect().top,M=0,N=0;N<u.view.length;N++){var Z=u.view[N],Q=o.options.lineWrapping,ue=void 0,Ce=0;if(!Z.hidden){if(T+=Z.line.height,l&&h<8){var Re=Z.node.offsetTop+Z.node.offsetHeight;ue=Re-p,p=Re}else{var it=Z.node.getBoundingClientRect();ue=it.bottom-it.top,!Q&&Z.text.firstChild&&(Ce=Z.text.firstChild.getBoundingClientRect().right-it.left-1)}var at=Z.line.height-ue;if((at>.005||at<-.005)&&(T<b&&(M-=at),Ae(Z.line,ue),mp(Z.line),Z.rest))for(var wt=0;wt<Z.rest.length;wt++)mp(Z.rest[wt]);if(Ce>o.display.sizerWidth){var zt=Math.ceil(Ce/xc(o.display));zt>o.display.maxLineLength&&(o.display.maxLineLength=zt,o.display.maxLine=Z.line,o.display.maxLineChanged=!0)}}}Math.abs(M)>2&&(u.scroller.scrollTop+=M)}function mp(o){if(o.widgets)for(var u=0;u<o.widgets.length;++u){var p=o.widgets[u],b=p.node.parentNode;b&&(p.height=b.offsetHeight)}}function na(o,u,p){var b=p&&p.top!=null?Math.max(0,p.top):o.scroller.scrollTop;b=Math.floor(b-Sa(o));var T=p&&p.bottom!=null?p.bottom:b+o.wrapper.clientHeight,M=Pe(u,b),N=Pe(u,T);if(p&&p.ensure){var Z=p.ensure.from.line,Q=p.ensure.to.line;Z<M?(M=Z,N=Pe(u,po(jt(u,Z))+o.wrapper.clientHeight)):Math.min(Q,u.lastLine())>=N&&(M=Pe(u,po(jt(u,Q))-o.wrapper.clientHeight),N=Q)}return{from:M,to:Math.max(N,M+1)}}function Zr(o,u){if(!yn(o,"scrollCursorIntoView")){var p=o.display,b=p.sizer.getBoundingClientRect(),T=null,M=p.wrapper.ownerDocument;if(u.top+b.top<0?T=!0:u.bottom+b.top>(M.defaultView.innerHeight||M.documentElement.clientHeight)&&(T=!1),T!=null&&!$){var N=ee("div","\u200B",null,`position: absolute;
                         top: `+(u.top-p.viewOffset-Sa(o.display))+`px;
                         height: `+(u.bottom-u.top+Au(o)+p.barHeight)+`px;
                         left: `+u.left+"px; width: "+Math.max(2,u.right-u.left)+"px;");o.display.lineSpace.appendChild(N),N.scrollIntoView(T),o.display.lineSpace.removeChild(N)}}}function vs(o,u,p,b){b==null&&(b=0);var T;!o.options.lineWrapping&&u==p&&(p=u.sticky=="before"?ye(u.line,u.ch+1,"before"):u,u=u.ch?ye(u.line,u.sticky=="before"?u.ch-1:u.ch,"after"):u);for(var M=0;M<5;M++){var N=!1,Z=Pt(o,u),Q=!p||p==u?Z:Pt(o,p);T={left:Math.min(Z.left,Q.left),top:Math.min(Z.top,Q.top)-b,right:Math.max(Z.left,Q.left),bottom:Math.max(Z.bottom,Q.bottom)+b};var ue=Pu(o,T),Ce=o.doc.scrollTop,Re=o.doc.scrollLeft;if(ue.scrollTop!=null&&(lc(o,ue.scrollTop),Math.abs(o.doc.scrollTop-Ce)>1&&(N=!0)),ue.scrollLeft!=null&&(ha(o,ue.scrollLeft),Math.abs(o.doc.scrollLeft-Re)>1&&(N=!0)),!N)break}return T}function ac(o,u){var p=Pu(o,u);p.scrollTop!=null&&lc(o,p.scrollTop),p.scrollLeft!=null&&ha(o,p.scrollLeft)}function Pu(o,u){var p=o.display,b=Iu(o.display);u.top<0&&(u.top=0);var T=o.curOp&&o.curOp.scrollTop!=null?o.curOp.scrollTop:p.scroller.scrollTop,M=Cd(o),N={};u.bottom-u.top>M&&(u.bottom=u.top+M);var Z=o.doc.height+tc(p),Q=u.top<b,ue=u.bottom>Z-b;if(u.top<T)N.scrollTop=Q?0:u.top;else if(u.bottom>T+M){var Ce=Math.min(u.top,(ue?Z:u.bottom)-M);Ce!=T&&(N.scrollTop=Ce)}var Re=o.options.fixedGutter?0:p.gutters.offsetWidth,it=o.curOp&&o.curOp.scrollLeft!=null?o.curOp.scrollLeft:p.scroller.scrollLeft-Re,at=Ul(o)-p.gutters.offsetWidth,wt=u.right-u.left>at;return wt&&(u.right=u.left+at),u.left<10?N.scrollLeft=0:u.left<it?N.scrollLeft=Math.max(0,u.left+Re-(wt?0:10)):u.right>at+it-3&&(N.scrollLeft=u.right+(wt?0:10)-at),N}function $l(o,u){u!=null&&(Fa(o),o.curOp.scrollTop=(o.curOp.scrollTop==null?o.doc.scrollTop:o.curOp.scrollTop)+u)}function Ra(o){Fa(o);var u=o.getCursor();o.curOp.scrollToPos={from:u,to:u,margin:o.options.cursorScrollMargin}}function uf(o,u,p){(u!=null||p!=null)&&Fa(o),u!=null&&(o.curOp.scrollLeft=u),p!=null&&(o.curOp.scrollTop=p)}function wr(o,u){Fa(o),o.curOp.scrollToPos=u}function Fa(o){var u=o.curOp.scrollToPos;if(u){o.curOp.scrollToPos=null;var p=gr(o,u.from),b=gr(o,u.to);sc(o,p,b,u.margin)}}function sc(o,u,p,b){var T=Pu(o,{left:Math.min(u.left,p.left),top:Math.min(u.top,p.top)-b,right:Math.max(u.right,p.right),bottom:Math.max(u.bottom,p.bottom)+b});uf(o,T.scrollLeft,T.scrollTop)}function lc(o,u){Math.abs(o.doc.scrollTop-u)<2||(t||Li(o,{top:u}),ns(o,u,!0),t&&Li(o),Sr(o,100))}function ns(o,u,p){u=Math.max(0,Math.min(o.display.scroller.scrollHeight-o.display.scroller.clientHeight,u)),!(o.display.scroller.scrollTop==u&&!p)&&(o.doc.scrollTop=u,o.display.scrollbars.setScrollTop(u),o.display.scroller.scrollTop!=u&&(o.display.scroller.scrollTop=u))}function ha(o,u,p,b){u=Math.max(0,Math.min(u,o.display.scroller.scrollWidth-o.display.scroller.clientWidth)),!((p?u==o.doc.scrollLeft:Math.abs(o.doc.scrollLeft-u)<2)&&!b)&&(o.doc.scrollLeft=u,Wh(o),o.display.scroller.scrollLeft!=u&&(o.display.scroller.scrollLeft=u),o.display.scrollbars.setScrollLeft(u))}function ml(o){var u=o.display,p=u.gutters.offsetWidth,b=Math.round(o.doc.height+tc(o.display));return{clientHeight:u.scroller.clientHeight,viewHeight:u.wrapper.clientHeight,scrollWidth:u.scroller.scrollWidth,clientWidth:u.scroller.clientWidth,viewWidth:u.wrapper.clientWidth,barLeft:o.options.fixedGutter?p:0,docHeight:b,scrollHeight:b+Au(o)+u.barHeight,nativeBarWidth:u.nativeBarWidth,gutterWidth:p}}var gl=function(o,u,p){this.cm=p;var b=this.vert=ee("div",[ee("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),T=this.horiz=ee("div",[ee("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");b.tabIndex=T.tabIndex=-1,o(b),o(T),Et(b,"scroll",function(){b.clientHeight&&u(b.scrollTop,"vertical")}),Et(T,"scroll",function(){T.clientWidth&&u(T.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,l&&h<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};gl.prototype.update=function(o){var u=o.scrollWidth>o.clientWidth+1,p=o.scrollHeight>o.clientHeight+1,b=o.nativeBarWidth;if(p){this.vert.style.display="block",this.vert.style.bottom=u?b+"px":"0";var T=o.viewHeight-(u?b:0);this.vert.firstChild.style.height=Math.max(0,o.scrollHeight-o.clientHeight+T)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(u){this.horiz.style.display="block",this.horiz.style.right=p?b+"px":"0",this.horiz.style.left=o.barLeft+"px";var M=o.viewWidth-o.barLeft-(p?b:0);this.horiz.firstChild.style.width=Math.max(0,o.scrollWidth-o.clientWidth+M)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&o.clientHeight>0&&(b==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:p?b:0,bottom:u?b:0}},gl.prototype.setScrollLeft=function(o){this.horiz.scrollLeft!=o&&(this.horiz.scrollLeft=o),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},gl.prototype.setScrollTop=function(o){this.vert.scrollTop!=o&&(this.vert.scrollTop=o),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},gl.prototype.zeroWidthHack=function(){var o=he&&!Y?"12px":"18px";this.horiz.style.height=this.vert.style.width=o,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Tt,this.disableVert=new Tt},gl.prototype.enableZeroWidthBar=function(o,u,p){o.style.visibility="";function b(){var T=o.getBoundingClientRect(),M=p=="vert"?document.elementFromPoint(T.right-1,(T.top+T.bottom)/2):document.elementFromPoint((T.right+T.left)/2,T.bottom-1);M!=o?o.style.visibility="hidden":u.set(1e3,b)}u.set(1e3,b)},gl.prototype.clear=function(){var o=this.horiz.parentNode;o.removeChild(this.horiz),o.removeChild(this.vert)};var Va=function(){};Va.prototype.update=function(){return{bottom:0,right:0}},Va.prototype.setScrollLeft=function(){},Va.prototype.setScrollTop=function(){},Va.prototype.clear=function(){};function is(o,u){u||(u=ml(o));var p=o.display.barWidth,b=o.display.barHeight;Of(o,u);for(var T=0;T<4&&p!=o.display.barWidth||b!=o.display.barHeight;T++)p!=o.display.barWidth&&o.options.lineWrapping&&lf(o),Of(o,ml(o)),p=o.display.barWidth,b=o.display.barHeight}function Of(o,u){var p=o.display,b=p.scrollbars.update(u);p.sizer.style.paddingRight=(p.barWidth=b.right)+"px",p.sizer.style.paddingBottom=(p.barHeight=b.bottom)+"px",p.heightForcer.style.borderBottom=b.bottom+"px solid transparent",b.right&&b.bottom?(p.scrollbarFiller.style.display="block",p.scrollbarFiller.style.height=b.bottom+"px",p.scrollbarFiller.style.width=b.right+"px"):p.scrollbarFiller.style.display="",b.bottom&&o.options.coverGutterNextToScrollbar&&o.options.fixedGutter?(p.gutterFiller.style.display="block",p.gutterFiller.style.height=b.bottom+"px",p.gutterFiller.style.width=u.gutterWidth+"px"):p.gutterFiller.style.display=""}var Ys={native:gl,null:Va};function hu(o){o.display.scrollbars&&(o.display.scrollbars.clear(),o.display.scrollbars.addClass&&be(o.display.wrapper,o.display.scrollbars.addClass)),o.display.scrollbars=new Ys[o.options.scrollbarStyle](function(u){o.display.wrapper.insertBefore(u,o.display.scrollbarFiller),Et(u,"mousedown",function(){o.state.focused&&setTimeout(function(){return o.display.input.focus()},0)}),u.setAttribute("cm-not-content","true")},function(u,p){p=="horizontal"?ha(o,u):lc(o,u)},o),o.display.scrollbars.addClass&&te(o.display.wrapper,o.display.scrollbars.addClass)}var cf=0;function js(o){o.curOp={cm:o,viewChanged:!1,startHeight:o.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++cf,markArrays:null},Bc(o.curOp)}function ys(o){var u=o.curOp;u&&tf(u,function(p){for(var b=0;b<p.ops.length;b++)p.ops[b].cm.curOp=null;ci(p)})}function ci(o){for(var u=o.ops,p=0;p<u.length;p++)wc(u[p]);for(var b=0;b<u.length;b++)Ru(u[b]);for(var T=0;T<u.length;T++)Zi(u[T]);for(var M=0;M<u.length;M++)Io(u[M]);for(var N=0;N<u.length;N++)da(u[N])}function wc(o){var u=o.cm,p=u.display;du(u),o.updateMaxLine&&zs(u),o.mustUpdate=o.viewChanged||o.forceUpdate||o.scrollTop!=null||o.scrollToPos&&(o.scrollToPos.from.line<p.viewFrom||o.scrollToPos.to.line>=p.viewTo)||p.maxLineChanged&&u.options.lineWrapping,o.update=o.mustUpdate&&new bs(u,o.mustUpdate&&{top:o.scrollTop,ensure:o.scrollToPos},o.forceUpdate)}function Ru(o){o.updatedDisplay=o.mustUpdate&&Hh(o.cm,o.update)}function Zi(o){var u=o.cm,p=u.display;o.updatedDisplay&&lf(u),o.barMeasure=ml(u),p.maxLineChanged&&!u.options.lineWrapping&&(o.adjustWidthTo=fl(u,p.maxLine,p.maxLine.text.length).left+3,u.display.sizerWidth=o.adjustWidthTo,o.barMeasure.scrollWidth=Math.max(p.scroller.clientWidth,p.sizer.offsetLeft+o.adjustWidthTo+Au(u)+u.display.barWidth),o.maxScrollLeft=Math.max(0,p.sizer.offsetLeft+o.adjustWidthTo-Ul(u))),(o.updatedDisplay||o.selectionChanged)&&(o.preparedSelection=p.input.prepareSelection())}function Io(o){var u=o.cm;o.adjustWidthTo!=null&&(u.display.sizer.style.minWidth=o.adjustWidthTo+"px",o.maxScrollLeft<u.doc.scrollLeft&&ha(u,Math.min(u.display.scroller.scrollLeft,o.maxScrollLeft),!0),u.display.maxLineChanged=!1);var p=o.focus&&o.focus==V(U(u));o.preparedSelection&&u.display.input.showSelection(o.preparedSelection,p),(o.updatedDisplay||o.startHeight!=u.doc.height)&&is(u,o.barMeasure),o.updatedDisplay&&uc(u,o.barMeasure),o.selectionChanged&&sf(u),u.state.focused&&o.updateInput&&u.display.input.reset(o.typing),p&&Lu(o.cm)}function da(o){var u=o.cm,p=u.display,b=u.doc;if(o.updatedDisplay&&If(u,o.update),p.wheelStartX!=null&&(o.scrollTop!=null||o.scrollLeft!=null||o.scrollToPos)&&(p.wheelStartX=p.wheelStartY=null),o.scrollTop!=null&&ns(u,o.scrollTop,o.forceScroll),o.scrollLeft!=null&&ha(u,o.scrollLeft,!0,!0),o.scrollToPos){var T=vs(u,fr(b,o.scrollToPos.from),fr(b,o.scrollToPos.to),o.scrollToPos.margin);Zr(u,T)}var M=o.maybeHiddenMarkers,N=o.maybeUnhiddenMarkers;if(M)for(var Z=0;Z<M.length;++Z)M[Z].lines.length||Vr(M[Z],"hide");if(N)for(var Q=0;Q<N.length;++Q)N[Q].lines.length&&Vr(N[Q],"unhide");p.wrapper.offsetHeight&&(b.scrollTop=u.display.scroller.scrollTop),o.changeObjs&&Vr(u,"changes",u,o.changeObjs),o.update&&o.update.finish()}function Be(o,u){if(o.curOp)return u();js(o);try{return u()}finally{ys(o)}}function yi(o,u){return function(){if(o.curOp)return u.apply(o,arguments);js(o);try{return u.apply(o,arguments)}finally{ys(o)}}}function Ea(o){return function(){if(this.curOp)return o.apply(this,arguments);js(this);try{return o.apply(this,arguments)}finally{ys(this)}}}function Rr(o){return function(){var u=this.cm;if(!u||u.curOp)return o.apply(this,arguments);js(u);try{return o.apply(this,arguments)}finally{ys(u)}}}function Sr(o,u){o.doc.highlightFrontier<o.display.viewTo&&o.state.highlight.set(u,Je(Dd,o))}function Dd(o){var u=o.doc;if(!(u.highlightFrontier>=o.display.viewTo)){var p=+new Date+o.options.workTime,b=zo(o,u.highlightFrontier),T=[];u.iter(b.line,Math.min(u.first+u.size,o.display.viewTo+500),function(M){if(b.line>=o.display.viewFrom){var N=M.styles,Z=M.text.length>o.options.maxHighlightLength?qe(u.mode,b.state):null,Q=sn(o,M,b,!0);Z&&(b.state=Z),M.styles=Q.styles;var ue=M.styleClasses,Ce=Q.classes;Ce?M.styleClasses=Ce:ue&&(M.styleClasses=null);for(var Re=!N||N.length!=M.styles.length||ue!=Ce&&(!ue||!Ce||ue.bgClass!=Ce.bgClass||ue.textClass!=Ce.textClass),it=0;!Re&&it<N.length;++it)Re=N[it]!=M.styles[it];Re&&T.push(b.line),M.stateAfter=b.save(),b.nextLine()}else M.text.length<=o.options.maxHighlightLength&&As(o,M.text,b),M.stateAfter=b.line%5==0?b.save():null,b.nextLine();if(+new Date>p)return Sr(o,o.options.workDelay),!0}),u.highlightFrontier=b.line,u.modeFrontier=Math.max(u.modeFrontier,b.line),T.length&&Be(o,function(){for(var M=0;M<T.length;M++)oc(o,T[M],"text")})}}var bs=function(o,u,p){var b=o.display;this.viewport=u,this.visible=na(b,o.doc,u),this.editorIsHidden=!b.wrapper.offsetWidth,this.wrapperHeight=b.wrapper.clientHeight,this.wrapperWidth=b.wrapper.clientWidth,this.oldDisplayWidth=Ul(o),this.force=p,this.dims=Mu(o),this.events=[]};bs.prototype.signal=function(o,u){mi(o,u)&&this.events.push(arguments)},bs.prototype.finish=function(){for(var o=0;o<this.events.length;o++)Vr.apply(null,this.events[o])};function du(o){var u=o.display;!u.scrollbarsClipped&&u.scroller.offsetWidth&&(u.nativeBarWidth=u.scroller.offsetWidth-u.scroller.clientWidth,u.heightForcer.style.height=Au(o)+"px",u.sizer.style.marginBottom=-u.nativeBarWidth+"px",u.sizer.style.borderRightWidth=Au(o)+"px",u.scrollbarsClipped=!0)}function ia(o){if(o.hasFocus())return null;var u=V(U(o));if(!u||!G(o.display.lineDiv,u))return null;var p={activeElt:u};if(window.getSelection){var b=Ue(o).getSelection();b.anchorNode&&b.extend&&G(o.display.lineDiv,b.anchorNode)&&(p.anchorNode=b.anchorNode,p.anchorOffset=b.anchorOffset,p.focusNode=b.focusNode,p.focusOffset=b.focusOffset)}return p}function Fu(o){if(!(!o||!o.activeElt||o.activeElt==V(o.activeElt.ownerDocument))&&(o.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(o.activeElt.nodeName)&&o.anchorNode&&G(document.body,o.anchorNode)&&G(document.body,o.focusNode))){var u=o.activeElt.ownerDocument,p=u.defaultView.getSelection(),b=u.createRange();b.setEnd(o.anchorNode,o.anchorOffset),b.collapse(!1),p.removeAllRanges(),p.addRange(b),p.extend(o.focusNode,o.focusOffset)}}function Hh(o,u){var p=o.display,b=o.doc;if(u.editorIsHidden)return dl(o),!1;if(!u.force&&u.visible.from>=p.viewFrom&&u.visible.to<=p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo)&&p.renderedView==p.view&&Mi(o)==0)return!1;Gl(o)&&(dl(o),u.dims=Mu(o));var T=b.first+b.size,M=Math.max(u.visible.from-o.options.viewportMargin,b.first),N=Math.min(T,u.visible.to+o.options.viewportMargin);p.viewFrom<M&&M-p.viewFrom<20&&(M=Math.max(b.first,p.viewFrom)),p.viewTo>N&&p.viewTo-N<20&&(N=Math.min(T,p.viewTo)),ii&&(M=Nl(o.doc,M),N=_a(o.doc,N));var Z=M!=p.viewFrom||N!=p.viewTo||p.lastWrapHeight!=u.wrapperHeight||p.lastWrapWidth!=u.wrapperWidth;ui(o,M,N),p.viewOffset=po(jt(o.doc,p.viewFrom)),o.display.mover.style.top=p.viewOffset+"px";var Q=Mi(o);if(!Z&&Q==0&&!u.force&&p.renderedView==p.view&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo))return!1;var ue=ia(o);return Q>4&&(p.lineDiv.style.display="none"),os(o,p.updateLineNumbers,u.dims),Q>4&&(p.lineDiv.style.display=""),p.renderedView=p.view,Fu(ue),$e(p.cursorDiv),$e(p.selectionDiv),p.gutters.style.height=p.sizer.style.minHeight=0,Z&&(p.lastWrapHeight=u.wrapperHeight,p.lastWrapWidth=u.wrapperWidth,Sr(o,400)),p.updateLineNumbers=null,!0}function If(o,u){for(var p=u.viewport,b=!0;;b=!1){if(!b||!o.options.lineWrapping||u.oldDisplayWidth==Ul(o)){if(p&&p.top!=null&&(p={top:Math.min(o.doc.height+tc(o.display)-Cd(o),p.top)}),u.visible=na(o.display,o.doc,p),u.visible.from>=o.display.viewFrom&&u.visible.to<=o.display.viewTo)break}else b&&(u.visible=na(o.display,o.doc,p));if(!Hh(o,u))break;lf(o);var T=ml(o);Ta(o),is(o,T),uc(o,T),u.force=!1}u.signal(o,"update",o),(o.display.viewFrom!=o.display.reportedViewFrom||o.display.viewTo!=o.display.reportedViewTo)&&(u.signal(o,"viewportChange",o,o.display.viewFrom,o.display.viewTo),o.display.reportedViewFrom=o.display.viewFrom,o.display.reportedViewTo=o.display.viewTo)}function Li(o,u){var p=new bs(o,u);if(Hh(o,p)){lf(o),If(o,p);var b=ml(o);Ta(o),is(o,b),uc(o,b),p.finish()}}function os(o,u,p){var b=o.display,T=o.options.lineNumbers,M=b.lineDiv,N=M.firstChild;function Z(wt){var zt=wt.nextSibling;return g&&he&&o.display.currentWheelTarget==wt?wt.style.display="none":wt.parentNode.removeChild(wt),zt}for(var Q=b.view,ue=b.viewFrom,Ce=0;Ce<Q.length;Ce++){var Re=Q[Ce];if(!Re.hidden)if(!Re.node||Re.node.parentNode!=M){var it=kd(o,Re,ue,p);M.insertBefore(it,N)}else{for(;N!=Re.node;)N=Z(N);var at=T&&u!=null&&u<=ue&&Re.lineNumber;Re.changes&&(Ht(Re.changes,"gutter")>-1&&(at=!1),zl(o,Re,ue,p)),at&&($e(Re.lineNumber),Re.lineNumber.appendChild(document.createTextNode(ie(o.options,ue)))),N=Re.node.nextSibling}ue+=Re.size}for(;N;)N=Z(N)}function pu(o){var u=o.gutters.offsetWidth;o.sizer.style.marginLeft=u+"px",wo(o,"gutterChanged",o)}function uc(o,u){o.display.sizer.style.minHeight=u.docHeight+"px",o.display.heightForcer.style.top=u.docHeight+"px",o.display.gutters.style.height=u.docHeight+o.display.barHeight+Au(o)+"px"}function Wh(o){var u=o.display,p=u.view;if(!(!u.alignWidgets&&(!u.gutters.firstChild||!o.options.fixedGutter))){for(var b=Wl(u)-u.scroller.scrollLeft+o.doc.scrollLeft,T=u.gutters.offsetWidth,M=b+"px",N=0;N<p.length;N++)if(!p[N].hidden){o.options.fixedGutter&&(p[N].gutter&&(p[N].gutter.style.left=M),p[N].gutterBackground&&(p[N].gutterBackground.style.left=M));var Z=p[N].alignable;if(Z)for(var Q=0;Q<Z.length;Q++)Z[Q].style.left=M}o.options.fixedGutter&&(u.gutters.style.left=b+T+"px")}}function Gl(o){if(!o.options.lineNumbers)return!1;var u=o.doc,p=ie(o.options,u.first+u.size-1),b=o.display;if(p.length!=b.lineNumChars){var T=b.measure.appendChild(ee("div",[ee("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),M=T.firstChild.offsetWidth,N=T.offsetWidth-M;return b.lineGutter.style.width="",b.lineNumInnerWidth=Math.max(M,b.lineGutter.offsetWidth-N)+1,b.lineNumWidth=b.lineNumInnerWidth+N,b.lineNumChars=b.lineNumInnerWidth?p.length:-1,b.lineGutter.style.width=b.lineNumWidth+"px",pu(o.display),!0}return!1}function Zs(o,u){for(var p=[],b=!1,T=0;T<o.length;T++){var M=o[T],N=null;if(typeof M!="string"&&(N=M.style,M=M.className),M=="CodeMirror-linenumbers")if(u)b=!0;else continue;p.push({className:M,style:N})}return u&&!b&&p.push({className:"CodeMirror-linenumbers",style:null}),p}function Sc(o){var u=o.gutters,p=o.gutterSpecs;$e(u),o.lineGutter=null;for(var b=0;b<p.length;++b){var T=p[b],M=T.className,N=T.style,Z=u.appendChild(ee("div",null,"CodeMirror-gutter "+M));N&&(Z.style.cssText=N),M=="CodeMirror-linenumbers"&&(o.lineGutter=Z,Z.style.width=(o.lineNumWidth||1)+"px")}u.style.display=p.length?"":"none",pu(o)}function Xi(o){Sc(o.display),ri(o),Wh(o)}function Vh(o,u,p,b){var T=this;this.input=p,T.scrollbarFiller=ee("div",null,"CodeMirror-scrollbar-filler"),T.scrollbarFiller.setAttribute("cm-not-content","true"),T.gutterFiller=ee("div",null,"CodeMirror-gutter-filler"),T.gutterFiller.setAttribute("cm-not-content","true"),T.lineDiv=R("div",null,"CodeMirror-code"),T.selectionDiv=ee("div",null,null,"position: relative; z-index: 1"),T.cursorDiv=ee("div",null,"CodeMirror-cursors"),T.measure=ee("div",null,"CodeMirror-measure"),T.lineMeasure=ee("div",null,"CodeMirror-measure"),T.lineSpace=R("div",[T.measure,T.lineMeasure,T.selectionDiv,T.cursorDiv,T.lineDiv],null,"position: relative; outline: none");var M=R("div",[T.lineSpace],"CodeMirror-lines");T.mover=ee("div",[M],null,"position: relative"),T.sizer=ee("div",[T.mover],"CodeMirror-sizer"),T.sizerWidth=null,T.heightForcer=ee("div",null,null,"position: absolute; height: "+Rt+"px; width: 1px;"),T.gutters=ee("div",null,"CodeMirror-gutters"),T.lineGutter=null,T.scroller=ee("div",[T.sizer,T.heightForcer,T.gutters],"CodeMirror-scroll"),T.scroller.setAttribute("tabIndex","-1"),T.wrapper=ee("div",[T.scrollbarFiller,T.gutterFiller,T.scroller],"CodeMirror"),C&&D>=105&&(T.wrapper.style.clipPath="inset(0px)"),T.wrapper.setAttribute("translate","no"),l&&h<8&&(T.gutters.style.zIndex=-1,T.scroller.style.paddingRight=0),!g&&!(t&&ne)&&(T.scroller.draggable=!0),o&&(o.appendChild?o.appendChild(T.wrapper):o(T.wrapper)),T.viewFrom=T.viewTo=u.first,T.reportedViewFrom=T.reportedViewTo=u.first,T.view=[],T.renderedView=null,T.externalMeasured=null,T.viewOffset=0,T.lastWrapHeight=T.lastWrapWidth=0,T.updateLineNumbers=null,T.nativeBarWidth=T.barHeight=T.barWidth=0,T.scrollbarsClipped=!1,T.lineNumWidth=T.lineNumInnerWidth=T.lineNumChars=null,T.alignWidgets=!1,T.cachedCharWidth=T.cachedTextHeight=T.cachedPaddingH=null,T.maxLine=null,T.maxLineLength=0,T.maxLineChanged=!1,T.wheelDX=T.wheelDY=T.wheelStartX=T.wheelStartY=null,T.shift=!1,T.selForContextMenu=null,T.activeTouch=null,T.gutterSpecs=Zs(b.gutters,b.lineNumbers),Sc(T),p.init(T)}var jc=0,Kl=null;l?Kl=-.53:t?Kl=15:C?Kl=-.7:z&&(Kl=-1/3);function Xs(o){var u=o.wheelDeltaX,p=o.wheelDeltaY;return u==null&&o.detail&&o.axis==o.HORIZONTAL_AXIS&&(u=o.detail),p==null&&o.detail&&o.axis==o.VERTICAL_AXIS?p=o.detail:p==null&&(p=o.wheelDelta),{x:u,y:p}}function Fi(o){var u=Xs(o);return u.x*=Kl,u.y*=Kl,u}function pa(o,u){C&&D==102&&(o.display.chromeScrollHack==null?o.display.sizer.style.pointerEvents="none":clearTimeout(o.display.chromeScrollHack),o.display.chromeScrollHack=setTimeout(function(){o.display.chromeScrollHack=null,o.display.sizer.style.pointerEvents=""},100));var p=Xs(u),b=p.x,T=p.y,M=Kl;u.deltaMode===0&&(b=u.deltaX,T=u.deltaY,M=1);var N=o.display,Z=N.scroller,Q=Z.scrollWidth>Z.clientWidth,ue=Z.scrollHeight>Z.clientHeight;if(!!(b&&Q||T&&ue)){if(T&&he&&g){e:for(var Ce=u.target,Re=N.view;Ce!=Z;Ce=Ce.parentNode)for(var it=0;it<Re.length;it++)if(Re[it].node==Ce){o.display.currentWheelTarget=Ce;break e}}if(b&&!t&&!F&&M!=null){T&&ue&&lc(o,Math.max(0,Z.scrollTop+T*M)),ha(o,Math.max(0,Z.scrollLeft+b*M)),(!T||T&&ue)&&gi(u),N.wheelStartX=null;return}if(T&&M!=null){var at=T*M,wt=o.doc.scrollTop,zt=wt+N.wrapper.clientHeight;at<0?wt=Math.max(0,wt+at-50):zt=Math.min(o.doc.height,zt+at+50),Li(o,{top:wt,bottom:zt})}jc<20&&u.deltaMode!==0&&(N.wheelStartX==null?(N.wheelStartX=Z.scrollLeft,N.wheelStartY=Z.scrollTop,N.wheelDX=b,N.wheelDY=T,setTimeout(function(){if(N.wheelStartX!=null){var $t=Z.scrollLeft-N.wheelStartX,or=Z.scrollTop-N.wheelStartY,dr=or&&N.wheelDY&&or/N.wheelDY||$t&&N.wheelDX&&$t/N.wheelDX;N.wheelStartX=N.wheelStartY=null,dr&&(Kl=(Kl*jc+dr)/(jc+1),++jc)}},200)):(N.wheelDX+=b,N.wheelDY+=T))}}var qa=function(o,u){this.ranges=o,this.primIndex=u};qa.prototype.primary=function(){return this.ranges[this.primIndex]},qa.prototype.equals=function(o){if(o==this)return!0;if(o.primIndex!=this.primIndex||o.ranges.length!=this.ranges.length)return!1;for(var u=0;u<this.ranges.length;u++){var p=this.ranges[u],b=o.ranges[u];if(!dt(p.anchor,b.anchor)||!dt(p.head,b.head))return!1}return!0},qa.prototype.deepCopy=function(){for(var o=[],u=0;u<this.ranges.length;u++)o[u]=new oi(Gt(this.ranges[u].anchor),Gt(this.ranges[u].head));return new qa(o,this.primIndex)},qa.prototype.somethingSelected=function(){for(var o=0;o<this.ranges.length;o++)if(!this.ranges[o].empty())return!0;return!1},qa.prototype.contains=function(o,u){u||(u=o);for(var p=0;p<this.ranges.length;p++){var b=this.ranges[p];if(Ge(u,b.from())>=0&&Ge(o,b.to())<=0)return p}return-1};var oi=function(o,u){this.anchor=o,this.head=u};oi.prototype.from=function(){return Or(this.anchor,this.head)},oi.prototype.to=function(){return tr(this.anchor,this.head)},oi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Mo(o,u,p){var b=o&&o.options.selectionsMayTouch,T=u[p];u.sort(function(it,at){return Ge(it.from(),at.from())}),p=Ht(u,T);for(var M=1;M<u.length;M++){var N=u[M],Z=u[M-1],Q=Ge(Z.to(),N.from());if(b&&!N.empty()?Q>0:Q>=0){var ue=Or(Z.from(),N.from()),Ce=tr(Z.to(),N.to()),Re=Z.empty()?N.from()==N.head:Z.from()==Z.head;M<=p&&--p,u.splice(--M,2,new oi(Re?Ce:ue,Re?ue:Ce))}}return new qa(u,p)}function mu(o,u){return new qa([new oi(o,u||o)],0)}function Js(o){return o.text?ye(o.from.line+o.text.length-1,ce(o.text).length+(o.text.length==1?o.from.ch:0)):o.to}function gu(o,u){if(Ge(o,u.from)<0)return o;if(Ge(o,u.to)<=0)return Js(u);var p=o.line+u.text.length-(u.to.line-u.from.line)-1,b=o.ch;return o.line==u.to.line&&(b+=Js(u).ch-u.to.ch),ye(p,b)}function Mf(o,u){for(var p=[],b=0;b<o.sel.ranges.length;b++){var T=o.sel.ranges[b];p.push(new oi(gu(T.anchor,u),gu(T.head,u)))}return Mo(o.cm,p,o.sel.primIndex)}function Tc(o,u,p){return o.line==u.line?ye(p.line,o.ch-u.ch+p.ch):ye(p.line+(o.line-u.line),o.ch)}function $h(o,u,p){for(var b=[],T=ye(o.first,0),M=T,N=0;N<u.length;N++){var Z=u[N],Q=Tc(Z.from,T,M),ue=Tc(Js(Z),T,M);if(T=Z.to,M=ue,p=="around"){var Ce=o.sel.ranges[N],Re=Ge(Ce.head,Ce.anchor)<0;b[N]=new oi(Re?ue:Q,Re?Q:ue)}else b[N]=new oi(Q,Q)}return new qa(b,o.sel.primIndex)}function Hc(o){o.doc.mode=ot(o.options,o.doc.modeOption),m(o)}function m(o){o.doc.iter(function(u){u.stateAfter&&(u.stateAfter=null),u.styles&&(u.styles=null)}),o.doc.modeFrontier=o.doc.highlightFrontier=o.doc.first,Sr(o,100),o.state.modeGen++,o.curOp&&ri(o)}function x(o,u){return u.from.ch==0&&u.to.ch==0&&ce(u.text)==""&&(!o.cm||o.cm.options.wholeLineUpdateBefore)}function y(o,u,p,b){function T(dr){return p?p[dr]:null}function M(dr,ur,xr){kf(dr,ur,xr,b),wo(dr,"change",dr,u)}function N(dr,ur){for(var xr=[],Jr=dr;Jr<ur;++Jr)xr.push(new Uo(ue[Jr],T(Jr),b));return xr}var Z=u.from,Q=u.to,ue=u.text,Ce=jt(o,Z.line),Re=jt(o,Q.line),it=ce(ue),at=T(ue.length-1),wt=Q.line-Z.line;if(u.full)o.insert(0,N(0,ue.length)),o.remove(ue.length,o.size-ue.length);else if(x(o,u)){var zt=N(0,ue.length-1);M(Re,Re.text,at),wt&&o.remove(Z.line,wt),zt.length&&o.insert(Z.line,zt)}else if(Ce==Re)if(ue.length==1)M(Ce,Ce.text.slice(0,Z.ch)+it+Ce.text.slice(Q.ch),at);else{var $t=N(1,ue.length-1);$t.push(new Uo(it+Ce.text.slice(Q.ch),at,b)),M(Ce,Ce.text.slice(0,Z.ch)+ue[0],T(0)),o.insert(Z.line+1,$t)}else if(ue.length==1)M(Ce,Ce.text.slice(0,Z.ch)+ue[0]+Re.text.slice(Q.ch),T(0)),o.remove(Z.line+1,wt);else{M(Ce,Ce.text.slice(0,Z.ch)+ue[0],T(0)),M(Re,it+Re.text.slice(Q.ch),at);var or=N(1,ue.length-1);wt>1&&o.remove(Z.line+1,wt-1),o.insert(Z.line+1,or)}wo(o,"change",o,u)}function k(o,u,p){function b(T,M,N){if(T.linked)for(var Z=0;Z<T.linked.length;++Z){var Q=T.linked[Z];if(Q.doc!=M){var ue=N&&Q.sharedHist;p&&!ue||(u(Q.doc,ue),b(Q.doc,T,ue))}}}b(o,null,!0)}function P(o,u){if(u.cm)throw new Error("This document is already in use.");o.doc=u,u.cm=o,Jn(o),Hc(o),H(o),o.options.direction=u.direction,o.options.lineWrapping||zs(o),o.options.mode=u.modeOption,ri(o)}function H(o){(o.doc.direction=="rtl"?te:be)(o.display.lineDiv,"CodeMirror-rtl")}function X(o){Be(o,function(){H(o),ri(o)})}function ae(o){this.done=[],this.undone=[],this.undoDepth=o?o.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=o?o.maxGeneration:1}function xe(o,u){var p={from:Gt(u.from),to:Js(u),text:Bt(o,u.from,u.to)};return vt(o,p,u.from.line,u.to.line+1),k(o,function(b){return vt(b,p,u.from.line,u.to.line+1)},!0),p}function Oe(o){for(;o.length;){var u=ce(o);if(u.ranges)o.pop();else break}}function He(o,u){if(u)return Oe(o.done),ce(o.done);if(o.done.length&&!ce(o.done).ranges)return ce(o.done);if(o.done.length>1&&!o.done[o.done.length-2].ranges)return o.done.pop(),ce(o.done)}function We(o,u,p,b){var T=o.history;T.undone.length=0;var M=+new Date,N,Z;if((T.lastOp==b||T.lastOrigin==u.origin&&u.origin&&(u.origin.charAt(0)=="+"&&T.lastModTime>M-(o.cm?o.cm.options.historyEventDelay:500)||u.origin.charAt(0)=="*"))&&(N=He(T,T.lastOp==b)))Z=ce(N.changes),Ge(u.from,u.to)==0&&Ge(u.from,Z.to)==0?Z.to=Js(u):N.changes.push(xe(o,u));else{var Q=ce(T.done);for((!Q||!Q.ranges)&&lt(o.sel,T.done),N={changes:[xe(o,u)],generation:T.generation},T.done.push(N);T.done.length>T.undoDepth;)T.done.shift(),T.done[0].ranges||T.done.shift()}T.done.push(p),T.generation=++T.maxGeneration,T.lastModTime=T.lastSelTime=M,T.lastOp=T.lastSelOp=b,T.lastOrigin=T.lastSelOrigin=u.origin,Z||Vr(o,"historyAdded")}function Ze(o,u,p,b){var T=u.charAt(0);return T=="*"||T=="+"&&p.ranges.length==b.ranges.length&&p.somethingSelected()==b.somethingSelected()&&new Date-o.history.lastSelTime<=(o.cm?o.cm.options.historyEventDelay:500)}function ht(o,u,p,b){var T=o.history,M=b&&b.origin;p==T.lastSelOp||M&&T.lastSelOrigin==M&&(T.lastModTime==T.lastSelTime&&T.lastOrigin==M||Ze(o,M,ce(T.done),u))?T.done[T.done.length-1]=u:lt(u,T.done),T.lastSelTime=+new Date,T.lastSelOrigin=M,T.lastSelOp=p,b&&b.clearRedo!==!1&&Oe(T.undone)}function lt(o,u){var p=ce(u);p&&p.ranges&&p.equals(o)||u.push(o)}function vt(o,u,p,b){var T=u["spans_"+o.id],M=0;o.iter(Math.max(o.first,p),Math.min(o.first+o.size,b),function(N){N.markedSpans&&((T||(T=u["spans_"+o.id]={}))[M]=N.markedSpans),++M})}function nt(o){if(!o)return null;for(var u,p=0;p<o.length;++p)o[p].marker.explicitlyCleared?u||(u=o.slice(0,p)):u&&u.push(o[p]);return u?u.length?u:null:o}function bt(o,u){var p=u["spans_"+o.id];if(!p)return null;for(var b=[],T=0;T<u.text.length;++T)b.push(nt(p[T]));return b}function St(o,u){var p=bt(o,u),b=Ai(o,u);if(!p)return b;if(!b)return p;for(var T=0;T<p.length;++T){var M=p[T],N=b[T];if(M&&N){e:for(var Z=0;Z<N.length;++Z){for(var Q=N[Z],ue=0;ue<M.length;++ue)if(M[ue].marker==Q.marker)continue e;M.push(Q)}}else N&&(p[T]=N)}return p}function Ft(o,u,p){for(var b=[],T=0;T<o.length;++T){var M=o[T];if(M.ranges){b.push(p?qa.prototype.deepCopy.call(M):M);continue}var N=M.changes,Z=[];b.push({changes:Z});for(var Q=0;Q<N.length;++Q){var ue=N[Q],Ce=void 0;if(Z.push({from:ue.from,to:ue.to,text:ue.text}),u)for(var Re in ue)(Ce=Re.match(/^spans_(\d+)$/))&&Ht(u,Number(Ce[1]))>-1&&(ce(Z)[Re]=ue[Re],delete ue[Re])}}return b}function rr(o,u,p,b){if(b){var T=o.anchor;if(p){var M=Ge(u,T)<0;M!=Ge(p,T)<0?(T=u,u=p):M!=Ge(u,p)<0&&(u=p)}return new oi(T,u)}else return new oi(p||u,u)}function Jt(o,u,p,b,T){T==null&&(T=o.cm&&(o.cm.display.shift||o.extend)),Gr(o,new qa([rr(o.sel.primary(),u,p,T)],0),b)}function Zt(o,u,p){for(var b=[],T=o.cm&&(o.cm.display.shift||o.extend),M=0;M<o.sel.ranges.length;M++)b[M]=rr(o.sel.ranges[M],u[M],null,T);var N=Mo(o.cm,b,o.sel.primIndex);Gr(o,N,p)}function mr(o,u,p,b){var T=o.sel.ranges.slice(0);T[u]=p,Gr(o,Mo(o.cm,T,o.sel.primIndex),b)}function yr(o,u,p,b){Gr(o,mu(u,p),b)}function br(o,u,p){var b={ranges:u.ranges,update:function(T){this.ranges=[];for(var M=0;M<T.length;M++)this.ranges[M]=new oi(fr(o,T[M].anchor),fr(o,T[M].head))},origin:p&&p.origin};return Vr(o,"beforeSelectionChange",o,b),o.cm&&Vr(o.cm,"beforeSelectionChange",o.cm,b),b.ranges!=u.ranges?Mo(o.cm,b.ranges,b.ranges.length-1):u}function $r(o,u,p){var b=o.history.done,T=ce(b);T&&T.ranges?(b[b.length-1]=u,hn(o,u,p)):Gr(o,u,p)}function Gr(o,u,p){hn(o,u,p),ht(o,o.sel,o.cm?o.cm.curOp.id:NaN,p)}function hn(o,u,p){(mi(o,"beforeSelectionChange")||o.cm&&mi(o.cm,"beforeSelectionChange"))&&(u=br(o,u,p));var b=p&&p.bias||(Ge(u.primary().head,o.sel.primary().head)<0?-1:1);dn(o,Kr(o,u,b,!0)),!(p&&p.scroll===!1)&&o.cm&&o.cm.getOption("readOnly")!="nocursor"&&Ra(o.cm)}function dn(o,u){u.equals(o.sel)||(o.sel=u,o.cm&&(o.cm.curOp.updateInput=1,o.cm.curOp.selectionChanged=!0,Rn(o.cm)),wo(o,"cursorActivity",o))}function Bn(o){dn(o,Kr(o,o.sel,null,!1))}function Kr(o,u,p,b){for(var T,M=0;M<u.ranges.length;M++){var N=u.ranges[M],Z=u.ranges.length==o.sel.ranges.length&&o.sel.ranges[M],Q=Vn(o,N.anchor,Z&&Z.anchor,p,b),ue=N.head==N.anchor?Q:Vn(o,N.head,Z&&Z.head,p,b);(T||Q!=N.anchor||ue!=N.head)&&(T||(T=u.ranges.slice(0,M)),T[M]=new oi(Q,ue))}return T?Mo(o.cm,T,u.primIndex):u}function Mn(o,u,p,b,T){var M=jt(o,u.line);if(M.markedSpans)for(var N=0;N<M.markedSpans.length;++N){var Z=M.markedSpans[N],Q=Z.marker,ue="selectLeft"in Q?!Q.selectLeft:Q.inclusiveLeft,Ce="selectRight"in Q?!Q.selectRight:Q.inclusiveRight;if((Z.from==null||(ue?Z.from<=u.ch:Z.from<u.ch))&&(Z.to==null||(Ce?Z.to>=u.ch:Z.to>u.ch))){if(T&&(Vr(Q,"beforeCursorEnter"),Q.explicitlyCleared))if(M.markedSpans){--N;continue}else break;if(!Q.atomic)continue;if(p){var Re=Q.find(b<0?1:-1),it=void 0;if((b<0?Ce:ue)&&(Re=On(o,Re,-b,Re&&Re.line==u.line?M:null)),Re&&Re.line==u.line&&(it=Ge(Re,p))&&(b<0?it<0:it>0))return Mn(o,Re,u,b,T)}var at=Q.find(b<0?-1:1);return(b<0?ue:Ce)&&(at=On(o,at,b,at.line==u.line?M:null)),at?Mn(o,at,u,b,T):null}}return u}function Vn(o,u,p,b,T){var M=b||1,N=Mn(o,u,p,M,T)||!T&&Mn(o,u,p,M,!0)||Mn(o,u,p,-M,T)||!T&&Mn(o,u,p,-M,!0);return N||(o.cantEdit=!0,ye(o.first,0))}function On(o,u,p,b){return p<0&&u.ch==0?u.line>o.first?fr(o,ye(u.line-1)):null:p>0&&u.ch==(b||jt(o,u.line)).text.length?u.line<o.first+o.size-1?ye(u.line+1,0):null:new ye(u.line,u.ch+p)}function Ln(o){o.setSelection(ye(o.firstLine(),0),ye(o.lastLine()),cr)}function Hn(o,u,p){var b={canceled:!1,from:u.from,to:u.to,text:u.text,origin:u.origin,cancel:function(){return b.canceled=!0}};return p&&(b.update=function(T,M,N,Z){T&&(b.from=fr(o,T)),M&&(b.to=fr(o,M)),N&&(b.text=N),Z!==void 0&&(b.origin=Z)}),Vr(o,"beforeChange",o,b),o.cm&&Vr(o.cm,"beforeChange",o.cm,b),b.canceled?(o.cm&&(o.cm.curOp.updateInput=2),null):{from:b.from,to:b.to,text:b.text,origin:b.origin}}function vn(o,u,p){if(o.cm){if(!o.cm.curOp)return yi(o.cm,vn)(o,u,p);if(o.cm.state.suppressEdits)return}if(!((mi(o,"beforeChange")||o.cm&&mi(o.cm,"beforeChange"))&&(u=Hn(o,u,!0),!u))){var b=Do&&!p&&Vt(o,u.from,u.to);if(b)for(var T=b.length-1;T>=0;--T)xn(o,{from:b[T].from,to:b[T].to,text:T?[""]:u.text,origin:u.origin});else xn(o,u)}}function xn(o,u){if(!(u.text.length==1&&u.text[0]==""&&Ge(u.from,u.to)==0)){var p=Mf(o,u);We(o,u,p,o.cm?o.cm.curOp.id:NaN),Qo(o,u,p,Ai(o,u));var b=[];k(o,function(T,M){!M&&Ht(b,T.history)==-1&&($a(T.history,u),b.push(T.history)),Qo(T,u,null,Ai(T,u))})}}function ka(o,u,p){var b=o.cm&&o.cm.state.suppressEdits;if(!(b&&!p)){for(var T=o.history,M,N=o.sel,Z=u=="undo"?T.done:T.undone,Q=u=="undo"?T.undone:T.done,ue=0;ue<Z.length&&(M=Z[ue],!(p?M.ranges&&!M.equals(o.sel):!M.ranges));ue++);if(ue!=Z.length){for(T.lastOrigin=T.lastSelOrigin=null;;)if(M=Z.pop(),M.ranges){if(lt(M,Q),p&&!M.equals(o.sel)){Gr(o,M,{clearRedo:!1});return}N=M}else if(b){Z.push(M);return}else break;var Ce=[];lt(N,Q),Q.push({changes:Ce,generation:T.generation}),T.generation=M.generation||++T.maxGeneration;for(var Re=mi(o,"beforeChange")||o.cm&&mi(o.cm,"beforeChange"),it=function(zt){var $t=M.changes[zt];if($t.origin=u,Re&&!Hn(o,$t,!1))return Z.length=0,{};Ce.push(xe(o,$t));var or=zt?Mf(o,$t):ce(Z);Qo(o,$t,or,St(o,$t)),!zt&&o.cm&&o.cm.scrollIntoView({from:$t.from,to:Js($t)});var dr=[];k(o,function(ur,xr){!xr&&Ht(dr,ur.history)==-1&&($a(ur.history,$t),dr.push(ur.history)),Qo(ur,$t,null,St(ur,$t))})},at=M.changes.length-1;at>=0;--at){var wt=it(at);if(wt)return wt.v}}}}function So(o,u){if(u!=0&&(o.first+=u,o.sel=new qa(Te(o.sel.ranges,function(T){return new oi(ye(T.anchor.line+u,T.anchor.ch),ye(T.head.line+u,T.head.ch))}),o.sel.primIndex),o.cm)){ri(o.cm,o.first,o.first-u,u);for(var p=o.cm.display,b=p.viewFrom;b<p.viewTo;b++)oc(o.cm,b,"gutter")}}function Qo(o,u,p,b){if(o.cm&&!o.cm.curOp)return yi(o.cm,Qo)(o,u,p,b);if(u.to.line<o.first){So(o,u.text.length-1-(u.to.line-u.from.line));return}if(!(u.from.line>o.lastLine())){if(u.from.line<o.first){var T=u.text.length-1-(o.first-u.from.line);So(o,T),u={from:ye(o.first,0),to:ye(u.to.line+T,u.to.ch),text:[ce(u.text)],origin:u.origin}}var M=o.lastLine();u.to.line>M&&(u={from:u.from,to:ye(M,jt(o,M).text.length),text:[u.text[0]],origin:u.origin}),u.removed=Bt(o,u.from,u.to),p||(p=Mf(o,u)),o.cm?as(o.cm,u,b):y(o,u,b),hn(o,p,cr),o.cantEdit&&Vn(o,ye(o.firstLine(),0))&&(o.cantEdit=!1)}}function as(o,u,p){var b=o.doc,T=o.display,M=u.from,N=u.to,Z=!1,Q=M.line;o.options.lineWrapping||(Q=je(rs(jt(b,M.line))),b.iter(Q,N.line+1,function(at){if(at==T.maxLine)return Z=!0,!0})),b.sel.contains(u.from,u.to)>-1&&Rn(o),y(b,u,p,cu(o)),o.options.lineWrapping||(b.iter(Q,M.line+u.text.length,function(at){var wt=ef(at);wt>T.maxLineLength&&(T.maxLine=at,T.maxLineLength=wt,T.maxLineChanged=!0,Z=!1)}),Z&&(o.curOp.updateMaxLine=!0)),Ki(b,M.line),Sr(o,400);var ue=u.text.length-(N.line-M.line)-1;u.full?ri(o):M.line==N.line&&u.text.length==1&&!x(o.doc,u)?oc(o,M.line,"text"):ri(o,M.line,N.line+1,ue);var Ce=mi(o,"changes"),Re=mi(o,"change");if(Re||Ce){var it={from:M,to:N,text:u.text,removed:u.removed,origin:u.origin};Re&&wo(o,"change",o,it),Ce&&(o.curOp.changeObjs||(o.curOp.changeObjs=[])).push(it)}o.display.selForContextMenu=null}function _o(o,u,p,b,T){var M;b||(b=p),Ge(b,p)<0&&(M=[b,p],p=M[0],b=M[1]),typeof u=="string"&&(u=o.splitLines(u)),vn(o,{from:p,to:b,text:u,origin:T})}function To(o,u,p,b){p<o.line?o.line+=b:u<o.line&&(o.line=u,o.ch=0)}function ss(o,u,p,b){for(var T=0;T<o.length;++T){var M=o[T],N=!0;if(M.ranges){M.copied||(M=o[T]=M.deepCopy(),M.copied=!0);for(var Z=0;Z<M.ranges.length;Z++)To(M.ranges[Z].anchor,u,p,b),To(M.ranges[Z].head,u,p,b);continue}for(var Q=0;Q<M.changes.length;++Q){var ue=M.changes[Q];if(p<ue.from.line)ue.from=ye(ue.from.line+b,ue.from.ch),ue.to=ye(ue.to.line+b,ue.to.ch);else if(u<=ue.to.line){N=!1;break}}N||(o.splice(0,T+1),T=0)}}function $a(o,u){var p=u.from.line,b=u.to.line,T=u.text.length-(b-p)-1;ss(o.done,p,b,T),ss(o.undone,p,b,T)}function Qs(o,u,p,b){var T=u,M=u;return typeof u=="number"?M=jt(o,Ur(o,u)):T=je(u),T==null?null:(b(M,T)&&o.cm&&oc(o.cm,T,p),M)}function ls(o){this.lines=o,this.parent=null;for(var u=0,p=0;p<o.length;++p)o[p].parent=this,u+=o[p].height;this.height=u}ls.prototype={chunkSize:function(){return this.lines.length},removeInner:function(o,u){for(var p=o,b=o+u;p<b;++p){var T=this.lines[p];this.height-=T.height,wd(T),wo(T,"delete")}this.lines.splice(o,u)},collapse:function(o){o.push.apply(o,this.lines)},insertInner:function(o,u,p){this.height+=p,this.lines=this.lines.slice(0,o).concat(u).concat(this.lines.slice(o));for(var b=0;b<u.length;++b)u[b].parent=this},iterN:function(o,u,p){for(var b=o+u;o<b;++o)if(p(this.lines[o]))return!0}};function el(o){this.children=o;for(var u=0,p=0,b=0;b<o.length;++b){var T=o[b];u+=T.chunkSize(),p+=T.height,T.parent=this}this.size=u,this.height=p,this.parent=null}el.prototype={chunkSize:function(){return this.size},removeInner:function(o,u){this.size-=u;for(var p=0;p<this.children.length;++p){var b=this.children[p],T=b.chunkSize();if(o<T){var M=Math.min(u,T-o),N=b.height;if(b.removeInner(o,M),this.height-=N-b.height,T==M&&(this.children.splice(p--,1),b.parent=null),(u-=M)==0)break;o=0}else o-=T}if(this.size-u<25&&(this.children.length>1||!(this.children[0]instanceof ls))){var Z=[];this.collapse(Z),this.children=[new ls(Z)],this.children[0].parent=this}},collapse:function(o){for(var u=0;u<this.children.length;++u)this.children[u].collapse(o)},insertInner:function(o,u,p){this.size+=u.length,this.height+=p;for(var b=0;b<this.children.length;++b){var T=this.children[b],M=T.chunkSize();if(o<=M){if(T.insertInner(o,u,p),T.lines&&T.lines.length>50){for(var N=T.lines.length%25+25,Z=N;Z<T.lines.length;){var Q=new ls(T.lines.slice(Z,Z+=25));T.height-=Q.height,this.children.splice(++b,0,Q),Q.parent=this}T.lines=T.lines.slice(0,N),this.maybeSpill()}break}o-=M}},maybeSpill:function(){if(!(this.children.length<=10)){var o=this;do{var u=o.children.splice(o.children.length-5,5),p=new el(u);if(o.parent){o.size-=p.size,o.height-=p.height;var T=Ht(o.parent.children,o);o.parent.children.splice(T+1,0,p)}else{var b=new el(o.children);b.parent=o,o.children=[b,p],o=b}p.parent=o.parent}while(o.children.length>10);o.parent.maybeSpill()}},iterN:function(o,u,p){for(var b=0;b<this.children.length;++b){var T=this.children[b],M=T.chunkSize();if(o<M){var N=Math.min(u,M-o);if(T.iterN(o,N,p))return!0;if((u-=N)==0)break;o=0}else o-=M}}};var xs=function(o,u,p){if(p)for(var b in p)p.hasOwnProperty(b)&&(this[b]=p[b]);this.doc=o,this.node=u};xs.prototype.clear=function(){var o=this.doc.cm,u=this.line.widgets,p=this.line,b=je(p);if(!(b==null||!u)){for(var T=0;T<u.length;++T)u[T]==this&&u.splice(T--,1);u.length||(p.widgets=null);var M=ra(this);Ae(p,Math.max(0,p.height-M)),o&&(Be(o,function(){vu(o,p,-M),oc(o,b,"widget")}),wo(o,"lineWidgetCleared",o,this,b))}},xs.prototype.changed=function(){var o=this,u=this.height,p=this.doc.cm,b=this.line;this.height=null;var T=ra(this)-u;!T||(Ds(this.doc,b)||Ae(b,b.height+T),p&&Be(p,function(){p.curOp.forceUpdate=!0,vu(p,b,T),wo(p,"lineWidgetChanged",p,o,je(b))}))},fo(xs);function vu(o,u,p){po(u)<(o.curOp&&o.curOp.scrollTop||o.doc.scrollTop)&&$l(o,p)}function yu(o,u,p,b){var T=new xs(o,p,b),M=o.cm;return M&&T.noHScroll&&(M.display.alignWidgets=!0),Qs(o,u,"widget",function(N){var Z=N.widgets||(N.widgets=[]);if(T.insertAt==null?Z.push(T):Z.splice(Math.min(Z.length,Math.max(0,T.insertAt)),0,T),T.line=N,M&&!Ds(o,N)){var Q=po(N)<o.scrollTop;Ae(N,N.height+ra(T)),Q&&$l(M,T.height),M.curOp.forceUpdate=!0}return!0}),M&&wo(M,"lineWidgetAdded",M,T,typeof u=="number"?u:je(u)),T}var Yl=0,Zl=function(o,u){this.lines=[],this.type=u,this.doc=o,this.id=++Yl};Zl.prototype.clear=function(){if(!this.explicitlyCleared){var o=this.doc.cm,u=o&&!o.curOp;if(u&&js(o),mi(this,"clear")){var p=this.find();p&&wo(this,"clear",p.from,p.to)}for(var b=null,T=null,M=0;M<this.lines.length;++M){var N=this.lines[M],Z=ro(N.markedSpans,this);o&&!this.collapsed?oc(o,je(N),"text"):o&&(Z.to!=null&&(T=je(N)),Z.from!=null&&(b=je(N))),N.markedSpans=Qc(N.markedSpans,Z),Z.from==null&&this.collapsed&&!Ds(this.doc,N)&&o&&Ae(N,Iu(o.display))}if(o&&this.collapsed&&!o.options.lineWrapping)for(var Q=0;Q<this.lines.length;++Q){var ue=rs(this.lines[Q]),Ce=ef(ue);Ce>o.display.maxLineLength&&(o.display.maxLine=ue,o.display.maxLineLength=Ce,o.display.maxLineChanged=!0)}b!=null&&o&&this.collapsed&&ri(o,b,T+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,o&&Bn(o.doc)),o&&wo(o,"markerCleared",o,this,b,T),u&&ys(o),this.parent&&this.parent.clear()}},Zl.prototype.find=function(o,u){o==null&&this.type=="bookmark"&&(o=1);for(var p,b,T=0;T<this.lines.length;++T){var M=this.lines[T],N=ro(M.markedSpans,this);if(N.from!=null&&(p=ye(u?M:je(M),N.from),o==-1))return p;if(N.to!=null&&(b=ye(u?M:je(M),N.to),o==1))return b}return p&&{from:p,to:b}},Zl.prototype.changed=function(){var o=this,u=this.find(-1,!0),p=this,b=this.doc.cm;!u||!b||Be(b,function(){var T=u.line,M=je(u.line),N=mo(b,M);if(N&&(lu(N),b.curOp.selectionChanged=b.curOp.forceUpdate=!0),b.curOp.updateMaxLine=!0,!Ds(p.doc,T)&&p.height!=null){var Z=p.height;p.height=null;var Q=ra(p)-Z;Q&&Ae(T,T.height+Q)}wo(b,"markerChanged",b,o)})},Zl.prototype.attachLine=function(o){if(!this.lines.length&&this.doc.cm){var u=this.doc.cm.curOp;(!u.maybeHiddenMarkers||Ht(u.maybeHiddenMarkers,this)==-1)&&(u.maybeUnhiddenMarkers||(u.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(o)},Zl.prototype.detachLine=function(o){if(this.lines.splice(Ht(this.lines,o),1),!this.lines.length&&this.doc.cm){var u=this.doc.cm.curOp;(u.maybeHiddenMarkers||(u.maybeHiddenMarkers=[])).push(this)}},fo(Zl);function qu(o,u,p,b,T){if(b&&b.shared)return Gh(o,u,p,b,T);if(o.cm&&!o.cm.curOp)return yi(o.cm,qu)(o,u,p,b,T);var M=new Zl(o,T),N=Ge(u,p);if(b&&Qe(b,M,!1),N>0||N==0&&M.clearWhenEmpty!==!1)return M;if(M.replacedWith&&(M.collapsed=!0,M.widgetNode=R("span",[M.replacedWith],"CodeMirror-widget"),b.handleMouseEvents||M.widgetNode.setAttribute("cm-ignore-events","true"),b.insertLeft&&(M.widgetNode.insertLeft=!0)),M.collapsed){if(ou(o,u.line,u,p,M)||u.line!=p.line&&ou(o,p.line,u,p,M))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ua()}M.addToHistory&&We(o,{from:u,to:p,origin:"markText"},o.sel,NaN);var Z=u.line,Q=o.cm,ue;if(o.iter(Z,p.line+1,function(Re){Q&&M.collapsed&&!Q.options.lineWrapping&&rs(Re)==Q.display.maxLine&&(ue=!0),M.collapsed&&Z!=u.line&&Ae(Re,0),ba(Re,new ku(M,Z==u.line?u.ch:null,Z==p.line?p.ch:null),o.cm&&o.cm.curOp),++Z}),M.collapsed&&o.iter(u.line,p.line+1,function(Re){Ds(o,Re)&&Ae(Re,0)}),M.clearOnEnter&&Et(M,"beforeCursorEnter",function(){return M.clear()}),M.readOnly&&(Pa(),(o.history.done.length||o.history.undone.length)&&o.clearHistory()),M.collapsed&&(M.id=++Yl,M.atomic=!0),Q){if(ue&&(Q.curOp.updateMaxLine=!0),M.collapsed)ri(Q,u.line,p.line+1);else if(M.className||M.startStyle||M.endStyle||M.css||M.attributes||M.title)for(var Ce=u.line;Ce<=p.line;Ce++)oc(Q,Ce,"text");M.atomic&&Bn(Q.doc),wo(Q,"markerAdded",Q,M)}return M}var Hs=function(o,u){this.markers=o,this.primary=u;for(var p=0;p<o.length;++p)o[p].parent=this};Hs.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var o=0;o<this.markers.length;++o)this.markers[o].clear();wo(this,"clear")}},Hs.prototype.find=function(o,u){return this.primary.find(o,u)},fo(Hs);function Gh(o,u,p,b,T){b=Qe(b),b.shared=!1;var M=[qu(o,u,p,b,T)],N=M[0],Z=b.widgetNode;return k(o,function(Q){Z&&(b.widgetNode=Z.cloneNode(!0)),M.push(qu(Q,fr(Q,u),fr(Q,p),b,T));for(var ue=0;ue<Q.linked.length;++ue)if(Q.linked[ue].isParent)return;N=ce(M)}),new Hs(M,N)}function Nu(o){return o.findMarks(ye(o.first,0),o.clipPos(ye(o.lastLine())),function(u){return u.parent})}function ji(o,u){for(var p=0;p<u.length;p++){var b=u[p],T=b.find(),M=o.clipPos(T.from),N=o.clipPos(T.to);if(Ge(M,N)){var Z=qu(o,M,N,b.primary,b.primary.type);b.markers.push(Z),Z.parent=b}}}function Ec(o){for(var u=function(b){var T=o[b],M=[T.primary.doc];k(T.primary.doc,function(Q){return M.push(Q)});for(var N=0;N<T.markers.length;N++){var Z=T.markers[N];Ht(M,Z.doc)==-1&&(Z.parent=null,T.markers.splice(N--,1))}},p=0;p<o.length;p++)u(p)}var Wc=0,Ga=function(o,u,p,b,T){if(!(this instanceof Ga))return new Ga(o,u,p,b,T);p==null&&(p=0),el.call(this,[new ls([new Uo("",null)])]),this.first=p,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=p;var M=ye(p,0);this.sel=mu(M),this.history=new ae(null),this.id=++Wc,this.modeOption=u,this.lineSep=b,this.direction=T=="rtl"?"rtl":"ltr",this.extend=!1,typeof o=="string"&&(o=this.splitLines(o)),y(this,{from:M,to:M,text:o}),Gr(this,mu(M),cr)};Ga.prototype=ft(el.prototype,{constructor:Ga,iter:function(o,u,p){p?this.iterN(o-this.first,u-o,p):this.iterN(this.first,this.first+this.size,o)},insert:function(o,u){for(var p=0,b=0;b<u.length;++b)p+=u[b].height;this.insertInner(o-this.first,u,p)},remove:function(o,u){this.removeInner(o-this.first,u)},getValue:function(o){var u=hr(this,this.first,this.first+this.size);return o===!1?u:u.join(o||this.lineSeparator())},setValue:Rr(function(o){var u=ye(this.first,0),p=this.first+this.size-1;vn(this,{from:u,to:ye(p,jt(this,p).text.length),text:this.splitLines(o),origin:"setValue",full:!0},!0),this.cm&&uf(this.cm,0,0),Gr(this,mu(u),cr)}),replaceRange:function(o,u,p,b){u=fr(this,u),p=p?fr(this,p):u,_o(this,o,u,p,b)},getRange:function(o,u,p){var b=Bt(this,fr(this,o),fr(this,u));return p===!1?b:p===""?b.join(""):b.join(p||this.lineSeparator())},getLine:function(o){var u=this.getLineHandle(o);return u&&u.text},getLineHandle:function(o){if(se(this,o))return jt(this,o)},getLineNumber:function(o){return je(o)},getLineHandleVisualStart:function(o){return typeof o=="number"&&(o=jt(this,o)),rs(o)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(o){return fr(this,o)},getCursor:function(o){var u=this.sel.primary(),p;return o==null||o=="head"?p=u.head:o=="anchor"?p=u.anchor:o=="end"||o=="to"||o===!1?p=u.to():p=u.from(),p},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Rr(function(o,u,p){yr(this,fr(this,typeof o=="number"?ye(o,u||0):o),null,p)}),setSelection:Rr(function(o,u,p){yr(this,fr(this,o),fr(this,u||o),p)}),extendSelection:Rr(function(o,u,p){Jt(this,fr(this,o),u&&fr(this,u),p)}),extendSelections:Rr(function(o,u){Zt(this,Dn(this,o),u)}),extendSelectionsBy:Rr(function(o,u){var p=Te(this.sel.ranges,o);Zt(this,Dn(this,p),u)}),setSelections:Rr(function(o,u,p){if(!!o.length){for(var b=[],T=0;T<o.length;T++)b[T]=new oi(fr(this,o[T].anchor),fr(this,o[T].head||o[T].anchor));u==null&&(u=Math.min(o.length-1,this.sel.primIndex)),Gr(this,Mo(this.cm,b,u),p)}}),addSelection:Rr(function(o,u,p){var b=this.sel.ranges.slice(0);b.push(new oi(fr(this,o),fr(this,u||o))),Gr(this,Mo(this.cm,b,b.length-1),p)}),getSelection:function(o){for(var u=this.sel.ranges,p,b=0;b<u.length;b++){var T=Bt(this,u[b].from(),u[b].to());p=p?p.concat(T):T}return o===!1?p:p.join(o||this.lineSeparator())},getSelections:function(o){for(var u=[],p=this.sel.ranges,b=0;b<p.length;b++){var T=Bt(this,p[b].from(),p[b].to());o!==!1&&(T=T.join(o||this.lineSeparator())),u[b]=T}return u},replaceSelection:function(o,u,p){for(var b=[],T=0;T<this.sel.ranges.length;T++)b[T]=o;this.replaceSelections(b,u,p||"+input")},replaceSelections:Rr(function(o,u,p){for(var b=[],T=this.sel,M=0;M<T.ranges.length;M++){var N=T.ranges[M];b[M]={from:N.from(),to:N.to(),text:this.splitLines(o[M]),origin:p}}for(var Z=u&&u!="end"&&$h(this,b,u),Q=b.length-1;Q>=0;Q--)vn(this,b[Q]);Z?$r(this,Z):this.cm&&Ra(this.cm)}),undo:Rr(function(){ka(this,"undo")}),redo:Rr(function(){ka(this,"redo")}),undoSelection:Rr(function(){ka(this,"undo",!0)}),redoSelection:Rr(function(){ka(this,"redo",!0)}),setExtending:function(o){this.extend=o},getExtending:function(){return this.extend},historySize:function(){for(var o=this.history,u=0,p=0,b=0;b<o.done.length;b++)o.done[b].ranges||++u;for(var T=0;T<o.undone.length;T++)o.undone[T].ranges||++p;return{undo:u,redo:p}},clearHistory:function(){var o=this;this.history=new ae(this.history),k(this,function(u){return u.history=o.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(o){return o&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(o){return this.history.generation==(o||this.cleanGeneration)},getHistory:function(){return{done:Ft(this.history.done),undone:Ft(this.history.undone)}},setHistory:function(o){var u=this.history=new ae(this.history);u.done=Ft(o.done.slice(0),null,!0),u.undone=Ft(o.undone.slice(0),null,!0)},setGutterMarker:Rr(function(o,u,p){return Qs(this,o,"gutter",function(b){var T=b.gutterMarkers||(b.gutterMarkers={});return T[u]=p,!p&&_r(T)&&(b.gutterMarkers=null),!0})}),clearGutter:Rr(function(o){var u=this;this.iter(function(p){p.gutterMarkers&&p.gutterMarkers[o]&&Qs(u,p,"gutter",function(){return p.gutterMarkers[o]=null,_r(p.gutterMarkers)&&(p.gutterMarkers=null),!0})})}),lineInfo:function(o){var u;if(typeof o=="number"){if(!se(this,o)||(u=o,o=jt(this,o),!o))return null}else if(u=je(o),u==null)return null;return{line:u,handle:o,text:o.text,gutterMarkers:o.gutterMarkers,textClass:o.textClass,bgClass:o.bgClass,wrapClass:o.wrapClass,widgets:o.widgets}},addLineClass:Rr(function(o,u,p){return Qs(this,o,u=="gutter"?"gutter":"class",function(b){var T=u=="text"?"textClass":u=="background"?"bgClass":u=="gutter"?"gutterClass":"wrapClass";if(!b[T])b[T]=p;else{if(Se(p).test(b[T]))return!1;b[T]+=" "+p}return!0})}),removeLineClass:Rr(function(o,u,p){return Qs(this,o,u=="gutter"?"gutter":"class",function(b){var T=u=="text"?"textClass":u=="background"?"bgClass":u=="gutter"?"gutterClass":"wrapClass",M=b[T];if(M)if(p==null)b[T]=null;else{var N=M.match(Se(p));if(!N)return!1;var Z=N.index+N[0].length;b[T]=M.slice(0,N.index)+(!N.index||Z==M.length?"":" ")+M.slice(Z)||null}else return!1;return!0})}),addLineWidget:Rr(function(o,u,p){return yu(this,o,u,p)}),removeLineWidget:function(o){o.clear()},markText:function(o,u,p){return qu(this,fr(this,o),fr(this,u),p,p&&p.type||"range")},setBookmark:function(o,u){var p={replacedWith:u&&(u.nodeType==null?u.widget:u),insertLeft:u&&u.insertLeft,clearWhenEmpty:!1,shared:u&&u.shared,handleMouseEvents:u&&u.handleMouseEvents};return o=fr(this,o),qu(this,o,o,p,"bookmark")},findMarksAt:function(o){o=fr(this,o);var u=[],p=jt(this,o.line).markedSpans;if(p)for(var b=0;b<p.length;++b){var T=p[b];(T.from==null||T.from<=o.ch)&&(T.to==null||T.to>=o.ch)&&u.push(T.marker.parent||T.marker)}return u},findMarks:function(o,u,p){o=fr(this,o),u=fr(this,u);var b=[],T=o.line;return this.iter(o.line,u.line+1,function(M){var N=M.markedSpans;if(N)for(var Z=0;Z<N.length;Z++){var Q=N[Z];!(Q.to!=null&&T==o.line&&o.ch>=Q.to||Q.from==null&&T!=o.line||Q.from!=null&&T==u.line&&Q.from>=u.ch)&&(!p||p(Q.marker))&&b.push(Q.marker.parent||Q.marker)}++T}),b},getAllMarks:function(){var o=[];return this.iter(function(u){var p=u.markedSpans;if(p)for(var b=0;b<p.length;++b)p[b].from!=null&&o.push(p[b].marker)}),o},posFromIndex:function(o){var u,p=this.first,b=this.lineSeparator().length;return this.iter(function(T){var M=T.text.length+b;if(M>o)return u=o,!0;o-=M,++p}),fr(this,ye(p,u))},indexFromPos:function(o){o=fr(this,o);var u=o.ch;if(o.line<this.first||o.ch<0)return 0;var p=this.lineSeparator().length;return this.iter(this.first,o.line,function(b){u+=b.text.length+p}),u},copy:function(o){var u=new Ga(hr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return u.scrollTop=this.scrollTop,u.scrollLeft=this.scrollLeft,u.sel=this.sel,u.extend=!1,o&&(u.history.undoDepth=this.history.undoDepth,u.setHistory(this.getHistory())),u},linkedDoc:function(o){o||(o={});var u=this.first,p=this.first+this.size;o.from!=null&&o.from>u&&(u=o.from),o.to!=null&&o.to<p&&(p=o.to);var b=new Ga(hr(this,u,p),o.mode||this.modeOption,u,this.lineSep,this.direction);return o.sharedHist&&(b.history=this.history),(this.linked||(this.linked=[])).push({doc:b,sharedHist:o.sharedHist}),b.linked=[{doc:this,isParent:!0,sharedHist:o.sharedHist}],ji(b,Nu(this)),b},unlinkDoc:function(o){if(o instanceof Go&&(o=o.doc),this.linked)for(var u=0;u<this.linked.length;++u){var p=this.linked[u];if(p.doc==o){this.linked.splice(u,1),o.unlinkDoc(this),Ec(Nu(this));break}}if(o.history==this.history){var b=[o.id];k(o,function(T){return b.push(T.id)},!0),o.history=new ae(null),o.history.done=Ft(this.history.done,b),o.history.undone=Ft(this.history.undone,b)}},iterLinkedDocs:function(o){k(this,o)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(o){return this.lineSep?o.split(this.lineSep):mn(o)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Rr(function(o){o!="rtl"&&(o="ltr"),o!=this.direction&&(this.direction=o,this.iter(function(u){return u.order=null}),this.cm&&X(this.cm))})}),Ga.prototype.eachLine=Ga.prototype.iter;var Oi=0;function vl(o){var u=this;if(Od(u),!(yn(u,o)||ms(u.display,o))){gi(o),l&&(Oi=+new Date);var p=hl(u,o,!0),b=o.dataTransfer.files;if(!(!p||u.isReadOnly()))if(b&&b.length&&window.FileReader&&window.File)for(var T=b.length,M=Array(T),N=0,Z=function(){++N==T&&yi(u,function(){p=fr(u.doc,p);var at={from:p,to:p,text:u.doc.splitLines(M.filter(function(wt){return wt!=null}).join(u.doc.lineSeparator())),origin:"paste"};vn(u.doc,at),$r(u.doc,mu(fr(u.doc,p),fr(u.doc,Js(at))))})()},Q=function(at,wt){if(u.options.allowDropFileTypes&&Ht(u.options.allowDropFileTypes,at.type)==-1){Z();return}var zt=new FileReader;zt.onerror=function(){return Z()},zt.onload=function(){var $t=zt.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test($t)){Z();return}M[wt]=$t,Z()},zt.readAsText(at)},ue=0;ue<b.length;ue++)Q(b[ue],ue);else{if(u.state.draggingText&&u.doc.sel.contains(p)>-1){u.state.draggingText(o),setTimeout(function(){return u.display.input.focus()},20);return}try{var Ce=o.dataTransfer.getData("Text");if(Ce){var Re;if(u.state.draggingText&&!u.state.draggingText.copy&&(Re=u.listSelections()),hn(u.doc,mu(p,p)),Re)for(var it=0;it<Re.length;++it)_o(u.doc,"",Re[it].anchor,Re[it].head,"drag");u.replaceSelection(Ce,"around","paste"),u.display.input.focus()}}catch{}}}}function Is(o,u){if(l&&(!o.state.draggingText||+new Date-Oi<100)){Mt(u);return}if(!(yn(o,u)||ms(o.display,u))&&(u.dataTransfer.setData("Text",o.getSelection()),u.dataTransfer.effectAllowed="copyMove",u.dataTransfer.setDragImage&&!z)){var p=ee("img",null,null,"position: fixed; left: 0; top: 0;");p.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",F&&(p.width=p.height=1,o.display.wrapper.appendChild(p),p._top=p.offsetTop),u.dataTransfer.setDragImage(p,0,0),F&&p.parentNode.removeChild(p)}}function ff(o,u){var p=hl(o,u);if(!!p){var b=document.createDocumentFragment();fu(o,p,b),o.display.dragCursor||(o.display.dragCursor=ee("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),o.display.lineSpace.insertBefore(o.display.dragCursor,o.display.cursorDiv)),q(o.display.dragCursor,b)}}function Od(o){o.display.dragCursor&&(o.display.lineSpace.removeChild(o.display.dragCursor),o.display.dragCursor=null)}function bi(o){if(!!document.getElementsByClassName){for(var u=document.getElementsByClassName("CodeMirror"),p=[],b=0;b<u.length;b++){var T=u[b].CodeMirror;T&&p.push(T)}p.length&&p[0].operation(function(){for(var M=0;M<p.length;M++)o(p[M])})}}var im=!1;function Bu(){im||(kc(),im=!0)}function kc(){var o;Et(window,"resize",function(){o==null&&(o=setTimeout(function(){o=null,bi(Cc)},100))}),Et(window,"blur",function(){return bi(go)})}function Cc(o){var u=o.display;u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null,u.scrollbarsClipped=!1,o.setSize()}for(var yl={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},bu=0;bu<10;bu++)yl[bu+48]=yl[bu+96]=String(bu);for(var _s=65;_s<=90;_s++)yl[_s]=String.fromCharCode(_s);for(var Ms=1;Ms<=12;Ms++)yl[Ms+111]=yl[Ms+63235]="F"+Ms;var bl={};bl.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},bl.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},bl.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},bl.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},bl.default=he?bl.macDefault:bl.pcDefault;function gp(o){var u=o.split(/-(?!$)/);o=u[u.length-1];for(var p,b,T,M,N=0;N<u.length-1;N++){var Z=u[N];if(/^(cmd|meta|m)$/i.test(Z))M=!0;else if(/^a(lt)?$/i.test(Z))p=!0;else if(/^(c|ctrl|control)$/i.test(Z))b=!0;else if(/^s(hift)?$/i.test(Z))T=!0;else throw new Error("Unrecognized modifier name: "+Z)}return p&&(o="Alt-"+o),b&&(o="Ctrl-"+o),M&&(o="Cmd-"+o),T&&(o="Shift-"+o),o}function Um(o){var u={};for(var p in o)if(o.hasOwnProperty(p)){var b=o[p];if(/^(name|fallthrough|(de|at)tach)$/.test(p))continue;if(b=="..."){delete o[p];continue}for(var T=Te(p.split(" "),gp),M=0;M<T.length;M++){var N=void 0,Z=void 0;M==T.length-1?(Z=T.join(" "),N=b):(Z=T.slice(0,M+1).join(" "),N="...");var Q=u[Z];if(!Q)u[Z]=N;else if(Q!=N)throw new Error("Inconsistent bindings for "+Z)}delete o[p]}for(var ue in u)o[ue]=u[ue];return o}function ih(o,u,p,b){u=Kh(u);var T=u.call?u.call(o,b):u[o];if(T===!1)return"nothing";if(T==="...")return"multi";if(T!=null&&p(T))return"handled";if(u.fallthrough){if(Object.prototype.toString.call(u.fallthrough)!="[object Array]")return ih(o,u.fallthrough,p,b);for(var M=0;M<u.fallthrough.length;M++){var N=ih(o,u.fallthrough[M],p,b);if(N)return N}}}function xl(o){var u=typeof o=="string"?o:yl[o.keyCode];return u=="Ctrl"||u=="Alt"||u=="Shift"||u=="Mod"}function zu(o,u,p){var b=o;return u.altKey&&b!="Alt"&&(o="Alt-"+o),(me?u.metaKey:u.ctrlKey)&&b!="Ctrl"&&(o="Ctrl-"+o),(me?u.ctrlKey:u.metaKey)&&b!="Mod"&&(o="Cmd-"+o),!p&&u.shiftKey&&b!="Shift"&&(o="Shift-"+o),o}function oh(o,u){if(F&&o.keyCode==34&&o.char)return!1;var p=yl[o.keyCode];return p==null||o.altGraphKey?!1:(o.keyCode==3&&o.code&&(p=o.code),zu(p,o,u))}function Kh(o){return typeof o=="string"?bl[o]:o}function Uu(o,u){for(var p=o.doc.sel.ranges,b=[],T=0;T<p.length;T++){for(var M=u(p[T]);b.length&&Ge(M.from,ce(b).to)<=0;){var N=b.pop();if(Ge(N.from,M.from)<0){M.from=N.from;break}}b.push(M)}Be(o,function(){for(var Z=b.length-1;Z>=0;Z--)_o(o.doc,"",b[Z].from,b[Z].to,"+delete");Ra(o)})}function vp(o,u,p){var b=et(o.text,u+p,p);return b<0||b>o.text.length?null:b}function Xl(o,u,p){var b=vp(o,u.ch,p);return b==null?null:new ye(u.line,b,p<0?"after":"before")}function Lf(o,u,p,b,T){if(o){u.doc.direction=="rtl"&&(T=-T);var M=$n(p,u.doc.direction);if(M){var N=T<0?ce(M):M[0],Z=T<0==(N.level==1),Q=Z?"after":"before",ue;if(N.level>0||u.doc.direction=="rtl"){var Ce=Ou(u,p);ue=T<0?p.text.length-1:0;var Re=rc(u,Ce,ue).top;ue=pt(function(it){return rc(u,Ce,it).top==Re},T<0==(N.level==1)?N.from:N.to-1,ue),Q=="before"&&(ue=vp(p,ue,1))}else ue=T<0?N.to:N.from;return new ye(b,ue,Q)}}return new ye(b,T<0?p.text.length:0,T<0?"before":"after")}function jm(o,u,p,b){var T=$n(u,o.doc.direction);if(!T)return Xl(u,p,b);p.ch>=u.text.length?(p.ch=u.text.length,p.sticky="before"):p.ch<=0&&(p.ch=0,p.sticky="after");var M=ki(T,p.ch,p.sticky),N=T[M];if(o.doc.direction=="ltr"&&N.level%2==0&&(b>0?N.to>p.ch:N.from<p.ch))return Xl(u,p,b);var Z=function(or,dr){return vp(u,or instanceof ye?or.ch:or,dr)},Q,ue=function(or){return o.options.lineWrapping?(Q=Q||Ou(o,u),Yi(o,u,Q,or)):{begin:0,end:u.text.length}},Ce=ue(p.sticky=="before"?Z(p,-1):p.ch);if(o.doc.direction=="rtl"||N.level==1){var Re=N.level==1==b<0,it=Z(p,Re?1:-1);if(it!=null&&(Re?it<=N.to&&it<=Ce.end:it>=N.from&&it>=Ce.begin)){var at=Re?"before":"after";return new ye(p.line,it,at)}}var wt=function(or,dr,ur){for(var xr=function(Ti,ao){return ao?new ye(p.line,Z(Ti,1),"before"):new ye(p.line,Ti,"after")};or>=0&&or<T.length;or+=dr){var Jr=T[or],ln=dr>0==(Jr.level!=1),_n=ln?ur.begin:Z(ur.end,-1);if(Jr.from<=_n&&_n<Jr.to||(_n=ln?Jr.from:Z(Jr.to,-1),ur.begin<=_n&&_n<ur.end))return xr(_n,ln)}},zt=wt(M+b,b,Ce);if(zt)return zt;var $t=b>0?Ce.end:Z(Ce.begin,-1);return $t!=null&&!(b>0&&$t==u.text.length)&&(zt=wt(b>0?0:T.length-1,b,ue($t)),zt)?zt:null}var ah={selectAll:Ln,singleSelection:function(o){return o.setSelection(o.getCursor("anchor"),o.getCursor("head"),cr)},killLine:function(o){return Uu(o,function(u){if(u.empty()){var p=jt(o.doc,u.head.line).text.length;return u.head.ch==p&&u.head.line<o.lastLine()?{from:u.head,to:ye(u.head.line+1,0)}:{from:u.head,to:ye(u.head.line,p)}}else return{from:u.from(),to:u.to()}})},deleteLine:function(o){return Uu(o,function(u){return{from:ye(u.from().line,0),to:fr(o.doc,ye(u.to().line+1,0))}})},delLineLeft:function(o){return Uu(o,function(u){return{from:ye(u.from().line,0),to:u.from()}})},delWrappedLineLeft:function(o){return Uu(o,function(u){var p=o.charCoords(u.head,"div").top+5,b=o.coordsChar({left:0,top:p},"div");return{from:b,to:u.from()}})},delWrappedLineRight:function(o){return Uu(o,function(u){var p=o.charCoords(u.head,"div").top+5,b=o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:p},"div");return{from:u.from(),to:b}})},undo:function(o){return o.undo()},redo:function(o){return o.redo()},undoSelection:function(o){return o.undoSelection()},redoSelection:function(o){return o.redoSelection()},goDocStart:function(o){return o.extendSelection(ye(o.firstLine(),0))},goDocEnd:function(o){return o.extendSelection(ye(o.lastLine()))},goLineStart:function(o){return o.extendSelectionsBy(function(u){return Ac(o,u.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(o){return o.extendSelectionsBy(function(u){return Pf(o,u.head)},{origin:"+move",bias:1})},goLineEnd:function(o){return o.extendSelectionsBy(function(u){return Oy(o,u.head.line)},{origin:"+move",bias:-1})},goLineRight:function(o){return o.extendSelectionsBy(function(u){var p=o.cursorCoords(u.head,"div").top+5;return o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:p},"div")},ir)},goLineLeft:function(o){return o.extendSelectionsBy(function(u){var p=o.cursorCoords(u.head,"div").top+5;return o.coordsChar({left:0,top:p},"div")},ir)},goLineLeftSmart:function(o){return o.extendSelectionsBy(function(u){var p=o.cursorCoords(u.head,"div").top+5,b=o.coordsChar({left:0,top:p},"div");return b.ch<o.getLine(b.line).search(/\S/)?Pf(o,u.head):b},ir)},goLineUp:function(o){return o.moveV(-1,"line")},goLineDown:function(o){return o.moveV(1,"line")},goPageUp:function(o){return o.moveV(-1,"page")},goPageDown:function(o){return o.moveV(1,"page")},goCharLeft:function(o){return o.moveH(-1,"char")},goCharRight:function(o){return o.moveH(1,"char")},goColumnLeft:function(o){return o.moveH(-1,"column")},goColumnRight:function(o){return o.moveH(1,"column")},goWordLeft:function(o){return o.moveH(-1,"word")},goGroupRight:function(o){return o.moveH(1,"group")},goGroupLeft:function(o){return o.moveH(-1,"group")},goWordRight:function(o){return o.moveH(1,"word")},delCharBefore:function(o){return o.deleteH(-1,"codepoint")},delCharAfter:function(o){return o.deleteH(1,"char")},delWordBefore:function(o){return o.deleteH(-1,"word")},delWordAfter:function(o){return o.deleteH(1,"word")},delGroupBefore:function(o){return o.deleteH(-1,"group")},delGroupAfter:function(o){return o.deleteH(1,"group")},indentAuto:function(o){return o.indentSelection("smart")},indentMore:function(o){return o.indentSelection("add")},indentLess:function(o){return o.indentSelection("subtract")},insertTab:function(o){return o.replaceSelection("	")},insertSoftTab:function(o){for(var u=[],p=o.listSelections(),b=o.options.tabSize,T=0;T<p.length;T++){var M=p[T].from(),N=Ct(o.getLine(M.line),M.ch,b);u.push(rt(b-N%b))}o.replaceSelections(u)},defaultTab:function(o){o.somethingSelected()?o.indentSelection("add"):o.execCommand("insertTab")},transposeChars:function(o){return Be(o,function(){for(var u=o.listSelections(),p=[],b=0;b<u.length;b++)if(!!u[b].empty()){var T=u[b].head,M=jt(o.doc,T.line).text;if(M){if(T.ch==M.length&&(T=new ye(T.line,T.ch-1)),T.ch>0)T=new ye(T.line,T.ch+1),o.replaceRange(M.charAt(T.ch-1)+M.charAt(T.ch-2),ye(T.line,T.ch-2),T,"+transpose");else if(T.line>o.doc.first){var N=jt(o.doc,T.line-1).text;N&&(T=new ye(T.line,1),o.replaceRange(M.charAt(0)+o.doc.lineSeparator()+N.charAt(N.length-1),ye(T.line-1,N.length-1),T,"+transpose"))}}p.push(new oi(T,T))}o.setSelections(p)})},newlineAndIndent:function(o){return Be(o,function(){for(var u=o.listSelections(),p=u.length-1;p>=0;p--)o.replaceRange(o.doc.lineSeparator(),u[p].anchor,u[p].head,"+input");u=o.listSelections();for(var b=0;b<u.length;b++)o.indentLine(u[b].from().line,null,!0);Ra(o)})},openLine:function(o){return o.replaceSelection(`
`,"start")},toggleOverwrite:function(o){return o.toggleOverwrite()}};function Ac(o,u){var p=jt(o.doc,u),b=rs(p);return b!=p&&(u=je(b)),Lf(!0,o,b,u,1)}function Oy(o,u){var p=jt(o.doc,u),b=Bh(p);return b!=p&&(u=je(b)),Lf(!0,o,p,u,-1)}function Pf(o,u){var p=Ac(o,u.line),b=jt(o.doc,p.line),T=$n(b,o.doc.direction);if(!T||T[0].level==0){var M=Math.max(p.ch,b.text.search(/\S/)),N=u.line==p.line&&u.ch<=M&&u.ch;return ye(p.line,N?0:M,p.sticky)}return p}function Rf(o,u,p){if(typeof u=="string"&&(u=ah[u],!u))return!1;o.display.input.ensurePolled();var b=o.display.shift,T=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),p&&(o.display.shift=!1),T=u(o)!=Yt}finally{o.display.shift=b,o.state.suppressEdits=!1}return T}function Hm(o,u,p){for(var b=0;b<o.state.keyMaps.length;b++){var T=ih(u,o.state.keyMaps[b],p,o);if(T)return T}return o.options.extraKeys&&ih(u,o.options.extraKeys,p,o)||ih(u,o.options.keyMap,p,o)}var Id=new Tt;function yp(o,u,p,b){var T=o.state.keySeq;if(T){if(xl(u))return"handled";if(/\'$/.test(u)?o.state.keySeq=null:Id.set(50,function(){o.state.keySeq==T&&(o.state.keySeq=null,o.display.input.reset())}),Ff(o,T+" "+u,p,b))return!0}return Ff(o,u,p,b)}function Ff(o,u,p,b){var T=Hm(o,u,b);return T=="multi"&&(o.state.keySeq=u),T=="handled"&&wo(o,"keyHandled",o,u,p),(T=="handled"||T=="multi")&&(gi(p),sf(o)),!!T}function Wm(o,u){var p=oh(u,!0);return p?u.shiftKey&&!o.state.keySeq?yp(o,"Shift-"+p,u,function(b){return Rf(o,b,!0)})||yp(o,p,u,function(b){if(typeof b=="string"?/^go[A-Z]/.test(b):b.motion)return Rf(o,b)}):yp(o,p,u,function(b){return Rf(o,b)}):!1}function Na(o,u,p){return yp(o,"'"+p+"'",u,function(b){return Rf(o,b,!0)})}var sh=null;function om(o){var u=this;if(!(o.target&&o.target!=u.display.input.getField())&&(u.curOp.focus=V(U(u)),!yn(u,o))){l&&h<11&&o.keyCode==27&&(o.returnValue=!1);var p=o.keyCode;u.display.shift=p==16||o.shiftKey;var b=Wm(u,o);F&&(sh=b?p:null,!b&&p==88&&!vi&&(he?o.metaKey:o.ctrlKey)&&u.replaceSelection("",null,"cut")),t&&!he&&!b&&p==46&&o.shiftKey&&!o.ctrlKey&&document.execCommand&&document.execCommand("cut"),p==18&&!/\bCodeMirror-crosshair\b/.test(u.display.lineDiv.className)&&bp(u)}}function bp(o){var u=o.display.lineDiv;te(u,"CodeMirror-crosshair");function p(b){(b.keyCode==18||!b.altKey)&&(be(u,"CodeMirror-crosshair"),on(document,"keyup",p),on(document,"mouseover",p))}Et(document,"keyup",p),Et(document,"mouseover",p)}function lh(o){o.keyCode==16&&(this.doc.sel.shift=!1),yn(this,o)}function Ka(o){var u=this;if(!(o.target&&o.target!=u.display.input.getField())&&!(ms(u.display,o)||yn(u,o)||o.ctrlKey&&!o.altKey||he&&o.metaKey)){var p=o.keyCode,b=o.charCode;if(F&&p==sh){sh=null,gi(o);return}if(!(F&&(!o.which||o.which<10)&&Wm(u,o))){var T=String.fromCharCode(b??p);T!="\b"&&(Na(u,o,T)||u.display.input.onKeyPress(o))}}}var xu=400,am=function(o,u,p){this.time=o,this.pos=u,this.button=p};am.prototype.compare=function(o,u,p){return this.time+xu>o&&Ge(u,this.pos)==0&&p==this.button};var hf,df;function uh(o,u){var p=+new Date;return df&&df.compare(p,o,u)?(hf=df=null,"triple"):hf&&hf.compare(p,o,u)?(df=new am(p,o,u),hf=null,"double"):(hf=new am(p,o,u),df=null,"single")}function Vm(o){var u=this,p=u.display;if(!(yn(u,o)||p.activeTouch&&p.input.supportsTouch())){if(p.input.ensurePolled(),p.shift=o.shiftKey,ms(p,o)){g||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));return}if(!Yh(u,o)){var b=hl(u,o),T=Pr(o),M=b?uh(b,T):"single";Ue(u).focus(),T==1&&u.state.selectingText&&u.state.selectingText(o),!(b&&Md(u,T,b,M,o))&&(T==1?b?sm(u,b,M,o):nr(o)==p.scroller&&gi(o):T==2?(b&&Jt(u.doc,b),setTimeout(function(){return p.input.focus()},20)):T==3&&(we?u.display.input.onContextMenu(o):Vl(u)))}}}function Md(o,u,p,b,T){var M="Click";return b=="double"?M="Double"+M:b=="triple"&&(M="Triple"+M),M=(u==1?"Left":u==2?"Middle":"Right")+M,yp(o,zu(M,T),T,function(N){if(typeof N=="string"&&(N=ah[N]),!N)return!1;var Z=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),Z=N(o,p)!=Yt}finally{o.state.suppressEdits=!1}return Z})}function ev(o,u,p){var b=o.getOption("configureMouse"),T=b?b(o,u,p):{};if(T.unit==null){var M=_?p.shiftKey&&p.metaKey:p.altKey;T.unit=M?"rectangle":u=="single"?"char":u=="double"?"word":"line"}return(T.extend==null||o.doc.extend)&&(T.extend=o.doc.extend||p.shiftKey),T.addNew==null&&(T.addNew=he?p.metaKey:p.ctrlKey),T.moveOnDrag==null&&(T.moveOnDrag=!(he?p.altKey:p.ctrlKey)),T}function sm(o,u,p,b){l?setTimeout(Je(Lu,o),0):o.curOp.focus=V(U(o));var T=ev(o,p,b),M=o.doc.sel,N;o.options.dragDrop&&qr&&!o.isReadOnly()&&p=="single"&&(N=M.contains(u))>-1&&(Ge((N=M.ranges[N]).from(),u)<0||u.xRel>0)&&(Ge(N.to(),u)>0||u.xRel<0)?Ld(o,b,u,T):xp(o,b,u,T)}function Ld(o,u,p,b){var T=o.display,M=!1,N=yi(o,function(ue){g&&(T.scroller.draggable=!1),o.state.draggingText=!1,o.state.delayingBlurEvent&&(o.hasFocus()?o.state.delayingBlurEvent=!1:Vl(o)),on(T.wrapper.ownerDocument,"mouseup",N),on(T.wrapper.ownerDocument,"mousemove",Z),on(T.scroller,"dragstart",Q),on(T.scroller,"drop",N),M||(gi(ue),b.addNew||Jt(o.doc,p,null,null,b.extend),g&&!z||l&&h==9?setTimeout(function(){T.wrapper.ownerDocument.body.focus({preventScroll:!0}),T.input.focus()},20):T.input.focus())}),Z=function(ue){M=M||Math.abs(u.clientX-ue.clientX)+Math.abs(u.clientY-ue.clientY)>=10},Q=function(){return M=!0};g&&(T.scroller.draggable=!0),o.state.draggingText=N,N.copy=!b.moveOnDrag,Et(T.wrapper.ownerDocument,"mouseup",N),Et(T.wrapper.ownerDocument,"mousemove",Z),Et(T.scroller,"dragstart",Q),Et(T.scroller,"drop",N),o.state.delayingBlurEvent=!0,setTimeout(function(){return T.input.focus()},20),T.scroller.dragDrop&&T.scroller.dragDrop()}function qf(o,u,p){if(p=="char")return new oi(u,u);if(p=="word")return o.findWordAt(u);if(p=="line")return new oi(ye(u.line,0),fr(o.doc,ye(u.line+1,0)));var b=p(o,u);return new oi(b.from,b.to)}function xp(o,u,p,b){l&&Vl(o);var T=o.display,M=o.doc;gi(u);var N,Z,Q=M.sel,ue=Q.ranges;if(b.addNew&&!b.extend?(Z=M.sel.contains(p),Z>-1?N=ue[Z]:N=new oi(p,p)):(N=M.sel.primary(),Z=M.sel.primIndex),b.unit=="rectangle")b.addNew||(N=new oi(p,p)),p=hl(o,u,!0,!0),Z=-1;else{var Ce=qf(o,p,b.unit);b.extend?N=rr(N,Ce.anchor,Ce.head,b.extend):N=Ce}b.addNew?Z==-1?(Z=ue.length,Gr(M,Mo(o,ue.concat([N]),Z),{scroll:!1,origin:"*mouse"})):ue.length>1&&ue[Z].empty()&&b.unit=="char"&&!b.extend?(Gr(M,Mo(o,ue.slice(0,Z).concat(ue.slice(Z+1)),0),{scroll:!1,origin:"*mouse"}),Q=M.sel):mr(M,Z,N,Tr):(Z=0,Gr(M,new qa([N],0),Tr),Q=M.sel);var Re=p;function it(ur){if(Ge(Re,ur)!=0)if(Re=ur,b.unit=="rectangle"){for(var xr=[],Jr=o.options.tabSize,ln=Ct(jt(M,p.line).text,p.ch,Jr),_n=Ct(jt(M,ur.line).text,ur.ch,Jr),Ti=Math.min(ln,_n),ao=Math.max(ln,_n),ai=Math.min(p.line,ur.line),so=Math.min(o.lastLine(),Math.max(p.line,ur.line));ai<=so;ai++){var Wi=jt(M,ai).text,Pn=At(Wi,Ti,Jr);Ti==ao?xr.push(new oi(ye(ai,Pn),ye(ai,Pn))):Wi.length>Pn&&xr.push(new oi(ye(ai,Pn),ye(ai,At(Wi,ao,Jr))))}xr.length||xr.push(new oi(p,p)),Gr(M,Mo(o,Q.ranges.slice(0,Z).concat(xr),Z),{origin:"*mouse",scroll:!1}),o.scrollIntoView(ur)}else{var fi=N,jn=qf(o,ur,b.unit),Bi=fi.anchor,Ko;Ge(jn.anchor,Bi)>0?(Ko=jn.head,Bi=Or(fi.from(),jn.anchor)):(Ko=jn.anchor,Bi=tr(fi.to(),jn.head));var _i=Q.ranges.slice(0);_i[Z]=cc(o,new oi(fr(M,Bi),Ko)),Gr(M,Mo(o,_i,Z),Tr)}}var at=T.wrapper.getBoundingClientRect(),wt=0;function zt(ur){var xr=++wt,Jr=hl(o,ur,!0,b.unit=="rectangle");if(!!Jr)if(Ge(Jr,Re)!=0){o.curOp.focus=V(U(o)),it(Jr);var ln=na(T,M);(Jr.line>=ln.to||Jr.line<ln.from)&&setTimeout(yi(o,function(){wt==xr&&zt(ur)}),150)}else{var _n=ur.clientY<at.top?-20:ur.clientY>at.bottom?20:0;_n&&setTimeout(yi(o,function(){wt==xr&&(T.scroller.scrollTop+=_n,zt(ur))}),50)}}function $t(ur){o.state.selectingText=!1,wt=1/0,ur&&(gi(ur),T.input.focus()),on(T.wrapper.ownerDocument,"mousemove",or),on(T.wrapper.ownerDocument,"mouseup",dr),M.history.lastSelOrigin=null}var or=yi(o,function(ur){ur.buttons===0||!Pr(ur)?$t(ur):zt(ur)}),dr=yi(o,$t);o.state.selectingText=dr,Et(T.wrapper.ownerDocument,"mousemove",or),Et(T.wrapper.ownerDocument,"mouseup",dr)}function cc(o,u){var p=u.anchor,b=u.head,T=jt(o.doc,p.line);if(Ge(p,b)==0&&p.sticky==b.sticky)return u;var M=$n(T);if(!M)return u;var N=ki(M,p.ch,p.sticky),Z=M[N];if(Z.from!=p.ch&&Z.to!=p.ch)return u;var Q=N+(Z.from==p.ch==(Z.level!=1)?0:1);if(Q==0||Q==M.length)return u;var ue;if(b.line!=p.line)ue=(b.line-p.line)*(o.doc.direction=="ltr"?1:-1)>0;else{var Ce=ki(M,b.ch,b.sticky),Re=Ce-N||(b.ch-p.ch)*(Z.level==1?-1:1);Ce==Q-1||Ce==Q?ue=Re<0:ue=Re>0}var it=M[Q+(ue?-1:0)],at=ue==(it.level==1),wt=at?it.from:it.to,zt=at?"after":"before";return p.ch==wt&&p.sticky==zt?u:new oi(new ye(p.line,wt,zt),b)}function $m(o,u,p,b){var T,M;if(u.touches)T=u.touches[0].clientX,M=u.touches[0].clientY;else try{T=u.clientX,M=u.clientY}catch{return!1}if(T>=Math.floor(o.display.gutters.getBoundingClientRect().right))return!1;b&&gi(u);var N=o.display,Z=N.lineDiv.getBoundingClientRect();if(M>Z.bottom||!mi(o,p))return st(u);M-=Z.top-N.viewOffset;for(var Q=0;Q<o.display.gutterSpecs.length;++Q){var ue=N.gutters.childNodes[Q];if(ue&&ue.getBoundingClientRect().right>=T){var Ce=Pe(o.doc,M),Re=o.display.gutterSpecs[Q];return Vr(o,p,o,Ce,Re.className,u),st(u)}}}function Yh(o,u){return $m(o,u,"gutterClick",!0)}function ch(o,u){ms(o.display,u)||_p(o,u)||yn(o,u,"contextmenu")||we||o.display.input.onContextMenu(u)}function _p(o,u){return mi(o,"gutterContextMenu")?$m(o,u,"gutterContextMenu",!1):!1}function fh(o){o.display.wrapper.className=o.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+o.options.theme.replace(/(^|\s)\s*/g," cm-s-"),nc(o)}var ju={toString:function(){return"CodeMirror.Init"}},tv={},wp={};function $o(o){var u=o.optionHandlers;function p(b,T,M,N){o.defaults[b]=T,M&&(u[b]=N?function(Z,Q,ue){ue!=ju&&M(Z,Q,ue)}:M)}o.defineOption=p,o.Init=ju,p("value","",function(b,T){return b.setValue(T)},!0),p("mode",null,function(b,T){b.doc.modeOption=T,Hc(b)},!0),p("indentUnit",2,Hc,!0),p("indentWithTabs",!1),p("smartIndent",!0),p("tabSize",4,function(b){m(b),nc(b),ri(b)},!0),p("lineSeparator",null,function(b,T){if(b.doc.lineSep=T,!!T){var M=[],N=b.doc.first;b.doc.iter(function(Q){for(var ue=0;;){var Ce=Q.text.indexOf(T,ue);if(Ce==-1)break;ue=Ce+T.length,M.push(ye(N,Ce))}N++});for(var Z=M.length-1;Z>=0;Z--)_o(b.doc,T,M[Z],ye(M[Z].line,M[Z].ch+T.length))}}),p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(b,T,M){b.state.specialChars=new RegExp(T.source+(T.test("	")?"":"|	"),"g"),M!=ju&&b.refresh()}),p("specialCharPlaceholder",dp,function(b){return b.refresh()},!0),p("electricChars",!0),p("inputStyle",ne?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),p("spellcheck",!1,function(b,T){return b.getInputField().spellcheck=T},!0),p("autocorrect",!1,function(b,T){return b.getInputField().autocorrect=T},!0),p("autocapitalize",!1,function(b,T){return b.getInputField().autocapitalize=T},!0),p("rtlMoveVisually",!ge),p("wholeLineUpdateBefore",!0),p("theme","default",function(b){fh(b),Xi(b)},!0),p("keyMap","default",function(b,T,M){var N=Kh(T),Z=M!=ju&&Kh(M);Z&&Z.detach&&Z.detach(b,N),N.attach&&N.attach(b,Z||null)}),p("extraKeys",null),p("configureMouse",null),p("lineWrapping",!1,Sp,!0),p("gutters",[],function(b,T){b.display.gutterSpecs=Zs(T,b.options.lineNumbers),Xi(b)},!0),p("fixedGutter",!0,function(b,T){b.display.gutters.style.left=T?Wl(b.display)+"px":"0",b.refresh()},!0),p("coverGutterNextToScrollbar",!1,function(b){return is(b)},!0),p("scrollbarStyle","native",function(b){hu(b),is(b),b.display.scrollbars.setScrollTop(b.doc.scrollTop),b.display.scrollbars.setScrollLeft(b.doc.scrollLeft)},!0),p("lineNumbers",!1,function(b,T){b.display.gutterSpecs=Zs(b.options.gutters,T),Xi(b)},!0),p("firstLineNumber",1,Xi,!0),p("lineNumberFormatter",function(b){return b},Xi,!0),p("showCursorWhenSelecting",!1,Ta,!0),p("resetSelectionOnContextMenu",!0),p("lineWiseCopyCut",!0),p("pasteLinesPerSelection",!0),p("selectionsMayTouch",!1),p("readOnly",!1,function(b,T){T=="nocursor"&&(go(b),b.display.input.blur()),b.display.input.readOnlyChanged(T)}),p("screenReaderLabel",null,function(b,T){T=T===""?null:T,b.display.input.screenReaderLabelChanged(T)}),p("disableInput",!1,function(b,T){T||b.display.input.reset()},!0),p("dragDrop",!0,Gm),p("allowDropFileTypes",null),p("cursorBlinkRate",530),p("cursorScrollMargin",0),p("cursorHeight",1,Ta,!0),p("singleCursorHeightPerLine",!0,Ta,!0),p("workTime",100),p("workDelay",100),p("flattenSpans",!0,m,!0),p("addModeClass",!1,m,!0),p("pollInterval",100),p("undoDepth",200,function(b,T){return b.doc.history.undoDepth=T}),p("historyEventDelay",1250),p("viewportMargin",10,function(b){return b.refresh()},!0),p("maxHighlightLength",1e4,m,!0),p("moveInputWithCursor",!0,function(b,T){T||b.display.input.resetPosition()}),p("tabindex",null,function(b,T){return b.display.input.getField().tabIndex=T||""}),p("autofocus",null),p("direction","ltr",function(b,T){return b.doc.setDirection(T)},!0),p("phrases",null)}function Gm(o,u,p){var b=p&&p!=ju;if(!u!=!b){var T=o.display.dragFunctions,M=u?Et:on;M(o.display.scroller,"dragstart",T.start),M(o.display.scroller,"dragenter",T.enter),M(o.display.scroller,"dragover",T.over),M(o.display.scroller,"dragleave",T.leave),M(o.display.scroller,"drop",T.drop)}}function Sp(o){o.options.lineWrapping?(te(o.display.wrapper,"CodeMirror-wrap"),o.display.sizer.style.minWidth="",o.display.sizerWidth=null):(be(o.display.wrapper,"CodeMirror-wrap"),zs(o)),Jn(o),ri(o),nc(o),setTimeout(function(){return is(o)},100)}function Go(o,u){var p=this;if(!(this instanceof Go))return new Go(o,u);this.options=u=u?Qe(u):{},Qe(tv,u,!1);var b=u.value;typeof b=="string"?b=new Ga(b,u.mode,null,u.lineSeparator,u.direction):u.mode&&(b.modeOption=u.mode),this.doc=b;var T=new Go.inputStyles[u.inputStyle](this),M=this.display=new Vh(o,b,T,u);M.wrapper.CodeMirror=this,fh(this),u.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),hu(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Tt,keySeq:null,specialChars:null},u.autofocus&&!ne&&M.input.focus(),l&&h<11&&setTimeout(function(){return p.display.input.reset(!0)},20),_l(this),Bu(),js(this),this.curOp.forceUpdate=!0,P(this,b),u.autofocus&&!ne||this.hasFocus()?setTimeout(function(){p.hasFocus()&&!p.state.focused&&Os(p)},20):go(this);for(var N in wp)wp.hasOwnProperty(N)&&wp[N](this,u[N],ju);Gl(this),u.finishInit&&u.finishInit(this);for(var Z=0;Z<Hu.length;++Z)Hu[Z](this);ys(this),g&&u.lineWrapping&&getComputedStyle(M.lineDiv).textRendering=="optimizelegibility"&&(M.lineDiv.style.textRendering="auto")}Go.defaults=tv,Go.optionHandlers=wp;function _l(o){var u=o.display;Et(u.scroller,"mousedown",yi(o,Vm)),l&&h<11?Et(u.scroller,"dblclick",yi(o,function(Q){if(!yn(o,Q)){var ue=hl(o,Q);if(!(!ue||Yh(o,Q)||ms(o.display,Q))){gi(Q);var Ce=o.findWordAt(ue);Jt(o.doc,Ce.anchor,Ce.head)}}})):Et(u.scroller,"dblclick",function(Q){return yn(o,Q)||gi(Q)}),Et(u.scroller,"contextmenu",function(Q){return ch(o,Q)}),Et(u.input.getField(),"contextmenu",function(Q){u.scroller.contains(Q.target)||ch(o,Q)});var p,b={end:0};function T(){u.activeTouch&&(p=setTimeout(function(){return u.activeTouch=null},1e3),b=u.activeTouch,b.end=+new Date)}function M(Q){if(Q.touches.length!=1)return!1;var ue=Q.touches[0];return ue.radiusX<=1&&ue.radiusY<=1}function N(Q,ue){if(ue.left==null)return!0;var Ce=ue.left-Q.left,Re=ue.top-Q.top;return Ce*Ce+Re*Re>20*20}Et(u.scroller,"touchstart",function(Q){if(!yn(o,Q)&&!M(Q)&&!Yh(o,Q)){u.input.ensurePolled(),clearTimeout(p);var ue=+new Date;u.activeTouch={start:ue,moved:!1,prev:ue-b.end<=300?b:null},Q.touches.length==1&&(u.activeTouch.left=Q.touches[0].pageX,u.activeTouch.top=Q.touches[0].pageY)}}),Et(u.scroller,"touchmove",function(){u.activeTouch&&(u.activeTouch.moved=!0)}),Et(u.scroller,"touchend",function(Q){var ue=u.activeTouch;if(ue&&!ms(u,Q)&&ue.left!=null&&!ue.moved&&new Date-ue.start<300){var Ce=o.coordsChar(u.activeTouch,"page"),Re;!ue.prev||N(ue,ue.prev)?Re=new oi(Ce,Ce):!ue.prev.prev||N(ue,ue.prev.prev)?Re=o.findWordAt(Ce):Re=new oi(ye(Ce.line,0),fr(o.doc,ye(Ce.line+1,0))),o.setSelection(Re.anchor,Re.head),o.focus(),gi(Q)}T()}),Et(u.scroller,"touchcancel",T),Et(u.scroller,"scroll",function(){u.scroller.clientHeight&&(lc(o,u.scroller.scrollTop),ha(o,u.scroller.scrollLeft,!0),Vr(o,"scroll",o))}),Et(u.scroller,"mousewheel",function(Q){return pa(o,Q)}),Et(u.scroller,"DOMMouseScroll",function(Q){return pa(o,Q)}),Et(u.wrapper,"scroll",function(){return u.wrapper.scrollTop=u.wrapper.scrollLeft=0}),u.dragFunctions={enter:function(Q){yn(o,Q)||Mt(Q)},over:function(Q){yn(o,Q)||(ff(o,Q),Mt(Q))},start:function(Q){return Is(o,Q)},drop:yi(o,vl),leave:function(Q){yn(o,Q)||Od(o)}};var Z=u.input.getField();Et(Z,"keyup",function(Q){return lh.call(o,Q)}),Et(Z,"keydown",yi(o,om)),Et(Z,"keypress",yi(o,Ka)),Et(Z,"focus",function(Q){return Os(o,Q)}),Et(Z,"blur",function(Q){return go(o,Q)})}var Hu=[];Go.defineInitHook=function(o){return Hu.push(o)};function pf(o,u,p,b){var T=o.doc,M;p==null&&(p="add"),p=="smart"&&(T.mode.indent?M=zo(o,u).state:p="prev");var N=o.options.tabSize,Z=jt(T,u),Q=Ct(Z.text,null,N);Z.stateAfter&&(Z.stateAfter=null);var ue=Z.text.match(/^\s*/)[0],Ce;if(!b&&!/\S/.test(Z.text))Ce=0,p="not";else if(p=="smart"&&(Ce=T.mode.indent(M,Z.text.slice(ue.length),Z.text),Ce==Yt||Ce>150)){if(!b)return;p="prev"}p=="prev"?u>T.first?Ce=Ct(jt(T,u-1).text,null,N):Ce=0:p=="add"?Ce=Q+o.options.indentUnit:p=="subtract"?Ce=Q-o.options.indentUnit:typeof p=="number"&&(Ce=Q+p),Ce=Math.max(0,Ce);var Re="",it=0;if(o.options.indentWithTabs)for(var at=Math.floor(Ce/N);at;--at)it+=N,Re+="	";if(it<Ce&&(Re+=rt(Ce-it)),Re!=ue)return _o(T,Re,ye(u,0),ye(u,ue.length),"+input"),Z.stateAfter=null,!0;for(var wt=0;wt<T.sel.ranges.length;wt++){var zt=T.sel.ranges[wt];if(zt.head.line==u&&zt.head.ch<ue.length){var $t=ye(u,ue.length);mr(T,wt,new oi($t,$t));break}}}var wl=null;function _u(o){wl=o}function Tp(o,u,p,b,T){var M=o.doc;o.display.shift=!1,b||(b=M.sel);var N=+new Date-200,Z=T=="paste"||o.state.pasteIncoming>N,Q=mn(u),ue=null;if(Z&&b.ranges.length>1)if(wl&&wl.text.join(`
`)==u){if(b.ranges.length%wl.text.length==0){ue=[];for(var Ce=0;Ce<wl.text.length;Ce++)ue.push(M.splitLines(wl.text[Ce]))}}else Q.length==b.ranges.length&&o.options.pasteLinesPerSelection&&(ue=Te(Q,function(or){return[or]}));for(var Re=o.curOp.updateInput,it=b.ranges.length-1;it>=0;it--){var at=b.ranges[it],wt=at.from(),zt=at.to();at.empty()&&(p&&p>0?wt=ye(wt.line,wt.ch-p):o.state.overwrite&&!Z?zt=ye(zt.line,Math.min(jt(M,zt.line).text.length,zt.ch+ce(Q).length)):Z&&wl&&wl.lineWise&&wl.text.join(`
`)==Q.join(`
`)&&(wt=zt=ye(wt.line,0)));var $t={from:wt,to:zt,text:ue?ue[it%ue.length]:Q,origin:T||(Z?"paste":o.state.cutIncoming>N?"cut":"+input")};vn(o.doc,$t),wo(o,"inputRead",o,$t)}u&&!Z&&Ym(o,u),Ra(o),o.curOp.updateInput<2&&(o.curOp.updateInput=Re),o.curOp.typing=!0,o.state.pasteIncoming=o.state.cutIncoming=-1}function Km(o,u){var p=o.clipboardData&&o.clipboardData.getData("Text");if(p)return o.preventDefault(),!u.isReadOnly()&&!u.options.disableInput&&u.hasFocus()&&Be(u,function(){return Tp(u,p,0,null,"paste")}),!0}function Ym(o,u){if(!(!o.options.electricChars||!o.options.smartIndent))for(var p=o.doc.sel,b=p.ranges.length-1;b>=0;b--){var T=p.ranges[b];if(!(T.head.ch>100||b&&p.ranges[b-1].head.line==T.head.line)){var M=o.getModeAt(T.head),N=!1;if(M.electricChars){for(var Z=0;Z<M.electricChars.length;Z++)if(u.indexOf(M.electricChars.charAt(Z))>-1){N=pf(o,T.head.line,"smart");break}}else M.electricInput&&M.electricInput.test(jt(o.doc,T.head.line).text.slice(0,T.head.ch))&&(N=pf(o,T.head.line,"smart"));N&&wo(o,"electricInput",o,T.head.line)}}}function Wu(o){for(var u=[],p=[],b=0;b<o.doc.sel.ranges.length;b++){var T=o.doc.sel.ranges[b].head.line,M={anchor:ye(T,0),head:ye(T+1,0)};p.push(M),u.push(o.getRange(M.anchor,M.head))}return{text:u,ranges:p}}function hh(o,u,p,b){o.setAttribute("autocorrect",p?"on":"off"),o.setAttribute("autocapitalize",b?"on":"off"),o.setAttribute("spellcheck",!!u)}function Ep(){var o=ee("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),u=ee("div",[o],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return g?o.style.width="1000px":o.setAttribute("wrap","off"),re&&(o.style.border="1px solid black"),u}function Eo(o){var u=o.optionHandlers,p=o.helpers={};o.prototype={constructor:o,focus:function(){Ue(this).focus(),this.display.input.focus()},setOption:function(b,T){var M=this.options,N=M[b];M[b]==T&&b!="mode"||(M[b]=T,u.hasOwnProperty(b)&&yi(this,u[b])(this,T,N),Vr(this,"optionChange",this,b))},getOption:function(b){return this.options[b]},getDoc:function(){return this.doc},addKeyMap:function(b,T){this.state.keyMaps[T?"push":"unshift"](Kh(b))},removeKeyMap:function(b){for(var T=this.state.keyMaps,M=0;M<T.length;++M)if(T[M]==b||T[M].name==b)return T.splice(M,1),!0},addOverlay:Ea(function(b,T){var M=b.token?b:o.getMode(this.options,b);if(M.startState)throw new Error("Overlays may not be stateful.");Ne(this.state.overlays,{mode:M,modeSpec:b,opaque:T&&T.opaque,priority:T&&T.priority||0},function(N){return N.priority}),this.state.modeGen++,ri(this)}),removeOverlay:Ea(function(b){for(var T=this.state.overlays,M=0;M<T.length;++M){var N=T[M].modeSpec;if(N==b||typeof b=="string"&&N.name==b){T.splice(M,1),this.state.modeGen++,ri(this);return}}}),indentLine:Ea(function(b,T,M){typeof T!="string"&&typeof T!="number"&&(T==null?T=this.options.smartIndent?"smart":"prev":T=T?"add":"subtract"),se(this.doc,b)&&pf(this,b,T,M)}),indentSelection:Ea(function(b){for(var T=this.doc.sel.ranges,M=-1,N=0;N<T.length;N++){var Z=T[N];if(Z.empty())Z.head.line>M&&(pf(this,Z.head.line,b,!0),M=Z.head.line,N==this.doc.sel.primIndex&&Ra(this));else{var Q=Z.from(),ue=Z.to(),Ce=Math.max(M,Q.line);M=Math.min(this.lastLine(),ue.line-(ue.ch?0:1))+1;for(var Re=Ce;Re<M;++Re)pf(this,Re,b);var it=this.doc.sel.ranges;Q.ch==0&&T.length==it.length&&it[N].from().ch>0&&mr(this.doc,N,new oi(Q,it[N].to()),cr)}}}),getTokenAt:function(b,T){return ql(this,b,T)},getLineTokens:function(b,T){return ql(this,ye(b),T,!0)},getTokenTypeAt:function(b){b=fr(this.doc,b);var T=Xn(this,jt(this.doc,b.line)),M=0,N=(T.length-1)/2,Z=b.ch,Q;if(Z==0)Q=T[2];else for(;;){var ue=M+N>>1;if((ue?T[ue*2-1]:0)>=Z)N=ue;else if(T[ue*2+1]<Z)M=ue+1;else{Q=T[ue*2+2];break}}var Ce=Q?Q.indexOf("overlay "):-1;return Ce<0?Q:Ce==0?null:Q.slice(0,Ce-1)},getModeAt:function(b){var T=this.doc.mode;return T.innerMode?o.innerMode(T,this.getTokenAt(b).state).mode:T},getHelper:function(b,T){return this.getHelpers(b,T)[0]},getHelpers:function(b,T){var M=[];if(!p.hasOwnProperty(T))return M;var N=p[T],Z=this.getModeAt(b);if(typeof Z[T]=="string")N[Z[T]]&&M.push(N[Z[T]]);else if(Z[T])for(var Q=0;Q<Z[T].length;Q++){var ue=N[Z[T][Q]];ue&&M.push(ue)}else Z.helperType&&N[Z.helperType]?M.push(N[Z.helperType]):N[Z.name]&&M.push(N[Z.name]);for(var Ce=0;Ce<N._global.length;Ce++){var Re=N._global[Ce];Re.pred(Z,this)&&Ht(M,Re.val)==-1&&M.push(Re.val)}return M},getStateAfter:function(b,T){var M=this.doc;return b=Ur(M,b??M.first+M.size-1),zo(this,b+1,T).state},cursorCoords:function(b,T){var M,N=this.doc.sel.primary();return b==null?M=N.head:typeof b=="object"?M=fr(this.doc,b):M=b?N.from():N.to(),Pt(this,M,T||"page")},charCoords:function(b,T){return Hl(this,fr(this.doc,b),T||"page")},coordsChar:function(b,T){return b=uu(this,b,T||"page"),fn(this,b.left,b.top)},lineAtHeight:function(b,T){return b=uu(this,{top:b,left:0},T||"page").top,Pe(this.doc,b+this.display.viewOffset)},heightAtLine:function(b,T,M){var N=!1,Z;if(typeof b=="number"){var Q=this.doc.first+this.doc.size-1;b<this.doc.first?b=this.doc.first:b>Q&&(b=Q,N=!0),Z=jt(this.doc,b)}else Z=b;return gs(this,Z,{top:0,left:0},T||"page",M||N).top+(N?this.doc.height-po(Z):0)},defaultTextHeight:function(){return Iu(this.display)},defaultCharWidth:function(){return xc(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(b,T,M,N,Z){var Q=this.display;b=Pt(this,fr(this.doc,b));var ue=b.bottom,Ce=b.left;if(T.style.position="absolute",T.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(T),Q.sizer.appendChild(T),N=="over")ue=b.top;else if(N=="above"||N=="near"){var Re=Math.max(Q.wrapper.clientHeight,this.doc.height),it=Math.max(Q.sizer.clientWidth,Q.lineSpace.clientWidth);(N=="above"||b.bottom+T.offsetHeight>Re)&&b.top>T.offsetHeight?ue=b.top-T.offsetHeight:b.bottom+T.offsetHeight<=Re&&(ue=b.bottom),Ce+T.offsetWidth>it&&(Ce=it-T.offsetWidth)}T.style.top=ue+"px",T.style.left=T.style.right="",Z=="right"?(Ce=Q.sizer.clientWidth-T.offsetWidth,T.style.right="0px"):(Z=="left"?Ce=0:Z=="middle"&&(Ce=(Q.sizer.clientWidth-T.offsetWidth)/2),T.style.left=Ce+"px"),M&&ac(this,{left:Ce,top:ue,right:Ce+T.offsetWidth,bottom:ue+T.offsetHeight})},triggerOnKeyDown:Ea(om),triggerOnKeyPress:Ea(Ka),triggerOnKeyUp:lh,triggerOnMouseDown:Ea(Vm),execCommand:function(b){if(ah.hasOwnProperty(b))return ah[b].call(null,this)},triggerElectric:Ea(function(b){Ym(this,b)}),findPosH:function(b,T,M,N){var Z=1;T<0&&(Z=-1,T=-T);for(var Q=fr(this.doc,b),ue=0;ue<T&&(Q=Zh(this.doc,Q,Z,M,N),!Q.hitSide);++ue);return Q},moveH:Ea(function(b,T){var M=this;this.extendSelectionsBy(function(N){return M.display.shift||M.doc.extend||N.empty()?Zh(M.doc,N.head,b,T,M.options.rtlMoveVisually):b<0?N.from():N.to()},ir)}),deleteH:Ea(function(b,T){var M=this.doc.sel,N=this.doc;M.somethingSelected()?N.replaceSelection("",null,"+delete"):Uu(this,function(Z){var Q=Zh(N,Z.head,b,T,!1);return b<0?{from:Q,to:Z.head}:{from:Z.head,to:Q}})}),findPosV:function(b,T,M,N){var Z=1,Q=N;T<0&&(Z=-1,T=-T);for(var ue=fr(this.doc,b),Ce=0;Ce<T;++Ce){var Re=Pt(this,ue,"div");if(Q==null?Q=Re.left:Re.left=Q,ue=Xh(this,Re,Z,M),ue.hitSide)break}return ue},moveV:Ea(function(b,T){var M=this,N=this.doc,Z=[],Q=!this.display.shift&&!N.extend&&N.sel.somethingSelected();if(N.extendSelectionsBy(function(Ce){if(Q)return b<0?Ce.from():Ce.to();var Re=Pt(M,Ce.head,"div");Ce.goalColumn!=null&&(Re.left=Ce.goalColumn),Z.push(Re.left);var it=Xh(M,Re,b,T);return T=="page"&&Ce==N.sel.primary()&&$l(M,Hl(M,it,"div").top-Re.top),it},ir),Z.length)for(var ue=0;ue<N.sel.ranges.length;ue++)N.sel.ranges[ue].goalColumn=Z[ue]}),findWordAt:function(b){var T=this.doc,M=jt(T,b.line).text,N=b.ch,Z=b.ch;if(M){var Q=this.getHelper(b,"wordChars");(b.sticky=="before"||Z==M.length)&&N?--N:++Z;for(var ue=M.charAt(N),Ce=vr(ue,Q)?function(Re){return vr(Re,Q)}:/\s/.test(ue)?function(Re){return/\s/.test(Re)}:function(Re){return!/\s/.test(Re)&&!vr(Re)};N>0&&Ce(M.charAt(N-1));)--N;for(;Z<M.length&&Ce(M.charAt(Z));)++Z}return new oi(ye(b.line,N),ye(b.line,Z))},toggleOverwrite:function(b){b!=null&&b==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?te(this.display.cursorDiv,"CodeMirror-overwrite"):be(this.display.cursorDiv,"CodeMirror-overwrite"),Vr(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==V(U(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Ea(function(b,T){uf(this,b,T)}),getScrollInfo:function(){var b=this.display.scroller;return{left:b.scrollLeft,top:b.scrollTop,height:b.scrollHeight-Au(this)-this.display.barHeight,width:b.scrollWidth-Au(this)-this.display.barWidth,clientHeight:Cd(this),clientWidth:Ul(this)}},scrollIntoView:Ea(function(b,T){b==null?(b={from:this.doc.sel.primary().head,to:null},T==null&&(T=this.options.cursorScrollMargin)):typeof b=="number"?b={from:ye(b,0),to:null}:b.from==null&&(b={from:b,to:null}),b.to||(b.to=b.from),b.margin=T||0,b.from.line!=null?wr(this,b):sc(this,b.from,b.to,b.margin)}),setSize:Ea(function(b,T){var M=this,N=function(Q){return typeof Q=="number"||/^\d+$/.test(String(Q))?Q+"px":Q};b!=null&&(this.display.wrapper.style.width=N(b)),T!=null&&(this.display.wrapper.style.height=N(T)),this.options.lineWrapping&&Us(this);var Z=this.display.viewFrom;this.doc.iter(Z,this.display.viewTo,function(Q){if(Q.widgets){for(var ue=0;ue<Q.widgets.length;ue++)if(Q.widgets[ue].noHScroll){oc(M,Z,"widget");break}}++Z}),this.curOp.forceUpdate=!0,Vr(this,"refresh",this)}),operation:function(b){return Be(this,b)},startOperation:function(){return js(this)},endOperation:function(){return ys(this)},refresh:Ea(function(){var b=this.display.cachedTextHeight;ri(this),this.curOp.forceUpdate=!0,nc(this),uf(this,this.doc.scrollLeft,this.doc.scrollTop),pu(this.display),(b==null||Math.abs(b-Iu(this.display))>.5||this.options.lineWrapping)&&Jn(this),Vr(this,"refresh",this)}),swapDoc:Ea(function(b){var T=this.doc;return T.cm=null,this.state.selectingText&&this.state.selectingText(),P(this,b),nc(this),this.display.input.reset(),uf(this,b.scrollLeft,b.scrollTop),this.curOp.forceScroll=!0,wo(this,"swapDoc",this,T),T}),phrase:function(b){var T=this.options.phrases;return T&&Object.prototype.hasOwnProperty.call(T,b)?T[b]:b},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},fo(o),o.registerHelper=function(b,T,M){p.hasOwnProperty(b)||(p[b]=o[b]={_global:[]}),p[b][T]=M},o.registerGlobalHelper=function(b,T,M,N){o.registerHelper(b,T,N),p[b]._global.push({pred:M,val:N})}}function Zh(o,u,p,b,T){var M=u,N=p,Z=jt(o,u.line),Q=T&&o.direction=="rtl"?-p:p;function ue(){var dr=u.line+Q;return dr<o.first||dr>=o.first+o.size?!1:(u=new ye(dr,u.ch,u.sticky),Z=jt(o,dr))}function Ce(dr){var ur;if(b=="codepoint"){var xr=Z.text.charCodeAt(u.ch+(p>0?0:-1));if(isNaN(xr))ur=null;else{var Jr=p>0?xr>=55296&&xr<56320:xr>=56320&&xr<57343;ur=new ye(u.line,Math.max(0,Math.min(Z.text.length,u.ch+p*(Jr?2:1))),-p)}}else T?ur=jm(o.cm,Z,u,p):ur=Xl(Z,u,p);if(ur==null)if(!dr&&ue())u=Lf(T,o.cm,Z,u.line,Q);else return!1;else u=ur;return!0}if(b=="char"||b=="codepoint")Ce();else if(b=="column")Ce(!0);else if(b=="word"||b=="group")for(var Re=null,it=b=="group",at=o.cm&&o.cm.getHelper(u,"wordChars"),wt=!0;!(p<0&&!Ce(!wt));wt=!1){var zt=Z.text.charAt(u.ch)||`
`,$t=vr(zt,at)?"w":it&&zt==`
`?"n":!it||/\s/.test(zt)?null:"p";if(it&&!wt&&!$t&&($t="s"),Re&&Re!=$t){p<0&&(p=1,Ce(),u.sticky="after");break}if($t&&(Re=$t),p>0&&!Ce(!wt))break}var or=Vn(o,u,M,N,!0);return dt(M,or)&&(or.hitSide=!0),or}function Xh(o,u,p,b){var T=o.doc,M=u.left,N;if(b=="page"){var Z=Math.min(o.display.wrapper.clientHeight,Ue(o).innerHeight||T(o).documentElement.clientHeight),Q=Math.max(Z-.5*Iu(o.display),3);N=(p>0?u.bottom:u.top)+p*Q}else b=="line"&&(N=p>0?u.bottom+3:u.top-3);for(var ue;ue=fn(o,M,N),!!ue.outside;){if(p<0?N<=0:N>=T.height){ue.hitSide=!0;break}N+=p*5}return ue}var en=function(o){this.cm=o,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Tt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};en.prototype.init=function(o){var u=this,p=this,b=p.cm,T=p.div=o.lineDiv;T.contentEditable=!0,hh(T,b.options.spellcheck,b.options.autocorrect,b.options.autocapitalize);function M(Z){for(var Q=Z.target;Q;Q=Q.parentNode){if(Q==T)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Q.className))break}return!1}Et(T,"paste",function(Z){!M(Z)||yn(b,Z)||Km(Z,b)||h<=11&&setTimeout(yi(b,function(){return u.updateFromDOM()}),20)}),Et(T,"compositionstart",function(Z){u.composing={data:Z.data,done:!1}}),Et(T,"compositionupdate",function(Z){u.composing||(u.composing={data:Z.data,done:!1})}),Et(T,"compositionend",function(Z){u.composing&&(Z.data!=u.composing.data&&u.readFromDOMSoon(),u.composing.done=!0)}),Et(T,"touchstart",function(){return p.forceCompositionEnd()}),Et(T,"input",function(){u.composing||u.readFromDOMSoon()});function N(Z){if(!(!M(Z)||yn(b,Z))){if(b.somethingSelected())_u({lineWise:!1,text:b.getSelections()}),Z.type=="cut"&&b.replaceSelection("",null,"cut");else if(b.options.lineWiseCopyCut){var Q=Wu(b);_u({lineWise:!0,text:Q.text}),Z.type=="cut"&&b.operation(function(){b.setSelections(Q.ranges,0,cr),b.replaceSelection("",null,"cut")})}else return;if(Z.clipboardData){Z.clipboardData.clearData();var ue=wl.text.join(`
`);if(Z.clipboardData.setData("Text",ue),Z.clipboardData.getData("Text")==ue){Z.preventDefault();return}}var Ce=Ep(),Re=Ce.firstChild;hh(Re),b.display.lineSpace.insertBefore(Ce,b.display.lineSpace.firstChild),Re.value=wl.text.join(`
`);var it=V(T.ownerDocument);K(Re),setTimeout(function(){b.display.lineSpace.removeChild(Ce),it.focus(),it==T&&p.showPrimarySelection()},50)}}Et(T,"copy",N),Et(T,"cut",N)},en.prototype.screenReaderLabelChanged=function(o){o?this.div.setAttribute("aria-label",o):this.div.removeAttribute("aria-label")},en.prototype.prepareSelection=function(){var o=Df(this.cm,!1);return o.focus=V(this.div.ownerDocument)==this.div,o},en.prototype.showSelection=function(o,u){!o||!this.cm.display.view.length||((o.focus||u)&&this.showPrimarySelection(),this.showMultipleSelections(o))},en.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},en.prototype.showPrimarySelection=function(){var o=this.getSelection(),u=this.cm,p=u.doc.sel.primary(),b=p.from(),T=p.to();if(u.display.viewTo==u.display.viewFrom||b.line>=u.display.viewTo||T.line<u.display.viewFrom){o.removeAllRanges();return}var M=Rd(u,o.anchorNode,o.anchorOffset),N=Rd(u,o.focusNode,o.focusOffset);if(!(M&&!M.bad&&N&&!N.bad&&Ge(Or(M,N),b)==0&&Ge(tr(M,N),T)==0)){var Z=u.display.view,Q=b.line>=u.display.viewFrom&&ws(u,b)||{node:Z[0].measure.map[2],offset:0},ue=T.line<u.display.viewTo&&ws(u,T);if(!ue){var Ce=Z[Z.length-1].measure,Re=Ce.maps?Ce.maps[Ce.maps.length-1]:Ce.map;ue={node:Re[Re.length-1],offset:Re[Re.length-2]-Re[Re.length-3]}}if(!Q||!ue){o.removeAllRanges();return}var it=o.rangeCount&&o.getRangeAt(0),at;try{at=j(Q.node,Q.offset,ue.offset,ue.node)}catch{}at&&(!t&&u.state.focused?(o.collapse(Q.node,Q.offset),at.collapsed||(o.removeAllRanges(),o.addRange(at))):(o.removeAllRanges(),o.addRange(at)),it&&o.anchorNode==null?o.addRange(it):t&&this.startGracePeriod()),this.rememberSelection()}},en.prototype.startGracePeriod=function(){var o=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){o.gracePeriod=!1,o.selectionChanged()&&o.cm.operation(function(){return o.cm.curOp.selectionChanged=!0})},20)},en.prototype.showMultipleSelections=function(o){q(this.cm.display.cursorDiv,o.cursors),q(this.cm.display.selectionDiv,o.selection)},en.prototype.rememberSelection=function(){var o=this.getSelection();this.lastAnchorNode=o.anchorNode,this.lastAnchorOffset=o.anchorOffset,this.lastFocusNode=o.focusNode,this.lastFocusOffset=o.focusOffset},en.prototype.selectionInEditor=function(){var o=this.getSelection();if(!o.rangeCount)return!1;var u=o.getRangeAt(0).commonAncestorContainer;return G(this.div,u)},en.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||V(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},en.prototype.blur=function(){this.div.blur()},en.prototype.getField=function(){return this.div},en.prototype.supportsTouch=function(){return!0},en.prototype.receivedFocus=function(){var o=this,u=this;this.selectionInEditor()?setTimeout(function(){return o.pollSelection()},20):Be(this.cm,function(){return u.cm.curOp.selectionChanged=!0});function p(){u.cm.state.focused&&(u.pollSelection(),u.polling.set(u.cm.options.pollInterval,p))}this.polling.set(this.cm.options.pollInterval,p)},en.prototype.selectionChanged=function(){var o=this.getSelection();return o.anchorNode!=this.lastAnchorNode||o.anchorOffset!=this.lastAnchorOffset||o.focusNode!=this.lastFocusNode||o.focusOffset!=this.lastFocusOffset},en.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var o=this.getSelection(),u=this.cm;if(oe&&C&&this.cm.display.gutterSpecs.length&&Pd(o.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var p=Rd(u,o.anchorNode,o.anchorOffset),b=Rd(u,o.focusNode,o.focusOffset);p&&b&&Be(u,function(){Gr(u.doc,mu(p,b),cr),(p.bad||b.bad)&&(u.curOp.selectionChanged=!0)})}}},en.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var o=this.cm,u=o.display,p=o.doc.sel.primary(),b=p.from(),T=p.to();if(b.ch==0&&b.line>o.firstLine()&&(b=ye(b.line-1,jt(o.doc,b.line-1).length)),T.ch==jt(o.doc,T.line).text.length&&T.line<o.lastLine()&&(T=ye(T.line+1,0)),b.line<u.viewFrom||T.line>u.viewTo-1)return!1;var M,N,Z;b.line==u.viewFrom||(M=Wa(o,b.line))==0?(N=je(u.view[0].line),Z=u.view[0].node):(N=je(u.view[M].line),Z=u.view[M-1].node.nextSibling);var Q=Wa(o,T.line),ue,Ce;if(Q==u.view.length-1?(ue=u.viewTo-1,Ce=u.lineDiv.lastChild):(ue=je(u.view[Q+1].line)-1,Ce=u.view[Q+1].node.previousSibling),!Z)return!1;for(var Re=o.doc.splitLines(Ya(o,Z,Ce,N,ue)),it=Bt(o.doc,ye(N,0),ye(ue,jt(o.doc,ue).text.length));Re.length>1&&it.length>1;)if(ce(Re)==ce(it))Re.pop(),it.pop(),ue--;else if(Re[0]==it[0])Re.shift(),it.shift(),N++;else break;for(var at=0,wt=0,zt=Re[0],$t=it[0],or=Math.min(zt.length,$t.length);at<or&&zt.charCodeAt(at)==$t.charCodeAt(at);)++at;for(var dr=ce(Re),ur=ce(it),xr=Math.min(dr.length-(Re.length==1?at:0),ur.length-(it.length==1?at:0));wt<xr&&dr.charCodeAt(dr.length-wt-1)==ur.charCodeAt(ur.length-wt-1);)++wt;if(Re.length==1&&it.length==1&&N==b.line)for(;at&&at>b.ch&&dr.charCodeAt(dr.length-wt-1)==ur.charCodeAt(ur.length-wt-1);)at--,wt++;Re[Re.length-1]=dr.slice(0,dr.length-wt).replace(/^\u200b+/,""),Re[0]=Re[0].slice(at).replace(/\u200b+$/,"");var Jr=ye(N,at),ln=ye(ue,it.length?ce(it).length-wt:0);if(Re.length>1||Re[0]||Ge(Jr,ln))return _o(o.doc,Re,Jr,ln,"+input"),!0},en.prototype.ensurePolled=function(){this.forceCompositionEnd()},en.prototype.reset=function(){this.forceCompositionEnd()},en.prototype.forceCompositionEnd=function(){!this.composing||(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},en.prototype.readFromDOMSoon=function(){var o=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(o.readDOMTimeout=null,o.composing)if(o.composing.done)o.composing=null;else return;o.updateFromDOM()},80))},en.prototype.updateFromDOM=function(){var o=this;(this.cm.isReadOnly()||!this.pollContent())&&Be(this.cm,function(){return ri(o.cm)})},en.prototype.setUneditable=function(o){o.contentEditable="false"},en.prototype.onKeyPress=function(o){o.charCode==0||this.composing||(o.preventDefault(),this.cm.isReadOnly()||yi(this.cm,Tp)(this.cm,String.fromCharCode(o.charCode==null?o.keyCode:o.charCode),0))},en.prototype.readOnlyChanged=function(o){this.div.contentEditable=String(o!="nocursor")},en.prototype.onContextMenu=function(){},en.prototype.resetPosition=function(){},en.prototype.needsContentAttribute=!0;function ws(o,u){var p=mo(o,u.line);if(!p||p.hidden)return null;var b=jt(o.doc,u.line),T=bc(p,b,u.line),M=$n(b,o.doc.direction),N="left";if(M){var Z=ki(M,u.ch);N=Z%2?"right":"left"}var Q=rh(T.map,u.ch,N);return Q.offset=Q.collapse=="right"?Q.end:Q.start,Q}function Pd(o){for(var u=o;u;u=u.parentNode)if(/CodeMirror-gutter-wrapper/.test(u.className))return!0;return!1}function fc(o,u){return u&&(o.bad=!0),o}function Ya(o,u,p,b,T){var M="",N=!1,Z=o.doc.lineSeparator(),Q=!1;function ue(at){return function(wt){return wt.id==at}}function Ce(){N&&(M+=Z,Q&&(M+=Z),N=Q=!1)}function Re(at){at&&(Ce(),M+=at)}function it(at){if(at.nodeType==1){var wt=at.getAttribute("cm-text");if(wt){Re(wt);return}var zt=at.getAttribute("cm-marker"),$t;if(zt){var or=o.findMarks(ye(b,0),ye(T+1,0),ue(+zt));or.length&&($t=or[0].find(0))&&Re(Bt(o.doc,$t.from,$t.to).join(Z));return}if(at.getAttribute("contenteditable")=="false")return;var dr=/^(pre|div|p|li|table|br)$/i.test(at.nodeName);if(!/^br$/i.test(at.nodeName)&&at.textContent.length==0)return;dr&&Ce();for(var ur=0;ur<at.childNodes.length;ur++)it(at.childNodes[ur]);/^(pre|p)$/i.test(at.nodeName)&&(Q=!0),dr&&(N=!0)}else at.nodeType==3&&Re(at.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;it(u),u!=p;)u=u.nextSibling,Q=!1;return M}function Rd(o,u,p){var b;if(u==o.display.lineDiv){if(b=o.display.lineDiv.childNodes[p],!b)return fc(o.clipPos(ye(o.display.viewTo-1)),!0);u=null,p=0}else for(b=u;;b=b.parentNode){if(!b||b==o.display.lineDiv)return null;if(b.parentNode&&b.parentNode==o.display.lineDiv)break}for(var T=0;T<o.display.view.length;T++){var M=o.display.view[T];if(M.node==b)return Zm(M,u,p)}}function Zm(o,u,p){var b=o.text.firstChild,T=!1;if(!u||!G(b,u))return fc(ye(je(o.line),0),!0);if(u==b&&(T=!0,u=b.childNodes[p],p=0,!u)){var M=o.rest?ce(o.rest):o.line;return fc(ye(je(M),M.text.length),T)}var N=u.nodeType==3?u:null,Z=u;for(!N&&u.childNodes.length==1&&u.firstChild.nodeType==3&&(N=u.firstChild,p&&(p=N.nodeValue.length));Z.parentNode!=b;)Z=Z.parentNode;var Q=o.measure,ue=Q.maps;function Ce($t,or,dr){for(var ur=-1;ur<(ue?ue.length:0);ur++)for(var xr=ur<0?Q.map:ue[ur],Jr=0;Jr<xr.length;Jr+=3){var ln=xr[Jr+2];if(ln==$t||ln==or){var _n=je(ur<0?o.line:o.rest[ur]),Ti=xr[Jr]+dr;return(dr<0||ln!=$t)&&(Ti=xr[Jr+(dr?1:0)]),ye(_n,Ti)}}}var Re=Ce(N,Z,p);if(Re)return fc(Re,T);for(var it=Z.nextSibling,at=N?N.nodeValue.length-p:0;it;it=it.nextSibling){if(Re=Ce(it,it.firstChild,0),Re)return fc(ye(Re.line,Re.ch-at),T);at+=it.textContent.length}for(var wt=Z.previousSibling,zt=p;wt;wt=wt.previousSibling){if(Re=Ce(wt,wt.firstChild,-1),Re)return fc(ye(Re.line,Re.ch+zt),T);zt+=wt.textContent.length}}var Hi=function(o){this.cm=o,this.prevInput="",this.pollingFast=!1,this.polling=new Tt,this.hasSelection=!1,this.composing=null,this.resetting=!1};Hi.prototype.init=function(o){var u=this,p=this,b=this.cm;this.createField(o);var T=this.textarea;o.wrapper.insertBefore(this.wrapper,o.wrapper.firstChild),re&&(T.style.width="0px"),Et(T,"input",function(){l&&h>=9&&u.hasSelection&&(u.hasSelection=null),p.poll()}),Et(T,"paste",function(N){yn(b,N)||Km(N,b)||(b.state.pasteIncoming=+new Date,p.fastPoll())});function M(N){if(!yn(b,N)){if(b.somethingSelected())_u({lineWise:!1,text:b.getSelections()});else if(b.options.lineWiseCopyCut){var Z=Wu(b);_u({lineWise:!0,text:Z.text}),N.type=="cut"?b.setSelections(Z.ranges,null,cr):(p.prevInput="",T.value=Z.text.join(`
`),K(T))}else return;N.type=="cut"&&(b.state.cutIncoming=+new Date)}}Et(T,"cut",M),Et(T,"copy",M),Et(o.scroller,"paste",function(N){if(!(ms(o,N)||yn(b,N))){if(!T.dispatchEvent){b.state.pasteIncoming=+new Date,p.focus();return}var Z=new Event("paste");Z.clipboardData=N.clipboardData,T.dispatchEvent(Z)}}),Et(o.lineSpace,"selectstart",function(N){ms(o,N)||gi(N)}),Et(T,"compositionstart",function(){var N=b.getCursor("from");p.composing&&p.composing.range.clear(),p.composing={start:N,range:b.markText(N,b.getCursor("to"),{className:"CodeMirror-composing"})}}),Et(T,"compositionend",function(){p.composing&&(p.poll(),p.composing.range.clear(),p.composing=null)})},Hi.prototype.createField=function(o){this.wrapper=Ep(),this.textarea=this.wrapper.firstChild;var u=this.cm.options;hh(this.textarea,u.spellcheck,u.autocorrect,u.autocapitalize)},Hi.prototype.screenReaderLabelChanged=function(o){o?this.textarea.setAttribute("aria-label",o):this.textarea.removeAttribute("aria-label")},Hi.prototype.prepareSelection=function(){var o=this.cm,u=o.display,p=o.doc,b=Df(o);if(o.options.moveInputWithCursor){var T=Pt(o,p.sel.primary().head,"div"),M=u.wrapper.getBoundingClientRect(),N=u.lineDiv.getBoundingClientRect();b.teTop=Math.max(0,Math.min(u.wrapper.clientHeight-10,T.top+N.top-M.top)),b.teLeft=Math.max(0,Math.min(u.wrapper.clientWidth-10,T.left+N.left-M.left))}return b},Hi.prototype.showSelection=function(o){var u=this.cm,p=u.display;q(p.cursorDiv,o.cursors),q(p.selectionDiv,o.selection),o.teTop!=null&&(this.wrapper.style.top=o.teTop+"px",this.wrapper.style.left=o.teLeft+"px")},Hi.prototype.reset=function(o){if(!(this.contextMenuPending||this.composing&&o)){var u=this.cm;if(this.resetting=!0,u.somethingSelected()){this.prevInput="";var p=u.getSelection();this.textarea.value=p,u.state.focused&&K(this.textarea),l&&h>=9&&(this.hasSelection=p)}else o||(this.prevInput=this.textarea.value="",l&&h>=9&&(this.hasSelection=null));this.resetting=!1}},Hi.prototype.getField=function(){return this.textarea},Hi.prototype.supportsTouch=function(){return!1},Hi.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!ne||V(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},Hi.prototype.blur=function(){this.textarea.blur()},Hi.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Hi.prototype.receivedFocus=function(){this.slowPoll()},Hi.prototype.slowPoll=function(){var o=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){o.poll(),o.cm.state.focused&&o.slowPoll()})},Hi.prototype.fastPoll=function(){var o=!1,u=this;u.pollingFast=!0;function p(){var b=u.poll();!b&&!o?(o=!0,u.polling.set(60,p)):(u.pollingFast=!1,u.slowPoll())}u.polling.set(20,p)},Hi.prototype.poll=function(){var o=this,u=this.cm,p=this.textarea,b=this.prevInput;if(this.contextMenuPending||this.resetting||!u.state.focused||bn(p)&&!b&&!this.composing||u.isReadOnly()||u.options.disableInput||u.state.keySeq)return!1;var T=p.value;if(T==b&&!u.somethingSelected())return!1;if(l&&h>=9&&this.hasSelection===T||he&&/[\uf700-\uf7ff]/.test(T))return u.display.input.reset(),!1;if(u.doc.sel==u.display.selForContextMenu){var M=T.charCodeAt(0);if(M==8203&&!b&&(b="\u200B"),M==8666)return this.reset(),this.cm.execCommand("undo")}for(var N=0,Z=Math.min(b.length,T.length);N<Z&&b.charCodeAt(N)==T.charCodeAt(N);)++N;return Be(u,function(){Tp(u,T.slice(N),b.length-N,null,o.composing?"*compose":null),T.length>1e3||T.indexOf(`
`)>-1?p.value=o.prevInput="":o.prevInput=T,o.composing&&(o.composing.range.clear(),o.composing.range=u.markText(o.composing.start,u.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Hi.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Hi.prototype.onKeyPress=function(){l&&h>=9&&(this.hasSelection=null),this.fastPoll()},Hi.prototype.onContextMenu=function(o){var u=this,p=u.cm,b=p.display,T=u.textarea;u.contextMenuPending&&u.contextMenuPending();var M=hl(p,o),N=b.scroller.scrollTop;if(!M||F)return;var Z=p.options.resetSelectionOnContextMenu;Z&&p.doc.sel.contains(M)==-1&&yi(p,Gr)(p.doc,mu(M),cr);var Q=T.style.cssText,ue=u.wrapper.style.cssText,Ce=u.wrapper.offsetParent.getBoundingClientRect();u.wrapper.style.cssText="position: static",T.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(o.clientY-Ce.top-5)+"px; left: "+(o.clientX-Ce.left-5)+`px;
      z-index: 1000; background: `+(l?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Re;g&&(Re=T.ownerDocument.defaultView.scrollY),b.input.focus(),g&&T.ownerDocument.defaultView.scrollTo(null,Re),b.input.reset(),p.somethingSelected()||(T.value=u.prevInput=" "),u.contextMenuPending=at,b.selForContextMenu=p.doc.sel,clearTimeout(b.detectingSelectAll);function it(){if(T.selectionStart!=null){var zt=p.somethingSelected(),$t="\u200B"+(zt?T.value:"");T.value="\u21DA",T.value=$t,u.prevInput=zt?"":"\u200B",T.selectionStart=1,T.selectionEnd=$t.length,b.selForContextMenu=p.doc.sel}}function at(){if(u.contextMenuPending==at&&(u.contextMenuPending=!1,u.wrapper.style.cssText=ue,T.style.cssText=Q,l&&h<9&&b.scrollbars.setScrollTop(b.scroller.scrollTop=N),T.selectionStart!=null)){(!l||l&&h<9)&&it();var zt=0,$t=function(){b.selForContextMenu==p.doc.sel&&T.selectionStart==0&&T.selectionEnd>0&&u.prevInput=="\u200B"?yi(p,Ln)(p):zt++<10?b.detectingSelectAll=setTimeout($t,500):(b.selForContextMenu=null,b.input.reset())};b.detectingSelectAll=setTimeout($t,200)}}if(l&&h>=9&&it(),we){Mt(o);var wt=function(){on(window,"mouseup",wt),setTimeout(at,20)};Et(window,"mouseup",wt)}else setTimeout(at,50)},Hi.prototype.readOnlyChanged=function(o){o||this.reset(),this.textarea.disabled=o=="nocursor",this.textarea.readOnly=!!o},Hi.prototype.setUneditable=function(){},Hi.prototype.needsContentAttribute=!1;function lm(o,u){if(u=u?Qe(u):{},u.value=o.value,!u.tabindex&&o.tabIndex&&(u.tabindex=o.tabIndex),!u.placeholder&&o.placeholder&&(u.placeholder=o.placeholder),u.autofocus==null){var p=V(o.ownerDocument);u.autofocus=p==o||o.getAttribute("autofocus")!=null&&p==document.body}function b(){o.value=Z.getValue()}var T;if(o.form&&(Et(o.form,"submit",b),!u.leaveSubmitMethodAlone)){var M=o.form;T=M.submit;try{var N=M.submit=function(){b(),M.submit=T,M.submit(),M.submit=N}}catch{}}u.finishInit=function(Q){Q.save=b,Q.getTextArea=function(){return o},Q.toTextArea=function(){Q.toTextArea=isNaN,b(),o.parentNode.removeChild(Q.getWrapperElement()),o.style.display="",o.form&&(on(o.form,"submit",b),!u.leaveSubmitMethodAlone&&typeof o.form.submit=="function"&&(o.form.submit=T))}},o.style.display="none";var Z=Go(function(Q){return o.parentNode.insertBefore(Q,o.nextSibling)},u);return Z}function f(o){o.off=on,o.on=Et,o.wheelEventPixels=Fi,o.Doc=Ga,o.splitLines=mn,o.countColumn=Ct,o.findColumn=At,o.isWordChar=Nt,o.Pass=Yt,o.signal=Vr,o.Line=Uo,o.changeEnd=Js,o.scrollbarModel=Ys,o.Pos=ye,o.cmpPos=Ge,o.modes=li,o.mimeModes=ke,o.resolveMode=Ye,o.getMode=ot,o.modeExtensions=yt,o.extendMode=mt,o.copyState=qe,o.startState=Ot,o.innerMode=Ke,o.commands=ah,o.keyMap=bl,o.keyName=oh,o.isModifierKey=xl,o.lookupKey=ih,o.normalizeKeyMap=Um,o.StringStream=lr,o.SharedTextMarker=Hs,o.TextMarker=Zl,o.LineWidget=xs,o.e_preventDefault=gi,o.e_stopPropagation=Xe,o.e_stop=Mt,o.addClass=te,o.contains=G,o.rmClass=be,o.keyNames=yl}$o(Go),Eo(Go);var v="iter insert remove copy getEditor constructor".split(" ");for(var A in Ga.prototype)Ga.prototype.hasOwnProperty(A)&&Ht(v,A)<0&&(Go.prototype[A]=function(o){return function(){return o.apply(this.doc,arguments)}}(Ga.prototype[A]));return fo(Ga),Go.inputStyles={textarea:Hi,contenteditable:en},Go.defineMode=function(o){!Go.defaults.mode&&o!="null"&&(Go.defaults.mode=o),Ie.apply(this,arguments)},Go.defineMIME=Fe,Go.defineMode("null",function(){return{token:function(o){return o.skipToEnd()}}}),Go.defineMIME("text/plain","null"),Go.defineExtension=function(o,u){Go.prototype[o]=u},Go.defineDocExtension=function(o,u){Ga.prototype[o]=u},Go.fromTextArea=lm,f(Go),Go.version="5.65.13",Go})});var mbe=de((dbe,pbe)=>{(function(r){typeof dbe=="object"&&typeof pbe=="object"?r(Lh()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";var e=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,t=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,n=/[*+-]\s/;r.commands.newlineAndIndentContinueMarkdownList=function(a){if(a.getOption("disableInput"))return r.Pass;for(var l=a.listSelections(),h=[],g=0;g<l.length;g++){var w=l[g].head,C=a.getStateAfter(w.line),D=r.innerMode(a.getMode(),C);if(D.mode.name!=="markdown"&&D.mode.helperType!=="markdown"){a.execCommand("newlineAndIndent");return}else C=D.state;var F=C.list!==!1,z=C.quote!==0,Y=a.getLine(w.line),$=e.exec(Y),re=/^\s*$/.test(Y.slice(0,w.ch));if(!l[g].empty()||!F&&!z||!$||re){a.execCommand("newlineAndIndent");return}if(t.test(Y)){var oe=z&&/>\s*$/.test(Y),ne=!/>\s*$/.test(Y);(oe||ne)&&a.replaceRange("",{line:w.line,ch:0},{line:w.line,ch:w.ch+1}),h[g]=`
`}else{var he=$[1],_=$[5],ge=!(n.test($[2])||$[2].indexOf(">")>=0),fe=ge?parseInt($[3],10)+1+$[4]:$[2].replace("x"," ");h[g]=`
`+he+fe+_,ge&&i(a,w)}}a.replaceSelections(h)};function i(a,l){var h=l.line,g=0,w=0,C=e.exec(a.getLine(h)),D=C[1];do{g+=1;var F=h+g,z=a.getLine(F),Y=e.exec(z);if(Y){var $=Y[1],re=parseInt(C[3],10)+g-w,oe=parseInt(Y[3],10),ne=oe;if(D===$&&!isNaN(oe))re===oe&&(ne=oe+1),re>oe&&(ne=re+1),a.replaceRange(z.replace(e,$+ne+Y[4]+Y[5]),{line:F,ch:0},{line:F,ch:z.length});else{if(D.length>$.length||D.length<$.length&&g===1)return;w+=1}}}while(Y)}})});var vbe=de(()=>{var gbe=Lh();gbe.commands.tabAndIndentMarkdownList=function(r){var e=r.listSelections(),t=e[0].head,n=r.getStateAfter(t.line),i=n.list!==!1;if(i){r.execCommand("indentMore");return}if(r.options.indentWithTabs)r.execCommand("insertTab");else{var a=Array(r.options.tabSize+1).join(" ");r.replaceSelection(a)}};gbe.commands.shiftTabAndUnindentMarkdownList=function(r){var e=r.listSelections(),t=e[0].head,n=r.getStateAfter(t.line),i=n.list!==!1;if(i){r.execCommand("indentLess");return}if(r.options.indentWithTabs)r.execCommand("insertTab");else{var a=Array(r.options.tabSize+1).join(" ");r.replaceSelection(a)}}});var xbe=de((ybe,bbe)=>{(function(r){typeof ybe=="object"&&typeof bbe=="object"?r(Lh()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineOption("fullScreen",!1,function(n,i,a){a==r.Init&&(a=!1),!a!=!i&&(i?e(n):t(n))});function e(n){var i=n.getWrapperElement();n.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:i.style.width,height:i.style.height},i.style.width="",i.style.height="auto",i.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",n.refresh()}function t(n){var i=n.getWrapperElement();i.className=i.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var a=n.state.fullScreenRestore;i.style.width=a.width,i.style.height=a.height,window.scrollTo(a.scrollLeft,a.scrollTop),n.refresh()}})});var uj=de((_be,wbe)=>{(function(r){typeof _be=="object"&&typeof wbe=="object"?r(Lh()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},t={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};r.defineMode("xml",function(n,i){var a=n.indentUnit,l={},h=i.htmlMode?e:t;for(var g in h)l[g]=h[g];for(var g in i)l[g]=i[g];var w,C;function D(ee,R){function j(te){return R.tokenize=te,te(ee,R)}var G=ee.next();if(G=="<")return ee.eat("!")?ee.eat("[")?ee.match("CDATA[")?j(Y("atom","]]>")):null:ee.match("--")?j(Y("comment","-->")):ee.match("DOCTYPE",!0,!0)?(ee.eatWhile(/[\w\._\-]/),j($(1))):null:ee.eat("?")?(ee.eatWhile(/[\w\._\-]/),R.tokenize=Y("meta","?>"),"meta"):(w=ee.eat("/")?"closeTag":"openTag",R.tokenize=F,"tag bracket");if(G=="&"){var V;return ee.eat("#")?ee.eat("x")?V=ee.eatWhile(/[a-fA-F\d]/)&&ee.eat(";"):V=ee.eatWhile(/[\d]/)&&ee.eat(";"):V=ee.eatWhile(/[\w\.\-:]/)&&ee.eat(";"),V?"atom":"error"}else return ee.eatWhile(/[^&<]/),null}D.isInText=!0;function F(ee,R){var j=ee.next();if(j==">"||j=="/"&&ee.eat(">"))return R.tokenize=D,w=j==">"?"endTag":"selfcloseTag","tag bracket";if(j=="=")return w="equals",null;if(j=="<"){R.tokenize=D,R.state=_,R.tagName=R.tagStart=null;var G=R.tokenize(ee,R);return G?G+" tag error":"tag error"}else return/[\'\"]/.test(j)?(R.tokenize=z(j),R.stringStartCol=ee.column(),R.tokenize(ee,R)):(ee.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function z(ee){var R=function(j,G){for(;!j.eol();)if(j.next()==ee){G.tokenize=F;break}return"string"};return R.isInAttribute=!0,R}function Y(ee,R){return function(j,G){for(;!j.eol();){if(j.match(R)){G.tokenize=D;break}j.next()}return ee}}function $(ee){return function(R,j){for(var G;(G=R.next())!=null;){if(G=="<")return j.tokenize=$(ee+1),j.tokenize(R,j);if(G==">")if(ee==1){j.tokenize=D;break}else return j.tokenize=$(ee-1),j.tokenize(R,j)}return"meta"}}function re(ee){return ee&&ee.toLowerCase()}function oe(ee,R,j){this.prev=ee.context,this.tagName=R||"",this.indent=ee.indented,this.startOfLine=j,(l.doNotIndent.hasOwnProperty(R)||ee.context&&ee.context.noIndent)&&(this.noIndent=!0)}function ne(ee){ee.context&&(ee.context=ee.context.prev)}function he(ee,R){for(var j;;){if(!ee.context||(j=ee.context.tagName,!l.contextGrabbers.hasOwnProperty(re(j))||!l.contextGrabbers[re(j)].hasOwnProperty(re(R))))return;ne(ee)}}function _(ee,R,j){return ee=="openTag"?(j.tagStart=R.column(),ge):ee=="closeTag"?fe:_}function ge(ee,R,j){return ee=="word"?(j.tagName=R.current(),C="tag",Se):l.allowMissingTagName&&ee=="endTag"?(C="tag bracket",Se(ee,R,j)):(C="error",ge)}function fe(ee,R,j){if(ee=="word"){var G=R.current();return j.context&&j.context.tagName!=G&&l.implicitlyClosed.hasOwnProperty(re(j.context.tagName))&&ne(j),j.context&&j.context.tagName==G||l.matchClosing===!1?(C="tag",me):(C="tag error",we)}else return l.allowMissingTagName&&ee=="endTag"?(C="tag bracket",me(ee,R,j)):(C="error",we)}function me(ee,R,j){return ee!="endTag"?(C="error",me):(ne(j),_)}function we(ee,R,j){return C="error",me(ee,R,j)}function Se(ee,R,j){if(ee=="word")return C="attribute",be;if(ee=="endTag"||ee=="selfcloseTag"){var G=j.tagName,V=j.tagStart;return j.tagName=j.tagStart=null,ee=="selfcloseTag"||l.autoSelfClosers.hasOwnProperty(re(G))?he(j,G):(he(j,G),j.context=new oe(j,G,V==j.indented)),_}return C="error",Se}function be(ee,R,j){return ee=="equals"?$e:(l.allowMissing||(C="error"),Se(ee,R,j))}function $e(ee,R,j){return ee=="string"?q:ee=="word"&&l.allowUnquoted?(C="string",Se):(C="error",Se(ee,R,j))}function q(ee,R,j){return ee=="string"?q:Se(ee,R,j)}return{startState:function(ee){var R={tokenize:D,state:_,indented:ee||0,tagName:null,tagStart:null,context:null};return ee!=null&&(R.baseIndent=ee),R},token:function(ee,R){if(!R.tagName&&ee.sol()&&(R.indented=ee.indentation()),ee.eatSpace())return null;w=null;var j=R.tokenize(ee,R);return(j||w)&&j!="comment"&&(C=null,R.state=R.state(w||j,ee,R),C&&(j=C=="error"?j+" error":C)),j},indent:function(ee,R,j){var G=ee.context;if(ee.tokenize.isInAttribute)return ee.tagStart==ee.indented?ee.stringStartCol+1:ee.indented+a;if(G&&G.noIndent)return r.Pass;if(ee.tokenize!=F&&ee.tokenize!=D)return j?j.match(/^(\s*)/)[0].length:0;if(ee.tagName)return l.multilineTagIndentPastTag!==!1?ee.tagStart+ee.tagName.length+2:ee.tagStart+a*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(R))return 0;var V=R&&/^<(\/)?([\w_:\.-]*)/.exec(R);if(V&&V[1])for(;G;)if(G.tagName==V[2]){G=G.prev;break}else if(l.implicitlyClosed.hasOwnProperty(re(G.tagName)))G=G.prev;else break;else if(V)for(;G;){var te=l.contextGrabbers[re(G.tagName)];if(te&&te.hasOwnProperty(re(V[2])))G=G.prev;else break}for(;G&&G.prev&&!G.startOfLine;)G=G.prev;return G?G.indent+a:ee.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(ee){ee.state==$e&&(ee.state=Se)},xmlCurrentTag:function(ee){return ee.tagName?{name:ee.tagName,close:ee.type=="closeTag"}:null},xmlCurrentContext:function(ee){for(var R=[],j=ee.context;j;j=j.prev)R.push(j.tagName);return R.reverse()}}}),r.defineMIME("text/xml","xml"),r.defineMIME("application/xml","xml"),r.mimeModes.hasOwnProperty("text/html")||r.defineMIME("text/html",{name:"xml",htmlMode:!0})})});var Ebe=de((Sbe,Tbe)=>{(function(r){typeof Sbe=="object"&&typeof Tbe=="object"?r(Lh()):typeof define=="function"&&define.amd?define(["../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var e=0;e<r.modeInfo.length;e++){var t=r.modeInfo[e];t.mimes&&(t.mime=t.mimes[0])}r.findModeByMIME=function(n){n=n.toLowerCase();for(var i=0;i<r.modeInfo.length;i++){var a=r.modeInfo[i];if(a.mime==n)return a;if(a.mimes){for(var l=0;l<a.mimes.length;l++)if(a.mimes[l]==n)return a}}if(/\+xml$/.test(n))return r.findModeByMIME("application/xml");if(/\+json$/.test(n))return r.findModeByMIME("application/json")},r.findModeByExtension=function(n){n=n.toLowerCase();for(var i=0;i<r.modeInfo.length;i++){var a=r.modeInfo[i];if(a.ext){for(var l=0;l<a.ext.length;l++)if(a.ext[l]==n)return a}}},r.findModeByFileName=function(n){for(var i=0;i<r.modeInfo.length;i++){var a=r.modeInfo[i];if(a.file&&a.file.test(n))return a}var l=n.lastIndexOf("."),h=l>-1&&n.substring(l+1,n.length);if(h)return r.findModeByExtension(h)},r.findModeByName=function(n){n=n.toLowerCase();for(var i=0;i<r.modeInfo.length;i++){var a=r.modeInfo[i];if(a.name.toLowerCase()==n)return a;if(a.alias){for(var l=0;l<a.alias.length;l++)if(a.alias[l].toLowerCase()==n)return a}}}})});var cj=de((kbe,Cbe)=>{(function(r){typeof kbe=="object"&&typeof Cbe=="object"?r(Lh(),uj(),Ebe()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],r):r(CodeMirror)})(function(r){"use strict";r.defineMode("markdown",function(e,t){var n=r.getMode(e,"text/html"),i=n.name=="null";function a(K){if(r.findModeByName){var U=r.findModeByName(K);U&&(K=U.mime||U.mimes[0])}var Ue=r.getMode(e,K);return Ue.name=="null"?null:Ue}t.highlightFormatting===void 0&&(t.highlightFormatting=!1),t.maxBlockquoteDepth===void 0&&(t.maxBlockquoteDepth=0),t.taskLists===void 0&&(t.taskLists=!1),t.strikethrough===void 0&&(t.strikethrough=!1),t.emoji===void 0&&(t.emoji=!1),t.fencedCodeBlockHighlighting===void 0&&(t.fencedCodeBlockHighlighting=!0),t.fencedCodeBlockDefaultMode===void 0&&(t.fencedCodeBlockDefaultMode="text/plain"),t.xml===void 0&&(t.xml=!0),t.tokenTypeOverrides===void 0&&(t.tokenTypeOverrides={});var l={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var h in l)l.hasOwnProperty(h)&&t.tokenTypeOverrides[h]&&(l[h]=t.tokenTypeOverrides[h]);var g=/^([*\-_])(?:\s*\1){2,}\s*$/,w=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,C=/^\[(x| )\](?=\s)/i,D=t.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,F=/^ {0,3}(?:\={1,}|-{2,})\s*$/,z=/^[^#!\[\]*_\\<>` "'(~:]+/,Y=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,$=/^\s*\[[^\]]+?\]:.*$/,re=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,oe="    ";function ne(K,U,Ue){return U.f=U.inline=Ue,Ue(K,U)}function he(K,U,Ue){return U.f=U.block=Ue,Ue(K,U)}function _(K){return!K||!/\S/.test(K.string)}function ge(K){if(K.linkTitle=!1,K.linkHref=!1,K.linkText=!1,K.em=!1,K.strong=!1,K.strikethrough=!1,K.quote=0,K.indentedCode=!1,K.f==me){var U=i;if(!U){var Ue=r.innerMode(n,K.htmlState);U=Ue.mode.name=="xml"&&Ue.state.tagStart===null&&!Ue.state.context&&Ue.state.tokenize.isInText}U&&(K.f=$e,K.block=fe,K.htmlState=null)}return K.trailingSpace=0,K.trailingSpaceNewLine=!1,K.prevLine=K.thisLine,K.thisLine={stream:null},null}function fe(K,U){var Ue=K.column()===U.indentation,Je=_(U.prevLine.stream),Qe=U.indentedCode,Ct=U.prevLine.hr,Tt=U.list!==!1,Ht=(U.listStack[U.listStack.length-1]||0)+3;U.indentedCode=!1;var Rt=U.indentation;if(U.indentationDiff===null&&(U.indentationDiff=U.indentation,Tt)){for(U.list=null;Rt<U.listStack[U.listStack.length-1];)U.listStack.pop(),U.listStack.length?U.indentation=U.listStack[U.listStack.length-1]:U.list=!1;U.list!==!1&&(U.indentationDiff=Rt-U.listStack[U.listStack.length-1])}var Yt=!Je&&!Ct&&!U.prevLine.header&&(!Tt||!Qe)&&!U.prevLine.fencedCodeEnd,cr=(U.list===!1||Ct||Je)&&U.indentation<=Ht&&K.match(g),Tr=null;if(U.indentationDiff>=4&&(Qe||U.prevLine.fencedCodeEnd||U.prevLine.header||Je))return K.skipToEnd(),U.indentedCode=!0,l.code;if(K.eatSpace())return null;if(Ue&&U.indentation<=Ht&&(Tr=K.match(D))&&Tr[1].length<=6)return U.quote=0,U.header=Tr[1].length,U.thisLine.header=!0,t.highlightFormatting&&(U.formatting="header"),U.f=U.inline,Se(U);if(U.indentation<=Ht&&K.eat(">"))return U.quote=Ue?1:U.quote+1,t.highlightFormatting&&(U.formatting="quote"),K.eatSpace(),Se(U);if(!cr&&!U.setext&&Ue&&U.indentation<=Ht&&(Tr=K.match(w))){var ir=Tr[1]?"ol":"ul";return U.indentation=Rt+K.current().length,U.list=!0,U.quote=0,U.listStack.push(U.indentation),U.em=!1,U.strong=!1,U.code=!1,U.strikethrough=!1,t.taskLists&&K.match(C,!1)&&(U.taskList=!0),U.f=U.inline,t.highlightFormatting&&(U.formatting=["list","list-"+ir]),Se(U)}else{if(Ue&&U.indentation<=Ht&&(Tr=K.match(Y,!0)))return U.quote=0,U.fencedEndRE=new RegExp(Tr[1]+"+ *$"),U.localMode=t.fencedCodeBlockHighlighting&&a(Tr[2]||t.fencedCodeBlockDefaultMode),U.localMode&&(U.localState=r.startState(U.localMode)),U.f=U.block=we,t.highlightFormatting&&(U.formatting="code-block"),U.code=-1,Se(U);if(U.setext||(!Yt||!Tt)&&!U.quote&&U.list===!1&&!U.code&&!cr&&!$.test(K.string)&&(Tr=K.lookAhead(1))&&(Tr=Tr.match(F)))return U.setext?(U.header=U.setext,U.setext=0,K.skipToEnd(),t.highlightFormatting&&(U.formatting="header")):(U.header=Tr[0].charAt(0)=="="?1:2,U.setext=U.header),U.thisLine.header=!0,U.f=U.inline,Se(U);if(cr)return K.skipToEnd(),U.hr=!0,U.thisLine.hr=!0,l.hr;if(K.peek()==="[")return ne(K,U,G)}return ne(K,U,U.inline)}function me(K,U){var Ue=n.token(K,U.htmlState);if(!i){var Je=r.innerMode(n,U.htmlState);(Je.mode.name=="xml"&&Je.state.tagStart===null&&!Je.state.context&&Je.state.tokenize.isInText||U.md_inside&&K.current().indexOf(">")>-1)&&(U.f=$e,U.block=fe,U.htmlState=null)}return Ue}function we(K,U){var Ue=U.listStack[U.listStack.length-1]||0,Je=U.indentation<Ue,Qe=Ue+3;if(U.fencedEndRE&&U.indentation<=Qe&&(Je||K.match(U.fencedEndRE))){t.highlightFormatting&&(U.formatting="code-block");var Ct;return Je||(Ct=Se(U)),U.localMode=U.localState=null,U.block=fe,U.f=$e,U.fencedEndRE=null,U.code=0,U.thisLine.fencedCodeEnd=!0,Je?he(K,U,U.block):Ct}else return U.localMode?U.localMode.token(K,U.localState):(K.skipToEnd(),l.code)}function Se(K){var U=[];if(K.formatting){U.push(l.formatting),typeof K.formatting=="string"&&(K.formatting=[K.formatting]);for(var Ue=0;Ue<K.formatting.length;Ue++)U.push(l.formatting+"-"+K.formatting[Ue]),K.formatting[Ue]==="header"&&U.push(l.formatting+"-"+K.formatting[Ue]+"-"+K.header),K.formatting[Ue]==="quote"&&(!t.maxBlockquoteDepth||t.maxBlockquoteDepth>=K.quote?U.push(l.formatting+"-"+K.formatting[Ue]+"-"+K.quote):U.push("error"))}if(K.taskOpen)return U.push("meta"),U.length?U.join(" "):null;if(K.taskClosed)return U.push("property"),U.length?U.join(" "):null;if(K.linkHref?U.push(l.linkHref,"url"):(K.strong&&U.push(l.strong),K.em&&U.push(l.em),K.strikethrough&&U.push(l.strikethrough),K.emoji&&U.push(l.emoji),K.linkText&&U.push(l.linkText),K.code&&U.push(l.code),K.image&&U.push(l.image),K.imageAltText&&U.push(l.imageAltText,"link"),K.imageMarker&&U.push(l.imageMarker)),K.header&&U.push(l.header,l.header+"-"+K.header),K.quote&&(U.push(l.quote),!t.maxBlockquoteDepth||t.maxBlockquoteDepth>=K.quote?U.push(l.quote+"-"+K.quote):U.push(l.quote+"-"+t.maxBlockquoteDepth)),K.list!==!1){var Je=(K.listStack.length-1)%3;Je?Je===1?U.push(l.list2):U.push(l.list3):U.push(l.list1)}return K.trailingSpaceNewLine?U.push("trailing-space-new-line"):K.trailingSpace&&U.push("trailing-space-"+(K.trailingSpace%2?"a":"b")),U.length?U.join(" "):null}function be(K,U){if(K.match(z,!0))return Se(U)}function $e(K,U){var Ue=U.text(K,U);if(typeof Ue<"u")return Ue;if(U.list)return U.list=null,Se(U);if(U.taskList){var Je=K.match(C,!0)[1]===" ";return Je?U.taskOpen=!0:U.taskClosed=!0,t.highlightFormatting&&(U.formatting="task"),U.taskList=!1,Se(U)}if(U.taskOpen=!1,U.taskClosed=!1,U.header&&K.match(/^#+$/,!0))return t.highlightFormatting&&(U.formatting="header"),Se(U);var Qe=K.next();if(U.linkTitle){U.linkTitle=!1;var Ct=Qe;Qe==="("&&(Ct=")"),Ct=(Ct+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var Tt="^\\s*(?:[^"+Ct+"\\\\]+|\\\\\\\\|\\\\.)"+Ct;if(K.match(new RegExp(Tt),!0))return l.linkHref}if(Qe==="`"){var Ht=U.formatting;t.highlightFormatting&&(U.formatting="code"),K.eatWhile("`");var Rt=K.current().length;if(U.code==0&&(!U.quote||Rt==1))return U.code=Rt,Se(U);if(Rt==U.code){var Yt=Se(U);return U.code=0,Yt}else return U.formatting=Ht,Se(U)}else if(U.code)return Se(U);if(Qe==="\\"&&(K.next(),t.highlightFormatting)){var cr=Se(U),Tr=l.formatting+"-escape";return cr?cr+" "+Tr:Tr}if(Qe==="!"&&K.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return U.imageMarker=!0,U.image=!0,t.highlightFormatting&&(U.formatting="image"),Se(U);if(Qe==="["&&U.imageMarker&&K.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return U.imageMarker=!1,U.imageAltText=!0,t.highlightFormatting&&(U.formatting="image"),Se(U);if(Qe==="]"&&U.imageAltText){t.highlightFormatting&&(U.formatting="image");var cr=Se(U);return U.imageAltText=!1,U.image=!1,U.inline=U.f=ee,cr}if(Qe==="["&&!U.image)return U.linkText&&K.match(/^.*?\]/)||(U.linkText=!0,t.highlightFormatting&&(U.formatting="link")),Se(U);if(Qe==="]"&&U.linkText){t.highlightFormatting&&(U.formatting="link");var cr=Se(U);return U.linkText=!1,U.inline=U.f=K.match(/\(.*?\)| ?\[.*?\]/,!1)?ee:$e,cr}if(Qe==="<"&&K.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){U.f=U.inline=q,t.highlightFormatting&&(U.formatting="link");var cr=Se(U);return cr?cr+=" ":cr="",cr+l.linkInline}if(Qe==="<"&&K.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){U.f=U.inline=q,t.highlightFormatting&&(U.formatting="link");var cr=Se(U);return cr?cr+=" ":cr="",cr+l.linkEmail}if(t.xml&&Qe==="<"&&K.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var ir=K.string.indexOf(">",K.pos);if(ir!=-1){var At=K.string.substring(K.start,ir);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(At)&&(U.md_inside=!0)}return K.backUp(1),U.htmlState=r.startState(n),he(K,U,me)}if(t.xml&&Qe==="<"&&K.match(/^\/\w*?>/))return U.md_inside=!1,"tag";if(Qe==="*"||Qe==="_"){for(var kt=1,rt=K.pos==1?" ":K.string.charAt(K.pos-2);kt<3&&K.eat(Qe);)kt++;var ce=K.peek()||" ",Te=!/\s/.test(ce)&&(!re.test(ce)||/\s/.test(rt)||re.test(rt)),Ne=!/\s/.test(rt)&&(!re.test(rt)||/\s/.test(ce)||re.test(ce)),Wt=null,ft=null;if(kt%2&&(!U.em&&Te&&(Qe==="*"||!Ne||re.test(rt))?Wt=!0:U.em==Qe&&Ne&&(Qe==="*"||!Te||re.test(ce))&&(Wt=!1)),kt>1&&(!U.strong&&Te&&(Qe==="*"||!Ne||re.test(rt))?ft=!0:U.strong==Qe&&Ne&&(Qe==="*"||!Te||re.test(ce))&&(ft=!1)),ft!=null||Wt!=null){t.highlightFormatting&&(U.formatting=Wt==null?"strong":ft==null?"em":"strong em"),Wt===!0&&(U.em=Qe),ft===!0&&(U.strong=Qe);var Yt=Se(U);return Wt===!1&&(U.em=!1),ft===!1&&(U.strong=!1),Yt}}else if(Qe===" "&&(K.eat("*")||K.eat("_"))){if(K.peek()===" ")return Se(U);K.backUp(1)}if(t.strikethrough){if(Qe==="~"&&K.eatWhile(Qe)){if(U.strikethrough){t.highlightFormatting&&(U.formatting="strikethrough");var Yt=Se(U);return U.strikethrough=!1,Yt}else if(K.match(/^[^\s]/,!1))return U.strikethrough=!0,t.highlightFormatting&&(U.formatting="strikethrough"),Se(U)}else if(Qe===" "&&K.match("~~",!0)){if(K.peek()===" ")return Se(U);K.backUp(2)}}if(t.emoji&&Qe===":"&&K.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){U.emoji=!0,t.highlightFormatting&&(U.formatting="emoji");var qt=Se(U);return U.emoji=!1,qt}return Qe===" "&&(K.match(/^ +$/,!1)?U.trailingSpace++:U.trailingSpace&&(U.trailingSpaceNewLine=!0)),Se(U)}function q(K,U){var Ue=K.next();if(Ue===">"){U.f=U.inline=$e,t.highlightFormatting&&(U.formatting="link");var Je=Se(U);return Je?Je+=" ":Je="",Je+l.linkInline}return K.match(/^[^>]+/,!0),l.linkInline}function ee(K,U){if(K.eatSpace())return null;var Ue=K.next();return Ue==="("||Ue==="["?(U.f=U.inline=j(Ue==="("?")":"]"),t.highlightFormatting&&(U.formatting="link-string"),U.linkHref=!0,Se(U)):"error"}var R={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function j(K){return function(U,Ue){var Je=U.next();if(Je===K){Ue.f=Ue.inline=$e,t.highlightFormatting&&(Ue.formatting="link-string");var Qe=Se(Ue);return Ue.linkHref=!1,Qe}return U.match(R[K]),Ue.linkHref=!0,Se(Ue)}}function G(K,U){return K.match(/^([^\]\\]|\\.)*\]:/,!1)?(U.f=V,K.next(),t.highlightFormatting&&(U.formatting="link"),U.linkText=!0,Se(U)):ne(K,U,$e)}function V(K,U){if(K.match("]:",!0)){U.f=U.inline=te,t.highlightFormatting&&(U.formatting="link");var Ue=Se(U);return U.linkText=!1,Ue}return K.match(/^([^\]\\]|\\.)+/,!0),l.linkText}function te(K,U){return K.eatSpace()?null:(K.match(/^[^\s]+/,!0),K.peek()===void 0?U.linkTitle=!0:K.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),U.f=U.inline=$e,l.linkHref+" url")}var _e={startState:function(){return{f:fe,prevLine:{stream:null},thisLine:{stream:null},block:fe,htmlState:null,indentation:0,inline:$e,text:be,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(K){return{f:K.f,prevLine:K.prevLine,thisLine:K.thisLine,block:K.block,htmlState:K.htmlState&&r.copyState(n,K.htmlState),indentation:K.indentation,localMode:K.localMode,localState:K.localMode?r.copyState(K.localMode,K.localState):null,inline:K.inline,text:K.text,formatting:!1,linkText:K.linkText,linkTitle:K.linkTitle,linkHref:K.linkHref,code:K.code,em:K.em,strong:K.strong,strikethrough:K.strikethrough,emoji:K.emoji,header:K.header,setext:K.setext,hr:K.hr,taskList:K.taskList,list:K.list,listStack:K.listStack.slice(0),quote:K.quote,indentedCode:K.indentedCode,trailingSpace:K.trailingSpace,trailingSpaceNewLine:K.trailingSpaceNewLine,md_inside:K.md_inside,fencedEndRE:K.fencedEndRE}},token:function(K,U){if(U.formatting=!1,K!=U.thisLine.stream){if(U.header=0,U.hr=!1,K.match(/^\s*$/,!0))return ge(U),null;if(U.prevLine=U.thisLine,U.thisLine={stream:K},U.taskList=!1,U.trailingSpace=0,U.trailingSpaceNewLine=!1,!U.localState&&(U.f=U.block,U.f!=me)){var Ue=K.match(/^\s*/,!0)[0].replace(/\t/g,oe).length;if(U.indentation=Ue,U.indentationDiff=null,Ue>0)return null}}return U.f(K,U)},innerMode:function(K){return K.block==me?{state:K.htmlState,mode:n}:K.localState?{state:K.localState,mode:K.localMode}:{state:K,mode:_e}},indent:function(K,U,Ue){return K.block==me&&n.indent?n.indent(K.htmlState,U,Ue):K.localState&&K.localMode.indent?K.localMode.indent(K.localState,U,Ue):r.Pass},blankLine:ge,getType:Se,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return _e},"xml"),r.defineMIME("text/markdown","markdown"),r.defineMIME("text/x-markdown","markdown")})});var fj=de((Abe,Dbe)=>{(function(r){typeof Abe=="object"&&typeof Dbe=="object"?r(Lh()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.overlayMode=function(e,t,n){return{startState:function(){return{base:r.startState(e),overlay:r.startState(t),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(i){return{base:r.copyState(e,i.base),overlay:r.copyState(t,i.overlay),basePos:i.basePos,baseCur:null,overlayPos:i.overlayPos,overlayCur:null}},token:function(i,a){return(i!=a.streamSeen||Math.min(a.basePos,a.overlayPos)<i.start)&&(a.streamSeen=i,a.basePos=a.overlayPos=i.start),i.start==a.basePos&&(a.baseCur=e.token(i,a.base),a.basePos=i.pos),i.start==a.overlayPos&&(i.pos=i.start,a.overlayCur=t.token(i,a.overlay),a.overlayPos=i.pos),i.pos=Math.min(a.basePos,a.overlayPos),a.overlayCur==null?a.baseCur:a.baseCur!=null&&a.overlay.combineTokens||n&&a.overlay.combineTokens==null?a.baseCur+" "+a.overlayCur:a.overlayCur},indent:e.indent&&function(i,a,l){return e.indent(i.base,a,l)},electricChars:e.electricChars,innerMode:function(i){return{state:i.base,mode:e}},blankLine:function(i){var a,l;return e.blankLine&&(a=e.blankLine(i.base)),t.blankLine&&(l=t.blankLine(i.overlay)),l==null?a:n&&a!=null?a+" "+l:l}}}})});var Mbe=de((Obe,Ibe)=>{(function(r){typeof Obe=="object"&&typeof Ibe=="object"?r(Lh()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){r.defineOption("placeholder","",function(h,g,w){var C=w&&w!=r.Init;if(g&&!C)h.on("blur",i),h.on("change",a),h.on("swapDoc",a),r.on(h.getInputField(),"compositionupdate",h.state.placeholderCompose=function(){n(h)}),a(h);else if(!g&&C){h.off("blur",i),h.off("change",a),h.off("swapDoc",a),r.off(h.getInputField(),"compositionupdate",h.state.placeholderCompose),e(h);var D=h.getWrapperElement();D.className=D.className.replace(" CodeMirror-empty","")}g&&!h.hasFocus()&&i(h)});function e(h){h.state.placeholder&&(h.state.placeholder.parentNode.removeChild(h.state.placeholder),h.state.placeholder=null)}function t(h){e(h);var g=h.state.placeholder=document.createElement("pre");g.style.cssText="height: 0; overflow: visible",g.style.direction=h.getOption("direction"),g.className="CodeMirror-placeholder CodeMirror-line-like";var w=h.getOption("placeholder");typeof w=="string"&&(w=document.createTextNode(w)),g.appendChild(w),h.display.lineSpace.insertBefore(g,h.display.lineSpace.firstChild)}function n(h){setTimeout(function(){var g=!1;if(h.lineCount()==1){var w=h.getInputField();g=w.nodeName=="TEXTAREA"?!h.getLine(0).length:!/[^\u200b]/.test(w.querySelector(".CodeMirror-line").textContent)}g?t(h):e(h)},20)}function i(h){l(h)&&t(h)}function a(h){var g=h.getWrapperElement(),w=l(h);g.className=g.className.replace(" CodeMirror-empty","")+(w?" CodeMirror-empty":""),w?t(h):e(h)}function l(h){return h.lineCount()===1&&h.getLine(0)===""}})});var Rbe=de((Lbe,Pbe)=>{(function(r){typeof Lbe=="object"&&typeof Pbe=="object"?r(Lh()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineOption("autoRefresh",!1,function(n,i){n.state.autoRefresh&&(t(n,n.state.autoRefresh),n.state.autoRefresh=null),i&&n.display.wrapper.offsetHeight==0&&e(n,n.state.autoRefresh={delay:i.delay||250})});function e(n,i){function a(){n.display.wrapper.offsetHeight?(t(n,i),n.display.lastWrapHeight!=n.display.wrapper.clientHeight&&n.refresh()):i.timeout=setTimeout(a,i.delay)}i.timeout=setTimeout(a,i.delay),i.hurry=function(){clearTimeout(i.timeout),i.timeout=setTimeout(a,50)},r.on(window,"mouseup",i.hurry),r.on(window,"keyup",i.hurry)}function t(n,i){clearTimeout(i.timeout),r.off(window,"mouseup",i.hurry),r.off(window,"keyup",i.hurry)}})});var Nbe=de((Fbe,qbe)=>{(function(r){typeof Fbe=="object"&&typeof qbe=="object"?r(Lh()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";r.defineOption("styleSelectedText",!1,function(C,D,F){var z=F&&F!=r.Init;D&&!z?(C.state.markedSelection=[],C.state.markedSelectionStyle=typeof D=="string"?D:"CodeMirror-selectedtext",g(C),C.on("cursorActivity",e),C.on("change",t)):!D&&z&&(C.off("cursorActivity",e),C.off("change",t),h(C),C.state.markedSelection=C.state.markedSelectionStyle=null)});function e(C){C.state.markedSelection&&C.operation(function(){w(C)})}function t(C){C.state.markedSelection&&C.state.markedSelection.length&&C.operation(function(){h(C)})}var n=8,i=r.Pos,a=r.cmpPos;function l(C,D,F,z){if(a(D,F)!=0)for(var Y=C.state.markedSelection,$=C.state.markedSelectionStyle,re=D.line;;){var oe=re==D.line?D:i(re,0),ne=re+n,he=ne>=F.line,_=he?F:i(ne,0),ge=C.markText(oe,_,{className:$});if(z==null?Y.push(ge):Y.splice(z++,0,ge),he)break;re=ne}}function h(C){for(var D=C.state.markedSelection,F=0;F<D.length;++F)D[F].clear();D.length=0}function g(C){h(C);for(var D=C.listSelections(),F=0;F<D.length;F++)l(C,D[F].from(),D[F].to())}function w(C){if(!C.somethingSelected())return h(C);if(C.listSelections().length>1)return g(C);var D=C.getCursor("start"),F=C.getCursor("end"),z=C.state.markedSelection;if(!z.length)return l(C,D,F);var Y=z[0].find(),$=z[z.length-1].find();if(!Y||!$||F.line-D.line<=n||a(D,$.to)>=0||a(F,Y.from)<=0)return g(C);for(;a(D,Y.from)>0;)z.shift().clear(),Y=z[0].find();for(a(D,Y.from)<0&&(Y.to.line-D.line<n?(z.shift().clear(),l(C,D,Y.to,0)):l(C,D,Y.from,0));a(F,$.to)<0;)z.pop().clear(),$=z[z.length-1].find();a(F,$.to)>0&&(F.line-$.from.line<n?(z.pop().clear(),l(C,$.from,F)):l(C,$.to,F))}})});var Ube=de((Bbe,zbe)=>{(function(r){typeof Bbe=="object"&&typeof zbe=="object"?r(Lh()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)})(function(r){"use strict";var e=r.Pos;function t(re){var oe=re.flags;return oe??(re.ignoreCase?"i":"")+(re.global?"g":"")+(re.multiline?"m":"")}function n(re,oe){for(var ne=t(re),he=ne,_=0;_<oe.length;_++)he.indexOf(oe.charAt(_))==-1&&(he+=oe.charAt(_));return ne==he?re:new RegExp(re.source,he)}function i(re){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(re.source)}function a(re,oe,ne){oe=n(oe,"g");for(var he=ne.line,_=ne.ch,ge=re.lastLine();he<=ge;he++,_=0){oe.lastIndex=_;var fe=re.getLine(he),me=oe.exec(fe);if(me)return{from:e(he,me.index),to:e(he,me.index+me[0].length),match:me}}}function l(re,oe,ne){if(!i(oe))return a(re,oe,ne);oe=n(oe,"gm");for(var he,_=1,ge=ne.line,fe=re.lastLine();ge<=fe;){for(var me=0;me<_&&!(ge>fe);me++){var we=re.getLine(ge++);he=he==null?we:he+`
`+we}_=_*2,oe.lastIndex=ne.ch;var Se=oe.exec(he);if(Se){var be=he.slice(0,Se.index).split(`
`),$e=Se[0].split(`
`),q=ne.line+be.length-1,ee=be[be.length-1].length;return{from:e(q,ee),to:e(q+$e.length-1,$e.length==1?ee+$e[0].length:$e[$e.length-1].length),match:Se}}}}function h(re,oe,ne){for(var he,_=0;_<=re.length;){oe.lastIndex=_;var ge=oe.exec(re);if(!ge)break;var fe=ge.index+ge[0].length;if(fe>re.length-ne)break;(!he||fe>he.index+he[0].length)&&(he=ge),_=ge.index+1}return he}function g(re,oe,ne){oe=n(oe,"g");for(var he=ne.line,_=ne.ch,ge=re.firstLine();he>=ge;he--,_=-1){var fe=re.getLine(he),me=h(fe,oe,_<0?0:fe.length-_);if(me)return{from:e(he,me.index),to:e(he,me.index+me[0].length),match:me}}}function w(re,oe,ne){if(!i(oe))return g(re,oe,ne);oe=n(oe,"gm");for(var he,_=1,ge=re.getLine(ne.line).length-ne.ch,fe=ne.line,me=re.firstLine();fe>=me;){for(var we=0;we<_&&fe>=me;we++){var Se=re.getLine(fe--);he=he==null?Se:Se+`
`+he}_*=2;var be=h(he,oe,ge);if(be){var $e=he.slice(0,be.index).split(`
`),q=be[0].split(`
`),ee=fe+$e.length,R=$e[$e.length-1].length;return{from:e(ee,R),to:e(ee+q.length-1,q.length==1?R+q[0].length:q[q.length-1].length),match:be}}}}var C,D;String.prototype.normalize?(C=function(re){return re.normalize("NFD").toLowerCase()},D=function(re){return re.normalize("NFD")}):(C=function(re){return re.toLowerCase()},D=function(re){return re});function F(re,oe,ne,he){if(re.length==oe.length)return ne;for(var _=0,ge=ne+Math.max(0,re.length-oe.length);;){if(_==ge)return _;var fe=_+ge>>1,me=he(re.slice(0,fe)).length;if(me==ne)return fe;me>ne?ge=fe:_=fe+1}}function z(re,oe,ne,he){if(!oe.length)return null;var _=he?C:D,ge=_(oe).split(/\r|\n\r?/);e:for(var fe=ne.line,me=ne.ch,we=re.lastLine()+1-ge.length;fe<=we;fe++,me=0){var Se=re.getLine(fe).slice(me),be=_(Se);if(ge.length==1){var $e=be.indexOf(ge[0]);if($e==-1)continue e;var ne=F(Se,be,$e,_)+me;return{from:e(fe,F(Se,be,$e,_)+me),to:e(fe,F(Se,be,$e+ge[0].length,_)+me)}}else{var q=be.length-ge[0].length;if(be.slice(q)!=ge[0])continue e;for(var ee=1;ee<ge.length-1;ee++)if(_(re.getLine(fe+ee))!=ge[ee])continue e;var R=re.getLine(fe+ge.length-1),j=_(R),G=ge[ge.length-1];if(j.slice(0,G.length)!=G)continue e;return{from:e(fe,F(Se,be,q,_)+me),to:e(fe+ge.length-1,F(R,j,G.length,_))}}}}function Y(re,oe,ne,he){if(!oe.length)return null;var _=he?C:D,ge=_(oe).split(/\r|\n\r?/);e:for(var fe=ne.line,me=ne.ch,we=re.firstLine()-1+ge.length;fe>=we;fe--,me=-1){var Se=re.getLine(fe);me>-1&&(Se=Se.slice(0,me));var be=_(Se);if(ge.length==1){var $e=be.lastIndexOf(ge[0]);if($e==-1)continue e;return{from:e(fe,F(Se,be,$e,_)),to:e(fe,F(Se,be,$e+ge[0].length,_))}}else{var q=ge[ge.length-1];if(be.slice(0,q.length)!=q)continue e;for(var ee=1,ne=fe-ge.length+1;ee<ge.length-1;ee++)if(_(re.getLine(ne+ee))!=ge[ee])continue e;var R=re.getLine(fe+1-ge.length),j=_(R);if(j.slice(j.length-ge[0].length)!=ge[0])continue e;return{from:e(fe+1-ge.length,F(R,j,R.length-ge[0].length,_)),to:e(fe,F(Se,be,q.length,_))}}}}function $(re,oe,ne,he){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=re,ne=ne?re.clipPos(ne):e(0,0),this.pos={from:ne,to:ne};var _;typeof he=="object"?_=he.caseFold:(_=he,he=null),typeof oe=="string"?(_==null&&(_=!1),this.matches=function(ge,fe){return(ge?Y:z)(re,oe,fe,_)}):(oe=n(oe,"gm"),!he||he.multiline!==!1?this.matches=function(ge,fe){return(ge?w:l)(re,oe,fe)}:this.matches=function(ge,fe){return(ge?g:a)(re,oe,fe)})}$.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(re){var oe=this.doc.clipPos(re?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(oe=e(oe.line,oe.ch),re?(oe.ch--,oe.ch<0&&(oe.line--,oe.ch=(this.doc.getLine(oe.line)||"").length)):(oe.ch++,oe.ch>(this.doc.getLine(oe.line)||"").length&&(oe.ch=0,oe.line++)),r.cmpPos(oe,this.doc.clipPos(oe))!=0))return this.atOccurrence=!1;var ne=this.matches(re,oe);if(this.afterEmptyMatch=ne&&r.cmpPos(ne.from,ne.to)==0,ne)return this.pos=ne,this.atOccurrence=!0,this.pos.match||!0;var he=e(re?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:he,to:he},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(re,oe){if(!!this.atOccurrence){var ne=r.splitLines(re);this.doc.replaceRange(ne,this.pos.from,this.pos.to,oe),this.pos.to=e(this.pos.from.line+ne.length-1,ne[ne.length-1].length+(ne.length==1?this.pos.from.ch:0))}}},r.defineExtension("getSearchCursor",function(re,oe,ne){return new $(this.doc,re,oe,ne)}),r.defineDocExtension("getSearchCursor",function(re,oe,ne){return new $(this,re,oe,ne)}),r.defineExtension("selectMatches",function(re,oe){for(var ne=[],he=this.getSearchCursor(re,this.getCursor("from"),oe);he.findNext()&&!(r.cmpPos(he.to(),this.getCursor("to"))>0);)ne.push({anchor:he.from(),head:he.to()});ne.length&&this.setSelections(ne,0)})})});var Wbe=de((jbe,Hbe)=>{(function(r){typeof jbe=="object"&&typeof Hbe=="object"?r(Lh(),cj(),fj()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],r):r(CodeMirror)})(function(r){"use strict";var e=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;r.defineMode("gfm",function(t,n){var i=0;function a(w){return w.code=!1,null}var l={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(w){return{code:w.code,codeBlock:w.codeBlock,ateSpace:w.ateSpace}},token:function(w,C){if(C.combineTokens=null,C.codeBlock)return w.match(/^```+/)?(C.codeBlock=!1,null):(w.skipToEnd(),null);if(w.sol()&&(C.code=!1),w.sol()&&w.match(/^```+/))return w.skipToEnd(),C.codeBlock=!0,null;if(w.peek()==="`"){w.next();var D=w.pos;w.eatWhile("`");var F=1+w.pos-D;return C.code?F===i&&(C.code=!1):(i=F,C.code=!0),null}else if(C.code)return w.next(),null;if(w.eatSpace())return C.ateSpace=!0,null;if((w.sol()||C.ateSpace)&&(C.ateSpace=!1,n.gitHubSpice!==!1)){if(w.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return C.combineTokens=!0,"link";if(w.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return C.combineTokens=!0,"link"}return w.match(e)&&w.string.slice(w.start-2,w.start)!="]("&&(w.start==0||/\W/.test(w.string.charAt(w.start-1)))?(C.combineTokens=!0,"link"):(w.next(),null)},blankLine:a},h={taskLists:!0,strikethrough:!0,emoji:!0};for(var g in n)h[g]=n[g];return h.name="markdown",r.overlayMode(r.getMode(t,h),l)},"markdown"),r.defineMIME("text/x-gfm","gfm")})});var Vbe=de(()=>{});var $be=de((y8t,dj)=>{var hj;(function(){"use strict";hj=function(r,e,t,n){n=n||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=n.flags||{},this.memoized={},this.loaded=!1;var i=this,a,l,h,g,w;r&&(i.dictionary=r,e&&t?z():typeof window<"u"&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(n.dictionaryPath?a=n.dictionaryPath:a="typo/dictionaries",e||C(chrome.extension.getURL(a+"/"+r+"/"+r+".aff"),D),t||C(chrome.extension.getURL(a+"/"+r+"/"+r+".dic"),F)):(n.dictionaryPath?a=n.dictionaryPath:typeof __dirname<"u"?a=__dirname+"/dictionaries":a="./dictionaries",e||C(a+"/"+r+"/"+r+".aff",D),t||C(a+"/"+r+"/"+r+".dic",F)));function C(Y,$){var re=i._readFile(Y,null,n.asyncLoad);n.asyncLoad?re.then(function(oe){$(oe)}):$(re)}function D(Y){e=Y,t&&z()}function F(Y){t=Y,e&&z()}function z(){for(i.rules=i._parseAFF(e),i.compoundRuleCodes={},l=0,g=i.compoundRules.length;l<g;l++){var Y=i.compoundRules[l];for(h=0,w=Y.length;h<w;h++)i.compoundRuleCodes[Y[h]]=[]}"ONLYINCOMPOUND"in i.flags&&(i.compoundRuleCodes[i.flags.ONLYINCOMPOUND]=[]),i.dictionaryTable=i._parseDIC(t);for(l in i.compoundRuleCodes)i.compoundRuleCodes[l].length===0&&delete i.compoundRuleCodes[l];for(l=0,g=i.compoundRules.length;l<g;l++){var $=i.compoundRules[l],re="";for(h=0,w=$.length;h<w;h++){var oe=$[h];oe in i.compoundRuleCodes?re+="("+i.compoundRuleCodes[oe].join("|")+")":re+=oe}i.compoundRules[l]=new RegExp(re,"i")}i.loaded=!0,n.asyncLoad&&n.loadedCallback&&n.loadedCallback(i)}return this},hj.prototype={load:function(r){for(var e in r)r.hasOwnProperty(e)&&(this[e]=r[e]);return this},_readFile:function(r,e,t){if(e=e||"utf8",typeof XMLHttpRequest<"u"){var n,i=new XMLHttpRequest;return i.open("GET",r,t),t&&(n=new Promise(function(l,h){i.onload=function(){i.status===200?l(i.responseText):h(i.statusText)},i.onerror=function(){h(i.statusText)}})),i.overrideMimeType&&i.overrideMimeType("text/plain; charset="+e),i.send(null),t?n:i.responseText}else if(typeof EH<"u"){var a=Vbe();try{if(a.existsSync(r))return a.readFileSync(r,e);console.log("Path "+r+" does not exist.")}catch(l){return console.log(l),""}}},_parseAFF:function(r){var e={},t,n,i,a,l,h,g,w;r=this._removeAffixComments(r);var C=r.split(/\r?\n/);for(l=0,g=C.length;l<g;l++){t=C[l];var D=t.split(/\s+/),F=D[0];if(F=="PFX"||F=="SFX"){var z=D[1],Y=D[2];i=parseInt(D[3],10);var $=[];for(h=l+1,w=l+1+i;h<w;h++){n=C[h],a=n.split(/\s+/);var re=a[2],oe=a[3].split("/"),ne=oe[0];ne==="0"&&(ne="");var he=this.parseRuleCodes(oe[1]),_=a[4],ge={};ge.add=ne,he.length>0&&(ge.continuationClasses=he),_!=="."&&(F==="SFX"?ge.match=new RegExp(_+"$"):ge.match=new RegExp("^"+_)),re!="0"&&(F==="SFX"?ge.remove=new RegExp(re+"$"):ge.remove=re),$.push(ge)}e[z]={type:F,combineable:Y=="Y",entries:$},l+=i}else if(F==="COMPOUNDRULE"){for(i=parseInt(D[1],10),h=l+1,w=l+1+i;h<w;h++)t=C[h],a=t.split(/\s+/),this.compoundRules.push(a[1]);l+=i}else F==="REP"?(a=t.split(/\s+/),a.length===3&&this.replacementTable.push([a[1],a[2]])):this.flags[F]=D[1]}return e},_removeAffixComments:function(r){return r=r.replace(/^\s*#.*$/mg,""),r=r.replace(/^\s\s*/m,"").replace(/\s\s*$/m,""),r=r.replace(/\n{2,}/g,`
`),r=r.replace(/^\s\s*/,"").replace(/\s\s*$/,""),r},_parseDIC:function(r){r=this._removeDicComments(r);var e=r.split(/\r?\n/),t={};function n(Se,be){t.hasOwnProperty(Se)||(t[Se]=null),be.length>0&&(t[Se]===null&&(t[Se]=[]),t[Se].push(be))}for(var i=1,a=e.length;i<a;i++){var l=e[i];if(!!l){var h=l.split("/",2),g=h[0];if(h.length>1){var w=this.parseRuleCodes(h[1]);(!("NEEDAFFIX"in this.flags)||w.indexOf(this.flags.NEEDAFFIX)==-1)&&n(g,w);for(var C=0,D=w.length;C<D;C++){var F=w[C],z=this.rules[F];if(z)for(var Y=this._applyRule(g,z),$=0,re=Y.length;$<re;$++){var oe=Y[$];if(n(oe,[]),z.combineable)for(var ne=C+1;ne<D;ne++){var he=w[ne],_=this.rules[he];if(_&&_.combineable&&z.type!=_.type)for(var ge=this._applyRule(oe,_),fe=0,me=ge.length;fe<me;fe++){var we=ge[fe];n(we,[])}}}F in this.compoundRuleCodes&&this.compoundRuleCodes[F].push(g)}}else n(g.trim(),[])}}return t},_removeDicComments:function(r){return r=r.replace(/^\t.*$/mg,""),r},parseRuleCodes:function(r){if(r)if("FLAG"in this.flags){if(this.flags.FLAG==="long"){for(var e=[],t=0,n=r.length;t<n;t+=2)e.push(r.substr(t,2));return e}else if(this.flags.FLAG==="num")return r.split(",")}else return r.split("");else return[]},_applyRule:function(r,e){for(var t=e.entries,n=[],i=0,a=t.length;i<a;i++){var l=t[i];if(!l.match||r.match(l.match)){var h=r;if(l.remove&&(h=h.replace(l.remove,"")),e.type==="SFX"?h=h+l.add:h=l.add+h,n.push(h),"continuationClasses"in l)for(var g=0,w=l.continuationClasses.length;g<w;g++){var C=this.rules[l.continuationClasses[g]];C&&(n=n.concat(this._applyRule(h,C)))}}}return n},check:function(r){if(!this.loaded)throw"Dictionary not loaded.";var e=r.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(e))return!0;if(e.toUpperCase()===e){var t=e[0]+e.substring(1).toLowerCase();if(this.hasFlag(t,"KEEPCASE"))return!1;if(this.checkExact(t)||this.checkExact(e.toLowerCase()))return!0}var n=e[0].toLowerCase()+e.substring(1);if(n!==e){if(this.hasFlag(n,"KEEPCASE"))return!1;if(this.checkExact(n))return!0}return!1},checkExact:function(r){if(!this.loaded)throw"Dictionary not loaded.";var e=this.dictionaryTable[r],t,n;if(typeof e>"u"){if("COMPOUNDMIN"in this.flags&&r.length>=this.flags.COMPOUNDMIN){for(t=0,n=this.compoundRules.length;t<n;t++)if(r.match(this.compoundRules[t]))return!0}}else{if(e===null)return!0;if(typeof e=="object"){for(t=0,n=e.length;t<n;t++)if(!this.hasFlag(r,"ONLYINCOMPOUND",e[t]))return!0}}return!1},hasFlag:function(r,e,t){if(!this.loaded)throw"Dictionary not loaded.";return!!(e in this.flags&&(typeof t>"u"&&(t=Array.prototype.concat.apply([],this.dictionaryTable[r])),t&&t.indexOf(this.flags[e])!==-1))},alphabet:"",suggest:function(r,e){if(!this.loaded)throw"Dictionary not loaded.";if(e=e||5,this.memoized.hasOwnProperty(r)){var t=this.memoized[r].limit;if(e<=t||this.memoized[r].suggestions.length<t)return this.memoized[r].suggestions.slice(0,e)}if(this.check(r))return[];for(var n=0,i=this.replacementTable.length;n<i;n++){var a=this.replacementTable[n];if(r.indexOf(a[0])!==-1){var l=r.replace(a[0],a[1]);if(this.check(l))return[l]}}var h=this;h.alphabet="abcdefghijklmnopqrstuvwxyz";function g(C,D){var F={},z,Y,$,re,oe,ne,he=h.alphabet.length;if(typeof C=="string"){var _=C;C={},C[_]=!0}for(var _ in C)for(z=0,re=_.length+1;z<re;z++){var ge=[_.substring(0,z),_.substring(z)];if(ge[1]&&(ne=ge[0]+ge[1].substring(1),(!D||h.check(ne))&&(ne in F?F[ne]+=1:F[ne]=1)),ge[1].length>1&&ge[1][1]!==ge[1][0]&&(ne=ge[0]+ge[1][1]+ge[1][0]+ge[1].substring(2),(!D||h.check(ne))&&(ne in F?F[ne]+=1:F[ne]=1)),ge[1]){var fe=ge[1].substring(0,1).toUpperCase()===ge[1].substring(0,1)?"uppercase":"lowercase";for(Y=0;Y<he;Y++){var me=h.alphabet[Y];fe==="uppercase"&&(me=me.toUpperCase()),me!=ge[1].substring(0,1)&&(ne=ge[0]+me+ge[1].substring(1),(!D||h.check(ne))&&(ne in F?F[ne]+=1:F[ne]=1))}}if(ge[1])for(Y=0;Y<he;Y++){var fe=ge[0].substring(-1).toUpperCase()===ge[0].substring(-1)&&ge[1].substring(0,1).toUpperCase()===ge[1].substring(0,1)?"uppercase":"lowercase",me=h.alphabet[Y];fe==="uppercase"&&(me=me.toUpperCase()),ne=ge[0]+me+ge[1],(!D||h.check(ne))&&(ne in F?F[ne]+=1:F[ne]=1)}}return F}function w(C){var D=g(C),F=g(D,!0),z=F;for(var Y in D)!h.check(Y)||(Y in z?z[Y]+=D[Y]:z[Y]=D[Y]);var $,re,oe=[];for($ in z)z.hasOwnProperty($)&&oe.push([$,z[$]]);function ne(fe,me){var we=fe[1],Se=me[1];return we<Se?-1:we>Se?1:me[0].localeCompare(fe[0])}oe.sort(ne).reverse();var he=[],_="lowercase";C.toUpperCase()===C?_="uppercase":C.substr(0,1).toUpperCase()+C.substr(1).toLowerCase()===C&&(_="capitalized");var ge=e;for($=0;$<Math.min(ge,oe.length);$++)_==="uppercase"?oe[$][0]=oe[$][0].toUpperCase():_==="capitalized"&&(oe[$][0]=oe[$][0].substr(0,1).toUpperCase()+oe[$][0].substr(1)),!h.hasFlag(oe[$][0],"NOSUGGEST")&&he.indexOf(oe[$][0])==-1?he.push(oe[$][0]):ge++;return he}return this.memoized[r]={suggestions:w(r),limit:e},this.memoized[r].suggestions}}})();typeof dj<"u"&&(dj.exports=hj)});var Ybe=de((b8t,Kbe)=>{"use strict";var Gbe=$be();function Ks(r){if(r=r||{},typeof r.codeMirrorInstance!="function"||typeof r.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){"use strict";return String.prototype.indexOf.apply(this,arguments)!==-1}),r.codeMirrorInstance.defineMode("spell-checker",function(e){if(!Ks.aff_loading){Ks.aff_loading=!0;var t=new XMLHttpRequest;t.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),t.onload=function(){t.readyState===4&&t.status===200&&(Ks.aff_data=t.responseText,Ks.num_loaded++,Ks.num_loaded==2&&(Ks.typo=new Gbe("en_US",Ks.aff_data,Ks.dic_data,{platform:"any"})))},t.send(null)}if(!Ks.dic_loading){Ks.dic_loading=!0;var n=new XMLHttpRequest;n.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),n.onload=function(){n.readyState===4&&n.status===200&&(Ks.dic_data=n.responseText,Ks.num_loaded++,Ks.num_loaded==2&&(Ks.typo=new Gbe("en_US",Ks.aff_data,Ks.dic_data,{platform:"any"})))},n.send(null)}var i='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',a={token:function(h){var g=h.peek(),w="";if(i.includes(g))return h.next(),null;for(;(g=h.peek())!=null&&!i.includes(g);)w+=g,h.next();return Ks.typo&&!Ks.typo.check(w)?"spell-error":null}},l=r.codeMirrorInstance.getMode(e,e.backdrop||"text/plain");return r.codeMirrorInstance.overlayMode(l,a,!0)})}Ks.num_loaded=0;Ks.aff_loading=!1;Ks.dic_loading=!1;Ks.aff_data="";Ks.dic_data="";Ks.typo;Kbe.exports=Ks});var l0e=de(qs=>{"use strict";function Zbe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,gmt(n.key),n)}}function dmt(r,e,t){return e&&Zbe(r.prototype,e),t&&Zbe(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function bd(){return bd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},bd.apply(this,arguments)}function pmt(r,e){if(!!r){if(typeof r=="string")return Xbe(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Xbe(r,e)}}function Xbe(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function UM(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t)return(t=t.call(r)).next.bind(t);if(Array.isArray(r)||(t=pmt(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0;return function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mmt(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function gmt(r){var e=mmt(r,"string");return typeof e=="symbol"?e:String(e)}function pj(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}qs.defaults=pj();function vmt(r){qs.defaults=r}var i0e=/[&<>"']/,ymt=new RegExp(i0e.source,"g"),o0e=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,bmt=new RegExp(o0e.source,"g"),xmt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Jbe=function(e){return xmt[e]};function Tf(r,e){if(e){if(i0e.test(r))return r.replace(ymt,Jbe)}else if(o0e.test(r))return r.replace(bmt,Jbe);return r}var _mt=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function a0e(r){return r.replace(_mt,function(e,t){return t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}var wmt=/(^|[^\[])\^/g;function Cs(r,e){r=typeof r=="string"?r:r.source,e=e||"";var t={replace:function(i,a){return a=a.source||a,a=a.replace(wmt,"$1"),r=r.replace(i,a),t},getRegex:function(){return new RegExp(r,e)}};return t}var Smt=/[^\w:]/g,Tmt=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Qbe(r,e,t){if(r){var n;try{n=decodeURIComponent(a0e(t)).replace(Smt,"").toLowerCase()}catch{return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}e&&!Tmt.test(t)&&(t=Amt(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}var jM={},Emt=/^[^:]+:\/*[^/]*$/,kmt=/^([^:]+:)[\s\S]*$/,Cmt=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Amt(r,e){jM[" "+r]||(Emt.test(r)?jM[" "+r]=r+"/":jM[" "+r]=HM(r,"/",!0)),r=jM[" "+r];var t=r.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:r.replace(kmt,"$1")+e:e.charAt(0)==="/"?t?e:r.replace(Cmt,"$1")+e:r+e}var WM={exec:function(){}};function e0e(r,e){var t=r.replace(/\|/g,function(a,l,h){for(var g=!1,w=l;--w>=0&&h[w]==="\\";)g=!g;return g?"|":" |"}),n=t.split(/ \|/),i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function HM(r,e,t){var n=r.length;if(n===0)return"";for(var i=0;i<n;){var a=r.charAt(n-i-1);if(a===e&&!t)i++;else if(a!==e&&t)i++;else break}return r.slice(0,n-i)}function Dmt(r,e){if(r.indexOf(e[1])===-1)return-1;for(var t=r.length,n=0,i=0;i<t;i++)if(r[i]==="\\")i++;else if(r[i]===e[0])n++;else if(r[i]===e[1]&&(n--,n<0))return i;return-1}function Omt(r){r&&r.sanitize&&!r.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function t0e(r,e){if(e<1)return"";for(var t="";e>1;)e&1&&(t+=r),e>>=1,r+=r;return t+r}function r0e(r,e,t,n){var i=e.href,a=e.title?Tf(e.title):null,l=r[1].replace(/\\([\[\]])/g,"$1");if(r[0].charAt(0)!=="!"){n.state.inLink=!0;var h={type:"link",raw:t,href:i,title:a,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,h}return{type:"image",raw:t,href:i,title:a,text:Tf(l)}}function Imt(r,e){var t=r.match(/^(\s+)(?:```)/);if(t===null)return e;var n=t[1];return e.split(`
`).map(function(i){var a=i.match(/^\s+/);if(a===null)return i;var l=a[0];return l.length>=n.length?i.slice(n.length):i}).join(`
`)}var VM=function(){function r(t){this.options=t||qs.defaults}var e=r.prototype;return e.space=function(n){var i=this.rules.block.newline.exec(n);if(i&&i[0].length>0)return{type:"space",raw:i[0]}},e.code=function(n){var i=this.rules.block.code.exec(n);if(i){var a=i[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?a:HM(a,`
`)}}},e.fences=function(n){var i=this.rules.block.fences.exec(n);if(i){var a=i[0],l=Imt(a,i[3]||"");return{type:"code",raw:a,lang:i[2]?i[2].trim().replace(this.rules.inline._escapes,"$1"):i[2],text:l}}},e.heading=function(n){var i=this.rules.block.heading.exec(n);if(i){var a=i[2].trim();if(/#$/.test(a)){var l=HM(a,"#");(this.options.pedantic||!l||/ $/.test(l))&&(a=l.trim())}return{type:"heading",raw:i[0],depth:i[1].length,text:a,tokens:this.lexer.inline(a)}}},e.hr=function(n){var i=this.rules.block.hr.exec(n);if(i)return{type:"hr",raw:i[0]}},e.blockquote=function(n){var i=this.rules.block.blockquote.exec(n);if(i){var a=i[0].replace(/^ *>[ \t]?/gm,""),l=this.lexer.state.top;this.lexer.state.top=!0;var h=this.lexer.blockTokens(a);return this.lexer.state.top=l,{type:"blockquote",raw:i[0],tokens:h,text:a}}},e.list=function(n){var i=this.rules.block.list.exec(n);if(i){var a,l,h,g,w,C,D,F,z,Y,$,re,oe=i[1].trim(),ne=oe.length>1,he={type:"list",raw:"",ordered:ne,start:ne?+oe.slice(0,-1):"",loose:!1,items:[]};oe=ne?"\\d{1,9}\\"+oe.slice(-1):"\\"+oe,this.options.pedantic&&(oe=ne?oe:"[*+-]");for(var _=new RegExp("^( {0,3}"+oe+")((?:[	 ][^\\n]*)?(?:\\n|$))");n&&(re=!1,!(!(i=_.exec(n))||this.rules.block.hr.test(n)));){if(a=i[0],n=n.substring(a.length),F=i[2].split(`
`,1)[0].replace(/^\t+/,function(q){return" ".repeat(3*q.length)}),z=n.split(`
`,1)[0],this.options.pedantic?(g=2,$=F.trimLeft()):(g=i[2].search(/[^ ]/),g=g>4?1:g,$=F.slice(g),g+=i[1].length),C=!1,!F&&/^ *$/.test(z)&&(a+=z+`
`,n=n.substring(z.length+1),re=!0),!re)for(var ge=new RegExp("^ {0,"+Math.min(3,g-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),fe=new RegExp("^ {0,"+Math.min(3,g-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),me=new RegExp("^ {0,"+Math.min(3,g-1)+"}(?:```|~~~)"),we=new RegExp("^ {0,"+Math.min(3,g-1)+"}#");n&&(Y=n.split(`
`,1)[0],z=Y,this.options.pedantic&&(z=z.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(me.test(z)||we.test(z)||ge.test(z)||fe.test(n)));){if(z.search(/[^ ]/)>=g||!z.trim())$+=`
`+z.slice(g);else{if(C||F.search(/[^ ]/)>=4||me.test(F)||we.test(F)||fe.test(F))break;$+=`
`+z}!C&&!z.trim()&&(C=!0),a+=Y+`
`,n=n.substring(Y.length+1),F=z.slice(g)}he.loose||(D?he.loose=!0:/\n *\n *$/.test(a)&&(D=!0)),this.options.gfm&&(l=/^\[[ xX]\] /.exec($),l&&(h=l[0]!=="[ ] ",$=$.replace(/^\[[ xX]\] +/,""))),he.items.push({type:"list_item",raw:a,task:!!l,checked:h,loose:!1,text:$}),he.raw+=a}he.items[he.items.length-1].raw=a.trimRight(),he.items[he.items.length-1].text=$.trimRight(),he.raw=he.raw.trimRight();var Se=he.items.length;for(w=0;w<Se;w++)if(this.lexer.state.top=!1,he.items[w].tokens=this.lexer.blockTokens(he.items[w].text,[]),!he.loose){var be=he.items[w].tokens.filter(function(q){return q.type==="space"}),$e=be.length>0&&be.some(function(q){return/\n.*\n/.test(q.raw)});he.loose=$e}if(he.loose)for(w=0;w<Se;w++)he.items[w].loose=!0;return he}},e.html=function(n){var i=this.rules.block.html.exec(n);if(i){var a={type:"html",raw:i[0],pre:!this.options.sanitizer&&(i[1]==="pre"||i[1]==="script"||i[1]==="style"),text:i[0]};if(this.options.sanitize){var l=this.options.sanitizer?this.options.sanitizer(i[0]):Tf(i[0]);a.type="paragraph",a.text=l,a.tokens=this.lexer.inline(l)}return a}},e.def=function(n){var i=this.rules.block.def.exec(n);if(i){var a=i[1].toLowerCase().replace(/\s+/g," "),l=i[2]?i[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",h=i[3]?i[3].substring(1,i[3].length-1).replace(this.rules.inline._escapes,"$1"):i[3];return{type:"def",tag:a,raw:i[0],href:l,title:h}}},e.table=function(n){var i=this.rules.block.table.exec(n);if(i){var a={type:"table",header:e0e(i[1]).map(function(D){return{text:D}}),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:i[3]&&i[3].trim()?i[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(a.header.length===a.align.length){a.raw=i[0];var l=a.align.length,h,g,w,C;for(h=0;h<l;h++)/^ *-+: *$/.test(a.align[h])?a.align[h]="right":/^ *:-+: *$/.test(a.align[h])?a.align[h]="center":/^ *:-+ *$/.test(a.align[h])?a.align[h]="left":a.align[h]=null;for(l=a.rows.length,h=0;h<l;h++)a.rows[h]=e0e(a.rows[h],a.header.length).map(function(D){return{text:D}});for(l=a.header.length,g=0;g<l;g++)a.header[g].tokens=this.lexer.inline(a.header[g].text);for(l=a.rows.length,g=0;g<l;g++)for(C=a.rows[g],w=0;w<C.length;w++)C[w].tokens=this.lexer.inline(C[w].text);return a}}},e.lheading=function(n){var i=this.rules.block.lheading.exec(n);if(i)return{type:"heading",raw:i[0],depth:i[2].charAt(0)==="="?1:2,text:i[1],tokens:this.lexer.inline(i[1])}},e.paragraph=function(n){var i=this.rules.block.paragraph.exec(n);if(i){var a=i[1].charAt(i[1].length-1)===`
`?i[1].slice(0,-1):i[1];return{type:"paragraph",raw:i[0],text:a,tokens:this.lexer.inline(a)}}},e.text=function(n){var i=this.rules.block.text.exec(n);if(i)return{type:"text",raw:i[0],text:i[0],tokens:this.lexer.inline(i[0])}},e.escape=function(n){var i=this.rules.inline.escape.exec(n);if(i)return{type:"escape",raw:i[0],text:Tf(i[1])}},e.tag=function(n){var i=this.rules.inline.tag.exec(n);if(i)return!this.lexer.state.inLink&&/^<a /i.test(i[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(i[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:i[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):Tf(i[0]):i[0]}},e.link=function(n){var i=this.rules.inline.link.exec(n);if(i){var a=i[2].trim();if(!this.options.pedantic&&/^</.test(a)){if(!/>$/.test(a))return;var l=HM(a.slice(0,-1),"\\");if((a.length-l.length)%2===0)return}else{var h=Dmt(i[2],"()");if(h>-1){var g=i[0].indexOf("!")===0?5:4,w=g+i[1].length+h;i[2]=i[2].substring(0,h),i[0]=i[0].substring(0,w).trim(),i[3]=""}}var C=i[2],D="";if(this.options.pedantic){var F=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(C);F&&(C=F[1],D=F[3])}else D=i[3]?i[3].slice(1,-1):"";return C=C.trim(),/^</.test(C)&&(this.options.pedantic&&!/>$/.test(a)?C=C.slice(1):C=C.slice(1,-1)),r0e(i,{href:C&&C.replace(this.rules.inline._escapes,"$1"),title:D&&D.replace(this.rules.inline._escapes,"$1")},i[0],this.lexer)}},e.reflink=function(n,i){var a;if((a=this.rules.inline.reflink.exec(n))||(a=this.rules.inline.nolink.exec(n))){var l=(a[2]||a[1]).replace(/\s+/g," ");if(l=i[l.toLowerCase()],!l){var h=a[0].charAt(0);return{type:"text",raw:h,text:h}}return r0e(a,l,a[0],this.lexer)}},e.emStrong=function(n,i,a){a===void 0&&(a="");var l=this.rules.inline.emStrong.lDelim.exec(n);if(!!l&&!(l[3]&&a.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var h=l[1]||l[2]||"";if(!h||h&&(a===""||this.rules.inline.punctuation.exec(a))){var g=l[0].length-1,w,C,D=g,F=0,z=l[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(z.lastIndex=0,i=i.slice(-1*n.length+g);(l=z.exec(i))!=null;)if(w=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!!w){if(C=w.length,l[3]||l[4]){D+=C;continue}else if((l[5]||l[6])&&g%3&&!((g+C)%3)){F+=C;continue}if(D-=C,!(D>0)){C=Math.min(C,C+D+F);var Y=n.slice(0,g+l.index+(l[0].length-w.length)+C);if(Math.min(g,C)%2){var $=Y.slice(1,-1);return{type:"em",raw:Y,text:$,tokens:this.lexer.inlineTokens($)}}var re=Y.slice(2,-2);return{type:"strong",raw:Y,text:re,tokens:this.lexer.inlineTokens(re)}}}}}},e.codespan=function(n){var i=this.rules.inline.code.exec(n);if(i){var a=i[2].replace(/\n/g," "),l=/[^ ]/.test(a),h=/^ /.test(a)&&/ $/.test(a);return l&&h&&(a=a.substring(1,a.length-1)),a=Tf(a,!0),{type:"codespan",raw:i[0],text:a}}},e.br=function(n){var i=this.rules.inline.br.exec(n);if(i)return{type:"br",raw:i[0]}},e.del=function(n){var i=this.rules.inline.del.exec(n);if(i)return{type:"del",raw:i[0],text:i[2],tokens:this.lexer.inlineTokens(i[2])}},e.autolink=function(n,i){var a=this.rules.inline.autolink.exec(n);if(a){var l,h;return a[2]==="@"?(l=Tf(this.options.mangle?i(a[1]):a[1]),h="mailto:"+l):(l=Tf(a[1]),h=l),{type:"link",raw:a[0],text:l,href:h,tokens:[{type:"text",raw:l,text:l}]}}},e.url=function(n,i){var a;if(a=this.rules.inline.url.exec(n)){var l,h;if(a[2]==="@")l=Tf(this.options.mangle?i(a[0]):a[0]),h="mailto:"+l;else{var g;do g=a[0],a[0]=this.rules.inline._backpedal.exec(a[0])[0];while(g!==a[0]);l=Tf(a[0]),a[1]==="www."?h="http://"+a[0]:h=a[0]}return{type:"link",raw:a[0],text:l,href:h,tokens:[{type:"text",raw:l,text:l}]}}},e.inlineText=function(n,i){var a=this.rules.inline.text.exec(n);if(a){var l;return this.lexer.state.inRawBlock?l=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):Tf(a[0]):a[0]:l=Tf(this.options.smartypants?i(a[0]):a[0]),{type:"text",raw:a[0],text:l}}},r}(),pi={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:WM,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};pi._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;pi._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;pi.def=Cs(pi.def).replace("label",pi._label).replace("title",pi._title).getRegex();pi.bullet=/(?:[*+-]|\d{1,9}[.)])/;pi.listItemStart=Cs(/^( *)(bull) */).replace("bull",pi.bullet).getRegex();pi.list=Cs(pi.list).replace(/bull/g,pi.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+pi.def.source+")").getRegex();pi._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";pi._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;pi.html=Cs(pi.html,"i").replace("comment",pi._comment).replace("tag",pi._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();pi.paragraph=Cs(pi._paragraph).replace("hr",pi.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pi._tag).getRegex();pi.blockquote=Cs(pi.blockquote).replace("paragraph",pi.paragraph).getRegex();pi.normal=bd({},pi);pi.gfm=bd({},pi.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});pi.gfm.table=Cs(pi.gfm.table).replace("hr",pi.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pi._tag).getRegex();pi.gfm.paragraph=Cs(pi._paragraph).replace("hr",pi.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",pi.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pi._tag).getRegex();pi.pedantic=bd({},pi.normal,{html:Cs(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",pi._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:WM,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Cs(pi.normal._paragraph).replace("hr",pi.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",pi.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var qn={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:WM,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:WM,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};qn._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";qn.punctuation=Cs(qn.punctuation).replace(/punctuation/g,qn._punctuation).getRegex();qn.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;qn.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;qn._comment=Cs(pi._comment).replace("(?:-->|$)","-->").getRegex();qn.emStrong.lDelim=Cs(qn.emStrong.lDelim).replace(/punct/g,qn._punctuation).getRegex();qn.emStrong.rDelimAst=Cs(qn.emStrong.rDelimAst,"g").replace(/punct/g,qn._punctuation).getRegex();qn.emStrong.rDelimUnd=Cs(qn.emStrong.rDelimUnd,"g").replace(/punct/g,qn._punctuation).getRegex();qn._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;qn._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;qn._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;qn.autolink=Cs(qn.autolink).replace("scheme",qn._scheme).replace("email",qn._email).getRegex();qn._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;qn.tag=Cs(qn.tag).replace("comment",qn._comment).replace("attribute",qn._attribute).getRegex();qn._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;qn._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;qn._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;qn.link=Cs(qn.link).replace("label",qn._label).replace("href",qn._href).replace("title",qn._title).getRegex();qn.reflink=Cs(qn.reflink).replace("label",qn._label).replace("ref",pi._label).getRegex();qn.nolink=Cs(qn.nolink).replace("ref",pi._label).getRegex();qn.reflinkSearch=Cs(qn.reflinkSearch,"g").replace("reflink",qn.reflink).replace("nolink",qn.nolink).getRegex();qn.normal=bd({},qn);qn.pedantic=bd({},qn.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Cs(/^!?\[(label)\]\((.*?)\)/).replace("label",qn._label).getRegex(),reflink:Cs(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",qn._label).getRegex()});qn.gfm=bd({},qn.normal,{escape:Cs(qn.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});qn.gfm.url=Cs(qn.gfm.url,"i").replace("email",qn.gfm._extended_email).getRegex();qn.breaks=bd({},qn.gfm,{br:Cs(qn.br).replace("{2,}","*").getRegex(),text:Cs(qn.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Mmt(r){return r.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function n0e(r){var e="",t,n,i=r.length;for(t=0;t<i;t++)n=r.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),e+="&#"+n+";";return e}var g1=function(){function r(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||qs.defaults,this.options.tokenizer=this.options.tokenizer||new VM,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var n={block:pi.normal,inline:qn.normal};this.options.pedantic?(n.block=pi.pedantic,n.inline=qn.pedantic):this.options.gfm&&(n.block=pi.gfm,this.options.breaks?n.inline=qn.breaks:n.inline=qn.gfm),this.tokenizer.rules=n}r.lex=function(n,i){var a=new r(i);return a.lex(n)},r.lexInline=function(n,i){var a=new r(i);return a.inlineTokens(n)};var e=r.prototype;return e.lex=function(n){n=n.replace(/\r\n|\r/g,`
`),this.blockTokens(n,this.tokens);for(var i;i=this.inlineQueue.shift();)this.inlineTokens(i.src,i.tokens);return this.tokens},e.blockTokens=function(n,i){var a=this;i===void 0&&(i=[]),this.options.pedantic?n=n.replace(/\t/g,"    ").replace(/^ +$/gm,""):n=n.replace(/^( *)(\t+)/gm,function(D,F,z){return F+"    ".repeat(z.length)});for(var l,h,g,w;n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(D){return(l=D.call({lexer:a},n,i))?(n=n.substring(l.raw.length),i.push(l),!0):!1}))){if(l=this.tokenizer.space(n)){n=n.substring(l.raw.length),l.raw.length===1&&i.length>0?i[i.length-1].raw+=`
`:i.push(l);continue}if(l=this.tokenizer.code(n)){n=n.substring(l.raw.length),h=i[i.length-1],h&&(h.type==="paragraph"||h.type==="text")?(h.raw+=`
`+l.raw,h.text+=`
`+l.text,this.inlineQueue[this.inlineQueue.length-1].src=h.text):i.push(l);continue}if(l=this.tokenizer.fences(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.heading(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.hr(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.blockquote(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.list(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.html(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.def(n)){n=n.substring(l.raw.length),h=i[i.length-1],h&&(h.type==="paragraph"||h.type==="text")?(h.raw+=`
`+l.raw,h.text+=`
`+l.raw,this.inlineQueue[this.inlineQueue.length-1].src=h.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.lheading(n)){n=n.substring(l.raw.length),i.push(l);continue}if(g=n,this.options.extensions&&this.options.extensions.startBlock&&function(){var D=1/0,F=n.slice(1),z=void 0;a.options.extensions.startBlock.forEach(function(Y){z=Y.call({lexer:this},F),typeof z=="number"&&z>=0&&(D=Math.min(D,z))}),D<1/0&&D>=0&&(g=n.substring(0,D+1))}(),this.state.top&&(l=this.tokenizer.paragraph(g))){h=i[i.length-1],w&&h.type==="paragraph"?(h.raw+=`
`+l.raw,h.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=h.text):i.push(l),w=g.length!==n.length,n=n.substring(l.raw.length);continue}if(l=this.tokenizer.text(n)){n=n.substring(l.raw.length),h=i[i.length-1],h&&h.type==="text"?(h.raw+=`
`+l.raw,h.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=h.text):i.push(l);continue}if(n){var C="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(C);break}else throw new Error(C)}}return this.state.top=!0,i},e.inline=function(n,i){return i===void 0&&(i=[]),this.inlineQueue.push({src:n,tokens:i}),i},e.inlineTokens=function(n,i){var a=this;i===void 0&&(i=[]);var l,h,g,w=n,C,D,F;if(this.tokens.links){var z=Object.keys(this.tokens.links);if(z.length>0)for(;(C=this.tokenizer.rules.inline.reflinkSearch.exec(w))!=null;)z.includes(C[0].slice(C[0].lastIndexOf("[")+1,-1))&&(w=w.slice(0,C.index)+"["+t0e("a",C[0].length-2)+"]"+w.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(C=this.tokenizer.rules.inline.blockSkip.exec(w))!=null;)w=w.slice(0,C.index)+"["+t0e("a",C[0].length-2)+"]"+w.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(C=this.tokenizer.rules.inline.escapedEmSt.exec(w))!=null;)w=w.slice(0,C.index+C[0].length-2)+"++"+w.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;n;)if(D||(F=""),D=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function($){return(l=$.call({lexer:a},n,i))?(n=n.substring(l.raw.length),i.push(l),!0):!1}))){if(l=this.tokenizer.escape(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.tag(n)){n=n.substring(l.raw.length),h=i[i.length-1],h&&l.type==="text"&&h.type==="text"?(h.raw+=l.raw,h.text+=l.text):i.push(l);continue}if(l=this.tokenizer.link(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(l.raw.length),h=i[i.length-1],h&&l.type==="text"&&h.type==="text"?(h.raw+=l.raw,h.text+=l.text):i.push(l);continue}if(l=this.tokenizer.emStrong(n,w,F)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.codespan(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.br(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.del(n)){n=n.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.autolink(n,n0e)){n=n.substring(l.raw.length),i.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(n,n0e))){n=n.substring(l.raw.length),i.push(l);continue}if(g=n,this.options.extensions&&this.options.extensions.startInline&&function(){var $=1/0,re=n.slice(1),oe=void 0;a.options.extensions.startInline.forEach(function(ne){oe=ne.call({lexer:this},re),typeof oe=="number"&&oe>=0&&($=Math.min($,oe))}),$<1/0&&$>=0&&(g=n.substring(0,$+1))}(),l=this.tokenizer.inlineText(g,Mmt)){n=n.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(F=l.raw.slice(-1)),D=!0,h=i[i.length-1],h&&h.type==="text"?(h.raw+=l.raw,h.text+=l.text):i.push(l);continue}if(n){var Y="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(Y);break}else throw new Error(Y)}}return i},dmt(r,null,[{key:"rules",get:function(){return{block:pi,inline:qn}}}]),r}(),$M=function(){function r(t){this.options=t||qs.defaults}var e=r.prototype;return e.code=function(n,i,a){var l=(i||"").match(/\S*/)[0];if(this.options.highlight){var h=this.options.highlight(n,l);h!=null&&h!==n&&(a=!0,n=h)}return n=n.replace(/\n$/,"")+`
`,l?'<pre><code class="'+this.options.langPrefix+Tf(l)+'">'+(a?n:Tf(n,!0))+`</code></pre>
`:"<pre><code>"+(a?n:Tf(n,!0))+`</code></pre>
`},e.blockquote=function(n){return`<blockquote>
`+n+`</blockquote>
`},e.html=function(n){return n},e.heading=function(n,i,a,l){if(this.options.headerIds){var h=this.options.headerPrefix+l.slug(a);return"<h"+i+' id="'+h+'">'+n+"</h"+i+`>
`}return"<h"+i+">"+n+"</h"+i+`>
`},e.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},e.list=function(n,i,a){var l=i?"ol":"ul",h=i&&a!==1?' start="'+a+'"':"";return"<"+l+h+`>
`+n+"</"+l+`>
`},e.listitem=function(n){return"<li>"+n+`</li>
`},e.checkbox=function(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},e.paragraph=function(n){return"<p>"+n+`</p>
`},e.table=function(n,i){return i&&(i="<tbody>"+i+"</tbody>"),`<table>
<thead>
`+n+`</thead>
`+i+`</table>
`},e.tablerow=function(n){return`<tr>
`+n+`</tr>
`},e.tablecell=function(n,i){var a=i.header?"th":"td",l=i.align?"<"+a+' align="'+i.align+'">':"<"+a+">";return l+n+("</"+a+`>
`)},e.strong=function(n){return"<strong>"+n+"</strong>"},e.em=function(n){return"<em>"+n+"</em>"},e.codespan=function(n){return"<code>"+n+"</code>"},e.br=function(){return this.options.xhtml?"<br/>":"<br>"},e.del=function(n){return"<del>"+n+"</del>"},e.link=function(n,i,a){if(n=Qbe(this.options.sanitize,this.options.baseUrl,n),n===null)return a;var l='<a href="'+n+'"';return i&&(l+=' title="'+i+'"'),l+=">"+a+"</a>",l},e.image=function(n,i,a){if(n=Qbe(this.options.sanitize,this.options.baseUrl,n),n===null)return a;var l='<img src="'+n+'" alt="'+a+'"';return i&&(l+=' title="'+i+'"'),l+=this.options.xhtml?"/>":">",l},e.text=function(n){return n},r}(),mj=function(){function r(){}var e=r.prototype;return e.strong=function(n){return n},e.em=function(n){return n},e.codespan=function(n){return n},e.del=function(n){return n},e.html=function(n){return n},e.text=function(n){return n},e.link=function(n,i,a){return""+a},e.image=function(n,i,a){return""+a},e.br=function(){return""},r}(),gj=function(){function r(){this.seen={}}var e=r.prototype;return e.serialize=function(n){return n.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},e.getNextSafeSlug=function(n,i){var a=n,l=0;if(this.seen.hasOwnProperty(a)){l=this.seen[n];do l++,a=n+"-"+l;while(this.seen.hasOwnProperty(a))}return i||(this.seen[n]=l,this.seen[a]=0),a},e.slug=function(n,i){i===void 0&&(i={});var a=this.serialize(n);return this.getNextSafeSlug(a,i.dryrun)},r}(),v1=function(){function r(t){this.options=t||qs.defaults,this.options.renderer=this.options.renderer||new $M,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new mj,this.slugger=new gj}r.parse=function(n,i){var a=new r(i);return a.parse(n)},r.parseInline=function(n,i){var a=new r(i);return a.parseInline(n)};var e=r.prototype;return e.parse=function(n,i){i===void 0&&(i=!0);var a="",l,h,g,w,C,D,F,z,Y,$,re,oe,ne,he,_,ge,fe,me,we,Se=n.length;for(l=0;l<Se;l++){if($=n[l],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[$.type]&&(we=this.options.extensions.renderers[$.type].call({parser:this},$),we!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes($.type))){a+=we||"";continue}switch($.type){case"space":continue;case"hr":{a+=this.renderer.hr();continue}case"heading":{a+=this.renderer.heading(this.parseInline($.tokens),$.depth,a0e(this.parseInline($.tokens,this.textRenderer)),this.slugger);continue}case"code":{a+=this.renderer.code($.text,$.lang,$.escaped);continue}case"table":{for(z="",F="",w=$.header.length,h=0;h<w;h++)F+=this.renderer.tablecell(this.parseInline($.header[h].tokens),{header:!0,align:$.align[h]});for(z+=this.renderer.tablerow(F),Y="",w=$.rows.length,h=0;h<w;h++){for(D=$.rows[h],F="",C=D.length,g=0;g<C;g++)F+=this.renderer.tablecell(this.parseInline(D[g].tokens),{header:!1,align:$.align[g]});Y+=this.renderer.tablerow(F)}a+=this.renderer.table(z,Y);continue}case"blockquote":{Y=this.parse($.tokens),a+=this.renderer.blockquote(Y);continue}case"list":{for(re=$.ordered,oe=$.start,ne=$.loose,w=$.items.length,Y="",h=0;h<w;h++)_=$.items[h],ge=_.checked,fe=_.task,he="",_.task&&(me=this.renderer.checkbox(ge),ne?_.tokens.length>0&&_.tokens[0].type==="paragraph"?(_.tokens[0].text=me+" "+_.tokens[0].text,_.tokens[0].tokens&&_.tokens[0].tokens.length>0&&_.tokens[0].tokens[0].type==="text"&&(_.tokens[0].tokens[0].text=me+" "+_.tokens[0].tokens[0].text)):_.tokens.unshift({type:"text",text:me}):he+=me),he+=this.parse(_.tokens,ne),Y+=this.renderer.listitem(he,fe,ge);a+=this.renderer.list(Y,re,oe);continue}case"html":{a+=this.renderer.html($.text);continue}case"paragraph":{a+=this.renderer.paragraph(this.parseInline($.tokens));continue}case"text":{for(Y=$.tokens?this.parseInline($.tokens):$.text;l+1<Se&&n[l+1].type==="text";)$=n[++l],Y+=`
`+($.tokens?this.parseInline($.tokens):$.text);a+=i?this.renderer.paragraph(Y):Y;continue}default:{var be='Token with "'+$.type+'" type was not found.';if(this.options.silent){console.error(be);return}else throw new Error(be)}}}return a},e.parseInline=function(n,i){i=i||this.renderer;var a="",l,h,g,w=n.length;for(l=0;l<w;l++){if(h=n[l],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(g=this.options.extensions.renderers[h.type].call({parser:this},h),g!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(h.type))){a+=g||"";continue}switch(h.type){case"escape":{a+=i.text(h.text);break}case"html":{a+=i.html(h.text);break}case"link":{a+=i.link(h.href,h.title,this.parseInline(h.tokens,i));break}case"image":{a+=i.image(h.href,h.title,h.text);break}case"strong":{a+=i.strong(this.parseInline(h.tokens,i));break}case"em":{a+=i.em(this.parseInline(h.tokens,i));break}case"codespan":{a+=i.codespan(h.text);break}case"br":{a+=i.br();break}case"del":{a+=i.del(this.parseInline(h.tokens,i));break}case"text":{a+=i.text(h.text);break}default:{var C='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(C);return}else throw new Error(C)}}}return a},r}(),ok=function(){function r(t){this.options=t||qs.defaults}var e=r.prototype;return e.preprocess=function(n){return n},e.postprocess=function(n){return n},r}();ok.passThroughHooks=new Set(["preprocess","postprocess"]);function Lmt(r,e,t){return function(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,r){var i="<p>An error occurred:</p><pre>"+Tf(n.message+"",!0)+"</pre>";if(e)return Promise.resolve(i);if(t){t(null,i);return}return i}if(e)return Promise.reject(n);if(t){t(n);return}throw n}}function s0e(r,e){return function(t,n,i){typeof n=="function"&&(i=n,n=null);var a=bd({},n);n=bd({},di.defaults,a);var l=Lmt(n.silent,n.async,i);if(typeof t>"u"||t===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(Omt(n),n.hooks&&(n.hooks.options=n),i){var h=n.highlight,g;try{n.hooks&&(t=n.hooks.preprocess(t)),g=r(t,n)}catch(z){return l(z)}var w=function(Y){var $;if(!Y)try{n.walkTokens&&di.walkTokens(g,n.walkTokens),$=e(g,n),n.hooks&&($=n.hooks.postprocess($))}catch(re){Y=re}return n.highlight=h,Y?l(Y):i(null,$)};if(!h||h.length<3||(delete n.highlight,!g.length))return w();var C=0;di.walkTokens(g,function(z){z.type==="code"&&(C++,setTimeout(function(){h(z.text,z.lang,function(Y,$){if(Y)return w(Y);$!=null&&$!==z.text&&(z.text=$,z.escaped=!0),C--,C===0&&w()})},0))}),C===0&&w();return}if(n.async)return Promise.resolve(n.hooks?n.hooks.preprocess(t):t).then(function(z){return r(z,n)}).then(function(z){return n.walkTokens?Promise.all(di.walkTokens(z,n.walkTokens)).then(function(){return z}):z}).then(function(z){return e(z,n)}).then(function(z){return n.hooks?n.hooks.postprocess(z):z}).catch(l);try{n.hooks&&(t=n.hooks.preprocess(t));var D=r(t,n);n.walkTokens&&di.walkTokens(D,n.walkTokens);var F=e(D,n);return n.hooks&&(F=n.hooks.postprocess(F)),F}catch(z){return l(z)}}}function di(r,e,t){return s0e(g1.lex,v1.parse)(r,e,t)}di.options=di.setOptions=function(r){return di.defaults=bd({},di.defaults,r),vmt(di.defaults),di};di.getDefaults=pj;di.defaults=qs.defaults;di.use=function(){for(var r=di.defaults.extensions||{renderers:{},childTokens:{}},e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(i){var a=bd({},i);if(a.async=di.defaults.async||a.async||!1,i.extensions&&(i.extensions.forEach(function(h){if(!h.name)throw new Error("extension name required");if(h.renderer){var g=r.renderers[h.name];g?r.renderers[h.name]=function(){for(var w=arguments.length,C=new Array(w),D=0;D<w;D++)C[D]=arguments[D];var F=h.renderer.apply(this,C);return F===!1&&(F=g.apply(this,C)),F}:r.renderers[h.name]=h.renderer}if(h.tokenizer){if(!h.level||h.level!=="block"&&h.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");r[h.level]?r[h.level].unshift(h.tokenizer):r[h.level]=[h.tokenizer],h.start&&(h.level==="block"?r.startBlock?r.startBlock.push(h.start):r.startBlock=[h.start]:h.level==="inline"&&(r.startInline?r.startInline.push(h.start):r.startInline=[h.start]))}h.childTokens&&(r.childTokens[h.name]=h.childTokens)}),a.extensions=r),i.renderer&&function(){var h=di.defaults.renderer||new $M,g=function(D){var F=h[D];h[D]=function(){for(var z=arguments.length,Y=new Array(z),$=0;$<z;$++)Y[$]=arguments[$];var re=i.renderer[D].apply(h,Y);return re===!1&&(re=F.apply(h,Y)),re}};for(var w in i.renderer)g(w);a.renderer=h}(),i.tokenizer&&function(){var h=di.defaults.tokenizer||new VM,g=function(D){var F=h[D];h[D]=function(){for(var z=arguments.length,Y=new Array(z),$=0;$<z;$++)Y[$]=arguments[$];var re=i.tokenizer[D].apply(h,Y);return re===!1&&(re=F.apply(h,Y)),re}};for(var w in i.tokenizer)g(w);a.tokenizer=h}(),i.hooks&&function(){var h=di.defaults.hooks||new ok,g=function(D){var F=h[D];ok.passThroughHooks.has(D)?h[D]=function(z){if(di.defaults.async)return Promise.resolve(i.hooks[D].call(h,z)).then(function($){return F.call(h,$)});var Y=i.hooks[D].call(h,z);return F.call(h,Y)}:h[D]=function(){for(var z=arguments.length,Y=new Array(z),$=0;$<z;$++)Y[$]=arguments[$];var re=i.hooks[D].apply(h,Y);return re===!1&&(re=F.apply(h,Y)),re}};for(var w in i.hooks)g(w);a.hooks=h}(),i.walkTokens){var l=di.defaults.walkTokens;a.walkTokens=function(h){var g=[];return g.push(i.walkTokens.call(this,h)),l&&(g=g.concat(l.call(this,h))),g}}di.setOptions(a)})};di.walkTokens=function(r,e){for(var t=[],n=function(){var h=a.value;switch(t=t.concat(e.call(di,h)),h.type){case"table":{for(var g=UM(h.header),w;!(w=g()).done;){var C=w.value;t=t.concat(di.walkTokens(C.tokens,e))}for(var D=UM(h.rows),F;!(F=D()).done;)for(var z=F.value,Y=UM(z),$;!($=Y()).done;){var re=$.value;t=t.concat(di.walkTokens(re.tokens,e))}break}case"list":{t=t.concat(di.walkTokens(h.items,e));break}default:di.defaults.extensions&&di.defaults.extensions.childTokens&&di.defaults.extensions.childTokens[h.type]?di.defaults.extensions.childTokens[h.type].forEach(function(oe){t=t.concat(di.walkTokens(h[oe],e))}):h.tokens&&(t=t.concat(di.walkTokens(h.tokens,e)))}},i=UM(r),a;!(a=i()).done;)n();return t};di.parseInline=s0e(g1.lexInline,v1.parseInline);di.Parser=v1;di.parser=v1.parse;di.Renderer=$M;di.TextRenderer=mj;di.Lexer=g1;di.lexer=g1.lex;di.Tokenizer=VM;di.Slugger=gj;di.Hooks=ok;di.parse=di;var Pmt=di.options,Rmt=di.setOptions,Fmt=di.use,qmt=di.walkTokens,Nmt=di.parseInline,Bmt=di,zmt=v1.parse,Umt=g1.lex;qs.Hooks=ok;qs.Lexer=g1;qs.Parser=v1;qs.Renderer=$M;qs.Slugger=gj;qs.TextRenderer=mj;qs.Tokenizer=VM;qs.getDefaults=pj;qs.lexer=Umt;qs.marked=di;qs.options=Pmt;qs.parse=Bmt;qs.parseInline=Nmt;qs.parser=zmt;qs.setOptions=Rmt;qs.use=Fmt;qs.walkTokens=qmt});var b0e=de((_8t,y0e)=>{"use strict";var y1=Lh();mbe();vbe();xbe();cj();fj();Mbe();Rbe();Nbe();Ube();Wbe();uj();var jmt=Ybe(),vj=l0e().marked,f0e=/Mac/.test(navigator.platform),Hmt=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),ak={toggleBold:YM,toggleItalic:ZM,drawLink:sL,toggleHeadingSmaller:sk,toggleHeadingBigger:eL,drawImage:lL,toggleBlockquote:QM,toggleOrderedList:oL,toggleUnorderedList:iL,toggleCodeBlock:JM,togglePreview:dL,toggleStrikethrough:XM,toggleHeading1:tL,toggleHeading2:rL,toggleHeading3:nL,toggleHeading4:bj,toggleHeading5:xj,toggleHeading6:_j,cleanBlock:aL,drawTable:uL,drawHorizontalRule:cL,undo:fL,redo:hL,toggleSideBySide:b1,toggleFullScreen:Jb},Wmt={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},Vmt=function(r){for(var e in ak)if(ak[e]===r)return e;return null},yj=function(){var r=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(r=!0)}(navigator.userAgent||navigator.vendor||window.opera),r};function $mt(r){for(var e;(e=Hmt.exec(r))!==null;){var t=e[0];if(t.indexOf("target=")===-1){var n=t.replace(/>$/,' target="_blank">');r=r.replace(t,n)}}return r}function Gmt(r){for(var e=new DOMParser,t=e.parseFromString(r,"text/html"),n=t.getElementsByTagName("li"),i=0;i<n.length;i++)for(var a=n[i],l=0;l<a.children.length;l++){var h=a.children[l];h instanceof HTMLInputElement&&h.type==="checkbox"&&(a.style.marginLeft="-1.5em",a.style.listStyleType="none")}return t.documentElement.innerHTML}function h0e(r){return f0e?r=r.replace("Ctrl","Cmd"):r=r.replace("Cmd","Ctrl"),r}function Kmt(r,e,t,n){var i=GM(r,!1,e,t,"button",n);i.classList.add("easymde-dropdown"),i.onclick=function(){i.focus()};var a=document.createElement("div");a.className="easymde-dropdown-content";for(var l=0;l<r.children.length;l++){var h=r.children[l],g;typeof h=="string"&&h in Xb?g=GM(Xb[h],!0,e,t,"button",n):g=GM(h,!0,e,t,"button",n),g.addEventListener("click",function(w){w.stopPropagation()},!1),a.appendChild(g)}return i.appendChild(a),i}function GM(r,e,t,n,i,a){r=r||{};var l=document.createElement(i);if(r.attributes)for(var h in r.attributes)Object.prototype.hasOwnProperty.call(r.attributes,h)&&l.setAttribute(h,r.attributes[h]);var g=a.options.toolbarButtonClassPrefix?a.options.toolbarButtonClassPrefix+"-":"";l.className=g+r.name,l.setAttribute("type",i),t=t??!0,r.text&&(l.innerText=r.text),r.name&&r.name in n&&(ak[r.name]=r.action),r.title&&t&&(l.title=Zmt(r.title,r.action,n),f0e&&(l.title=l.title.replace("Ctrl","\u2318"),l.title=l.title.replace("Alt","\u2325"))),r.title&&l.setAttribute("aria-label",r.title),r.noDisable&&l.classList.add("no-disable"),r.noMobile&&l.classList.add("no-mobile");var w=[];typeof r.className<"u"&&(w=r.className.split(" "));for(var C=[],D=0;D<w.length;D++){var F=w[D];F.match(/^fa([srlb]|(-[\w-]*)|$)/)?C.push(F):l.classList.add(F)}if(l.tabIndex=-1,C.length>0){for(var z=document.createElement("i"),Y=0;Y<C.length;Y++){var $=C[Y];z.classList.add($)}l.appendChild(z)}return typeof r.icon<"u"&&(l.innerHTML=r.icon),r.action&&e&&(typeof r.action=="function"?l.onclick=function(re){re.preventDefault(),r.action(a)}:typeof r.action=="string"&&(l.onclick=function(re){re.preventDefault(),window.open(r.action,"_blank")})),l}function Ymt(){var r=document.createElement("i");return r.className="separator",r.innerHTML="|",r}function Zmt(r,e,t){var n,i=r;return e&&(n=Vmt(e),t[n]&&(i+=" ("+h0e(t[n])+")")),i}function vy(r,e){e=e||r.getCursor("start");var t=r.getTokenAt(e);if(!t.type)return{};for(var n=t.type.split(" "),i={},a,l,h=0;h<n.length;h++)a=n[h],a==="strong"?i.bold=!0:a==="variable-2"?(l=r.getLine(e.line),/^\s*\d+\.\s/.test(l)?i["ordered-list"]=!0:i["unordered-list"]=!0):a==="atom"?i.quote=!0:a==="em"?i.italic=!0:a==="quote"?i.quote=!0:a==="strikethrough"?i.strikethrough=!0:a==="comment"?i.code=!0:a==="link"&&!i.image?i.link=!0:a==="image"?i.image=!0:a.match(/^header(-[1-6])?$/)&&(i[a.replace("header","heading")]=!0);return i}var u0e="";function Jb(r){var e=r.codemirror;e.setOption("fullScreen",!e.getOption("fullScreen")),e.getOption("fullScreen")?(u0e=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=u0e;var t=e.getWrapperElement(),n=t.nextSibling;if(n.classList.contains("editor-preview-active-side"))if(r.options.sideBySideFullscreen===!1){var i=t.parentNode;e.getOption("fullScreen")?i.classList.remove("sided--no-fullscreen"):i.classList.add("sided--no-fullscreen")}else b1(r);if(r.options.onToggleFullScreen&&r.options.onToggleFullScreen(e.getOption("fullScreen")||!1),typeof r.options.maxHeight<"u"&&(e.getOption("fullScreen")?(e.getScrollerElement().style.removeProperty("height"),n.style.removeProperty("height")):(e.getScrollerElement().style.height=r.options.maxHeight,r.setPreviewMaxHeight())),r.toolbar_div.classList.toggle("fullscreen"),r.toolbarElements&&r.toolbarElements.fullscreen){var a=r.toolbarElements.fullscreen;a.classList.toggle("active")}}function YM(r){Tj(r,"bold",r.options.blockStyles.bold)}function ZM(r){Tj(r,"italic",r.options.blockStyles.italic)}function XM(r){Tj(r,"strikethrough","~~")}function JM(r){var e=r.options.blockStyles.code;function t(R){if(typeof R!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof R+": "+R;return R.styles&&R.styles[2]&&R.styles[2].indexOf("formatting-code-block")!==-1}function n(R){return R.state.base.base||R.state.base}function i(R,j,G,V,te){G=G||R.getLineHandle(j),V=V||R.getTokenAt({line:j,ch:1}),te=te||!!G.text&&R.getTokenAt({line:j,ch:G.text.length-1});var _e=V.type?V.type.split(" "):[];return te&&n(te).indentedCode?"indented":_e.indexOf("comment")===-1?!1:n(V).fencedChars||n(te).fencedChars||t(G)?"fenced":"single"}function a(R,j,G,V){var te=j.line+1,_e=G.line+1,K=j.line!==G.line,U=V+`
`,Ue=`
`+V;K&&_e++,K&&G.ch===0&&(Ue=V+`
`,_e--),Qb(R,!1,[U,Ue]),R.setSelection({line:te,ch:0},{line:_e,ch:0})}var l=r.codemirror,h=l.getCursor("start"),g=l.getCursor("end"),w=l.getTokenAt({line:h.line,ch:h.ch||1}),C=l.getLineHandle(h.line),D=i(l,h.line,C,w),F,z,Y;if(D==="single"){var $=C.text.slice(0,h.ch).replace("`",""),re=C.text.slice(h.ch).replace("`","");l.replaceRange($+re,{line:h.line,ch:0},{line:h.line,ch:99999999999999}),h.ch--,h!==g&&g.ch--,l.setSelection(h,g),l.focus()}else if(D==="fenced")if(h.line!==g.line||h.ch!==g.ch){for(F=h.line;F>=0&&(C=l.getLineHandle(F),!t(C));F--);var oe=l.getTokenAt({line:F,ch:1}),ne=n(oe).fencedChars,he,_,ge,fe;t(l.getLineHandle(h.line))?(he="",_=h.line):t(l.getLineHandle(h.line-1))?(he="",_=h.line-1):(he=ne+`
`,_=h.line),t(l.getLineHandle(g.line))?(ge="",fe=g.line,g.ch===0&&(fe+=1)):g.ch!==0&&t(l.getLineHandle(g.line+1))?(ge="",fe=g.line+1):(ge=ne+`
`,fe=g.line+1),g.ch===0&&(fe-=1),l.operation(function(){l.replaceRange(ge,{line:fe,ch:0},{line:fe+(ge?0:1),ch:0}),l.replaceRange(he,{line:_,ch:0},{line:_+(he?0:1),ch:0})}),l.setSelection({line:_+(he?1:0),ch:0},{line:fe+(he?1:-1),ch:0}),l.focus()}else{var me=h.line;if(t(l.getLineHandle(h.line))&&(i(l,h.line+1)==="fenced"?(F=h.line,me=h.line+1):(z=h.line,me=h.line-1)),F===void 0)for(F=me;F>=0&&(C=l.getLineHandle(F),!t(C));F--);if(z===void 0)for(Y=l.lineCount(),z=me;z<Y&&(C=l.getLineHandle(z),!t(C));z++);l.operation(function(){l.replaceRange("",{line:F,ch:0},{line:F+1,ch:0}),l.replaceRange("",{line:z-1,ch:0},{line:z,ch:0})}),l.focus()}else if(D==="indented"){if(h.line!==g.line||h.ch!==g.ch)F=h.line,z=g.line,g.ch===0&&z--;else{for(F=h.line;F>=0;F--)if(C=l.getLineHandle(F),!C.text.match(/^\s*$/)&&i(l,F,C)!=="indented"){F+=1;break}for(Y=l.lineCount(),z=h.line;z<Y;z++)if(C=l.getLineHandle(z),!C.text.match(/^\s*$/)&&i(l,z,C)!=="indented"){z-=1;break}}var we=l.getLineHandle(z+1),Se=we&&l.getTokenAt({line:z+1,ch:we.text.length-1}),be=Se&&n(Se).indentedCode;be&&l.replaceRange(`
`,{line:z+1,ch:0});for(var $e=F;$e<=z;$e++)l.indentLine($e,"subtract");l.focus()}else{var q=h.line===g.line&&h.ch===g.ch&&h.ch===0,ee=h.line!==g.line;q||ee?a(l,h,g,e):Qb(l,!1,["`","`"])}}function QM(r){Sj(r.codemirror,"quote")}function sk(r){yy(r.codemirror,"smaller")}function eL(r){yy(r.codemirror,"bigger")}function tL(r){yy(r.codemirror,void 0,1)}function rL(r){yy(r.codemirror,void 0,2)}function nL(r){yy(r.codemirror,void 0,3)}function bj(r){yy(r.codemirror,void 0,4)}function xj(r){yy(r.codemirror,void 0,5)}function _j(r){yy(r.codemirror,void 0,6)}function iL(r){var e=r.codemirror,t="*";["-","+","*"].includes(r.options.unorderedListStyle)&&(t=r.options.unorderedListStyle),Sj(e,"unordered-list",t)}function oL(r){Sj(r.codemirror,"ordered-list")}function aL(r){Xmt(r.codemirror)}function sL(r){var e=r.options,t="https://";if(e.promptURLs){var n=prompt(e.promptTexts.link,t);if(!n)return!1;t=d0e(n)}m0e(r,"link",e.insertTexts.link,t)}function lL(r){var e=r.options,t="https://";if(e.promptURLs){var n=prompt(e.promptTexts.image,t);if(!n)return!1;t=d0e(n)}m0e(r,"image",e.insertTexts.image,t)}function d0e(r){return encodeURI(r).replace(/([\\()])/g,"\\$1")}function wj(r){r.openBrowseFileWindow()}function p0e(r,e){var t=r.codemirror,n=vy(t),i=r.options,a=e.substr(e.lastIndexOf("/")+1),l=a.substring(a.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(l))Qb(t,n.image,i.insertTexts.uploadedImage,e);else{var h=i.insertTexts.link;h[0]="["+a,Qb(t,n.link,h,e)}r.updateStatusBar("upload-image",r.options.imageTexts.sbOnUploaded.replace("#image_name#",a)),setTimeout(function(){r.updateStatusBar("upload-image",r.options.imageTexts.sbInit)},1e3)}function uL(r){var e=r.codemirror,t=vy(e),n=r.options;Qb(e,t.table,n.insertTexts.table)}function cL(r){var e=r.codemirror,t=vy(e),n=r.options;Qb(e,t.image,n.insertTexts.horizontalRule)}function fL(r){var e=r.codemirror;e.undo(),e.focus()}function hL(r){var e=r.codemirror;e.redo(),e.focus()}function b1(r){var e=r.codemirror,t=e.getWrapperElement(),n=t.nextSibling,i=r.toolbarElements&&r.toolbarElements["side-by-side"],a=!1,l=t.parentNode;n.classList.contains("editor-preview-active-side")?(r.options.sideBySideFullscreen===!1&&l.classList.remove("sided--no-fullscreen"),n.classList.remove("editor-preview-active-side"),i&&i.classList.remove("active"),t.classList.remove("CodeMirror-sided")):(setTimeout(function(){e.getOption("fullScreen")||(r.options.sideBySideFullscreen===!1?l.classList.add("sided--no-fullscreen"):Jb(r)),n.classList.add("editor-preview-active-side")},1),i&&i.classList.add("active"),t.classList.add("CodeMirror-sided"),a=!0);var h=t.lastChild;if(h.classList.contains("editor-preview-active")){h.classList.remove("editor-preview-active");var g=r.toolbarElements.preview,w=r.toolbar_div;g.classList.remove("active"),w.classList.remove("disabled-for-preview")}var C=function(){var F=r.options.previewRender(r.value(),n);F!=null&&(n.innerHTML=F)};if(e.sideBySideRenderingFunction||(e.sideBySideRenderingFunction=C),a){var D=r.options.previewRender(r.value(),n);D!=null&&(n.innerHTML=D),e.on("update",e.sideBySideRenderingFunction)}else e.off("update",e.sideBySideRenderingFunction);e.refresh()}function dL(r){var e=r.codemirror,t=e.getWrapperElement(),n=r.toolbar_div,i=r.options.toolbar?r.toolbarElements.preview:!1,a=t.lastChild,l=e.getWrapperElement().nextSibling;if(l.classList.contains("editor-preview-active-side")&&b1(r),!a||!a.classList.contains("editor-preview-full")){if(a=document.createElement("div"),a.className="editor-preview-full",r.options.previewClass)if(Array.isArray(r.options.previewClass))for(var h=0;h<r.options.previewClass.length;h++)a.classList.add(r.options.previewClass[h]);else typeof r.options.previewClass=="string"&&a.classList.add(r.options.previewClass);t.appendChild(a)}a.classList.contains("editor-preview-active")?(a.classList.remove("editor-preview-active"),i&&(i.classList.remove("active"),n.classList.remove("disabled-for-preview"))):(setTimeout(function(){a.classList.add("editor-preview-active")},1),i&&(i.classList.add("active"),n.classList.add("disabled-for-preview")));var g=r.options.previewRender(r.value(),a);g!==null&&(a.innerHTML=g)}function Qb(r,e,t,n){if(!r.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var i,a=t[0],l=t[1],h={},g={};Object.assign(h,r.getCursor("start")),Object.assign(g,r.getCursor("end")),n&&(a=a.replace("#url#",n),l=l.replace("#url#",n)),e?(i=r.getLine(h.line),a=i.slice(0,h.ch),l=i.slice(h.ch),r.replaceRange(a+l,{line:h.line,ch:0})):(i=r.getSelection(),r.replaceSelection(a+i+l),h.ch+=a.length,h!==g&&(g.ch+=a.length)),r.setSelection(h,g),r.focus()}}function yy(r,e,t){if(!r.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var n=r.getCursor("start"),i=r.getCursor("end"),a=n.line;a<=i.line;a++)(function(l){var h=r.getLine(l),g=h.search(/[^#]/);e!==void 0?g<=0?e=="bigger"?h="###### "+h:h="# "+h:g==6&&e=="smaller"?h=h.substr(7):g==1&&e=="bigger"?h=h.substr(2):e=="bigger"?h=h.substr(1):h="#"+h:g<=0?h="#".repeat(t)+" "+h:g==t?h=h.substr(g+1):h="#".repeat(t)+" "+h.substr(g+1),r.replaceRange(h,{line:l,ch:0},{line:l,ch:99999999999999})})(a);r.focus()}}function Sj(r,e,t){if(!r.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var n=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,i=/^\s*/,a=vy(r),l=r.getCursor("start"),h=r.getCursor("end"),g={quote:/^(\s*)>\s+/,"unordered-list":n,"ordered-list":n},w=function(Y,$){var re={quote:">","unordered-list":t,"ordered-list":"%%i."};return re[Y].replace("%%i",$)},C=function(Y,$){var re={quote:">","unordered-list":"\\"+t,"ordered-list":"\\d+."},oe=new RegExp(re[Y]);return $&&oe.test($)},D=function(Y,$,re){var oe=n.exec($),ne=w(Y,F);return oe!==null?(C(Y,oe[2])&&(ne=""),$=oe[1]+ne+oe[3]+$.replace(i,"").replace(g[Y],"$1")):re==!1&&($=ne+" "+$),$},F=1,z=l.line;z<=h.line;z++)(function(Y){var $=r.getLine(Y);a[e]?$=$.replace(g[e],"$1"):(e=="unordered-list"&&($=D("ordered-list",$,!0)),$=D(e,$,!1),F+=1),r.replaceRange($,{line:Y,ch:0},{line:Y,ch:99999999999999})})(z);r.focus()}}function m0e(r,e,t,n){if(!(!r.codemirror||r.isPreviewActive())){var i=r.codemirror,a=vy(i),l=a[e];if(!l){Qb(i,l,t,n);return}var h=i.getCursor("start"),g=i.getCursor("end"),w=i.getLine(h.line),C=w.slice(0,h.ch),D=w.slice(h.ch);e=="link"?C=C.replace(/(.*)[^!]\[/,"$1"):e=="image"&&(C=C.replace(/(.*)!\[$/,"$1")),D=D.replace(/]\(.*?\)/,""),i.replaceRange(C+D,{line:h.line,ch:0},{line:h.line,ch:99999999999999}),h.ch-=t[0].length,h!==g&&(g.ch-=t[0].length),i.setSelection(h,g),i.focus()}}function Tj(r,e,t,n){if(!(!r.codemirror||r.isPreviewActive())){n=typeof n>"u"?t:n;var i=r.codemirror,a=vy(i),l,h=t,g=n,w=i.getCursor("start"),C=i.getCursor("end");a[e]?(l=i.getLine(w.line),h=l.slice(0,w.ch),g=l.slice(w.ch),e=="bold"?(h=h.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),g=g.replace(/(\*\*|__)/,"")):e=="italic"?(h=h.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),g=g.replace(/(\*|_)/,"")):e=="strikethrough"&&(h=h.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),g=g.replace(/(\*\*|~~)/,"")),i.replaceRange(h+g,{line:w.line,ch:0},{line:w.line,ch:99999999999999}),e=="bold"||e=="strikethrough"?(w.ch-=2,w!==C&&(C.ch-=2)):e=="italic"&&(w.ch-=1,w!==C&&(C.ch-=1))):(l=i.getSelection(),e=="bold"?(l=l.split("**").join(""),l=l.split("__").join("")):e=="italic"?(l=l.split("*").join(""),l=l.split("_").join("")):e=="strikethrough"&&(l=l.split("~~").join("")),i.replaceSelection(h+l+g),w.ch+=t.length,C.ch=w.ch+l.length),i.setSelection(w,C),i.focus()}}function Xmt(r){if(!r.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var e=r.getCursor("start"),t=r.getCursor("end"),n,i=e.line;i<=t.line;i++)n=r.getLine(i),n=n.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),r.replaceRange(n,{line:i,ch:0},{line:i,ch:99999999999999})}function KM(r,e){if(Math.abs(r)<1024)return""+r+e[0];var t=0;do r/=1024,++t;while(Math.abs(r)>=1024&&t<e.length);return""+r.toFixed(1)+e[t]}function g0e(r,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t]instanceof Array?r[t]=e[t].concat(r[t]instanceof Array?r[t]:[]):e[t]!==null&&typeof e[t]=="object"&&e[t].constructor===Object?r[t]=g0e(r[t]||{},e[t]):r[t]=e[t]);return r}function $g(r){for(var e=1;e<arguments.length;e++)r=g0e(r,arguments[e]);return r}function c0e(r){var e=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,t=r.match(e),n=0;if(t===null)return n;for(var i=0;i<t.length;i++)t[i].charCodeAt(0)>=19968?n+=t[i].length:n+=1;return n}var Ns={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},Xb={bold:{name:"bold",action:YM,className:Ns.bold,title:"Bold",default:!0},italic:{name:"italic",action:ZM,className:Ns.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:XM,className:Ns.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:sk,className:Ns.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:sk,className:Ns["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:eL,className:Ns["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:tL,className:Ns["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:rL,className:Ns["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:nL,className:Ns["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:JM,className:Ns.code,title:"Code"},quote:{name:"quote",action:QM,className:Ns.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:iL,className:Ns["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:oL,className:Ns["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:aL,className:Ns["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:sL,className:Ns.link,title:"Create Link",default:!0},image:{name:"image",action:lL,className:Ns.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:wj,className:Ns["upload-image"],title:"Import an image"},table:{name:"table",action:uL,className:Ns.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:cL,className:Ns["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:dL,className:Ns.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:b1,className:Ns["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:Jb,className:Ns.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:Ns.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:fL,className:Ns.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:hL,className:Ns.redo,noDisable:!0,title:"Redo"}},Jmt={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},Qmt={link:"URL for the link:",image:"URL of the image:"},egt={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},tgt={bold:"**",code:"```",italic:"*"},rgt={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},ngt={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function kn(r){r=r||{},r.parent=this;var e=!0;if(r.autoDownloadFontAwesome===!1&&(e=!1),r.autoDownloadFontAwesome!==!0)for(var t=document.styleSheets,n=0;n<t.length;n++)!t[n].href||t[n].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(e=!1);if(e){var i=document.createElement("link");i.rel="stylesheet",i.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(i)}if(r.element)this.element=r.element;else if(r.element===null){console.log("EasyMDE: Error. No element was found.");return}if(r.toolbar===void 0){r.toolbar=[];for(var a in Xb)Object.prototype.hasOwnProperty.call(Xb,a)&&(a.indexOf("separator-")!=-1&&r.toolbar.push("|"),(Xb[a].default===!0||r.showIcons&&r.showIcons.constructor===Array&&r.showIcons.indexOf(a)!=-1)&&r.toolbar.push(a))}if(Object.prototype.hasOwnProperty.call(r,"previewClass")||(r.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(r,"status")||(r.status=["autosave","lines","words","cursor"],r.uploadImage&&r.status.unshift("upload-image")),r.previewRender||(r.previewRender=function(h){return this.parent.markdown(h)}),r.parsingConfig=$g({highlightFormatting:!0},r.parsingConfig||{}),r.insertTexts=$g({},Jmt,r.insertTexts||{}),r.promptTexts=$g({},Qmt,r.promptTexts||{}),r.blockStyles=$g({},tgt,r.blockStyles||{}),r.autosave!=null&&(r.autosave.timeFormat=$g({},egt,r.autosave.timeFormat||{})),r.iconClassMap=$g({},Ns,r.iconClassMap||{}),r.shortcuts=$g({},Wmt,r.shortcuts||{}),r.maxHeight=r.maxHeight||void 0,r.direction=r.direction||"ltr",typeof r.maxHeight<"u"?r.minHeight=r.maxHeight:r.minHeight=r.minHeight||"300px",r.errorCallback=r.errorCallback||function(h){alert(h)},r.uploadImage=r.uploadImage||!1,r.imageMaxSize=r.imageMaxSize||2097152,r.imageAccept=r.imageAccept||"image/png, image/jpeg, image/gif, image/avif",r.imageTexts=$g({},rgt,r.imageTexts||{}),r.errorMessages=$g({},ngt,r.errorMessages||{}),r.imagePathAbsolute=r.imagePathAbsolute||!1,r.imageCSRFName=r.imageCSRFName||"csrfmiddlewaretoken",r.imageCSRFHeader=r.imageCSRFHeader||!1,r.autosave!=null&&r.autosave.unique_id!=null&&r.autosave.unique_id!=""&&(r.autosave.uniqueId=r.autosave.unique_id),r.overlayMode&&r.overlayMode.combine===void 0&&(r.overlayMode.combine=!0),this.options=r,this.render(),r.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(r.initialValue),r.uploadImage){var l=this;this.codemirror.on("dragenter",function(h,g){l.updateStatusBar("upload-image",l.options.imageTexts.sbOnDragEnter),g.stopPropagation(),g.preventDefault()}),this.codemirror.on("dragend",function(h,g){l.updateStatusBar("upload-image",l.options.imageTexts.sbInit),g.stopPropagation(),g.preventDefault()}),this.codemirror.on("dragleave",function(h,g){l.updateStatusBar("upload-image",l.options.imageTexts.sbInit),g.stopPropagation(),g.preventDefault()}),this.codemirror.on("dragover",function(h,g){l.updateStatusBar("upload-image",l.options.imageTexts.sbOnDragEnter),g.stopPropagation(),g.preventDefault()}),this.codemirror.on("drop",function(h,g){g.stopPropagation(),g.preventDefault(),r.imageUploadFunction?l.uploadImagesUsingCustomFunction(r.imageUploadFunction,g.dataTransfer.files):l.uploadImages(g.dataTransfer.files)}),this.codemirror.on("paste",function(h,g){r.imageUploadFunction?l.uploadImagesUsingCustomFunction(r.imageUploadFunction,g.clipboardData.files):l.uploadImages(g.clipboardData.files)})}}kn.prototype.uploadImages=function(r,e,t){if(r.length!==0){for(var n=[],i=0;i<r.length;i++)n.push(r[i].name),this.uploadImage(r[i],e,t);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",n.join(", ")))}};kn.prototype.uploadImagesUsingCustomFunction=function(r,e){if(e.length!==0){for(var t=[],n=0;n<e.length;n++)t.push(e[n].name),this.uploadImageUsingCustomFunction(r,e[n]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",t.join(", ")))}};kn.prototype.updateStatusBar=function(r,e){if(!!this.gui.statusbar){var t=this.gui.statusbar.getElementsByClassName(r);t.length===1?this.gui.statusbar.getElementsByClassName(r)[0].textContent=e:t.length===0?console.log("EasyMDE: status bar item "+r+" was not found."):console.log("EasyMDE: Several status bar items named "+r+" was found.")}};kn.prototype.markdown=function(r){if(vj){var e;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?e=this.options.renderingConfig.markedOptions:e={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?e.breaks=!1:e.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var t=this.options.renderingConfig.hljs||window.hljs;t&&(e.highlight=function(i,a){return a&&t.getLanguage(a)?t.highlight(a,i).value:t.highlightAuto(i).value})}vj.setOptions(e);var n=vj.parse(r);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(n=this.options.renderingConfig.sanitizerFunction.call(this,n)),n=$mt(n),n=Gmt(n),n}};kn.prototype.render=function(r){if(r||(r=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===r)return;this.element=r;var e=this.options,t=this,n={};for(var i in e.shortcuts)e.shortcuts[i]!==null&&ak[i]!==null&&function(re){n[h0e(e.shortcuts[re])]=function(){var oe=ak[re];typeof oe=="function"?oe(t):typeof oe=="string"&&window.open(oe,"_blank")}}(i);n.Enter="newlineAndIndentContinueMarkdownList",n.Tab="tabAndIndentMarkdownList",n["Shift-Tab"]="shiftTabAndUnindentMarkdownList",n.Esc=function(re){re.getOption("fullScreen")&&Jb(t)},this.documentOnKeyDown=function(re){re=re||window.event,re.keyCode==27&&t.codemirror.getOption("fullScreen")&&Jb(t)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var a,l;e.overlayMode?(y1.defineMode("overlay-mode",function(re){return y1.overlayMode(y1.getMode(re,e.spellChecker!==!1?"spell-checker":"gfm"),e.overlayMode.mode,e.overlayMode.combine)}),a="overlay-mode",l=e.parsingConfig,l.gitHubSpice=!1):(a=e.parsingConfig,a.name="gfm",a.gitHubSpice=!1),e.spellChecker!==!1&&(a="spell-checker",l=e.parsingConfig,l.name="gfm",l.gitHubSpice=!1,typeof e.spellChecker=="function"?e.spellChecker({codeMirrorInstance:y1}):jmt({codeMirrorInstance:y1}));function h(re,oe,ne){return{addNew:!1}}if(this.codemirror=y1.fromTextArea(r,{mode:a,backdrop:l,theme:e.theme!=null?e.theme:"easymde",tabSize:e.tabSize!=null?e.tabSize:2,indentUnit:e.tabSize!=null?e.tabSize:2,indentWithTabs:e.indentWithTabs!==!1,lineNumbers:e.lineNumbers===!0,autofocus:e.autofocus===!0,extraKeys:n,direction:e.direction,lineWrapping:e.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:e.placeholder||r.getAttribute("placeholder")||"",styleSelectedText:e.styleSelectedText!=null?e.styleSelectedText:!yj(),scrollbarStyle:e.scrollbarStyle!=null?e.scrollbarStyle:"native",configureMouse:h,inputStyle:e.inputStyle!=null?e.inputStyle:yj()?"contenteditable":"textarea",spellcheck:e.nativeSpellcheck!=null?e.nativeSpellcheck:!0,autoRefresh:e.autoRefresh!=null?e.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=e.minHeight,typeof e.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=e.maxHeight),e.forceSync===!0){var g=this.codemirror;g.on("change",function(){g.save()})}this.gui={};var w=document.createElement("div");w.classList.add("EasyMDEContainer"),w.setAttribute("role","application");var C=this.codemirror.getWrapperElement();C.parentNode.insertBefore(w,C),w.appendChild(C),e.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),e.status!==!1&&(this.gui.statusbar=this.createStatusbar()),e.autosave!=null&&e.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(t._autosave_timeout),t._autosave_timeout=setTimeout(function(){t.autosave()},t.options.autosave.submit_delay||t.options.autosave.delay||1e3)}));function D(re,oe){var ne,he=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return re<he?ne=oe+"px":ne=oe/re*100+"%",ne}var F=this;function z(re,oe){re.setAttribute("data-img-src",oe.url),re.setAttribute("style","--bg-image:url("+oe.url+");--width:"+oe.naturalWidth+"px;--height:"+D(oe.naturalWidth,oe.naturalHeight)),F.codemirror.setSize()}function Y(){!e.previewImagesInEditor||w.querySelectorAll(".cm-image-marker").forEach(function(re){var oe=re.parentElement;if(!!oe.innerText.match(/^!\[.*?\]\(.*\)/g)&&!oe.hasAttribute("data-img-src")){var ne=oe.innerText.match("\\((.*)\\)");if(window.EMDEimagesCache||(window.EMDEimagesCache={}),ne&&ne.length>=2){var he=ne[1];if(e.imagesPreviewHandler){var _=e.imagesPreviewHandler(ne[1]);typeof _=="string"&&(he=_)}if(window.EMDEimagesCache[he])z(oe,window.EMDEimagesCache[he]);else{var ge=document.createElement("img");ge.onload=function(){window.EMDEimagesCache[he]={naturalWidth:ge.naturalWidth,naturalHeight:ge.naturalHeight,url:he},z(oe,window.EMDEimagesCache[he])},ge.src=he}}}})}this.codemirror.on("update",function(){Y()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(e.autofocus===!0||r.autofocus)&&this.codemirror.focus();var $=this.codemirror;setTimeout(function(){$.refresh()}.bind($),0)};kn.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function v0e(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}kn.prototype.autosave=function(){if(v0e()){var r=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(r.element.form!=null&&r.element.form!=null&&r.element.form.addEventListener("submit",function(){clearTimeout(r.autosaveTimeoutId),r.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+r.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var e=r.value();e!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,e):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var t=document.getElementById("autosaved");if(t!=null&&t!=null&&t!=""){var n=new Date,i=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(n),a=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;t.innerHTML=a+i}}else console.log("EasyMDE: localStorage not available, cannot autosave")};kn.prototype.clearAutosavedValue=function(){if(v0e()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")};kn.prototype.openBrowseFileWindow=function(r,e){var t=this,n=this.gui.toolbar.getElementsByClassName("imageInput")[0];n.click();function i(a){t.options.imageUploadFunction?t.uploadImagesUsingCustomFunction(t.options.imageUploadFunction,a.target.files):t.uploadImages(a.target.files,r,e),n.removeEventListener("change",i)}n.addEventListener("change",i)};kn.prototype.uploadImage=function(r,e,t){var n=this;e=e||function(w){p0e(n,w)};function i(g){n.updateStatusBar("upload-image",g),setTimeout(function(){n.updateStatusBar("upload-image",n.options.imageTexts.sbInit)},1e4),t&&typeof t=="function"&&t(g),n.options.errorCallback(g)}function a(g){var w=n.options.imageTexts.sizeUnits.split(",");return g.replace("#image_name#",r.name).replace("#image_size#",KM(r.size,w)).replace("#image_max_size#",KM(n.options.imageMaxSize,w))}if(r.size>this.options.imageMaxSize){i(a(this.options.errorMessages.fileTooLarge));return}var l=new FormData;l.append("image",r),n.options.imageCSRFToken&&!n.options.imageCSRFHeader&&l.append(n.options.imageCSRFName,n.options.imageCSRFToken);var h=new XMLHttpRequest;h.upload.onprogress=function(g){if(g.lengthComputable){var w=""+Math.round(g.loaded*100/g.total);n.updateStatusBar("upload-image",n.options.imageTexts.sbProgress.replace("#file_name#",r.name).replace("#progress#",w))}},h.open("POST",this.options.imageUploadEndpoint),n.options.imageCSRFToken&&n.options.imageCSRFHeader&&h.setRequestHeader(n.options.imageCSRFName,n.options.imageCSRFToken),h.onload=function(){try{var g=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),i(a(n.options.errorMessages.importError));return}this.status===200&&g&&!g.error&&g.data&&g.data.filePath?e((n.options.imagePathAbsolute?"":window.location.origin+"/")+g.data.filePath):g.error&&g.error in n.options.errorMessages?i(a(n.options.errorMessages[g.error])):g.error?i(a(g.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),i(a(n.options.errorMessages.importError)))},h.onerror=function(g){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+g.target.status+" ("+g.target.statusText+")"),i(n.options.errorMessages.importError)},h.send(l)};kn.prototype.uploadImageUsingCustomFunction=function(r,e){var t=this;function n(l){p0e(t,l)}function i(l){var h=a(l);t.updateStatusBar("upload-image",h),setTimeout(function(){t.updateStatusBar("upload-image",t.options.imageTexts.sbInit)},1e4),t.options.errorCallback(h)}function a(l){var h=t.options.imageTexts.sizeUnits.split(",");return l.replace("#image_name#",e.name).replace("#image_size#",KM(e.size,h)).replace("#image_max_size#",KM(t.options.imageMaxSize,h))}r.apply(this,[e,n,i])};kn.prototype.setPreviewMaxHeight=function(){var r=this.codemirror,e=r.getWrapperElement(),t=e.nextSibling,n=parseInt(window.getComputedStyle(e).paddingTop),i=parseInt(window.getComputedStyle(e).borderTopWidth),a=parseInt(this.options.maxHeight),l=a+n*2+i*2,h=l.toString()+"px";t.style.height=h};kn.prototype.createSideBySide=function(){var r=this.codemirror,e=r.getWrapperElement(),t=e.nextSibling;if(!t||!t.classList.contains("editor-preview-side")){if(t=document.createElement("div"),t.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var n=0;n<this.options.previewClass.length;n++)t.classList.add(this.options.previewClass[n]);else typeof this.options.previewClass=="string"&&t.classList.add(this.options.previewClass);e.parentNode.insertBefore(t,e.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return t;var i=!1,a=!1;return r.on("scroll",function(l){if(i){i=!1;return}a=!0;var h=l.getScrollInfo().height-l.getScrollInfo().clientHeight,g=parseFloat(l.getScrollInfo().top)/h,w=(t.scrollHeight-t.clientHeight)*g;t.scrollTop=w}),t.onscroll=function(){if(a){a=!1;return}i=!0;var l=t.scrollHeight-t.clientHeight,h=parseFloat(t.scrollTop)/l,g=(r.getScrollInfo().height-r.getScrollInfo().clientHeight)*h;r.scrollTo(0,g)},t};kn.prototype.createToolbar=function(r){if(r=r||this.options.toolbar,!(!r||r.length===0)){var e;for(e=0;e<r.length;e++)Xb[r[e]]!=null&&(r[e]=Xb[r[e]]);var t=document.createElement("div");t.className="editor-toolbar",t.setAttribute("role","toolbar");var n=this,i={};for(n.toolbar=r,e=0;e<r.length;e++)if(!(r[e].name=="guide"&&n.options.toolbarGuideIcon===!1)&&!(n.options.hideIcons&&n.options.hideIcons.indexOf(r[e].name)!=-1)&&!((r[e].name=="fullscreen"||r[e].name=="side-by-side")&&yj())){if(r[e]==="|"){for(var a=!1,l=e+1;l<r.length;l++)r[l]!=="|"&&(!n.options.hideIcons||n.options.hideIcons.indexOf(r[l].name)==-1)&&(a=!0);if(!a)continue}(function(w){var C;if(w==="|"?C=Ymt():w.children?C=Kmt(w,n.options.toolbarTips,n.options.shortcuts,n):C=GM(w,!0,n.options.toolbarTips,n.options.shortcuts,"button",n),i[w.name||w]=C,t.appendChild(C),w.name==="upload-image"){var D=document.createElement("input");D.className="imageInput",D.type="file",D.multiple=!0,D.name="image",D.accept=n.options.imageAccept,D.style.display="none",D.style.opacity=0,t.appendChild(D)}})(r[e])}n.toolbar_div=t,n.toolbarElements=i;var h=this.codemirror;h.on("cursorActivity",function(){var w=vy(h);for(var C in i)(function(D){var F=i[D];w[D]?F.classList.add("active"):D!="fullscreen"&&D!="side-by-side"&&F.classList.remove("active")})(C)});var g=h.getWrapperElement();return g.parentNode.insertBefore(t,g),t}};kn.prototype.createStatusbar=function(r){r=r||this.options.status;var e=this.options,t=this.codemirror;if(!(!r||r.length===0)){var n=[],i,a,l,h;for(i=0;i<r.length;i++)if(a=void 0,l=void 0,h=void 0,typeof r[i]=="object")n.push({className:r[i].className,defaultValue:r[i].defaultValue,onUpdate:r[i].onUpdate,onActivity:r[i].onActivity});else{var g=r[i];g==="words"?(h=function(z){z.innerHTML=c0e(t.getValue())},a=function(z){z.innerHTML=c0e(t.getValue())}):g==="lines"?(h=function(z){z.innerHTML=t.lineCount()},a=function(z){z.innerHTML=t.lineCount()}):g==="cursor"?(h=function(z){z.innerHTML="1:1"},l=function(z){var Y=t.getCursor(),$=Y.line+1,re=Y.ch+1;z.innerHTML=$+":"+re}):g==="autosave"?h=function(z){e.autosave!=null&&e.autosave.enabled===!0&&z.setAttribute("id","autosaved")}:g==="upload-image"&&(h=function(z){z.innerHTML=e.imageTexts.sbInit}),n.push({className:g,defaultValue:h,onUpdate:a,onActivity:l})}var w=document.createElement("div");for(w.className="editor-statusbar",i=0;i<n.length;i++){var C=n[i],D=document.createElement("span");D.className=C.className,typeof C.defaultValue=="function"&&C.defaultValue(D),typeof C.onUpdate=="function"&&this.codemirror.on("update",function(z,Y){return function(){Y.onUpdate(z)}}(D,C)),typeof C.onActivity=="function"&&this.codemirror.on("cursorActivity",function(z,Y){return function(){Y.onActivity(z)}}(D,C)),w.appendChild(D)}var F=this.codemirror.getWrapperElement();return F.parentNode.insertBefore(w,F.nextSibling),w}};kn.prototype.value=function(r){var e=this.codemirror;if(r===void 0)return e.getValue();if(e.getDoc().setValue(r),this.isPreviewActive()){var t=e.getWrapperElement(),n=t.lastChild,i=this.options.previewRender(r,n);i!==null&&(n.innerHTML=i)}return this};kn.toggleBold=YM;kn.toggleItalic=ZM;kn.toggleStrikethrough=XM;kn.toggleBlockquote=QM;kn.toggleHeadingSmaller=sk;kn.toggleHeadingBigger=eL;kn.toggleHeading1=tL;kn.toggleHeading2=rL;kn.toggleHeading3=nL;kn.toggleHeading4=bj;kn.toggleHeading5=xj;kn.toggleHeading6=_j;kn.toggleCodeBlock=JM;kn.toggleUnorderedList=iL;kn.toggleOrderedList=oL;kn.cleanBlock=aL;kn.drawLink=sL;kn.drawImage=lL;kn.drawUploadedImage=wj;kn.drawTable=uL;kn.drawHorizontalRule=cL;kn.undo=fL;kn.redo=hL;kn.togglePreview=dL;kn.toggleSideBySide=b1;kn.toggleFullScreen=Jb;kn.prototype.toggleBold=function(){YM(this)};kn.prototype.toggleItalic=function(){ZM(this)};kn.prototype.toggleStrikethrough=function(){XM(this)};kn.prototype.toggleBlockquote=function(){QM(this)};kn.prototype.toggleHeadingSmaller=function(){sk(this)};kn.prototype.toggleHeadingBigger=function(){eL(this)};kn.prototype.toggleHeading1=function(){tL(this)};kn.prototype.toggleHeading2=function(){rL(this)};kn.prototype.toggleHeading3=function(){nL(this)};kn.prototype.toggleHeading4=function(){bj(this)};kn.prototype.toggleHeading5=function(){xj(this)};kn.prototype.toggleHeading6=function(){_j(this)};kn.prototype.toggleCodeBlock=function(){JM(this)};kn.prototype.toggleUnorderedList=function(){iL(this)};kn.prototype.toggleOrderedList=function(){oL(this)};kn.prototype.cleanBlock=function(){aL(this)};kn.prototype.drawLink=function(){sL(this)};kn.prototype.drawImage=function(){lL(this)};kn.prototype.drawUploadedImage=function(){wj(this)};kn.prototype.drawTable=function(){uL(this)};kn.prototype.drawHorizontalRule=function(){cL(this)};kn.prototype.undo=function(){fL(this)};kn.prototype.redo=function(){hL(this)};kn.prototype.togglePreview=function(){dL(this)};kn.prototype.toggleSideBySide=function(){b1(this)};kn.prototype.toggleFullScreen=function(){Jb(this)};kn.prototype.isPreviewActive=function(){var r=this.codemirror,e=r.getWrapperElement(),t=e.lastChild;return t.classList.contains("editor-preview-active")};kn.prototype.isSideBySideActive=function(){var r=this.codemirror,e=r.getWrapperElement(),t=e.nextSibling;return t.classList.contains("editor-preview-active-side")};kn.prototype.isFullscreenActive=function(){var r=this.codemirror;return r.getOption("fullScreen")};kn.prototype.getState=function(){var r=this.codemirror;return vy(r)};kn.prototype.toTextArea=function(){var r=this.codemirror,e=r.getWrapperElement(),t=e.parentNode;t&&(this.gui.toolbar&&t.removeChild(this.gui.toolbar),this.gui.statusbar&&t.removeChild(this.gui.statusbar),this.gui.sideBySide&&t.removeChild(this.gui.sideBySide)),t.parentNode.insertBefore(e,t),t.remove(),r.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())};y0e.exports=kn});var x0e,lk,_0e=ze(()=>{bo();x0e=la(b0e()),lk=class extends nn{get view(){return this.elementTarget.dataset.view}get componentOptions(){try{return JSON.parse(this.elementTarget.dataset.componentOptions)}catch(r){return{}}}connect(){let r={element:this.elementTarget,spellChecker:this.componentOptions.spell_checker,autoRefresh:{delay:500}};this.view==="show"&&(r.toolbar=!1,r.status=!1);let e=new x0e.default(r);this.view==="show"&&(e.codemirror.options.readOnly=!0)}};Wr(lk,"targets",["element"])});var pL,w0e=ze(()=>{bo();pL=class extends nn{refresh(){let r=this.context.scope.element.closest("turbo-frame");this.element.querySelector("svg").classList.add("animate-spin"),r?r.reload():console.error(`Element with ID '${this.turboFrameIdValue}' not found.`)}}});var uk,S0e=ze(()=>{bo();uk=class extends nn{showContent(r){this.contentTarget.classList.toggle("hidden"),r.target.classList.add("hidden")}};Wr(uk,"targets",["content"])});var ck,T0e=ze(()=>{bo();ck=class extends nn{focus({params:r}){let e=this.context.element.querySelector(r.selector);this.element&&e.focus()}};Wr(ck,"targets",["element"])});var x1,E0e=ze(()=>{bo();x1=class extends nn{connect(){this.resourceName=this.element.dataset.resourceName}toggle(r){let e=!!r.target.checked;document.querySelectorAll(`[data-controller="item-selector"][data-resource-name="${this.resourceName}"] input[type=checkbox]`).forEach(t=>t.checked!==e&&t.click()),this.selectAllEnabled()&&(this.selectAllOverlay(e),e||this.resetUnselected())}selectRow(){let r=!0;this.itemCheckboxTargets.forEach(e=>r=r&&e.checked),this.checkboxTarget.checked=r,this.selectAllEnabled()&&(this.selectAllOverlay(r),this.resetUnselected())}selectAll(r){r.preventDefault(),this.selectedAllValue=!this.selectedAllValue,this.unselectedMessageTarget.classList.toggle("hidden"),this.selectedMessageTarget.classList.toggle("hidden")}resetUnselected(){this.selectedAllValue=!1,this.unselectedMessageTarget.classList.remove("hidden"),this.selectedMessageTarget.classList.add("hidden")}selectAllOverlay(r){r?this.selectAllOverlayTarget.classList.remove("hidden"):this.selectAllOverlayTarget.classList.add("hidden")}selectAllEnabled(){return this.pageCountValue>1&&this.selectedAllQueryValue!=="select_all_disabled"}};Wr(x1,"targets",["itemCheckbox","checkbox","selectAllOverlay","unselectedMessage","selectedMessage"]),Wr(x1,"values",{pageCount:Number,selectedAll:Boolean,selectedAllQuery:String})});var fk,k0e=ze(()=>{bo();fk=class extends nn{constructor(){super(...arguments);Wr(this,"checkbox",{});Wr(this,"enabledClasses",["text-black"]);Wr(this,"disabledClasses",["text-gray-500"])}get actionsPanelPresent(){return this.actionsButtonElement!==null}get currentIds(){try{return JSON.parse(this.stateHolderElement.dataset.selectedResources)}catch(e){return[]}}get actionLinks(){return document.querySelectorAll('.js-actions-dropdown a[data-actions-picker-target="resourceAction"]')}set currentIds(e){this.stateHolderElement.dataset.selectedResources=JSON.stringify(e),this.actionsPanelPresent&&(e.length>0?this.enableResourceActions():this.disableResourceActions())}connect(){this.resourceName=this.element.dataset.resourceName,this.resourceId=this.element.dataset.resourceId,this.actionsButtonElement=document.querySelector(`[data-actions-dropdown-button="${this.resourceName}"]`),this.stateHolderElement=document.querySelector(`[data-selected-resources-name="${this.resourceName}"]`)}addToSelected(){let e=this.currentIds;e.push(this.resourceId),this.currentIds=e}removeFromSelected(){this.currentIds=this.currentIds.filter(e=>e.toString()!==this.resourceId)}toggle(e){this.checkbox=e.target,this.checkbox.checked?this.addToSelected():this.removeFromSelected()}enableResourceActions(){this.actionLinks.forEach(e=>{e.classList.add(...this.enabledClasses),e.classList.remove(...this.disabledClasses),e.setAttribute("data-href",e.getAttribute("href")),e.dataset.disabled=!1})}disableResourceActions(){this.actionLinks.forEach(e=>{e.classList.remove(...this.enabledClasses),e.classList.add(...this.disabledClasses),e.setAttribute("href",e.getAttribute("data-href")),e.dataset.disabled=!0})}};Wr(fk,"targets",["panel"])});var Cj=de((Ej,kj)=>{(function(r,e){typeof Ej=="object"&&typeof kj<"u"?kj.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self,r.DOMPurify=e())})(Ej,function(){"use strict";let{entries:r,setPrototypeOf:e,isFrozen:t,getPrototypeOf:n,getOwnPropertyDescriptor:i}=Object,{freeze:a,seal:l,create:h}=Object,{apply:g,construct:w}=typeof Reflect<"u"&&Reflect;a||(a=function(Te){return Te}),l||(l=function(Te){return Te}),g||(g=function(Te,Ne,Wt){return Te.apply(Ne,Wt)}),w||(w=function(Te,Ne){return new Te(...Ne)});let C=ge(Array.prototype.forEach),D=ge(Array.prototype.pop),F=ge(Array.prototype.push),z=ge(String.prototype.toLowerCase),Y=ge(String.prototype.toString),$=ge(String.prototype.match),re=ge(String.prototype.replace),oe=ge(String.prototype.indexOf),ne=ge(String.prototype.trim),he=ge(RegExp.prototype.test),_=fe(TypeError);function ge(ce){return function(Te){for(var Ne=arguments.length,Wt=new Array(Ne>1?Ne-1:0),ft=1;ft<Ne;ft++)Wt[ft-1]=arguments[ft];return g(ce,Te,Wt)}}function fe(ce){return function(){for(var Te=arguments.length,Ne=new Array(Te),Wt=0;Wt<Te;Wt++)Ne[Wt]=arguments[Wt];return w(ce,Ne)}}function me(ce,Te){let Ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:z;e&&e(ce,null);let Wt=Te.length;for(;Wt--;){let ft=Te[Wt];if(typeof ft=="string"){let qt=Ne(ft);qt!==ft&&(t(Te)||(Te[Wt]=qt),ft=qt)}ce[ft]=!0}return ce}function we(ce){for(let Te=0;Te<ce.length;Te++)i(ce,Te)===void 0&&(ce[Te]=null);return ce}function Se(ce){let Te=h(null);for(let[Ne,Wt]of r(ce))i(ce,Ne)!==void 0&&(Array.isArray(Wt)?Te[Ne]=we(Wt):Wt&&typeof Wt=="object"&&Wt.constructor===Object?Te[Ne]=Se(Wt):Te[Ne]=Wt);return Te}function be(ce,Te){for(;ce!==null;){let Wt=i(ce,Te);if(Wt){if(Wt.get)return ge(Wt.get);if(typeof Wt.value=="function")return ge(Wt.value)}ce=n(ce)}function Ne(Wt){return console.warn("fallback value for",Wt),null}return Ne}let $e=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),q=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ee=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),R=a(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),j=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),G=a(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),V=a(["#text"]),te=a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),_e=a(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),K=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),U=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ue=l(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Je=l(/<%[\w\W]*|[\w\W]*%>/gm),Qe=l(/\${[\w\W]*}/gm),Ct=l(/^data-[\-\w.\u00B7-\uFFFF]/),Tt=l(/^aria-[\-\w]+$/),Ht=l(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Rt=l(/^(?:\w+script|data):/i),Yt=l(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),cr=l(/^html$/i);var Tr=Object.freeze({__proto__:null,MUSTACHE_EXPR:Ue,ERB_EXPR:Je,TMPLIT_EXPR:Qe,DATA_ATTR:Ct,ARIA_ATTR:Tt,IS_ALLOWED_URI:Ht,IS_SCRIPT_OR_DATA:Rt,ATTR_WHITESPACE:Yt,DOCTYPE_NAME:cr});let ir=function(){return typeof window>"u"?null:window},At=function(Te,Ne){if(typeof Te!="object"||typeof Te.createPolicy!="function")return null;let Wt=null,ft="data-tt-policy-suffix";Ne&&Ne.hasAttribute(ft)&&(Wt=Ne.getAttribute(ft));let qt="dompurify"+(Wt?"#"+Wt:"");try{return Te.createPolicy(qt,{createHTML(Nt){return Nt},createScriptURL(Nt){return Nt}})}catch{return console.warn("TrustedTypes policy "+qt+" could not be created."),null}};function kt(){let ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ir(),Te=gn=>kt(gn);if(Te.version="3.0.8",Te.removed=[],!ce||!ce.document||ce.document.nodeType!==9)return Te.isSupported=!1,Te;let{document:Ne}=ce,Wt=Ne,ft=Wt.currentScript,{DocumentFragment:qt,HTMLTemplateElement:Nt,Node:vr,Element:_r,NodeFilter:Dr,NamedNodeMap:kr=ce.NamedNodeMap||ce.MozNamedAttrMap,HTMLFormElement:et,DOMParser:pt,trustedTypes:er}=ce,Lr=_r.prototype,ki=be(Lr,"cloneNode"),zr=be(Lr,"nextSibling"),$n=be(Lr,"childNodes"),Dt=be(Lr,"parentNode");if(typeof Nt=="function"){let gn=Ne.createElement("template");gn.content&&gn.content.ownerDocument&&(Ne=gn.content.ownerDocument)}let Et,Er="",{implementation:on,createNodeIterator:Vr,createDocumentFragment:yn,getElementsByTagName:Rn}=Ne,{importNode:mi}=Wt,fo={};Te.isSupported=typeof r=="function"&&typeof Dt=="function"&&on&&on.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:gi,ERB_EXPR:Xe,TMPLIT_EXPR:st,DATA_ATTR:Mt,ARIA_ATTR:nr,IS_SCRIPT_OR_DATA:Pr,ATTR_WHITESPACE:qr}=Tr,{IS_ALLOWED_URI:Nn}=Tr,Nr=null,Fn=me({},[...$e,...q,...ee,...j,...V]),Fr=null,mn=me({},[...te,..._e,...K,...U]),bn=Object.seal(h(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),vi=null,Ri=null,La=!0,li=!0,ke=!1,Ie=!0,Fe=!1,Ye=!1,ot=!1,yt=!1,mt=!1,qe=!1,Ke=!1,Ot=!0,lr=!1,jt="user-content-",Bt=!0,hr=!1,Ae={},je=null,Pe=me({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),se=null,ie=me({},["audio","video","img","source","image","track"]),ye=null,Ge=me({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),dt="http://www.w3.org/1998/Math/MathML",Gt="http://www.w3.org/2000/svg",tr="http://www.w3.org/1999/xhtml",Or=tr,Ur=!1,fr=null,En=me({},[dt,Gt,tr],Y),Dn=null,an=["application/xhtml+xml","text/html"],Qr="text/html",sn=null,Xn=null,zo=Ne.createElement("form"),As=function(Vt){return Vt instanceof RegExp||Vt instanceof Function},ei=function(){let Vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Xn&&Xn===Vt)){if((!Vt||typeof Vt!="object")&&(Vt={}),Vt=Se(Vt),Dn=an.indexOf(Vt.PARSER_MEDIA_TYPE)===-1?Qr:Vt.PARSER_MEDIA_TYPE,sn=Dn==="application/xhtml+xml"?Y:z,Nr="ALLOWED_TAGS"in Vt?me({},Vt.ALLOWED_TAGS,sn):Fn,Fr="ALLOWED_ATTR"in Vt?me({},Vt.ALLOWED_ATTR,sn):mn,fr="ALLOWED_NAMESPACES"in Vt?me({},Vt.ALLOWED_NAMESPACES,Y):En,ye="ADD_URI_SAFE_ATTR"in Vt?me(Se(Ge),Vt.ADD_URI_SAFE_ATTR,sn):Ge,se="ADD_DATA_URI_TAGS"in Vt?me(Se(ie),Vt.ADD_DATA_URI_TAGS,sn):ie,je="FORBID_CONTENTS"in Vt?me({},Vt.FORBID_CONTENTS,sn):Pe,vi="FORBID_TAGS"in Vt?me({},Vt.FORBID_TAGS,sn):{},Ri="FORBID_ATTR"in Vt?me({},Vt.FORBID_ATTR,sn):{},Ae="USE_PROFILES"in Vt?Vt.USE_PROFILES:!1,La=Vt.ALLOW_ARIA_ATTR!==!1,li=Vt.ALLOW_DATA_ATTR!==!1,ke=Vt.ALLOW_UNKNOWN_PROTOCOLS||!1,Ie=Vt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Fe=Vt.SAFE_FOR_TEMPLATES||!1,Ye=Vt.WHOLE_DOCUMENT||!1,mt=Vt.RETURN_DOM||!1,qe=Vt.RETURN_DOM_FRAGMENT||!1,Ke=Vt.RETURN_TRUSTED_TYPE||!1,yt=Vt.FORCE_BODY||!1,Ot=Vt.SANITIZE_DOM!==!1,lr=Vt.SANITIZE_NAMED_PROPS||!1,Bt=Vt.KEEP_CONTENT!==!1,hr=Vt.IN_PLACE||!1,Nn=Vt.ALLOWED_URI_REGEXP||Ht,Or=Vt.NAMESPACE||tr,bn=Vt.CUSTOM_ELEMENT_HANDLING||{},Vt.CUSTOM_ELEMENT_HANDLING&&As(Vt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(bn.tagNameCheck=Vt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Vt.CUSTOM_ELEMENT_HANDLING&&As(Vt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(bn.attributeNameCheck=Vt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Vt.CUSTOM_ELEMENT_HANDLING&&typeof Vt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(bn.allowCustomizedBuiltInElements=Vt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Fe&&(li=!1),qe&&(mt=!0),Ae&&(Nr=me({},V),Fr=[],Ae.html===!0&&(me(Nr,$e),me(Fr,te)),Ae.svg===!0&&(me(Nr,q),me(Fr,_e),me(Fr,U)),Ae.svgFilters===!0&&(me(Nr,ee),me(Fr,_e),me(Fr,U)),Ae.mathMl===!0&&(me(Nr,j),me(Fr,K),me(Fr,U))),Vt.ADD_TAGS&&(Nr===Fn&&(Nr=Se(Nr)),me(Nr,Vt.ADD_TAGS,sn)),Vt.ADD_ATTR&&(Fr===mn&&(Fr=Se(Fr)),me(Fr,Vt.ADD_ATTR,sn)),Vt.ADD_URI_SAFE_ATTR&&me(ye,Vt.ADD_URI_SAFE_ATTR,sn),Vt.FORBID_CONTENTS&&(je===Pe&&(je=Se(je)),me(je,Vt.FORBID_CONTENTS,sn)),Bt&&(Nr["#text"]=!0),Ye&&me(Nr,["html","head","body"]),Nr.table&&(me(Nr,["tbody"]),delete vi.tbody),Vt.TRUSTED_TYPES_POLICY){if(typeof Vt.TRUSTED_TYPES_POLICY.createHTML!="function")throw _('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Vt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw _('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Et=Vt.TRUSTED_TYPES_POLICY,Er=Et.createHTML("")}else Et===void 0&&(Et=At(er,ft)),Et!==null&&typeof Er=="string"&&(Er=Et.createHTML(""));a&&a(Vt),Xn=Vt}},Ci=me({},["mi","mo","mn","ms","mtext"]),ya=me({},["foreignobject","desc","title","annotation-xml"]),ql=me({},["title","style","font","a","script"]),Gi=me({},[...q,...ee,...R]),Bs=me({},[...j,...G]),ho=function(Vt){let jr=Dt(Vt);(!jr||!jr.tagName)&&(jr={namespaceURI:Or,tagName:"template"});let un=z(Vt.tagName),Cn=z(jr.tagName);return fr[Vt.namespaceURI]?Vt.namespaceURI===Gt?jr.namespaceURI===tr?un==="svg":jr.namespaceURI===dt?un==="svg"&&(Cn==="annotation-xml"||Ci[Cn]):Boolean(Gi[un]):Vt.namespaceURI===dt?jr.namespaceURI===tr?un==="math":jr.namespaceURI===Gt?un==="math"&&ya[Cn]:Boolean(Bs[un]):Vt.namespaceURI===tr?jr.namespaceURI===Gt&&!ya[Cn]||jr.namespaceURI===dt&&!Ci[Cn]?!1:!Bs[un]&&(ql[un]||!Gi[un]):!!(Dn==="application/xhtml+xml"&&fr[Vt.namespaceURI]):!1},Ki=function(Vt){F(Te.removed,{element:Vt});try{Vt.parentNode.removeChild(Vt)}catch{Vt.remove()}},Do=function(Vt,jr){try{F(Te.removed,{attribute:jr.getAttributeNode(Vt),from:jr})}catch{F(Te.removed,{attribute:null,from:jr})}if(jr.removeAttribute(Vt),Vt==="is"&&!Fr[Vt])if(mt||qe)try{Ki(jr)}catch{}else try{jr.setAttribute(Vt,"")}catch{}},ii=function(Vt){let jr=null,un=null;if(yt)Vt="<remove></remove>"+Vt;else{let Vo=$(Vt,/^[\r\n\t ]+/);un=Vo&&Vo[0]}Dn==="application/xhtml+xml"&&Or===tr&&(Vt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Vt+"</body></html>");let Cn=Et?Et.createHTML(Vt):Vt;if(Or===tr)try{jr=new pt().parseFromString(Cn,Dn)}catch{}if(!jr||!jr.documentElement){jr=on.createDocument(Or,"template",null);try{jr.documentElement.innerHTML=Ur?Er:Cn}catch{}}let Gn=jr.body||jr.documentElement;return Vt&&un&&Gn.insertBefore(Ne.createTextNode(un),Gn.childNodes[0]||null),Or===tr?Rn.call(jr,Ye?"html":"body")[0]:Ye?jr.documentElement:Gn},Pa=function(Vt){return Vr.call(Vt.ownerDocument||Vt,Vt,Dr.SHOW_ELEMENT|Dr.SHOW_COMMENT|Dr.SHOW_TEXT,null)},Ua=function(Vt){return Vt instanceof et&&(typeof Vt.nodeName!="string"||typeof Vt.textContent!="string"||typeof Vt.removeChild!="function"||!(Vt.attributes instanceof kr)||typeof Vt.removeAttribute!="function"||typeof Vt.setAttribute!="function"||typeof Vt.namespaceURI!="string"||typeof Vt.insertBefore!="function"||typeof Vt.hasChildNodes!="function")},ku=function(Vt){return typeof vr=="function"&&Vt instanceof vr},ro=function(Vt,jr,un){!fo[Vt]||C(fo[Vt],Cn=>{Cn.call(Te,jr,un,Xn)})},Qc=function(Vt){let jr=null;if(ro("beforeSanitizeElements",Vt,null),Ua(Vt))return Ki(Vt),!0;let un=sn(Vt.nodeName);if(ro("uponSanitizeElement",Vt,{tagName:un,allowedTags:Nr}),Vt.hasChildNodes()&&!ku(Vt.firstElementChild)&&he(/<[/\w]/g,Vt.innerHTML)&&he(/<[/\w]/g,Vt.textContent))return Ki(Vt),!0;if(!Nr[un]||vi[un]){if(!vi[un]&&Oo(un)&&(bn.tagNameCheck instanceof RegExp&&he(bn.tagNameCheck,un)||bn.tagNameCheck instanceof Function&&bn.tagNameCheck(un)))return!1;if(Bt&&!je[un]){let Cn=Dt(Vt)||Vt.parentNode,Gn=$n(Vt)||Vt.childNodes;if(Gn&&Cn){let Vo=Gn.length;for(let xa=Vo-1;xa>=0;--xa)Cn.insertBefore(ki(Gn[xa],!0),zr(Vt))}}return Ki(Vt),!0}return Vt instanceof _r&&!ho(Vt)||(un==="noscript"||un==="noembed"||un==="noframes")&&he(/<\/no(script|embed|frames)/i,Vt.innerHTML)?(Ki(Vt),!0):(Fe&&Vt.nodeType===3&&(jr=Vt.textContent,C([gi,Xe,st],Cn=>{jr=re(jr,Cn," ")}),Vt.textContent!==jr&&(F(Te.removed,{element:Vt.cloneNode()}),Vt.textContent=jr)),ro("afterSanitizeElements",Vt,null),!1)},ba=function(Vt,jr,un){if(Ot&&(jr==="id"||jr==="name")&&(un in Ne||un in zo))return!1;if(!(li&&!Ri[jr]&&he(Mt,jr))){if(!(La&&he(nr,jr))){if(!Fr[jr]||Ri[jr]){if(!(Oo(Vt)&&(bn.tagNameCheck instanceof RegExp&&he(bn.tagNameCheck,Vt)||bn.tagNameCheck instanceof Function&&bn.tagNameCheck(Vt))&&(bn.attributeNameCheck instanceof RegExp&&he(bn.attributeNameCheck,jr)||bn.attributeNameCheck instanceof Function&&bn.attributeNameCheck(jr))||jr==="is"&&bn.allowCustomizedBuiltInElements&&(bn.tagNameCheck instanceof RegExp&&he(bn.tagNameCheck,un)||bn.tagNameCheck instanceof Function&&bn.tagNameCheck(un))))return!1}else if(!ye[jr]){if(!he(Nn,re(un,qr,""))){if(!((jr==="src"||jr==="xlink:href"||jr==="href")&&Vt!=="script"&&oe(un,"data:")===0&&se[Vt])){if(!(ke&&!he(Pr,re(un,qr,"")))){if(un)return!1}}}}}}return!0},Oo=function(Vt){return Vt.indexOf("-")>0},ts=function(Vt){ro("beforeSanitizeAttributes",Vt,null);let{attributes:jr}=Vt;if(!jr)return;let un={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Fr},Cn=jr.length;for(;Cn--;){let Gn=jr[Cn],{name:Vo,namespaceURI:xa,value:ps}=Gn,no=sn(Vo),ja=Vo==="value"?ps:ne(ps);if(un.attrName=no,un.attrValue=ja,un.keepAttr=!0,un.forceKeepAttr=void 0,ro("uponSanitizeAttribute",Vt,un),ja=un.attrValue,un.forceKeepAttr||(Do(Vo,Vt),!un.keepAttr))continue;if(!Ie&&he(/\/>/i,ja)){Do(Vo,Vt);continue}Fe&&C([gi,Xe,st],rs=>{ja=re(ja,rs," ")});let ou=sn(Vt.nodeName);if(!!ba(ou,no,ja)){if(lr&&(no==="id"||no==="name")&&(Do(Vo,Vt),ja=jt+ja),Et&&typeof er=="object"&&typeof er.getAttributeType=="function"&&!xa)switch(er.getAttributeType(ou,no)){case"TrustedHTML":{ja=Et.createHTML(ja);break}case"TrustedScriptURL":{ja=Et.createScriptURL(ja);break}}try{xa?Vt.setAttributeNS(xa,Vo,ja):Vt.setAttribute(Vo,ja),D(Te.removed)}catch{}}}ro("afterSanitizeAttributes",Vt,null)},Ai=function gn(Vt){let jr=null,un=Pa(Vt);for(ro("beforeSanitizeShadowDOM",Vt,null);jr=un.nextNode();)ro("uponSanitizeShadowNode",jr,null),!Qc(jr)&&(jr.content instanceof qt&&gn(jr.content),ts(jr));ro("afterSanitizeShadowDOM",Vt,null)};return Te.sanitize=function(gn){let Vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},jr=null,un=null,Cn=null,Gn=null;if(Ur=!gn,Ur&&(gn="<!-->"),typeof gn!="string"&&!ku(gn))if(typeof gn.toString=="function"){if(gn=gn.toString(),typeof gn!="string")throw _("dirty is not a string, aborting")}else throw _("toString is not a function");if(!Te.isSupported)return gn;if(ot||ei(Vt),Te.removed=[],typeof gn=="string"&&(hr=!1),hr){if(gn.nodeName){let ps=sn(gn.nodeName);if(!Nr[ps]||vi[ps])throw _("root node is forbidden and cannot be sanitized in-place")}}else if(gn instanceof vr)jr=ii("<!---->"),un=jr.ownerDocument.importNode(gn,!0),un.nodeType===1&&un.nodeName==="BODY"||un.nodeName==="HTML"?jr=un:jr.appendChild(un);else{if(!mt&&!Fe&&!Ye&&gn.indexOf("<")===-1)return Et&&Ke?Et.createHTML(gn):gn;if(jr=ii(gn),!jr)return mt?null:Ke?Er:""}jr&&yt&&Ki(jr.firstChild);let Vo=Pa(hr?gn:jr);for(;Cn=Vo.nextNode();)Qc(Cn)||(Cn.content instanceof qt&&Ai(Cn.content),ts(Cn));if(hr)return gn;if(mt){if(qe)for(Gn=yn.call(jr.ownerDocument);jr.firstChild;)Gn.appendChild(jr.firstChild);else Gn=jr;return(Fr.shadowroot||Fr.shadowrootmode)&&(Gn=mi.call(Wt,Gn,!0)),Gn}let xa=Ye?jr.outerHTML:jr.innerHTML;return Ye&&Nr["!doctype"]&&jr.ownerDocument&&jr.ownerDocument.doctype&&jr.ownerDocument.doctype.name&&he(cr,jr.ownerDocument.doctype.name)&&(xa="<!DOCTYPE "+jr.ownerDocument.doctype.name+`>
`+xa),Fe&&C([gi,Xe,st],ps=>{xa=re(xa,ps," ")}),Et&&Ke?Et.createHTML(xa):xa},Te.setConfig=function(){let gn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ei(gn),ot=!0},Te.clearConfig=function(){Xn=null,ot=!1},Te.isValidAttribute=function(gn,Vt,jr){Xn||ei({});let un=sn(gn),Cn=sn(Vt);return ba(un,Cn,jr)},Te.addHook=function(gn,Vt){typeof Vt=="function"&&(fo[gn]=fo[gn]||[],F(fo[gn],Vt))},Te.removeHook=function(gn){if(fo[gn])return D(fo[gn])},Te.removeHooks=function(gn){fo[gn]&&(fo[gn]=[])},Te.removeAllHooks=function(){fo={}},Te}var rt=kt();return rt})});var Aj,hk,C0e=ze(()=>{Aj=la(Cj());bo();dE();hk=class extends nn{constructor(){super(...arguments);Wr(this,"fieldValue",[]);Wr(this,"options",{})}get keyInputDisabled(){return!this.options.editable||this.options.disable_editing_keys}get valueInputDisabled(){return!this.options.editable}connect(){this.setOptions();try{let e=JSON.parse(this.inputTarget.value);Object.keys(e).forEach(t=>this.fieldValue.push([t,e[t]]))}catch(e){this.fieldValue=[]}this.updateKeyValueComponent()}addRow(){this.options.disable_adding_rows||!this.options.editable||(this.fieldValue.push(["",""]),this.updateKeyValueComponent(),this.focusLastRow())}deleteRow(e){if(this.options.disable_deleting_rows||!this.options.editable)return;let{index:t}=e.params;this.fieldValue.splice(t,1),this.updateTextareaInput(),this.updateKeyValueComponent()}focusLastRow(){return this.rowsTarget.querySelector(".flex.key-value-row:last-child .key-value-input-key").focus()}valueFieldUpdated(e){let{value:t}=e.target,{index:n}=e.target.dataset;this.fieldValue[n][1]=t,this.updateTextareaInput()}keyFieldUpdated(e){let{value:t}=e.target,{index:n}=e.target.dataset;this.fieldValue[n][0]=t,this.updateTextareaInput()}updateTextareaInput(){if(!this.hasInputTarget)return;let e={};this.fieldValue&&this.fieldValue.length>0&&(e=Object.assign(...this.fieldValue.map(([t,n])=>({[t]:n})))),this.inputTarget.innerText=JSON.stringify(e),this.inputTarget.dispatchEvent(new Event("input"))}updateKeyValueComponent(){let e="",t=0;this.fieldValue.forEach(n=>{let[i,a]=n;e+=this.interpolatedRow(Aj.sanitize(i),Aj.sanitize(a),t),t++}),this.rowsTarget.innerHTML=e,window.initTippy()}interpolatedRow(e,t,n){let i=`<div class="flex key-value-row">
      ${this.inputField("key",n,e,t)}
      ${this.inputField("value",n,e,t)}`;return this.options.editable&&(i+=`<a
  href="javascript:void(0);"
  data-key-value-index-param="${n}"
  data-action="click->key-value#deleteRow"
  title="${this.options.delete_text}"
  data-tippy="tooltip"
  data-button="delete-row"
  tabindex="-1"
  ${this.options.disable_deleting_rows?"disabled='disabled'":""}
  class="flex items-center justify-center p-2 px-3 border-none ${this.options.disable_deleting_rows?"cursor-not-allowed":""}"
><svg class="pointer-events-none text-gray-500 h-5 hover:text-gray-500" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor"><path d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></a>`),i+="</div>",i}inputField(e="key",t,n,i){let a=e==="key"?n:i;return`<input
  class="${this.options.inputClasses} focus:bg-gray-100 !rounded-none border-gray-600 border-r border-l-0 border-b-0 border-t-0 focus:border-gray-300 w-1/2 focus:outline-none outline-none key-value-input-${e}"
  data-action="input->key-value#${e}FieldUpdated"
  placeholder="${this.options[`${e}_label`]}"
  data-index="${t}"
  ${this[`${e}InputDisabled`]?"disabled='disabled'":""}
  value="${typeof a=="undefined"||a===null?"":a}"
/>`}setOptions(){let e;try{e=JSON.parse(this.controllerTarget.dataset.options)}catch(t){e={}}this.options=cg(id({},e),{inputClasses:this.controllerTarget.dataset.inputClasses,editable:gd(this.controllerTarget.dataset.editable)})}};Wr(hk,"targets",["input","controller","rows"])});var dk,A0e=ze(()=>{bo();dk=class extends nn{constructor(){super(...arguments);Wr(this,"spinnerMarkup",`<div class="button-spinner">
  <div class="double-bounce1"></div>
  <div class="double-bounce2"></div>
</div>`)}attemptSubmit(e){return this.confirmationMessageValue?this.confirmAndApply(e):this.applyLoader(),null}confirmAndApply(e){this.confirmedValue||(e.preventDefault(),window.confirm(this.confirmationMessageValue)&&this.applyLoader())}get button(){return this.context.scope.element}applyLoader(){let{button:e}=this;e.style.width=`${e.getBoundingClientRect().width}px`,e.style.height=`${e.getBoundingClientRect().height}px`,e.innerHTML=this.spinnerMarkup,e.classList.add("justify-center"),setTimeout(()=>{this.markConfirmed(),e.click(),e.setAttribute("disabled","disabled")},1)}markConfirmed(){this.confirmedValue=!0}markUnconfirmed(){this.confirmedValue=!1}};Wr(dk,"values",{confirmationMessage:String,confirmed:Boolean})});var pk,D0e=ze(()=>{bo();pk=class extends nn{constructor(){super(...arguments);Wr(this,"collapsed",!0)}get key(){return this.selfTarget.getAttribute("data-menu-key-param")}get defaultState(){return this.selfTarget.getAttribute("data-menu-default-collapsed-state")}get userState(){return window.localStorage.getItem(this.key)}set userState(e){window.localStorage.setItem(this.key,e)}get initiallyCollapsed(){return this.userState?this.userState==="collapsed":this.defaultState==="collapsed"}connect(){this.initiallyCollapsed?(this.collapsed=!0,this.markCollapsed()):(this.collapsed=!1,this.markExpanded())}triggerCollapse(){this.collapsed=!this.collapsed,this.userState=this.collapsed?"collapsed":"expanded",this.updateDom()}updateDom(){this.collapsed?this.markCollapsed():this.markExpanded()}markCollapsed(){this.svgTarget.classList.add("rotate-90"),this.itemsTarget.classList.add("hidden")}markExpanded(){this.svgTarget.classList.remove("rotate-90"),this.itemsTarget.classList.remove("hidden")}};Wr(pk,"targets",["svg","items","self"])});var mk,O0e=ze(()=>{bo();mk=class extends nn{close(){this.modalTarget.remove(),document.dispatchEvent(new Event("actions-modal:close"))}};Wr(mk,"targets",["modal"])});var gk,I0e=ze(()=>{Z_();gk=class extends Ah{getFilterValue(){let r=Array.from(this.selectorTarget.selectedOptions).map(({value:e})=>e);return r.length===0?null:r}getFilterClass(){let{filterClass:r}=this.selectorTarget.dataset;return r}};Wr(gk,"targets",["selector"])});var vk,M0e=ze(()=>{bo();vk=class extends nn{get turboFrame(){return this.selectorTarget.dataset.turboFrame}reload(){document.querySelector(`[data-per-page-option="${this.selectorTarget.value}"][data-turbo-frame="${this.turboFrame}"]`).click()}};Wr(vk,"targets",["selector"])});var yk,L0e=ze(()=>{bo();KI();yk=class extends nn{connect(){let r=this;H_(r.context.element,{content:"loading...",allowHTML:!0,theme:"light",maxWidth:550,onShow(t){return z0(this,null,function*(){let i=yield(yield fetch(r.urlValue)).text();t.setContent(i)})}})}};Wr(yk,"values",{url:String})});var bk,P0e=ze(()=>{bo();bk=class extends nn{update(r){this.labelTarget.textContent=r.target.value}};Wr(bk,"targets",["label"])});var xk,R0e=ze(()=>{bo();xk=class extends nn{beforeStreamRender(r){let{relationName:e}=r.target.dataset;if(r.target.action!=="update-belongs-to"||this.relationNameValue!==e)return!1;r.detail.render=t=>{this.searchableValue?this.updateSearchable(t):this.updateNonSearchable(t)}}updateSearchable(r){document.querySelector(`input[name="${this.targetNameValue}"][type="hidden"]`).value=r.dataset.targetRecordId,document.querySelector(`input[name="${this.targetNameValue}"][type="text"]`).value=r.dataset.targetResourceLabel}updateNonSearchable(r){let e=this.selectorContext(r).querySelector(`select[name="${this.targetNameValue}"]`),t=document.createElement("option");t.value=r.dataset.targetRecordId,t.text=r.dataset.targetResourceLabel,t.selected=!0,e.appendChild(t)}selectorContext(r){return this.polymorphicValue?document.querySelector(`[data-type="${r.dataset.targetResourceClass}"]`):document}};Wr(xk,"values",{polymorphic:Boolean,searchable:Boolean,targetName:String,relationName:String})});var q0e=de((mVt,F0e)=>{var igt=typeof global=="object"&&global&&global.Object===Object&&global;F0e.exports=igt});var B0e=de((gVt,N0e)=>{var ogt=q0e(),agt=typeof self=="object"&&self&&self.Object===Object&&self,sgt=ogt||agt||Function("return this")();N0e.exports=sgt});var mL=de((vVt,z0e)=>{var lgt=B0e(),ugt=lgt.Symbol;z0e.exports=ugt});var j0e=de((yVt,U0e)=>{function cgt(r,e){for(var t=-1,n=r==null?0:r.length,i=Array(n);++t<n;)i[t]=e(r[t],t,r);return i}U0e.exports=cgt});var W0e=de((bVt,H0e)=>{var fgt=Array.isArray;H0e.exports=fgt});var K0e=de((xVt,G0e)=>{var V0e=mL(),$0e=Object.prototype,hgt=$0e.hasOwnProperty,dgt=$0e.toString,_k=V0e?V0e.toStringTag:void 0;function pgt(r){var e=hgt.call(r,_k),t=r[_k];try{r[_k]=void 0;var n=!0}catch{}var i=dgt.call(r);return n&&(e?r[_k]=t:delete r[_k]),i}G0e.exports=pgt});var Z0e=de((_Vt,Y0e)=>{var mgt=Object.prototype,ggt=mgt.toString;function vgt(r){return ggt.call(r)}Y0e.exports=vgt});var exe=de((wVt,Q0e)=>{var X0e=mL(),ygt=K0e(),bgt=Z0e(),xgt="[object Null]",_gt="[object Undefined]",J0e=X0e?X0e.toStringTag:void 0;function wgt(r){return r==null?r===void 0?_gt:xgt:J0e&&J0e in Object(r)?ygt(r):bgt(r)}Q0e.exports=wgt});var rxe=de((SVt,txe)=>{function Sgt(r){return r!=null&&typeof r=="object"}txe.exports=Sgt});var ixe=de((TVt,nxe)=>{var Tgt=exe(),Egt=rxe(),kgt="[object Symbol]";function Cgt(r){return typeof r=="symbol"||Egt(r)&&Tgt(r)==kgt}nxe.exports=Cgt});var cxe=de((EVt,uxe)=>{var oxe=mL(),Agt=j0e(),Dgt=W0e(),Ogt=ixe(),Igt=1/0,axe=oxe?oxe.prototype:void 0,sxe=axe?axe.toString:void 0;function lxe(r){if(typeof r=="string")return r;if(Dgt(r))return Agt(r,lxe)+"";if(Ogt(r))return sxe?sxe.call(r):"";var e=r+"";return e=="0"&&1/r==-Igt?"-0":e}uxe.exports=lxe});var wk=de((kVt,fxe)=>{var Mgt=cxe();function Lgt(r){return r==null?"":Mgt(r)}fxe.exports=Lgt});var dxe=de((CVt,hxe)=>{function Pgt(r,e,t){var n=-1,i=r.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=r[n+e];return a}hxe.exports=Pgt});var mxe=de((AVt,pxe)=>{var Rgt=dxe();function Fgt(r,e,t){var n=r.length;return t=t===void 0?n:t,!e&&t>=n?r:Rgt(r,e,t)}pxe.exports=Fgt});var Dj=de((DVt,gxe)=>{var qgt="\\ud800-\\udfff",Ngt="\\u0300-\\u036f",Bgt="\\ufe20-\\ufe2f",zgt="\\u20d0-\\u20ff",Ugt=Ngt+Bgt+zgt,jgt="\\ufe0e\\ufe0f",Hgt="\\u200d",Wgt=RegExp("["+Hgt+qgt+Ugt+jgt+"]");function Vgt(r){return Wgt.test(r)}gxe.exports=Vgt});var yxe=de((OVt,vxe)=>{function $gt(r){return r.split("")}vxe.exports=$gt});var kxe=de((IVt,Exe)=>{var bxe="\\ud800-\\udfff",Ggt="\\u0300-\\u036f",Kgt="\\ufe20-\\ufe2f",Ygt="\\u20d0-\\u20ff",Zgt=Ggt+Kgt+Ygt,Xgt="\\ufe0e\\ufe0f",Jgt="["+bxe+"]",Oj="["+Zgt+"]",Ij="\\ud83c[\\udffb-\\udfff]",Qgt="(?:"+Oj+"|"+Ij+")",xxe="[^"+bxe+"]",_xe="(?:\\ud83c[\\udde6-\\uddff]){2}",wxe="[\\ud800-\\udbff][\\udc00-\\udfff]",evt="\\u200d",Sxe=Qgt+"?",Txe="["+Xgt+"]?",tvt="(?:"+evt+"(?:"+[xxe,_xe,wxe].join("|")+")"+Txe+Sxe+")*",rvt=Txe+Sxe+tvt,nvt="(?:"+[xxe+Oj+"?",Oj,_xe,wxe,Jgt].join("|")+")",ivt=RegExp(Ij+"(?="+Ij+")|"+nvt+rvt,"g");function ovt(r){return r.match(ivt)||[]}Exe.exports=ovt});var Axe=de((MVt,Cxe)=>{var avt=yxe(),svt=Dj(),lvt=kxe();function uvt(r){return svt(r)?lvt(r):avt(r)}Cxe.exports=uvt});var Oxe=de((LVt,Dxe)=>{var cvt=mxe(),fvt=Dj(),hvt=Axe(),dvt=wk();function pvt(r){return function(e){e=dvt(e);var t=fvt(e)?hvt(e):void 0,n=t?t[0]:e.charAt(0),i=t?cvt(t,1).join(""):e.slice(1);return n[r]()+i}}Dxe.exports=pvt});var Mxe=de((PVt,Ixe)=>{var mvt=Oxe(),gvt=mvt("toUpperCase");Ixe.exports=gvt});var Pxe=de((RVt,Lxe)=>{var vvt=wk(),yvt=Mxe();function bvt(r){return yvt(vvt(r).toLowerCase())}Lxe.exports=bvt});var Fxe=de((FVt,Rxe)=>{function xvt(r,e,t,n){var i=-1,a=r==null?0:r.length;for(n&&a&&(t=r[++i]);++i<a;)t=e(t,r[i],i,r);return t}Rxe.exports=xvt});var Nxe=de((qVt,qxe)=>{function _vt(r){return function(e){return r?.[e]}}qxe.exports=_vt});var zxe=de((NVt,Bxe)=>{var wvt=Nxe(),Svt={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Tvt=wvt(Svt);Bxe.exports=Tvt});var jxe=de((BVt,Uxe)=>{var Evt=zxe(),kvt=wk(),Cvt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Avt="\\u0300-\\u036f",Dvt="\\ufe20-\\ufe2f",Ovt="\\u20d0-\\u20ff",Ivt=Avt+Dvt+Ovt,Mvt="["+Ivt+"]",Lvt=RegExp(Mvt,"g");function Pvt(r){return r=kvt(r),r&&r.replace(Cvt,Evt).replace(Lvt,"")}Uxe.exports=Pvt});var Wxe=de((zVt,Hxe)=>{var Rvt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Fvt(r){return r.match(Rvt)||[]}Hxe.exports=Fvt});var $xe=de((UVt,Vxe)=>{var qvt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Nvt(r){return qvt.test(r)}Vxe.exports=Nvt});var f_e=de((jVt,c_e)=>{var Xxe="\\ud800-\\udfff",Bvt="\\u0300-\\u036f",zvt="\\ufe20-\\ufe2f",Uvt="\\u20d0-\\u20ff",jvt=Bvt+zvt+Uvt,Jxe="\\u2700-\\u27bf",Qxe="a-z\\xdf-\\xf6\\xf8-\\xff",Hvt="\\xac\\xb1\\xd7\\xf7",Wvt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Vvt="\\u2000-\\u206f",$vt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",e_e="A-Z\\xc0-\\xd6\\xd8-\\xde",Gvt="\\ufe0e\\ufe0f",t_e=Hvt+Wvt+Vvt+$vt,r_e="['\u2019]",Gxe="["+t_e+"]",Kvt="["+jvt+"]",n_e="\\d+",Yvt="["+Jxe+"]",i_e="["+Qxe+"]",o_e="[^"+Xxe+t_e+n_e+Jxe+Qxe+e_e+"]",Zvt="\\ud83c[\\udffb-\\udfff]",Xvt="(?:"+Kvt+"|"+Zvt+")",Jvt="[^"+Xxe+"]",a_e="(?:\\ud83c[\\udde6-\\uddff]){2}",s_e="[\\ud800-\\udbff][\\udc00-\\udfff]",_1="["+e_e+"]",Qvt="\\u200d",Kxe="(?:"+i_e+"|"+o_e+")",eyt="(?:"+_1+"|"+o_e+")",Yxe="(?:"+r_e+"(?:d|ll|m|re|s|t|ve))?",Zxe="(?:"+r_e+"(?:D|LL|M|RE|S|T|VE))?",l_e=Xvt+"?",u_e="["+Gvt+"]?",tyt="(?:"+Qvt+"(?:"+[Jvt,a_e,s_e].join("|")+")"+u_e+l_e+")*",ryt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",nyt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",iyt=u_e+l_e+tyt,oyt="(?:"+[Yvt,a_e,s_e].join("|")+")"+iyt,ayt=RegExp([_1+"?"+i_e+"+"+Yxe+"(?="+[Gxe,_1,"$"].join("|")+")",eyt+"+"+Zxe+"(?="+[Gxe,_1+Kxe,"$"].join("|")+")",_1+"?"+Kxe+"+"+Yxe,_1+"+"+Zxe,nyt,ryt,n_e,oyt].join("|"),"g");function syt(r){return r.match(ayt)||[]}c_e.exports=syt});var d_e=de((HVt,h_e)=>{var lyt=Wxe(),uyt=$xe(),cyt=wk(),fyt=f_e();function hyt(r,e,t){return r=cyt(r),e=t?void 0:e,e===void 0?uyt(r)?fyt(r):lyt(r):r.match(e)||[]}h_e.exports=hyt});var m_e=de((WVt,p_e)=>{var dyt=Fxe(),pyt=jxe(),myt=d_e(),gyt="['\u2019]",vyt=RegExp(gyt,"g");function yyt(r){return function(e){return dyt(myt(pyt(e).replace(vyt,"")),r,"")}}p_e.exports=yyt});var v_e=de((VVt,g_e)=>{var byt=Pxe(),xyt=m_e(),_yt=xyt(function(r,e,t){return e=e.toLowerCase(),r+(t?byt(e):e)});g_e.exports=_yt});var Mj,w1,y_e=ze(()=>{bo();Mj=la(v_e()),w1=class extends nn{debugOnInput(r){console.log("onInput",r,r.target.value)}toggle({params:r}){let{toggleTarget:e,toggleTargets:t}=r;e&&this.toggleAvoTarget(e),t&&t.length>0&&t.forEach(this.toggleAvoTarget.bind(this))}disable({params:r}){let{disableTarget:e,disableTargets:t}=r;e&&this.disableAvoTarget(e),t&&t.length>0&&t.forEach(this.disableAvoTarget.bind(this))}toggleAvoTarget(r){let e=(0,Mj.default)(r),t=document.querySelector(`[data-resource-edit-target="${e}"]`);t&&t.classList.toggle("hidden")}disableAvoTarget(r){let e=(0,Mj.default)(r);document.querySelectorAll(`[data-resource-edit-target="${e}"]`).forEach(this.toggleItemDisabled),document.querySelectorAll(`[data-resource-edit-target="${e}"] input`).forEach(this.toggleItemDisabled),document.querySelectorAll(`[data-resource-edit-target="${e}"] select`).forEach(this.toggleItemDisabled),document.querySelectorAll(`[data-resource-edit-target="${e}"] [data-slot="value"] button`).forEach(this.toggleItemDisabled)}toggleItemDisabled(r){r.disabled=!r.disabled}};Wr(w1,"targets",[]),Wr(w1,"values",{view:String})});var gL,b_e=ze(()=>{bo();gL=class extends nn{}});var vL,x_e=ze(()=>{bo();vL=class extends nn{}});var __e=ze(()=>{});var w_e=ze(()=>{});var S_e=ze(()=>{});var T_e=ze(()=>{});var E_e=ze(()=>{__e();w_e();S_e();T_e()});function e0(r){return{current:r}}var k_e=ze(()=>{});function S1(r,e){var t=void 0;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];t&&clearTimeout(t),t=setTimeout(function(){return r.apply(void 0,i)},e)}}var C_e=ze(()=>{});function wyt(r,e){return kyt(r)||Eyt(r,e)||Tyt(r,e)||Syt()}function Syt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tyt(r,e){if(!!r){if(typeof r=="string")return A_e(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return A_e(r,e)}}function A_e(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Eyt(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,l,h=[],g=!0,w=!1;try{if(a=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;g=!1}else for(;!(g=(n=a.call(t)).done)&&(h.push(n.value),h.length!==e);g=!0);}catch(C){w=!0,i=C}finally{try{if(!g&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(w)throw i}}return h}}function kyt(r){if(Array.isArray(r))return r}function T1(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;return r;var t}var D_e=ze(()=>{});function Gg(r){return r.reduce(function(e,t){return e.concat(t)},[])}var O_e=ze(()=>{});function yL(){return"autocomplete-".concat(Cyt++)}var Cyt,I_e=ze(()=>{Cyt=0});function E1(r,e){return e.reduce(function(t,n){return t&&t[n]},r)}var M_e=ze(()=>{});function by(r){return r.collections.length===0?0:r.collections.reduce(function(e,t){return e+t.items.length},0)}var L_e=ze(()=>{});var P_e=ze(()=>{});function R_e(r){return r!==Object(r)}function Lj(r,e){if(r===e)return!0;if(R_e(r)||R_e(e)||typeof r=="function"||typeof e=="function")return r===e;if(Object.keys(r).length!==Object.keys(e).length)return!1;for(var t=0,n=Object.keys(r);t<n.length;t++){var i=n[t];if(!(i in e)||!Lj(r[i],e[i]))return!1}return!0}var F_e=ze(()=>{});var q_e=ze(()=>{});var t0,N_e=ze(()=>{t0=function(){}});function B_e(r){if(typeof window<"u")return r({window})}var z_e=ze(()=>{});var U_e=ze(()=>{});var j_e=ze(()=>{});var bL,Pj=ze(()=>{bL="1.16.0"});var xL,H_e=ze(()=>{Pj();xL=[{segment:"autocomplete-core",version:bL}]});var W_e=ze(()=>{});var V_e=ze(()=>{});var $_e=ze(()=>{});var G_e=ze(()=>{});var K_e=ze(()=>{});var Y_e=ze(()=>{});var Z_e=ze(()=>{});var X_e=ze(()=>{});var J_e=ze(()=>{});var Q_e=ze(()=>{});var e1e=ze(()=>{});var t1e=ze(()=>{});var r1e=ze(()=>{});var Rj=ze(()=>{V_e();$_e();G_e();K_e();Y_e();Z_e();X_e();J_e();Q_e();e1e();t1e();r1e()});var Ef=ze(()=>{k_e();C_e();D_e();O_e();I_e();M_e();L_e();P_e();F_e();q_e();N_e();z_e();U_e();j_e();H_e();Pj();W_e();Rj()});function Fj(r){var e=r.item,t=r.items,n=t===void 0?[]:t;return{index:e.__autocomplete_indexName,items:[e],positions:[1+n.findIndex(function(i){return i.objectID===e.objectID})],queryID:e.__autocomplete_queryID,algoliaSource:["autocomplete"]}}var n1e=ze(()=>{});function Ayt(r,e){return Myt(r)||Iyt(r,e)||Oyt(r,e)||Dyt()}function Dyt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oyt(r,e){if(!!r){if(typeof r=="string")return i1e(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return i1e(r,e)}}function i1e(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Iyt(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,l,h=[],g=!0,w=!1;try{if(a=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;g=!1}else for(;!(g=(n=a.call(t)).done)&&(h.push(n.value),h.length!==e);g=!0);}catch(C){w=!0,i=C}finally{try{if(!g&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(w)throw i}}return h}}function Myt(r){if(Array.isArray(r))return r}function o1e(r){var e=(r.version||"").split(".").map(Number),t=Ayt(e,2),n=t[0],i=t[1],a=n>=3,l=n===2&&i>=4,h=n===1&&i>=10;return a||l||h}var a1e=ze(()=>{});function Sk(r){return Sk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sk(r)}function _L(r){return Nyt(r)||qyt(r)||Fyt(r)||Ryt()}function Ryt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fyt(r,e){if(!!r){if(typeof r=="string")return qj(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return qj(r,e)}}function qyt(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Nyt(r){if(Array.isArray(r))return qj(r)}function qj(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function l1e(r,e){if(r==null)return{};var t=Byt(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,n)||(t[n]=r[n]))}return t}function Byt(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function s1e(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function k1(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?s1e(Object(t),!0).forEach(function(n){zyt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):s1e(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function zyt(r,e,t){return e=Uyt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Uyt(r){var e=jyt(r,"string");return Sk(e)==="symbol"?e:String(e)}function jyt(r,e){if(Sk(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Sk(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Hyt(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,t=[],n=0;n<r.objectIDs.length;n+=e)t.push(k1(k1({},r),{},{objectIDs:r.objectIDs.slice(n,n+e)}));return t}function wL(r){return r.map(function(e){var t=e.items,n=l1e(e,Lyt);return k1(k1({},n),{},{objectIDs:t?.map(function(i){var a=i.objectID;return a})||n.objectIDs})})}function u1e(r){var e=o1e(r);function t(n,i,a){if(e&&typeof a<"u"){var l=a[0].__autocomplete_algoliaCredentials,h=l.appId,g=l.apiKey,w={"X-Algolia-Application-Id":h,"X-Algolia-API-Key":g};r.apply(void 0,[n].concat(_L(i),[{headers:w}]))}else r.apply(void 0,[n].concat(_L(i)))}return{init:function(i,a){r("init",{appId:i,apiKey:a})},setAuthenticatedUserToken:function(i){r("setAuthenticatedUserToken",i)},setUserToken:function(i){r("setUserToken",i)},clickedObjectIDsAfterSearch:function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];a.length>0&&t("clickedObjectIDsAfterSearch",wL(a),a[0].items)},clickedObjectIDs:function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];a.length>0&&t("clickedObjectIDs",wL(a),a[0].items)},clickedFilters:function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];a.length>0&&r.apply(void 0,["clickedFilters"].concat(a))},convertedObjectIDsAfterSearch:function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];a.length>0&&t("convertedObjectIDsAfterSearch",wL(a),a[0].items)},convertedObjectIDs:function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];a.length>0&&t("convertedObjectIDs",wL(a),a[0].items)},convertedFilters:function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];a.length>0&&r.apply(void 0,["convertedFilters"].concat(a))},viewedObjectIDs:function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];a.length>0&&a.reduce(function(h,g){var w=g.items,C=l1e(g,Pyt);return[].concat(_L(h),_L(Hyt(k1(k1({},C),{},{objectIDs:w?.map(function(D){var F=D.objectID;return F})||C.objectIDs})).map(function(D){return{items:w,payload:D}})))},[]).forEach(function(h){var g=h.items,w=h.payload;return t("viewedObjectIDs",[w],g)})},viewedFilters:function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];a.length>0&&r.apply(void 0,["viewedFilters"].concat(a))}}}var Lyt,Pyt,c1e=ze(()=>{a1e();Lyt=["items"],Pyt=["items"]});function f1e(r){var e=r.items,t=e.reduce(function(n,i){var a;return n[i.__autocomplete_indexName]=((a=n[i.__autocomplete_indexName])!==null&&a!==void 0?a:[]).concat(i),n},{});return Object.keys(t).map(function(n){var i=t[n];return{index:n,items:i,algoliaSource:["autocomplete"]}})}var h1e=ze(()=>{});function C1(r){return r.objectID&&r.__autocomplete_indexName&&r.__autocomplete_queryID}var d1e=ze(()=>{});function Tk(r){return Tk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tk(r)}function A1(r){return Gyt(r)||$yt(r)||Vyt(r)||Wyt()}function Wyt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vyt(r,e){if(!!r){if(typeof r=="string")return Nj(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Nj(r,e)}}function $yt(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Gyt(r){if(Array.isArray(r))return Nj(r)}function Nj(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function p1e(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Qp(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?p1e(Object(t),!0).forEach(function(n){Kyt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):p1e(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Kyt(r,e,t){return e=Yyt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Yyt(r){var e=Zyt(r,"string");return Tk(e)==="symbol"?e:String(e)}function Zyt(r,e){if(Tk(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Tk(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Bj(r){var e=ebt(r),t=e.insightsClient,n=e.insightsInitParams,i=e.onItemsChange,a=e.onSelect,l=e.onActive,h=e.__autocomplete_clickAnalytics,g=t;if(t||B_e(function(F){var z=F.window,Y=z.AlgoliaAnalyticsObject||"aa";typeof Y=="string"&&(g=z[Y]),g||(z.AlgoliaAnalyticsObject=Y,z[Y]||(z[Y]=function(){z[Y].queue||(z[Y].queue=[]);for(var $=arguments.length,re=new Array($),oe=0;oe<$;oe++)re[oe]=arguments[oe];z[Y].queue.push(re)}),z[Y].version=g1e,g=z[Y],tbt(z))}),!g)return{};n&&g("init",Qp({partial:!0},n));var w=u1e(g),C=e0([]),D=S1(function(F){var z=F.state;if(!!z.isOpen){var Y=z.collections.reduce(function($,re){return[].concat(A1($),A1(re.items))},[]).filter(C1);Lj(C.current.map(function($){return $.objectID}),Y.map(function($){return $.objectID}))||(C.current=Y,Y.length>0&&Qyt({onItemsChange:i,items:Y,insights:w,state:z}))}},0);return{name:"aa.algoliaInsightsPlugin",subscribe:function(z){var Y=z.setContext,$=z.onSelect,re=z.onActive,oe=!1;function ne(he){Y({algoliaInsightsPlugin:{__algoliaSearchParameters:Qp(Qp({},h?{clickAnalytics:!0}:{}),he?{userToken:rbt(he)}:{}),insights:w}})}g("addAlgoliaAgent","insights-plugin"),ne(),g("onUserTokenChange",function(he){oe||ne(he)}),g("getUserToken",null,function(he,_){oe||ne(_)}),g("onAuthenticatedUserTokenChange",function(he){he?(oe=!0,ne(he)):(oe=!1,g("getUserToken",null,function(_,ge){return ne(ge)}))}),g("getAuthenticatedUserToken",null,function(he,_){_&&(oe=!0,ne(_))}),$(function(he){var _=he.item,ge=he.state,fe=he.event,me=he.source;!C1(_)||a({state:ge,event:fe,insights:w,item:_,insightsEvents:[Qp({eventName:"Item Selected"},Fj({item:_,items:me.getItems().filter(C1)}))]})}),re(function(he){var _=he.item,ge=he.source,fe=he.state,me=he.event;!C1(_)||l({state:fe,event:me,insights:w,item:_,insightsEvents:[Qp({eventName:"Item Active"},Fj({item:_,items:ge.getItems().filter(C1)}))]})})},onStateChange:function(z){var Y=z.state;D({state:Y})},__autocomplete_pluginOptions:r}}function m1e(){var r,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return[].concat(A1(e),["autocomplete-internal"],A1((r=t.algoliaInsightsPlugin)!==null&&r!==void 0&&r.__automaticInsights?["autocomplete-automatic"]:[]))}function ebt(r){return Qp({onItemsChange:function(t){var n=t.insights,i=t.insightsEvents,a=t.state;n.viewedObjectIDs.apply(n,A1(i.map(function(l){return Qp(Qp({},l),{},{algoliaSource:m1e(l.algoliaSource,a.context)})})))},onSelect:function(t){var n=t.insights,i=t.insightsEvents,a=t.state;n.clickedObjectIDsAfterSearch.apply(n,A1(i.map(function(l){return Qp(Qp({},l),{},{algoliaSource:m1e(l.algoliaSource,a.context)})})))},onActive:t0,__autocomplete_clickAnalytics:!0},r)}function tbt(r){var e="[Autocomplete]: Could not load search-insights.js. Please load it manually following https://alg.li/insights-autocomplete";try{var t=r.document.createElement("script");t.async=!0,t.src=Jyt,t.onerror=function(){console.error(e)},document.body.appendChild(t)}catch{console.error(e)}}function rbt(r){return typeof r=="number"?r.toString():r}var Xyt,g1e,Jyt,Qyt,v1e=ze(()=>{Ef();n1e();c1e();h1e();d1e();Xyt=400,g1e="2.13.0",Jyt="https://cdn.jsdelivr.net/npm/search-insights@".concat(g1e,"/dist/search-insights.min.js"),Qyt=S1(function(r){var e=r.onItemsChange,t=r.items,n=r.insights,i=r.state;e({insights:n,insightsEvents:f1e({items:t}).map(function(a){return Qp({eventName:"Items Viewed"},a)}),state:i})},Xyt)});var y1e=ze(()=>{E_e();v1e()});function Ek(r,e){var t=e;return{then:function(i,a){return Ek(r.then(SL(i,t,r),SL(a,t,r)),t)},catch:function(i){return Ek(r.catch(SL(i,t,r)),t)},finally:function(i){return i&&t.onCancelList.push(i),Ek(r.finally(SL(i&&function(){return t.onCancelList=[],i()},t,r)),t)},cancel:function(){t.isCanceled=!0;var i=t.onCancelList;t.onCancelList=[],i.forEach(function(a){a()})},isCanceled:function(){return t.isCanceled===!0}}}function b1e(r){return Ek(new Promise(function(e,t){return r(e,t)}),{isCanceled:!1,onCancelList:[]})}function kk(r){return Ek(r,{isCanceled:!1,onCancelList:[]})}function SL(r,e,t){return r?function(i){return e.isCanceled?i:r(i)}:t}var x1e=ze(()=>{b1e.resolve=function(r){return kk(Promise.resolve(r))};b1e.reject=function(r){return kk(Promise.reject(r))}});function _1e(){var r=[];return{add:function(t){return r.push(t),t.finally(function(){r=r.filter(function(n){return n!==t})})},cancelAll:function(){r.forEach(function(t){return t.cancel()})},isEmpty:function(){return r.length===0}}}var w1e=ze(()=>{});function S1e(){var r=-1,e=-1,t=void 0;return function(i){r++;var a=r;return Promise.resolve(i).then(function(l){return t&&a<e?t:(e=a,t=l,l)})}}var T1e=ze(()=>{});function zj(r,e,t,n){if(!t)return null;if(r<0&&(e===null||n!==null&&e===0))return t+r;var i=(e===null?-1:e)+r;return i<=-1||i>=t?n===null?null:0:i}var E1e=ze(()=>{});function k1e(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function C1e(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?k1e(Object(t),!0).forEach(function(n){nbt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):k1e(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function nbt(r,e,t){return e=ibt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ibt(r){var e=obt(r,"string");return D1(e)==="symbol"?e:String(e)}function obt(r,e){if(D1(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(D1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function D1(r){return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D1(r)}function A1e(r,e){var t=[];return Promise.resolve(r(e)).then(function(n){return Array.isArray(n),Promise.all(n.filter(function(i){return Boolean(i)}).map(function(i){if(i.sourceId,t.includes(i.sourceId))throw new Error("[Autocomplete] The `sourceId` ".concat(JSON.stringify(i.sourceId)," is not unique."));t.push(i.sourceId);var a={getItemInputValue:function(g){var w=g.state;return w.query},getItemUrl:function(){},onSelect:function(g){var w=g.setIsOpen;w(!1)},onActive:t0,onResolve:t0};Object.keys(a).forEach(function(h){a[h].__default=!0});var l=C1e(C1e({},a),i);return Promise.resolve(l)}))})}var D1e=ze(()=>{Ef()});function abt(r){var e=r.collections.map(function(n){return n.items.length}).reduce(function(n,i,a){var l=n[a-1]||0,h=l+i;return n.push(h),n},[]),t=e.reduce(function(n,i){return i<=r.activeItemId?n+1:n},0);return r.collections[t]}function sbt(r){for(var e=r.state,t=r.collection,n=!1,i=0,a=0;n===!1;){var l=e.collections[i];if(l===t){n=!0;break}a+=l.items.length,i++}return e.activeItemId-a}function em(r){var e=abt(r);if(!e)return null;var t=e.items[sbt({state:r,collection:e})],n=e.source,i=n.getItemInputValue({item:t,state:r}),a=n.getItemUrl({item:t,state:r});return{item:t,itemInputValue:i,itemUrl:a,source:n}}var O1e=ze(()=>{});function Ph(r,e,t){return[r,t?.sourceId,e].filter(Boolean).join("-").replace(/\s/g,"")}var I1e=ze(()=>{});function M1e(r,e){return r===e||r.contains(e)}var L1e=ze(()=>{});function P1e(r){return Boolean(r&&r.match(lbt))}var lbt,R1e=ze(()=>{lbt=/((gt|sm)-|galaxy nexus)|samsung[- ]|samsungbrowser/i});function F1e(r){return{results:r,hits:r.map(function(e){return e.hits}).filter(Boolean),facetHits:r.map(function(e){var t;return(t=e.facetHits)===null||t===void 0?void 0:t.map(function(n){return{label:n.value,count:n.count,_highlightResult:{label:{value:n.highlighted}}}})}).filter(Boolean)}}var q1e=ze(()=>{});function Uj(r){return r.nativeEvent||r}var N1e=ze(()=>{});var Kg=ze(()=>{x1e();w1e();T1e();E1e();D1e();O1e();I1e();L1e();R1e();q1e();N1e()});function Ck(r){return Ck=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ck(r)}function B1e(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ubt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?B1e(Object(t),!0).forEach(function(n){cbt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):B1e(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function cbt(r,e,t){return e=fbt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function fbt(r){var e=hbt(r,"string");return Ck(e)==="symbol"?e:String(e)}function hbt(r,e){if(Ck(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Ck(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function z1e(r,e,t){var n=e.initialState;return{getState:function(){return n},dispatch:function(a,l){var h=ubt({},n);n=r(n,{type:a,props:e,payload:l}),t({state:n,prevState:h})},pendingRequests:_1e()}}var U1e=ze(()=>{Kg()});function Ak(r){return Ak=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ak(r)}function j1e(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function EL(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?j1e(Object(t),!0).forEach(function(n){dbt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):j1e(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function dbt(r,e,t){return e=pbt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function pbt(r){var e=mbt(r,"string");return Ak(e)==="symbol"?e:String(e)}function mbt(r,e){if(Ak(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Ak(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function H1e(r){var e=r.store,t=function(w){e.dispatch("setActiveItemId",w)},n=function(w){e.dispatch("setQuery",w)},i=function(w){var C=0,D=w.map(function(F){return EL(EL({},F),{},{items:Gg(F.items).map(function(z){return EL(EL({},z),{},{__autocomplete_id:C++})})})});e.dispatch("setCollections",D)},a=function(w){e.dispatch("setIsOpen",w)},l=function(w){e.dispatch("setStatus",w)},h=function(w){e.dispatch("setContext",w)};return{setActiveItemId:t,setQuery:n,setCollections:i,setIsOpen:a,setStatus:l,setContext:h}}var W1e=ze(()=>{Ef()});function Dk(r){return Dk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dk(r)}function gbt(r){return xbt(r)||bbt(r)||ybt(r)||vbt()}function vbt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ybt(r,e){if(!!r){if(typeof r=="string")return jj(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jj(r,e)}}function bbt(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function xbt(r){if(Array.isArray(r))return jj(r)}function jj(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function V1e(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function O1(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?V1e(Object(t),!0).forEach(function(n){_bt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):V1e(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function _bt(r,e,t){return e=wbt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function wbt(r){var e=Sbt(r,"string");return Dk(e)==="symbol"?e:String(e)}function Sbt(r,e){if(Dk(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Dk(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function $1e(r,e){var t,n=typeof window<"u"?window:{},i=r.plugins||[];return O1(O1({debug:!1,openOnFocus:!1,enterKeyHint:void 0,ignoreCompositionEvents:!1,placeholder:"",autoFocus:!1,defaultActiveItemId:null,stallThreshold:300,insights:void 0,environment:n,shouldPanelOpen:function(l){var h=l.state;return by(h)>0},reshape:function(l){var h=l.sources;return h}},r),{},{id:(t=r.id)!==null&&t!==void 0?t:yL(),plugins:i,initialState:O1({activeItemId:null,query:"",completion:null,collections:[],isOpen:!1,status:"idle",context:{}},r.initialState),onStateChange:function(l){var h;(h=r.onStateChange)===null||h===void 0||h.call(r,l),i.forEach(function(g){var w;return(w=g.onStateChange)===null||w===void 0?void 0:w.call(g,l)})},onSubmit:function(l){var h;(h=r.onSubmit)===null||h===void 0||h.call(r,l),i.forEach(function(g){var w;return(w=g.onSubmit)===null||w===void 0?void 0:w.call(g,l)})},onReset:function(l){var h;(h=r.onReset)===null||h===void 0||h.call(r,l),i.forEach(function(g){var w;return(w=g.onReset)===null||w===void 0?void 0:w.call(g,l)})},getSources:function(l){return Promise.all([].concat(gbt(i.map(function(h){return h.getSources})),[r.getSources]).filter(Boolean).map(function(h){return A1e(h,l)})).then(function(h){return Gg(h)}).then(function(h){return h.map(function(g){return O1(O1({},g),{},{onSelect:function(C){g.onSelect(C),e.forEach(function(D){var F;return(F=D.onSelect)===null||F===void 0?void 0:F.call(D,C)})},onActive:function(C){g.onActive(C),e.forEach(function(D){var F;return(F=D.onActive)===null||F===void 0?void 0:F.call(D,C)})},onResolve:function(C){g.onResolve(C),e.forEach(function(D){var F;return(F=D.onResolve)===null||F===void 0?void 0:F.call(D,C)})}})})})},navigator:O1({navigate:function(l){var h=l.itemUrl;n.location.assign(h)},navigateNewTab:function(l){var h=l.itemUrl,g=n.open(h,"_blank","noopener");g?.focus()},navigateNewWindow:function(l){var h=l.itemUrl;n.open(h,"_blank","noopener")}},r.navigator)})}var Hj=ze(()=>{Ef();Kg()});function Ok(r){return Ok=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ok(r)}function G1e(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function kL(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?G1e(Object(t),!0).forEach(function(n){K1e(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):G1e(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function K1e(r,e,t){return e=Tbt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Tbt(r){var e=Ebt(r,"string");return Ok(e)==="symbol"?e:String(e)}function Ebt(r,e){if(Ok(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Ok(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Y1e(r){var e=r.collections,t=r.props,n=r.state,i=e.reduce(function(g,w){return kL(kL({},g),{},K1e({},w.source.sourceId,kL(kL({},w.source),{},{getItems:function(){return Gg(w.items)}})))},{}),a=t.plugins.reduce(function(g,w){return w.reshape?w.reshape(g):g},{sourcesBySourceId:i,state:n}),l=a.sourcesBySourceId,h=t.reshape({sourcesBySourceId:l,sources:Object.values(l),state:n});return Gg(h).filter(Boolean).map(function(g){return{source:g,items:g.getItems()}})}var Z1e=ze(()=>{Ef()});function M1(r){return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M1(r)}function X1e(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function I1(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?X1e(Object(t),!0).forEach(function(n){kbt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):X1e(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function kbt(r,e,t){return e=Cbt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Cbt(r){var e=Abt(r,"string");return M1(e)==="symbol"?e:String(e)}function Abt(r,e){if(M1(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(M1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function J1e(r){return Mbt(r)||Ibt(r)||Obt(r)||Dbt()}function Dbt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Obt(r,e){if(!!r){if(typeof r=="string")return Wj(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Wj(r,e)}}function Ibt(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Mbt(r){if(Array.isArray(r))return Wj(r)}function Wj(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function CL(r){return Boolean(r.execute)}function Lbt(r){return Boolean(r?.execute)}function Q1e(r,e,t){if(Lbt(r)){var n=r.requesterId==="algolia"?Object.assign.apply(Object,[{}].concat(J1e(Object.keys(t.context).map(function(i){var a;return(a=t.context[i])===null||a===void 0?void 0:a.__algoliaSearchParameters})))):{};return I1(I1({},r),{},{requests:r.queries.map(function(i){return{query:r.requesterId==="algolia"?I1(I1({},i),{},{params:I1(I1({},n),i.params)}):i,sourceId:e,transformResponse:r.transformResponse}})})}return{items:r,sourceId:e}}function ewe(r){var e=r.reduce(function(n,i){if(!CL(i))return n.push(i),n;var a=i.searchClient,l=i.execute,h=i.requesterId,g=i.requests,w=n.find(function(F){return CL(i)&&CL(F)&&F.searchClient===a&&Boolean(h)&&F.requesterId===h});if(w){var C;(C=w.items).push.apply(C,J1e(g))}else{var D={execute:l,requesterId:h,items:g,searchClient:a};n.push(D)}return n},[]),t=e.map(function(n){if(!CL(n))return Promise.resolve(n);var i=n,a=i.execute,l=i.items,h=i.searchClient;return a({searchClient:h,requests:l})});return Promise.all(t).then(function(n){return Gg(n)})}function twe(r,e,t){return e.map(function(n){var i=r.filter(function(g){return g.sourceId===n.sourceId}),a=i.map(function(g){var w=g.items;return w}),l=i[0].transformResponse,h=l?l(F1e(a)):a;return n.onResolve({source:n,results:a,items:h,state:t.getState()}),Array.isArray(h),h.every(Boolean),'The `getItems` function from source "'.concat(n.sourceId,'" must return an array of items but returned ').concat(JSON.stringify(void 0),`.

Did you forget to return items?

See: https://www.algolia.com/doc/ui-libraries/autocomplete/core-concepts/sources/#param-getitems`),{source:n,items:h}})}var rwe=ze(()=>{Ef();Kg()});function Mk(r){return Mk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mk(r)}function nwe(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function r0(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nwe(Object(t),!0).forEach(function(n){Rbt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):nwe(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Rbt(r,e,t){return e=Fbt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Fbt(r){var e=qbt(r,"string");return Mk(e)==="symbol"?e:String(e)}function qbt(r,e){if(Mk(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Mk(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Nbt(r,e){if(r==null)return{};var t=Bbt(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,n)||(t[n]=r[n]))}return t}function Bbt(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function Nm(r){var e=r.event,t=r.nextState,n=t===void 0?{}:t,i=r.props,a=r.query,l=r.refresh,h=r.store,g=Nbt(r,Pbt);Ik&&i.environment.clearTimeout(Ik);var w=g.setCollections,C=g.setIsOpen,D=g.setQuery,F=g.setActiveItemId,z=g.setStatus,Y=g.setContext;if(D(a),F(i.defaultActiveItemId),!a&&i.openOnFocus===!1){var $,re=h.getState().collections.map(function(he){return r0(r0({},he),{},{items:[]})});z("idle"),w(re),C(($=n.isOpen)!==null&&$!==void 0?$:i.shouldPanelOpen({state:h.getState()}));var oe=kk(iwe(re).then(function(){return Promise.resolve()}));return h.pendingRequests.add(oe)}z("loading"),Ik=i.environment.setTimeout(function(){z("stalled")},i.stallThreshold);var ne=kk(iwe(i.getSources(r0({query:a,refresh:l,state:h.getState()},g)).then(function(he){return Promise.all(he.map(function(_){return Promise.resolve(_.getItems(r0({query:a,refresh:l,state:h.getState()},g))).then(function(ge){return Q1e(ge,_.sourceId,h.getState())})})).then(ewe).then(function(_){var ge=_.some(function(me){var we=me.items;return zbt(we)});if(ge){var fe;Y({algoliaInsightsPlugin:r0(r0({},((fe=h.getState().context)===null||fe===void 0?void 0:fe.algoliaInsightsPlugin)||{}),{},{__automaticInsights:ge})})}return twe(_,he,h)}).then(function(_){return Y1e({collections:_,props:i,state:h.getState()})})}))).then(function(he){var _;z("idle"),w(he);var ge=i.shouldPanelOpen({state:h.getState()});C((_=n.isOpen)!==null&&_!==void 0?_:i.openOnFocus&&!a&&ge||ge);var fe=em(h.getState());if(h.getState().activeItemId!==null&&fe){var me=fe.item,we=fe.itemInputValue,Se=fe.itemUrl,be=fe.source;be.onActive(r0({event:e,item:me,itemInputValue:we,itemUrl:Se,refresh:l,source:be,state:h.getState()},g))}}).finally(function(){z("idle"),Ik&&i.environment.clearTimeout(Ik)});return h.pendingRequests.add(ne)}function zbt(r){return!Array.isArray(r)&&Boolean(r?._automaticInsights)}var Pbt,Ik,iwe,AL=ze(()=>{Z1e();rwe();Kg();Pbt=["event","nextState","props","query","refresh","store"];Ik=null,iwe=S1e()});function Lk(r){return Lk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lk(r)}function owe(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function n0(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?owe(Object(t),!0).forEach(function(n){jbt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):owe(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function jbt(r,e,t){return e=Hbt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Hbt(r){var e=Wbt(r,"string");return Lk(e)==="symbol"?e:String(e)}function Wbt(r,e){if(Lk(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Lk(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Vbt(r,e){if(r==null)return{};var t=$bt(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,n)||(t[n]=r[n]))}return t}function $bt(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function awe(r){var e=r.event,t=r.props,n=r.refresh,i=r.store,a=Vbt(r,Ubt);if(e.key==="ArrowUp"||e.key==="ArrowDown"){var l=function(){var Y=em(i.getState()),$=t.environment.document.getElementById(Ph(t.id,"item-".concat(i.getState().activeItemId),Y?.source));$&&($.scrollIntoViewIfNeeded?$.scrollIntoViewIfNeeded(!1):$.scrollIntoView(!1))},h=function(){var Y=em(i.getState());if(i.getState().activeItemId!==null&&Y){var $=Y.item,re=Y.itemInputValue,oe=Y.itemUrl,ne=Y.source;ne.onActive(n0({event:e,item:$,itemInputValue:re,itemUrl:oe,refresh:n,source:ne,state:i.getState()},a))}};e.preventDefault(),i.getState().isOpen===!1&&(t.openOnFocus||Boolean(i.getState().query))?Nm(n0({event:e,props:t,query:i.getState().query,refresh:n,store:i},a)).then(function(){i.dispatch(e.key,{nextActiveItemId:t.defaultActiveItemId}),h(),setTimeout(l,0)}):(i.dispatch(e.key,{}),h(),l())}else if(e.key==="Escape")e.preventDefault(),i.dispatch(e.key,null),i.pendingRequests.cancelAll();else if(e.key==="Tab")i.dispatch("blur",null),i.pendingRequests.cancelAll();else if(e.key==="Enter"){if(i.getState().activeItemId===null||i.getState().collections.every(function(z){return z.items.length===0})){t.debug||i.pendingRequests.cancelAll();return}e.preventDefault();var g=em(i.getState()),w=g.item,C=g.itemInputValue,D=g.itemUrl,F=g.source;if(e.metaKey||e.ctrlKey)D!==void 0&&(F.onSelect(n0({event:e,item:w,itemInputValue:C,itemUrl:D,refresh:n,source:F,state:i.getState()},a)),t.navigator.navigateNewTab({itemUrl:D,item:w,state:i.getState()}));else if(e.shiftKey)D!==void 0&&(F.onSelect(n0({event:e,item:w,itemInputValue:C,itemUrl:D,refresh:n,source:F,state:i.getState()},a)),t.navigator.navigateNewWindow({itemUrl:D,item:w,state:i.getState()}));else if(!e.altKey){if(D!==void 0){F.onSelect(n0({event:e,item:w,itemInputValue:C,itemUrl:D,refresh:n,source:F,state:i.getState()},a)),t.navigator.navigate({itemUrl:D,item:w,state:i.getState()});return}Nm(n0({event:e,nextState:{isOpen:!1},props:t,query:C,refresh:n,store:i},a)).then(function(){F.onSelect(n0({event:e,item:w,itemInputValue:C,itemUrl:D,refresh:n,source:F,state:i.getState()},a))})}}}var Ubt,swe=ze(()=>{AL();Kg();Ubt=["event","props","refresh","store"]});function Pk(r){return Pk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pk(r)}function lwe(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Xc(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lwe(Object(t),!0).forEach(function(n){Qbt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):lwe(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Qbt(r,e,t){return e=e0t(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function e0t(r){var e=t0t(r,"string");return Pk(e)==="symbol"?e:String(e)}function t0t(r,e){if(Pk(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Pk(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function L1(r,e){if(r==null)return{};var t=r0t(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,n)||(t[n]=r[n]))}return t}function r0t(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function uwe(r){var e=r.props,t=r.refresh,n=r.store,i=L1(r,Gbt),a=function(Y){var $=Y.inputElement,re=Y.formElement,oe=Y.panelElement,ne=L1(Y,Kbt);function he(_){var ge=n.getState().isOpen||!n.pendingRequests.isEmpty();if(!(!ge||_.target===$)){var fe=[re,oe].some(function(me){return M1e(me,_.target)});fe===!1&&(n.dispatch("blur",null),e.debug||n.pendingRequests.cancelAll())}}return Xc({onTouchStart:he,onMouseDown:he,onTouchMove:function(ge){n.getState().isOpen===!1||$!==e.environment.document.activeElement||ge.target===$||$.blur()}},ne)},l=function(Y){return Xc({role:"combobox","aria-expanded":n.getState().isOpen,"aria-haspopup":"listbox","aria-owns":n.getState().isOpen?n.getState().collections.map(function($){var re=$.source;return Ph(e.id,"list",re)}).join(" "):void 0,"aria-labelledby":Ph(e.id,"label")},Y)},h=function(Y){var $=Y.inputElement,re=L1(Y,Ybt);return Xc({action:"",noValidate:!0,role:"search",onSubmit:function(ne){var he;ne.preventDefault(),e.onSubmit(Xc({event:ne,refresh:t,state:n.getState()},i)),n.dispatch("submit",null),(he=Y.inputElement)===null||he===void 0||he.blur()},onReset:function(ne){var he;ne.preventDefault(),e.onReset(Xc({event:ne,refresh:t,state:n.getState()},i)),n.dispatch("reset",null),(he=Y.inputElement)===null||he===void 0||he.focus()}},re)},g=function(Y){var $;function re(be){(e.openOnFocus||Boolean(n.getState().query))&&Nm(Xc({event:be,props:e,query:n.getState().completion||n.getState().query,refresh:t,store:n},i)),n.dispatch("focus",null)}var oe=Y||{},ne=oe.inputElement,he=oe.maxLength,_=he===void 0?512:he,ge=L1(oe,Zbt),fe=em(n.getState()),me=(($=e.environment.navigator)===null||$===void 0?void 0:$.userAgent)||"",we=P1e(me),Se=e.enterKeyHint||(fe!=null&&fe.itemUrl&&!we?"go":"search");return Xc({"aria-autocomplete":"both","aria-activedescendant":n.getState().isOpen&&n.getState().activeItemId!==null?Ph(e.id,"item-".concat(n.getState().activeItemId),fe?.source):void 0,"aria-controls":n.getState().isOpen?n.getState().collections.map(function(be){var $e=be.source;return Ph(e.id,"list",$e)}).join(" "):void 0,"aria-labelledby":Ph(e.id,"label"),value:n.getState().completion||n.getState().query,id:Ph(e.id,"input"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",enterKeyHint:Se,spellCheck:"false",autoFocus:e.autoFocus,placeholder:e.placeholder,maxLength:_,type:"search",onChange:function($e){var q=$e.currentTarget.value;if(e.ignoreCompositionEvents&&Uj($e).isComposing){i.setQuery(q);return}Nm(Xc({event:$e,props:e,query:q.slice(0,_),refresh:t,store:n},i))},onCompositionEnd:function($e){Nm(Xc({event:$e,props:e,query:$e.currentTarget.value.slice(0,_),refresh:t,store:n},i))},onKeyDown:function($e){Uj($e).isComposing||awe(Xc({event:$e,props:e,refresh:t,store:n},i))},onFocus:re,onBlur:t0,onClick:function($e){Y.inputElement===e.environment.document.activeElement&&!n.getState().isOpen&&re($e)}},ge)},w=function(Y){return Xc({htmlFor:Ph(e.id,"input"),id:Ph(e.id,"label")},Y)},C=function(Y){var $=Y||{},re=$.source,oe=L1($,Xbt);return Xc({role:"listbox","aria-labelledby":Ph(e.id,"label"),id:Ph(e.id,"list",re)},oe)},D=function(Y){return Xc({onMouseDown:function(re){re.preventDefault()},onMouseLeave:function(){n.dispatch("mouseleave",null)}},Y)},F=function(Y){var $=Y.item,re=Y.source,oe=L1(Y,Jbt);return Xc({id:Ph(e.id,"item-".concat($.__autocomplete_id),re),role:"option","aria-selected":n.getState().activeItemId===$.__autocomplete_id,onMouseMove:function(he){if($.__autocomplete_id!==n.getState().activeItemId){n.dispatch("mousemove",$.__autocomplete_id);var _=em(n.getState());if(n.getState().activeItemId!==null&&_){var ge=_.item,fe=_.itemInputValue,me=_.itemUrl,we=_.source;we.onActive(Xc({event:he,item:ge,itemInputValue:fe,itemUrl:me,refresh:t,source:we,state:n.getState()},i))}}},onMouseDown:function(he){he.preventDefault()},onClick:function(he){var _=re.getItemInputValue({item:$,state:n.getState()}),ge=re.getItemUrl({item:$,state:n.getState()}),fe=ge?Promise.resolve():Nm(Xc({event:he,nextState:{isOpen:!1},props:e,query:_,refresh:t,store:n},i));fe.then(function(){re.onSelect(Xc({event:he,item:$,itemInputValue:_,itemUrl:ge,refresh:t,source:re,state:n.getState()},i))})}},oe)};return{getEnvironmentProps:a,getRootProps:l,getFormProps:h,getLabelProps:w,getInputProps:g,getPanelProps:D,getListProps:C,getItemProps:F}}var Gbt,Kbt,Ybt,Zbt,Xbt,Jbt,cwe=ze(()=>{Ef();AL();swe();Kg();Gbt=["props","refresh","store"],Kbt=["inputElement","formElement","panelElement"],Ybt=["inputElement"],Zbt=["inputElement","maxLength"],Xbt=["source"],Jbt=["item","source"]});function Rk(r){return Rk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rk(r)}function fwe(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function n0t(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fwe(Object(t),!0).forEach(function(n){hwe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):fwe(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function hwe(r,e,t){return e=i0t(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function i0t(r){var e=o0t(r,"string");return Rk(e)==="symbol"?e:String(e)}function o0t(r,e){if(Rk(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Rk(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function dwe(r){var e,t,n,i,a=r.plugins,l=r.options,h=(e=(((t=l.__autocomplete_metadata)===null||t===void 0?void 0:t.userAgents)||[])[0])===null||e===void 0?void 0:e.segment,g=h?hwe({},h,Object.keys(((n=l.__autocomplete_metadata)===null||n===void 0?void 0:n.options)||{})):{};return{plugins:a.map(function(w){return{name:w.name,options:Object.keys(w.__autocomplete_pluginOptions||[])}}),options:n0t({"autocomplete-core":Object.keys(l)},g),ua:xL.concat(((i=l.__autocomplete_metadata)===null||i===void 0?void 0:i.userAgents)||[])}}function pwe(r){var e,t,n=r.metadata,i=r.environment,a=(e=i.navigator)===null||e===void 0||(t=e.userAgent)===null||t===void 0?void 0:t.includes("Algolia Crawler");if(a){var l=i.document.createElement("meta"),h=i.document.querySelector("head");l.name="algolia:metadata",setTimeout(function(){l.content=JSON.stringify(n),h.appendChild(l)},0)}}var mwe=ze(()=>{Ef()});function Vj(r){var e,t=r.state;return t.isOpen===!1||t.activeItemId===null?null:((e=em(t))===null||e===void 0?void 0:e.itemInputValue)||null}var gwe=ze(()=>{Kg()});function Fk(r){return Fk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fk(r)}function vwe(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Ao(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vwe(Object(t),!0).forEach(function(n){a0t(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):vwe(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function a0t(r,e,t){return e=s0t(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function s0t(r){var e=l0t(r,"string");return Fk(e)==="symbol"?e:String(e)}function l0t(r,e){if(Fk(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Fk(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var ywe,bwe=ze(()=>{Ef();gwe();Kg();ywe=function(e,t){switch(t.type){case"setActiveItemId":return Ao(Ao({},e),{},{activeItemId:t.payload});case"setQuery":return Ao(Ao({},e),{},{query:t.payload,completion:null});case"setCollections":return Ao(Ao({},e),{},{collections:t.payload});case"setIsOpen":return Ao(Ao({},e),{},{isOpen:t.payload});case"setStatus":return Ao(Ao({},e),{},{status:t.payload});case"setContext":return Ao(Ao({},e),{},{context:Ao(Ao({},e.context),t.payload)});case"ArrowDown":{var n=Ao(Ao({},e),{},{activeItemId:t.payload.hasOwnProperty("nextActiveItemId")?t.payload.nextActiveItemId:zj(1,e.activeItemId,by(e),t.props.defaultActiveItemId)});return Ao(Ao({},n),{},{completion:Vj({state:n})})}case"ArrowUp":{var i=Ao(Ao({},e),{},{activeItemId:zj(-1,e.activeItemId,by(e),t.props.defaultActiveItemId)});return Ao(Ao({},i),{},{completion:Vj({state:i})})}case"Escape":return e.isOpen?Ao(Ao({},e),{},{activeItemId:null,isOpen:!1,completion:null}):Ao(Ao({},e),{},{activeItemId:null,query:"",status:"idle",collections:[]});case"submit":return Ao(Ao({},e),{},{activeItemId:null,isOpen:!1,status:"idle"});case"reset":return Ao(Ao({},e),{},{activeItemId:t.props.openOnFocus===!0?t.props.defaultActiveItemId:null,status:"idle",completion:null,query:""});case"focus":return Ao(Ao({},e),{},{activeItemId:t.props.defaultActiveItemId,isOpen:(t.props.openOnFocus||Boolean(e.query))&&t.props.shouldPanelOpen({state:e})});case"blur":return t.props.debug?e:Ao(Ao({},e),{},{isOpen:!1,activeItemId:null});case"mousemove":return Ao(Ao({},e),{},{activeItemId:t.payload});case"mouseleave":return Ao(Ao({},e),{},{activeItemId:t.props.defaultActiveItemId});default:return"The reducer action ".concat(JSON.stringify(t.type)," is not supported."),e}}});function qk(r){return qk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qk(r)}function xwe(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function i0(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xwe(Object(t),!0).forEach(function(n){u0t(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):xwe(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function u0t(r,e,t){return e=c0t(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function c0t(r){var e=f0t(r,"string");return qk(e)==="symbol"?e:String(e)}function f0t(r,e){if(qk(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(qk(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function _we(r){var e=[],t=$1e(r,e),n=z1e(ywe,t,l),i=H1e({store:n}),a=uwe(i0({props:t,refresh:h,store:n,navigator:t.navigator},i));function l(D){var F,z,Y=D.prevState,$=D.state;if(t.onStateChange(i0({prevState:Y,state:$,refresh:h,navigator:t.navigator},i)),!w()&&(F=$.context)!==null&&F!==void 0&&(z=F.algoliaInsightsPlugin)!==null&&z!==void 0&&z.__automaticInsights&&t.insights!==!1){var re=Bj({__autocomplete_clickAnalytics:!1});t.plugins.push(re),g([re])}}function h(){return Nm(i0({event:new Event("input"),nextState:{isOpen:n.getState().isOpen},props:t,navigator:t.navigator,query:n.getState().query,refresh:h,store:n},i))}function g(D){D.forEach(function(F){var z;return(z=F.subscribe)===null||z===void 0?void 0:z.call(F,i0(i0({},i),{},{navigator:t.navigator,refresh:h,onSelect:function($){e.push({onSelect:$})},onActive:function($){e.push({onActive:$})},onResolve:function($){e.push({onResolve:$})}}))})}function w(){return t.plugins.some(function(D){return D.name==="aa.algoliaInsightsPlugin"})}if(t.insights&&!w()){var C=typeof t.insights=="boolean"?{}:t.insights;t.plugins.push(Bj(C))}return g(t.plugins),pwe({metadata:dwe({plugins:t.plugins,options:r}),environment:t.environment}),i0(i0({refresh:h,navigator:t.navigator},a),i)}var wwe=ze(()=>{y1e();U1e();W1e();Hj();cwe();mwe();AL();bwe()});var Swe=ze(()=>{});var Twe=ze(()=>{});var Ewe=ze(()=>{});var kwe=ze(()=>{});var Cwe=ze(()=>{});var Awe=ze(()=>{});var Dwe=ze(()=>{});var Owe=ze(()=>{});var Iwe=ze(()=>{});var Mwe=ze(()=>{});var Lwe=ze(()=>{});var Pwe=ze(()=>{Swe();Twe();Ewe();kwe();Cwe();Awe();Dwe();Owe();Iwe();Mwe();Lwe()});var Rwe=ze(()=>{});var Fwe=ze(()=>{});var qwe=ze(()=>{Pwe();Rwe();Fwe()});var Nwe=ze(()=>{wwe();Hj();qwe()});function Uwe(r){var e=Bwe.get(this);return e||(e=new Map,Bwe.set(this,e)),(e=zwe(this,e.get(r)||(e.set(r,e=function(t){for(var n,i,a=1,l="",h="",g=[0],w=function(F){a===1&&(F||(l=l.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?g.push(0,F,l):a===3&&(F||l)?(g.push(3,F,l),a=2):a===2&&l==="..."&&F?g.push(4,F,0):a===2&&l&&!F?g.push(5,0,!0,l):a>=5&&((l||!F&&a===5)&&(g.push(a,0,l,i),a=6),F&&(g.push(a,F,0,i),a=6)),l=""},C=0;C<t.length;C++){C&&(a===1&&w(),w(C));for(var D=0;D<t[C].length;D++)n=t[C][D],a===1?n==="<"?(w(),g=[g],a=3):l+=n:a===4?l==="--"&&n===">"?(a=1,l=""):l=n+l[0]:h?n===h?h="":l+=n:n==='"'||n==="'"?h=n:n===">"?(w(),a=1):a&&(n==="="?(a=5,i=l,l=""):n==="/"&&(a<5||t[C][D+1]===">")?(w(),a===3&&(g=g[0]),a=g,(g=g[0]).push(2,0,a),a=0):n===" "||n==="	"||n===`
`||n==="\r"?(w(),a=2):l+=n),a===3&&l==="!--"&&(a=4,g=g[0])}return w(),g}(r)),e),arguments,[])).length>1?e:e[0]}var zwe,Bwe,jwe=ze(()=>{zwe=function(r,e,t,n){var i;e[0]=0;for(var a=1;a<e.length;a++){var l=e[a++],h=e[a]?(e[0]|=l?1:2,t[e[a++]]):e[++a];l===3?n[0]=h:l===4?n[1]=Object.assign(n[1]||{},h):l===5?(n[1]=n[1]||{})[e[++a]]=h:l===6?n[1][e[++a]]+=h+"":l?(i=r.apply(h,zwe(r,h,t,["",null])),n.push(i),h[0]?e[0]|=2:(e[a-2]=0,e[a]=i)):n.push(h)}return n},Bwe=new Map});var Hwe,Wwe=ze(()=>{Hwe=function(e){var t=e.environment,n=t.document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("class","aa-ClearIcon"),n.setAttribute("viewBox","0 0 24 24"),n.setAttribute("width","18"),n.setAttribute("height","18"),n.setAttribute("fill","currentColor");var i=t.document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d","M5.293 6.707l5.293 5.293-5.293 5.293c-0.391 0.391-0.391 1.024 0 1.414s1.024 0.391 1.414 0l5.293-5.293 5.293 5.293c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414l-5.293-5.293 5.293-5.293c0.391-0.391 0.391-1.024 0-1.414s-1.024-0.391-1.414 0l-5.293 5.293-5.293-5.293c-0.391-0.391-1.024-0.391-1.414 0s-0.391 1.024 0 1.414z"),n.appendChild(i),n}});function $j(r,e){if(typeof e=="string"){var t=r.document.querySelector(e);return"The element ".concat(JSON.stringify(e)," is not in the document."),t}return e}var Vwe=ze(()=>{});function $we(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return e.reduce(function(n,i){return Object.keys(i).forEach(function(a){var l=n[a],h=i[a];l!==h&&(n[a]=[l,h].filter(Boolean).join(" "))}),n},{})}var Gwe=ze(()=>{});function h0t(r){return g0t(r)||m0t(r)||p0t(r)||d0t()}function d0t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p0t(r,e){if(!!r){if(typeof r=="string")return Gj(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gj(r,e)}}function m0t(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function g0t(r){if(Array.isArray(r))return Gj(r)}function Gj(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Kj(r){return Kj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kj(r)}function Yj(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return e.reduce(function(n,i){return Object.keys(i).forEach(function(a){var l=n[a],h=i[a];Array.isArray(l)&&Array.isArray(h)?n[a]=l.concat.apply(l,h0t(h)):Kwe(l)&&Kwe(h)?n[a]=Yj(l,h):n[a]=h}),n},{})}var Kwe,Ywe=ze(()=>{Kwe=function(e){return e&&Kj(e)==="object"&&Object.prototype.toString.call(e)==="[object Object]"}});function Nk(r){return Nk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nk(r)}function Zwe(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Xwe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Zwe(Object(t),!0).forEach(function(n){Qwe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Zwe(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Qwe(r,e,t){return e=v0t(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function v0t(r){var e=y0t(r,"string");return Nk(e)==="symbol"?e:String(e)}function y0t(r,e){if(Nk(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Nk(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function b0t(r,e){return S0t(r)||w0t(r,e)||_0t(r,e)||x0t()}function x0t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _0t(r,e){if(!!r){if(typeof r=="string")return Jwe(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Jwe(r,e)}}function Jwe(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function w0t(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,a,l,h=[],g=!0,w=!1;try{if(a=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;g=!1}else for(;!(g=(n=a.call(t)).done)&&(h.push(n.value),h.length!==e);g=!0);}catch(C){w=!0,i=C}finally{try{if(!g&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(w)throw i}}return h}}function S0t(r){if(Array.isArray(r))return r}function eSe(r,e){return Object.entries(r).reduce(function(t,n){var i=b0t(n,2),a=i[0],l=i[1];return e({key:a,value:l})?Xwe(Xwe({},t),{},Qwe({},a,l)):t},{})}var tSe=ze(()=>{});function E0t(r,e,t){t===null?r[e]="":typeof t!="number"?r[e]=t:r[e]=t+"px"}function rSe(r){this._listeners[r.type](r)}function nSe(r,e,t){var n,i,a=r[e];if(e==="style")if(typeof t=="string")r.style=t;else if(t===null)r.style="";else for(e in t)(!a||t[e]!==a[e])&&E0t(r.style,e,t[e]);else e[0]==="o"&&e[1]==="n"?(n=e!==(e=e.replace(/Capture$/,"")),i=e.toLowerCase(),(i in r||T0t.includes(i))&&(e=i),e=e.slice(2),r._listeners||(r._listeners={}),r._listeners[e]=t,t?a||r.addEventListener(e,rSe,n):r.removeEventListener(e,rSe,n)):e!=="list"&&e!=="tagName"&&e!=="form"&&e!=="type"&&e!=="size"&&e!=="download"&&e!=="href"&&e in r?r[e]=t??"":typeof t!="function"&&e!=="dangerouslySetInnerHTML"&&(t==null||t===!1&&!/^ar/.test(e)?r.removeAttribute(e):r.setAttribute(e,t))}function iSe(r){switch(r){case"onChange":return"onInput";case"onCompositionEnd":return"oncompositionend";default:return r}}function Rh(r,e){for(var t in e)nSe(r,iSe(t),e[t])}function Zj(r,e){for(var t in e)t[0]==="o"&&t[1]==="n"||nSe(r,iSe(t),e[t])}var T0t,oSe=ze(()=>{T0t=["ontouchstart","ontouchend","ontouchmove","ontouchcancel"]});var P1=ze(()=>{Vwe();Gwe();Ywe();tSe();oSe()});function C0t(r){return I0t(r)||O0t(r)||D0t(r)||A0t()}function A0t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D0t(r,e){if(!!r){if(typeof r=="string")return Xj(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Xj(r,e)}}function O0t(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function I0t(r){if(Array.isArray(r))return Xj(r)}function Xj(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function M0t(r,e){if(r==null)return{};var t=L0t(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,n)||(t[n]=r[n]))}return t}function L0t(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function DL(r){return function(t,n){var i=n.children,a=i===void 0?[]:i,l=M0t(n,k0t),h=r.document.createElement(t);return Rh(h,l),h.append.apply(h,C0t(a)),h}}var k0t,Jj=ze(()=>{P1();k0t=["children"]});function Bk(r){return Bk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bk(r)}function aSe(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Qj(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aSe(Object(t),!0).forEach(function(n){R0t(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):aSe(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function R0t(r,e,t){return e=F0t(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function F0t(r){var e=q0t(r,"string");return Bk(e)==="symbol"?e:String(e)}function q0t(r,e){if(Bk(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Bk(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function N0t(r,e){if(r==null)return{};var t=B0t(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,n)||(t[n]=r[n]))}return t}function B0t(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}var P0t,sSe,lSe=ze(()=>{Jj();P1();P0t=["autocompleteScopeApi","environment","classNames","getInputProps","getInputPropsCore","isDetached","state"];sSe=function(e){var t=e.autocompleteScopeApi,n=e.environment,i=e.classNames,a=e.getInputProps,l=e.getInputPropsCore,h=e.isDetached,g=e.state,w=N0t(e,P0t),C=DL(n),D=C("input",w),F=a(Qj({state:g,props:l({inputElement:D}),inputElement:D},t));return Rh(D,Qj(Qj({},F),{},{onKeyDown:function(Y){h&&Y.key==="Tab"||F.onKeyDown(Y)}})),D}});var uSe,cSe=ze(()=>{uSe=function(e){var t=e.environment,n=t.document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("class","aa-LoadingIcon"),n.setAttribute("viewBox","0 0 100 100"),n.setAttribute("width","20"),n.setAttribute("height","20"),n.innerHTML=`<circle
  cx="50"
  cy="50"
  fill="none"
  r="35"
  stroke="currentColor"
  stroke-dasharray="164.93361431346415 56.97787143782138"
  stroke-width="6"
>
  <animateTransform
    attributeName="transform"
    type="rotate"
    repeatCount="indefinite"
    dur="1s"
    values="0 50 50;90 50 50;180 50 50;360 50 50"
    keyTimes="0;0.40;0.65;1"
  />
</circle>`,n}});var e9,fSe=ze(()=>{e9=function(e){var t=e.environment,n=t.document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("class","aa-SubmitIcon"),n.setAttribute("viewBox","0 0 24 24"),n.setAttribute("width","20"),n.setAttribute("height","20"),n.setAttribute("fill","currentColor");var i=t.document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d","M16.041 15.856c-0.034 0.026-0.067 0.055-0.099 0.087s-0.060 0.064-0.087 0.099c-1.258 1.213-2.969 1.958-4.855 1.958-1.933 0-3.682-0.782-4.95-2.050s-2.050-3.017-2.050-4.95 0.782-3.682 2.050-4.95 3.017-2.050 4.95-2.050 3.682 0.782 4.95 2.050 2.050 3.017 2.050 4.95c0 1.886-0.745 3.597-1.959 4.856zM21.707 20.293l-3.675-3.675c1.231-1.54 1.968-3.493 1.968-5.618 0-2.485-1.008-4.736-2.636-6.364s-3.879-2.636-6.364-2.636-4.736 1.008-6.364 2.636-2.636 3.879-2.636 6.364 1.008 4.736 2.636 6.364 3.879 2.636 6.364 2.636c2.125 0 4.078-0.737 5.618-1.968l3.675 3.675c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414z"),n.appendChild(i),n}});var hSe=ze(()=>{Wwe();lSe();cSe();fSe()});function zk(r){return zk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zk(r)}function dSe(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function xy(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dSe(Object(t),!0).forEach(function(n){z0t(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):dSe(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function z0t(r,e,t){return e=U0t(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function U0t(r){var e=j0t(r,"string");return zk(e)==="symbol"?e:String(e)}function j0t(r,e){if(zk(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(zk(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function pSe(r){var e=r.autocomplete,t=r.autocompleteScopeApi,n=r.classNames,i=r.environment,a=r.isDetached,l=r.placeholder,h=l===void 0?"Search":l,g=r.propGetters,w=r.setIsModalOpen,C=r.state,D=r.translations,F=DL(i),z=g.getRootProps(xy({state:C,props:e.getRootProps({})},t)),Y=F("div",xy({class:n.root},z)),$=F("div",{class:n.detachedContainer,onMouseDown:function(U){U.stopPropagation()}}),re=F("div",{class:n.detachedOverlay,children:[$],onMouseDown:function(){w(!1),e.setIsOpen(!1)}}),oe=g.getLabelProps(xy({state:C,props:e.getLabelProps({})},t)),ne=F("button",{class:n.submitButton,type:"submit",title:D.submitButtonTitle,children:[e9({environment:i})]}),he=F("label",xy({class:n.label,children:[ne]},oe)),_=F("button",{class:n.clearButton,type:"reset",title:D.clearButtonTitle,children:[Hwe({environment:i})]}),ge=F("div",{class:n.loadingIndicator,children:[uSe({environment:i})]}),fe=sSe({class:n.input,environment:i,state:C,getInputProps:g.getInputProps,getInputPropsCore:e.getInputProps,autocompleteScopeApi:t,isDetached:a}),me=F("div",{class:n.inputWrapperPrefix,children:[he,ge]}),we=F("div",{class:n.inputWrapperSuffix,children:[_]}),Se=F("div",{class:n.inputWrapper,children:[fe]}),be=g.getFormProps(xy({state:C,props:e.getFormProps({inputElement:fe})},t)),$e=F("form",xy({class:n.form,children:[me,Se,we]},be)),q=g.getPanelProps(xy({state:C,props:e.getPanelProps({})},t)),ee=F("div",xy({class:n.panel},q)),R=F("div",{class:n.detachedSearchButtonQuery,textContent:C.query}),j=F("div",{class:n.detachedSearchButtonPlaceholder,hidden:Boolean(C.query),textContent:h});if(a){var G=F("div",{class:n.detachedSearchButtonIcon,children:[e9({environment:i})]}),V=F("button",{type:"button",class:n.detachedSearchButton,onClick:function(){w(!0)},children:[G,j,R]}),te=F("button",{type:"button",class:n.detachedCancelButton,textContent:D.detachedCancelButtonText,onTouchStart:function(U){U.stopPropagation()},onClick:function(){e.setIsOpen(!1),w(!1)}}),_e=F("div",{class:n.detachedFormContainer,children:[$e,te]});$.appendChild(_e),Y.appendChild(V)}else Y.appendChild($e);return{detachedContainer:$,detachedOverlay:re,detachedSearchButtonQuery:R,detachedSearchButtonPlaceholder:j,inputWrapper:Se,input:fe,root:Y,form:$e,label:he,submitButton:ne,clearButton:_,loadingIndicator:ge,panel:ee}}var mSe=ze(()=>{hSe();Jj()});function gSe(){var r=[],e=[];function t(n){r.push(n);var i=n();e.push(i)}return{runEffect:t,cleanupEffects:function(){var i=e;e=[],i.forEach(function(a){a()})},runEffects:function(){var i=r;r=[],i.forEach(function(a){t(a)})}}}var vSe=ze(()=>{});function ySe(){var r=[];return{reactive:function(t){var n=t(),i={_fn:t,_ref:{current:n},get value(){return this._ref.current},set value(a){this._ref.current=a}};return r.push(i),i},runReactives:function(){r.forEach(function(t){t._ref.current=t._fn()})}}}var bSe=ze(()=>{});function _y(r,e){for(var t in e)r[t]=e[t];return r}function ASe(r){var e=r.parentNode;e&&e.removeChild(r)}function i9(r,e,t){var n,i,a,l={};for(a in e)a=="key"?n=e[a]:a=="ref"?i=e[a]:l[a]=e[a];if(arguments.length>2&&(l.children=arguments.length>3?PL.call(arguments,2):t),typeof r=="function"&&r.defaultProps!=null)for(a in r.defaultProps)l[a]===void 0&&(l[a]=r.defaultProps[a]);return IL(r,l,n,i,null)}function IL(r,e,t,n,i){var a={type:r,props:e,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++ESe,__i:-1,__u:0};return i==null&&ll.vnode!=null&&ll.vnode(a),a}function F1(r){return r.children}function ML(r,e){this.props=r,this.context=e}function R1(r,e){if(e==null)return r.__?R1(r.__,r.__i+1):null;for(var t;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null)return t.__e;return typeof r.type=="function"?R1(r):null}function DSe(r){var e,t;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,e=0;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null){r.__e=r.__c.base=t.__e;break}return DSe(r)}}function _Se(r){(!r.__d&&(r.__d=!0)&&o0.push(r)&&!LL.__r++||xSe!==ll.debounceRendering)&&((xSe=ll.debounceRendering)||kSe)(LL)}function LL(){var r,e,t,n,i,a,l,h,g;for(o0.sort(t9);r=o0.shift();)r.__d&&(e=o0.length,n=void 0,a=(i=(t=r).__v).__e,h=[],g=[],(l=t.__P)&&((n=_y({},i)).__v=i.__v+1,ll.vnode&&ll.vnode(n),o9(l,n,i,t.__n,l.ownerSVGElement!==void 0,32&i.__u?[a]:null,h,a??R1(i),!!(32&i.__u),g),n.__.__k[n.__i]=n,MSe(h,n,g),n.__e!=a&&DSe(n)),o0.length>e&&o0.sort(t9));LL.__r=0}function OSe(r,e,t,n,i,a,l,h,g,w,C){var D,F,z,Y,$,re=n&&n.__k||CSe,oe=e.length;for(t.__d=g,$0t(t,e,re),g=t.__d,D=0;D<oe;D++)(z=t.__k[D])!=null&&typeof z!="boolean"&&typeof z!="function"&&(F=z.__i===-1?Uk:re[z.__i]||Uk,z.__i=D,o9(r,z,F,i,a,l,h,g,w,C),Y=z.__e,z.ref&&F.ref!=z.ref&&(F.ref&&a9(F.ref,null,z),C.push(z.ref,z.__c||Y,z)),$==null&&Y!=null&&($=Y),65536&z.__u||F.__k===z.__k?g=ISe(z,g,r):typeof z.type=="function"&&z.__d!==void 0?g=z.__d:Y&&(g=Y.nextSibling),z.__d=void 0,z.__u&=-196609);t.__d=g,t.__e=$}function $0t(r,e,t){var n,i,a,l,h,g=e.length,w=t.length,C=w,D=0;for(r.__k=[],n=0;n<g;n++)(i=r.__k[n]=(i=e[n])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?IL(null,i,null,null,i):n9(i)?IL(F1,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?IL(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=r,i.__b=r.__b+1,h=G0t(i,t,l=n+D,C),i.__i=h,a=null,h!==-1&&(C--,(a=t[h])&&(a.__u|=131072)),a==null||a.__v===null?(h==-1&&D--,typeof i.type!="function"&&(i.__u|=65536)):h!==l&&(h===l+1?D++:h>l?C>g-l?D+=h-l:D--:D=h<l&&h==l-1?h-l:0,h!==n+D&&(i.__u|=65536))):(a=t[n])&&a.key==null&&a.__e&&(a.__e==r.__d&&(r.__d=R1(a)),r9(a,a,!1),t[n]=null,C--);if(C)for(n=0;n<w;n++)(a=t[n])!=null&&(131072&a.__u)==0&&(a.__e==r.__d&&(r.__d=R1(a)),r9(a,a))}function ISe(r,e,t){var n,i;if(typeof r.type=="function"){for(n=r.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=r,e=ISe(n[i],e,t));return e}return r.__e!=e&&(t.insertBefore(r.__e,e||null),e=r.__e),e&&e.nextSibling}function G0t(r,e,t,n){var i=r.key,a=r.type,l=t-1,h=t+1,g=e[t];if(g===null||g&&i==g.key&&a===g.type)return t;if(n>(g!=null&&(131072&g.__u)==0?1:0))for(;l>=0||h<e.length;){if(l>=0){if((g=e[l])&&(131072&g.__u)==0&&i==g.key&&a===g.type)return l;l--}if(h<e.length){if((g=e[h])&&(131072&g.__u)==0&&i==g.key&&a===g.type)return h;h++}}return-1}function wSe(r,e,t){e[0]==="-"?r.setProperty(e,t??""):r[e]=t==null?"":typeof t!="number"||V0t.test(e)?t:t+"px"}function OL(r,e,t,n,i){var a;e:if(e==="style")if(typeof t=="string")r.style.cssText=t;else{if(typeof n=="string"&&(r.style.cssText=n=""),n)for(e in n)t&&e in t||wSe(r.style,e,"");if(t)for(e in t)n&&t[e]===n[e]||wSe(r.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in r?e.toLowerCase().slice(2):e.slice(2),r.l||(r.l={}),r.l[e+a]=t,t?n?t.u=n.u:(t.u=Date.now(),r.addEventListener(e,a?TSe:SSe,a)):r.removeEventListener(e,a?TSe:SSe,a);else{if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in r)try{r[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e[4]!=="-"?r.removeAttribute(e):r.setAttribute(e,t))}}function SSe(r){var e=this.l[r.type+!1];if(r.t){if(r.t<=e.u)return}else r.t=Date.now();return e(ll.event?ll.event(r):r)}function TSe(r){return this.l[r.type+!0](ll.event?ll.event(r):r)}function o9(r,e,t,n,i,a,l,h,g,w){var C,D,F,z,Y,$,re,oe,ne,he,_,ge,fe,me,we,Se=e.type;if(e.constructor!==void 0)return null;128&t.__u&&(g=!!(32&t.__u),a=[h=e.__e=t.__e]),(C=ll.__b)&&C(e);e:if(typeof Se=="function")try{if(oe=e.props,ne=(C=Se.contextType)&&n[C.__c],he=C?ne?ne.props.value:C.__:n,t.__c?re=(D=e.__c=t.__c).__=D.__E:("prototype"in Se&&Se.prototype.render?e.__c=D=new Se(oe,he):(e.__c=D=new ML(oe,he),D.constructor=Se,D.render=Y0t),ne&&ne.sub(D),D.props=oe,D.state||(D.state={}),D.context=he,D.__n=n,F=D.__d=!0,D.__h=[],D._sb=[]),D.__s==null&&(D.__s=D.state),Se.getDerivedStateFromProps!=null&&(D.__s==D.state&&(D.__s=_y({},D.__s)),_y(D.__s,Se.getDerivedStateFromProps(oe,D.__s))),z=D.props,Y=D.state,D.__v=e,F)Se.getDerivedStateFromProps==null&&D.componentWillMount!=null&&D.componentWillMount(),D.componentDidMount!=null&&D.__h.push(D.componentDidMount);else{if(Se.getDerivedStateFromProps==null&&oe!==z&&D.componentWillReceiveProps!=null&&D.componentWillReceiveProps(oe,he),!D.__e&&(D.shouldComponentUpdate!=null&&D.shouldComponentUpdate(oe,D.__s,he)===!1||e.__v===t.__v)){for(e.__v!==t.__v&&(D.props=oe,D.state=D.__s,D.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(be){be&&(be.__=e)}),_=0;_<D._sb.length;_++)D.__h.push(D._sb[_]);D._sb=[],D.__h.length&&l.push(D);break e}D.componentWillUpdate!=null&&D.componentWillUpdate(oe,D.__s,he),D.componentDidUpdate!=null&&D.__h.push(function(){D.componentDidUpdate(z,Y,$)})}if(D.context=he,D.props=oe,D.__P=r,D.__e=!1,ge=ll.__r,fe=0,"prototype"in Se&&Se.prototype.render){for(D.state=D.__s,D.__d=!1,ge&&ge(e),C=D.render(D.props,D.state,D.context),me=0;me<D._sb.length;me++)D.__h.push(D._sb[me]);D._sb=[]}else do D.__d=!1,ge&&ge(e),C=D.render(D.props,D.state,D.context),D.state=D.__s;while(D.__d&&++fe<25);D.state=D.__s,D.getChildContext!=null&&(n=_y(_y({},n),D.getChildContext())),F||D.getSnapshotBeforeUpdate==null||($=D.getSnapshotBeforeUpdate(z,Y)),OSe(r,n9(we=C!=null&&C.type===F1&&C.key==null?C.props.children:C)?we:[we],e,t,n,i,a,l,h,g,w),D.base=e.__e,e.__u&=-161,D.__h.length&&l.push(D),re&&(D.__E=D.__=null)}catch(be){e.__v=null,g||a!=null?(e.__e=h,e.__u|=g?160:32,a[a.indexOf(h)]=null):(e.__e=t.__e,e.__k=t.__k),ll.__e(be,e,t)}else a==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=K0t(t.__e,e,t,n,i,a,l,g,w);(C=ll.diffed)&&C(e)}function MSe(r,e,t){e.__d=void 0;for(var n=0;n<t.length;n++)a9(t[n],t[++n],t[++n]);ll.__c&&ll.__c(e,r),r.some(function(i){try{r=i.__h,i.__h=[],r.some(function(a){a.call(i)})}catch(a){ll.__e(a,i.__v)}})}function K0t(r,e,t,n,i,a,l,h,g){var w,C,D,F,z,Y,$,re=t.props,oe=e.props,ne=e.type;if(ne==="svg"&&(i=!0),a!=null){for(w=0;w<a.length;w++)if((z=a[w])&&"setAttribute"in z==!!ne&&(ne?z.localName===ne:z.nodeType===3)){r=z,a[w]=null;break}}if(r==null){if(ne===null)return document.createTextNode(oe);r=i?document.createElementNS("http://www.w3.org/2000/svg",ne):document.createElement(ne,oe.is&&oe),a=null,h=!1}if(ne===null)re===oe||h&&r.data===oe||(r.data=oe);else{if(a=a&&PL.call(r.childNodes),re=t.props||Uk,!h&&a!=null)for(re={},w=0;w<r.attributes.length;w++)re[(z=r.attributes[w]).name]=z.value;for(w in re)z=re[w],w=="children"||(w=="dangerouslySetInnerHTML"?D=z:w==="key"||w in oe||OL(r,w,null,z,i));for(w in oe)z=oe[w],w=="children"?F=z:w=="dangerouslySetInnerHTML"?C=z:w=="value"?Y=z:w=="checked"?$=z:w==="key"||h&&typeof z!="function"||re[w]===z||OL(r,w,z,re[w],i);if(C)h||D&&(C.__html===D.__html||C.__html===r.innerHTML)||(r.innerHTML=C.__html),e.__k=[];else if(D&&(r.innerHTML=""),OSe(r,n9(F)?F:[F],e,t,n,i&&ne!=="foreignObject",a,l,a?a[0]:t.__k&&R1(t,0),h,g),a!=null)for(w=a.length;w--;)a[w]!=null&&ASe(a[w]);h||(w="value",Y!==void 0&&(Y!==r[w]||ne==="progress"&&!Y||ne==="option"&&Y!==re[w])&&OL(r,w,Y,re[w],!1),w="checked",$!==void 0&&$!==r[w]&&OL(r,w,$,re[w],!1))}return r}function a9(r,e,t){try{typeof r=="function"?r(e):r.current=e}catch(n){ll.__e(n,t)}}function r9(r,e,t){var n,i;if(ll.unmount&&ll.unmount(r),(n=r.ref)&&(n.current&&n.current!==r.__e||a9(n,null,e)),(n=r.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){ll.__e(a,e)}n.base=n.__P=null,r.__c=void 0}if(n=r.__k)for(i=0;i<n.length;i++)n[i]&&r9(n[i],e,t||typeof r.type!="function");t||r.__e==null||ASe(r.__e),r.__=r.__e=r.__d=void 0}function Y0t(r,e,t){return this.constructor(r,t)}function LSe(r,e,t){var n,i,a,l;ll.__&&ll.__(r,e),i=(n=typeof t=="function")?null:t&&t.__k||e.__k,a=[],l=[],o9(e,r=(!n&&t||e).__k=i9(F1,null,[r]),i||Uk,Uk,e.ownerSVGElement!==void 0,!n&&t?[t]:i?null:e.firstChild?PL.call(e.childNodes):null,a,!n&&t?t:i?i.__e:e.firstChild,n,l),MSe(a,r,l)}var PL,ll,ESe,H0t,o0,xSe,kSe,t9,W0t,Uk,CSe,V0t,n9,PSe=ze(()=>{Uk={},CSe=[],V0t=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,n9=Array.isArray;PL=CSe.slice,ll={__e:function(r,e,t,n){for(var i,a,l;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(r)),l=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(r,n||{}),l=i.__d),l)return i.__E=i}catch(h){r=h}throw r}},ESe=0,H0t=function(r){return r!=null&&r.constructor==null},ML.prototype.setState=function(r,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=_y({},this.state),typeof r=="function"&&(r=r(_y({},t),this.props)),r&&_y(t,r),r!=null&&this.__v&&(e&&this._sb.push(e),_Se(this))},ML.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),_Se(this))},ML.prototype.render=F1,o0=[],kSe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,t9=function(r,e){return r.__v.__b-e.__v.__b},LL.__r=0,W0t=0});var RSe=ze(()=>{});var RL,FL,s9=ze(()=>{RL="__aa-highlight__",FL="__/aa-highlight__"});function Z0t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=r;return{get:function(){return e},add:function(n){var i=e[e.length-1];i?.isHighlighted===n.isHighlighted?e[e.length-1]={value:i.value+n.value,isHighlighted:i.isHighlighted}:e.push(n)}}}function qL(r){var e=r.highlightedValue,t=e.split(RL),n=t.shift(),i=Z0t(n?[{value:n,isHighlighted:!1}]:[]);return t.forEach(function(a){var l=a.split(FL);i.add({value:l[0],isHighlighted:!0}),l[1]!==""&&i.add({value:l[1],isHighlighted:!1})}),i.get()}var l9=ze(()=>{s9()});function X0t(r){return txt(r)||ext(r)||Q0t(r)||J0t()}function J0t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q0t(r,e){if(!!r){if(typeof r=="string")return u9(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u9(r,e)}}function ext(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function txt(r){if(Array.isArray(r))return u9(r)}function u9(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function NL(r){var e=r.hit,t=r.attribute,n=Array.isArray(t)?t:[t],i=E1(e,["_highlightResult"].concat(X0t(n),["value"]));return typeof i!="string"&&(i=E1(e,n)||""),qL({highlightedValue:i})}var c9=ze(()=>{Ef();l9()});function oxt(r){return r&&ixt.test(r)?r.replace(FSe,function(e){return rxt[e]}):r}function qSe(r,e){var t,n,i=r[e],a=((t=r[e+1])===null||t===void 0?void 0:t.isHighlighted)||!0,l=((n=r[e-1])===null||n===void 0?void 0:n.isHighlighted)||!0;return!nxt.test(oxt(i.value))&&l===a?l:i.isHighlighted}var rxt,nxt,FSe,ixt,NSe=ze(()=>{rxt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},nxt=new RegExp(/\w/i),FSe=/&(amp|quot|lt|gt|#39);/g,ixt=RegExp(FSe.source)});function jk(r){return jk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jk(r)}function BSe(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function BL(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BSe(Object(t),!0).forEach(function(n){axt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):BSe(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function axt(r,e,t){return e=sxt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function sxt(r){var e=lxt(r,"string");return jk(e)==="symbol"?e:String(e)}function lxt(r,e){if(jk(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(jk(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function zL(r){return r.some(function(e){return e.isHighlighted})?r.map(function(e,t){return BL(BL({},e),{},{isHighlighted:!qSe(r,t)})}):r.map(function(e){return BL(BL({},e),{},{isHighlighted:!1})})}var f9=ze(()=>{NSe()});function zSe(r){return zL(NL(r))}var USe=ze(()=>{c9();f9()});function uxt(r){return dxt(r)||hxt(r)||fxt(r)||cxt()}function cxt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fxt(r,e){if(!!r){if(typeof r=="string")return h9(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h9(r,e)}}function hxt(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function dxt(r){if(Array.isArray(r))return h9(r)}function h9(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function UL(r){var e=r.hit,t=r.attribute,n=Array.isArray(t)?t:[t],i=E1(e,["_snippetResult"].concat(uxt(n),["value"]));return typeof i!="string"&&(i=E1(e,n)||""),qL({highlightedValue:i})}var d9=ze(()=>{Ef();l9()});function jSe(r){return zL(UL(r))}var HSe=ze(()=>{d9();f9()});var WSe=ze(()=>{});var VSe=ze(()=>{RSe();c9();USe();HSe();d9();WSe()});function Hk(r){return Hk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hk(r)}function $Se(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function GSe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$Se(Object(t),!0).forEach(function(n){pxt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):$Se(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function pxt(r,e,t){return e=mxt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function mxt(r){var e=gxt(r,"string");return Hk(e)==="symbol"?e:String(e)}function gxt(r,e){if(Hk(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Hk(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function KSe(r,e){function t(n){return r({searchClient:n.searchClient,queries:n.requests.map(function(i){return i.query})}).then(function(i){return i.map(function(a,l){var h=n.requests[l],g=h.sourceId,w=h.transformResponse;return{items:a,sourceId:g,transformResponse:w}})})}return function(i){return function(l){return GSe(GSe({requesterId:e,execute:t},i),l)}}}var YSe=ze(()=>{});function ZSe(r){var e=r.transporter||{},t=e.headers,n=t===void 0?{}:t,i=e.queryParameters,a=i===void 0?{}:i,l="x-algolia-application-id",h="x-algolia-api-key",g=n[l]||a[l],w=n[h]||a[h];return{appId:g,apiKey:w}}var XSe=ze(()=>{});var JSe=ze(()=>{XSe()});function Wk(r){return Wk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wk(r)}function QSe(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function a0(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QSe(Object(t),!0).forEach(function(n){yxt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):QSe(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function yxt(r,e,t){return e=bxt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function bxt(r){var e=xxt(r,"string");return Wk(e)==="symbol"?e:String(e)}function xxt(r,e){if(Wk(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Wk(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function _xt(r,e){if(r==null)return{};var t=wxt(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,n)||(t[n]=r[n]))}return t}function wxt(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function eTe(r){return kxt(r)||Ext(r)||Txt(r)||Sxt()}function Sxt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Txt(r,e){if(!!r){if(typeof r=="string")return p9(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return p9(r,e)}}function Ext(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function kxt(r){if(Array.isArray(r))return p9(r)}function p9(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function tTe(r){var e=r.searchClient,t=r.queries,n=r.userAgents,i=n===void 0?[]:n;if(typeof e.addAlgoliaAgent=="function"){var a=[].concat(eTe(xL),eTe(i));a.forEach(function(w){var C=w.segment,D=w.version;e.addAlgoliaAgent(C,D)})}var l=ZSe(e),h=l.appId,g=l.apiKey;return Boolean(h),Boolean(g),e.search(t.map(function(w){var C=w.params,D=_xt(w,vxt);return a0(a0({},D),{},{params:a0({hitsPerPage:5,highlightPreTag:RL,highlightPostTag:FL},C)})})).then(function(w){return w.results.map(function(C,D){var F;return a0(a0({},C),{},{hits:(F=C.hits)===null||F===void 0?void 0:F.map(function(z){return a0(a0({},z),{},{__autocomplete_indexName:C.index||t[D].indexName,__autocomplete_queryID:C.queryID,__autocomplete_algoliaCredentials:{appId:h,apiKey:g}})})})})})}var vxt,rTe=ze(()=>{Ef();s9();JSe();vxt=["params"]});var nTe=ze(()=>{rTe()});var iTe=ze(()=>{});var oTe=ze(()=>{});var aTe=ze(()=>{YSe();iTe();oTe()});var sTe=ze(()=>{});var lTe=ze(()=>{});var uTe=ze(()=>{sTe();lTe()});var q1=ze(()=>{VSe();aTe();nTe();uTe()});function cTe(r){var e=r.createElement,t=r.Fragment;function n(i){var a=i.hit,l=i.attribute,h=i.tagName,g=h===void 0?"mark":h;return e(t,{},NL({hit:a,attribute:l}).map(function(w,C){return w.isHighlighted?e(g,{key:C},w.value):w.value}))}return n.__autocomplete_componentName="Highlight",n}var fTe=ze(()=>{q1()});function hTe(r){var e=r.createElement,t=r.Fragment;function n(i){var a=i.hit,l=i.attribute,h=i.tagName,g=h===void 0?"mark":h;return e(t,{},zSe({hit:a,attribute:l}).map(function(w,C){return w.isHighlighted?e(g,{key:C},w.value):w.value}))}return n.__autocomplete_componentName="ReverseHighlight",n}var dTe=ze(()=>{q1()});function pTe(r){var e=r.createElement,t=r.Fragment;function n(i){var a=i.hit,l=i.attribute,h=i.tagName,g=h===void 0?"mark":h;return e(t,{},jSe({hit:a,attribute:l}).map(function(w,C){return w.isHighlighted?e(g,{key:C},w.value):w.value}))}return n.__autocomplete_componentName="ReverseSnippet",n}var mTe=ze(()=>{q1()});function gTe(r){var e=r.createElement,t=r.Fragment;function n(i){var a=i.hit,l=i.attribute,h=i.tagName,g=h===void 0?"mark":h;return e(t,{},UL({hit:a,attribute:l}).map(function(w,C){return w.isHighlighted?e(g,{key:C},w.value):w.value}))}return n.__autocomplete_componentName="Snippet",n}var vTe=ze(()=>{q1()});var yTe=ze(()=>{fTe();dTe();mTe();vTe()});function Vk(r){return Vk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vk(r)}function bTe(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function wy(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bTe(Object(t),!0).forEach(function(n){Axt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):bTe(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Axt(r,e,t){return e=Dxt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Dxt(r){var e=Oxt(r,"string");return Vk(e)==="symbol"?e:String(e)}function Oxt(r,e){if(Vk(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Vk(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Ixt(r,e){if(r==null)return{};var t=Mxt(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,n)||(t[n]=r[n]))}return t}function Mxt(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function xTe(r){var e,t=r.classNames,n=r.container,i=r.getEnvironmentProps,a=r.getFormProps,l=r.getInputProps,h=r.getItemProps,g=r.getLabelProps,w=r.getListProps,C=r.getPanelProps,D=r.getRootProps,F=r.panelContainer,z=r.panelPlacement,Y=r.render,$=r.renderNoResults,re=r.renderer,oe=r.detachedMediaQuery,ne=r.components,he=r.translations,_=Ixt(r,Cxt),ge=typeof window<"u"?window:{},fe=$j(ge,n);fe.tagName;var me=wy(wy({},Rxt),re),we={Highlight:cTe(me),ReverseHighlight:hTe(me),ReverseSnippet:pTe(me),Snippet:gTe(me)},Se={clearButtonTitle:"Clear",detachedCancelButtonText:"Cancel",submitButtonTitle:"Submit"};return{renderer:{classNames:$we(Lxt,t??{}),container:fe,getEnvironmentProps:i??function(be){var $e=be.props;return $e},getFormProps:a??function(be){var $e=be.props;return $e},getInputProps:l??function(be){var $e=be.props;return $e},getItemProps:h??function(be){var $e=be.props;return $e},getLabelProps:g??function(be){var $e=be.props;return $e},getListProps:w??function(be){var $e=be.props;return $e},getPanelProps:C??function(be){var $e=be.props;return $e},getRootProps:D??function(be){var $e=be.props;return $e},panelContainer:F?$j(ge,F):ge.document.body,panelPlacement:z??"input-wrapper-width",render:Y??Pxt,renderNoResults:$,renderer:me,detachedMediaQuery:oe??getComputedStyle(ge.document.documentElement).getPropertyValue("--aa-detached-media-query"),components:wy(wy({},we),ne),translations:wy(wy({},Se),he)},core:wy(wy({},_),{},{id:(e=_.id)!==null&&e!==void 0?e:yL(),environment:ge})}}var Cxt,Lxt,Pxt,Rxt,_Te=ze(()=>{Ef();PSe();yTe();P1();Cxt=["classNames","container","getEnvironmentProps","getFormProps","getInputProps","getItemProps","getLabelProps","getListProps","getPanelProps","getRootProps","panelContainer","panelPlacement","render","renderNoResults","renderer","detachedMediaQuery","components","translations"];Lxt={clearButton:"aa-ClearButton",detachedCancelButton:"aa-DetachedCancelButton",detachedContainer:"aa-DetachedContainer",detachedFormContainer:"aa-DetachedFormContainer",detachedOverlay:"aa-DetachedOverlay",detachedSearchButton:"aa-DetachedSearchButton",detachedSearchButtonIcon:"aa-DetachedSearchButtonIcon",detachedSearchButtonPlaceholder:"aa-DetachedSearchButtonPlaceholder",detachedSearchButtonQuery:"aa-DetachedSearchButtonQuery",form:"aa-Form",input:"aa-Input",inputWrapper:"aa-InputWrapper",inputWrapperPrefix:"aa-InputWrapperPrefix",inputWrapperSuffix:"aa-InputWrapperSuffix",item:"aa-Item",label:"aa-Label",list:"aa-List",loadingIndicator:"aa-LoadingIndicator",panel:"aa-Panel",panelLayout:"aa-PanelLayout aa-Panel--scrollable",root:"aa-Autocomplete",source:"aa-Source",sourceFooter:"aa-SourceFooter",sourceHeader:"aa-SourceHeader",sourceNoResults:"aa-SourceNoResults",submitButton:"aa-SubmitButton"},Pxt=function(e,t){var n=e.children,i=e.render;i(n,t)},Rxt={createElement:i9,Fragment:F1,render:LSe}});function wTe(r){var e=r.panelPlacement,t=r.container,n=r.form,i=r.environment,a=t.getBoundingClientRect(),l=i.pageYOffset||i.document.documentElement.scrollTop||i.document.body.scrollTop||0,h=l+a.top+a.height;switch(e){case"start":return{top:h,left:a.left};case"end":return{top:h,right:i.document.documentElement.clientWidth-(a.left+a.width)};case"full-width":return{top:h,left:0,right:0,width:"unset",maxWidth:"unset"};case"input-wrapper-width":{var g=n.getBoundingClientRect();return{top:h,left:g.left,right:i.document.documentElement.clientWidth-(g.left+g.width),width:"unset",maxWidth:"unset"}}default:throw new Error("[Autocomplete] The `panelPlacement` value ".concat(JSON.stringify(e)," is not valid."))}}var STe=ze(()=>{});function $k(r){return $k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$k(r)}function jL(){return jL=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},jL.apply(this,arguments)}function TTe(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function N1(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TTe(Object(t),!0).forEach(function(n){Fxt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):TTe(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Fxt(r,e,t){return e=qxt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function qxt(r){var e=Nxt(r,"string");return $k(e)==="symbol"?e:String(e)}function Nxt(r,e){if($k(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if($k(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function ETe(r){var e=r.autocomplete,t=r.autocompleteScopeApi,n=r.dom,i=r.propGetters,a=r.state;Zj(n.root,i.getRootProps(N1({state:a,props:e.getRootProps({})},t))),Zj(n.input,i.getInputProps(N1({state:a,props:e.getInputProps({inputElement:n.input}),inputElement:n.input},t))),Rh(n.label,{hidden:a.status==="stalled"}),Rh(n.loadingIndicator,{hidden:a.status!=="stalled"}),Rh(n.clearButton,{hidden:!a.query}),Rh(n.detachedSearchButtonQuery,{textContent:a.query}),Rh(n.detachedSearchButtonPlaceholder,{hidden:Boolean(a.query)})}function kTe(r,e){var t=e.autocomplete,n=e.autocompleteScopeApi,i=e.classNames,a=e.html,l=e.dom,h=e.panelContainer,g=e.propGetters,w=e.state,C=e.components,D=e.renderer;if(!w.isOpen){h.contains(l.panel)&&h.removeChild(l.panel);return}!h.contains(l.panel)&&w.status!=="loading"&&h.appendChild(l.panel),l.panel.classList.toggle("aa-Panel--stalled",w.status==="stalled");var F=w.collections.filter(function($){var re=$.source,oe=$.items;return re.templates.noResults||oe.length>0}).map(function($,re){var oe=$.source,ne=$.items;return D.createElement("section",{key:re,className:i.source,"data-autocomplete-source-id":oe.sourceId},oe.templates.header&&D.createElement("div",{className:i.sourceHeader},oe.templates.header({components:C,createElement:D.createElement,Fragment:D.Fragment,items:ne,source:oe,state:w,html:a})),oe.templates.noResults&&ne.length===0?D.createElement("div",{className:i.sourceNoResults},oe.templates.noResults({components:C,createElement:D.createElement,Fragment:D.Fragment,source:oe,state:w,html:a})):D.createElement("ul",jL({className:i.list},g.getListProps(N1({state:w,props:t.getListProps({source:oe})},n))),ne.map(function(he){var _=t.getItemProps({item:he,source:oe});return D.createElement("li",jL({key:_.id,className:i.item},g.getItemProps(N1({state:w,props:_},n))),oe.templates.item({components:C,createElement:D.createElement,Fragment:D.Fragment,item:he,state:w,html:a}))})),oe.templates.footer&&D.createElement("div",{className:i.sourceFooter},oe.templates.footer({components:C,createElement:D.createElement,Fragment:D.Fragment,items:ne,source:oe,state:w,html:a})))}),z=D.createElement(D.Fragment,null,D.createElement("div",{className:i.panelLayout},F),D.createElement("div",{className:"aa-GradientBottom"})),Y=F.reduce(function($,re){return $[re.props["data-autocomplete-source-id"]]=re,$},{});r(N1(N1({children:z,state:w,sections:F,elements:Y},D),{},{components:C,html:a},n),l.panel)}var CTe=ze(()=>{P1()});var HL,m9=ze(()=>{Ef();HL=[{segment:"autocomplete-js",version:bL}]});function Gk(r){return Gk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gk(r)}function zxt(r,e){if(r==null)return{};var t=Uxt(r,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,n)||(t[n]=r[n]))}return t}function Uxt(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function ATe(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function s0(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ATe(Object(t),!0).forEach(function(n){OTe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ATe(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function OTe(r,e,t){return e=jxt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function jxt(r){var e=Hxt(r,"string");return Gk(e)==="symbol"?e:String(e)}function Hxt(r,e){if(Gk(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Gk(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function ITe(r){var e=gSe(),t=e.runEffect,n=e.cleanupEffects,i=e.runEffects,a=ySe(),l=a.reactive,h=a.runReactives,g=e0(!1),w=e0(r),C=e0(void 0),D=l(function(){return xTe(w.current)}),F=l(function(){return D.value.core.environment.matchMedia(D.value.renderer.detachedMediaQuery).matches}),z=l(function(){return _we(s0(s0({},D.value.core),{},{onStateChange:function(Se){var be,$e,q;g.current=Se.state.collections.some(function(ee){return ee.source.templates.noResults}),(be=C.current)===null||be===void 0||be.call(C,Se),($e=(q=D.value.core).onStateChange)===null||$e===void 0||$e.call(q,Se)},shouldPanelOpen:w.current.shouldPanelOpen||function(we){var Se=we.state;if(F.value)return!0;var be=by(Se)>0;if(!D.value.core.openOnFocus&&!Se.query)return be;var $e=Boolean(g.current||D.value.renderer.renderNoResults);return!be&&$e||be},__autocomplete_metadata:{userAgents:HL,options:r}}))}),Y=e0(s0({collections:[],completion:null,context:{},isOpen:!1,query:"",activeItemId:null,status:"idle"},D.value.core.initialState)),$={getEnvironmentProps:D.value.renderer.getEnvironmentProps,getFormProps:D.value.renderer.getFormProps,getInputProps:D.value.renderer.getInputProps,getItemProps:D.value.renderer.getItemProps,getLabelProps:D.value.renderer.getLabelProps,getListProps:D.value.renderer.getListProps,getPanelProps:D.value.renderer.getPanelProps,getRootProps:D.value.renderer.getRootProps},re={setActiveItemId:z.value.setActiveItemId,setQuery:z.value.setQuery,setCollections:z.value.setCollections,setIsOpen:z.value.setIsOpen,setStatus:z.value.setStatus,setContext:z.value.setContext,refresh:z.value.refresh,navigator:z.value.navigator},oe=l(function(){return Uwe.bind(D.value.renderer.renderer.createElement)}),ne=l(function(){return pSe({autocomplete:z.value,autocompleteScopeApi:re,classNames:D.value.renderer.classNames,environment:D.value.core.environment,isDetached:F.value,placeholder:D.value.core.placeholder,propGetters:$,setIsModalOpen:me,state:Y.current,translations:D.value.renderer.translations})});function he(){Rh(ne.value.panel,{style:F.value?{}:wTe({panelPlacement:D.value.renderer.panelPlacement,container:ne.value.root,form:ne.value.form,environment:D.value.core.environment})})}function _(we){Y.current=we;var Se={autocomplete:z.value,autocompleteScopeApi:re,classNames:D.value.renderer.classNames,components:D.value.renderer.components,container:D.value.renderer.container,html:oe.value,dom:ne.value,panelContainer:F.value?ne.value.detachedContainer:D.value.renderer.panelContainer,propGetters:$,state:Y.current,renderer:D.value.renderer.renderer},be=!by(we)&&!g.current&&D.value.renderer.renderNoResults||D.value.renderer.render;ETe(Se),kTe(be,Se)}t(function(){var we=z.value.getEnvironmentProps({formElement:ne.value.form,panelElement:ne.value.panel,inputElement:ne.value.input});return Rh(D.value.core.environment,we),function(){Rh(D.value.core.environment,Object.keys(we).reduce(function(Se,be){return s0(s0({},Se),{},OTe({},be,void 0))},{}))}}),t(function(){var we=F.value?D.value.core.environment.document.body:D.value.renderer.panelContainer,Se=F.value?ne.value.detachedOverlay:ne.value.panel;return F.value&&Y.current.isOpen&&me(!0),_(Y.current),function(){we.contains(Se)&&we.removeChild(Se)}}),t(function(){var we=D.value.renderer.container;return we.appendChild(ne.value.root),function(){we.removeChild(ne.value.root)}}),t(function(){var we=S1(function(Se){var be=Se.state;_(be)},0);return C.current=function(Se){var be=Se.state,$e=Se.prevState;if(F.value&&$e.isOpen!==be.isOpen&&me(be.isOpen),!F.value&&be.isOpen&&!$e.isOpen&&he(),be.query!==$e.query){var q=D.value.core.environment.document.querySelectorAll(".aa-Panel--scrollable");q.forEach(function(ee){ee.scrollTop!==0&&(ee.scrollTop=0)})}we({state:be})},function(){C.current=void 0}}),t(function(){var we=S1(function(){var Se=F.value;F.value=D.value.core.environment.matchMedia(D.value.renderer.detachedMediaQuery).matches,Se!==F.value?fe({}):requestAnimationFrame(he)},20);return D.value.core.environment.addEventListener("resize",we),function(){D.value.core.environment.removeEventListener("resize",we)}}),t(function(){if(!F.value)return function(){};function we(q){ne.value.detachedContainer.classList.toggle("aa-DetachedContainer--modal",q)}function Se(q){we(q.matches)}var be=D.value.core.environment.matchMedia(getComputedStyle(D.value.core.environment.document.documentElement).getPropertyValue("--aa-detached-modal-media-query"));we(be.matches);var $e=Boolean(be.addEventListener);return $e?be.addEventListener("change",Se):be.addListener(Se),function(){$e?be.removeEventListener("change",Se):be.removeListener(Se)}}),t(function(){return requestAnimationFrame(he),function(){}});function ge(){DTe--,n()}function fe(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n();var Se=D.value.renderer,be=Se.components,$e=zxt(Se,Bxt);w.current=Yj($e,D.value.core,{components:eSe(be,function(q){var ee=q.value;return!ee.hasOwnProperty("__autocomplete_componentName")}),initialState:Y.current},we),h(),i(),z.value.refresh().then(function(){_(Y.current)})}function me(we){var Se=D.value.core.environment.document.body.contains(ne.value.detachedOverlay);we!==Se&&(we?(D.value.core.environment.document.body.appendChild(ne.value.detachedOverlay),D.value.core.environment.document.body.classList.add("aa-Detached"),ne.value.input.focus()):(D.value.core.environment.document.body.removeChild(ne.value.detachedOverlay),D.value.core.environment.document.body.classList.remove("aa-Detached")))}return DTe++,s0(s0({},re),{},{update:fe,destroy:ge})}var Bxt,DTe,MTe=ze(()=>{Nwe();Ef();jwe();mSe();vSe();bSe();_Te();STe();CTe();m9();P1();Bxt=["components"];DTe=0});function Kk(r){return Kk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kk(r)}function LTe(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function PTe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LTe(Object(t),!0).forEach(function(n){Wxt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):LTe(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Wxt(r,e,t){return e=Vxt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Vxt(r){var e=$xt(r,"string");return Kk(e)==="symbol"?e:String(e)}function $xt(r,e){if(Kk(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Kk(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var RTe,FTe=ze(()=>{q1();m9();RTe=KSe(function(r){return tTe(PTe(PTe({},r),{},{userAgents:HL}))},"algolia")});var qTe=ze(()=>{});var rZt,NTe=ze(()=>{FTe();rZt=RTe({transformResponse:function(e){return e.hits}})});var BTe=ze(()=>{qTe();NTe()});var zTe=ze(()=>{});var UTe=ze(()=>{});var jTe=ze(()=>{Rj();zTe();UTe()});var HTe=ze(()=>{MTe();BTe();jTe()});var WL,g9=ze(()=>{WL=(r,e)=>{let t;return(...n)=>(t&&clearTimeout(t),new Promise(i=>{t=setTimeout(()=>i(r(...n)),e)}))}});var WTe,v9,VTe,Yk,$Te=ze(()=>{WTe=la(f4());bo();G4();HTe();v9=la(Cj()),VTe=la(Y_());g9();Yk=class extends nn{constructor(){super(...arguments);Wr(this,"debouncedFetch",WL(fetch,this.searchDebounce));Wr(this,"destroyMethod")}get dataset(){return this.autocompleteTarget.dataset}get searchDebounce(){return window.Avo.configuration.search_debounce}get translationKeys(){let e;try{e=JSON.parse(this.dataset.translationKeys)}catch(t){e={}}return e}get isBelongsToSearch(){return this.dataset.viaAssociation==="belongs_to"}get isHasManySearch(){return this.dataset.viaAssociation==="has_many"}get isGlobalSearch(){return this.dataset.searchResource==="global"}connect(){let e=this;this.buttonTarget.onclick=()=>this.showSearchPanel(),this.clearValueTargets.forEach(n=>{n.getAttribute("value")&&this.hasClearButtonTarget&&this.clearButtonTarget.classList.remove("hidden")}),this.isGlobalSearch&&WTe.bind(["command+k","ctrl+k"],()=>this.showSearchPanel()),this.autocompleteTarget.innerHTML="";let{destroy:t}=ITe({container:this.autocompleteTarget,placeholder:this.translationKeys.placeholder,translations:{detachedCancelButtonText:this.translationKeys.cancel_button},autoFocus:!0,openOnFocus:!0,detachedMediaQuery:"",getSources:({query:n})=>{document.body.classList.add("search-loading");let i=e.searchUrl(n);return e.debouncedFetch(i).then(a=>(document.body.classList.remove("search-loading"),a.json())).then(a=>Object.keys(a).map(l=>e.addSource(l,a[l])))}});this.destroyMethod=t,this.buttonTarget.dataset.shouldBeDisabled!=="true"&&this.buttonTarget.removeAttribute("disabled")}disconnect(){this.destroyMethod&&(this.destroyMethod(),this.destroyMethod=null)}addSource(e,t){let n=this;return{sourceId:e,getItems:()=>t.results,onSelect:n.handleOnSelect.bind(n),templates:{header(){return`${t.header.toUpperCase()} ${t.help}`},item({item:i,createElement:a}){let l=[];if(i._avatar){let w;switch(i._avatar_type){default:case"circle":w="rounded-full";break;case"rounded":w="rounded";break;case"square":w="rounded-none";break}l.push(a("img",{src:i._avatar,alt:i._label,class:`flex-shrink-0 w-8 h-8 my-[2px] inline mr-2 ${w}`}))}let h=(0,v9.sanitize)(i._label),g=[a("div",{dangerouslySetInnerHTML:{__html:h}},h)];if(i._description){let w=(0,v9.sanitize)(i._description);g.push(a("div",{class:"aa-ItemDescription",dangerouslySetInnerHTML:{__html:w}},w))}return l.push(a("div",null,g)),a("div",{class:"flex"},l)},noResults(){return n.translationKeys.no_item_found.replace("%{item}",e)}}}}handleOnSelect({item:e}){this.isBelongsToSearch?(this.updateFieldAttribute(this.hiddenIdTarget,"value",e._id),this.updateFieldAttribute(this.buttonTarget,"value",this.removeHTMLTags(e._label)),document.querySelector(".aa-DetachedOverlay").remove(),this.hasClearButtonTarget&&this.clearButtonTarget.classList.remove("hidden")):Mb.visit(e._url,{action:"advance"}),document.body.classList.remove("aa-Detached")}searchUrl(e){return(0,VTe.default)().segment([window.Avo.configuration.root_path,...this.searchSegments()]).search(this.searchParams(encodeURIComponent(e))).readable().toString()}searchSegments(){let e=["avo_api",this.dataset.searchResource,"search"];return this.isGlobalSearch&&(e=["avo_api","search"]),e}searchParams(e){let t=cg(id({},Object.fromEntries(new URLSearchParams(window.location.search))),{q:e,global:!1});return this.isGlobalSearch&&(t.global=!0),(this.isBelongsToSearch||this.isHasManySearch)&&(t=this.addAssociationParams(t),t=this.addReflectionParams(t),this.isBelongsToSearch&&(t=cg(id({},t),{via_parent_resource_id:this.dataset.viaParentResourceId,via_parent_resource_class:this.dataset.viaParentResourceClass,via_relation:this.dataset.viaRelation}))),t}addAssociationParams(e){return e=cg(id({},e),{via_association:this.dataset.viaAssociation,via_association_id:this.dataset.viaAssociationId}),e}addReflectionParams(e){return e=cg(id({},e),{via_reflection_class:this.dataset.viaReflectionClass,via_reflection_id:this.dataset.viaReflectionId,via_reflection_view:this.dataset.viaReflectionView}),e}showSearchPanel(){this.autocompleteTarget.querySelector("button").click()}clearValue(){this.clearValueTargets.map(e=>this.updateFieldAttribute(e,"value","")),this.clearButtonTarget.classList.add("hidden")}updateFieldAttribute(e,t,n){e.setAttribute(t,n),e.dispatchEvent(new Event("input"))}removeHTMLTags(e){return new DOMParser().parseFromString(e,"text/html").body.textContent||""}};Wr(Yk,"targets",["autocomplete","button","hiddenId","visibleLabel","clearValue","clearButton"])});var GTe,Zk,KTe=ze(()=>{bo();GTe=la(Y_()),Zk=class extends nn{get parentTurboFrame(){return this.context.scope.element.closest("turbo-frame")}onChange(r){if(!this.parentTurboFrame.src)return;let e=new GTe.default(this.parentTurboFrame.src);e.search(cg(id({},e.query(!0)),{range:r.currentTarget.value})),this.parentTurboFrame.src=e.toString(),this.parentTurboFrame.reload()}};Wr(Zk,"targets",["select"])});var Xk,YTe=ze(()=>{Z_();Xk=class extends Ah{getFilterValue(){return this.selectorTarget.value===""?null:this.selectorTarget.value}getFilterClass(){let{filterClass:r}=this.selectorTarget.dataset;return r}};Wr(Xk,"targets",["selector"])});var VL,ZTe=ze(()=>{bo();VL=class extends nn{destroy(){this.context.element.remove()}}});async function x9(r,e=null){r.classList.remove("hidden"),await XTe("enter",r,e)}async function B1(r,e=null){await XTe("leave",r,e),r.classList.add("hidden")}async function $L(r,e=null){r.classList.contains("hidden")?await x9(r,e):await B1(r,e)}async function XTe(r,e,t){let n=e.dataset,i=t?`${t}-${r}`:r,a=`transition${r.charAt(0).toUpperCase()+r.slice(1)}`,l=n[a]?n[a].split(" "):[i],h=n[`${a}Start`]?n[`${a}Start`].split(" "):[`${i}-start`],g=n[`${a}End`]?n[`${a}End`].split(" "):[`${i}-end`];y9(e,l),y9(e,h),await Gxt(),b9(e,h),y9(e,g),await Kxt(e),b9(e,g),b9(e,l)}function y9(r,e){r.classList.add(...e)}function b9(r,e){r.classList.remove(...e)}function Gxt(){return new Promise(r=>{requestAnimationFrame(()=>{requestAnimationFrame(r)})})}function Kxt(r){return new Promise(e=>{let t=getComputedStyle(r).transitionDuration.split(",")[0],n=Number(t.replace("s",""))*1e3;setTimeout(()=>{e()},n)})}var _9=ze(()=>{});function GL(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)r[n]=t[n]}return r}function w9(r,e){function t(i,a,l){if(!(typeof document>"u")){l=GL({},e,l),typeof l.expires=="number"&&(l.expires=new Date(Date.now()+l.expires*864e5)),l.expires&&(l.expires=l.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var h="";for(var g in l)!l[g]||(h+="; "+g,l[g]!==!0&&(h+="="+l[g].split(";")[0]));return document.cookie=i+"="+r.write(a,i)+h}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var a=document.cookie?document.cookie.split("; "):[],l={},h=0;h<a.length;h++){var g=a[h].split("="),w=g.slice(1).join("=");try{var C=decodeURIComponent(g[0]);if(l[C]=r.read(w,C),i===C)break}catch{}}return i?l[i]:l}}return Object.create({set:t,get:n,remove:function(i,a){t(i,"",GL({},a,{expires:-1}))},withAttributes:function(i){return w9(this.converter,GL({},this.attributes,i))},withConverter:function(i){return w9(GL({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(r)}})}var Yxt,Jk,JTe=ze(()=>{Yxt={read:function(r){return r[0]==='"'&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};Jk=w9(Yxt,{path:"/"})});function Zxt(r,e){let t=r.getBoundingClientRect(),n=document.documentElement,i=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(i.height||window.innerHeight||n.clientHeight)&&t.right<=(i.width||window.innerWidth||n.clientWidth)}function Xxt(){let r=document.querySelector(".avo-sidebar .mac-styled-scrollbar a.active"),e=document.querySelector(".avo-sidebar .mac-styled-scrollbar");Zxt(r,e)||r.scrollIntoView({block:"end",inline:"nearest"})}var z1,QTe=ze(()=>{bo();_9();JTe();z1=class extends nn{get cookieKey(){return`${window.Avo.configuration.cookies_key}.sidebar.open`}get sidebarOpen(){return Jk.get(this.cookieKey)==="1"}get sidebarScrollPosition(){return window.Avo.localStorage.get("sidebar.sidebarScrollPosition")}set sidebarScrollPosition(r){window.Avo.localStorage.set("sidebar.sidebarScrollPosition",r)}set cookie(r){Jk.set(this.cookieKey,r===!0?1:0)}connect(){this.attachScrollVisibilityAnchor(),this.sidebarScrollPosition&&window.Avo.configuration.preserve_sidebar_scroll&&document.querySelector(".avo-sidebar .mac-styled-scrollbar").scrollTo({top:this.sidebarScrollPosition,behavior:"instant"}),this.rememberScrollPosition()}rememberScrollPosition(){let r;document.addEventListener("turbo:visit",r=()=>{this.sidebarScrollPosition=document.querySelector(".avo-sidebar .mac-styled-scrollbar").scrollTop,document.removeEventListener("turbo:visit",r)})}attachScrollVisibilityAnchor(){window.Avo.configuration.focus_sidebar_menu_item&&Xxt()}markSidebarClosed(){Jk.set(this.cookieKey,"0"),this.openValue=!1,B1(this.sidebarTarget),this.mainAreaTarget.classList.remove("sidebar-open")}markSidebarOpen(){Jk.set(this.cookieKey,"1"),this.openValue=!0,x9(this.sidebarTarget),this.mainAreaTarget.classList.add("sidebar-open")}toggleSidebar(){this.openValue?this.markSidebarClosed():this.markSidebarOpen()}toggleSidebarOnMobile(){$L(this.mobileSidebarTarget)}};Wr(z1,"targets",["sidebar","mobileSidebar","mainArea"]),Wr(z1,"values",{open:Boolean})});var U1,eEe=ze(()=>{bo();U1=class extends nn{connect(){this.selectCurrentTab()}selectCurrentTab(){let r={};Array.from(new URL(window.location).searchParams.entries()).forEach(([i,a])=>{r[i]=a});let e=`resources.${this.resourceNameValue}.tabgroups.${this.groupIdValue}.selectedTab`,t=window.Avo.localStorage.get(e),n=null;r[this.groupParam(this.groupIdValue)]?n=r[this.groupParam(this.groupIdValue)]:t&&(n=t),this.getTabByName(n)&&(this.hideAllTabs(),this.revealTabByName(n))}getTabByName(r){return this.tabPanelTargets.find(e=>e.dataset.tabId===r)}groupParam(r){return encodeURIComponent(`tab-group_${r}`)}changeTab(r){return z0(this,null,function*(){r.preventDefault();let{params:e}=r,{groupId:t,tabName:n,resourceName:i}=e,a=`resources.${i}.tabgroups.${t}.selectedTab`,l=new URL(window.location);l.searchParams.set(this.groupParam(t),encodeURIComponent(n)),window.history.replaceState(null,"",l.pathname+l.search),window.Avo.localStorage.set(a,n),this.hideAllTabs(),this.revealTabByName(n)})}revealTabByName(r){this.getTabByName(r).classList.remove("hidden")}hideAllTabs(){this.tabPanelTargets.map(r=>r.classList.add("hidden"))}};Wr(U1,"targets",["tabPanel"]),Wr(U1,"values",{view:String,activeTab:String,groupId:String,resourceName:String})});var tEe=de((j1,Qk)=>{(function(){var r,e="4.17.21",t=200,n="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",h=500,g="__lodash_placeholder__",w=1,C=2,D=4,F=1,z=2,Y=1,$=2,re=4,oe=8,ne=16,he=32,_=64,ge=128,fe=256,me=512,we=30,Se="...",be=800,$e=16,q=1,ee=2,R=3,j=1/0,G=9007199254740991,V=17976931348623157e292,te=0/0,_e=4294967295,K=_e-1,U=_e>>>1,Ue=[["ary",ge],["bind",Y],["bindKey",$],["curry",oe],["curryRight",ne],["flip",me],["partial",he],["partialRight",_],["rearg",fe]],Je="[object Arguments]",Qe="[object Array]",Ct="[object AsyncFunction]",Tt="[object Boolean]",Ht="[object Date]",Rt="[object DOMException]",Yt="[object Error]",cr="[object Function]",Tr="[object GeneratorFunction]",ir="[object Map]",At="[object Number]",kt="[object Null]",rt="[object Object]",ce="[object Promise]",Te="[object Proxy]",Ne="[object RegExp]",Wt="[object Set]",ft="[object String]",qt="[object Symbol]",Nt="[object Undefined]",vr="[object WeakMap]",_r="[object WeakSet]",Dr="[object ArrayBuffer]",kr="[object DataView]",et="[object Float32Array]",pt="[object Float64Array]",er="[object Int8Array]",Lr="[object Int16Array]",ki="[object Int32Array]",zr="[object Uint8Array]",$n="[object Uint8ClampedArray]",Dt="[object Uint16Array]",Et="[object Uint32Array]",Er=/\b__p \+= '';/g,on=/\b(__p \+=) '' \+/g,Vr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yn=/&(?:amp|lt|gt|quot|#39);/g,Rn=/[&<>"']/g,mi=RegExp(yn.source),fo=RegExp(Rn.source),gi=/<%-([\s\S]+?)%>/g,Xe=/<%([\s\S]+?)%>/g,st=/<%=([\s\S]+?)%>/g,Mt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nr=/^\w*$/,Pr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qr=/[\\^$.*+?()[\]{}|]/g,Nn=RegExp(qr.source),Nr=/^\s+/,Fn=/\s/,Fr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,mn=/\{\n\/\* \[wrapped with (.+)\] \*/,bn=/,? & /,vi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ri=/[()=,{}\[\]\/\s]/,La=/\\(\\)?/g,li=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ke=/\w*$/,Ie=/^[-+]0x[0-9a-f]+$/i,Fe=/^0b[01]+$/i,Ye=/^\[object .+?Constructor\]$/,ot=/^0o[0-7]+$/i,yt=/^(?:0|[1-9]\d*)$/,mt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qe=/($^)/,Ke=/['\n\r\u2028\u2029\\]/g,Ot="\\ud800-\\udfff",lr="\\u0300-\\u036f",jt="\\ufe20-\\ufe2f",Bt="\\u20d0-\\u20ff",hr=lr+jt+Bt,Ae="\\u2700-\\u27bf",je="a-z\\xdf-\\xf6\\xf8-\\xff",Pe="\\xac\\xb1\\xd7\\xf7",se="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ie="\\u2000-\\u206f",ye=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ge="A-Z\\xc0-\\xd6\\xd8-\\xde",dt="\\ufe0e\\ufe0f",Gt=Pe+se+ie+ye,tr="['\u2019]",Or="["+Ot+"]",Ur="["+Gt+"]",fr="["+hr+"]",En="\\d+",Dn="["+Ae+"]",an="["+je+"]",Qr="[^"+Ot+Gt+En+Ae+je+Ge+"]",sn="\\ud83c[\\udffb-\\udfff]",Xn="(?:"+fr+"|"+sn+")",zo="[^"+Ot+"]",As="(?:\\ud83c[\\udde6-\\uddff]){2}",ei="[\\ud800-\\udbff][\\udc00-\\udfff]",Ci="["+Ge+"]",ya="\\u200d",ql="(?:"+an+"|"+Qr+")",Gi="(?:"+Ci+"|"+Qr+")",Bs="(?:"+tr+"(?:d|ll|m|re|s|t|ve))?",ho="(?:"+tr+"(?:D|LL|M|RE|S|T|VE))?",Ki=Xn+"?",Do="["+dt+"]?",ii="(?:"+ya+"(?:"+[zo,As,ei].join("|")+")"+Do+Ki+")*",Pa="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ua="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ku=Do+Ki+ii,ro="(?:"+[Dn,As,ei].join("|")+")"+ku,Qc="(?:"+[zo+fr+"?",fr,As,ei,Or].join("|")+")",ba=RegExp(tr,"g"),Oo=RegExp(fr,"g"),ts=RegExp(sn+"(?="+sn+")|"+Qc+ku,"g"),Ai=RegExp([Ci+"?"+an+"+"+Bs+"(?="+[Ur,Ci,"$"].join("|")+")",Gi+"+"+ho+"(?="+[Ur,Ci+ql,"$"].join("|")+")",Ci+"?"+ql+"+"+Bs,Ci+"+"+ho,Ua,Pa,En,ro].join("|"),"g"),gn=RegExp("["+ya+Ot+hr+dt+"]"),Vt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],un=-1,Cn={};Cn[et]=Cn[pt]=Cn[er]=Cn[Lr]=Cn[ki]=Cn[zr]=Cn[$n]=Cn[Dt]=Cn[Et]=!0,Cn[Je]=Cn[Qe]=Cn[Dr]=Cn[Tt]=Cn[kr]=Cn[Ht]=Cn[Yt]=Cn[cr]=Cn[ir]=Cn[At]=Cn[rt]=Cn[Ne]=Cn[Wt]=Cn[ft]=Cn[vr]=!1;var Gn={};Gn[Je]=Gn[Qe]=Gn[Dr]=Gn[kr]=Gn[Tt]=Gn[Ht]=Gn[et]=Gn[pt]=Gn[er]=Gn[Lr]=Gn[ki]=Gn[ir]=Gn[At]=Gn[rt]=Gn[Ne]=Gn[Wt]=Gn[ft]=Gn[qt]=Gn[zr]=Gn[$n]=Gn[Dt]=Gn[Et]=!0,Gn[Yt]=Gn[cr]=Gn[vr]=!1;var Vo={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},xa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ps={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},no={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ja=parseFloat,ou=parseInt,rs=typeof global=="object"&&global&&global.Object===Object&&global,Bh=typeof self=="object"&&self&&self.Object===Object&&self,Ni=rs||Bh||Function("return this")(),Nl=typeof j1=="object"&&j1&&!j1.nodeType&&j1,_a=Nl&&typeof Qk=="object"&&Qk&&!Qk.nodeType&&Qk,Ds=_a&&_a.exports===Nl,Bl=Ds&&rs.process,po=function(){try{var Pt=_a&&_a.require&&_a.require("util").types;return Pt||Bl&&Bl.binding&&Bl.binding("util")}catch{}}(),ef=po&&po.isArrayBuffer,zs=po&&po.isDate,Uo=po&&po.isMap,kf=po&&po.isRegExp,wd=po&&po.isSet,hp=po&&po.isTypedArray;function au(Pt,gr,sr){switch(sr.length){case 0:return Pt.call(gr);case 1:return Pt.call(gr,sr[0]);case 2:return Pt.call(gr,sr[0],sr[1]);case 3:return Pt.call(gr,sr[0],sr[1],sr[2])}return Pt.apply(gr,sr)}function Sd(Pt,gr,sr,fn){for(var ti=-1,Yi=Pt==null?0:Pt.length;++ti<Yi;){var fa=Pt[ti];gr(fn,fa,sr(fa),Pt)}return fn}function cl(Pt,gr){for(var sr=-1,fn=Pt==null?0:Pt.length;++sr<fn&&gr(Pt[sr],sr,Pt)!==!1;);return Pt}function dp(Pt,gr){for(var sr=Pt==null?0:Pt.length;sr--&&gr(Pt[sr],sr,Pt)!==!1;);return Pt}function zh(Pt,gr){for(var sr=-1,fn=Pt==null?0:Pt.length;++sr<fn;)if(!gr(Pt[sr],sr,Pt))return!1;return!0}function Nc(Pt,gr){for(var sr=-1,fn=Pt==null?0:Pt.length,ti=0,Yi=[];++sr<fn;){var fa=Pt[sr];gr(fa,sr,Pt)&&(Yi[ti++]=fa)}return Yi}function Qf(Pt,gr){var sr=Pt==null?0:Pt.length;return!!sr&&zl(Pt,gr,0)>-1}function Cf(Pt,gr,sr){for(var fn=-1,ti=Pt==null?0:Pt.length;++fn<ti;)if(sr(gr,Pt[fn]))return!0;return!1}function io(Pt,gr){for(var sr=-1,fn=Pt==null?0:Pt.length,ti=Array(fn);++sr<fn;)ti[sr]=gr(Pt[sr],sr,Pt);return ti}function su(Pt,gr){for(var sr=-1,fn=gr.length,ti=Pt.length;++sr<fn;)Pt[ti+sr]=gr[sr];return Pt}function Af(Pt,gr,sr,fn){var ti=-1,Yi=Pt==null?0:Pt.length;for(fn&&Yi&&(sr=Pt[++ti]);++ti<Yi;)sr=gr(sr,Pt[ti],ti,Pt);return sr}function wa(Pt,gr,sr,fn){var ti=Pt==null?0:Pt.length;for(fn&&ti&&(sr=Pt[--ti]);ti--;)sr=gr(sr,Pt[ti],ti,Pt);return sr}function Bc(Pt,gr){for(var sr=-1,fn=Pt==null?0:Pt.length;++sr<fn;)if(gr(Pt[sr],sr,Pt))return!0;return!1}var ta=Td("length");function tf(Pt){return Pt.split("")}function Cu(Pt){return Pt.match(vi)||[]}function wo(Pt,gr,sr){var fn;return sr(Pt,function(ti,Yi,fa){if(gr(ti,Yi,fa))return fn=Yi,!1}),fn}function Xu(Pt,gr,sr,fn){for(var ti=Pt.length,Yi=sr+(fn?1:-1);fn?Yi--:++Yi<ti;)if(gr(Pt[Yi],Yi,Pt))return Yi;return-1}function zl(Pt,gr,sr){return gr===gr?pp(Pt,gr,sr):Xu(Pt,Qu,sr)}function Ju(Pt,gr,sr,fn){for(var ti=sr-1,Yi=Pt.length;++ti<Yi;)if(fn(Pt[ti],gr))return ti;return-1}function Qu(Pt){return Pt!==Pt}function Uh(Pt,gr){var sr=Pt==null?0:Pt.length;return sr?kd(Pt,gr)/sr:te}function Td(Pt){return function(gr){return gr==null?r:gr[Pt]}}function Ui(Pt){return function(gr){return Pt==null?r:Pt[gr]}}function Ed(Pt,gr,sr,fn,ti){return ti(Pt,function(Yi,fa,oo){sr=fn?(fn=!1,Yi):gr(sr,Yi,fa,oo)}),sr}function jh(Pt,gr){var sr=Pt.length;for(Pt.sort(gr);sr--;)Pt[sr]=Pt[sr].value;return Pt}function kd(Pt,gr){for(var sr,fn=-1,ti=Pt.length;++fn<ti;){var Yi=gr(Pt[fn]);Yi!==r&&(sr=sr===r?Yi:sr+Yi)}return sr}function zc(Pt,gr){for(var sr=-1,fn=Array(Pt);++sr<Pt;)fn[sr]=gr(sr);return fn}function ec(Pt,gr){return io(gr,function(sr){return[sr,Pt[sr]]})}function eh(Pt){return Pt&&Pt.slice(0,nc(Pt)+1).replace(Nr,"")}function ra(Pt){return function(gr){return Pt(gr)}}function ms(Pt,gr){return io(gr,function(sr){return Pt[sr]})}function Sa(Pt,gr){return Pt.has(gr)}function tc(Pt,gr){for(var sr=-1,fn=Pt.length;++sr<fn&&zl(gr,Pt[sr],0)>-1;);return sr}function th(Pt,gr){for(var sr=Pt.length;sr--&&zl(gr,Pt[sr],0)>-1;);return sr}function Au(Pt,gr){for(var sr=Pt.length,fn=0;sr--;)Pt[sr]===gr&&++fn;return fn}var Ul=Ui(Vo),Cd=Ui(xa);function rf(Pt){return"\\"+no[Pt]}function bc(Pt,gr){return Pt==null?r:Pt[gr]}function Du(Pt){return gn.test(Pt)}function fl(Pt){return Vt.test(Pt)}function mo(Pt){for(var gr,sr=[];!(gr=Pt.next()).done;)sr.push(gr.value);return sr}function Ou(Pt){var gr=-1,sr=Array(Pt.size);return Pt.forEach(function(fn,ti){sr[++gr]=[ti,fn]}),sr}function rc(Pt,gr){return function(sr){return Pt(gr(sr))}}function jl(Pt,gr){for(var sr=-1,fn=Pt.length,ti=0,Yi=[];++sr<fn;){var fa=Pt[sr];(fa===gr||fa===g)&&(Pt[sr]=g,Yi[ti++]=sr)}return Yi}function rh(Pt){var gr=-1,sr=Array(Pt.size);return Pt.forEach(function(fn){sr[++gr]=fn}),sr}function nm(Pt){var gr=-1,sr=Array(Pt.size);return Pt.forEach(function(fn){sr[++gr]=[fn,fn]}),sr}function pp(Pt,gr,sr){for(var fn=sr-1,ti=Pt.length;++fn<ti;)if(Pt[fn]===gr)return fn;return-1}function nf(Pt,gr,sr){for(var fn=sr+1;fn--;)if(Pt[fn]===gr)return fn;return fn}function lu(Pt){return Du(Pt)?of(Pt):ta(Pt)}function Us(Pt){return Du(Pt)?nh(Pt):tf(Pt)}function nc(Pt){for(var gr=Pt.length;gr--&&Fn.test(Pt.charAt(gr)););return gr}var Uc=Ui(ps);function of(Pt){for(var gr=ts.lastIndex=0;ts.test(Pt);)++gr;return gr}function nh(Pt){return Pt.match(ts)||[]}function gs(Pt){return Pt.match(Ai)||[]}var uu=function Pt(gr){gr=gr==null?Ni:Hl.defaults(Ni.Object(),gr,Hl.pick(Ni,jr));var sr=gr.Array,fn=gr.Date,ti=gr.Error,Yi=gr.Function,fa=gr.Math,oo=gr.Object,ic=gr.RegExp,af=gr.String,Ha=gr.TypeError,Iu=sr.prototype,xc=Yi.prototype,Mu=oo.prototype,Wl=gr["__core-js_shared__"],cu=xc.toString,Jn=Mu.hasOwnProperty,hl=0,Wa=function(){var S=/[^.]+$/.exec(Wl&&Wl.keys&&Wl.keys.IE_PROTO||"");return S?"Symbol(src)_1."+S:""}(),ri=Mu.toString,oc=cu.call(oo),dl=Ni._,pl=ic("^"+cu.call(Jn).replace(qr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ui=Ds?gr.Buffer:r,Mi=gr.Symbol,Ta=gr.Uint8Array,Df=ui?ui.allocUnsafe:r,fu=rc(oo.getPrototypeOf,oo),_c=oo.create,Ad=Mu.propertyIsEnumerable,sf=Iu.splice,Lu=Mi?Mi.isConcatSpreadable:r,Vl=Mi?Mi.iterator:r,Os=Mi?Mi.toStringTag:r,go=function(){try{var S=fc(oo,"defineProperty");return S({},"",{}),S}catch{}}(),lf=gr.clearTimeout!==Ni.clearTimeout&&gr.clearTimeout,mp=fn&&fn.now!==Ni.Date.now&&fn.now,na=gr.setTimeout!==Ni.setTimeout&&gr.setTimeout,Zr=fa.ceil,vs=fa.floor,ac=oo.getOwnPropertySymbols,Pu=ui?ui.isBuffer:r,$l=gr.isFinite,Ra=Iu.join,uf=rc(oo.keys,oo),wr=fa.max,Fa=fa.min,sc=fn.now,lc=gr.parseInt,ns=fa.random,ha=Iu.reverse,ml=fc(gr,"DataView"),gl=fc(gr,"Map"),Va=fc(gr,"Promise"),is=fc(gr,"Set"),Of=fc(gr,"WeakMap"),Ys=fc(oo,"create"),hu=Of&&new Of,cf={},js=fi(ml),ys=fi(gl),ci=fi(Va),wc=fi(is),Ru=fi(Of),Zi=Mi?Mi.prototype:r,Io=Zi?Zi.valueOf:r,da=Zi?Zi.toString:r;function Be(S){if(sa(S)&&!Wn(S)&&!(S instanceof Sr)){if(S instanceof Rr)return S;if(Jn.call(S,"__wrapped__"))return Bi(S)}return new Rr(S)}var yi=function(){function S(){}return function(O){if(!Co(O))return{};if(_c)return _c(O);S.prototype=O;var W=new S;return S.prototype=r,W}}();function Ea(){}function Rr(S,O){this.__wrapped__=S,this.__actions__=[],this.__chain__=!!O,this.__index__=0,this.__values__=r}Be.templateSettings={escape:gi,evaluate:Xe,interpolate:st,variable:"",imports:{_:Be}},Be.prototype=Ea.prototype,Be.prototype.constructor=Be,Rr.prototype=yi(Ea.prototype),Rr.prototype.constructor=Rr;function Sr(S){this.__wrapped__=S,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_e,this.__views__=[]}function Dd(){var S=new Sr(this.__wrapped__);return S.__actions__=Ka(this.__actions__),S.__dir__=this.__dir__,S.__filtered__=this.__filtered__,S.__iteratees__=Ka(this.__iteratees__),S.__takeCount__=this.__takeCount__,S.__views__=Ka(this.__views__),S}function bs(){if(this.__filtered__){var S=new Sr(this);S.__dir__=-1,S.__filtered__=!0}else S=this.clone(),S.__dir__*=-1;return S}function du(){var S=this.__wrapped__.value(),O=this.__dir__,W=Wn(S),pe=O<0,Me=W?S.length:0,tt=lm(0,Me,this.__views__),_t=tt.start,It=tt.end,Xt=It-_t,Ir=pe?It:_t-1,Mr=this.__iteratees__,Br=Mr.length,Sn=0,Kn=Fa(Xt,this.__takeCount__);if(!W||!pe&&Me==Xt&&Kn==Xt)return vp(S,this.__actions__);var wi=[];e:for(;Xt--&&Sn<Kn;){Ir+=O;for(var vo=-1,Si=S[Ir];++vo<Br;){var Ro=Mr[vo],Zo=Ro.iteratee,rd=Ro.type,jf=Zo(Si);if(rd==ee)Si=jf;else if(!jf){if(rd==q)continue e;break e}}wi[Sn++]=Si}return wi}Sr.prototype=yi(Ea.prototype),Sr.prototype.constructor=Sr;function ia(S){var O=-1,W=S==null?0:S.length;for(this.clear();++O<W;){var pe=S[O];this.set(pe[0],pe[1])}}function Fu(){this.__data__=Ys?Ys(null):{},this.size=0}function Hh(S){var O=this.has(S)&&delete this.__data__[S];return this.size-=O?1:0,O}function If(S){var O=this.__data__;if(Ys){var W=O[S];return W===l?r:W}return Jn.call(O,S)?O[S]:r}function Li(S){var O=this.__data__;return Ys?O[S]!==r:Jn.call(O,S)}function os(S,O){var W=this.__data__;return this.size+=this.has(S)?0:1,W[S]=Ys&&O===r?l:O,this}ia.prototype.clear=Fu,ia.prototype.delete=Hh,ia.prototype.get=If,ia.prototype.has=Li,ia.prototype.set=os;function pu(S){var O=-1,W=S==null?0:S.length;for(this.clear();++O<W;){var pe=S[O];this.set(pe[0],pe[1])}}function uc(){this.__data__=[],this.size=0}function Wh(S){var O=this.__data__,W=P(O,S);if(W<0)return!1;var pe=O.length-1;return W==pe?O.pop():sf.call(O,W,1),--this.size,!0}function Gl(S){var O=this.__data__,W=P(O,S);return W<0?r:O[W][1]}function Zs(S){return P(this.__data__,S)>-1}function Sc(S,O){var W=this.__data__,pe=P(W,S);return pe<0?(++this.size,W.push([S,O])):W[pe][1]=O,this}pu.prototype.clear=uc,pu.prototype.delete=Wh,pu.prototype.get=Gl,pu.prototype.has=Zs,pu.prototype.set=Sc;function Xi(S){var O=-1,W=S==null?0:S.length;for(this.clear();++O<W;){var pe=S[O];this.set(pe[0],pe[1])}}function Vh(){this.size=0,this.__data__={hash:new ia,map:new(gl||pu),string:new ia}}function jc(S){var O=ws(this,S).delete(S);return this.size-=O?1:0,O}function Kl(S){return ws(this,S).get(S)}function Xs(S){return ws(this,S).has(S)}function Fi(S,O){var W=ws(this,S),pe=W.size;return W.set(S,O),this.size+=W.size==pe?0:1,this}Xi.prototype.clear=Vh,Xi.prototype.delete=jc,Xi.prototype.get=Kl,Xi.prototype.has=Xs,Xi.prototype.set=Fi;function pa(S){var O=-1,W=S==null?0:S.length;for(this.__data__=new Xi;++O<W;)this.add(S[O])}function qa(S){return this.__data__.set(S,l),this}function oi(S){return this.__data__.has(S)}pa.prototype.add=pa.prototype.push=qa,pa.prototype.has=oi;function Mo(S){var O=this.__data__=new pu(S);this.size=O.size}function mu(){this.__data__=new pu,this.size=0}function Js(S){var O=this.__data__,W=O.delete(S);return this.size=O.size,W}function gu(S){return this.__data__.get(S)}function Mf(S){return this.__data__.has(S)}function Tc(S,O){var W=this.__data__;if(W instanceof pu){var pe=W.__data__;if(!gl||pe.length<t-1)return pe.push([S,O]),this.size=++W.size,this;W=this.__data__=new Xi(pe)}return W.set(S,O),this.size=W.size,this}Mo.prototype.clear=mu,Mo.prototype.delete=Js,Mo.prototype.get=gu,Mo.prototype.has=Mf,Mo.prototype.set=Tc;function $h(S,O){var W=Wn(S),pe=!W&&Ba(S),Me=!W&&!pe&&si(S),tt=!W&&!pe&&!Me&&Bd(S),_t=W||pe||Me||tt,It=_t?zc(S.length,af):[],Xt=It.length;for(var Ir in S)(O||Jn.call(S,Ir))&&!(_t&&(Ir=="length"||Me&&(Ir=="offset"||Ir=="parent")||tt&&(Ir=="buffer"||Ir=="byteLength"||Ir=="byteOffset")||T(Ir,Xt)))&&It.push(Ir);return It}function Hc(S){var O=S.length;return O?S[Is(0,O-1)]:r}function m(S,O){return so(Ka(S),He(O,0,S.length))}function x(S){return so(Ka(S))}function y(S,O,W){(W!==r&&!uo(S[O],W)||W===r&&!(O in S))&&xe(S,O,W)}function k(S,O,W){var pe=S[O];(!(Jn.call(S,O)&&uo(pe,W))||W===r&&!(O in S))&&xe(S,O,W)}function P(S,O){for(var W=S.length;W--;)if(uo(S[W][0],O))return W;return-1}function H(S,O,W,pe){return nt(S,function(Me,tt,_t){O(pe,Me,W(Me),_t)}),pe}function X(S,O){return S&&xu(O,rl(O),S)}function ae(S,O){return S&&xu(O,dc(O),S)}function xe(S,O,W){O=="__proto__"&&go?go(S,O,{configurable:!0,enumerable:!0,value:W,writable:!0}):S[O]=W}function Oe(S,O){for(var W=-1,pe=O.length,Me=sr(pe),tt=S==null;++W<pe;)Me[W]=tt?r:zd(S,O[W]);return Me}function He(S,O,W){return S===S&&(W!==r&&(S=S<=W?S:W),O!==r&&(S=S>=O?S:O)),S}function We(S,O,W,pe,Me,tt){var _t,It=O&w,Xt=O&C,Ir=O&D;if(W&&(_t=Me?W(S,pe,Me,tt):W(S)),_t!==r)return _t;if(!Co(S))return S;var Mr=Wn(S);if(Mr){if(_t=A(S),!It)return Ka(S,_t)}else{var Br=Hi(S),Sn=Br==cr||Br==Tr;if(si(S))return Hm(S,It);if(Br==rt||Br==Je||Sn&&!Me){if(_t=Xt||Sn?{}:o(S),!It)return Xt?hf(S,ae(_t,S)):am(S,X(_t,S))}else{if(!Gn[Br])return Me?S:{};_t=u(S,Br,It)}}tt||(tt=new Mo);var Kn=tt.get(S);if(Kn)return Kn;tt.set(S,_t),Fy(S)?S.forEach(function(Si){_t.add(We(Si,O,W,Si,S,tt))}):hs(S)&&S.forEach(function(Si,Ro){_t.set(Ro,We(Si,O,W,Ro,S,tt))});var wi=Ir?Xt?Ep:hh:Xt?dc:rl,vo=Mr?r:wi(S);return cl(vo||S,function(Si,Ro){vo&&(Ro=Si,Si=S[Ro]),k(_t,Ro,We(Si,O,W,Ro,S,tt))}),_t}function Ze(S){var O=rl(S);return function(W){return ht(W,S,O)}}function ht(S,O,W){var pe=W.length;if(S==null)return!pe;for(S=oo(S);pe--;){var Me=W[pe],tt=O[Me],_t=S[Me];if(_t===r&&!(Me in S)||!tt(_t))return!1}return!0}function lt(S,O,W){if(typeof S!="function")throw new Ha(i);return _n(function(){S.apply(r,W)},O)}function vt(S,O,W,pe){var Me=-1,tt=Qf,_t=!0,It=S.length,Xt=[],Ir=O.length;if(!It)return Xt;W&&(O=io(O,ra(W))),pe?(tt=Cf,_t=!1):O.length>=t&&(tt=Sa,_t=!1,O=new pa(O));e:for(;++Me<It;){var Mr=S[Me],Br=W==null?Mr:W(Mr);if(Mr=pe||Mr!==0?Mr:0,_t&&Br===Br){for(var Sn=Ir;Sn--;)if(O[Sn]===Br)continue e;Xt.push(Mr)}else tt(O,Br,pe)||Xt.push(Mr)}return Xt}var nt=Vm(br),bt=Vm($r,!0);function St(S,O){var W=!0;return nt(S,function(pe,Me,tt){return W=!!O(pe,Me,tt),W}),W}function Ft(S,O,W){for(var pe=-1,Me=S.length;++pe<Me;){var tt=S[pe],_t=O(tt);if(_t!=null&&(It===r?_t===_t&&!Cl(_t):W(_t,It)))var It=_t,Xt=tt}return Xt}function rr(S,O,W,pe){var Me=S.length;for(W=Pi(W),W<0&&(W=-W>Me?0:Me+W),pe=pe===r||pe>Me?Me:Pi(pe),pe<0&&(pe+=Me),pe=W>pe?0:cv(pe);W<pe;)S[W++]=O;return S}function Jt(S,O){var W=[];return nt(S,function(pe,Me,tt){O(pe,Me,tt)&&W.push(pe)}),W}function Zt(S,O,W,pe,Me){var tt=-1,_t=S.length;for(W||(W=b),Me||(Me=[]);++tt<_t;){var It=S[tt];O>0&&W(It)?O>1?Zt(It,O-1,W,pe,Me):su(Me,It):pe||(Me[Me.length]=It)}return Me}var mr=Md(),yr=Md(!0);function br(S,O){return S&&mr(S,O,rl)}function $r(S,O){return S&&yr(S,O,rl)}function Gr(S,O){return Nc(O,function(W){return Xa(S[W])})}function hn(S,O){O=Ac(O,S);for(var W=0,pe=O.length;S!=null&&W<pe;)S=S[Pn(O[W++])];return W&&W==pe?S:r}function dn(S,O,W){var pe=O(S);return Wn(S)?pe:su(pe,W(S))}function Bn(S){return S==null?S===r?Nt:kt:Os&&Os in oo(S)?Ya(S):or(S)}function Kr(S,O){return S>O}function Mn(S,O){return S!=null&&Jn.call(S,O)}function Vn(S,O){return S!=null&&O in oo(S)}function On(S,O,W){return S>=Fa(O,W)&&S<wr(O,W)}function Ln(S,O,W){for(var pe=W?Cf:Qf,Me=S[0].length,tt=S.length,_t=tt,It=sr(tt),Xt=1/0,Ir=[];_t--;){var Mr=S[_t];_t&&O&&(Mr=io(Mr,ra(O))),Xt=Fa(Mr.length,Xt),It[_t]=!W&&(O||Me>=120&&Mr.length>=120)?new pa(_t&&Mr):r}Mr=S[0];var Br=-1,Sn=It[0];e:for(;++Br<Me&&Ir.length<Xt;){var Kn=Mr[Br],wi=O?O(Kn):Kn;if(Kn=W||Kn!==0?Kn:0,!(Sn?Sa(Sn,wi):pe(Ir,wi,W))){for(_t=tt;--_t;){var vo=It[_t];if(!(vo?Sa(vo,wi):pe(S[_t],wi,W)))continue e}Sn&&Sn.push(wi),Ir.push(Kn)}}return Ir}function Hn(S,O,W,pe){return br(S,function(Me,tt,_t){O(pe,W(Me),tt,_t)}),pe}function vn(S,O,W){O=Ac(O,S),S=ur(S,O);var pe=S==null?S:S[Pn(Bf(O))];return pe==null?r:au(pe,S,W)}function xn(S){return sa(S)&&Bn(S)==Je}function ka(S){return sa(S)&&Bn(S)==Dr}function So(S){return sa(S)&&Bn(S)==Ht}function Qo(S,O,W,pe,Me){return S===O?!0:S==null||O==null||!sa(S)&&!sa(O)?S!==S&&O!==O:as(S,O,W,pe,Qo,Me)}function as(S,O,W,pe,Me,tt){var _t=Wn(S),It=Wn(O),Xt=_t?Qe:Hi(S),Ir=It?Qe:Hi(O);Xt=Xt==Je?rt:Xt,Ir=Ir==Je?rt:Ir;var Mr=Xt==rt,Br=Ir==rt,Sn=Xt==Ir;if(Sn&&si(S)){if(!si(O))return!1;_t=!0,Mr=!1}if(Sn&&!Mr)return tt||(tt=new Mo),_t||Bd(S)?Tp(S,O,W,pe,Me,tt):Km(S,O,Xt,W,pe,Me,tt);if(!(W&F)){var Kn=Mr&&Jn.call(S,"__wrapped__"),wi=Br&&Jn.call(O,"__wrapped__");if(Kn||wi){var vo=Kn?S.value():S,Si=wi?O.value():O;return tt||(tt=new Mo),Me(vo,Si,W,pe,tt)}}return Sn?(tt||(tt=new Mo),Ym(S,O,W,pe,Me,tt)):!1}function _o(S){return sa(S)&&Hi(S)==ir}function To(S,O,W,pe){var Me=W.length,tt=Me,_t=!pe;if(S==null)return!tt;for(S=oo(S);Me--;){var It=W[Me];if(_t&&It[2]?It[1]!==S[It[0]]:!(It[0]in S))return!1}for(;++Me<tt;){It=W[Me];var Xt=It[0],Ir=S[Xt],Mr=It[1];if(_t&&It[2]){if(Ir===r&&!(Xt in S))return!1}else{var Br=new Mo;if(pe)var Sn=pe(Ir,Mr,Xt,S,O,Br);if(!(Sn===r?Qo(Mr,Ir,F|z,pe,Br):Sn))return!1}}return!0}function ss(S){if(!Co(S)||ue(S))return!1;var O=Xa(S)?pl:Ye;return O.test(fi(S))}function $a(S){return sa(S)&&Bn(S)==Ne}function Qs(S){return sa(S)&&Hi(S)==Wt}function ls(S){return sa(S)&&zf(S.length)&&!!Cn[Bn(S)]}function el(S){return typeof S=="function"?S:S==null?ph:typeof S=="object"?Wn(S)?qu(S[0],S[1]):Zl(S):_H(S)}function xs(S){if(!Re(S))return uf(S);var O=[];for(var W in oo(S))Jn.call(S,W)&&W!="constructor"&&O.push(W);return O}function vu(S){if(!Co(S))return $t(S);var O=Re(S),W=[];for(var pe in S)pe=="constructor"&&(O||!Jn.call(S,pe))||W.push(pe);return W}function yu(S,O){return S<O}function Yl(S,O){var W=-1,pe=aa(S)?sr(S.length):[];return nt(S,function(Me,tt,_t){pe[++W]=O(Me,tt,_t)}),pe}function Zl(S){var O=Pd(S);return O.length==1&&O[0][2]?at(O[0][0],O[0][1]):function(W){return W===S||To(W,S,O)}}function qu(S,O){return N(S)&&it(O)?at(Pn(S),O):function(W){var pe=zd(W,S);return pe===r&&pe===O?L0(W,S):Qo(O,pe,F|z)}}function Hs(S,O,W,pe,Me){S!==O&&mr(O,function(tt,_t){if(Me||(Me=new Mo),Co(tt))Gh(S,O,_t,W,Hs,pe,Me);else{var It=pe?pe(Jr(S,_t),tt,_t+"",S,O,Me):r;It===r&&(It=tt),y(S,_t,It)}},dc)}function Gh(S,O,W,pe,Me,tt,_t){var It=Jr(S,W),Xt=Jr(O,W),Ir=_t.get(Xt);if(Ir){y(S,W,Ir);return}var Mr=tt?tt(It,Xt,W+"",S,O,_t):r,Br=Mr===r;if(Br){var Sn=Wn(Xt),Kn=!Sn&&si(Xt),wi=!Sn&&!Kn&&Bd(Xt);Mr=Xt,Sn||Kn||wi?Wn(It)?Mr=It:Ii(It)?Mr=Ka(It):Kn?(Br=!1,Mr=Hm(Xt,!0)):wi?(Br=!1,Mr=Na(Xt,!0)):Mr=[]:um(Xt)||Ba(Xt)?(Mr=It,Ba(It)?Mr=fv(It):(!Co(It)||Xa(It))&&(Mr=o(Xt))):Br=!1}Br&&(_t.set(Xt,Mr),Me(Mr,Xt,pe,tt,_t),_t.delete(Xt)),y(S,W,Mr)}function Nu(S,O){var W=S.length;if(!!W)return O+=O<0?W:0,T(O,W)?S[O]:r}function ji(S,O,W){O.length?O=io(O,function(tt){return Wn(tt)?function(_t){return hn(_t,tt.length===1?tt[0]:tt)}:tt}):O=[ph];var pe=-1;O=io(O,ra(en()));var Me=Yl(S,function(tt,_t,It){var Xt=io(O,function(Ir){return Ir(tt)});return{criteria:Xt,index:++pe,value:tt}});return jh(Me,function(tt,_t){return om(tt,_t,W)})}function Ec(S,O){return Wc(S,O,function(W,pe){return L0(S,pe)})}function Wc(S,O,W){for(var pe=-1,Me=O.length,tt={};++pe<Me;){var _t=O[pe],It=hn(S,_t);W(It,_t)&&kc(tt,Ac(_t,S),It)}return tt}function Ga(S){return function(O){return hn(O,S)}}function Oi(S,O,W,pe){var Me=pe?Ju:zl,tt=-1,_t=O.length,It=S;for(S===O&&(O=Ka(O)),W&&(It=io(S,ra(W)));++tt<_t;)for(var Xt=0,Ir=O[tt],Mr=W?W(Ir):Ir;(Xt=Me(It,Mr,Xt,pe))>-1;)It!==S&&sf.call(It,Xt,1),sf.call(S,Xt,1);return S}function vl(S,O){for(var W=S?O.length:0,pe=W-1;W--;){var Me=O[W];if(W==pe||Me!==tt){var tt=Me;T(Me)?sf.call(S,Me,1):oh(S,Me)}}return S}function Is(S,O){return S+vs(ns()*(O-S+1))}function ff(S,O,W,pe){for(var Me=-1,tt=wr(Zr((O-S)/(W||1)),0),_t=sr(tt);tt--;)_t[pe?tt:++Me]=S,S+=W;return _t}function Od(S,O){var W="";if(!S||O<1||O>G)return W;do O%2&&(W+=S),O=vs(O/2),O&&(S+=S);while(O);return W}function bi(S,O){return Ti(dr(S,O,ph),S+"")}function im(S){return Hc(td(S))}function Bu(S,O){var W=td(S);return so(W,He(O,0,W.length))}function kc(S,O,W,pe){if(!Co(S))return S;O=Ac(O,S);for(var Me=-1,tt=O.length,_t=tt-1,It=S;It!=null&&++Me<tt;){var Xt=Pn(O[Me]),Ir=W;if(Xt==="__proto__"||Xt==="constructor"||Xt==="prototype")return S;if(Me!=_t){var Mr=It[Xt];Ir=pe?pe(Mr,Xt,It):r,Ir===r&&(Ir=Co(Mr)?Mr:T(O[Me+1])?[]:{})}k(It,Xt,Ir),It=It[Xt]}return S}var Cc=hu?function(S,O){return hu.set(S,O),S}:ph,yl=go?function(S,O){return go(S,"toString",{configurable:!0,enumerable:!1,value:eR(O),writable:!0})}:ph;function bu(S){return so(td(S))}function _s(S,O,W){var pe=-1,Me=S.length;O<0&&(O=-O>Me?0:Me+O),W=W>Me?Me:W,W<0&&(W+=Me),Me=O>W?0:W-O>>>0,O>>>=0;for(var tt=sr(Me);++pe<Me;)tt[pe]=S[pe+O];return tt}function Ms(S,O){var W;return nt(S,function(pe,Me,tt){return W=O(pe,Me,tt),!W}),!!W}function bl(S,O,W){var pe=0,Me=S==null?pe:S.length;if(typeof O=="number"&&O===O&&Me<=U){for(;pe<Me;){var tt=pe+Me>>>1,_t=S[tt];_t!==null&&!Cl(_t)&&(W?_t<=O:_t<O)?pe=tt+1:Me=tt}return Me}return gp(S,O,ph,W)}function gp(S,O,W,pe){var Me=0,tt=S==null?0:S.length;if(tt===0)return 0;O=W(O);for(var _t=O!==O,It=O===null,Xt=Cl(O),Ir=O===r;Me<tt;){var Mr=vs((Me+tt)/2),Br=W(S[Mr]),Sn=Br!==r,Kn=Br===null,wi=Br===Br,vo=Cl(Br);if(_t)var Si=pe||wi;else Ir?Si=wi&&(pe||Sn):It?Si=wi&&Sn&&(pe||!Kn):Xt?Si=wi&&Sn&&!Kn&&(pe||!vo):Kn||vo?Si=!1:Si=pe?Br<=O:Br<O;Si?Me=Mr+1:tt=Mr}return Fa(tt,K)}function Um(S,O){for(var W=-1,pe=S.length,Me=0,tt=[];++W<pe;){var _t=S[W],It=O?O(_t):_t;if(!W||!uo(It,Xt)){var Xt=It;tt[Me++]=_t===0?0:_t}}return tt}function ih(S){return typeof S=="number"?S:Cl(S)?te:+S}function xl(S){if(typeof S=="string")return S;if(Wn(S))return io(S,xl)+"";if(Cl(S))return da?da.call(S):"";var O=S+"";return O=="0"&&1/S==-j?"-0":O}function zu(S,O,W){var pe=-1,Me=Qf,tt=S.length,_t=!0,It=[],Xt=It;if(W)_t=!1,Me=Cf;else if(tt>=t){var Ir=O?null:Go(S);if(Ir)return rh(Ir);_t=!1,Me=Sa,Xt=new pa}else Xt=O?[]:It;e:for(;++pe<tt;){var Mr=S[pe],Br=O?O(Mr):Mr;if(Mr=W||Mr!==0?Mr:0,_t&&Br===Br){for(var Sn=Xt.length;Sn--;)if(Xt[Sn]===Br)continue e;O&&Xt.push(Br),It.push(Mr)}else Me(Xt,Br,W)||(Xt!==It&&Xt.push(Br),It.push(Mr))}return It}function oh(S,O){return O=Ac(O,S),S=ur(S,O),S==null||delete S[Pn(Bf(O))]}function Kh(S,O,W,pe){return kc(S,O,W(hn(S,O)),pe)}function Uu(S,O,W,pe){for(var Me=S.length,tt=pe?Me:-1;(pe?tt--:++tt<Me)&&O(S[tt],tt,S););return W?_s(S,pe?0:tt,pe?tt+1:Me):_s(S,pe?tt+1:0,pe?Me:tt)}function vp(S,O){var W=S;return W instanceof Sr&&(W=W.value()),Af(O,function(pe,Me){return Me.func.apply(Me.thisArg,su([pe],Me.args))},W)}function Xl(S,O,W){var pe=S.length;if(pe<2)return pe?zu(S[0]):[];for(var Me=-1,tt=sr(pe);++Me<pe;)for(var _t=S[Me],It=-1;++It<pe;)It!=Me&&(tt[Me]=vt(tt[Me]||_t,S[It],O,W));return zu(Zt(tt,1),O,W)}function Lf(S,O,W){for(var pe=-1,Me=S.length,tt=O.length,_t={};++pe<Me;){var It=pe<tt?O[pe]:r;W(_t,S[pe],It)}return _t}function jm(S){return Ii(S)?S:[]}function ah(S){return typeof S=="function"?S:ph}function Ac(S,O){return Wn(S)?S:N(S,O)?[S]:Wi(Po(S))}var Oy=bi;function Pf(S,O,W){var pe=S.length;return W=W===r?pe:W,!O&&W>=pe?S:_s(S,O,W)}var Rf=lf||function(S){return Ni.clearTimeout(S)};function Hm(S,O){if(O)return S.slice();var W=S.length,pe=Df?Df(W):new S.constructor(W);return S.copy(pe),pe}function Id(S){var O=new S.constructor(S.byteLength);return new Ta(O).set(new Ta(S)),O}function yp(S,O){var W=O?Id(S.buffer):S.buffer;return new S.constructor(W,S.byteOffset,S.byteLength)}function Ff(S){var O=new S.constructor(S.source,ke.exec(S));return O.lastIndex=S.lastIndex,O}function Wm(S){return Io?oo(Io.call(S)):{}}function Na(S,O){var W=O?Id(S.buffer):S.buffer;return new S.constructor(W,S.byteOffset,S.length)}function sh(S,O){if(S!==O){var W=S!==r,pe=S===null,Me=S===S,tt=Cl(S),_t=O!==r,It=O===null,Xt=O===O,Ir=Cl(O);if(!It&&!Ir&&!tt&&S>O||tt&&_t&&Xt&&!It&&!Ir||pe&&_t&&Xt||!W&&Xt||!Me)return 1;if(!pe&&!tt&&!Ir&&S<O||Ir&&W&&Me&&!pe&&!tt||It&&W&&Me||!_t&&Me||!Xt)return-1}return 0}function om(S,O,W){for(var pe=-1,Me=S.criteria,tt=O.criteria,_t=Me.length,It=W.length;++pe<_t;){var Xt=sh(Me[pe],tt[pe]);if(Xt){if(pe>=It)return Xt;var Ir=W[pe];return Xt*(Ir=="desc"?-1:1)}}return S.index-O.index}function bp(S,O,W,pe){for(var Me=-1,tt=S.length,_t=W.length,It=-1,Xt=O.length,Ir=wr(tt-_t,0),Mr=sr(Xt+Ir),Br=!pe;++It<Xt;)Mr[It]=O[It];for(;++Me<_t;)(Br||Me<tt)&&(Mr[W[Me]]=S[Me]);for(;Ir--;)Mr[It++]=S[Me++];return Mr}function lh(S,O,W,pe){for(var Me=-1,tt=S.length,_t=-1,It=W.length,Xt=-1,Ir=O.length,Mr=wr(tt-It,0),Br=sr(Mr+Ir),Sn=!pe;++Me<Mr;)Br[Me]=S[Me];for(var Kn=Me;++Xt<Ir;)Br[Kn+Xt]=O[Xt];for(;++_t<It;)(Sn||Me<tt)&&(Br[Kn+W[_t]]=S[Me++]);return Br}function Ka(S,O){var W=-1,pe=S.length;for(O||(O=sr(pe));++W<pe;)O[W]=S[W];return O}function xu(S,O,W,pe){var Me=!W;W||(W={});for(var tt=-1,_t=O.length;++tt<_t;){var It=O[tt],Xt=pe?pe(W[It],S[It],It,W,S):r;Xt===r&&(Xt=S[It]),Me?xe(W,It,Xt):k(W,It,Xt)}return W}function am(S,O){return xu(S,Rd(S),O)}function hf(S,O){return xu(S,Zm(S),O)}function df(S,O){return function(W,pe){var Me=Wn(W)?Sd:H,tt=O?O():{};return Me(W,S,en(pe,2),tt)}}function uh(S){return bi(function(O,W){var pe=-1,Me=W.length,tt=Me>1?W[Me-1]:r,_t=Me>2?W[2]:r;for(tt=S.length>3&&typeof tt=="function"?(Me--,tt):r,_t&&M(W[0],W[1],_t)&&(tt=Me<3?r:tt,Me=1),O=oo(O);++pe<Me;){var It=W[pe];It&&S(O,It,pe,tt)}return O})}function Vm(S,O){return function(W,pe){if(W==null)return W;if(!aa(W))return S(W,pe);for(var Me=W.length,tt=O?Me:-1,_t=oo(W);(O?tt--:++tt<Me)&&pe(_t[tt],tt,_t)!==!1;);return W}}function Md(S){return function(O,W,pe){for(var Me=-1,tt=oo(O),_t=pe(O),It=_t.length;It--;){var Xt=_t[S?It:++Me];if(W(tt[Xt],Xt,tt)===!1)break}return O}}function ev(S,O,W){var pe=O&Y,Me=qf(S);function tt(){var _t=this&&this!==Ni&&this instanceof tt?Me:S;return _t.apply(pe?W:this,arguments)}return tt}function sm(S){return function(O){O=Po(O);var W=Du(O)?Us(O):r,pe=W?W[0]:O.charAt(0),Me=W?Pf(W,1).join(""):O.slice(1);return pe[S]()+Me}}function Ld(S){return function(O){return Af(bw(N0(O).replace(ba,"")),S,"")}}function qf(S){return function(){var O=arguments;switch(O.length){case 0:return new S;case 1:return new S(O[0]);case 2:return new S(O[0],O[1]);case 3:return new S(O[0],O[1],O[2]);case 4:return new S(O[0],O[1],O[2],O[3]);case 5:return new S(O[0],O[1],O[2],O[3],O[4]);case 6:return new S(O[0],O[1],O[2],O[3],O[4],O[5]);case 7:return new S(O[0],O[1],O[2],O[3],O[4],O[5],O[6])}var W=yi(S.prototype),pe=S.apply(W,O);return Co(pe)?pe:W}}function xp(S,O,W){var pe=qf(S);function Me(){for(var tt=arguments.length,_t=sr(tt),It=tt,Xt=Xh(Me);It--;)_t[It]=arguments[It];var Ir=tt<3&&_t[0]!==Xt&&_t[tt-1]!==Xt?[]:jl(_t,Xt);if(tt-=Ir.length,tt<W)return Gm(S,O,Yh,Me.placeholder,r,_t,Ir,r,r,W-tt);var Mr=this&&this!==Ni&&this instanceof Me?pe:S;return au(Mr,this,_t)}return Me}function cc(S){return function(O,W,pe){var Me=oo(O);if(!aa(O)){var tt=en(W,3);O=rl(O),W=function(It){return tt(Me[It],It,Me)}}var _t=S(O,W,pe);return _t>-1?Me[tt?O[_t]:_t]:r}}function $m(S){return Wu(function(O){var W=O.length,pe=W,Me=Rr.prototype.thru;for(S&&O.reverse();pe--;){var tt=O[pe];if(typeof tt!="function")throw new Ha(i);if(Me&&!_t&&Zh(tt)=="wrapper")var _t=new Rr([],!0)}for(pe=_t?pe:W;++pe<W;){tt=O[pe];var It=Zh(tt),Xt=It=="wrapper"?Eo(tt):r;Xt&&Q(Xt[0])&&Xt[1]==(ge|oe|he|fe)&&!Xt[4].length&&Xt[9]==1?_t=_t[Zh(Xt[0])].apply(_t,Xt[3]):_t=tt.length==1&&Q(tt)?_t[It]():_t.thru(tt)}return function(){var Ir=arguments,Mr=Ir[0];if(_t&&Ir.length==1&&Wn(Mr))return _t.plant(Mr).value();for(var Br=0,Sn=W?O[Br].apply(this,Ir):Mr;++Br<W;)Sn=O[Br].call(this,Sn);return Sn}})}function Yh(S,O,W,pe,Me,tt,_t,It,Xt,Ir){var Mr=O&ge,Br=O&Y,Sn=O&$,Kn=O&(oe|ne),wi=O&me,vo=Sn?r:qf(S);function Si(){for(var Ro=arguments.length,Zo=sr(Ro),rd=Ro;rd--;)Zo[rd]=arguments[rd];if(Kn)var jf=Xh(Si),nd=Au(Zo,jf);if(pe&&(Zo=bp(Zo,pe,Me,Kn)),tt&&(Zo=lh(Zo,tt,_t,Kn)),Ro-=nd,Kn&&Ro<Ir){var Su=jl(Zo,jf);return Gm(S,O,Yh,Si.placeholder,W,Zo,Su,It,Xt,Ir-Ro)}var Dp=Br?W:this,ug=Sn?Dp[S]:S;return Ro=Zo.length,It?Zo=xr(Zo,It):wi&&Ro>1&&Zo.reverse(),Mr&&Xt<Ro&&(Zo.length=Xt),this&&this!==Ni&&this instanceof Si&&(ug=vo||qf(ug)),ug.apply(Dp,Zo)}return Si}function ch(S,O){return function(W,pe){return Hn(W,S,O(pe),{})}}function _p(S,O){return function(W,pe){var Me;if(W===r&&pe===r)return O;if(W!==r&&(Me=W),pe!==r){if(Me===r)return pe;typeof W=="string"||typeof pe=="string"?(W=xl(W),pe=xl(pe)):(W=ih(W),pe=ih(pe)),Me=S(W,pe)}return Me}}function fh(S){return Wu(function(O){return O=io(O,ra(en())),bi(function(W){var pe=this;return S(O,function(Me){return au(Me,pe,W)})})})}function ju(S,O){O=O===r?" ":xl(O);var W=O.length;if(W<2)return W?Od(O,S):O;var pe=Od(O,Zr(S/lu(O)));return Du(O)?Pf(Us(pe),0,S).join(""):pe.slice(0,S)}function tv(S,O,W,pe){var Me=O&Y,tt=qf(S);function _t(){for(var It=-1,Xt=arguments.length,Ir=-1,Mr=pe.length,Br=sr(Mr+Xt),Sn=this&&this!==Ni&&this instanceof _t?tt:S;++Ir<Mr;)Br[Ir]=pe[Ir];for(;Xt--;)Br[Ir++]=arguments[++It];return au(Sn,Me?W:this,Br)}return _t}function wp(S){return function(O,W,pe){return pe&&typeof pe!="number"&&M(O,W,pe)&&(W=pe=r),O=Uf(O),W===r?(W=O,O=0):W=Uf(W),pe=pe===r?O<W?1:-1:Uf(pe),ff(O,W,pe,S)}}function $o(S){return function(O,W){return typeof O=="string"&&typeof W=="string"||(O=Oc(O),W=Oc(W)),S(O,W)}}function Gm(S,O,W,pe,Me,tt,_t,It,Xt,Ir){var Mr=O&oe,Br=Mr?_t:r,Sn=Mr?r:_t,Kn=Mr?tt:r,wi=Mr?r:tt;O|=Mr?he:_,O&=~(Mr?_:he),O&re||(O&=~(Y|$));var vo=[S,O,Me,Kn,Br,wi,Sn,It,Xt,Ir],Si=W.apply(r,vo);return Q(S)&&ln(Si,vo),Si.placeholder=pe,ao(Si,S,O)}function Sp(S){var O=fa[S];return function(W,pe){if(W=Oc(W),pe=pe==null?0:Fa(Pi(pe),292),pe&&$l(W)){var Me=(Po(W)+"e").split("e"),tt=O(Me[0]+"e"+(+Me[1]+pe));return Me=(Po(tt)+"e").split("e"),+(Me[0]+"e"+(+Me[1]-pe))}return O(W)}}var Go=is&&1/rh(new is([,-0]))[1]==j?function(S){return new is(S)}:nR;function _l(S){return function(O){var W=Hi(O);return W==ir?Ou(O):W==Wt?nm(O):ec(O,S(O))}}function Hu(S,O,W,pe,Me,tt,_t,It){var Xt=O&$;if(!Xt&&typeof S!="function")throw new Ha(i);var Ir=pe?pe.length:0;if(Ir||(O&=~(he|_),pe=Me=r),_t=_t===r?_t:wr(Pi(_t),0),It=It===r?It:Pi(It),Ir-=Me?Me.length:0,O&_){var Mr=pe,Br=Me;pe=Me=r}var Sn=Xt?r:Eo(S),Kn=[S,O,W,pe,Me,Mr,Br,tt,_t,It];if(Sn&&zt(Kn,Sn),S=Kn[0],O=Kn[1],W=Kn[2],pe=Kn[3],Me=Kn[4],It=Kn[9]=Kn[9]===r?Xt?0:S.length:wr(Kn[9]-Ir,0),!It&&O&(oe|ne)&&(O&=~(oe|ne)),!O||O==Y)var wi=ev(S,O,W);else O==oe||O==ne?wi=xp(S,O,It):(O==he||O==(Y|he))&&!Me.length?wi=tv(S,O,W,pe):wi=Yh.apply(r,Kn);var vo=Sn?Cc:ln;return ao(vo(wi,Kn),S,O)}function pf(S,O,W,pe){return S===r||uo(S,Mu[W])&&!Jn.call(pe,W)?O:S}function wl(S,O,W,pe,Me,tt){return Co(S)&&Co(O)&&(tt.set(O,S),Hs(S,O,r,wl,tt),tt.delete(O)),S}function _u(S){return um(S)?r:S}function Tp(S,O,W,pe,Me,tt){var _t=W&F,It=S.length,Xt=O.length;if(It!=Xt&&!(_t&&Xt>It))return!1;var Ir=tt.get(S),Mr=tt.get(O);if(Ir&&Mr)return Ir==O&&Mr==S;var Br=-1,Sn=!0,Kn=W&z?new pa:r;for(tt.set(S,O),tt.set(O,S);++Br<It;){var wi=S[Br],vo=O[Br];if(pe)var Si=_t?pe(vo,wi,Br,O,S,tt):pe(wi,vo,Br,S,O,tt);if(Si!==r){if(Si)continue;Sn=!1;break}if(Kn){if(!Bc(O,function(Ro,Zo){if(!Sa(Kn,Zo)&&(wi===Ro||Me(wi,Ro,W,pe,tt)))return Kn.push(Zo)})){Sn=!1;break}}else if(!(wi===vo||Me(wi,vo,W,pe,tt))){Sn=!1;break}}return tt.delete(S),tt.delete(O),Sn}function Km(S,O,W,pe,Me,tt,_t){switch(W){case kr:if(S.byteLength!=O.byteLength||S.byteOffset!=O.byteOffset)return!1;S=S.buffer,O=O.buffer;case Dr:return!(S.byteLength!=O.byteLength||!tt(new Ta(S),new Ta(O)));case Tt:case Ht:case At:return uo(+S,+O);case Yt:return S.name==O.name&&S.message==O.message;case Ne:case ft:return S==O+"";case ir:var It=Ou;case Wt:var Xt=pe&F;if(It||(It=rh),S.size!=O.size&&!Xt)return!1;var Ir=_t.get(S);if(Ir)return Ir==O;pe|=z,_t.set(S,O);var Mr=Tp(It(S),It(O),pe,Me,tt,_t);return _t.delete(S),Mr;case qt:if(Io)return Io.call(S)==Io.call(O)}return!1}function Ym(S,O,W,pe,Me,tt){var _t=W&F,It=hh(S),Xt=It.length,Ir=hh(O),Mr=Ir.length;if(Xt!=Mr&&!_t)return!1;for(var Br=Xt;Br--;){var Sn=It[Br];if(!(_t?Sn in O:Jn.call(O,Sn)))return!1}var Kn=tt.get(S),wi=tt.get(O);if(Kn&&wi)return Kn==O&&wi==S;var vo=!0;tt.set(S,O),tt.set(O,S);for(var Si=_t;++Br<Xt;){Sn=It[Br];var Ro=S[Sn],Zo=O[Sn];if(pe)var rd=_t?pe(Zo,Ro,Sn,O,S,tt):pe(Ro,Zo,Sn,S,O,tt);if(!(rd===r?Ro===Zo||Me(Ro,Zo,W,pe,tt):rd)){vo=!1;break}Si||(Si=Sn=="constructor")}if(vo&&!Si){var jf=S.constructor,nd=O.constructor;jf!=nd&&"constructor"in S&&"constructor"in O&&!(typeof jf=="function"&&jf instanceof jf&&typeof nd=="function"&&nd instanceof nd)&&(vo=!1)}return tt.delete(S),tt.delete(O),vo}function Wu(S){return Ti(dr(S,r,Fd),S+"")}function hh(S){return dn(S,rl,Rd)}function Ep(S){return dn(S,dc,Zm)}var Eo=hu?function(S){return hu.get(S)}:nR;function Zh(S){for(var O=S.name+"",W=cf[O],pe=Jn.call(cf,O)?W.length:0;pe--;){var Me=W[pe],tt=Me.func;if(tt==null||tt==S)return Me.name}return O}function Xh(S){var O=Jn.call(Be,"placeholder")?Be:S;return O.placeholder}function en(){var S=Be.iteratee||tR;return S=S===tR?el:S,arguments.length?S(arguments[0],arguments[1]):S}function ws(S,O){var W=S.__data__;return Z(O)?W[typeof O=="string"?"string":"hash"]:W.map}function Pd(S){for(var O=rl(S),W=O.length;W--;){var pe=O[W],Me=S[pe];O[W]=[pe,Me,it(Me)]}return O}function fc(S,O){var W=bc(S,O);return ss(W)?W:r}function Ya(S){var O=Jn.call(S,Os),W=S[Os];try{S[Os]=r;var pe=!0}catch{}var Me=ri.call(S);return pe&&(O?S[Os]=W:delete S[Os]),Me}var Rd=ac?function(S){return S==null?[]:(S=oo(S),Nc(ac(S),function(O){return Ad.call(S,O)}))}:iR,Zm=ac?function(S){for(var O=[];S;)su(O,Rd(S)),S=fu(S);return O}:iR,Hi=Bn;(ml&&Hi(new ml(new ArrayBuffer(1)))!=kr||gl&&Hi(new gl)!=ir||Va&&Hi(Va.resolve())!=ce||is&&Hi(new is)!=Wt||Of&&Hi(new Of)!=vr)&&(Hi=function(S){var O=Bn(S),W=O==rt?S.constructor:r,pe=W?fi(W):"";if(pe)switch(pe){case js:return kr;case ys:return ir;case ci:return ce;case wc:return Wt;case Ru:return vr}return O});function lm(S,O,W){for(var pe=-1,Me=W.length;++pe<Me;){var tt=W[pe],_t=tt.size;switch(tt.type){case"drop":S+=_t;break;case"dropRight":O-=_t;break;case"take":O=Fa(O,S+_t);break;case"takeRight":S=wr(S,O-_t);break}}return{start:S,end:O}}function f(S){var O=S.match(mn);return O?O[1].split(bn):[]}function v(S,O,W){O=Ac(O,S);for(var pe=-1,Me=O.length,tt=!1;++pe<Me;){var _t=Pn(O[pe]);if(!(tt=S!=null&&W(S,_t)))break;S=S[_t]}return tt||++pe!=Me?tt:(Me=S==null?0:S.length,!!Me&&zf(Me)&&T(_t,Me)&&(Wn(S)||Ba(S)))}function A(S){var O=S.length,W=new S.constructor(O);return O&&typeof S[0]=="string"&&Jn.call(S,"index")&&(W.index=S.index,W.input=S.input),W}function o(S){return typeof S.constructor=="function"&&!Re(S)?yi(fu(S)):{}}function u(S,O,W){var pe=S.constructor;switch(O){case Dr:return Id(S);case Tt:case Ht:return new pe(+S);case kr:return yp(S,W);case et:case pt:case er:case Lr:case ki:case zr:case $n:case Dt:case Et:return Na(S,W);case ir:return new pe;case At:case ft:return new pe(S);case Ne:return Ff(S);case Wt:return new pe;case qt:return Wm(S)}}function p(S,O){var W=O.length;if(!W)return S;var pe=W-1;return O[pe]=(W>1?"& ":"")+O[pe],O=O.join(W>2?", ":" "),S.replace(Fr,`{
/* [wrapped with `+O+`] */
`)}function b(S){return Wn(S)||Ba(S)||!!(Lu&&S&&S[Lu])}function T(S,O){var W=typeof S;return O=O??G,!!O&&(W=="number"||W!="symbol"&&yt.test(S))&&S>-1&&S%1==0&&S<O}function M(S,O,W){if(!Co(W))return!1;var pe=typeof O;return(pe=="number"?aa(W)&&T(O,W.length):pe=="string"&&O in W)?uo(W[O],S):!1}function N(S,O){if(Wn(S))return!1;var W=typeof S;return W=="number"||W=="symbol"||W=="boolean"||S==null||Cl(S)?!0:nr.test(S)||!Mt.test(S)||O!=null&&S in oo(O)}function Z(S){var O=typeof S;return O=="string"||O=="number"||O=="symbol"||O=="boolean"?S!=="__proto__":S===null}function Q(S){var O=Zh(S),W=Be[O];if(typeof W!="function"||!(O in Sr.prototype))return!1;if(S===W)return!0;var pe=Eo(W);return!!pe&&S===pe[0]}function ue(S){return!!Wa&&Wa in S}var Ce=Wl?Xa:oR;function Re(S){var O=S&&S.constructor,W=typeof O=="function"&&O.prototype||Mu;return S===W}function it(S){return S===S&&!Co(S)}function at(S,O){return function(W){return W==null?!1:W[S]===O&&(O!==r||S in oo(W))}}function wt(S){var O=pr(S,function(pe){return W.size===h&&W.clear(),pe}),W=O.cache;return O}function zt(S,O){var W=S[1],pe=O[1],Me=W|pe,tt=Me<(Y|$|ge),_t=pe==ge&&W==oe||pe==ge&&W==fe&&S[7].length<=O[8]||pe==(ge|fe)&&O[7].length<=O[8]&&W==oe;if(!(tt||_t))return S;pe&Y&&(S[2]=O[2],Me|=W&Y?0:re);var It=O[3];if(It){var Xt=S[3];S[3]=Xt?bp(Xt,It,O[4]):It,S[4]=Xt?jl(S[3],g):O[4]}return It=O[5],It&&(Xt=S[5],S[5]=Xt?lh(Xt,It,O[6]):It,S[6]=Xt?jl(S[5],g):O[6]),It=O[7],It&&(S[7]=It),pe&ge&&(S[8]=S[8]==null?O[8]:Fa(S[8],O[8])),S[9]==null&&(S[9]=O[9]),S[0]=O[0],S[1]=Me,S}function $t(S){var O=[];if(S!=null)for(var W in oo(S))O.push(W);return O}function or(S){return ri.call(S)}function dr(S,O,W){return O=wr(O===r?S.length-1:O,0),function(){for(var pe=arguments,Me=-1,tt=wr(pe.length-O,0),_t=sr(tt);++Me<tt;)_t[Me]=pe[O+Me];Me=-1;for(var It=sr(O+1);++Me<O;)It[Me]=pe[Me];return It[O]=W(_t),au(S,this,It)}}function ur(S,O){return O.length<2?S:hn(S,_s(O,0,-1))}function xr(S,O){for(var W=S.length,pe=Fa(O.length,W),Me=Ka(S);pe--;){var tt=O[pe];S[pe]=T(tt,W)?Me[tt]:r}return S}function Jr(S,O){if(!(O==="constructor"&&typeof S[O]=="function")&&O!="__proto__")return S[O]}var ln=ai(Cc),_n=na||function(S,O){return Ni.setTimeout(S,O)},Ti=ai(yl);function ao(S,O,W){var pe=O+"";return Ti(S,p(pe,jn(f(pe),W)))}function ai(S){var O=0,W=0;return function(){var pe=sc(),Me=$e-(pe-W);if(W=pe,Me>0){if(++O>=be)return arguments[0]}else O=0;return S.apply(r,arguments)}}function so(S,O){var W=-1,pe=S.length,Me=pe-1;for(O=O===r?pe:O;++W<O;){var tt=Is(W,Me),_t=S[tt];S[tt]=S[W],S[W]=_t}return S.length=O,S}var Wi=wt(function(S){var O=[];return S.charCodeAt(0)===46&&O.push(""),S.replace(Pr,function(W,pe,Me,tt){O.push(Me?tt.replace(La,"$1"):pe||W)}),O});function Pn(S){if(typeof S=="string"||Cl(S))return S;var O=S+"";return O=="0"&&1/S==-j?"-0":O}function fi(S){if(S!=null){try{return cu.call(S)}catch{}try{return S+""}catch{}}return""}function jn(S,O){return cl(Ue,function(W){var pe="_."+W[0];O&W[1]&&!Qf(S,pe)&&S.push(pe)}),S.sort()}function Bi(S){if(S instanceof Sr)return S.clone();var O=new Rr(S.__wrapped__,S.__chain__);return O.__actions__=Ka(S.__actions__),O.__index__=S.__index__,O.__values__=S.__values__,O}function Ko(S,O,W){(W?M(S,O,W):O===r)?O=1:O=wr(Pi(O),0);var pe=S==null?0:S.length;if(!pe||O<1)return[];for(var Me=0,tt=0,_t=sr(Zr(pe/O));Me<pe;)_t[tt++]=_s(S,Me,Me+=O);return _t}function _i(S){for(var O=-1,W=S==null?0:S.length,pe=0,Me=[];++O<W;){var tt=S[O];tt&&(Me[pe++]=tt)}return Me}function ko(){var S=arguments.length;if(!S)return[];for(var O=sr(S-1),W=arguments[0],pe=S;pe--;)O[pe-1]=arguments[pe];return su(Wn(W)?Ka(W):[W],Zt(O,1))}var Jl=bi(function(S,O){return Ii(S)?vt(S,Zt(O,1,Ii,!0)):[]}),ma=bi(function(S,O){var W=Bf(O);return Ii(W)&&(W=r),Ii(S)?vt(S,Zt(O,1,Ii,!0),en(W,2)):[]}),Ls=bi(function(S,O){var W=Bf(O);return Ii(W)&&(W=r),Ii(S)?vt(S,Zt(O,1,Ii,!0),r,W):[]});function Ps(S,O,W){var pe=S==null?0:S.length;return pe?(O=W||O===r?1:Pi(O),_s(S,O<0?0:O,pe)):[]}function oa(S,O,W){var pe=S==null?0:S.length;return pe?(O=W||O===r?1:Pi(O),O=pe-O,_s(S,0,O<0?0:O)):[]}function Nf(S,O){return S&&S.length?Uu(S,en(O,3),!0,!0):[]}function Ca(S,O){return S&&S.length?Uu(S,en(O,3),!0):[]}function Sl(S,O,W,pe){var Me=S==null?0:S.length;return Me?(W&&typeof W!="number"&&M(S,O,W)&&(W=0,pe=Me),rr(S,O,W,pe)):[]}function Dc(S,O,W){var pe=S==null?0:S.length;if(!pe)return-1;var Me=W==null?0:Pi(W);return Me<0&&(Me=wr(pe+Me,0)),Xu(S,en(O,3),Me)}function Ql(S,O,W){var pe=S==null?0:S.length;if(!pe)return-1;var Me=pe-1;return W!==r&&(Me=Pi(W),Me=W<0?wr(pe+Me,0):Fa(Me,pe-1)),Xu(S,en(O,3),Me,!0)}function Fd(S){var O=S==null?0:S.length;return O?Zt(S,1):[]}function Iy(S){var O=S==null?0:S.length;return O?Zt(S,j):[]}function bC(S,O){var W=S==null?0:S.length;return W?(O=O===r?1:Pi(O),Zt(S,O)):[]}function xC(S){for(var O=-1,W=S==null?0:S.length,pe={};++O<W;){var Me=S[O];pe[Me[0]]=Me[1]}return pe}function J1(S){return S&&S.length?S[0]:r}function _C(S,O,W){var pe=S==null?0:S.length;if(!pe)return-1;var Me=W==null?0:Pi(W);return Me<0&&(Me=wr(pe+Me,0)),zl(S,O,Me)}function kP(S){var O=S==null?0:S.length;return O?_s(S,0,-1):[]}var CP=bi(function(S){var O=io(S,jm);return O.length&&O[0]===S[0]?Ln(O):[]}),wC=bi(function(S){var O=Bf(S),W=io(S,jm);return O===Bf(W)?O=r:W.pop(),W.length&&W[0]===S[0]?Ln(W,en(O,2)):[]}),SC=bi(function(S){var O=Bf(S),W=io(S,jm);return O=typeof O=="function"?O:r,O&&W.pop(),W.length&&W[0]===S[0]?Ln(W,r,O):[]});function _0(S,O){return S==null?"":Ra.call(S,O)}function Bf(S){var O=S==null?0:S.length;return O?S[O-1]:r}function w0(S,O,W){var pe=S==null?0:S.length;if(!pe)return-1;var Me=pe;return W!==r&&(Me=Pi(W),Me=Me<0?wr(pe+Me,0):Fa(Me,pe-1)),O===O?nf(S,O,Me):Xu(S,Qu,Me,!0)}function S0(S,O){return S&&S.length?Nu(S,Pi(O)):r}var T0=bi(Xm);function Xm(S,O){return S&&S.length&&O&&O.length?Oi(S,O):S}function AP(S,O,W){return S&&S.length&&O&&O.length?Oi(S,O,en(W,2)):S}function DP(S,O,W){return S&&S.length&&O&&O.length?Oi(S,O,r,W):S}var OP=Wu(function(S,O){var W=S==null?0:S.length,pe=Oe(S,O);return vl(S,io(O,function(Me){return T(Me,W)?+Me:Me}).sort(sh)),pe});function rv(S,O){var W=[];if(!(S&&S.length))return W;var pe=-1,Me=[],tt=S.length;for(O=en(O,3);++pe<tt;){var _t=S[pe];O(_t,pe,S)&&(W.push(_t),Me.push(pe))}return vl(S,Me),W}function My(S){return S==null?S:ha.call(S)}function TC(S,O,W){var pe=S==null?0:S.length;return pe?(W&&typeof W!="number"&&M(S,O,W)?(O=0,W=pe):(O=O==null?0:Pi(O),W=W===r?pe:Pi(W)),_s(S,O,W)):[]}function Q1(S,O){return bl(S,O)}function EC(S,O,W){return gp(S,O,en(W,2))}function kC(S,O){var W=S==null?0:S.length;if(W){var pe=bl(S,O);if(pe<W&&uo(S[pe],O))return pe}return-1}function IP(S,O){return bl(S,O,!0)}function MP(S,O,W){return gp(S,O,en(W,2),!0)}function LP(S,O){var W=S==null?0:S.length;if(W){var pe=bl(S,O,!0)-1;if(uo(S[pe],O))return pe}return-1}function E0(S){return S&&S.length?Um(S):[]}function ew(S,O){return S&&S.length?Um(S,en(O,2)):[]}function PP(S){var O=S==null?0:S.length;return O?_s(S,1,O):[]}function nv(S,O,W){return S&&S.length?(O=W||O===r?1:Pi(O),_s(S,0,O<0?0:O)):[]}function Ly(S,O,W){var pe=S==null?0:S.length;return pe?(O=W||O===r?1:Pi(O),O=pe-O,_s(S,O<0?0:O,pe)):[]}function jo(S,O){return S&&S.length?Uu(S,en(O,3),!1,!0):[]}function RP(S,O){return S&&S.length?Uu(S,en(O,3)):[]}var tw=bi(function(S){return zu(Zt(S,1,Ii,!0))}),iv=bi(function(S){var O=Bf(S);return Ii(O)&&(O=r),zu(Zt(S,1,Ii,!0),en(O,2))}),FP=bi(function(S){var O=Bf(S);return O=typeof O=="function"?O:r,zu(Zt(S,1,Ii,!0),r,O)});function qP(S){return S&&S.length?zu(S):[]}function NP(S,O){return S&&S.length?zu(S,en(O,2)):[]}function BP(S,O){return O=typeof O=="function"?O:r,S&&S.length?zu(S,r,O):[]}function rw(S){if(!(S&&S.length))return[];var O=0;return S=Nc(S,function(W){if(Ii(W))return O=wr(W.length,O),!0}),zc(O,function(W){return io(S,Td(W))})}function CC(S,O){if(!(S&&S.length))return[];var W=rw(S);return O==null?W:io(W,function(pe){return au(O,r,pe)})}var zP=bi(function(S,O){return Ii(S)?vt(S,O):[]}),AC=bi(function(S){return Xl(Nc(S,Ii))}),DC=bi(function(S){var O=Bf(S);return Ii(O)&&(O=r),Xl(Nc(S,Ii),en(O,2))}),OC=bi(function(S){var O=Bf(S);return O=typeof O=="function"?O:r,Xl(Nc(S,Ii),r,O)}),IC=bi(rw);function k0(S,O){return Lf(S||[],O||[],k)}function Jm(S,O){return Lf(S||[],O||[],kc)}var nw=bi(function(S){var O=S.length,W=O>1?S[O-1]:r;return W=typeof W=="function"?(S.pop(),W):r,CC(S,W)});function Qm(S){var O=Be(S);return O.__chain__=!0,O}function MC(S,O){return O(S),S}function us(S,O){return O(S)}var Aa=Wu(function(S){var O=S.length,W=O?S[0]:0,pe=this.__wrapped__,Me=function(tt){return Oe(tt,S)};return O>1||this.__actions__.length||!(pe instanceof Sr)||!T(W)?this.thru(Me):(pe=pe.slice(W,+W+(O?1:0)),pe.__actions__.push({func:us,args:[Me],thisArg:r}),new Rr(pe,this.__chain__).thru(function(tt){return O&&!tt.length&&tt.push(r),tt}))});function LC(){return Qm(this)}function PC(){return new Rr(this.value(),this.__chain__)}function RC(){this.__values__===r&&(this.__values__=uv(this.value()));var S=this.__index__>=this.__values__.length,O=S?r:this.__values__[this.__index__++];return{done:S,value:O}}function FC(){return this}function qC(S){for(var O,W=this;W instanceof Ea;){var pe=Bi(W);pe.__index__=0,pe.__values__=r,O?Me.__wrapped__=pe:O=pe;var Me=pe;W=W.__wrapped__}return Me.__wrapped__=S,O}function iw(){var S=this.__wrapped__;if(S instanceof Sr){var O=S;return this.__actions__.length&&(O=new Sr(this)),O=O.reverse(),O.__actions__.push({func:us,args:[My],thisArg:r}),new Rr(O,this.__chain__)}return this.thru(My)}function eg(){return vp(this.__wrapped__,this.__actions__)}var tg=df(function(S,O,W){Jn.call(S,W)?++S[W]:xe(S,W,1)});function NC(S,O,W){var pe=Wn(S)?zh:St;return W&&M(S,O,W)&&(O=r),pe(S,en(O,3))}function Ws(S,O){var W=Wn(S)?Nc:Jt;return W(S,en(O,3))}var Py=cc(Dc),kp=cc(Ql);function C0(S,O){return Zt(Jh(S,O),1)}function A0(S,O){return Zt(Jh(S,O),j)}function ow(S,O,W){return W=W===r?1:Pi(W),Zt(Jh(S,O),W)}function rg(S,O){var W=Wn(S)?cl:nt;return W(S,en(O,3))}function qd(S,O){var W=Wn(S)?dp:bt;return W(S,en(O,3))}var BC=df(function(S,O,W){Jn.call(S,W)?S[W].push(O):xe(S,W,[O])});function zC(S,O,W,pe){S=aa(S)?S:td(S),W=W&&!pe?Pi(W):0;var Me=S.length;return W<0&&(W=wr(Me+W,0)),og(S)?W<=Me&&S.indexOf(O,W)>-1:!!Me&&zl(S,O,W)>-1}var UP=bi(function(S,O,W){var pe=-1,Me=typeof O=="function",tt=aa(S)?sr(S.length):[];return nt(S,function(_t){tt[++pe]=Me?au(O,_t,W):vn(_t,O,W)}),tt}),Tl=df(function(S,O,W){xe(S,W,O)});function Jh(S,O){var W=Wn(S)?io:Yl;return W(S,en(O,3))}function UC(S,O,W,pe){return S==null?[]:(Wn(O)||(O=O==null?[]:[O]),W=pe?r:W,Wn(W)||(W=W==null?[]:[W]),ji(S,O,W))}var s=df(function(S,O,W){S[W?0:1].push(O)},function(){return[[],[]]});function c(S,O,W){var pe=Wn(S)?Af:Ed,Me=arguments.length<3;return pe(S,en(O,4),W,Me,nt)}function d(S,O,W){var pe=Wn(S)?wa:Ed,Me=arguments.length<3;return pe(S,en(O,4),W,Me,bt)}function E(S,O){var W=Wn(S)?Nc:Jt;return W(S,Ar(en(O,3)))}function I(S){var O=Wn(S)?Hc:im;return O(S)}function L(S,O,W){(W?M(S,O,W):O===r)?O=1:O=Pi(O);var pe=Wn(S)?m:Bu;return pe(S,O)}function B(S){var O=Wn(S)?x:bu;return O(S)}function J(S){if(S==null)return 0;if(aa(S))return og(S)?lu(S):S.length;var O=Hi(S);return O==ir||O==Wt?S.size:xs(S).length}function le(S,O,W){var pe=Wn(S)?Bc:Ms;return W&&M(S,O,W)&&(O=r),pe(S,en(O,3))}var ve=bi(function(S,O){if(S==null)return[];var W=O.length;return W>1&&M(S,O[0],O[1])?O=[]:W>2&&M(O[0],O[1],O[2])&&(O=[O[0]]),ji(S,Zt(O,1),[])}),Ee=mp||function(){return Ni.Date.now()};function De(S,O){if(typeof O!="function")throw new Ha(i);return S=Pi(S),function(){if(--S<1)return O.apply(this,arguments)}}function Le(S,O,W){return O=W?r:O,O=S&&O==null?S.length:O,Hu(S,ge,r,r,r,r,O)}function Ve(S,O){var W;if(typeof O!="function")throw new Ha(i);return S=Pi(S),function(){return--S>0&&(W=O.apply(this,arguments)),S<=1&&(O=r),W}}var ut=bi(function(S,O,W){var pe=Y;if(W.length){var Me=jl(W,Xh(ut));pe|=he}return Hu(S,pe,O,W,Me)}),ct=bi(function(S,O,W){var pe=Y|$;if(W.length){var Me=jl(W,Xh(ct));pe|=he}return Hu(O,pe,S,W,Me)});function xt(S,O,W){O=W?r:O;var pe=Hu(S,oe,r,r,r,r,r,O);return pe.placeholder=xt.placeholder,pe}function gt(S,O,W){O=W?r:O;var pe=Hu(S,ne,r,r,r,r,r,O);return pe.placeholder=gt.placeholder,pe}function Lt(S,O,W){var pe,Me,tt,_t,It,Xt,Ir=0,Mr=!1,Br=!1,Sn=!0;if(typeof S!="function")throw new Ha(i);O=Oc(O)||0,Co(W)&&(Mr=!!W.leading,Br="maxWait"in W,tt=Br?wr(Oc(W.maxWait)||0,O):tt,Sn="trailing"in W?!!W.trailing:Sn);function Kn(Su){var Dp=pe,ug=Me;return pe=Me=r,Ir=Su,_t=S.apply(ug,Dp),_t}function wi(Su){return Ir=Su,It=_n(Ro,O),Mr?Kn(Su):_t}function vo(Su){var Dp=Su-Xt,ug=Su-Ir,wH=O-Dp;return Br?Fa(wH,tt-ug):wH}function Si(Su){var Dp=Su-Xt,ug=Su-Ir;return Xt===r||Dp>=O||Dp<0||Br&&ug>=tt}function Ro(){var Su=Ee();if(Si(Su))return Zo(Su);It=_n(Ro,vo(Su))}function Zo(Su){return It=r,Sn&&pe?Kn(Su):(pe=Me=r,_t)}function rd(){It!==r&&Rf(It),Ir=0,pe=Xt=Me=It=r}function jf(){return It===r?_t:Zo(Ee())}function nd(){var Su=Ee(),Dp=Si(Su);if(pe=arguments,Me=this,Xt=Su,Dp){if(It===r)return wi(Xt);if(Br)return Rf(It),It=_n(Ro,O),Kn(Xt)}return It===r&&(It=_n(Ro,O)),_t}return nd.cancel=rd,nd.flush=jf,nd}var Kt=bi(function(S,O){return lt(S,1,O)}),Qt=bi(function(S,O,W){return lt(S,Oc(O)||0,W)});function ar(S){return Hu(S,me)}function pr(S,O){if(typeof S!="function"||O!=null&&typeof O!="function")throw new Ha(i);var W=function(){var pe=arguments,Me=O?O.apply(this,pe):pe[0],tt=W.cache;if(tt.has(Me))return tt.get(Me);var _t=S.apply(this,pe);return W.cache=tt.set(Me,_t)||tt,_t};return W.cache=new(pr.Cache||Xi),W}pr.Cache=Xi;function Ar(S){if(typeof S!="function")throw new Ha(i);return function(){var O=arguments;switch(O.length){case 0:return!S.call(this);case 1:return!S.call(this,O[0]);case 2:return!S.call(this,O[0],O[1]);case 3:return!S.call(this,O[0],O[1],O[2])}return!S.apply(this,O)}}function Hr(S){return Ve(2,S)}var wn=Oy(function(S,O){O=O.length==1&&Wn(O[0])?io(O[0],ra(en())):io(Zt(O,1),ra(en()));var W=O.length;return bi(function(pe){for(var Me=-1,tt=Fa(pe.length,W);++Me<tt;)pe[Me]=O[Me].call(this,pe[Me]);return au(S,this,pe)})}),Xr=bi(function(S,O){var W=jl(O,Xh(Xr));return Hu(S,he,r,O,W)}),An=bi(function(S,O){var W=jl(O,Xh(An));return Hu(S,_,r,O,W)}),tn=Wu(function(S,O){return Hu(S,fe,r,r,r,O)});function hi(S,O){if(typeof S!="function")throw new Ha(i);return O=O===r?O:Pi(O),bi(S,O)}function zn(S,O){if(typeof S!="function")throw new Ha(i);return O=O==null?0:wr(Pi(O),0),bi(function(W){var pe=W[O],Me=Pf(W,0,O);return pe&&su(Me,pe),au(S,this,Me)})}function pn(S,O,W){var pe=!0,Me=!0;if(typeof S!="function")throw new Ha(i);return Co(W)&&(pe="leading"in W?!!W.leading:pe,Me="trailing"in W?!!W.trailing:Me),Lt(S,O,{leading:pe,maxWait:O,trailing:Me})}function Ei(S){return Le(S,1)}function ni(S,O){return Xr(ah(O),S)}function zi(){if(!arguments.length)return[];var S=arguments[0];return Wn(S)?S:[S]}function In(S){return We(S,D)}function lo(S,O){return O=typeof O=="function"?O:r,We(S,D,O)}function Da(S){return We(S,w|D)}function cs(S,O){return O=typeof O=="function"?O:r,We(S,w|D,O)}function Za(S,O){return O==null||ht(S,O,rl(O))}function uo(S,O){return S===O||S!==S&&O!==O}var fs=$o(Kr),tl=$o(function(S,O){return S>=O}),Ba=xn(function(){return arguments}())?xn:function(S){return sa(S)&&Jn.call(S,"callee")&&!Ad.call(S,"callee")},Wn=sr.isArray,El=ef?ra(ef):ka;function aa(S){return S!=null&&zf(S.length)&&!Xa(S)}function Ii(S){return sa(S)&&aa(S)}function kl(S){return S===!0||S===!1||sa(S)&&Bn(S)==Tt}var si=Pu||oR,Yo=zs?ra(zs):So;function Lo(S){return sa(S)&&S.nodeType===1&&!um(S)}function Vi(S){if(S==null)return!0;if(aa(S)&&(Wn(S)||typeof S=="string"||typeof S.splice=="function"||si(S)||Bd(S)||Ba(S)))return!S.length;var O=Hi(S);if(O==ir||O==Wt)return!S.size;if(Re(S))return!xs(S).length;for(var W in S)if(Jn.call(S,W))return!1;return!0}function hc(S,O){return Qo(S,O)}function wu(S,O,W){W=typeof W=="function"?W:r;var pe=W?W(S,O):r;return pe===r?Qo(S,O,r,W):!!pe}function ea(S){if(!sa(S))return!1;var O=Bn(S);return O==Yt||O==Rt||typeof S.message=="string"&&typeof S.name=="string"&&!um(S)}function Rs(S){return typeof S=="number"&&$l(S)}function Xa(S){if(!Co(S))return!1;var O=Bn(S);return O==cr||O==Tr||O==Ct||O==Te}function Ji(S){return typeof S=="number"&&S==Pi(S)}function zf(S){return typeof S=="number"&&S>-1&&S%1==0&&S<=G}function Co(S){var O=typeof S;return S!=null&&(O=="object"||O=="function")}function sa(S){return S!=null&&typeof S=="object"}var hs=Uo?ra(Uo):_o;function Nd(S,O){return S===O||To(S,O,Pd(O))}function dh(S,O,W){return W=typeof W=="function"?W:r,To(S,O,Pd(O),W)}function ov(S){return ig(S)&&S!=+S}function ng(S){if(Ce(S))throw new ti(n);return ss(S)}function av(S){return S===null}function Cp(S){return S==null}function ig(S){return typeof S=="number"||sa(S)&&Bn(S)==At}function um(S){if(!sa(S)||Bn(S)!=rt)return!1;var O=fu(S);if(O===null)return!0;var W=Jn.call(O,"constructor")&&O.constructor;return typeof W=="function"&&W instanceof W&&cu.call(W)==oc}var cm=kf?ra(kf):$a;function Ry(S){return Ji(S)&&S>=-G&&S<=G}var Fy=wd?ra(wd):Qs;function og(S){return typeof S=="string"||!Wn(S)&&sa(S)&&Bn(S)==ft}function Cl(S){return typeof S=="symbol"||sa(S)&&Bn(S)==qt}var Bd=hp?ra(hp):ls;function sv(S){return S===r}function fm(S){return sa(S)&&Hi(S)==vr}function lv(S){return sa(S)&&Bn(S)==_r}var D0=$o(yu),O0=$o(function(S,O){return S<=O});function uv(S){if(!S)return[];if(aa(S))return og(S)?Us(S):Ka(S);if(Vl&&S[Vl])return mo(S[Vl]());var O=Hi(S),W=O==ir?Ou:O==Wt?rh:td;return W(S)}function Uf(S){if(!S)return S===0?S:0;if(S=Oc(S),S===j||S===-j){var O=S<0?-1:1;return O*V}return S===S?S:0}function Pi(S){var O=Uf(S),W=O%1;return O===O?W?O-W:O:0}function cv(S){return S?He(Pi(S),0,_e):0}function Oc(S){if(typeof S=="number")return S;if(Cl(S))return te;if(Co(S)){var O=typeof S.valueOf=="function"?S.valueOf():S;S=Co(O)?O+"":O}if(typeof S!="string")return S===0?S:+S;S=eh(S);var W=Fe.test(S);return W||ot.test(S)?ou(S.slice(2),W?2:8):Ie.test(S)?te:+S}function fv(S){return xu(S,dc(S))}function I0(S){return S?He(Pi(S),-G,G):S===0?S:0}function Po(S){return S==null?"":xl(S)}var M0=uh(function(S,O){if(Re(O)||aa(O)){xu(O,rl(O),S);return}for(var W in O)Jn.call(O,W)&&k(S,W,O[W])}),ag=uh(function(S,O){xu(O,dc(O),S)}),hm=uh(function(S,O,W,pe){xu(O,dc(O),S,pe)}),sg=uh(function(S,O,W,pe){xu(O,rl(O),S,pe)}),qy=Wu(Oe);function hv(S,O){var W=yi(S);return O==null?W:X(W,O)}var aw=bi(function(S,O){S=oo(S);var W=-1,pe=O.length,Me=pe>2?O[2]:r;for(Me&&M(O[0],O[1],Me)&&(pe=1);++W<pe;)for(var tt=O[W],_t=dc(tt),It=-1,Xt=_t.length;++It<Xt;){var Ir=_t[It],Mr=S[Ir];(Mr===r||uo(Mr,Mu[Ir])&&!Jn.call(S,Ir))&&(S[Ir]=tt[Ir])}return S}),jC=bi(function(S){return S.push(r,wl),au(dv,r,S)});function sw(S,O){return wo(S,en(O,3),br)}function HC(S,O){return wo(S,en(O,3),$r)}function lw(S,O){return S==null?S:mr(S,en(O,3),dc)}function jP(S,O){return S==null?S:yr(S,en(O,3),dc)}function Ny(S,O){return S&&br(S,en(O,3))}function Ss(S,O){return S&&$r(S,en(O,3))}function Qh(S){return S==null?[]:Gr(S,rl(S))}function HP(S){return S==null?[]:Gr(S,dc(S))}function zd(S,O,W){var pe=S==null?r:hn(S,O);return pe===r?W:pe}function uw(S,O){return S!=null&&v(S,O,Mn)}function L0(S,O){return S!=null&&v(S,O,Vn)}var P0=ch(function(S,O,W){O!=null&&typeof O.toString!="function"&&(O=ri.call(O)),S[O]=W},eR(ph)),Ud=ch(function(S,O,W){O!=null&&typeof O.toString!="function"&&(O=ri.call(O)),Jn.call(S,O)?S[O].push(W):S[O]=[W]},en),R0=bi(vn);function rl(S){return aa(S)?$h(S):xs(S)}function dc(S){return aa(S)?$h(S,!0):vu(S)}function F0(S,O){var W={};return O=en(O,3),br(S,function(pe,Me,tt){xe(W,O(pe,Me,tt),pe)}),W}function cw(S,O){var W={};return O=en(O,3),br(S,function(pe,Me,tt){xe(W,Me,O(pe,Me,tt))}),W}var WC=uh(function(S,O,W){Hs(S,O,W)}),dv=uh(function(S,O,W,pe){Hs(S,O,W,pe)}),VC=Wu(function(S,O){var W={};if(S==null)return W;var pe=!1;O=io(O,function(tt){return tt=Ac(tt,S),pe||(pe=tt.length>1),tt}),xu(S,Ep(S),W),pe&&(W=We(W,w|C|D,_u));for(var Me=O.length;Me--;)oh(W,O[Me]);return W});function $C(S,O){return fw(S,Ar(en(O)))}var GC=Wu(function(S,O){return S==null?{}:Ec(S,O)});function fw(S,O){if(S==null)return{};var W=io(Ep(S),function(pe){return[pe]});return O=en(O),Wc(S,W,function(pe,Me){return O(pe,Me[0])})}function KC(S,O,W){O=Ac(O,S);var pe=-1,Me=O.length;for(Me||(Me=1,S=r);++pe<Me;){var tt=S==null?r:S[Pn(O[pe])];tt===r&&(pe=Me,tt=W),S=Xa(tt)?tt.call(S):tt}return S}function mf(S,O,W){return S==null?S:kc(S,O,W)}function q0(S,O,W,pe){return pe=typeof pe=="function"?pe:r,S==null?S:kc(S,O,W,pe)}var hw=_l(rl),ed=_l(dc);function WP(S,O,W){var pe=Wn(S),Me=pe||si(S)||Bd(S);if(O=en(O,4),W==null){var tt=S&&S.constructor;Me?W=pe?new tt:[]:Co(S)?W=Xa(tt)?yi(fu(S)):{}:W={}}return(Me?cl:br)(S,function(_t,It,Xt){return O(W,_t,It,Xt)}),W}function YC(S,O){return S==null?!0:oh(S,O)}function lg(S,O,W){return S==null?S:Kh(S,O,ah(W))}function pv(S,O,W,pe){return pe=typeof pe=="function"?pe:r,S==null?S:Kh(S,O,ah(W),pe)}function td(S){return S==null?[]:ms(S,rl(S))}function mv(S){return S==null?[]:ms(S,dc(S))}function gv(S,O,W){return W===r&&(W=O,O=r),W!==r&&(W=Oc(W),W=W===W?W:0),O!==r&&(O=Oc(O),O=O===O?O:0),He(Oc(S),O,W)}function ZC(S,O,W){return O=Uf(O),W===r?(W=O,O=0):W=Uf(W),S=Oc(S),On(S,O,W)}function XC(S,O,W){if(W&&typeof W!="boolean"&&M(S,O,W)&&(O=W=r),W===r&&(typeof O=="boolean"?(W=O,O=r):typeof S=="boolean"&&(W=S,S=r)),S===r&&O===r?(S=0,O=1):(S=Uf(S),O===r?(O=S,S=0):O=Uf(O)),S>O){var pe=S;S=O,O=pe}if(W||S%1||O%1){var Me=ns();return Fa(S+Me*(O-S+ja("1e-"+((Me+"").length-1))),O)}return Is(S,O)}var JC=Ld(function(S,O,W){return O=O.toLowerCase(),S+(W?dw(O):O)});function dw(S){return vv(Po(S).toLowerCase())}function N0(S){return S=Po(S),S&&S.replace(mt,Ul).replace(Oo,"")}function pw(S,O,W){S=Po(S),O=xl(O);var pe=S.length;W=W===r?pe:He(Pi(W),0,pe);var Me=W;return W-=O.length,W>=0&&S.slice(W,Me)==O}function Ap(S){return S=Po(S),S&&fo.test(S)?S.replace(Rn,Cd):S}function QC(S){return S=Po(S),S&&Nn.test(S)?S.replace(qr,"\\$&"):S}var mw=Ld(function(S,O,W){return S+(W?"-":"")+O.toLowerCase()}),gw=Ld(function(S,O,W){return S+(W?" ":"")+O.toLowerCase()}),eA=sm("toLowerCase");function vw(S,O,W){S=Po(S),O=Pi(O);var pe=O?lu(S):0;if(!O||pe>=O)return S;var Me=(O-pe)/2;return ju(vs(Me),W)+S+ju(Zr(Me),W)}function tA(S,O,W){S=Po(S),O=Pi(O);var pe=O?lu(S):0;return O&&pe<O?S+ju(O-pe,W):S}function rA(S,O,W){S=Po(S),O=Pi(O);var pe=O?lu(S):0;return O&&pe<O?ju(O-pe,W)+S:S}function yw(S,O,W){return W||O==null?O=0:O&&(O=+O),lc(Po(S).replace(Nr,""),O||0)}function nA(S,O,W){return(W?M(S,O,W):O===r)?O=1:O=Pi(O),Od(Po(S),O)}function By(){var S=arguments,O=Po(S[0]);return S.length<3?O:O.replace(S[1],S[2])}var iA=Ld(function(S,O,W){return S+(W?"_":"")+O.toLowerCase()});function B0(S,O,W){return W&&typeof W!="number"&&M(S,O,W)&&(O=W=r),W=W===r?_e:W>>>0,W?(S=Po(S),S&&(typeof O=="string"||O!=null&&!cm(O))&&(O=xl(O),!O&&Du(S))?Pf(Us(S),0,W):S.split(O,W)):[]}var VP=Ld(function(S,O,W){return S+(W?" ":"")+vv(O)});function oA(S,O,W){return S=Po(S),W=W==null?0:He(Pi(W),0,S.length),O=xl(O),S.slice(W,W+O.length)==O}function $P(S,O,W){var pe=Be.templateSettings;W&&M(S,O,W)&&(O=r),S=Po(S),O=hm({},O,pe,pf);var Me=hm({},O.imports,pe.imports,pf),tt=rl(Me),_t=ms(Me,tt),It,Xt,Ir=0,Mr=O.interpolate||qe,Br="__p += '",Sn=ic((O.escape||qe).source+"|"+Mr.source+"|"+(Mr===st?li:qe).source+"|"+(O.evaluate||qe).source+"|$","g"),Kn="//# sourceURL="+(Jn.call(O,"sourceURL")?(O.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++un+"]")+`
`;S.replace(Sn,function(Si,Ro,Zo,rd,jf,nd){return Zo||(Zo=rd),Br+=S.slice(Ir,nd).replace(Ke,rf),Ro&&(It=!0,Br+=`' +
__e(`+Ro+`) +
'`),jf&&(Xt=!0,Br+=`';
`+jf+`;
__p += '`),Zo&&(Br+=`' +
((__t = (`+Zo+`)) == null ? '' : __t) +
'`),Ir=nd+Si.length,Si}),Br+=`';
`;var wi=Jn.call(O,"variable")&&O.variable;if(!wi)Br=`with (obj) {
`+Br+`
}
`;else if(Ri.test(wi))throw new ti(a);Br=(Xt?Br.replace(Er,""):Br).replace(on,"$1").replace(Vr,"$1;"),Br="function("+(wi||"obj")+`) {
`+(wi?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(It?", __e = _.escape":"")+(Xt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Br+`return __p
}`;var vo=yv(function(){return Yi(tt,Kn+"return "+Br).apply(r,_t)});if(vo.source=Br,ea(vo))throw vo;return vo}function GP(S){return Po(S).toLowerCase()}function KP(S){return Po(S).toUpperCase()}function YP(S,O,W){if(S=Po(S),S&&(W||O===r))return eh(S);if(!S||!(O=xl(O)))return S;var pe=Us(S),Me=Us(O),tt=tc(pe,Me),_t=th(pe,Me)+1;return Pf(pe,tt,_t).join("")}function ZP(S,O,W){if(S=Po(S),S&&(W||O===r))return S.slice(0,nc(S)+1);if(!S||!(O=xl(O)))return S;var pe=Us(S),Me=th(pe,Us(O))+1;return Pf(pe,0,Me).join("")}function XP(S,O,W){if(S=Po(S),S&&(W||O===r))return S.replace(Nr,"");if(!S||!(O=xl(O)))return S;var pe=Us(S),Me=tc(pe,Us(O));return Pf(pe,Me).join("")}function JP(S,O){var W=we,pe=Se;if(Co(O)){var Me="separator"in O?O.separator:Me;W="length"in O?Pi(O.length):W,pe="omission"in O?xl(O.omission):pe}S=Po(S);var tt=S.length;if(Du(S)){var _t=Us(S);tt=_t.length}if(W>=tt)return S;var It=W-lu(pe);if(It<1)return pe;var Xt=_t?Pf(_t,0,It).join(""):S.slice(0,It);if(Me===r)return Xt+pe;if(_t&&(It+=Xt.length-It),cm(Me)){if(S.slice(It).search(Me)){var Ir,Mr=Xt;for(Me.global||(Me=ic(Me.source,Po(ke.exec(Me))+"g")),Me.lastIndex=0;Ir=Me.exec(Mr);)var Br=Ir.index;Xt=Xt.slice(0,Br===r?It:Br)}}else if(S.indexOf(xl(Me),It)!=It){var Sn=Xt.lastIndexOf(Me);Sn>-1&&(Xt=Xt.slice(0,Sn))}return Xt+pe}function QP(S){return S=Po(S),S&&mi.test(S)?S.replace(yn,Uc):S}var jd=Ld(function(S,O,W){return S+(W?" ":"")+O.toUpperCase()}),vv=sm("toUpperCase");function bw(S,O,W){return S=Po(S),O=W?r:O,O===r?fl(S)?gs(S):Cu(S):S.match(O)||[]}var yv=bi(function(S,O){try{return au(S,r,O)}catch(W){return ea(W)?W:new ti(W)}}),aA=Wu(function(S,O){return cl(O,function(W){W=Pn(W),xe(S,W,ut(S[W],S))}),S});function Eke(S){var O=S==null?0:S.length,W=en();return S=O?io(S,function(pe){if(typeof pe[1]!="function")throw new Ha(i);return[W(pe[0]),pe[1]]}):[],bi(function(pe){for(var Me=-1;++Me<O;){var tt=S[Me];if(au(tt[0],this,pe))return au(tt[1],this,pe)}})}function kke(S){return Ze(We(S,w))}function eR(S){return function(){return S}}function Cke(S,O){return S==null||S!==S?O:S}var Ake=$m(),Dke=$m(!0);function ph(S){return S}function tR(S){return el(typeof S=="function"?S:We(S,w))}function Oke(S){return Zl(We(S,w))}function Ike(S,O){return qu(S,We(O,w))}var Mke=bi(function(S,O){return function(W){return vn(W,S,O)}}),Lke=bi(function(S,O){return function(W){return vn(S,W,O)}});function rR(S,O,W){var pe=rl(O),Me=Gr(O,pe);W==null&&!(Co(O)&&(Me.length||!pe.length))&&(W=O,O=S,S=this,Me=Gr(O,rl(O)));var tt=!(Co(W)&&"chain"in W)||!!W.chain,_t=Xa(S);return cl(Me,function(It){var Xt=O[It];S[It]=Xt,_t&&(S.prototype[It]=function(){var Ir=this.__chain__;if(tt||Ir){var Mr=S(this.__wrapped__),Br=Mr.__actions__=Ka(this.__actions__);return Br.push({func:Xt,args:arguments,thisArg:S}),Mr.__chain__=Ir,Mr}return Xt.apply(S,su([this.value()],arguments))})}),S}function Pke(){return Ni._===this&&(Ni._=dl),this}function nR(){}function Rke(S){return S=Pi(S),bi(function(O){return Nu(O,S)})}var Fke=fh(io),qke=fh(zh),Nke=fh(Bc);function _H(S){return N(S)?Td(Pn(S)):Ga(S)}function Bke(S){return function(O){return S==null?r:hn(S,O)}}var zke=wp(),Uke=wp(!0);function iR(){return[]}function oR(){return!1}function jke(){return{}}function Hke(){return""}function Wke(){return!0}function Vke(S,O){if(S=Pi(S),S<1||S>G)return[];var W=_e,pe=Fa(S,_e);O=en(O),S-=_e;for(var Me=zc(pe,O);++W<S;)O(W);return Me}function $ke(S){return Wn(S)?io(S,Pn):Cl(S)?[S]:Ka(Wi(Po(S)))}function Gke(S){var O=++hl;return Po(S)+O}var Kke=_p(function(S,O){return S+O},0),Yke=Sp("ceil"),Zke=_p(function(S,O){return S/O},1),Xke=Sp("floor");function Jke(S){return S&&S.length?Ft(S,ph,Kr):r}function Qke(S,O){return S&&S.length?Ft(S,en(O,2),Kr):r}function eCe(S){return Uh(S,ph)}function tCe(S,O){return Uh(S,en(O,2))}function rCe(S){return S&&S.length?Ft(S,ph,yu):r}function nCe(S,O){return S&&S.length?Ft(S,en(O,2),yu):r}var iCe=_p(function(S,O){return S*O},1),oCe=Sp("round"),aCe=_p(function(S,O){return S-O},0);function sCe(S){return S&&S.length?kd(S,ph):0}function lCe(S,O){return S&&S.length?kd(S,en(O,2)):0}return Be.after=De,Be.ary=Le,Be.assign=M0,Be.assignIn=ag,Be.assignInWith=hm,Be.assignWith=sg,Be.at=qy,Be.before=Ve,Be.bind=ut,Be.bindAll=aA,Be.bindKey=ct,Be.castArray=zi,Be.chain=Qm,Be.chunk=Ko,Be.compact=_i,Be.concat=ko,Be.cond=Eke,Be.conforms=kke,Be.constant=eR,Be.countBy=tg,Be.create=hv,Be.curry=xt,Be.curryRight=gt,Be.debounce=Lt,Be.defaults=aw,Be.defaultsDeep=jC,Be.defer=Kt,Be.delay=Qt,Be.difference=Jl,Be.differenceBy=ma,Be.differenceWith=Ls,Be.drop=Ps,Be.dropRight=oa,Be.dropRightWhile=Nf,Be.dropWhile=Ca,Be.fill=Sl,Be.filter=Ws,Be.flatMap=C0,Be.flatMapDeep=A0,Be.flatMapDepth=ow,Be.flatten=Fd,Be.flattenDeep=Iy,Be.flattenDepth=bC,Be.flip=ar,Be.flow=Ake,Be.flowRight=Dke,Be.fromPairs=xC,Be.functions=Qh,Be.functionsIn=HP,Be.groupBy=BC,Be.initial=kP,Be.intersection=CP,Be.intersectionBy=wC,Be.intersectionWith=SC,Be.invert=P0,Be.invertBy=Ud,Be.invokeMap=UP,Be.iteratee=tR,Be.keyBy=Tl,Be.keys=rl,Be.keysIn=dc,Be.map=Jh,Be.mapKeys=F0,Be.mapValues=cw,Be.matches=Oke,Be.matchesProperty=Ike,Be.memoize=pr,Be.merge=WC,Be.mergeWith=dv,Be.method=Mke,Be.methodOf=Lke,Be.mixin=rR,Be.negate=Ar,Be.nthArg=Rke,Be.omit=VC,Be.omitBy=$C,Be.once=Hr,Be.orderBy=UC,Be.over=Fke,Be.overArgs=wn,Be.overEvery=qke,Be.overSome=Nke,Be.partial=Xr,Be.partialRight=An,Be.partition=s,Be.pick=GC,Be.pickBy=fw,Be.property=_H,Be.propertyOf=Bke,Be.pull=T0,Be.pullAll=Xm,Be.pullAllBy=AP,Be.pullAllWith=DP,Be.pullAt=OP,Be.range=zke,Be.rangeRight=Uke,Be.rearg=tn,Be.reject=E,Be.remove=rv,Be.rest=hi,Be.reverse=My,Be.sampleSize=L,Be.set=mf,Be.setWith=q0,Be.shuffle=B,Be.slice=TC,Be.sortBy=ve,Be.sortedUniq=E0,Be.sortedUniqBy=ew,Be.split=B0,Be.spread=zn,Be.tail=PP,Be.take=nv,Be.takeRight=Ly,Be.takeRightWhile=jo,Be.takeWhile=RP,Be.tap=MC,Be.throttle=pn,Be.thru=us,Be.toArray=uv,Be.toPairs=hw,Be.toPairsIn=ed,Be.toPath=$ke,Be.toPlainObject=fv,Be.transform=WP,Be.unary=Ei,Be.union=tw,Be.unionBy=iv,Be.unionWith=FP,Be.uniq=qP,Be.uniqBy=NP,Be.uniqWith=BP,Be.unset=YC,Be.unzip=rw,Be.unzipWith=CC,Be.update=lg,Be.updateWith=pv,Be.values=td,Be.valuesIn=mv,Be.without=zP,Be.words=bw,Be.wrap=ni,Be.xor=AC,Be.xorBy=DC,Be.xorWith=OC,Be.zip=IC,Be.zipObject=k0,Be.zipObjectDeep=Jm,Be.zipWith=nw,Be.entries=hw,Be.entriesIn=ed,Be.extend=ag,Be.extendWith=hm,rR(Be,Be),Be.add=Kke,Be.attempt=yv,Be.camelCase=JC,Be.capitalize=dw,Be.ceil=Yke,Be.clamp=gv,Be.clone=In,Be.cloneDeep=Da,Be.cloneDeepWith=cs,Be.cloneWith=lo,Be.conformsTo=Za,Be.deburr=N0,Be.defaultTo=Cke,Be.divide=Zke,Be.endsWith=pw,Be.eq=uo,Be.escape=Ap,Be.escapeRegExp=QC,Be.every=NC,Be.find=Py,Be.findIndex=Dc,Be.findKey=sw,Be.findLast=kp,Be.findLastIndex=Ql,Be.findLastKey=HC,Be.floor=Xke,Be.forEach=rg,Be.forEachRight=qd,Be.forIn=lw,Be.forInRight=jP,Be.forOwn=Ny,Be.forOwnRight=Ss,Be.get=zd,Be.gt=fs,Be.gte=tl,Be.has=uw,Be.hasIn=L0,Be.head=J1,Be.identity=ph,Be.includes=zC,Be.indexOf=_C,Be.inRange=ZC,Be.invoke=R0,Be.isArguments=Ba,Be.isArray=Wn,Be.isArrayBuffer=El,Be.isArrayLike=aa,Be.isArrayLikeObject=Ii,Be.isBoolean=kl,Be.isBuffer=si,Be.isDate=Yo,Be.isElement=Lo,Be.isEmpty=Vi,Be.isEqual=hc,Be.isEqualWith=wu,Be.isError=ea,Be.isFinite=Rs,Be.isFunction=Xa,Be.isInteger=Ji,Be.isLength=zf,Be.isMap=hs,Be.isMatch=Nd,Be.isMatchWith=dh,Be.isNaN=ov,Be.isNative=ng,Be.isNil=Cp,Be.isNull=av,Be.isNumber=ig,Be.isObject=Co,Be.isObjectLike=sa,Be.isPlainObject=um,Be.isRegExp=cm,Be.isSafeInteger=Ry,Be.isSet=Fy,Be.isString=og,Be.isSymbol=Cl,Be.isTypedArray=Bd,Be.isUndefined=sv,Be.isWeakMap=fm,Be.isWeakSet=lv,Be.join=_0,Be.kebabCase=mw,Be.last=Bf,Be.lastIndexOf=w0,Be.lowerCase=gw,Be.lowerFirst=eA,Be.lt=D0,Be.lte=O0,Be.max=Jke,Be.maxBy=Qke,Be.mean=eCe,Be.meanBy=tCe,Be.min=rCe,Be.minBy=nCe,Be.stubArray=iR,Be.stubFalse=oR,Be.stubObject=jke,Be.stubString=Hke,Be.stubTrue=Wke,Be.multiply=iCe,Be.nth=S0,Be.noConflict=Pke,Be.noop=nR,Be.now=Ee,Be.pad=vw,Be.padEnd=tA,Be.padStart=rA,Be.parseInt=yw,Be.random=XC,Be.reduce=c,Be.reduceRight=d,Be.repeat=nA,Be.replace=By,Be.result=KC,Be.round=oCe,Be.runInContext=Pt,Be.sample=I,Be.size=J,Be.snakeCase=iA,Be.some=le,Be.sortedIndex=Q1,Be.sortedIndexBy=EC,Be.sortedIndexOf=kC,Be.sortedLastIndex=IP,Be.sortedLastIndexBy=MP,Be.sortedLastIndexOf=LP,Be.startCase=VP,Be.startsWith=oA,Be.subtract=aCe,Be.sum=sCe,Be.sumBy=lCe,Be.template=$P,Be.times=Vke,Be.toFinite=Uf,Be.toInteger=Pi,Be.toLength=cv,Be.toLower=GP,Be.toNumber=Oc,Be.toSafeInteger=I0,Be.toString=Po,Be.toUpper=KP,Be.trim=YP,Be.trimEnd=ZP,Be.trimStart=XP,Be.truncate=JP,Be.unescape=QP,Be.uniqueId=Gke,Be.upperCase=jd,Be.upperFirst=vv,Be.each=rg,Be.eachRight=qd,Be.first=J1,rR(Be,function(){var S={};return br(Be,function(O,W){Jn.call(Be.prototype,W)||(S[W]=O)}),S}(),{chain:!1}),Be.VERSION=e,cl(["bind","bindKey","curry","curryRight","partial","partialRight"],function(S){Be[S].placeholder=Be}),cl(["drop","take"],function(S,O){Sr.prototype[S]=function(W){W=W===r?1:wr(Pi(W),0);var pe=this.__filtered__&&!O?new Sr(this):this.clone();return pe.__filtered__?pe.__takeCount__=Fa(W,pe.__takeCount__):pe.__views__.push({size:Fa(W,_e),type:S+(pe.__dir__<0?"Right":"")}),pe},Sr.prototype[S+"Right"]=function(W){return this.reverse()[S](W).reverse()}}),cl(["filter","map","takeWhile"],function(S,O){var W=O+1,pe=W==q||W==R;Sr.prototype[S]=function(Me){var tt=this.clone();return tt.__iteratees__.push({iteratee:en(Me,3),type:W}),tt.__filtered__=tt.__filtered__||pe,tt}}),cl(["head","last"],function(S,O){var W="take"+(O?"Right":"");Sr.prototype[S]=function(){return this[W](1).value()[0]}}),cl(["initial","tail"],function(S,O){var W="drop"+(O?"":"Right");Sr.prototype[S]=function(){return this.__filtered__?new Sr(this):this[W](1)}}),Sr.prototype.compact=function(){return this.filter(ph)},Sr.prototype.find=function(S){return this.filter(S).head()},Sr.prototype.findLast=function(S){return this.reverse().find(S)},Sr.prototype.invokeMap=bi(function(S,O){return typeof S=="function"?new Sr(this):this.map(function(W){return vn(W,S,O)})}),Sr.prototype.reject=function(S){return this.filter(Ar(en(S)))},Sr.prototype.slice=function(S,O){S=Pi(S);var W=this;return W.__filtered__&&(S>0||O<0)?new Sr(W):(S<0?W=W.takeRight(-S):S&&(W=W.drop(S)),O!==r&&(O=Pi(O),W=O<0?W.dropRight(-O):W.take(O-S)),W)},Sr.prototype.takeRightWhile=function(S){return this.reverse().takeWhile(S).reverse()},Sr.prototype.toArray=function(){return this.take(_e)},br(Sr.prototype,function(S,O){var W=/^(?:filter|find|map|reject)|While$/.test(O),pe=/^(?:head|last)$/.test(O),Me=Be[pe?"take"+(O=="last"?"Right":""):O],tt=pe||/^find/.test(O);!Me||(Be.prototype[O]=function(){var _t=this.__wrapped__,It=pe?[1]:arguments,Xt=_t instanceof Sr,Ir=It[0],Mr=Xt||Wn(_t),Br=function(Ro){var Zo=Me.apply(Be,su([Ro],It));return pe&&Sn?Zo[0]:Zo};Mr&&W&&typeof Ir=="function"&&Ir.length!=1&&(Xt=Mr=!1);var Sn=this.__chain__,Kn=!!this.__actions__.length,wi=tt&&!Sn,vo=Xt&&!Kn;if(!tt&&Mr){_t=vo?_t:new Sr(this);var Si=S.apply(_t,It);return Si.__actions__.push({func:us,args:[Br],thisArg:r}),new Rr(Si,Sn)}return wi&&vo?S.apply(this,It):(Si=this.thru(Br),wi?pe?Si.value()[0]:Si.value():Si)})}),cl(["pop","push","shift","sort","splice","unshift"],function(S){var O=Iu[S],W=/^(?:push|sort|unshift)$/.test(S)?"tap":"thru",pe=/^(?:pop|shift)$/.test(S);Be.prototype[S]=function(){var Me=arguments;if(pe&&!this.__chain__){var tt=this.value();return O.apply(Wn(tt)?tt:[],Me)}return this[W](function(_t){return O.apply(Wn(_t)?_t:[],Me)})}}),br(Sr.prototype,function(S,O){var W=Be[O];if(W){var pe=W.name+"";Jn.call(cf,pe)||(cf[pe]=[]),cf[pe].push({name:O,func:W})}}),cf[Yh(r,$).name]=[{name:"wrapper",func:r}],Sr.prototype.clone=Dd,Sr.prototype.reverse=bs,Sr.prototype.value=du,Be.prototype.at=Aa,Be.prototype.chain=LC,Be.prototype.commit=PC,Be.prototype.next=RC,Be.prototype.plant=qC,Be.prototype.reverse=iw,Be.prototype.toJSON=Be.prototype.valueOf=Be.prototype.value=eg,Be.prototype.first=Be.prototype.head,Vl&&(Be.prototype[Vl]=FC),Be},Hl=uu();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Ni._=Hl,define(function(){return Hl})):_a?((_a.exports=Hl)._=Hl,Nl._=Hl):Ni._=Hl}).call(j1)});var rEe=de((S9,T9)=>{(function(r,e){typeof S9=="object"&&typeof T9<"u"?T9.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self).Tagify=e()})(S9,function(){"use strict";function r(R,j){var G=Object.keys(R);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(R);j&&(V=V.filter(function(te){return Object.getOwnPropertyDescriptor(R,te).enumerable})),G.push.apply(G,V)}return G}function e(R){for(var j=1;j<arguments.length;j++){var G=arguments[j]!=null?arguments[j]:{};j%2?r(Object(G),!0).forEach(function(V){t(R,V,G[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(G)):r(Object(G)).forEach(function(V){Object.defineProperty(R,V,Object.getOwnPropertyDescriptor(G,V))})}return R}function t(R,j,G){return(j=function(V){var te=function(_e,K){if(typeof _e!="object"||_e===null)return _e;var U=_e[Symbol.toPrimitive];if(U!==void 0){var Ue=U.call(_e,K||"default");if(typeof Ue!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return(K==="string"?String:Number)(_e)}(V,"string");return typeof te=="symbol"?te:String(te)}(j))in R?Object.defineProperty(R,j,{value:G,enumerable:!0,configurable:!0,writable:!0}):R[j]=G,R}let n=(R,j,G,V)=>(R=""+R,j=""+j,V&&(R=R.trim(),j=j.trim()),G?R==j:R.toLowerCase()==j.toLowerCase()),i=(R,j)=>R&&Array.isArray(R)&&R.map(G=>a(G,j));function a(R,j){var G,V={};for(G in R)j.indexOf(G)<0&&(V[G]=R[G]);return V}function l(R){var j=document.createElement("div");return R.replace(/\&#?[0-9a-z]+;/gi,function(G){return j.innerHTML=G,j.innerText})}function h(R){return new DOMParser().parseFromString(R.trim(),"text/html").body.firstElementChild}function g(R,j){for(j=j||"previous";R=R[j+"Sibling"];)if(R.nodeType==3)return R}function w(R){return typeof R=="string"?R.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/`|'/g,"&#039;"):R}function C(R){var j=Object.prototype.toString.call(R).split(" ")[1].slice(0,-1);return R===Object(R)&&j!="Array"&&j!="Function"&&j!="RegExp"&&j!="HTMLUnknownElement"}function D(R,j,G){function V(te,_e){for(var K in _e)if(_e.hasOwnProperty(K)){if(C(_e[K])){C(te[K])?V(te[K],_e[K]):te[K]=Object.assign({},_e[K]);continue}if(Array.isArray(_e[K])){te[K]=Object.assign([],_e[K]);continue}te[K]=_e[K]}}return R instanceof Object||(R={}),V(R,j),G&&V(R,G),R}function F(){let R=[],j={};for(let G of arguments)for(let V of G)C(V)?j[V.value]||(R.push(V),j[V.value]=1):R.includes(V)||R.push(V);return R}function z(R){return String.prototype.normalize?typeof R=="string"?R.normalize("NFD").replace(/[\u0300-\u036f]/g,""):void 0:R}var Y=()=>/(?=.*chrome)(?=.*android)/i.test(navigator.userAgent);function $(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,R=>(R^crypto.getRandomValues(new Uint8Array(1))[0]&15>>R/4).toString(16))}function re(R){return R&&R.classList&&R.classList.contains(this.settings.classNames.tag)}function oe(R,j){var G=window.getSelection();return j=j||G.getRangeAt(0),typeof R=="string"&&(R=document.createTextNode(R)),j&&(j.deleteContents(),j.insertNode(R)),R}function ne(R,j,G){return R?(j&&(R.__tagifyTagData=G?j:D({},R.__tagifyTagData||{},j)),R.__tagifyTagData):(console.warn("tag element doesn't exist",R,j),j)}function he(R){if(R&&R.parentNode){var j=R,G=window.getSelection(),V=G.getRangeAt(0);G.rangeCount&&(V.setStartAfter(j),V.collapse(!0),G.removeAllRanges(),G.addRange(V))}}function _(R,j){R.forEach(G=>{if(ne(G.previousSibling)||!G.previousSibling){var V=document.createTextNode("\u200B");G.before(V),j&&he(V)}})}var ge={delimiters:",",pattern:null,tagTextProp:"value",maxTags:1/0,callbacks:{},addTagOnBlur:!0,addTagOn:["blur","tab","enter"],onChangeAfterBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,userInput:!0,keepInvalidTags:!1,createInvalidTags:!0,mixTagsAllowedAfter:/,|\.|\:|\s/,mixTagsInterpolator:["[[","]]"],backspace:!0,skipInvalid:!1,pasteAsTags:!0,editTags:{clicks:2,keepInvalid:!0},transformTag:()=>{},trim:!0,a11y:{focusableTags:!1},mixMode:{insertAfterTag:"\xA0"},autoComplete:{enabled:!0,rightKey:!1,tabKey:!1},classNames:{namespace:"tagify",mixMode:"tagify--mix",selectMode:"tagify--select",input:"tagify__input",focus:"tagify--focus",tagNoAnimation:"tagify--noAnim",tagInvalid:"tagify--invalid",tagNotAllowed:"tagify--notAllowed",scopeLoading:"tagify--loading",hasMaxTags:"tagify--hasMaxTags",hasNoTags:"tagify--noTags",empty:"tagify--empty",inputInvalid:"tagify__input--invalid",dropdown:"tagify__dropdown",dropdownWrapper:"tagify__dropdown__wrapper",dropdownHeader:"tagify__dropdown__header",dropdownFooter:"tagify__dropdown__footer",dropdownItem:"tagify__dropdown__item",dropdownItemActive:"tagify__dropdown__item--active",dropdownItemHidden:"tagify__dropdown__item--hidden",dropdownInital:"tagify__dropdown--initial",tag:"tagify__tag",tagText:"tagify__tag-text",tagX:"tagify__tag__removeBtn",tagLoading:"tagify__tag--loading",tagEditing:"tagify__tag--editable",tagFlash:"tagify__tag--flash",tagHide:"tagify__tag--hide"},dropdown:{classname:"",enabled:2,maxItems:10,searchKeys:["value","searchBy"],fuzzySearch:!0,caseSensitive:!1,accentedSearch:!0,includeSelectedTags:!1,escapeHTML:!0,highlightFirst:!1,closeOnSelect:!0,clearOnSelect:!0,position:"all",appendTarget:null},hooks:{beforeRemoveTag:()=>Promise.resolve(),beforePaste:()=>Promise.resolve(),suggestionClick:()=>Promise.resolve(),beforeKeyDown:()=>Promise.resolve()}};function fe(){this.dropdown={};for(let R in this._dropdown)this.dropdown[R]=typeof this._dropdown[R]=="function"?this._dropdown[R].bind(this):this._dropdown[R];this.dropdown.refs()}var me={refs(){this.DOM.dropdown=this.parseTemplate("dropdown",[this.settings]),this.DOM.dropdown.content=this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-wrapper']")},getHeaderRef(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-header']")},getFooterRef(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-footer']")},getAllSuggestionsRefs(){return[...this.DOM.dropdown.content.querySelectorAll(this.settings.classNames.dropdownItemSelector)]},show(R){var j,G,V,te=this.settings,_e=te.mode=="mix"&&!te.enforceWhitelist,K=!te.whitelist||!te.whitelist.length,U=te.dropdown.position=="manual";if(R=R===void 0?this.state.inputText:R,!(K&&!_e&&!te.templates.dropdownItemNoMatch||te.dropdown.enable===!1||this.state.isLoading||this.settings.readonly)){if(clearTimeout(this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems(R),R&&!this.suggestedListItems.length&&(this.trigger("dropdown:noMatch",R),te.templates.dropdownItemNoMatch&&(V=te.templates.dropdownItemNoMatch.call(this,{value:R}))),!V){if(this.suggestedListItems.length)R&&_e&&!this.state.editing.scope&&!n(this.suggestedListItems[0].value,R)&&this.suggestedListItems.unshift({value:R});else{if(!R||!_e||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide();this.suggestedListItems=[{value:R}]}G=""+(C(j=this.suggestedListItems[0])?j.value:j),te.autoComplete&&G&&G.indexOf(R)==0&&this.input.autocomplete.suggest.call(this,j)}this.dropdown.fill(V),te.dropdown.highlightFirst&&this.dropdown.highlightOption(this.DOM.dropdown.content.querySelector(te.classNames.dropdownItemSelector)),this.state.dropdown.visible||setTimeout(this.dropdown.events.binding.bind(this)),this.state.dropdown.visible=R||!0,this.state.dropdown.query=R,this.setStateSelection(),U||setTimeout(()=>{this.dropdown.position(),this.dropdown.render()}),setTimeout(()=>{this.trigger("dropdown:show",this.DOM.dropdown)})}},hide(R){var j=this.DOM,G=j.scope,V=j.dropdown,te=this.settings.dropdown.position=="manual"&&!R;if(V&&document.body.contains(V)&&!te)return window.removeEventListener("resize",this.dropdown.position),this.dropdown.events.binding.call(this,!1),G.setAttribute("aria-expanded",!1),V.parentNode.removeChild(V),setTimeout(()=>{this.state.dropdown.visible=!1},100),this.state.dropdown.query=this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger("dropdown:hide",V),this},toggle(R){this.dropdown[this.state.dropdown.visible&&!R?"hide":"show"]()},render(){var R,j,G,V=(R=this.DOM.dropdown,(G=R.cloneNode(!0)).style.cssText="position:fixed; top:-9999px; opacity:0",document.body.appendChild(G),j=G.clientHeight,G.parentNode.removeChild(G),j),te=this.settings;return typeof te.dropdown.enabled=="number"&&te.dropdown.enabled>=0?(this.DOM.scope.setAttribute("aria-expanded",!0),document.body.contains(this.DOM.dropdown)||(this.DOM.dropdown.classList.add(te.classNames.dropdownInital),this.dropdown.position(V),te.dropdown.appendTarget.appendChild(this.DOM.dropdown),setTimeout(()=>this.DOM.dropdown.classList.remove(te.classNames.dropdownInital))),this):this},fill(R){R=typeof R=="string"?R:this.dropdown.createListHTML(R||this.suggestedListItems);var j,G=this.settings.templates.dropdownContent.call(this,R);this.DOM.dropdown.content.innerHTML=(j=G)?j.replace(/\>[\r\n ]+\</g,"><").split(/>\s+</).join("><").trim():""},fillHeaderFooter(){var R=this.dropdown.filterListItems(this.state.dropdown.query),j=this.parseTemplate("dropdownHeader",[R]),G=this.parseTemplate("dropdownFooter",[R]),V=this.dropdown.getHeaderRef(),te=this.dropdown.getFooterRef();j&&V?.parentNode.replaceChild(j,V),G&&te?.parentNode.replaceChild(G,te)},refilter(R){R=R||this.state.dropdown.query||"",this.suggestedListItems=this.dropdown.filterListItems(R),this.dropdown.fill(),this.suggestedListItems.length||this.dropdown.hide(),this.trigger("dropdown:updated",this.DOM.dropdown)},position(R){var j=this.settings.dropdown;if(j.position!="manual"){var G,V,te,_e,K,U,Ue,Je,Qe,Ct=this.DOM.dropdown,Tt=j.RTL,Ht=j.appendTarget===document.body,Rt=Ht?window.pageYOffset:j.appendTarget.scrollTop,Yt=document.fullscreenElement||document.webkitFullscreenElement||document.documentElement,cr=Yt.clientHeight,Tr=Math.max(Yt.clientWidth||0,window.innerWidth||0)>480?j.position:"all",ir=this.DOM[Tr=="input"?"input":"scope"];if(R=R||Ct.clientHeight,this.state.dropdown.visible){if(Tr=="text"?(te=(G=function(){let At=document.getSelection();if(At.rangeCount){let kt=At.getRangeAt(0),rt=kt.startContainer,ce=kt.startOffset,Te,Ne;if(ce>0)return Ne=document.createRange(),Ne.setStart(rt,ce-1),Ne.setEnd(rt,ce),Te=Ne.getBoundingClientRect(),{left:Te.right,top:Te.top,bottom:Te.bottom};if(rt.getBoundingClientRect)return rt.getBoundingClientRect()}return{left:-9999,top:-9999}}()).bottom,V=G.top,_e=G.left,K="auto"):(U=function(At){for(var kt=0,rt=0;At&&At!=Yt;)kt+=At.offsetTop||0,rt+=At.offsetLeft||0,At=At.parentNode;return{top:kt,left:rt}}(j.appendTarget),V=(G=ir.getBoundingClientRect()).top-U.top,te=G.bottom-1-U.top,_e=G.left-U.left,K=G.width+"px"),!Ht){let At=function(){for(var kt=0,rt=j.appendTarget.parentNode;rt;)kt+=rt.scrollTop||0,rt=rt.parentNode;return kt}();V+=At,te+=At}V=Math.floor(V),te=Math.ceil(te),Je=((Ue=j.placeAbove??cr-G.bottom<R)?V:te)+Rt,Qe=`left: ${_e+(Tt&&G.width||0)+window.pageXOffset}px;`,Ct.style.cssText=`${Qe}; top: ${Je}px; min-width: ${K}; max-width: ${K}`,Ct.setAttribute("placement",Ue?"top":"bottom"),Ct.setAttribute("position",Tr)}}},events:{binding(){let R=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];var j=this.dropdown.events.callbacks,G=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this,null),onKeyDown:j.onKeyDown.bind(this),onMouseOver:j.onMouseOver.bind(this),onMouseLeave:j.onMouseLeave.bind(this),onClick:j.onClick.bind(this),onScroll:j.onScroll.bind(this)},V=R?"addEventListener":"removeEventListener";this.settings.dropdown.position!="manual"&&(document[V]("scroll",G.position,!0),window[V]("resize",G.position),window[V]("keydown",G.onKeyDown)),this.DOM.dropdown[V]("mouseover",G.onMouseOver),this.DOM.dropdown[V]("mouseleave",G.onMouseLeave),this.DOM.dropdown[V]("mousedown",G.onClick),this.DOM.dropdown.content[V]("scroll",G.onScroll)},callbacks:{onKeyDown(R){if(this.state.hasFocus&&!this.state.composing){var j=this.settings,G=this.DOM.dropdown.querySelector(j.classNames.dropdownItemActiveSelector),V=this.dropdown.getSuggestionDataByNode(G),te=j.mode=="mix";j.hooks.beforeKeyDown(R,{tagify:this}).then(_e=>{switch(R.key){case"ArrowDown":case"ArrowUp":case"Down":case"Up":R.preventDefault();var K=this.dropdown.getAllSuggestionsRefs(),U=R.key=="ArrowUp"||R.key=="Up";G&&(G=this.dropdown.getNextOrPrevOption(G,!U)),G&&G.matches(j.classNames.dropdownItemSelector)||(G=K[U?K.length-1:0]),this.dropdown.highlightOption(G,!0);break;case"Escape":case"Esc":this.dropdown.hide();break;case"ArrowRight":if(this.state.actions.ArrowLeft)return;case"Tab":{let Je=!j.autoComplete.rightKey||!j.autoComplete.tabKey;if(!te&&G&&Je&&!this.state.editing){R.preventDefault();var Ue=this.dropdown.getMappedValue(V);return this.input.autocomplete.set.call(this,Ue),!1}return!0}case"Enter":R.preventDefault(),j.hooks.suggestionClick(R,{tagify:this,tagData:V,suggestionElm:G}).then(()=>{if(G)return this.dropdown.selectOption(G),G=this.dropdown.getNextOrPrevOption(G,!U),void this.dropdown.highlightOption(G);this.dropdown.hide(),te||this.addTags(this.state.inputText.trim(),!0)}).catch(Je=>Je);break;case"Backspace":{if(te||this.state.editing.scope)return;let Je=this.input.raw.call(this);Je!=""&&Je.charCodeAt(0)!=8203||(j.backspace===!0?this.removeTags():j.backspace=="edit"&&setTimeout(this.editTag.bind(this),0))}}})}},onMouseOver(R){var j=R.target.closest(this.settings.classNames.dropdownItemSelector);this.dropdown.highlightOption(j)},onMouseLeave(R){this.dropdown.highlightOption()},onClick(R){if(R.button==0&&R.target!=this.DOM.dropdown&&R.target!=this.DOM.dropdown.content){var j=R.target.closest(this.settings.classNames.dropdownItemSelector),G=this.dropdown.getSuggestionDataByNode(j);this.state.actions.selectOption=!0,setTimeout(()=>this.state.actions.selectOption=!1,50),this.settings.hooks.suggestionClick(R,{tagify:this,tagData:G,suggestionElm:j}).then(()=>{j?this.dropdown.selectOption(j,R):this.dropdown.hide()}).catch(V=>console.warn(V))}},onScroll(R){var j=R.target,G=j.scrollTop/(j.scrollHeight-j.parentNode.clientHeight)*100;this.trigger("dropdown:scroll",{percentage:Math.round(G)})}}},getSuggestionDataByNode(R){var j=R&&R.getAttribute("value");return this.suggestedListItems.find(G=>G.value==j)||null},getNextOrPrevOption(R){let j=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];var G=this.dropdown.getAllSuggestionsRefs(),V=G.findIndex(te=>te===R);return j?G[V+1]:G[V-1]},highlightOption(R,j){var G,V=this.settings.classNames.dropdownItemActive;if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(V),this.state.ddItemElm.removeAttribute("aria-selected")),!R)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);G=this.dropdown.getSuggestionDataByNode(R),this.state.ddItemData=G,this.state.ddItemElm=R,R.classList.add(V),R.setAttribute("aria-selected",!0),j&&(R.parentNode.scrollTop=R.clientHeight+R.offsetTop-R.parentNode.clientHeight),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,G),this.dropdown.position())},selectOption(R,j){var G=this.settings,V=G.dropdown,te=V.clearOnSelect,_e=V.closeOnSelect;if(!R)return this.addTags(this.state.inputText,!0),void(_e&&this.dropdown.hide());j=j||{};var K=R.getAttribute("value"),U=K=="noMatch",Ue=this.suggestedListItems.find(Je=>(Je.value??Je)==K);if(this.trigger("dropdown:select",{data:Ue,elm:R,event:j}),K&&(Ue||U)){if(this.state.editing){let Je=this.normalizeTags([Ue])[0];Ue=G.transformTag.call(this,Je)||Je,this.onEditTagDone(null,D({__isValid:!0},Ue))}else this[G.mode=="mix"?"addMixTags":"addTags"]([Ue||this.input.raw.call(this)],te);this.DOM.input.parentNode&&(setTimeout(()=>{this.DOM.input.focus(),this.toggleFocusClass(!0)}),_e&&setTimeout(this.dropdown.hide.bind(this)),R.addEventListener("transitionend",()=>{this.dropdown.fillHeaderFooter(),setTimeout(()=>R.remove(),100)},{once:!0}),R.classList.add(this.settings.classNames.dropdownItemHidden))}else _e&&setTimeout(this.dropdown.hide.bind(this))},selectAll(R){this.suggestedListItems.length=0,this.dropdown.hide(),this.dropdown.filterListItems("");var j=this.dropdown.filterListItems("");return R||(j=this.state.dropdown.suggestions),this.addTags(j,!0),this},filterListItems(R,j){var G,V,te,_e,K,U=this.settings,Ue=U.dropdown,Je=(j=j||{},[]),Qe=[],Ct=U.whitelist,Tt=Ue.maxItems>=0?Ue.maxItems:1/0,Ht=Ue.searchKeys,Rt=0;if(!(R=U.mode=="select"&&this.value.length&&this.value[0][U.tagTextProp]==R?"":R)||!Ht.length)return Je=Ue.includeSelectedTags?Ct:Ct.filter(cr=>!this.isTagDuplicate(C(cr)?cr.value:cr)),this.state.dropdown.suggestions=Je,Je.slice(0,Tt);function Yt(cr,Tr){return Tr.toLowerCase().split(" ").every(ir=>cr.includes(ir.toLowerCase()))}for(K=Ue.caseSensitive?""+R:(""+R).toLowerCase();Rt<Ct.length;Rt++){let cr,Tr;G=Ct[Rt]instanceof Object?Ct[Rt]:{value:Ct[Rt]};let ir=Object.keys(G).some(At=>Ht.includes(At))?Ht:["value"];Ue.fuzzySearch&&!j.exact?(te=ir.reduce((At,kt)=>At+" "+(G[kt]||""),"").toLowerCase().trim(),Ue.accentedSearch&&(te=z(te),K=z(K)),cr=te.indexOf(K)==0,Tr=te===K,V=Yt(te,K)):(cr=!0,V=ir.some(At=>{var kt=""+(G[At]||"");return Ue.accentedSearch&&(kt=z(kt),K=z(K)),Ue.caseSensitive||(kt=kt.toLowerCase()),Tr=kt===K,j.exact?kt===K:kt.indexOf(K)==0})),_e=!Ue.includeSelectedTags&&this.isTagDuplicate(C(G)?G.value:G),V&&!_e&&(Tr&&cr?Qe.push(G):Ue.sortby=="startsWith"&&cr?Je.unshift(G):Je.push(G))}return this.state.dropdown.suggestions=Qe.concat(Je),typeof Ue.sortby=="function"?Ue.sortby(Qe.concat(Je),K):Qe.concat(Je).slice(0,Tt)},getMappedValue(R){var j=this.settings.dropdown.mapValueTo;return j?typeof j=="function"?j(R):R[j]||R.value:R.value},createListHTML(R){return D([],R).map((j,G)=>{typeof j!="string"&&typeof j!="number"||(j={value:j});var V=this.dropdown.getMappedValue(j);return V=typeof V=="string"&&this.settings.dropdown.escapeHTML?w(V):V,this.settings.templates.dropdownItem.apply(this,[e(e({},j),{},{mappedValue:V}),this])}).join("")}};let we="@yaireo/tagify/";var Se,be={empty:"empty",exceed:"number of tags exceeded",pattern:"pattern mismatch",duplicate:"already exists",notAllowed:"not allowed"},$e={wrapper:(R,j)=>`<tags class="${j.classNames.namespace} ${j.mode?`${j.classNames[j.mode+"Mode"]}`:""} ${R.className}"
                    ${j.readonly?"readonly":""}
                    ${j.disabled?"disabled":""}
                    ${j.required?"required":""}
                    ${j.mode==="select"?"spellcheck='false'":""}
                    tabIndex="-1">
            <span ${!j.readonly&&j.userInput?"contenteditable":""} tabIndex="0" data-placeholder="${j.placeholder||"&#8203;"}" aria-placeholder="${j.placeholder||""}"
                class="${j.classNames.input}"
                role="textbox"
                aria-autocomplete="both"
                aria-multiline="${j.mode=="mix"}"></span>
                &#8203;
        </tags>`,tag(R,j){let G=j.settings;return`<tag title="${R.title||R.value}"
                    contenteditable='false'
                    spellcheck='false'
                    tabIndex="${G.a11y.focusableTags?0:-1}"
                    class="${G.classNames.tag} ${R.class||""}"
                    ${this.getAttributes(R)}>
            <x title='' class="${G.classNames.tagX}" role='button' aria-label='remove tag'></x>
            <div>
                <span class="${G.classNames.tagText}">${R[G.tagTextProp]||R.value}</span>
            </div>
        </tag>`},dropdown(R){var j=R.dropdown;return`<div class="${j.position=="manual"?"":R.classNames.dropdown} ${j.classname}" role="listbox" aria-labelledby="dropdown" dir="${j.RTL?"rtl":""}">
                    <div data-selector='tagify-suggestions-wrapper' class="${R.classNames.dropdownWrapper}"></div>
                </div>`},dropdownContent(R){var j=this.settings.templates,G=this.state.dropdown.suggestions;return`
            ${j.dropdownHeader.call(this,G)}
            ${R}
            ${j.dropdownFooter.call(this,G)}
        `},dropdownItem(R){return`<div ${this.getAttributes(R)}
                    class='${this.settings.classNames.dropdownItem} ${R.class||""}'
                    tabindex="0"
                    role="option">${R.mappedValue||R.value}</div>`},dropdownHeader(R){return`<header data-selector='tagify-suggestions-header' class="${this.settings.classNames.dropdownHeader}"></header>`},dropdownFooter(R){var j=R.length-this.settings.dropdown.maxItems;return j>0?`<footer data-selector='tagify-suggestions-footer' class="${this.settings.classNames.dropdownFooter}">
                ${j} more items. Refine your search.
            </footer>`:""},dropdownItemNoMatch:null},q={customBinding(){this.customEventsList.forEach(R=>{this.on(R,this.settings.callbacks[R])})},binding(){let R=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];var j,G=this.events.callbacks,V=R?"addEventListener":"removeEventListener";if(!this.state.mainEvents||!R){for(var te in this.state.mainEvents=R,R&&!this.listeners.main&&(this.events.bindGlobal.call(this),this.settings.isJQueryPlugin&&jQuery(this.DOM.originalInput).on("tagify.removeAllTags",this.removeAllTags.bind(this))),j=this.listeners.main=this.listeners.main||{focus:["input",G.onFocusBlur.bind(this)],keydown:["input",G.onKeydown.bind(this)],click:["scope",G.onClickScope.bind(this)],dblclick:["scope",G.onDoubleClickScope.bind(this)],paste:["input",G.onPaste.bind(this)],drop:["input",G.onDrop.bind(this)],compositionstart:["input",G.onCompositionStart.bind(this)],compositionend:["input",G.onCompositionEnd.bind(this)]})this.DOM[j[te][0]][V](te,j[te][1]);clearInterval(this.listeners.main.originalInputValueObserverInterval),this.listeners.main.originalInputValueObserverInterval=setInterval(G.observeOriginalInputValue.bind(this),500);var _e=this.listeners.main.inputMutationObserver||new MutationObserver(G.onInputDOMChange.bind(this));_e.disconnect(),this.settings.mode=="mix"&&_e.observe(this.DOM.input,{childList:!0})}},bindGlobal(R){var j,G=this.events.callbacks,V=R?"removeEventListener":"addEventListener";if(this.listeners&&(R||!this.listeners.global))for(j of(this.listeners.global=this.listeners.global||[{type:this.isIE?"keydown":"input",target:this.DOM.input,cb:G[this.isIE?"onInputIE":"onInput"].bind(this)},{type:"keydown",target:window,cb:G.onWindowKeyDown.bind(this)},{type:"blur",target:this.DOM.input,cb:G.onFocusBlur.bind(this)},{type:"click",target:document,cb:G.onClickAnywhere.bind(this)}],this.listeners.global))j.target[V](j.type,j.cb)},unbindGlobal(){this.events.bindGlobal.call(this,!0)},callbacks:{onFocusBlur(R){var j=this.settings,G=R.target?this.trim(R.target.textContent):"",V=this.value?.[0]?.[j.tagTextProp],te=R.type,_e=j.dropdown.enabled>=0,K={relatedTarget:R.relatedTarget},U=this.state.actions.selectOption&&(_e||!j.dropdown.closeOnSelect),Ue=this.state.actions.addNew&&_e,Je=R.relatedTarget&&re.call(this,R.relatedTarget)&&this.DOM.scope.contains(R.relatedTarget);if(te=="blur"){if(R.relatedTarget===this.DOM.scope)return this.dropdown.hide(),void this.DOM.input.focus();this.postUpdate(),j.onChangeAfterBlur&&this.triggerChangeEvent()}if(!U&&!Ue)if(this.state.hasFocus=te=="focus"&&+new Date,this.toggleFocusClass(this.state.hasFocus),j.mode!="mix"){if(te=="focus")return this.trigger("focus",K),void(j.dropdown.enabled!==0&&j.userInput||this.dropdown.show(this.value.length?"":void 0));te=="blur"&&(this.trigger("blur",K),this.loading(!1),j.mode=="select"&&(Je&&(this.removeTags(),G=""),V===G&&(G="")),G&&!this.state.actions.selectOption&&j.addTagOnBlur&&j.addTagOn.includes("blur")&&this.addTags(G,!0)),this.DOM.input.removeAttribute("style"),this.dropdown.hide()}else te=="focus"?this.trigger("focus",K):R.type=="blur"&&(this.trigger("blur",K),this.loading(!1),this.dropdown.hide(),this.state.dropdown.visible=void 0,this.setStateSelection())},onCompositionStart(R){this.state.composing=!0},onCompositionEnd(R){this.state.composing=!1},onWindowKeyDown(R){var j,G=document.activeElement,V=re.call(this,G)&&this.DOM.scope.contains(document.activeElement),te=V&&G.hasAttribute("readonly");if(V&&!te)switch(j=G.nextElementSibling,R.key){case"Backspace":this.settings.readonly||(this.removeTags(G),(j||this.DOM.input).focus());break;case"Enter":setTimeout(this.editTag.bind(this),0,G)}},onKeydown(R){var j=this.settings;if(!this.state.composing&&j.userInput){j.mode=="select"&&j.enforceWhitelist&&this.value.length&&R.key!="Tab"&&R.preventDefault();var G=this.trim(R.target.textContent);this.trigger("keydown",{event:R}),j.hooks.beforeKeyDown(R,{tagify:this}).then(V=>{if(j.mode=="mix"){switch(R.key){case"Left":case"ArrowLeft":this.state.actions.ArrowLeft=!0;break;case"Delete":case"Backspace":if(this.state.editing)return;var te=document.getSelection(),_e=R.key=="Delete"&&te.anchorOffset==(te.anchorNode.length||0),K=te.anchorNode.previousSibling,U=te.anchorNode.nodeType==1||!te.anchorOffset&&K&&K.nodeType==1&&te.anchorNode.previousSibling;l(this.DOM.input.innerHTML);var Ue,Je,Qe,Ct=this.getTagElms(),Tt=te.anchorNode.length===1&&te.anchorNode.nodeValue==String.fromCharCode(8203);if(j.backspace=="edit"&&U)return Ue=te.anchorNode.nodeType==1?null:te.anchorNode.previousElementSibling,setTimeout(this.editTag.bind(this),0,Ue),void R.preventDefault();if(Y()&&U instanceof Element)return Qe=g(U),U.hasAttribute("readonly")||U.remove(),this.DOM.input.focus(),void setTimeout(()=>{he(Qe),this.DOM.input.click()});if(te.anchorNode.nodeName=="BR")return;if((_e||U)&&te.anchorNode.nodeType==1?Je=te.anchorOffset==0?_e?Ct[0]:null:Ct[Math.min(Ct.length,te.anchorOffset)-1]:_e?Je=te.anchorNode.nextElementSibling:U instanceof Element&&(Je=U),te.anchorNode.nodeType==3&&!te.anchorNode.nodeValue&&te.anchorNode.previousElementSibling&&R.preventDefault(),(U||_e)&&!j.backspace||te.type!="Range"&&!te.anchorOffset&&te.anchorNode==this.DOM.input&&R.key!="Delete")return void R.preventDefault();if(te.type!="Range"&&Je&&Je.hasAttribute("readonly"))return void he(g(Je));R.key=="Delete"&&Tt&&ne(te.anchorNode.nextSibling)&&this.removeTags(te.anchorNode.nextSibling),clearTimeout(Se),Se=setTimeout(()=>{var Rt=document.getSelection();l(this.DOM.input.innerHTML),!_e&&Rt.anchorNode.previousSibling,this.value=[].map.call(Ct,(Yt,cr)=>{var Tr=ne(Yt);if(Yt.parentNode||Tr.readonly)return Tr;this.trigger("remove",{tag:Yt,index:cr,data:Tr})}).filter(Yt=>Yt)},20)}return!0}var Ht=j.dropdown.position=="manual";switch(R.key){case"Backspace":j.mode=="select"&&j.enforceWhitelist&&this.value.length?this.removeTags():this.state.dropdown.visible&&j.dropdown.position!="manual"||R.target.textContent!=""&&G.charCodeAt(0)!=8203||(j.backspace===!0?this.removeTags():j.backspace=="edit"&&setTimeout(this.editTag.bind(this),0));break;case"Esc":case"Escape":if(this.state.dropdown.visible)return;R.target.blur();break;case"Down":case"ArrowDown":this.state.dropdown.visible||this.dropdown.show();break;case"ArrowRight":{let Rt=this.state.inputSuggestion||this.state.ddItemData;if(Rt&&j.autoComplete.rightKey)return void this.addTags([Rt],!0);break}case"Tab":{let Rt=j.mode=="select";if(!G||Rt)return!0;R.preventDefault()}case"Enter":if(this.state.dropdown.visible&&!Ht)return;R.preventDefault(),setTimeout(()=>{this.state.dropdown.visible&&!Ht||this.state.actions.selectOption||!j.addTagOn.includes(R.key.toLowerCase())||this.addTags(G,!0)})}}).catch(V=>V)}},onInput(R){this.postUpdate();var j=this.settings;if(j.mode=="mix")return this.events.callbacks.onMixTagsInput.call(this,R);var G=this.input.normalize.call(this,void 0,{trim:!1}),V=G.length>=j.dropdown.enabled,te={value:G,inputElm:this.DOM.input},_e=this.validateTag({value:G});j.mode=="select"&&this.toggleScopeValidation(_e),te.isValid=_e,this.state.inputText!=G&&(this.input.set.call(this,G,!1),G.search(j.delimiters)!=-1?this.addTags(G)&&this.input.set.call(this):j.dropdown.enabled>=0&&this.dropdown[V?"show":"hide"](G),this.trigger("input",te))},onMixTagsInput(R){var j,G,V,te,_e,K,U,Ue,Je=this.settings,Qe=this.value.length,Ct=this.getTagElms(),Tt=document.createDocumentFragment(),Ht=window.getSelection().getRangeAt(0),Rt=[].map.call(Ct,Yt=>ne(Yt).value);if(R.inputType=="deleteContentBackward"&&Y()&&this.events.callbacks.onKeydown.call(this,{target:R.target,key:"Backspace"}),_(this.getTagElms()),this.value.slice().forEach(Yt=>{Yt.readonly&&!Rt.includes(Yt.value)&&Tt.appendChild(this.createTagElem(Yt))}),Tt.childNodes.length&&(Ht.insertNode(Tt),this.setRangeAtStartEnd(!1,Tt.lastChild)),Ct.length!=Qe)return this.value=[].map.call(this.getTagElms(),Yt=>ne(Yt)),void this.update({withoutChangeEvent:!0});if(this.hasMaxTags())return!0;if(window.getSelection&&(K=window.getSelection()).rangeCount>0&&K.anchorNode.nodeType==3){if((Ht=K.getRangeAt(0).cloneRange()).collapse(!0),Ht.setStart(K.focusNode,0),V=(j=Ht.toString().slice(0,Ht.endOffset)).split(Je.pattern).length-1,(G=j.match(Je.pattern))&&(te=j.slice(j.lastIndexOf(G[G.length-1]))),te){if(this.state.actions.ArrowLeft=!1,this.state.tag={prefix:te.match(Je.pattern)[0],value:te.replace(Je.pattern,"")},this.state.tag.baseOffset=K.baseOffset-this.state.tag.value.length,Ue=this.state.tag.value.match(Je.delimiters))return this.state.tag.value=this.state.tag.value.replace(Je.delimiters,""),this.state.tag.delimiters=Ue[0],this.addTags(this.state.tag.value,Je.dropdown.clearOnSelect),void this.dropdown.hide();_e=this.state.tag.value.length>=Je.dropdown.enabled;try{U=(U=this.state.flaggedTags[this.state.tag.baseOffset]).prefix==this.state.tag.prefix&&U.value[0]==this.state.tag.value[0],this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch{}(U||V<this.state.mixMode.matchedPatternCount)&&(_e=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=V}setTimeout(()=>{this.update({withoutChangeEvent:!0}),this.trigger("input",D({},this.state.tag,{textContent:this.DOM.input.textContent})),this.state.tag&&this.dropdown[_e?"show":"hide"](this.state.tag.value)},10)},onInputIE(R){var j=this;setTimeout(function(){j.events.callbacks.onInput.call(j,R)})},observeOriginalInputValue(){this.DOM.originalInput.parentNode||this.destroy(),this.DOM.originalInput.value!=this.DOM.originalInput.tagifyValue&&this.loadOriginalValues()},onClickAnywhere(R){R.target==this.DOM.scope||this.DOM.scope.contains(R.target)||(this.toggleFocusClass(!1),this.state.hasFocus=!1)},onClickScope(R){var j=this.settings,G=R.target.closest("."+j.classNames.tag),V=+new Date-this.state.hasFocus;if(R.target!=this.DOM.scope){if(!R.target.classList.contains(j.classNames.tagX))return G?(this.trigger("click",{tag:G,index:this.getNodeIndex(G),data:ne(G),event:R}),void(j.editTags!==1&&j.editTags.clicks!==1||this.events.callbacks.onDoubleClickScope.call(this,R))):void(R.target==this.DOM.input&&(j.mode=="mix"&&this.fixFirefoxLastTagNoCaret(),V>500)?this.state.dropdown.visible?this.dropdown.hide():j.dropdown.enabled===0&&j.mode!="mix"&&this.dropdown.show(this.value.length?"":void 0):j.mode!="select"||j.dropdown.enabled!==0||this.state.dropdown.visible||this.dropdown.show());this.removeTags(R.target.parentNode)}else this.DOM.input.focus()},onPaste(R){R.preventDefault();var j,G,V=this.settings;if(V.mode=="select"&&V.enforceWhitelist||!V.userInput)return!1;V.readonly||(j=R.clipboardData||window.clipboardData,G=j.getData("Text"),V.hooks.beforePaste(R,{tagify:this,pastedText:G,clipboardData:j}).then(te=>{te===void 0&&(te=G),te&&(this.injectAtCaret(te,window.getSelection().getRangeAt(0)),this.settings.mode=="mix"?this.events.callbacks.onMixTagsInput.call(this,R):this.settings.pasteAsTags?this.addTags(this.state.inputText+te,!0):(this.state.inputText=te,this.dropdown.show(te)))}).catch(te=>te))},onDrop(R){R.preventDefault()},onEditTagInput(R,j){var G=R.closest("."+this.settings.classNames.tag),V=this.getNodeIndex(G),te=ne(G),_e=this.input.normalize.call(this,R),K={[this.settings.tagTextProp]:_e,__tagId:te.__tagId},U=this.validateTag(K);this.editTagChangeDetected(D(te,K))||R.originalIsValid!==!0||(U=!0),G.classList.toggle(this.settings.classNames.tagInvalid,U!==!0),te.__isValid=U,G.title=U===!0?te.title||te.value:U,_e.length>=this.settings.dropdown.enabled&&(this.state.editing&&(this.state.editing.value=_e),this.dropdown.show(_e)),this.trigger("edit:input",{tag:G,index:V,data:D({},this.value[V],{newValue:_e}),event:j})},onEditTagPaste(R,j){var G=(j.clipboardData||window.clipboardData).getData("Text");j.preventDefault();var V=oe(G);this.setRangeAtStartEnd(!1,V)},onEditTagFocus(R){this.state.editing={scope:R,input:R.querySelector("[contenteditable]")}},onEditTagBlur(R){if(this.state.editing&&(this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(R))){var j,G,V=this.settings,te=R.closest("."+V.classNames.tag),_e=ne(te),K=this.input.normalize.call(this,R),U={[V.tagTextProp]:K,__tagId:_e.__tagId},Ue=_e.__originalData,Je=this.editTagChangeDetected(D(_e,U)),Qe=this.validateTag(U);if(K)if(Je){if(j=this.hasMaxTags(),G=D({},Ue,{[V.tagTextProp]:this.trim(K),__isValid:Qe}),V.transformTag.call(this,G,Ue),(Qe=(!j||Ue.__isValid===!0)&&this.validateTag(G))!==!0){if(this.trigger("invalid",{data:G,tag:te,message:Qe}),V.editTags.keepInvalid)return;V.keepInvalidTags?G.__isValid=Qe:G=Ue}else V.keepInvalidTags&&(delete G.title,delete G["aria-invalid"],delete G.class);this.onEditTagDone(te,G)}else this.onEditTagDone(te,Ue);else this.onEditTagDone(te)}},onEditTagkeydown(R,j){if(!this.state.composing)switch(this.trigger("edit:keydown",{event:R}),R.key){case"Esc":case"Escape":this.state.editing=!1,j.__tagifyTagData.__originalData.value?j.parentNode.replaceChild(j.__tagifyTagData.__originalHTML,j):j.remove();break;case"Enter":case"Tab":R.preventDefault(),R.target.blur()}},onDoubleClickScope(R){var j,G,V=R.target.closest("."+this.settings.classNames.tag),te=ne(V),_e=this.settings;V&&_e.userInput&&te.editable!==!1&&(j=V.classList.contains(this.settings.classNames.tagEditing),G=V.hasAttribute("readonly"),_e.mode=="select"||_e.readonly||j||G||!this.settings.editTags||this.editTag(V),this.toggleFocusClass(!0),this.trigger("dblclick",{tag:V,index:this.getNodeIndex(V),data:ne(V)}))},onInputDOMChange(R){R.forEach(G=>{G.addedNodes.forEach(V=>{if(V.outerHTML=="<div><br></div>")V.replaceWith(document.createElement("br"));else if(V.nodeType==1&&V.querySelector(this.settings.classNames.tagSelector)){let te=document.createTextNode("");V.childNodes[0].nodeType==3&&V.previousSibling.nodeName!="BR"&&(te=document.createTextNode(`
`)),V.replaceWith(te,...[...V.childNodes].slice(0,-1)),he(te)}else if(re.call(this,V))if(V.previousSibling?.nodeType!=3||V.previousSibling.textContent||V.previousSibling.remove(),V.previousSibling&&V.previousSibling.nodeName=="BR"){V.previousSibling.replaceWith(`
\u200B`);let te=V.nextSibling,_e="";for(;te;)_e+=te.textContent,te=te.nextSibling;_e.trim()&&he(V.previousSibling)}else V.previousSibling&&!ne(V.previousSibling)||V.before("\u200B")}),G.removedNodes.forEach(V=>{V&&V.nodeName=="BR"&&re.call(this,j)&&(this.removeTags(j),this.fixFirefoxLastTagNoCaret())})});var j=this.DOM.input.lastChild;j&&j.nodeValue==""&&j.remove(),j&&j.nodeName=="BR"||this.DOM.input.appendChild(document.createElement("br"))}}};function ee(R,j){if(!R){console.warn("Tagify:","input element not found",R);let V=new Proxy(this,{get:()=>()=>V});return V}if(R.__tagify)return console.warn("Tagify: ","input element is already Tagified - Same instance is returned.",R),R.__tagify;var G;D(this,function(V){var te=document.createTextNode("");function _e(K,U,Ue){Ue&&U.split(/\s+/g).forEach(Je=>te[K+"EventListener"].call(te,Je,Ue))}return{off(K,U){return _e("remove",K,U),this},on(K,U){return U&&typeof U=="function"&&_e("add",K,U),this},trigger(K,U,Ue){var Je;if(Ue=Ue||{cloneData:!0},K)if(V.settings.isJQueryPlugin)K=="remove"&&(K="removeTag"),jQuery(V.DOM.originalInput).triggerHandler(K,[U]);else{try{var Qe=typeof U=="object"?U:{value:U};if((Qe=Ue.cloneData?D({},Qe):Qe).tagify=this,U.event&&(Qe.event=this.cloneEvent(U.event)),U instanceof Object)for(var Ct in U)U[Ct]instanceof HTMLElement&&(Qe[Ct]=U[Ct]);Je=new CustomEvent(K,{detail:Qe})}catch(Tt){console.warn(Tt)}te.dispatchEvent(Je)}}}}(this)),this.isFirefox=/firefox|fxios/i.test(navigator.userAgent)&&!/seamonkey/i.test(navigator.userAgent),this.isIE=window.document.documentMode,j=j||{},this.getPersistedData=(G=j.id,V=>{let te,_e="/"+V;if(localStorage.getItem(we+G+"/v",1)==1)try{te=JSON.parse(localStorage[we+G+_e])}catch{}return te}),this.setPersistedData=(V=>V?(localStorage.setItem(we+V+"/v",1),(te,_e)=>{let K="/"+_e,U=JSON.stringify(te);te&&_e&&(localStorage.setItem(we+V+K,U),dispatchEvent(new Event("storage")))}):()=>{})(j.id),this.clearPersistedData=(V=>te=>{let _e=we+"/"+V+"/";if(te)localStorage.removeItem(_e+te);else for(let K in localStorage)K.includes(_e)&&localStorage.removeItem(K)})(j.id),this.applySettings(R,j),this.state={inputText:"",editing:!1,composing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},this.build(R),fe.call(this),this.getCSSVars(),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),R.autofocus&&this.DOM.input.focus(),R.__tagify=this}return ee.prototype={_dropdown:me,placeCaretAfterNode:he,getSetTagData:ne,helpers:{sameStr:n,removeCollectionProp:i,omit:a,isObject:C,parseHTML:h,escapeHTML:w,extend:D,concatWithoutDups:F,getUID:$,isNodeTag:re},customEventsList:["change","add","remove","invalid","input","click","keydown","focus","blur","edit:input","edit:beforeUpdate","edit:updated","edit:start","edit:keydown","dropdown:show","dropdown:hide","dropdown:select","dropdown:updated","dropdown:noMatch","dropdown:scroll"],dataProps:["__isValid","__removed","__originalData","__originalHTML","__tagId"],trim(R){return this.settings.trim&&R&&typeof R=="string"?R.trim():R},parseHTML:h,templates:$e,parseTemplate(R,j){return h((R=this.settings.templates[R]||R).apply(this,j))},set whitelist(R){let j=R&&Array.isArray(R);this.settings.whitelist=j?R:[],this.setPersistedData(j?R:[],"whitelist")},get whitelist(){return this.settings.whitelist},generateClassSelectors(R){for(let j in R){let G=j;Object.defineProperty(R,G+"Selector",{get(){return"."+this[G].split(" ")[0]}})}},applySettings(R,j){ge.templates=this.templates;var G=D({},ge,j.mode=="mix"?{dropdown:{position:"text"}}:{}),V=this.settings=D({},G,j);if(V.disabled=R.hasAttribute("disabled"),V.readonly=V.readonly||R.hasAttribute("readonly"),V.placeholder=w(R.getAttribute("placeholder")||V.placeholder||""),V.required=R.hasAttribute("required"),this.generateClassSelectors(V.classNames),V.dropdown.includeSelectedTags===void 0&&(V.dropdown.includeSelectedTags=V.duplicates),this.isIE&&(V.autoComplete=!1),["whitelist","blacklist"].forEach(_e=>{var K=R.getAttribute("data-"+_e);K&&(K=K.split(V.delimiters))instanceof Array&&(V[_e]=K)}),"autoComplete"in j&&!C(j.autoComplete)&&(V.autoComplete=ge.autoComplete,V.autoComplete.enabled=j.autoComplete),V.mode=="mix"&&(V.pattern=V.pattern||/@/,V.autoComplete.rightKey=!0,V.delimiters=j.delimiters||null,V.tagTextProp&&!V.dropdown.searchKeys.includes(V.tagTextProp)&&V.dropdown.searchKeys.push(V.tagTextProp)),R.pattern)try{V.pattern=new RegExp(R.pattern)}catch{}if(V.delimiters){V._delimiters=V.delimiters;try{V.delimiters=new RegExp(this.settings.delimiters,"g")}catch{}}V.disabled&&(V.userInput=!1),this.TEXTS=e(e({},be),V.texts||{}),(V.mode!="select"||j.dropdown?.enabled)&&V.userInput||(V.dropdown.enabled=0),V.dropdown.appendTarget=j.dropdown?.appendTarget||document.body;let te=this.getPersistedData("whitelist");Array.isArray(te)&&(this.whitelist=Array.isArray(V.whitelist)?F(V.whitelist,te):te)},getAttributes(R){var j,G=this.getCustomAttributes(R),V="";for(j in G)V+=" "+j+(R[j]!==void 0?`="${G[j]}"`:"");return V},getCustomAttributes(R){if(!C(R))return"";var j,G={};for(j in R)j.slice(0,2)!="__"&&j!="class"&&R.hasOwnProperty(j)&&R[j]!==void 0&&(G[j]=w(R[j]));return G},setStateSelection(){var R=window.getSelection(),j={anchorOffset:R.anchorOffset,anchorNode:R.anchorNode,range:R.getRangeAt&&R.rangeCount&&R.getRangeAt(0)};return this.state.selection=j,j},getCSSVars(){var R=getComputedStyle(this.DOM.scope,null),j;this.CSSVars={tagHideTransition:(G=>{let V=G.value;return G.unit=="s"?1e3*V:V})(function(G){if(!G)return{};var V=(G=G.trim().split(" ")[0]).split(/\d+/g).filter(te=>te).pop().trim();return{value:+G.split(V).filter(te=>te)[0].trim(),unit:V}}((j="tag-hide-transition",R.getPropertyValue("--"+j))))}},build(R){var j=this.DOM;this.settings.mixMode.integrated?(j.originalInput=null,j.scope=R,j.input=R):(j.originalInput=R,j.originalInput_tabIndex=R.tabIndex,j.scope=this.parseTemplate("wrapper",[R,this.settings]),j.input=j.scope.querySelector(this.settings.classNames.inputSelector),R.parentNode.insertBefore(j.scope,R),R.tabIndex=-1)},destroy(){this.events.unbindGlobal.call(this),this.DOM.scope.parentNode.removeChild(this.DOM.scope),this.DOM.originalInput.tabIndex=this.DOM.originalInput_tabIndex,delete this.DOM.originalInput.__tagify,this.dropdown.hide(!0),clearTimeout(this.dropdownHide__bindEventsTimeout),clearInterval(this.listeners.main.originalInputValueObserverInterval)},loadOriginalValues(R){var j,G=this.settings;if(this.state.blockChangeEvent=!0,R===void 0){let V=this.getPersistedData("value");R=V&&!this.DOM.originalInput.value?V:G.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value}if(this.removeAllTags(),R)if(G.mode=="mix")this.parseMixTags(R),(j=this.DOM.input.lastChild)&&j.tagName=="BR"||this.DOM.input.insertAdjacentHTML("beforeend","<br>");else{try{JSON.parse(R)instanceof Array&&(R=JSON.parse(R))}catch{}this.addTags(R,!0).forEach(V=>V&&V.classList.add(G.classNames.tagNoAnimation))}else this.postUpdate();this.state.lastOriginalValueReported=G.mixMode.integrated?"":this.DOM.originalInput.value},cloneEvent(R){var j={};for(var G in R)G!="path"&&(j[G]=R[G]);return j},loading(R){return this.state.isLoading=R,this.DOM.scope.classList[R?"add":"remove"](this.settings.classNames.scopeLoading),this},tagLoading(R,j){return R&&R.classList[j?"add":"remove"](this.settings.classNames.tagLoading),this},toggleClass(R,j){typeof R=="string"&&this.DOM.scope.classList.toggle(R,j)},toggleScopeValidation(R){var j=R===!0||R===void 0;!this.settings.required&&R&&R===this.TEXTS.empty&&(j=!0),this.toggleClass(this.settings.classNames.tagInvalid,!j),this.DOM.scope.title=j?"":R},toggleFocusClass(R){this.toggleClass(this.settings.classNames.focus,!!R)},triggerChangeEvent:function(){if(!this.settings.mixMode.integrated){var R=this.DOM.originalInput,j=this.state.lastOriginalValueReported!==R.value,G=new CustomEvent("change",{bubbles:!0});j&&(this.state.lastOriginalValueReported=R.value,G.simulated=!0,R._valueTracker&&R._valueTracker.setValue(Math.random()),R.dispatchEvent(G),this.trigger("change",this.state.lastOriginalValueReported),R.value=this.state.lastOriginalValueReported)}},events:q,fixFirefoxLastTagNoCaret(){},setRangeAtStartEnd(R,j){if(j){R=typeof R=="number"?R:!!R,j=j.lastChild||j;var G=document.getSelection();if(G.focusNode instanceof Element&&!this.DOM.input.contains(G.focusNode))return!0;try{G.rangeCount>=1&&["Start","End"].forEach(V=>G.getRangeAt(0)["set"+V](j,R||j.length))}catch(V){console.warn("Tagify: ",V)}}},insertAfterTag(R,j){if(j=j||this.settings.mixMode.insertAfterTag,R&&R.parentNode&&j)return j=typeof j=="string"?document.createTextNode(j):j,R.parentNode.insertBefore(j,R.nextSibling),j},editTagChangeDetected(R){var j=R.__originalData;for(var G in j)if(!this.dataProps.includes(G)&&R[G]!=j[G])return!0;return!1},getTagTextNode(R){return R.querySelector(this.settings.classNames.tagTextSelector)},setTagTextNode(R,j){this.getTagTextNode(R).innerHTML=w(j)},editTag(R,j){R=R||this.getLastTag(),j=j||{},this.dropdown.hide();var G=this.settings,V=this.getTagTextNode(R),te=this.getNodeIndex(R),_e=ne(R),K=this.events.callbacks,U=!0;if(V){if(!(_e instanceof Object&&"editable"in _e)||_e.editable)return _e=ne(R,{__originalData:D({},_e),__originalHTML:R.cloneNode(!0)}),ne(_e.__originalHTML,_e.__originalData),V.setAttribute("contenteditable",!0),R.classList.add(G.classNames.tagEditing),V.addEventListener("focus",K.onEditTagFocus.bind(this,R)),V.addEventListener("blur",K.onEditTagBlur.bind(this,this.getTagTextNode(R))),V.addEventListener("input",K.onEditTagInput.bind(this,V)),V.addEventListener("paste",K.onEditTagPaste.bind(this,V)),V.addEventListener("keydown",Ue=>K.onEditTagkeydown.call(this,Ue,R)),V.addEventListener("compositionstart",K.onCompositionStart.bind(this)),V.addEventListener("compositionend",K.onCompositionEnd.bind(this)),j.skipValidation||(U=this.editTagToggleValidity(R)),V.originalIsValid=U,this.trigger("edit:start",{tag:R,index:te,data:_e,isValid:U}),V.focus(),this.setRangeAtStartEnd(!1,V),this}else console.warn("Cannot find element in Tag template: .",G.classNames.tagTextSelector)},editTagToggleValidity(R,j){var G;if(j=j||ne(R))return(G=!("__isValid"in j)||j.__isValid===!0)||this.removeTagsFromValue(R),this.update(),R.classList.toggle(this.settings.classNames.tagNotAllowed,!G),j.__isValid=G,j.__isValid;console.warn("tag has no data: ",R,j)},onEditTagDone(R,j){R=R||this.state.editing.scope,j=j||{};var G,V={tag:R,index:this.getNodeIndex(R),previousData:ne(R),data:j},te=this.settings;this.trigger("edit:beforeUpdate",V,{cloneData:!1}),this.state.editing=!1,delete j.__originalData,delete j.__originalHTML,R&&((G=j[te.tagTextProp])?G.trim()&&G:te.tagTextProp in j?void 0:j.value)?(R=this.replaceTag(R,j),this.editTagToggleValidity(R,j),te.a11y.focusableTags?R.focus():he(R)):R&&this.removeTags(R),this.trigger("edit:updated",V),this.dropdown.hide(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()},replaceTag(R,j){j&&j.value||(j=R.__tagifyTagData),j.__isValid&&j.__isValid!=1&&D(j,this.getInvalidTagAttrs(j,j.__isValid));var G=this.createTagElem(j);return R.parentNode.replaceChild(G,R),this.updateValueByDOMTags(),G},updateValueByDOMTags(){this.value.length=0,[].forEach.call(this.getTagElms(),R=>{R.classList.contains(this.settings.classNames.tagNotAllowed.split(" ")[0])||this.value.push(ne(R))}),this.update()},injectAtCaret(R,j){if(!(j=j||this.state.selection?.range)&&R)return this.appendMixTags(R),this;let G=oe(R,j);return this.setRangeAtStartEnd(!1,G),this.updateValueByDOMTags(),this.update(),this},input:{set(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",j=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];var G=this.settings.dropdown.closeOnSelect;this.state.inputText=R,j&&(this.DOM.input.innerHTML=w(""+R)),!R&&G&&this.dropdown.hide.bind(this),this.input.autocomplete.suggest.call(this),this.input.validate.call(this)},raw(){return this.DOM.input.textContent},validate(){var R=!this.state.inputText||this.validateTag({value:this.state.inputText})===!0;return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid,!R),R},normalize(R,j){var G=R||this.DOM.input,V=[];G.childNodes.forEach(te=>te.nodeType==3&&V.push(te.nodeValue)),V=V.join(`
`);try{V=V.replace(/(?:\r\n|\r|\n)/g,this.settings.delimiters.source.charAt(0))}catch{}return V=V.replace(/\s/g," "),j?.trim?this.trim(V):V},autocomplete:{suggest(R){if(this.settings.autoComplete.enabled){typeof(R=R||{value:""})=="string"&&(R={value:R});var j=this.dropdown.getMappedValue(R);if(typeof j!="number"){var G=j.substr(0,this.state.inputText.length).toLowerCase(),V=j.substring(this.state.inputText.length);j&&this.state.inputText&&G==this.state.inputText.toLowerCase()?(this.DOM.input.setAttribute("data-suggest",V),this.state.inputSuggestion=R):(this.DOM.input.removeAttribute("data-suggest"),delete this.state.inputSuggestion)}}},set(R){var j=this.DOM.input.getAttribute("data-suggest"),G=R||(j?this.state.inputText+j:null);return!!G&&(this.settings.mode=="mix"?this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix+G)):(this.input.set.call(this,G),this.setRangeAtStartEnd(!1,this.DOM.input)),this.input.autocomplete.suggest.call(this),this.dropdown.hide(),!0)}}},getTagIdx(R){return this.value.findIndex(j=>j.__tagId==(R||{}).__tagId)},getNodeIndex(R){var j=0;if(R)for(;R=R.previousElementSibling;)j++;return j},getTagElms(){for(var R=arguments.length,j=new Array(R),G=0;G<R;G++)j[G]=arguments[G];var V="."+[...this.settings.classNames.tag.split(" "),...j].join(".");return[].slice.call(this.DOM.scope.querySelectorAll(V))},getLastTag(){var R=this.DOM.scope.querySelectorAll(`${this.settings.classNames.tagSelector}:not(.${this.settings.classNames.tagHide}):not([readonly])`);return R[R.length-1]},isTagDuplicate(R,j,G){var V=0;if(this.settings.mode=="select")return!1;for(let te of this.value)n(this.trim(""+R),te.value,j)&&G!=te.__tagId&&V++;return V},getTagIndexByValue(R){var j=[],G=this.settings.dropdown.caseSensitive;return this.getTagElms().forEach((V,te)=>{V.__tagifyTagData&&n(this.trim(V.__tagifyTagData.value),R,G)&&j.push(te)}),j},getTagElmByValue(R){var j=this.getTagIndexByValue(R)[0];return this.getTagElms()[j]},flashTag(R){R&&(R.classList.add(this.settings.classNames.tagFlash),setTimeout(()=>{R.classList.remove(this.settings.classNames.tagFlash)},100))},isTagBlacklisted(R){return R=this.trim(R.toLowerCase()),this.settings.blacklist.filter(j=>(""+j).toLowerCase()==R).length},isTagWhitelisted(R){return!!this.getWhitelistItem(R)},getWhitelistItem(R,j,G){j=j||"value";var V,te=this.settings;return(G=G||te.whitelist).some(_e=>{var K=typeof _e=="string"?_e:_e[j]||_e.value;if(n(K,R,te.dropdown.caseSensitive,te.trim))return V=typeof _e=="string"?{value:_e}:_e,!0}),V||j!="value"||te.tagTextProp=="value"||(V=this.getWhitelistItem(R,te.tagTextProp,G)),V},validateTag(R){var j=this.settings,G="value"in R?"value":j.tagTextProp,V=this.trim(R[G]+"");return(R[G]+"").trim()?j.mode!="mix"&&j.pattern&&j.pattern instanceof RegExp&&!j.pattern.test(V)?this.TEXTS.pattern:!j.duplicates&&this.isTagDuplicate(V,j.dropdown.caseSensitive,R.__tagId)?this.TEXTS.duplicate:this.isTagBlacklisted(V)||j.enforceWhitelist&&!this.isTagWhitelisted(V)?this.TEXTS.notAllowed:!j.validate||j.validate(R):this.TEXTS.empty},getInvalidTagAttrs(R,j){return{"aria-invalid":!0,class:`${R.class||""} ${this.settings.classNames.tagNotAllowed}`.trim(),title:j}},hasMaxTags(){return this.value.length>=this.settings.maxTags&&this.TEXTS.exceed},setReadonly(R,j){var G=this.settings;document.activeElement.blur(),G[j||"readonly"]=R,this.DOM.scope[(R?"set":"remove")+"Attribute"](j||"readonly",!0),this.settings.userInput=!0,this.setContentEditable(!R)},setContentEditable(R){this.settings.userInput&&(this.DOM.input.contentEditable=R,this.DOM.input.tabIndex=R?0:-1)},setDisabled(R){this.setReadonly(R,"disabled")},normalizeTags(R){var j=this.settings,G=j.whitelist,V=j.delimiters,te=j.mode,_e=j.tagTextProp,K=[],U=!!G&&G[0]instanceof Object,Ue=Array.isArray(R),Je=Ue&&R[0].value,Qe=Ct=>(Ct+"").split(V).filter(Tt=>Tt).map(Tt=>({[_e]:this.trim(Tt),value:this.trim(Tt)}));if(typeof R=="number"&&(R=R.toString()),typeof R=="string"){if(!R.trim())return[];R=Qe(R)}else Ue&&(R=[].concat(...R.map(Ct=>Ct.value!=null?Ct:Qe(Ct))));return U&&!Je&&(R.forEach(Ct=>{var Tt=K.map(Yt=>Yt.value),Ht=this.dropdown.filterListItems.call(this,Ct[_e],{exact:!0});this.settings.duplicates||(Ht=Ht.filter(Yt=>!Tt.includes(Yt.value)));var Rt=Ht.length>1?this.getWhitelistItem(Ct[_e],_e,Ht):Ht[0];Rt&&Rt instanceof Object?K.push(Rt):te!="mix"&&(Ct.value==null&&(Ct.value=Ct[_e]),K.push(Ct))}),K.length&&(R=K)),R},parseMixTags(R){var j=this.settings,G=j.mixTagsInterpolator,V=j.duplicates,te=j.transformTag,_e=j.enforceWhitelist,K=j.maxTags,U=j.tagTextProp,Ue=[];R=R.split(G[0]).map((Qe,Ct)=>{var Tt,Ht,Rt,Yt=Qe.split(G[1]),cr=Yt[0],Tr=Ue.length==K;try{if(cr==+cr)throw Error;Ht=JSON.parse(cr)}catch{Ht=this.normalizeTags(cr)[0]||{value:cr}}if(te.call(this,Ht),Tr||!(Yt.length>1)||_e&&!this.isTagWhitelisted(Ht.value)||!V&&this.isTagDuplicate(Ht.value)){if(Qe)return Ct?G[0]+Qe:Qe}else Ht[Tt=Ht[U]?U:"value"]=this.trim(Ht[Tt]),Rt=this.createTagElem(Ht),Ue.push(Ht),Rt.classList.add(this.settings.classNames.tagNoAnimation),Yt[0]=Rt.outerHTML,this.value.push(Ht);return Yt.join("")}).join(""),this.DOM.input.innerHTML=R,this.DOM.input.appendChild(document.createTextNode("")),this.DOM.input.normalize();var Je=this.getTagElms();return Je.forEach((Qe,Ct)=>ne(Qe,Ue[Ct])),this.update({withoutChangeEvent:!0}),_(Je,this.state.hasFocus),R},replaceTextWithNode(R,j){if(this.state.tag||j){j=j||this.state.tag.prefix+this.state.tag.value;var G,V,te=this.state.selection||window.getSelection(),_e=te.anchorNode,K=this.state.tag.delimiters?this.state.tag.delimiters.length:0;return _e.splitText(te.anchorOffset-K),(G=_e.nodeValue.lastIndexOf(j))==-1||(V=_e.splitText(G),R&&_e.parentNode.replaceChild(R,V)),!0}},selectTag(R,j){var G=this.settings;if(!G.enforceWhitelist||this.isTagWhitelisted(j.value)){this.input.set.call(this,j[G.tagTextProp]||j.value,!0),this.state.actions.selectOption&&setTimeout(()=>this.setRangeAtStartEnd(!1,this.DOM.input));var V=this.getLastTag();return V?this.replaceTag(V,j):this.appendTag(R),this.value[0]=j,this.update(),this.trigger("add",{tag:R,data:j}),[R]}},addEmptyTag(R){var j=D({value:""},R||{}),G=this.createTagElem(j);ne(G,j),this.appendTag(G),this.editTag(G,{skipValidation:!0})},addTags(R,j,G){var V=[],te=this.settings,_e=[],K=document.createDocumentFragment();if(G=G||te.skipInvalid,!R||R.length==0)return V;switch(R=this.normalizeTags(R),te.mode){case"mix":return this.addMixTags(R);case"select":j=!1,this.removeAllTags()}return this.DOM.input.removeAttribute("style"),R.forEach(U=>{var Ue,Je={},Qe=Object.assign({},U,{value:U.value+""});if(U=Object.assign({},Qe),te.transformTag.call(this,U),U.__isValid=this.hasMaxTags()||this.validateTag(U),U.__isValid!==!0){if(G)return;if(D(Je,this.getInvalidTagAttrs(U,U.__isValid),{__preInvalidData:Qe}),U.__isValid==this.TEXTS.duplicate&&this.flashTag(this.getTagElmByValue(U.value)),!te.createInvalidTags)return void _e.push(U.value)}if("readonly"in U&&(U.readonly?Je["aria-readonly"]=!0:delete U.readonly),Ue=this.createTagElem(U,Je),V.push(Ue),te.mode=="select")return this.selectTag(Ue,U);K.appendChild(Ue),U.__isValid&&U.__isValid===!0?(this.value.push(U),this.trigger("add",{tag:Ue,index:this.value.length-1,data:U})):(this.trigger("invalid",{data:U,index:this.value.length,tag:Ue,message:U.__isValid}),te.keepInvalidTags||setTimeout(()=>this.removeTags(Ue,!0),1e3)),this.dropdown.position()}),this.appendTag(K),this.update(),R.length&&j&&(this.input.set.call(this,te.createInvalidTags?"":_e.join(te._delimiters)),this.setRangeAtStartEnd(!1,this.DOM.input)),te.dropdown.enabled&&this.dropdown.refilter(),V},addMixTags(R){if((R=this.normalizeTags(R))[0].prefix||this.state.tag)return this.prefixedTextToTag(R[0]);var j=document.createDocumentFragment();return R.forEach(G=>{var V=this.createTagElem(G);j.appendChild(V)}),this.appendMixTags(j),j},appendMixTags(R){var j=!!this.state.selection;j?this.injectAtCaret(R):(this.DOM.input.focus(),(j=this.setStateSelection()).range.setStart(this.DOM.input,j.range.endOffset),j.range.setEnd(this.DOM.input,j.range.endOffset),this.DOM.input.appendChild(R),this.updateValueByDOMTags(),this.update())},prefixedTextToTag(R){var j,G=this.settings,V=this.state.tag.delimiters;if(G.transformTag.call(this,R),R.prefix=R.prefix||this.state.tag?this.state.tag.prefix:(G.pattern.source||G.pattern)[0],j=this.createTagElem(R),this.replaceTextWithNode(j)||this.DOM.input.appendChild(j),setTimeout(()=>j.classList.add(this.settings.classNames.tagNoAnimation),300),this.value.push(R),this.update(),!V){var te=this.insertAfterTag(j)||j;setTimeout(he,0,te)}return this.state.tag=null,this.trigger("add",D({},{tag:j},{data:R})),j},appendTag(R){var j=this.DOM,G=j.input;j.scope.insertBefore(R,G)},createTagElem(R,j){R.__tagId=$();var G,V=D({},R,e({value:w(R.value+"")},j));return function(te){for(var _e,K=document.createNodeIterator(te,NodeFilter.SHOW_TEXT,null,!1);_e=K.nextNode();)_e.textContent.trim()||_e.parentNode.removeChild(_e)}(G=this.parseTemplate("tag",[V,this])),ne(G,R),G},reCheckInvalidTags(){var R=this.settings;this.getTagElms(R.classNames.tagNotAllowed).forEach((j,G)=>{var V=ne(j),te=this.hasMaxTags(),_e=this.validateTag(V),K=_e===!0&&!te;if(R.mode=="select"&&this.toggleScopeValidation(_e),K)return V=V.__preInvalidData?V.__preInvalidData:{value:V.value},this.replaceTag(j,V);j.title=te||_e})},removeTags(R,j,G){var V,te=this.settings;if(R=R&&R instanceof HTMLElement?[R]:R instanceof Array?R:R?[R]:[this.getLastTag()],V=R.reduce((_e,K)=>{K&&typeof K=="string"&&(K=this.getTagElmByValue(K));var U=ne(K);return K&&U&&!U.readonly&&_e.push({node:K,idx:this.getTagIdx(U),data:ne(K,{__removed:!0})}),_e},[]),G=typeof G=="number"?G:this.CSSVars.tagHideTransition,te.mode=="select"&&(G=0,this.input.set.call(this)),V.length==1&&te.mode!="select"&&V[0].node.classList.contains(te.classNames.tagNotAllowed)&&(j=!0),V.length)return te.hooks.beforeRemoveTag(V,{tagify:this}).then(()=>{function _e(K){K.node.parentNode&&(K.node.parentNode.removeChild(K.node),j?te.keepInvalidTags&&this.trigger("remove",{tag:K.node,index:K.idx}):(this.trigger("remove",{tag:K.node,index:K.idx,data:K.data}),this.dropdown.refilter(),this.dropdown.position(),this.DOM.input.normalize(),te.keepInvalidTags&&this.reCheckInvalidTags()))}G&&G>10&&V.length==1?function(K){K.node.style.width=parseFloat(window.getComputedStyle(K.node).width)+"px",document.body.clientTop,K.node.classList.add(te.classNames.tagHide),setTimeout(_e.bind(this),G,K)}.call(this,V[0]):V.forEach(_e.bind(this)),j||(this.removeTagsFromValue(V.map(K=>K.node)),this.update(),te.mode=="select"&&this.setContentEditable(!0))}).catch(_e=>{})},removeTagsFromDOM(){[].slice.call(this.getTagElms()).forEach(R=>R.parentNode.removeChild(R))},removeTagsFromValue(R){(R=Array.isArray(R)?R:[R]).forEach(j=>{var G=ne(j),V=this.getTagIdx(G);V>-1&&this.value.splice(V,1)})},removeAllTags(R){R=R||{},this.value=[],this.settings.mode=="mix"?this.DOM.input.innerHTML="":this.removeTagsFromDOM(),this.dropdown.refilter(),this.dropdown.position(),this.state.dropdown.visible&&setTimeout(()=>{this.DOM.input.focus()}),this.settings.mode=="select"&&(this.input.set.call(this),this.setContentEditable(!0)),this.update(R)},postUpdate(){this.state.blockChangeEvent=!1;var R=this.settings,j=R.classNames,G=R.mode=="mix"?R.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value.trim():this.value.length+this.input.raw.call(this).length;this.toggleClass(j.hasMaxTags,this.value.length>=R.maxTags),this.toggleClass(j.hasNoTags,!this.value.length),this.toggleClass(j.empty,!G),R.mode=="select"&&this.toggleScopeValidation(this.value?.[0]?.__isValid)},setOriginalInputValue(R){var j=this.DOM.originalInput;this.settings.mixMode.integrated||(j.value=R,j.tagifyValue=j.value,this.setPersistedData(R,"value"))},update(R){clearTimeout(this.debouncedUpdateTimeout),this.debouncedUpdateTimeout=setTimeout(function(){var j=this.getInputValue();this.setOriginalInputValue(j),this.settings.onChangeAfterBlur&&(R||{}).withoutChangeEvent||this.state.blockChangeEvent||this.triggerChangeEvent(),this.postUpdate()}.bind(this),100)},getInputValue(){var R=this.getCleanValue();return this.settings.mode=="mix"?this.getMixedTagsAsString(R):R.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(R):JSON.stringify(R):""},getCleanValue(R){return i(R||this.value,this.dataProps)},getMixedTagsAsString(){var R="",j=this,G=this.settings,V=G.originalInputValueFormat||JSON.stringify,te=G.mixTagsInterpolator;return function _e(K){K.childNodes.forEach(U=>{if(U.nodeType==1){let Ue=ne(U);if(U.tagName=="BR"&&(R+=`\r
`),Ue&&re.call(j,U)){if(Ue.__removed)return;R+=te[0]+V(a(Ue,j.dataProps))+te[1]}else U.getAttribute("style")||["B","I","U"].includes(U.tagName)?R+=U.textContent:U.tagName!="DIV"&&U.tagName!="P"||(R+=`\r
`,_e(U))}else R+=U.textContent})}(this.DOM.input),R}},ee.prototype.removeTag=ee.prototype.removeTags,ee})});function nEe(r){let t=(this.settings.whitelist||[]).find(i=>i.value==r.value),n=t?t.label:r.value;return`
<tag title="${r.value}"
  contenteditable='false'
  spellcheck='false'
  tabIndex="-1"
  class="tagify__tag ${r.class?r.class:""}"
  ${this.getAttributes(r)}
>
  <x title='' class='tagify__tag__removeBtn' role='button' aria-label='remove tag'></x>
  <div>
      <span class='tagify__tag-text'>${n}</span>
  </div>
</tag>
`}function iEe(r){return`
<div ${this.getAttributes(r)}
  class='tagify__dropdown__item flex items-center ${r.class?r.class:""}'
  tabindex="0"
  role="option">
  ${r.avatar?`
  <div class='rounded w-8 h-8 block mr-2'>
      <img onerror="this.style.visibility='hidden'" class="w-full" src="${r.avatar}">
  </div>`:""}
  <span>${r.label}</span>
</div>
`}var oEe=ze(()=>{});var l0,aEe,sEe,H1,lEe=ze(()=>{bo();l0=la(tEe()),aEe=la(rEe()),sEe=la(Y_());oEe();g9();H1=class extends nn{constructor(){super(...arguments);Wr(this,"tagify",null);Wr(this,"searchDebounce",500);Wr(this,"debouncedFetch",WL(fetch,this.searchDebounce))}get suggestionsAreObjects(){return(0,l0.isObject)((0,l0.first)(this.whitelistItemsValue))||this.fetchValuesFromValue}get tagifyOptions(){let e={whitelist:this.whitelistItemsValue,blacklist:this.disallowedItemsValue,enforceWhitelist:this.enforceSuggestionsValue||this.fetchValuesFromValue,delimiters:this.delimitersValue.join("|"),dropdown:{maxItems:this.suggestionsMaxItemsValue,enabled:0,searchKeys:[this.labelAttributeValue],closeOnSelect:this.closeOnSelectValue}};return this.modeValue&&(e.mode=this.modeValue),this.suggestionsAreObjects?e=(0,l0.merge)(e,{tagTextProp:"label",dropdown:{searchKeys:["label"],mapValueTo:"value"},templates:{tag:nEe,dropdownItem:iEe},originalInputValueFormat:t=>t.map(n=>n.value)}):e=(0,l0.merge)(e,{originalInputValueFormat:t=>t.map(n=>n.value).join(",")}),e}connect(){this.hasInputTarget&&(this.hideFakeInput(),this.showRealInput(),this.initTagify())}initTagify(){this.tagify=new aEe.default(this.inputTarget,this.tagifyOptions);let e=this;function t(n){let i=n.detail.value,a=new sEe.default(e.fetchValuesFromValue);a.addSearch({q:i}),e.tagify.whitelist=null,e.tagify.loading(!0),e.fetchResults(a.toString()).then(l=>{e.tagify.settings.whitelist=l,e.tagify.loading(!1).dropdown.show(n.detail.value)}).catch(()=>e.tagify.dropdown.hide())}this.fetchValuesFromValue&&this.tagify.on("input",t)}fetchResults(e){return this.debouncedFetch(e).then(t=>t.json())}hideFakeInput(){this.fakeInputTarget.classList.add("hidden")}showRealInput(){this.inputTarget.classList.remove("hidden")}};Wr(H1,"targets",["input","fakeInput"]),Wr(H1,"values",{whitelistItems:{type:Array,default:[]},disallowedItems:{type:Array,default:[]},enforceSuggestions:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!1},delimiters:{type:Array,default:[]},suggestionsMaxItems:{type:Number,default:20},mode:String,fetchValuesFrom:String})});var eC,uEe=ze(()=>{Z_();eC=class extends Ah{getFilterValue(){return this.textTarget.value}tryToSubmit(r){if(r.keyCode===13)return this.changeFilter()}getFilterClass(){let{filterClass:r}=this.textTarget.dataset;return r}};Wr(eC,"targets",["text"])});var tC,cEe=ze(()=>{bo();KI();tC=class extends nn{connect(){H_(this.sourceTarget,{content:this.contentTarget.innerHTML,allowHTML:!0,theme:"light"})}};Wr(tC,"targets",["source","content"])});function k9(r,e,t){r.addEventListener?r.addEventListener(e,t,!1):r.attachEvent&&r.attachEvent("on".concat(e),function(){t(window.event)})}function mEe(r,e){for(var t=e.slice(0,e.length-1),n=0;n<t.length;n++)t[n]=r[t[n].toLowerCase()];return t}function gEe(r){typeof r!="string"&&(r=""),r=r.replace(/\s/g,"");for(var e=r.split(","),t=e.lastIndexOf("");t>=0;)e[t-1]+=",",e.splice(t,1),t=e.lastIndexOf("");return e}function Jxt(r,e){for(var t=r.length>=e.length?r:e,n=r.length>=e.length?e:r,i=!0,a=0;a<t.length;a++)n.indexOf(t[a])===-1&&(i=!1);return i}function xEe(r){yEe=r||"all"}function nC(){return yEe||"all"}function Qxt(){return ul.slice(0)}function e_t(r){var e=r.target||r.srcElement,t=e.tagName,n=!0;return(e.isContentEditable||(t==="INPUT"||t==="TEXTAREA"||t==="SELECT")&&!e.readOnly)&&(n=!1),n}function t_t(r){return typeof r=="string"&&(r=YL(r)),ul.indexOf(r)!==-1}function r_t(r,e){var t,n;r||(r=nC());for(var i in qc)if(Object.prototype.hasOwnProperty.call(qc,i))for(t=qc[i],n=0;n<t.length;)t[n].scope===r?t.splice(n,1):n++;nC()===r&&xEe(e||"all")}function n_t(r){var e=r.keyCode||r.which||r.charCode,t=ul.indexOf(e);if(t>=0&&ul.splice(t,1),r.key&&r.key.toLowerCase()==="meta"&&ul.splice(0,ul.length),(e===93||e===224)&&(e=91),e in Jc){Jc[e]=!1;for(var n in u0)u0[n]===e&&(Sy[n]=!1)}}function i_t(r){if(!r)Object.keys(qc).forEach(function(l){return delete qc[l]});else if(Array.isArray(r))r.forEach(function(l){l.key&&C9(l)});else if(typeof r=="object")r.key&&C9(r);else if(typeof r=="string"){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var i=t[0],a=t[1];typeof i=="function"&&(a=i,i=""),C9({key:r,scope:i,method:a,splitKey:"+"})}}function hEe(r,e,t){var n;if(e.scope===t||e.scope==="all"){n=e.mods.length>0;for(var i in Jc)Object.prototype.hasOwnProperty.call(Jc,i)&&(!Jc[i]&&e.mods.indexOf(+i)>-1||Jc[i]&&e.mods.indexOf(+i)===-1)&&(n=!1);(e.mods.length===0&&!Jc[16]&&!Jc[18]&&!Jc[17]&&!Jc[91]||n||e.shortcut==="*")&&e.method(r,e)===!1&&(r.preventDefault?r.preventDefault():r.returnValue=!1,r.stopPropagation&&r.stopPropagation(),r.cancelBubble&&(r.cancelBubble=!0))}}function dEe(r){var e=qc["*"],t=r.keyCode||r.which||r.charCode;if(!!Sy.filter.call(this,r)){if((t===93||t===224)&&(t=91),ul.indexOf(t)===-1&&t!==229&&ul.push(t),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(z){var Y=fEe[z];r[z]&&ul.indexOf(Y)===-1?ul.push(Y):!r[z]&&ul.indexOf(Y)>-1?ul.splice(ul.indexOf(Y),1):z==="metaKey"&&r[z]&&ul.length===3&&(r.ctrlKey||r.shiftKey||r.altKey||(ul=ul.slice(ul.indexOf(Y))))}),t in Jc){Jc[t]=!0;for(var n in u0)u0[n]===t&&(Sy[n]=!0);if(!e)return}for(var i in Jc)Object.prototype.hasOwnProperty.call(Jc,i)&&(Jc[i]=r[fEe[i]]);r.getModifierState&&!(r.altKey&&!r.ctrlKey)&&r.getModifierState("AltGraph")&&(ul.indexOf(17)===-1&&ul.push(17),ul.indexOf(18)===-1&&ul.push(18),Jc[17]=!0,Jc[18]=!0);var a=nC();if(e)for(var l=0;l<e.length;l++)e[l].scope===a&&(r.type==="keydown"&&e[l].keydown||r.type==="keyup"&&e[l].keyup)&&hEe(r,e[l],a);if(t in qc){for(var h=0;h<qc[t].length;h++)if((r.type==="keydown"&&qc[t][h].keydown||r.type==="keyup"&&qc[t][h].keyup)&&qc[t][h].key){for(var g=qc[t][h],w=g.splitKey,C=g.key.split(w),D=[],F=0;F<C.length;F++)D.push(YL(C[F]));D.sort().join("")===ul.sort().join("")&&hEe(r,g,a)}}}}function o_t(r){return bEe.indexOf(r)>-1}function Sy(r,e,t){ul=[];var n=gEe(r),i=[],a="all",l=document,h=0,g=!1,w=!0,C="+";for(t===void 0&&typeof e=="function"&&(t=e),Object.prototype.toString.call(e)==="[object Object]"&&(e.scope&&(a=e.scope),e.element&&(l=e.element),e.keyup&&(g=e.keyup),e.keydown!==void 0&&(w=e.keydown),typeof e.splitKey=="string"&&(C=e.splitKey)),typeof e=="string"&&(a=e);h<n.length;h++)r=n[h].split(C),i=[],r.length>1&&(i=mEe(u0,r)),r=r[r.length-1],r=r==="*"?"*":YL(r),r in qc||(qc[r]=[]),qc[r].push({keyup:g,keydown:w,scope:a,mods:i,shortcut:n[h],method:t,key:n[h],splitKey:C});typeof l<"u"&&!o_t(l)&&window&&(bEe.push(l),k9(l,"keydown",function(D){dEe(D)}),k9(window,"focus",function(){ul=[]}),k9(l,"keyup",function(D){dEe(D),n_t(D)}))}var E9,vEe,u0,fEe,Jc,qc,rC,ul,yEe,bEe,YL,C9,A9,KL,pEe,_Ee=ze(()=>{E9=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;vEe={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21EA":20,",":188,".":190,"/":191,"`":192,"-":E9?173:189,"=":E9?61:187,";":E9?59:186,"'":222,"[":219,"]":221,"\\":220},u0={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},fEe={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Jc={16:!1,18:!1,17:!1,91:!1},qc={};for(rC=1;rC<20;rC++)vEe["f".concat(rC)]=111+rC;ul=[],yEe="all",bEe=[],YL=function(e){return vEe[e.toLowerCase()]||u0[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};C9=function(e){var t=e.key,n=e.scope,i=e.method,a=e.splitKey,l=a===void 0?"+":a,h=gEe(t);h.forEach(function(g){var w=g.split(l),C=w.length,D=w[C-1],F=D==="*"?"*":YL(D);if(!!qc[F]){n||(n=nC());var z=C>1?mEe(u0,w):[];qc[F]=qc[F].map(function(Y){var $=i?Y.method===i:!0;return $&&Y.scope===n&&Jxt(Y.mods,z)?{}:Y})}})};A9={setScope:xEe,getScope:nC,deleteScope:r_t,getPressedKeyCodes:Qxt,isPressed:t_t,filter:e_t,unbind:i_t};for(KL in A9)Object.prototype.hasOwnProperty.call(A9,KL)&&(Sy[KL]=A9[KL]);typeof window<"u"&&(pEe=window.hotkeys,Sy.noConflict=function(r){return r&&window.hotkeys===Sy&&(window.hotkeys=pEe),Sy},window.hotkeys=Sy)});function l_t(r){let e=r.getBoundingClientRect(),t=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth,i=e.top<=t&&e.top+e.height>=0,a=e.left<=n&&e.left+e.width>=0;return i&&a}var a_t,s_t,u_t,wEe,D9,O9,SEe=ze(()=>{bo();_Ee();a_t=(r,e,t)=>{let n=r;return t===!0?n=`${e.identifier}:${r}`:typeof t=="string"&&(n=`${t}:${r}`),n},s_t=(r,e,t)=>{let{bubbles:n,cancelable:i,composed:a}=e||{bubbles:!0,cancelable:!0,composed:!0};return e&&Object.assign(t,{originalEvent:e}),new CustomEvent(r,{bubbles:n,cancelable:i,composed:a,detail:t})};u_t={events:["click","touchend"],onlyVisible:!0,dispatchEvent:!0,eventPrefix:!0},wEe=(r,e={})=>{let{onlyVisible:t,dispatchEvent:n,events:i,eventPrefix:a}=Object.assign({},u_t,e),l=C=>{let D=e?.element||r.element;if(!(D.contains(C.target)||!l_t(D)&&t)&&(r.clickOutside&&r.clickOutside(C),n)){let F=a_t("click:outside",r,a),z=s_t(F,C,{controller:r});D.dispatchEvent(z)}},h=()=>{i?.forEach(C=>{window.addEventListener(C,l,!1)})},g=()=>{i?.forEach(C=>{window.removeEventListener(C,l,!1)})},w=r.disconnect.bind(r);return Object.assign(r,{disconnect(){g(),w()}}),h(),[h,g]};D9=class extends nn{};D9.debounces=[];O9=class extends nn{};O9.throttles=[]});var W1,TEe=ze(()=>{bo();_9();SEe();W1=class extends nn{get exemptionContainerTarget(){return document.querySelector(this.exemptionContainerValue)}connect(){wEe(this)}clickOutside(r){this.hasPanelTarget&&(this.hasExemptionContainerValue?this.exemptionContainerTarget.contains(r.target)||B1(this.panelTarget):B1(this.panelTarget))}togglePanel(){this.hasPanelTarget&&$L(this.panelTarget)}outlet({params:r}){let{outlet:e}=r;e&&document.querySelector(e)&&document.querySelector(e).classList.toggle("hidden")}};Wr(W1,"targets",["panel"]),Wr(W1,"values",{exemptionContainer:String})});function XL(r){var e,t;function n(a,l){try{var h=r[a](l),g=h.value,w=g instanceof L_t;Promise.resolve(w?g.v:g).then(function(C){if(w){var D=a==="return"?"return":"next";if(!g.k||C.done)return n(D,C);C=r[D](C).value}i(h.done?"return":"normal",C)},function(C){n("throw",C)})}catch(C){i("throw",C)}}function i(a,l){switch(a){case"return":e.resolve({value:l,done:!0});break;case"throw":e.reject(l);break;default:e.resolve({value:l,done:!1})}(e=e.next)?n(e.key,e.arg):t=null}this._invoke=function(a,l){return new Promise(function(h,g){var w={key:a,arg:l,resolve:h,reject:g,next:null};t?t=t.next=w:(e=t=w,n(a,l))})},typeof r.return!="function"&&(this.return=void 0)}function L_t(r,e){this.v=r,this.k=e}function _d(r,e,t){return(e=P_t(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function P_t(r){var e=function(t,n){if(typeof t!="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var a=i.call(t,n||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}(r,"string");return typeof e=="symbol"?e:String(e)}var c_t,h0,uH,Nh,EEe,kEe,I9,mC,to,f_t,JEe,SP,Ey,QEe,cH,h_t,Fl,sC,eke,ky,fH,f0,M9,Cy,eP,Fh,Bo,iC,lC,L9,CEe,$1,d_t,G1,d0,tke,uC,hH,JL,g0,rke,Y9,gC,iu,p_t,AEe,m_t,P9,R9,F9,v0,g_t,v_t,y_t,Z9,X9,b_t,Xg,y0,dH,x_t,__t,q9,N9,B9,ZL,J9,Zu,w_t,Q9,S_t,nke,T_t,E_t,DEe,OEe,ike,oke,pH,ake,vC,es,Zg,tP,IEe,eH,rP,b0,ske,cC,lke,k_t,MEe,aC,mH,gH,LEe,z9,Jf,C_t,A_t,QL,oC,D_t,fC,tH,rH,PEe,K1,Jg,nH,Ty,hC,REe,O_t,nP,iP,oP,I_t,FEe,aP,Y1,qEe,M_t,NEe,Qg,sP,Ay,Dy,dC,Z1,R_t,F_t,q_t,xd,rm,N_t,B_t,z_t,U_t,uke,j_t,BEe,zEe,UEe,qh,jEe,H_t,W_t,V_t,lP,$_t,U9,HEe,x0,WEe,G_t,VEe,K_t,Y_t,Z_t,cke,X_t,iH,J_t,Q_t,e1t,t1t,Rl,uP,cP,zm,pC,r1t,j9,fP,fke,n1t,hP,dP,H9,i1t,o1t,hke,pP,Yg,dke,a1t,W9,c0,s1t,V9,mP,gP,vP,pke,l1t,u1t,yP,oH,bP,aH,c1t,f1t,$Ee,X1,$9,h1t,mke,d1t,tm,p1t,m1t,g1t,v1t,Bm,p0,y1t,G9,b1t,x1t,_1t,K9,sH,lH,w1t,TP,S1t,T1t,GEe,KEe,YEe,V1,xP,m0,E1t,k1t,C1t,_P,A1t,D1t,O1t,I1t,M1t,ZEe,wP,XEe,gke=ze(()=>{c_t="2.0.10",h0="[data-trix-attachment]",uH={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},Nh={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(r){return EEe(r.parentNode)===Nh[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test(r){return EEe(r.parentNode)===Nh[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},EEe=r=>{var e;return r==null||(e=r.tagName)===null||e===void 0?void 0:e.toLowerCase()},kEe=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),I9=kEe&&parseInt(kEe[1]),mC={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:I9&&I9>12,samsungAndroid:I9&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:typeof InputEvent<"u"&&["data","getTargetRanges","inputType"].every(r=>r in InputEvent.prototype)},to={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption\u2026",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL\u2026",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"},f_t=[to.bytes,to.KB,to.MB,to.GB,to.TB,to.PB],JEe={prefix:"IEC",precision:2,formatter(r){switch(r){case 0:return"0 ".concat(to.bytes);case 1:return"1 ".concat(to.byte);default:let e;this.prefix==="SI"?e=1e3:this.prefix==="IEC"&&(e=1024);let t=Math.floor(Math.log(r)/Math.log(e)),n=(r/Math.pow(e,t)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"");return"".concat(n," ").concat(f_t[t])}}},SP="\uFEFF",Ey="\xA0",QEe=function(r){for(let e in r){let t=r[e];this[e]=t}return this},cH=document.documentElement,h_t=cH.matches,Fl=function(r){let{onElement:e,matchingSelector:t,withCallback:n,inPhase:i,preventDefault:a,times:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=e||cH,g=t,w=i==="capturing",C=function(D){l!=null&&--l==0&&C.destroy();let F=ky(D.target,{matchingSelector:g});F!=null&&(n?.call(F,D,F),a&&D.preventDefault())};return C.destroy=()=>h.removeEventListener(r,C,w),h.addEventListener(r,C,w),C},sC=function(r){let{onElement:e,bubbles:t,cancelable:n,attributes:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e??cH;t=t!==!1,n=n!==!1;let l=document.createEvent("Events");return l.initEvent(r,t,n),i!=null&&QEe.call(l,i),a.dispatchEvent(l)},eke=function(r,e){if(r?.nodeType===1)return h_t.call(r,e)},ky=function(r){let{matchingSelector:e,untilNode:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(;r&&r.nodeType!==Node.ELEMENT_NODE;)r=r.parentNode;if(r!=null){if(e==null)return r;if(r.closest&&t==null)return r.closest(e);for(;r&&r!==t;){if(eke(r,e))return r;r=r.parentNode}}},fH=r=>document.activeElement!==r&&f0(r,document.activeElement),f0=function(r,e){if(r&&e)for(;e;){if(e===r)return!0;e=e.parentNode}},M9=function(r){var e;if((e=r)===null||e===void 0||!e.parentNode)return;let t=0;for(r=r.previousSibling;r;)t++,r=r.previousSibling;return t},Cy=r=>{var e;return r==null||(e=r.parentNode)===null||e===void 0?void 0:e.removeChild(r)},eP=function(r){let{onlyNodesOfType:e,usingFilter:t,expandEntityReferences:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(()=>{switch(e){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(r,i,t??null,n===!0)},Fh=r=>{var e;return r==null||(e=r.tagName)===null||e===void 0?void 0:e.toLowerCase()},Bo=function(r){let e,t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof r=="object"?(n=r,r=n.tagName):n={attributes:n};let i=document.createElement(r);if(n.editable!=null&&(n.attributes==null&&(n.attributes={}),n.attributes.contenteditable=n.editable),n.attributes)for(e in n.attributes)t=n.attributes[e],i.setAttribute(e,t);if(n.style)for(e in n.style)t=n.style[e],i.style[e]=t;if(n.data)for(e in n.data)t=n.data[e],i.dataset[e]=t;return n.className&&n.className.split(" ").forEach(a=>{i.classList.add(a)}),n.textContent&&(i.textContent=n.textContent),n.childNodes&&[].concat(n.childNodes).forEach(a=>{i.appendChild(a)}),i},lC=function(){if(iC!=null)return iC;iC=[];for(let r in Nh){let e=Nh[r];e.tagName&&iC.push(e.tagName)}return iC},L9=r=>$1(r?.firstChild),CEe=function(r){let{strict:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{strict:!0};return e?$1(r):$1(r)||!$1(r.firstChild)&&function(t){return lC().includes(Fh(t))&&!lC().includes(Fh(t.firstChild))}(r)},$1=r=>d_t(r)&&r?.data==="block",d_t=r=>r?.nodeType===Node.COMMENT_NODE,G1=function(r){let{name:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r)return uC(r)?r.data===SP?!e||r.parentNode.dataset.trixCursorTarget===e:void 0:G1(r.firstChild)},d0=r=>eke(r,h0),tke=r=>uC(r)&&r?.data==="",uC=r=>r?.nodeType===Node.TEXT_NODE,hH={level2Enabled:!0,getLevel(){return this.level2Enabled&&mC.supportsInputEvents?2:0},pickFiles(r){let e=Bo("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});e.addEventListener("change",()=>{r(e.files),Cy(e)}),Cy(document.getElementById(this.fileInputId)),document.body.appendChild(e),e.click()}},JL={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:`
`},g0={bold:{tagName:"strong",inheritable:!0,parser(r){let e=window.getComputedStyle(r);return e.fontWeight==="bold"||e.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:r=>window.getComputedStyle(r).fontStyle==="italic"},href:{groupTagName:"a",parser(r){let e="a:not(".concat(h0,")"),t=r.closest(e);if(t)return t.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},rke={getDefaultHTML:()=>`<div class="trix-button-row">
      <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`.concat(to.bold,'" tabindex="-1">').concat(to.bold,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`).concat(to.italic,'" tabindex="-1">').concat(to.italic,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`).concat(to.strike,'" tabindex="-1">').concat(to.strike,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`).concat(to.link,'" tabindex="-1">').concat(to.link,`</button>
      </span>

      <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`).concat(to.heading1,'" tabindex="-1">').concat(to.heading1,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`).concat(to.quote,'" tabindex="-1">').concat(to.quote,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`).concat(to.code,'" tabindex="-1">').concat(to.code,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`).concat(to.bullets,'" tabindex="-1">').concat(to.bullets,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`).concat(to.numbers,'" tabindex="-1">').concat(to.numbers,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`).concat(to.outdent,'" tabindex="-1">').concat(to.outdent,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`).concat(to.indent,'" tabindex="-1">').concat(to.indent,`</button>
      </span>

      <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`).concat(to.attachFiles,'" tabindex="-1">').concat(to.attachFiles,`</button>
      </span>

      <span class="trix-button-group-spacer"></span>

      <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`).concat(to.undo,'" tabindex="-1">').concat(to.undo,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`).concat(to.redo,'" tabindex="-1">').concat(to.redo,`</button>
      </span>
    </div>

    <div class="trix-dialogs" data-trix-dialogs>
      <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
        <div class="trix-dialog__link-fields">
          <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`).concat(to.urlPlaceholder,'" aria-label="').concat(to.url,`" required data-trix-input>
          <div class="trix-button-group">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(to.link,`" data-trix-method="setAttribute">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(to.unlink,`" data-trix-method="removeAttribute">
          </div>
        </div>
      </div>
    </div>`)},Y9={interval:5e3},gC=Object.freeze({__proto__:null,attachments:uH,blockAttributes:Nh,browser:mC,css:{attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},fileSize:JEe,input:hH,keyNames:{8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},lang:to,parser:JL,textAttributes:g0,toolbar:rke,undo:Y9}),iu=class{static proxyMethod(e){let{name:t,toMethod:n,toProperty:i,optional:a}=p_t(e);this.prototype[t]=function(){let l,h;var g,w;return n?h=a?(g=this[n])===null||g===void 0?void 0:g.call(this):this[n]():i&&(h=this[i]),a?(l=(w=h)===null||w===void 0?void 0:w[t],l?AEe.call(l,h,arguments):void 0):(l=h[t],AEe.call(l,h,arguments))}}},p_t=function(r){let e=r.match(m_t);if(!e)throw new Error("can't parse @proxyMethod expression: ".concat(r));let t={name:e[4]};return e[2]!=null?t.toMethod=e[1]:t.toProperty=e[1],e[3]!=null&&(t.optional=!0),t},{apply:AEe}=Function.prototype,m_t=new RegExp("^(.+?)(\\(\\))?(\\?)?\\.(.+?)$"),v0=class extends iu{static box(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e instanceof this?e:this.fromUCS2String(e?.toString())}static fromUCS2String(e){return new this(e,Z9(e))}static fromCodepoints(e){return new this(X9(e),e)}constructor(e,t){super(...arguments),this.ucs2String=e,this.codepoints=t,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(e){return X9(this.codepoints.slice(0,Math.max(0,e))).length}offsetFromUCS2Offset(e){return Z9(this.ucs2String.slice(0,Math.max(0,e))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(e){return this.slice(e,e+1)}isEqualTo(e){return this.constructor.box(e).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}},g_t=((P9=Array.from)===null||P9===void 0?void 0:P9.call(Array,"\u{1F47C}").length)===1,v_t=((R9=" ".codePointAt)===null||R9===void 0?void 0:R9.call(" ",0))!=null,y_t=((F9=String.fromCodePoint)===null||F9===void 0?void 0:F9.call(String,32,128124))===" \u{1F47C}";Z9=g_t&&v_t?r=>Array.from(r).map(e=>e.codePointAt(0)):function(r){let e=[],t=0,{length:n}=r;for(;t<n;){let i=r.charCodeAt(t++);if(55296<=i&&i<=56319&&t<n){let a=r.charCodeAt(t++);(64512&a)==56320?i=((1023&i)<<10)+(1023&a)+65536:t--}e.push(i)}return e},X9=y_t?r=>String.fromCodePoint(...Array.from(r||[])):function(r){return(()=>{let e=[];return Array.from(r).forEach(t=>{let n="";t>65535&&(t-=65536,n+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e.push(n+String.fromCharCode(t))}),e})().join("")};b_t=0,Xg=class extends iu{static fromJSONString(e){return this.fromJSON(JSON.parse(e))}constructor(){super(...arguments),this.id=++b_t}hasSameConstructorAs(e){return this.constructor===e?.constructor}isEqualTo(e){return this===e}inspect(){let e=[],t=this.contentsForInspection()||{};for(let n in t){let i=t[n];e.push("".concat(n,"=").concat(i))}return"#<".concat(this.constructor.name,":").concat(this.id).concat(e.length?" ".concat(e.join(", ")):"",">")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return v0.box(this)}getCacheKey(){return this.id.toString()}},y0=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0},dH=function(r){let e=r.slice(0);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.splice(...n),e},x_t=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,__t=function(){let r=Bo("input",{dir:"auto",name:"x",dirName:"x.dir"}),e=Bo("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),t=Bo("form");t.appendChild(r),t.appendChild(e);let n=function(){try{return new FormData(t).has(e.dirName)}catch{return!1}}(),i=function(){try{return r.matches(":dir(ltr),:dir(rtl)")}catch{return!1}}();return n?function(a){return e.value=a,new FormData(t).get(e.dirName)}:i?function(a){return r.value=a,r.matches(":dir(rtl)")?"rtl":"ltr"}:function(a){let l=a.trim().charAt(0);return x_t.test(l)?"rtl":"ltr"}}(),q9=null,N9=null,B9=null,ZL=null,J9=()=>(q9||(q9=S_t().concat(w_t())),q9),Zu=r=>Nh[r],w_t=()=>(N9||(N9=Object.keys(Nh)),N9),Q9=r=>g0[r],S_t=()=>(B9||(B9=Object.keys(g0)),B9),nke=function(r,e){T_t(r).textContent=e.replace(/%t/g,r)},T_t=function(r){let e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("data-tag-name",r.toLowerCase());let t=E_t();return t&&e.setAttribute("nonce",t),document.head.insertBefore(e,document.head.firstChild),e},E_t=function(){let r=DEe("trix-csp-nonce")||DEe("csp-nonce");if(r)return r.getAttribute("content")},DEe=r=>document.head.querySelector("meta[name=".concat(r,"]")),OEe={"application/x-trix-feature-detection":"test"},ike=function(r){let e=r.getData("text/plain"),t=r.getData("text/html");if(!e||!t)return e?.length;{let{body:n}=new DOMParser().parseFromString(t,"text/html");if(n.textContent===e)return!n.querySelector("*")}},oke=/Mac|^iP/.test(navigator.platform)?r=>r.metaKey:r=>r.ctrlKey,pH=r=>setTimeout(r,1),ake=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e={};for(let t in r){let n=r[t];e[t]=n}return e},vC=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object.keys(r).length!==Object.keys(e).length)return!1;for(let t in r)if(r[t]!==e[t])return!1;return!0},es=function(r){if(r!=null)return Array.isArray(r)||(r=[r,r]),[IEe(r[0]),IEe(r[1]!=null?r[1]:r[0])]},Zg=function(r){if(r==null)return;let[e,t]=es(r);return eH(e,t)},tP=function(r,e){if(r==null||e==null)return;let[t,n]=es(r),[i,a]=es(e);return eH(t,i)&&eH(n,a)},IEe=function(r){return typeof r=="number"?r:ake(r)},eH=function(r,e){return typeof r=="number"?r===e:vC(r,e)},rP=class extends iu{constructor(){super(...arguments),this.update=this.update.bind(this),this.selectionManagers=[]}start(){this.started||(this.started=!0,document.addEventListener("selectionchange",this.update,!0))}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,!0)}registerSelectionManager(e){if(!this.selectionManagers.includes(e))return this.selectionManagers.push(e),this.start()}unregisterSelectionManager(e){if(this.selectionManagers=this.selectionManagers.filter(t=>t!==e),this.selectionManagers.length===0)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map(e=>e.selectionDidChange())}update(){this.notifySelectionManagersOfSelectionChange()}reset(){this.update()}},b0=new rP,ske=function(){let r=window.getSelection();if(r.rangeCount>0)return r},cC=function(){var r;let e=(r=ske())===null||r===void 0?void 0:r.getRangeAt(0);if(e&&!k_t(e))return e},lke=function(r){let e=window.getSelection();return e.removeAllRanges(),e.addRange(r),b0.update()},k_t=r=>MEe(r.startContainer)||MEe(r.endContainer),MEe=r=>!Object.getPrototypeOf(r),aC=r=>r.replace(new RegExp("".concat(SP),"g"),"").replace(new RegExp("".concat(Ey),"g")," "),mH=new RegExp("[^\\S".concat(Ey,"]")),gH=r=>r.replace(new RegExp("".concat(mH.source),"g")," ").replace(/\ {2,}/g," "),LEe=function(r,e){if(r.isEqualTo(e))return["",""];let t=z9(r,e),{length:n}=t.utf16String,i;if(n){let{offset:a}=t,l=r.codepoints.slice(0,a).concat(r.codepoints.slice(a+n));i=z9(e,v0.fromCodepoints(l))}else i=z9(e,r);return[t.utf16String.toString(),i.utf16String.toString()]},z9=function(r,e){let t=0,n=r.length,i=e.length;for(;t<n&&r.charAt(t).isEqualTo(e.charAt(t));)t++;for(;n>t+1&&r.charAt(n-1).isEqualTo(e.charAt(i-1));)n--,i--;return{utf16String:r.slice(t,n),offset:t}},Jf=class extends Xg{static fromCommonAttributesOfObjects(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!e.length)return new this;let t=oC(e[0]),n=t.getKeys();return e.slice(1).forEach(i=>{n=t.getKeysCommonToHash(oC(i)),t=t.slice(n)}),t}static box(e){return oC(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(...arguments),this.values=QL(e)}add(e,t){return this.merge(C_t(e,t))}remove(e){return new Jf(QL(this.values,e))}get(e){return this.values[e]}has(e){return e in this.values}merge(e){return new Jf(A_t(this.values,D_t(e)))}slice(e){let t={};return Array.from(e).forEach(n=>{this.has(n)&&(t[n]=this.values[n])}),new Jf(t)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(e){return e=oC(e),this.getKeys().filter(t=>this.values[t]===e.values[t])}isEqualTo(e){return y0(this.toArray(),oC(e).toArray())}isEmpty(){return this.getKeys().length===0}toArray(){if(!this.array){let e=[];for(let t in this.values){let n=this.values[t];e.push(e.push(t,n))}this.array=e.slice(0)}return this.array}toObject(){return QL(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}},C_t=function(r,e){let t={};return t[r]=e,t},A_t=function(r,e){let t=QL(r);for(let n in e){let i=e[n];t[n]=i}return t},QL=function(r,e){let t={};return Object.keys(r).sort().forEach(n=>{n!==e&&(t[n]=r[n])}),t},oC=function(r){return r instanceof Jf?r:new Jf(r)},D_t=function(r){return r instanceof Jf?r.values:r},fC=class{static groupObjects(){let e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:n,asTree:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i&&n==null&&(n=0);let a=[];return Array.from(t).forEach(l=>{var h;if(e){var g,w,C;if((g=l.canBeGrouped)!==null&&g!==void 0&&g.call(l,n)&&(w=(C=e[e.length-1]).canBeGroupedWith)!==null&&w!==void 0&&w.call(C,l,n))return void e.push(l);a.push(new this(e,{depth:n,asTree:i})),e=null}(h=l.canBeGrouped)!==null&&h!==void 0&&h.call(l,n)?e=[l]:a.push(l)}),e&&a.push(new this(e,{depth:n,asTree:i})),a}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:t,asTree:n}=arguments.length>1?arguments[1]:void 0;this.objects=e,n&&(this.depth=t,this.objects=this.constructor.groupObjects(this.objects,{asTree:n,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){let e=["objectGroup"];return Array.from(this.getObjects()).forEach(t=>{e.push(t.getCacheKey())}),e.join("/")}},tH=class extends iu{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects={},Array.from(e).forEach(t=>{let n=JSON.stringify(t);this.objects[n]==null&&(this.objects[n]=t)})}find(e){let t=JSON.stringify(e);return this.objects[t]}},rH=class{constructor(e){this.reset(e)}add(e){let t=PEe(e);this.elements[t]=e}remove(e){let t=PEe(e),n=this.elements[t];if(n)return delete this.elements[t],n}reset(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.elements={},Array.from(e).forEach(t=>{this.add(t)}),e}},PEe=r=>r.dataset.trixStoreKey,K1=class extends iu{isPerforming(){return this.performing===!0}hasPerformed(){return this.performed===!0}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise((e,t)=>(this.performing=!0,this.perform((n,i)=>{this.succeeded=n,this.performing=!1,this.performed=!0,this.succeeded?e(i):t(i)})))),this.promise}perform(e){return e(!1)}release(){var e,t;(e=this.promise)===null||e===void 0||(t=e.cancel)===null||t===void 0||t.call(e),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}};K1.proxyMethod("getPromise().then"),K1.proxyMethod("getPromise().catch");Jg=class extends iu{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.object=e,this.options=t,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map(e=>e.cloneNode(!0))}invalidate(){var e;return this.nodes=null,this.childViews=[],(e=this.parentView)===null||e===void 0?void 0:e.invalidate()}invalidateViewForObject(e){var t;return(t=this.findViewForObject(e))===null||t===void 0?void 0:t.invalidate()}findOrCreateCachedChildView(e,t,n){let i=this.getCachedViewForObject(t);return i?this.recordChildView(i):(i=this.createChildView(...arguments),this.cacheViewForObject(i,t)),i}createChildView(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};t instanceof fC&&(n.viewClass=e,e=nH);let i=new e(t,n);return this.recordChildView(i)}recordChildView(e){return e.parentView=this,e.rootView=this.rootView,this.childViews.push(e),e}getAllChildViews(){let e=[];return this.childViews.forEach(t=>{e.push(t),e=e.concat(t.getAllChildViews())}),e}findElement(){return this.findElementForObject(this.object)}findElementForObject(e){let t=e?.id;if(t)return this.rootView.element.querySelector("[data-trix-id='".concat(t,"']"))}findViewForObject(e){for(let t of this.getAllChildViews())if(t.object===e)return t}getViewCache(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?(this.viewCache||(this.viewCache={}),this.viewCache):void 0}isViewCachingEnabled(){return this.shouldCacheViews!==!1}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(e){var t;return(t=this.getViewCache())===null||t===void 0?void 0:t[e.getCacheKey()]}cacheViewForObject(e,t){let n=this.getViewCache();n&&(n[t.getCacheKey()]=e)}garbageCollectCachedViews(){let e=this.getViewCache();if(e){let t=this.getAllChildViews().concat(this).map(n=>n.object.getCacheKey());for(let n in e)t.includes(n)||delete e[n]}}},nH=class extends Jg{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach(e=>{this.findOrCreateCachedChildView(this.viewClass,e,this.options)}),this.childViews}createNodes(){let e=this.createContainerElement();return this.getChildViews().forEach(t=>{Array.from(t.getNodes()).forEach(n=>{e.appendChild(n)})}),[e]}createContainerElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(e)}},{css:Ty}=gC,hC=class extends Jg{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let e,t=e=Bo({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),n=this.getHref();return n&&(e=Bo({tagName:"a",editable:!1,attributes:{href:n,tabindex:-1}}),t.appendChild(e)),this.attachment.hasContent()?e.innerHTML=this.attachment.getContent():this.createContentNodes().forEach(i=>{e.appendChild(i)}),e.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=Bo({tagName:"progress",attributes:{class:Ty.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),t.appendChild(this.progressElement)),[REe("left"),t,REe("right")]}createCaptionElement(){let e=Bo({tagName:"figcaption",className:Ty.attachmentCaption}),t=this.attachmentPiece.getCaption();if(t)e.classList.add("".concat(Ty.attachmentCaption,"--edited")),e.textContent=t;else{let n,i,a=this.getCaptionConfig();if(a.name&&(n=this.attachment.getFilename()),a.size&&(i=this.attachment.getFormattedFilesize()),n){let l=Bo({tagName:"span",className:Ty.attachmentName,textContent:n});e.appendChild(l)}if(i){n&&e.appendChild(document.createTextNode(" "));let l=Bo({tagName:"span",className:Ty.attachmentSize,textContent:i});e.appendChild(l)}}return e}getClassName(){let e=[Ty.attachment,"".concat(Ty.attachment,"--").concat(this.attachment.getType())],t=this.attachment.getExtension();return t&&e.push("".concat(Ty.attachment,"--").concat(t)),e.join(" ")}getData(){let e={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:t}=this.attachmentPiece;return t.isEmpty()||(e.trixAttributes=JSON.stringify(t)),this.attachment.isPending()&&(e.trixSerialize=!1),e}getHref(){if(!O_t(this.attachment.getContent(),"a"))return this.attachment.getHref()}getCaptionConfig(){var e;let t=this.attachment.getType(),n=ake((e=uH[t])===null||e===void 0?void 0:e.caption);return t==="file"&&(n.name=!0),n}findProgressElement(){var e;return(e=this.findElement())===null||e===void 0?void 0:e.querySelector("progress")}attachmentDidChangeUploadProgress(){let e=this.attachment.getUploadProgress(),t=this.findProgressElement();t&&(t.value=e)}},REe=r=>Bo({tagName:"span",textContent:SP,data:{trixCursorTarget:r,trixSerialize:!1}}),O_t=function(r,e){let t=Bo("div");return t.innerHTML=r||"",t.querySelector(e)},nP=class extends hC{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=Bo({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){let e=super.createCaptionElement(...arguments);return e.textContent||e.setAttribute("data-trix-placeholder",to.captionPlaceholder),e}refresh(e){var t;if(e||(e=(t=this.findElement())===null||t===void 0?void 0:t.querySelector("img")),e)return this.updateAttributesForImage(e)}updateAttributesForImage(e){let t=this.attachment.getURL(),n=this.attachment.getPreviewURL();if(e.src=n||t,n===t)e.removeAttribute("data-trix-serialized-attributes");else{let h=JSON.stringify({src:t});e.setAttribute("data-trix-serialized-attributes",h)}let i=this.attachment.getWidth(),a=this.attachment.getHeight();i!=null&&(e.width=i),a!=null&&(e.height=a);let l=["imageElement",this.attachment.id,e.src,e.width,e.height].join("/");e.dataset.trixStoreKey=l}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}},iP=class extends Jg{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let e=this.attachment?this.createAttachmentNodes():this.createStringNodes(),t=this.createElement();if(t){let n=function(i){for(;(a=i)!==null&&a!==void 0&&a.firstElementChild;){var a;i=i.firstElementChild}return i}(t);Array.from(e).forEach(i=>{n.appendChild(i)}),e=[t]}return e}createAttachmentNodes(){let e=this.attachment.isPreviewable()?nP:hC;return this.createChildView(e,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var e;if((e=this.textConfig)!==null&&e!==void 0&&e.plaintext)return[document.createTextNode(this.string)];{let t=[],n=this.string.split(`
`);for(let i=0;i<n.length;i++){let a=n[i];if(i>0){let l=Bo("br");t.push(l)}if(a.length){let l=document.createTextNode(this.preserveSpaces(a));t.push(l)}}return t}}createElement(){let e,t,n,i={};for(t in this.attributes){n=this.attributes[t];let l=Q9(t);if(l){if(l.tagName){var a;let h=Bo(l.tagName);a?(a.appendChild(h),a=h):e=a=h}if(l.styleProperty&&(i[l.styleProperty]=n),l.style)for(t in l.style)n=l.style[t],i[t]=n}}if(Object.keys(i).length)for(t in e||(e=Bo("span")),i)n=i[t],e.style[t]=n;return e}createContainerElement(){for(let e in this.attributes){let t=this.attributes[e],n=Q9(e);if(n&&n.groupTagName){let i={};return i[e]=t,Bo(n.groupTagName,i)}}}preserveSpaces(e){return this.context.isLast&&(e=e.replace(/\ $/,Ey)),e=e.replace(/(\S)\ {3}(\S)/g,"$1 ".concat(Ey," $2")).replace(/\ {2}/g,"".concat(Ey," ")).replace(/\ {2}/g," ".concat(Ey)),(this.context.isFirst||this.context.followsWhitespace)&&(e=e.replace(/^\ /,Ey)),e}},oP=class extends Jg{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){let e=[],t=fC.groupObjects(this.getPieces()),n=t.length-1;for(let a=0;a<t.length;a++){let l=t[a],h={};a===0&&(h.isFirst=!0),a===n&&(h.isLast=!0),I_t(i)&&(h.followsWhitespace=!0);let g=this.findOrCreateCachedChildView(iP,l,{textConfig:this.textConfig,context:h});e.push(...Array.from(g.getNodes()||[]));var i=l}return e}getPieces(){return Array.from(this.text.getPieces()).filter(e=>!e.hasAttribute("blockBreak"))}},I_t=r=>/\s$/.test(r?.toString()),{css:FEe}=gC,aP=class extends Jg{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){let e=[document.createComment("block")];if(this.block.isEmpty())e.push(Bo("br"));else{var t;let n=(t=Zu(this.block.getLastAttribute()))===null||t===void 0?void 0:t.text,i=this.findOrCreateCachedChildView(oP,this.block.text,{textConfig:n});e.push(...Array.from(i.getNodes()||[])),this.shouldAddExtraNewlineElement()&&e.push(Bo("br"))}if(this.attributes.length)return e;{let n,{tagName:i}=Nh.default;this.block.isRTL()&&(n={dir:"rtl"});let a=Bo({tagName:i,attributes:n});return e.forEach(l=>a.appendChild(l)),[a]}}createContainerElement(e){let t,n,i=this.attributes[e],{tagName:a}=Zu(i);if(e===0&&this.block.isRTL()&&(t={dir:"rtl"}),i==="attachmentGallery"){let l=this.block.getBlockBreakPosition();n="".concat(FEe.attachmentGallery," ").concat(FEe.attachmentGallery,"--").concat(l)}return Bo({tagName:a,className:n,attributes:t})}shouldAddExtraNewlineElement(){return/\n\n$/.test(this.block.toString())}},Y1=class extends Jg{static render(e){let t=Bo("div"),n=new this(e,{element:t});return n.render(),n.sync(),t}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new rH,this.setDocument(this.object)}setDocument(e){e.isEqualTo(this.document)||(this.document=this.object=e)}render(){if(this.childViews=[],this.shadowElement=Bo("div"),!this.document.isEmpty()){let e=fC.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(e).forEach(t=>{let n=this.findOrCreateCachedChildView(aP,t);Array.from(n.getNodes()).map(i=>this.shadowElement.appendChild(i))})}}isSynced(){return M_t(this.shadowElement,this.element)}sync(){let e=this.createDocumentFragmentForSync();for(;this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(e),this.didSync()}didSync(){return this.elementStore.reset(qEe(this.element)),pH(()=>this.garbageCollectCachedViews())}createDocumentFragmentForSync(){let e=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach(t=>{e.appendChild(t.cloneNode(!0))}),Array.from(qEe(e)).forEach(t=>{let n=this.elementStore.remove(t);n&&t.parentNode.replaceChild(n,t)}),e}},qEe=r=>r.querySelectorAll("[data-trix-store-key]"),M_t=(r,e)=>NEe(r.innerHTML)===NEe(e.innerHTML),NEe=r=>r.replace(/&nbsp;/g," ");XL.prototype[typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},XL.prototype.next=function(r){return this._invoke("next",r)},XL.prototype.throw=function(r){return this._invoke("throw",r)},XL.prototype.return=function(r){return this._invoke("return",r)};Qg=class extends Xg{static registerType(e,t){t.type=e,this.types[e]=t}static fromJSON(e){let t=this.types[e.type];if(t)return t.fromJSON(e)}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.attributes=Jf.box(t)}copyWithAttributes(e){return new this.constructor(this.getValue(),e)}copyWithAdditionalAttributes(e){return this.copyWithAttributes(this.attributes.merge(e))}copyWithoutAttribute(e){return this.copyWithAttributes(this.attributes.remove(e))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(e){return this.attributes.get(e)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(e){return this.attributes.has(e)}hasSameStringValueAsPiece(e){return e&&this.toString()===e.toString()}hasSameAttributesAsPiece(e){return e&&(this.attributes===e.attributes||this.attributes.isEqualTo(e.attributes))}isBlockBreak(){return!1}isEqualTo(e){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(e)&&this.hasSameStringValueAsPiece(e)&&this.hasSameAttributesAsPiece(e)}isEmpty(){return this.length===0}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute("href")}canBeGroupedWith(e){return this.getAttribute("href")===e.getAttribute("href")}getLength(){return this.length}canBeConsolidatedWith(e){return!1}};_d(Qg,"types",{});sP=class extends K1{constructor(e){super(...arguments),this.url=e}perform(e){let t=new Image;t.onload=()=>(t.width=this.width=t.naturalWidth,t.height=this.height=t.naturalHeight,e(!0,t)),t.onerror=()=>e(!1),t.src=this.url}},Ay=class extends Xg{static attachmentForFile(e){let t=new this(this.attributesForFile(e));return t.setFile(e),t}static attributesForFile(e){return new Jf({filename:e.name,filesize:e.size,contentType:e.type})}static fromJSON(e){return new this(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.releaseFile=this.releaseFile.bind(this),this.attributes=Jf.box(e),this.didChangeAttributes()}getAttribute(e){return this.attributes.get(e)}hasAttribute(e){return this.attributes.has(e)}getAttributes(){return this.attributes.toObject()}setAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=this.attributes.merge(e);var n,i,a,l;if(!this.attributes.isEqualTo(t))return this.attributes=t,this.didChangeAttributes(),(n=this.previewDelegate)===null||n===void 0||(i=n.attachmentDidChangeAttributes)===null||i===void 0||i.call(n,this),(a=this.delegate)===null||a===void 0||(l=a.attachmentDidChangeAttributes)===null||l===void 0?void 0:l.call(a,this)}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){return this.file!=null&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has("previewable")?this.attributes.get("previewable"):Ay.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"}getURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesize")}getFormattedFilesize(){let e=this.attributes.get("filesize");return typeof e=="number"?JEe.formatter(e):""}getExtension(){var e;return(e=this.getFilename().match(/\.(\w+)$/))===null||e===void 0?void 0:e[1].toLowerCase()}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.file}setFile(e){if(this.file=e,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return this.uploadProgress!=null?this.uploadProgress:0}setUploadProgress(e){var t,n;if(this.uploadProgress!==e)return this.uploadProgress=e,(t=this.uploadProgressDelegate)===null||t===void 0||(n=t.attachmentDidChangeUploadProgress)===null||n===void 0?void 0:n.call(t,this)}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(e){var t,n,i,a;if(e!==this.getPreviewURL())return this.previewURL=e,(t=this.previewDelegate)===null||t===void 0||(n=t.attachmentDidChangeAttributes)===null||n===void 0||n.call(t,this),(i=this.delegate)===null||i===void 0||(a=i.attachmentDidChangePreviewURL)===null||a===void 0?void 0:a.call(i,this)}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(e,t){if(e&&e!==this.getPreviewURL())return this.preloadingURL=e,new sP(e).then(n=>{let{width:i,height:a}=n;return this.getWidth()&&this.getHeight()||this.setAttributes({width:i,height:a}),this.preloadingURL=null,this.setPreviewURL(e),t?.()}).catch(()=>(this.preloadingURL=null,t?.()))}};_d(Ay,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);Dy=class extends Qg{static fromJSON(e){return new this(Ay.fromJSON(e.attachment),e.attributes)}constructor(e){super(...arguments),this.attachment=e,this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(e){this.hasAttribute(e)&&(this.attachment.hasAttribute(e)||this.attachment.setAttributes(this.attributes.slice([e])),this.attributes=this.attributes.remove(e))}removeProhibitedAttributes(){let e=this.attributes.slice(Dy.permittedAttributes);e.isEqualTo(this.attributes)||(this.attributes=e)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get("caption")||""}isEqualTo(e){var t;return super.isEqualTo(e)&&this.attachment.id===(e==null||(t=e.attachment)===null||t===void 0?void 0:t.id)}toString(){return"\uFFFC"}toJSON(){let e=super.toJSON(...arguments);return e.attachment=this.attachment,e}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join("/")}toConsole(){return JSON.stringify(this.toString())}};_d(Dy,"permittedAttributes",["caption","presentation"]),Qg.registerType("attachment",Dy);dC=class extends Qg{static fromJSON(e){return new this(e.string,e.attributes)}constructor(e){super(...arguments),this.string=(t=>t.replace(/\r\n?/g,`
`))(e),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0}toJSON(){let e=super.toJSON(...arguments);return e.string=this.string,e}canBeConsolidatedWith(e){return e&&this.hasSameConstructorAs(e)&&this.hasSameAttributesAsPiece(e)}consolidateWith(e){return new this.constructor(this.toString()+e.toString(),this.attributes)}splitAtOffset(e){let t,n;return e===0?(t=null,n=this):e===this.length?(t=this,n=null):(t=new this.constructor(this.string.slice(0,e),this.attributes),n=new this.constructor(this.string.slice(e),this.attributes)),[t,n]}toConsole(){let{string:e}=this;return e.length>15&&(e=e.slice(0,14)+"\u2026"),JSON.stringify(e.toString())}};Qg.registerType("string",dC);Z1=class extends Xg{static box(e){return e instanceof this?e:new this(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects=e.slice(0),this.length=this.objects.length}indexOf(e){return this.objects.indexOf(e)}splice(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new this.constructor(dH(this.objects,...t))}eachObject(e){return this.objects.map((t,n)=>e(t,n))}insertObjectAtIndex(e,t){return this.splice(t,0,e)}insertSplittableListAtIndex(e,t){return this.splice(t,0,...e.objects)}insertSplittableListAtPosition(e,t){let[n,i]=this.splitObjectAtPosition(t);return new this.constructor(n).insertSplittableListAtIndex(e,i)}editObjectAtIndex(e,t){return this.replaceObjectAtIndex(t(this.objects[e]),e)}replaceObjectAtIndex(e,t){return this.splice(t,1,e)}removeObjectAtIndex(e){return this.splice(e,1)}getObjectAtIndex(e){return this.objects[e]}getSplittableListInRange(e){let[t,n,i]=this.splitObjectsAtRange(e);return new this.constructor(t.slice(n,i+1))}selectSplittableList(e){let t=this.objects.filter(n=>e(n));return new this.constructor(t)}removeObjectsInRange(e){let[t,n,i]=this.splitObjectsAtRange(e);return new this.constructor(t).splice(n,i-n+1)}transformObjectsInRange(e,t){let[n,i,a]=this.splitObjectsAtRange(e),l=n.map((h,g)=>i<=g&&g<=a?t(h):h);return new this.constructor(l)}splitObjectsAtRange(e){let t,[n,i,a]=this.splitObjectAtPosition(F_t(e));return[n,t]=new this.constructor(n).splitObjectAtPosition(q_t(e)+a),[n,i,t-1]}getObjectAtPosition(e){let{index:t}=this.findIndexAndOffsetAtPosition(e);return this.objects[t]}splitObjectAtPosition(e){let t,n,{index:i,offset:a}=this.findIndexAndOffsetAtPosition(e),l=this.objects.slice(0);if(i!=null)if(a===0)t=i,n=0;else{let h=this.getObjectAtIndex(i),[g,w]=h.splitAtOffset(a);l.splice(i,1,g,w),t=i+1,n=g.getLength()-a}else t=l.length,n=0;return[l,t,n]}consolidate(){let e=[],t=this.objects[0];return this.objects.slice(1).forEach(n=>{var i,a;(i=(a=t).canBeConsolidatedWith)!==null&&i!==void 0&&i.call(a,n)?t=t.consolidateWith(n):(e.push(t),t=n)}),t&&e.push(t),new this.constructor(e)}consolidateFromIndexToIndex(e,t){let n=this.objects.slice(0).slice(e,t+1),i=new this.constructor(n).consolidate().toArray();return this.splice(e,n.length,...i)}findIndexAndOffsetAtPosition(e){let t,n=0;for(t=0;t<this.objects.length;t++){let i=n+this.objects[t].getLength();if(n<=e&&e<i)return{index:t,offset:e-n};n=i}return{index:null,offset:null}}findPositionAtIndexAndOffset(e,t){let n=0;for(let i=0;i<this.objects.length;i++){let a=this.objects[i];if(i<e)n+=a.getLength();else if(i===e){n+=t;break}}return n}getEndPosition(){return this.endPosition==null&&(this.endPosition=0,this.objects.forEach(e=>this.endPosition+=e.getLength())),this.endPosition}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(e){return super.isEqualTo(...arguments)||R_t(this.objects,e?.objects)}contentsForInspection(){return{objects:"[".concat(this.objects.map(e=>e.inspect()).join(", "),"]")}}},R_t=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(r.length!==e.length)return!1;let t=!0;for(let n=0;n<r.length;n++){let i=r[n];t&&!i.isEqualTo(e[n])&&(t=!1)}return t},F_t=r=>r[0],q_t=r=>r[1],xd=class extends Xg{static textForAttachmentWithAttributes(e,t){return new this([new Dy(e,t)])}static textForStringWithAttributes(e,t){return new this([new dC(e,t)])}static fromJSON(e){return new this(Array.from(e).map(t=>Qg.fromJSON(t)))}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments);let t=e.filter(n=>!n.isEmpty());this.pieceList=new Z1(t)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(e){return new this.constructor(e.consolidate().toArray())}copyUsingObjectMap(e){let t=this.getPieces().map(n=>e.find(n)||n);return new this.constructor(t)}appendText(e){return this.insertTextAtPosition(e,this.getLength())}insertTextAtPosition(e,t){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(e.pieceList,t))}removeTextAtRange(e){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(e))}replaceTextAtRange(e,t){return this.removeTextAtRange(t).insertTextAtPosition(e,t[0])}moveTextFromRangeToPosition(e,t){if(e[0]<=t&&t<=e[1])return;let n=this.getTextAtRange(e),i=n.getLength();return e[0]<t&&(t-=i),this.removeTextAtRange(e).insertTextAtPosition(n,t)}addAttributeAtRange(e,t,n){let i={};return i[e]=t,this.addAttributesAtRange(i,n)}addAttributesAtRange(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,n=>n.copyWithAdditionalAttributes(e)))}removeAttributeAtRange(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,n=>n.copyWithoutAttribute(e)))}setAttributesAtRange(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,n=>n.copyWithAttributes(e)))}getAttributesAtPosition(e){var t;return((t=this.pieceList.getObjectAtPosition(e))===null||t===void 0?void 0:t.getAttributes())||{}}getCommonAttributes(){let e=Array.from(this.pieceList.toArray()).map(t=>t.getAttributes());return Jf.fromCommonAttributesOfObjects(e).toObject()}getCommonAttributesAtRange(e){return this.getTextAtRange(e).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(e,t){let n,i=n=t,a=this.getLength();for(;i>0&&this.getCommonAttributesAtRange([i-1,n])[e];)i--;for(;n<a&&this.getCommonAttributesAtRange([t,n+1])[e];)n++;return[i,n]}getTextAtRange(e){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(e))}getStringAtRange(e){return this.pieceList.getSplittableListInRange(e).toString()}getStringAtPosition(e){return this.getStringAtRange([e,e+1])}startsWithString(e){return this.getStringAtRange([0,e.length])===e}endsWithString(e){let t=this.getLength();return this.getStringAtRange([t-e.length,t])===e}getAttachmentPieces(){return this.pieceList.toArray().filter(e=>!!e.attachment)}getAttachments(){return this.getAttachmentPieces().map(e=>e.attachment)}getAttachmentAndPositionById(e){let t=0;for(let i of this.pieceList.toArray()){var n;if(((n=i.attachment)===null||n===void 0?void 0:n.id)===e)return{attachment:i.attachment,position:t};t+=i.length}return{attachment:null,position:null}}getAttachmentById(e){let{attachment:t}=this.getAttachmentAndPositionById(e);return t}getRangeOfAttachment(e){let t=this.getAttachmentAndPositionById(e.id),n=t.position;if(e=t.attachment)return[n,n+1]}updateAttributesForAttachment(e,t){let n=this.getRangeOfAttachment(t);return n?this.addAttributesAtRange(e,n):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return this.getLength()===0}isEqualTo(e){var t;return super.isEqualTo(e)||(e==null||(t=e.pieceList)===null||t===void 0?void 0:t.isEqualTo(this.pieceList))}isBlockBreak(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(e){return this.pieceList.eachObject(e)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(e){return this.pieceList.getObjectAtPosition(e)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){let e=this.pieceList.selectSplittableList(t=>t.isSerializable());return this.copyWithPieceList(e)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map(e=>JSON.parse(e.toConsole())))}getDirection(){return __t(this.toString())}isRTL(){return this.getDirection()==="rtl"}},rm=class extends Xg{static fromJSON(e){return new this(xd.fromJSON(e.text),e.attributes)}constructor(e,t){super(...arguments),this.text=N_t(e||new xd),this.attributes=t||[]}isEmpty(){return this.text.isBlockBreak()}isEqualTo(e){return!!super.isEqualTo(e)||this.text.isEqualTo(e?.text)&&y0(this.attributes,e?.attributes)}copyWithText(e){return new rm(e,this.attributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(e){return new rm(this.text,e)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(e){let t=e.find(this.text);return t?this.copyWithText(t):this.copyWithText(this.text.copyUsingObjectMap(e))}addAttribute(e){let t=this.attributes.concat(BEe(e));return this.copyWithAttributes(t)}removeAttribute(e){let{listAttribute:t}=Zu(e),n=UEe(UEe(this.attributes,e),t);return this.copyWithAttributes(n)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return zEe(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(e){return this.attributes[e-1]}hasAttribute(e){return this.attributes.includes(e)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return zEe(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter(e=>Zu(e).nestable)}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){let e=this.getLastNestableAttribute();return e?this.removeAttribute(e):this}increaseNestingLevel(){let e=this.getLastNestableAttribute();if(e){let t=this.attributes.lastIndexOf(e),n=dH(this.attributes,t+1,0,...BEe(e));return this.copyWithAttributes(n)}return this}getListItemAttributes(){return this.attributes.filter(e=>Zu(e).listAttribute)}isListItem(){var e;return(e=Zu(this.getLastAttribute()))===null||e===void 0?void 0:e.listAttribute}isTerminalBlock(){var e;return(e=Zu(this.getLastAttribute()))===null||e===void 0?void 0:e.terminal}breaksOnReturn(){var e;return(e=Zu(this.getLastAttribute()))===null||e===void 0?void 0:e.breakOnReturn}findLineBreakInDirectionFromPosition(e,t){let n=this.toString(),i;switch(e){case"forward":i=n.indexOf(`
`,t);break;case"backward":i=n.slice(0,t).lastIndexOf(`
`)}if(i!==-1)return i}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(e){return!this.hasAttributes()&&!e.hasAttributes()&&this.getDirection()===e.getDirection()}consolidateWith(e){let t=xd.textForStringWithAttributes(`
`),n=this.getTextWithoutBlockBreak().appendText(t);return this.copyWithText(n.appendText(e.text))}splitAtOffset(e){let t,n;return e===0?(t=null,n=this):e===this.getLength()?(t=this,n=null):(t=this.copyWithText(this.text.getTextAtRange([0,e])),n=this.copyWithText(this.text.getTextAtRange([e,this.getLength()]))),[t,n]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return uke(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(e){return this.attributes[e]}canBeGroupedWith(e,t){let n=e.getAttributes(),i=n[t],a=this.attributes[t];return a===i&&!(Zu(a).group===!1&&!(()=>{if(!ZL){ZL=[];for(let l in Nh){let{listAttribute:h}=Nh[l];h!=null&&ZL.push(h)}}return ZL})().includes(n[t+1]))&&(this.getDirection()===e.getDirection()||e.isEmpty())}},N_t=function(r){return r=B_t(r),r=U_t(r)},B_t=function(r){let e=!1,t=r.getPieces(),n=t.slice(0,t.length-1),i=t[t.length-1];return i?(n=n.map(a=>a.isBlockBreak()?(e=!0,j_t(a)):a),e?new xd([...n,i]):r):r},z_t=xd.textForStringWithAttributes(`
`,{blockBreak:!0}),U_t=function(r){return uke(r)?r:r.appendText(z_t)},uke=function(r){let e=r.getLength();return e===0?!1:r.getTextAtRange([e-1,e]).isBlockBreak()},j_t=r=>r.copyWithoutAttribute("blockBreak"),BEe=function(r){let{listAttribute:e}=Zu(r);return e?[e,r]:[r]},zEe=r=>r.slice(-1)[0],UEe=function(r,e){let t=r.lastIndexOf(e);return t===-1?r:dH(r,t,1)},qh=class extends Xg{static fromJSON(e){return new this(Array.from(e).map(t=>rm.fromJSON(t)))}static fromString(e,t){let n=xd.textForStringWithAttributes(e,t);return new this([new rm(n)])}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),e.length===0&&(e=[new rm]),this.blockList=Z1.box(e)}isEmpty(){let e=this.getBlockAtIndex(0);return this.blockList.length===1&&e.isEmpty()&&!e.hasAttributes()}copy(){let e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(e)}copyUsingObjectsFromDocument(e){let t=new tH(e.getObjects());return this.copyUsingObjectMap(t)}copyUsingObjectMap(e){let t=this.getBlocks().map(n=>e.find(n)||n.copyUsingObjectMap(e));return new this.constructor(t)}copyWithBaseBlockAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.getBlocks().map(n=>{let i=e.concat(n.getAttributes());return n.copyWithAttributes(i)});return new this.constructor(t)}replaceBlock(e,t){let n=this.blockList.indexOf(e);return n===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(t,n))}insertDocumentAtRange(e,t){let{blockList:n}=e;t=es(t);let[i]=t,{index:a,offset:l}=this.locationFromPosition(i),h=this,g=this.getBlockAtPosition(i);return Zg(t)&&g.isEmpty()&&!g.hasAttributes()?h=new this.constructor(h.blockList.removeObjectAtIndex(a)):g.getBlockBreakPosition()===l&&i++,h=h.removeTextAtRange(t),new this.constructor(h.blockList.insertSplittableListAtPosition(n,i))}mergeDocumentAtRange(e,t){let n,i;t=es(t);let[a]=t,l=this.locationFromPosition(a),h=this.getBlockAtIndex(l.index).getAttributes(),g=e.getBaseBlockAttributes(),w=h.slice(-g.length);if(y0(g,w)){let F=h.slice(0,-g.length);n=e.copyWithBaseBlockAttributes(F)}else n=e.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(h);let C=n.getBlockCount(),D=n.getBlockAtIndex(0);if(y0(h,D.getAttributes())){let F=D.getTextWithoutBlockBreak();if(i=this.insertTextAtRange(F,t),C>1){n=new this.constructor(n.getBlocks().slice(1));let z=a+F.getLength();i=i.insertDocumentAtRange(n,z)}}else i=this.insertDocumentAtRange(n,t);return i}insertTextAtRange(e,t){t=es(t);let[n]=t,{index:i,offset:a}=this.locationFromPosition(n),l=this.removeTextAtRange(t);return new this.constructor(l.blockList.editObjectAtIndex(i,h=>h.copyWithText(h.text.insertTextAtPosition(e,a))))}removeTextAtRange(e){let t;e=es(e);let[n,i]=e;if(Zg(e))return this;let[a,l]=Array.from(this.locationRangeFromRange(e)),h=a.index,g=a.offset,w=this.getBlockAtIndex(h),C=l.index,D=l.offset,F=this.getBlockAtIndex(C);if(i-n==1&&w.getBlockBreakPosition()===g&&F.getBlockBreakPosition()!==D&&F.text.getStringAtPosition(D)===`
`)t=this.blockList.editObjectAtIndex(C,z=>z.copyWithText(z.text.removeTextAtRange([D,D+1])));else{let z,Y=w.text.getTextAtRange([0,g]),$=F.text.getTextAtRange([D,F.getLength()]),re=Y.appendText($);z=h!==C&&g===0&&w.getAttributeLevel()>=F.getAttributeLevel()?F.copyWithText(re):w.copyWithText(re);let oe=C+1-h;t=this.blockList.splice(h,oe,z)}return new this.constructor(t)}moveTextFromRangeToPosition(e,t){let n;e=es(e);let[i,a]=e;if(i<=t&&t<=a)return this;let l=this.getDocumentAtRange(e),h=this.removeTextAtRange(e),g=i<t;g&&(t-=l.getLength());let[w,...C]=l.getBlocks();return C.length===0?(n=w.getTextWithoutBlockBreak(),g&&(t+=1)):n=w.text,h=h.insertTextAtRange(n,t),C.length===0?h:(l=new this.constructor(C),t+=n.getLength(),h.insertDocumentAtRange(l,t))}addAttributeAtRange(e,t,n){let{blockList:i}=this;return this.eachBlockAtRange(n,(a,l,h)=>i=i.editObjectAtIndex(h,function(){return Zu(e)?a.addAttribute(e,t):l[0]===l[1]?a:a.copyWithText(a.text.addAttributeAtRange(e,t,l))})),new this.constructor(i)}addAttribute(e,t){let{blockList:n}=this;return this.eachBlock((i,a)=>n=n.editObjectAtIndex(a,()=>i.addAttribute(e,t))),new this.constructor(n)}removeAttributeAtRange(e,t){let{blockList:n}=this;return this.eachBlockAtRange(t,function(i,a,l){Zu(e)?n=n.editObjectAtIndex(l,()=>i.removeAttribute(e)):a[0]!==a[1]&&(n=n.editObjectAtIndex(l,()=>i.copyWithText(i.text.removeAttributeAtRange(e,a))))}),new this.constructor(n)}updateAttributesForAttachment(e,t){let n=this.getRangeOfAttachment(t),[i]=Array.from(n),{index:a}=this.locationFromPosition(i),l=this.getTextAtIndex(a);return new this.constructor(this.blockList.editObjectAtIndex(a,h=>h.copyWithText(l.updateAttributesForAttachment(e,t))))}removeAttributeForAttachment(e,t){let n=this.getRangeOfAttachment(t);return this.removeAttributeAtRange(e,n)}insertBlockBreakAtRange(e){let t;e=es(e);let[n]=e,{offset:i}=this.locationFromPosition(n),a=this.removeTextAtRange(e);return i===0&&(t=[new rm]),new this.constructor(a.blockList.insertSplittableListAtPosition(new Z1(t),n))}applyBlockAttributeAtRange(e,t,n){let i=this.expandRangeToLineBreaksAndSplitBlocks(n),a=i.document;n=i.range;let l=Zu(e);if(l.listAttribute){a=a.removeLastListAttributeAtRange(n,{exceptAttributeName:e});let h=a.convertLineBreaksToBlockBreaksInRange(n);a=h.document,n=h.range}else a=l.exclusive?a.removeBlockAttributesAtRange(n):l.terminal?a.removeLastTerminalAttributeAtRange(n):a.consolidateBlocksAtRange(n);return a.addAttributeAtRange(e,t,n)}removeLastListAttributeAtRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{blockList:n}=this;return this.eachBlockAtRange(e,function(i,a,l){let h=i.getLastAttribute();h&&Zu(h).listAttribute&&h!==t.exceptAttributeName&&(n=n.editObjectAtIndex(l,()=>i.removeAttribute(h)))}),new this.constructor(n)}removeLastTerminalAttributeAtRange(e){let{blockList:t}=this;return this.eachBlockAtRange(e,function(n,i,a){let l=n.getLastAttribute();l&&Zu(l).terminal&&(t=t.editObjectAtIndex(a,()=>n.removeAttribute(l)))}),new this.constructor(t)}removeBlockAttributesAtRange(e){let{blockList:t}=this;return this.eachBlockAtRange(e,function(n,i,a){n.hasAttributes()&&(t=t.editObjectAtIndex(a,()=>n.copyWithoutAttributes()))}),new this.constructor(t)}expandRangeToLineBreaksAndSplitBlocks(e){let t;e=es(e);let[n,i]=e,a=this.locationFromPosition(n),l=this.locationFromPosition(i),h=this,g=h.getBlockAtIndex(a.index);if(a.offset=g.findLineBreakInDirectionFromPosition("backward",a.offset),a.offset!=null&&(t=h.positionFromLocation(a),h=h.insertBlockBreakAtRange([t,t+1]),l.index+=1,l.offset-=h.getBlockAtIndex(a.index).getLength(),a.index+=1),a.offset=0,l.offset===0&&l.index>a.index)l.index-=1,l.offset=h.getBlockAtIndex(l.index).getBlockBreakPosition();else{let w=h.getBlockAtIndex(l.index);w.text.getStringAtRange([l.offset-1,l.offset])===`
`?l.offset-=1:l.offset=w.findLineBreakInDirectionFromPosition("forward",l.offset),l.offset!==w.getBlockBreakPosition()&&(t=h.positionFromLocation(l),h=h.insertBlockBreakAtRange([t,t+1]))}return n=h.positionFromLocation(a),i=h.positionFromLocation(l),{document:h,range:e=es([n,i])}}convertLineBreaksToBlockBreaksInRange(e){e=es(e);let[t]=e,n=this.getStringAtRange(e).slice(0,-1),i=this;return n.replace(/.*?\n/g,function(a){t+=a.length,i=i.insertBlockBreakAtRange([t-1,t])}),{document:i,range:e}}consolidateBlocksAtRange(e){e=es(e);let[t,n]=e,i=this.locationFromPosition(t).index,a=this.locationFromPosition(n).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(i,a))}getDocumentAtRange(e){e=es(e);let t=this.blockList.getSplittableListInRange(e).toArray();return new this.constructor(t)}getStringAtRange(e){let t,n=e=es(e);return n[n.length-1]!==this.getLength()&&(t=-1),this.getDocumentAtRange(e).toString().slice(0,t)}getBlockAtIndex(e){return this.blockList.getObjectAtIndex(e)}getBlockAtPosition(e){let{index:t}=this.locationFromPosition(e);return this.getBlockAtIndex(t)}getTextAtIndex(e){var t;return(t=this.getBlockAtIndex(e))===null||t===void 0?void 0:t.text}getTextAtPosition(e){let{index:t}=this.locationFromPosition(e);return this.getTextAtIndex(t)}getPieceAtPosition(e){let{index:t,offset:n}=this.locationFromPosition(e);return this.getTextAtIndex(t).getPieceAtPosition(n)}getCharacterAtPosition(e){let{index:t,offset:n}=this.locationFromPosition(e);return this.getTextAtIndex(t).getStringAtRange([n,n+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(e){return this.blockList.eachObject(e)}eachBlockAtRange(e,t){let n,i;e=es(e);let[a,l]=e,h=this.locationFromPosition(a),g=this.locationFromPosition(l);if(h.index===g.index)return n=this.getBlockAtIndex(h.index),i=[h.offset,g.offset],t(n,i,h.index);for(let w=h.index;w<=g.index;w++)if(n=this.getBlockAtIndex(w),n){switch(w){case h.index:i=[h.offset,n.text.getLength()];break;case g.index:i=[0,g.offset];break;default:i=[0,n.text.getLength()]}t(n,i,w)}}getCommonAttributesAtRange(e){e=es(e);let[t]=e;if(Zg(e))return this.getCommonAttributesAtPosition(t);{let n=[],i=[];return this.eachBlockAtRange(e,function(a,l){if(l[0]!==l[1])return n.push(a.text.getCommonAttributesAtRange(l)),i.push(jEe(a))}),Jf.fromCommonAttributesOfObjects(n).merge(Jf.fromCommonAttributesOfObjects(i)).toObject()}}getCommonAttributesAtPosition(e){let t,n,{index:i,offset:a}=this.locationFromPosition(e),l=this.getBlockAtIndex(i);if(!l)return{};let h=jEe(l),g=l.text.getAttributesAtPosition(a),w=l.text.getAttributesAtPosition(a-1),C=Object.keys(g0).filter(D=>g0[D].inheritable);for(t in w)n=w[t],(n===g[t]||C.includes(t))&&(h[t]=n);return h}getRangeOfCommonAttributeAtPosition(e,t){let{index:n,offset:i}=this.locationFromPosition(t),a=this.getTextAtIndex(n),[l,h]=Array.from(a.getExpandedRangeForAttributeAtOffset(e,i)),g=this.positionFromLocation({index:n,offset:l}),w=this.positionFromLocation({index:n,offset:h});return es([g,w])}getBaseBlockAttributes(){let e=this.getBlockAtIndex(0).getAttributes();for(let t=1;t<this.getBlockCount();t++){let n=this.getBlockAtIndex(t).getAttributes(),i=Math.min(e.length,n.length);e=(()=>{let a=[];for(let l=0;l<i&&n[l]===e[l];l++)a.push(n[l]);return a})()}return e}getAttachmentById(e){for(let t of this.getAttachments())if(t.id===e)return t}getAttachmentPieces(){let e=[];return this.blockList.eachObject(t=>{let{text:n}=t;return e=e.concat(n.getAttachmentPieces())}),e}getAttachments(){return this.getAttachmentPieces().map(e=>e.attachment)}getRangeOfAttachment(e){let t=0,n=this.blockList.toArray();for(let i=0;i<n.length;i++){let{text:a}=n[i],l=a.getRangeOfAttachment(e);if(l)return es([t+l[0],t+l[1]]);t+=a.getLength()}}getLocationRangeOfAttachment(e){let t=this.getRangeOfAttachment(e);return this.locationRangeFromRange(t)}getAttachmentPieceForAttachment(e){for(let t of this.getAttachmentPieces())if(t.attachment===e)return t}findRangesForBlockAttribute(e){let t=0,n=[];return this.getBlocks().forEach(i=>{let a=i.getLength();i.hasAttribute(e)&&n.push([t,t+a]),t+=a}),n}findRangesForTextAttribute(e){let{withValue:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=0,i=[],a=[];return this.getPieces().forEach(l=>{let h=l.getLength();(function(g){return t?g.getAttribute(e)===t:g.hasAttribute(e)})(l)&&(i[1]===n?i[1]=n+h:a.push(i=[n,n+h])),n+=h}),a}locationFromPosition(e){let t=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,e));if(t.index!=null)return t;{let n=this.getBlocks();return{index:n.length-1,offset:n[n.length-1].getLength()}}}positionFromLocation(e){return this.blockList.findPositionAtIndexAndOffset(e.index,e.offset)}locationRangeFromPosition(e){return es(this.locationFromPosition(e))}locationRangeFromRange(e){if(!(e=es(e)))return;let[t,n]=Array.from(e),i=this.locationFromPosition(t),a=this.locationFromPosition(n);return es([i,a])}rangeFromLocationRange(e){let t;e=es(e);let n=this.positionFromLocation(e[0]);return Zg(e)||(t=this.positionFromLocation(e[1])),es([n,t])}isEqualTo(e){return this.blockList.isEqualTo(e?.blockList)}getTexts(){return this.getBlocks().map(e=>e.text)}getPieces(){let e=[];return Array.from(this.getTexts()).forEach(t=>{e.push(...Array.from(t.getPieces()||[]))}),e}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){let e=[];return this.blockList.eachObject(t=>e.push(t.copyWithText(t.text.toSerializableText()))),new this.constructor(e)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray().map(e=>JSON.parse(e.text.toConsole())))}},jEe=function(r){let e={},t=r.getLastAttribute();return t&&(e[t]=!0),e},H_t="style href src width height class".split(" "),W_t="javascript:".split(" "),V_t="script iframe form".split(" "),lP=class extends iu{static sanitize(e,t){let n=new this(e,t);return n.sanitize(),n}constructor(e){let{allowedAttributes:t,forbiddenProtocols:n,forbiddenElements:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.allowedAttributes=t||H_t,this.forbiddenProtocols=n||W_t,this.forbiddenElements=i||V_t,this.body=$_t(e)}sanitize(){return this.sanitizeElements(),this.normalizeListElementNesting()}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){let e=eP(this.body),t=[];for(;e.nextNode();){let n=e.currentNode;switch(n.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(n)?t.push(n):this.sanitizeElement(n);break;case Node.COMMENT_NODE:t.push(n)}}return t.forEach(n=>Cy(n)),this.body}sanitizeElement(e){return e.hasAttribute("href")&&this.forbiddenProtocols.includes(e.protocol)&&e.removeAttribute("href"),Array.from(e.attributes).forEach(t=>{let{name:n}=t;this.allowedAttributes.includes(n)||n.indexOf("data-trix")===0||e.removeAttribute(n)}),e}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll("ul,ol")).forEach(e=>{let t=e.previousElementSibling;t&&Fh(t)==="li"&&t.appendChild(e)}),this.body}elementIsRemovable(e){if(e?.nodeType===Node.ELEMENT_NODE)return this.elementIsForbidden(e)||this.elementIsntSerializable(e)}elementIsForbidden(e){return this.forbiddenElements.includes(Fh(e))}elementIsntSerializable(e){return e.getAttribute("data-trix-serialize")==="false"&&!d0(e)}},$_t=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";r=r.replace(/<\/html[^>]*>[^]*$/i,"</html>");let e=document.implementation.createHTMLDocument("");return e.documentElement.innerHTML=r,Array.from(e.head.querySelectorAll("style")).forEach(t=>{e.body.appendChild(t)}),e.body},U9=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{string:r=aC(r),attributes:e,type:"string"}},HEe=(r,e)=>{try{return JSON.parse(r.getAttribute("data-trix-".concat(e)))}catch{return{}}},x0=class extends iu{static parse(e,t){let n=new this(e,t);return n.parse(),n}constructor(e){let{referenceElement:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.html=e,this.referenceElement=t,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return qh.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer();let e=lP.sanitize(this.html).getHTML();this.containerElement.innerHTML=e;let t=eP(this.containerElement,{usingFilter:K_t});for(;t.nextNode();)this.processNode(t.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=Bo({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return Cy(this.containerElement)}processNode(e){switch(e.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(e))return this.appendBlockForTextNode(e),this.processTextNode(e);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(e),this.processElement(e)}}appendBlockForTextNode(e){let t=e.parentNode;if(t===this.currentBlockElement&&this.isBlockElement(e.previousSibling))return this.appendStringWithAttributes(`
`);if(t===this.containerElement||this.isBlockElement(t)){var n;let i=this.getBlockAttributes(t);y0(i,(n=this.currentBlock)===null||n===void 0?void 0:n.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(i,t),this.currentBlockElement=t)}}appendBlockForElement(e){let t=this.isBlockElement(e),n=f0(this.currentBlockElement,e);if(t&&!this.isBlockElement(e.firstChild)){if(!this.isInsignificantTextNode(e.firstChild)||!this.isBlockElement(e.firstElementChild)){let i=this.getBlockAttributes(e);if(e.firstChild){if(n&&y0(i,this.currentBlock.attributes))return this.appendStringWithAttributes(`
`);this.currentBlock=this.appendBlockForAttributesWithElement(i,e),this.currentBlockElement=e}}}else if(this.currentBlockElement&&!n&&!t){let i=this.findParentBlockElement(e);if(i)return this.appendBlockForElement(i);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(e){let{parentElement:t}=e;for(;t&&t!==this.containerElement;){if(this.isBlockElement(t)&&this.blockElements.includes(t))return t;t=t.parentElement}return null}processTextNode(e){let t=e.data;var n;return WEe(e.parentNode)||(t=gH(t),cke((n=e.previousSibling)===null||n===void 0?void 0:n.textContent)&&(t=Y_t(t))),this.appendStringWithAttributes(t,this.getTextAttributes(e.parentNode))}processElement(e){let t;if(d0(e)){if(t=HEe(e,"attachment"),Object.keys(t).length){let n=this.getTextAttributes(e);this.appendAttachmentWithAttributes(t,n),e.innerHTML=""}return this.processedElements.push(e)}switch(Fh(e)){case"br":return this.isExtraBR(e)||this.isBlockElement(e.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(e)),this.processedElements.push(e);case"img":t={url:e.getAttribute("src"),contentType:"image"};let n=(i=>{let a=i.getAttribute("width"),l=i.getAttribute("height"),h={};return a&&(h.width=parseInt(a,10)),l&&(h.height=parseInt(l,10)),h})(e);for(let i in n){let a=n[i];t[i]=a}return this.appendAttachmentWithAttributes(t,this.getTextAttributes(e)),this.processedElements.push(e);case"tr":if(this.needsTableSeparator(e))return this.appendStringWithAttributes(JL.tableRowSeparator);break;case"td":if(this.needsTableSeparator(e))return this.appendStringWithAttributes(JL.tableCellSeparator)}}appendBlockForAttributesWithElement(e,t){this.blockElements.push(t);let n=function(){return{text:[],attributes:arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}}}(e);return this.blocks.push(n),n}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(e,t){return this.appendPiece(U9(e,t))}appendAttachmentWithAttributes(e,t){return this.appendPiece(function(n){return{attachment:n,attributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},type:"attachment"}}(e,t))}appendPiece(e){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(e)}appendStringToTextAtIndex(e,t){let{text:n}=this.blocks[t],i=n[n.length-1];if(i?.type!=="string")return n.push(U9(e));i.string+=e}prependStringToTextAtIndex(e,t){let{text:n}=this.blocks[t],i=n[0];if(i?.type!=="string")return n.unshift(U9(e));i.string=e+i.string}getTextAttributes(e){let t,n={};for(let i in g0){let a=g0[i];if(a.tagName&&ky(e,{matchingSelector:a.tagName,untilNode:this.containerElement}))n[i]=!0;else if(a.parser){if(t=a.parser(e),t){let l=!1;for(let h of this.findBlockElementAncestors(e))if(a.parser(h)===t){l=!0;break}l||(n[i]=t)}}else a.styleProperty&&(t=e.style[a.styleProperty],t&&(n[i]=t))}if(d0(e)){let i=HEe(e,"attributes");for(let a in i)t=i[a],n[a]=t}return n}getBlockAttributes(e){let t=[];for(;e&&e!==this.containerElement;){for(let i in Nh){let a=Nh[i];var n;a.parse!==!1&&Fh(e)===a.tagName&&((n=a.test)!==null&&n!==void 0&&n.call(a,e)||!a.test)&&(t.push(i),a.listAttribute&&t.push(a.listAttribute))}e=e.parentNode}return t.reverse()}findBlockElementAncestors(e){let t=[];for(;e&&e!==this.containerElement;){let n=Fh(e);lC().includes(n)&&t.push(e),e=e.parentNode}return t}isBlockElement(e){if(e?.nodeType===Node.ELEMENT_NODE&&!d0(e)&&!ky(e,{matchingSelector:"td",untilNode:this.containerElement}))return lC().includes(Fh(e))||window.getComputedStyle(e).display==="block"}isInsignificantTextNode(e){if(e?.nodeType!==Node.TEXT_NODE||!Z_t(e.data))return;let{parentNode:t,previousSibling:n,nextSibling:i}=e;return G_t(t.previousSibling)&&!this.isBlockElement(t.previousSibling)||WEe(t)?void 0:!n||this.isBlockElement(n)||!i||this.isBlockElement(i)}isExtraBR(e){return Fh(e)==="br"&&this.isBlockElement(e.parentNode)&&e.parentNode.lastChild===e}needsTableSeparator(e){if(JL.removeBlankTableCells){var t;let n=(t=e.previousSibling)===null||t===void 0?void 0:t.textContent;return n&&/\S/.test(n)}return e.previousSibling}translateBlockElementMarginsToNewlines(){let e=this.getMarginOfDefaultBlockElement();for(let t=0;t<this.blocks.length;t++){let n=this.getMarginOfBlockElementAtIndex(t);n&&(n.top>2*e.top&&this.prependStringToTextAtIndex(`
`,t),n.bottom>2*e.bottom&&this.appendStringToTextAtIndex(`
`,t))}}getMarginOfBlockElementAtIndex(e){let t=this.blockElements[e];if(t&&t.textContent&&!lC().includes(Fh(t))&&!this.processedElements.includes(t))return VEe(t)}getMarginOfDefaultBlockElement(){let e=Bo(Nh.default.tagName);return this.containerElement.appendChild(e),VEe(e)}},WEe=function(r){let{whiteSpace:e}=window.getComputedStyle(r);return["pre","pre-wrap","pre-line"].includes(e)},G_t=r=>r&&!cke(r.textContent),VEe=function(r){let e=window.getComputedStyle(r);if(e.display==="block")return{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}},K_t=function(r){return Fh(r)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},Y_t=r=>r.replace(new RegExp("^".concat(mH.source,"+")),""),Z_t=r=>new RegExp("^".concat(mH.source,"*$")).test(r),cke=r=>/\s$/.test(r),X_t=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],iH="data-trix-serialized-attributes",J_t="[".concat(iH,"]"),Q_t=new RegExp("<!--block-->","g"),e1t={"application/json":function(r){let e;if(r instanceof qh)e=r;else{if(!(r instanceof HTMLElement))throw new Error("unserializable object");e=x0.parse(r.innerHTML).getDocument()}return e.toSerializableDocument().toJSONString()},"text/html":function(r){let e;if(r instanceof qh)e=Y1.render(r);else{if(!(r instanceof HTMLElement))throw new Error("unserializable object");e=r.cloneNode(!0)}return Array.from(e.querySelectorAll("[data-trix-serialize=false]")).forEach(t=>{Cy(t)}),X_t.forEach(t=>{Array.from(e.querySelectorAll("[".concat(t,"]"))).forEach(n=>{n.removeAttribute(t)})}),Array.from(e.querySelectorAll(J_t)).forEach(t=>{try{let n=JSON.parse(t.getAttribute(iH));t.removeAttribute(iH);for(let i in n){let a=n[i];t.setAttribute(i,a)}}catch{}}),e.innerHTML.replace(Q_t,"")}},t1t=Object.freeze({__proto__:null}),Rl=class extends iu{constructor(e,t){super(...arguments),this.attachmentManager=e,this.attachment=t,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}};Rl.proxyMethod("attachment.getAttribute"),Rl.proxyMethod("attachment.hasAttribute"),Rl.proxyMethod("attachment.setAttribute"),Rl.proxyMethod("attachment.getAttributes"),Rl.proxyMethod("attachment.setAttributes"),Rl.proxyMethod("attachment.isPending"),Rl.proxyMethod("attachment.isPreviewable"),Rl.proxyMethod("attachment.getURL"),Rl.proxyMethod("attachment.getHref"),Rl.proxyMethod("attachment.getFilename"),Rl.proxyMethod("attachment.getFilesize"),Rl.proxyMethod("attachment.getFormattedFilesize"),Rl.proxyMethod("attachment.getExtension"),Rl.proxyMethod("attachment.getContentType"),Rl.proxyMethod("attachment.getFile"),Rl.proxyMethod("attachment.setFile"),Rl.proxyMethod("attachment.releaseFile"),Rl.proxyMethod("attachment.getUploadProgress"),Rl.proxyMethod("attachment.setUploadProgress");uP=class extends iu{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(e).forEach(t=>{this.manageAttachment(t)})}getAttachments(){let e=[];for(let t in this.managedAttachments){let n=this.managedAttachments[t];e.push(n)}return e}manageAttachment(e){return this.managedAttachments[e.id]||(this.managedAttachments[e.id]=new Rl(this,e)),this.managedAttachments[e.id]}attachmentIsManaged(e){return e.id in this.managedAttachments}requestRemovalOfAttachment(e){var t,n;if(this.attachmentIsManaged(e))return(t=this.delegate)===null||t===void 0||(n=t.attachmentManagerDidRequestRemovalOfAttachment)===null||n===void 0?void 0:n.call(t,e)}unmanageAttachment(e){let t=this.managedAttachments[e.id];return delete this.managedAttachments[e.id],t}},cP=class{constructor(e){this.composition=e,this.document=this.composition.document;let t=this.composition.getSelectedRange();this.startPosition=t[0],this.endPosition=t[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}},zm=class extends iu{constructor(){super(...arguments),this.document=new qh,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(e){var t,n;if(!e.isEqualTo(this.document))return this.document=e,this.refreshAttachments(),this.revision++,(t=this.delegate)===null||t===void 0||(n=t.compositionDidChangeDocument)===null||n===void 0?void 0:n.call(t,e)}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(e){var t,n,i,a;let{document:l,selectedRange:h}=e;return(t=this.delegate)===null||t===void 0||(n=t.compositionWillLoadSnapshot)===null||n===void 0||n.call(t),this.setDocument(l??new qh),this.setSelection(h??[0,0]),(i=this.delegate)===null||i===void 0||(a=i.compositionDidLoadSnapshot)===null||a===void 0?void 0:a.call(i)}insertText(e){let{updatePosition:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{updatePosition:!0},n=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(e,n));let i=n[0],a=i+e.getLength();return t&&this.setSelection(a),this.notifyDelegateOfInsertionAtRange([i,a])}insertBlock(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new rm,t=new qh([e]);return this.insertDocument(t)}insertDocument(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new qh,t=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(e,t));let n=t[0],i=n+e.getLength();return this.setSelection(i),this.notifyDelegateOfInsertionAtRange([n,i])}insertString(e,t){let n=this.getCurrentTextAttributes(),i=xd.textForStringWithAttributes(e,n);return this.insertText(i,t)}insertBlockBreak(){let e=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(e));let t=e[0],n=t+1;return this.setSelection(n),this.notifyDelegateOfInsertionAtRange([t,n])}insertLineBreak(){let e=new cP(this);if(e.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(e.startPosition);if(e.shouldPrependListItem()){let t=new qh([e.block.copyWithoutText()]);return this.insertDocument(t)}return e.shouldInsertBlockBreak()?this.insertBlockBreak():e.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():e.shouldBreakFormattedBlock()?this.breakFormattedBlock(e):this.insertString(`
`)}insertHTML(e){let t=x0.parse(e).getDocument(),n=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(t,n));let i=n[0],a=i+t.getLength()-1;return this.setSelection(a),this.notifyDelegateOfInsertionAtRange([i,a])}replaceHTML(e){let t=x0.parse(e).getDocument().copyUsingObjectsFromDocument(this.document),n=this.getLocationRange({strict:!1}),i=this.document.rangeFromLocationRange(n);return this.setDocument(t),this.setSelection(i)}insertFile(e){return this.insertFiles([e])}insertFiles(e){let t=[];return Array.from(e).forEach(n=>{var i;if((i=this.delegate)!==null&&i!==void 0&&i.compositionShouldAcceptFile(n)){let a=Ay.attachmentForFile(n);t.push(a)}}),this.insertAttachments(t)}insertAttachment(e){return this.insertAttachments([e])}insertAttachments(e){let t=new xd;return Array.from(e).forEach(n=>{var i;let a=n.getType(),l=(i=uH[a])===null||i===void 0?void 0:i.presentation,h=this.getCurrentTextAttributes();l&&(h.presentation=l);let g=xd.textForAttachmentWithAttributes(n,h);t=t.appendText(g)}),this.insertText(t)}shouldManageDeletingInDirection(e){let t=this.getLocationRange();if(Zg(t)){if(e==="backward"&&t[0].offset===0||this.shouldManageMovingCursorInDirection(e))return!0}else if(t[0].index!==t[1].index)return!0;return!1}deleteInDirection(e){let t,n,i,{length:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=this.getLocationRange(),h=this.getSelectedRange(),g=Zg(h);if(g?n=e==="backward"&&l[0].offset===0:i=l[0].index!==l[1].index,n&&this.canDecreaseBlockAttributeLevel()){let w=this.getBlock();if(w.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(h[0]),w.isEmpty())return!1}return g&&(h=this.getExpandedRangeInDirection(e,{length:a}),e==="backward"&&(t=this.getAttachmentAtRange(h))),t?(this.editAttachment(t),!1):(this.setDocument(this.document.removeTextAtRange(h)),this.setSelection(h[0]),!n&&!i&&void 0)}moveTextFromRange(e){let[t]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(e,t)),this.setSelection(t)}removeAttachment(e){let t=this.document.getRangeOfAttachment(e);if(t)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(t)),this.setSelection(t[0])}removeLastBlockAttribute(){let[e,t]=Array.from(this.getSelectedRange()),n=this.document.getBlockAtPosition(t);return this.removeCurrentAttribute(n.getLastAttribute()),this.setSelection(e)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")}selectPlaceholder(){if(this.placeholderPosition!=null)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(e){let t=this.currentAttributes[e];return t!=null&&t!==!1}toggleCurrentAttribute(e){let t=!this.currentAttributes[e];return t?this.setCurrentAttribute(e,t):this.removeCurrentAttribute(e)}canSetCurrentAttribute(e){return Zu(e)?this.canSetCurrentBlockAttribute(e):this.canSetCurrentTextAttribute(e)}canSetCurrentTextAttribute(e){let t=this.getSelectedDocument();if(t){for(let n of Array.from(t.getAttachments()))if(!n.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(e){let t=this.getBlock();if(t)return!t.isTerminalBlock()}setCurrentAttribute(e,t){return Zu(e)?this.setBlockAttribute(e,t):(this.setTextAttribute(e,t),this.currentAttributes[e]=t,this.notifyDelegateOfCurrentAttributesChange())}setTextAttribute(e,t){let n=this.getSelectedRange();if(!n)return;let[i,a]=Array.from(n);if(i!==a)return this.setDocument(this.document.addAttributeAtRange(e,t,n));if(e==="href"){let l=xd.textForStringWithAttributes(t,{href:t});return this.insertText(l)}}setBlockAttribute(e,t){let n=this.getSelectedRange();if(this.canSetCurrentAttribute(e))return this.setDocument(this.document.applyBlockAttributeAtRange(e,t,n)),this.setSelection(n)}removeCurrentAttribute(e){return Zu(e)?(this.removeBlockAttribute(e),this.updateCurrentAttributes()):(this.removeTextAttribute(e),delete this.currentAttributes[e],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(e){let t=this.getSelectedRange();if(t)return this.setDocument(this.document.removeAttributeAtRange(e,t))}removeBlockAttribute(e){let t=this.getSelectedRange();if(t)return this.setDocument(this.document.removeAttributeAtRange(e,t))}canDecreaseNestingLevel(){var e;return((e=this.getBlock())===null||e===void 0?void 0:e.getNestingLevel())>0}canIncreaseNestingLevel(){var e;let t=this.getBlock();if(t){if((e=Zu(t.getLastNestableAttribute()))===null||e===void 0||!e.listAttribute)return t.getNestingLevel()>0;{let n=this.getPreviousBlock();if(n)return function(){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return y0((arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).slice(0,i.length),i)}(n.getListItemAttributes(),t.getListItemAttributes())}}}decreaseNestingLevel(){let e=this.getBlock();if(e)return this.setDocument(this.document.replaceBlock(e,e.decreaseNestingLevel()))}increaseNestingLevel(){let e=this.getBlock();if(e)return this.setDocument(this.document.replaceBlock(e,e.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var e;return((e=this.getBlock())===null||e===void 0?void 0:e.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var e;let t=(e=this.getBlock())===null||e===void 0?void 0:e.getLastAttribute();if(t)return this.removeCurrentAttribute(t)}decreaseListLevel(){let[e]=Array.from(this.getSelectedRange()),{index:t}=this.document.locationFromPosition(e),n=t,i=this.getBlock().getAttributeLevel(),a=this.document.getBlockAtIndex(n+1);for(;a&&a.isListItem()&&!(a.getAttributeLevel()<=i);)n++,a=this.document.getBlockAtIndex(n+1);e=this.document.positionFromLocation({index:t,offset:0});let l=this.document.positionFromLocation({index:n,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([e,l]))}updateCurrentAttributes(){let e=this.getSelectedRange({ignoreLock:!0});if(e){let t=this.document.getCommonAttributesAtRange(e);if(Array.from(J9()).forEach(n=>{t[n]||this.canSetCurrentAttribute(n)||(t[n]=!1)}),!vC(t,this.currentAttributes))return this.currentAttributes=t,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return QEe.call({},this.currentAttributes)}getCurrentTextAttributes(){let e={};for(let t in this.currentAttributes){let n=this.currentAttributes[t];n!==!1&&Q9(t)&&(e[t]=n)}return e}freezeSelection(){return this.setCurrentAttribute("frozen",!0)}thawSelection(){return this.removeCurrentAttribute("frozen")}hasFrozenSelection(){return this.hasCurrentAttribute("frozen")}setSelection(e){var t;let n=this.document.locationRangeFromRange(e);return(t=this.delegate)===null||t===void 0?void 0:t.compositionDidRequestChangingSelectionToLocationRange(n)}getSelectedRange(){let e=this.getLocationRange();if(e)return this.document.rangeFromLocationRange(e)}setSelectedRange(e){let t=this.document.locationRangeFromRange(e);return this.getSelectionManager().setLocationRange(t)}getPosition(){let e=this.getLocationRange();if(e)return this.document.positionFromLocation(e[0])}getLocationRange(e){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(e)||es({index:0,offset:0})}withTargetLocationRange(e,t){let n;this.targetLocationRange=e;try{n=t()}finally{this.targetLocationRange=null}return n}withTargetRange(e,t){let n=this.document.locationRangeFromRange(e);return this.withTargetLocationRange(n,t)}withTargetDOMRange(e,t){let n=this.createLocationRangeFromDOMRange(e,{strict:!1});return this.withTargetLocationRange(n,t)}getExpandedRangeInDirection(e){let{length:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[n,i]=Array.from(this.getSelectedRange());return e==="backward"?t?n-=t:n=this.translateUTF16PositionFromOffset(n,-1):t?i+=t:i=this.translateUTF16PositionFromOffset(i,1),es([n,i])}shouldManageMovingCursorInDirection(e){if(this.editingAttachment)return!0;let t=this.getExpandedRangeInDirection(e);return this.getAttachmentAtRange(t)!=null}moveCursorInDirection(e){let t,n;if(this.editingAttachment)n=this.document.getRangeOfAttachment(this.editingAttachment);else{let i=this.getSelectedRange();n=this.getExpandedRangeInDirection(e),t=!tP(i,n)}if(e==="backward"?this.setSelectedRange(n[0]):this.setSelectedRange(n[1]),t){let i=this.getAttachmentAtRange(n);if(i)return this.editAttachment(i)}}expandSelectionInDirection(e){let{length:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getExpandedRangeInDirection(e,{length:t});return this.setSelectedRange(n)}expandSelectionForEditing(){if(this.hasCurrentAttribute("href"))return this.expandSelectionAroundCommonAttribute("href")}expandSelectionAroundCommonAttribute(e){let t=this.getPosition(),n=this.document.getRangeOfCommonAttributeAtPosition(e,t);return this.setSelectedRange(n)}selectionContainsAttachments(){var e;return((e=this.getSelectedAttachments())===null||e===void 0?void 0:e.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(e){let t=this.document.locationFromPosition(e);if(t)return this.locationIsCursorTarget(t)}positionIsBlockBreak(e){var t;return(t=this.document.getPieceAtPosition(e))===null||t===void 0?void 0:t.isBlockBreak()}getSelectedDocument(){let e=this.getSelectedRange();if(e)return this.document.getDocumentAtRange(e)}getSelectedAttachments(){var e;return(e=this.getSelectedDocument())===null||e===void 0?void 0:e.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){let e=this.document.getAttachments(),{added:t,removed:n}=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=[],h=[],g=new Set;i.forEach(C=>{g.add(C)});let w=new Set;return a.forEach(C=>{w.add(C),g.has(C)||l.push(C)}),i.forEach(C=>{w.has(C)||h.push(C)}),{added:l,removed:h}}(this.attachments,e);return this.attachments=e,Array.from(n).forEach(i=>{var a,l;i.delegate=null,(a=this.delegate)===null||a===void 0||(l=a.compositionDidRemoveAttachment)===null||l===void 0||l.call(a,i)}),(()=>{let i=[];return Array.from(t).forEach(a=>{var l,h;a.delegate=this,i.push((l=this.delegate)===null||l===void 0||(h=l.compositionDidAddAttachment)===null||h===void 0?void 0:h.call(l,a))}),i})()}attachmentDidChangeAttributes(e){var t,n;return this.revision++,(t=this.delegate)===null||t===void 0||(n=t.compositionDidEditAttachment)===null||n===void 0?void 0:n.call(t,e)}attachmentDidChangePreviewURL(e){var t,n;return this.revision++,(t=this.delegate)===null||t===void 0||(n=t.compositionDidChangeAttachmentPreviewURL)===null||n===void 0?void 0:n.call(t,e)}editAttachment(e,t){var n,i;if(e!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=e,(n=this.delegate)===null||n===void 0||(i=n.compositionDidStartEditingAttachment)===null||i===void 0?void 0:i.call(n,this.editingAttachment,t)}stopEditingAttachment(){var e,t;this.editingAttachment&&((e=this.delegate)===null||e===void 0||(t=e.compositionDidStopEditingAttachment)===null||t===void 0||t.call(e,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(e,t){return this.setDocument(this.document.updateAttributesForAttachment(e,t))}removeAttributeForAttachment(e,t){return this.setDocument(this.document.removeAttributeForAttachment(e,t))}breakFormattedBlock(e){let{document:t}=e,{block:n}=e,i=e.startPosition,a=[i-1,i];n.getBlockBreakPosition()===e.startLocation.offset?(n.breaksOnReturn()&&e.nextCharacter===`
`?i+=1:t=t.removeTextAtRange(a),a=[i,i]):e.nextCharacter===`
`?e.previousCharacter===`
`?a=[i-1,i+1]:(a=[i,i+1],i+=1):e.startLocation.offset-1!=0&&(i+=1);let l=new qh([n.removeLastAttribute().copyWithoutText()]);return this.setDocument(t.insertDocumentAtRange(l,a)),this.setSelection(i)}getPreviousBlock(){let e=this.getLocationRange();if(e){let{index:t}=e[0];if(t>0)return this.document.getBlockAtIndex(t-1)}}getBlock(){let e=this.getLocationRange();if(e)return this.document.getBlockAtIndex(e[0].index)}getAttachmentAtRange(e){let t=this.document.getDocumentAtRange(e);if(t.toString()==="".concat("\uFFFC",`
`))return t.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var e,t;return(e=this.delegate)===null||e===void 0||(t=e.compositionDidChangeCurrentAttributes)===null||t===void 0?void 0:t.call(e,this.currentAttributes)}notifyDelegateOfInsertionAtRange(e){var t,n;return(t=this.delegate)===null||t===void 0||(n=t.compositionDidPerformInsertionAtRange)===null||n===void 0?void 0:n.call(t,e)}translateUTF16PositionFromOffset(e,t){let n=this.document.toUTF16String(),i=n.offsetFromUCS2Offset(e);return n.offsetToUCS2Offset(i+t)}};zm.proxyMethod("getSelectionManager().getPointRange"),zm.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),zm.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),zm.proxyMethod("getSelectionManager().locationIsCursorTarget"),zm.proxyMethod("getSelectionManager().selectionIsExpanded"),zm.proxyMethod("delegate?.getSelectionManager");pC=class extends iu{constructor(e){super(...arguments),this.composition=e,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(e){let{context:t,consolidatable:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.undoEntries.slice(-1)[0];if(!n||!r1t(i,e,t)){let a=this.createEntry({description:e,context:t});this.undoEntries.push(a),this.redoEntries=[]}}undo(){let e=this.undoEntries.pop();if(e){let t=this.createEntry(e);return this.redoEntries.push(t),this.composition.loadSnapshot(e.snapshot)}}redo(){let e=this.redoEntries.pop();if(e){let t=this.createEntry(e);return this.undoEntries.push(t),this.composition.loadSnapshot(e.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:e,context:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{description:e?.toString(),context:JSON.stringify(t),snapshot:this.composition.getSnapshot()}}},r1t=(r,e,t)=>r?.description===e?.toString()&&r?.context===JSON.stringify(t),j9="attachmentGallery",fP=class{constructor(e){this.document=e.document,this.selectedRange=e.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map(e=>this.document=this.document.removeAttributeAtRange(j9,e))}applyBlockAttribute(){let e=0;this.findRangesOfPieces().forEach(t=>{t[1]-t[0]>1&&(t[0]+=e,t[1]+=e,this.document.getCharacterAtPosition(t[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(t[1]),t[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),t[1]++,e++),t[0]!==0&&this.document.getCharacterAtPosition(t[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(t[0]),t[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),t[0]++,e++),this.document=this.document.applyBlockAttributeAtRange(j9,!0,t))})}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute(j9)}findRangesOfPieces(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}},fke=function(r){let e=new fP(r);return e.perform(),e.getSnapshot()},n1t=[fke],hP=class{constructor(e,t,n){this.insertFiles=this.insertFiles.bind(this),this.composition=e,this.selectionManager=t,this.element=n,this.undoManager=new pC(this.composition),this.filters=n1t.slice(0)}loadDocument(e){return this.loadSnapshot({document:e,selectedRange:[0,0]})}loadHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=x0.parse(e,{referenceElement:this.element}).getDocument();return this.loadDocument(t)}loadJSON(e){let{document:t,selectedRange:n}=e;return t=qh.fromJSON(t),this.loadSnapshot({document:t,selectedRange:n})}loadSnapshot(e){return this.undoManager=new pC(this.composition),this.composition.loadSnapshot(e)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(e){return this.composition.deleteInDirection(e)}insertAttachment(e){return this.composition.insertAttachment(e)}insertAttachments(e){return this.composition.insertAttachments(e)}insertDocument(e){return this.composition.insertDocument(e)}insertFile(e){return this.composition.insertFile(e)}insertFiles(e){return this.composition.insertFiles(e)}insertHTML(e){return this.composition.insertHTML(e)}insertString(e){return this.composition.insertString(e)}insertText(e){return this.composition.insertText(e)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(e){let t=this.getDocument().locationRangeFromRange([e,e+1]);return this.selectionManager.getClientRectAtLocationRange(t)}expandSelectionInDirection(e){return this.composition.expandSelectionInDirection(e)}moveCursorInDirection(e){return this.composition.moveCursorInDirection(e)}setSelectedRange(e){return this.composition.setSelectedRange(e)}activateAttribute(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.composition.setCurrentAttribute(e,t)}attributeIsActive(e){return this.composition.hasCurrentAttribute(e)}canActivateAttribute(e){return this.composition.canSetCurrentAttribute(e)}deactivateAttribute(e){return this.composition.removeCurrentAttribute(e)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(e){let{context:t,consolidatable:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.undoManager.recordUndoEntry(e,{context:t,consolidatable:n})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}},dP=class{constructor(e){this.element=e}findLocationFromContainerAndOffset(e,t){let{strict:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{strict:!0},i=0,a=!1,l={index:0,offset:0},h=this.findAttachmentElementParentForNode(e);h&&(e=h.parentNode,t=M9(h));let g=eP(this.element,{usingFilter:hke});for(;g.nextNode();){let w=g.currentNode;if(w===e&&uC(e)){G1(w)||(l.offset+=t);break}if(w.parentNode===e){if(i++===t)break}else if(!f0(e,w)&&i>0)break;CEe(w,{strict:n})?(a&&l.index++,l.offset=0,a=!0):l.offset+=H9(w)}return l}findContainerAndOffsetFromLocation(e){let t,n;if(e.index===0&&e.offset===0){for(t=this.element,n=0;t.firstChild;)if(t=t.firstChild,L9(t)){n=1;break}return[t,n]}let[i,a]=this.findNodeAndOffsetFromLocation(e);if(i){if(uC(i))H9(i)===0?(t=i.parentNode.parentNode,n=M9(i.parentNode),G1(i,{name:"right"})&&n++):(t=i,n=e.offset-a);else{if(t=i.parentNode,!CEe(i.previousSibling)&&!L9(t))for(;i===t.lastChild&&(i=t,t=t.parentNode,!L9(t)););n=M9(i),e.offset!==0&&n++}return[t,n]}}findNodeAndOffsetFromLocation(e){let t,n,i=0;for(let a of this.getSignificantNodesForIndex(e.index)){let l=H9(a);if(e.offset<=i+l)if(uC(a)){if(t=a,n=i,e.offset===n&&G1(t))break}else t||(t=a,n=i);if(i+=l,i>e.offset)break}return[t,n]}findAttachmentElementParentForNode(e){for(;e&&e!==this.element;){if(d0(e))return e;e=e.parentNode}}getSignificantNodesForIndex(e){let t=[],n=eP(this.element,{usingFilter:i1t}),i=!1;for(;n.nextNode();){let l=n.currentNode;var a;if($1(l)){if(a!=null?a++:a=0,a===e)i=!0;else if(i)break}else i&&t.push(l)}return t}},H9=function(r){return r.nodeType===Node.TEXT_NODE?G1(r)?0:r.textContent.length:Fh(r)==="br"||d0(r)?1:0},i1t=function(r){return o1t(r)===NodeFilter.FILTER_ACCEPT?hke(r):NodeFilter.FILTER_REJECT},o1t=function(r){return tke(r)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},hke=function(r){return d0(r.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},pP=class{createDOMRangeFromPoint(e){let t,{x:n,y:i}=e;if(document.caretPositionFromPoint){let{offsetNode:a,offset:l}=document.caretPositionFromPoint(n,i);return t=document.createRange(),t.setStart(a,l),t}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(n,i);if(document.body.createTextRange){let a=cC();try{let l=document.body.createTextRange();l.moveToPoint(n,i),l.select()}catch{}return t=cC(),lke(a),t}}getClientRectsForDOMRange(e){let t=Array.from(e.getClientRects());return[t[0],t[t.length-1]]}},Yg=class extends iu{constructor(e){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=e,this.locationMapper=new dP(this.element),this.pointMapper=new pP,this.lockCount=0,Fl("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.strict===!1?this.createLocationRangeFromDOMRange(cC()):e.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(e){if(this.lockedLocationRange)return;e=es(e);let t=this.createDOMRangeFromLocationRange(e);t&&(lke(t),this.updateCurrentLocationRange(e))}setLocationRangeFromPointRange(e){e=es(e);let t=this.getLocationAtPoint(e[0]),n=this.getLocationAtPoint(e[1]);this.setLocationRange([t,n])}getClientRectAtLocationRange(e){let t=this.createDOMRangeFromLocationRange(e);if(t)return this.getClientRectsForDOMRange(t)[1]}locationIsCursorTarget(e){let t=Array.from(this.findNodeAndOffsetFromLocation(e))[0];return G1(t)}lock(){this.lockCount++==0&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(--this.lockCount==0){let{lockedLocationRange:e}=this;if(this.lockedLocationRange=null,e!=null)return this.setLocationRange(e)}}clearSelection(){var e;return(e=ske())===null||e===void 0?void 0:e.removeAllRanges()}selectionIsCollapsed(){var e;return((e=cC())===null||e===void 0?void 0:e.collapsed)===!0}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(e,t){if(e==null||!this.domRangeWithinElement(e))return;let n=this.findLocationFromContainerAndOffset(e.startContainer,e.startOffset,t);if(!n)return;let i=e.collapsed?void 0:this.findLocationFromContainerAndOffset(e.endContainer,e.endOffset,t);return es([n,i])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let e;this.paused=!0;let t=()=>{if(this.paused=!1,clearTimeout(n),Array.from(e).forEach(i=>{i.destroy()}),f0(document,this.element))return this.selectionDidChange()},n=setTimeout(t,200);e=["mousemove","keydown"].map(i=>Fl(i,{onElement:document,withCallback:t}))}selectionDidChange(){if(!this.paused&&!fH(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(e){var t,n;if((e??(e=this.createLocationRangeFromDOMRange(cC())))&&!tP(e,this.currentLocationRange))return this.currentLocationRange=e,(t=this.delegate)===null||t===void 0||(n=t.locationRangeDidChange)===null||n===void 0?void 0:n.call(t,this.currentLocationRange.slice(0))}createDOMRangeFromLocationRange(e){let t=this.findContainerAndOffsetFromLocation(e[0]),n=Zg(e)?t:this.findContainerAndOffsetFromLocation(e[1])||t;if(t!=null&&n!=null){let i=document.createRange();return i.setStart(...Array.from(t||[])),i.setEnd(...Array.from(n||[])),i}}getLocationAtPoint(e){let t=this.createDOMRangeFromPoint(e);var n;if(t)return(n=this.createLocationRangeFromDOMRange(t))===null||n===void 0?void 0:n[0]}domRangeWithinElement(e){return e.collapsed?f0(this.element,e.startContainer):f0(this.element,e.startContainer)&&f0(this.element,e.endContainer)}};Yg.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),Yg.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),Yg.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),Yg.proxyMethod("pointMapper.createDOMRangeFromPoint"),Yg.proxyMethod("pointMapper.getClientRectsForDOMRange");dke=Object.freeze({__proto__:null,Attachment:Ay,AttachmentManager:uP,AttachmentPiece:Dy,Block:rm,Composition:zm,Document:qh,Editor:hP,HTMLParser:x0,HTMLSanitizer:lP,LineBreakInsertion:cP,LocationMapper:dP,ManagedAttachment:Rl,Piece:Qg,PointMapper:pP,SelectionManager:Yg,SplittableList:Z1,StringPiece:dC,Text:xd,UndoManager:pC}),a1t=Object.freeze({__proto__:null,ObjectView:Jg,AttachmentView:hC,BlockView:aP,DocumentView:Y1,PieceView:iP,PreviewableAttachmentView:nP,TextView:oP}),{lang:W9,css:c0,keyNames:s1t}=gC,V9=function(r){return function(){let e=r.apply(this,arguments);e.do(),this.undos||(this.undos=[]),this.undos.push(e.undo)}},mP=class extends iu{constructor(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(...arguments),_d(this,"makeElementMutable",V9(()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable}))),_d(this,"addToolbar",V9(()=>{let a=Bo({tagName:"div",className:c0.attachmentToolbar,data:{trixMutable:!0},childNodes:Bo({tagName:"div",className:"trix-button-row",childNodes:Bo({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:Bo({tagName:"button",className:"trix-button trix-button--remove",textContent:W9.remove,attributes:{title:W9.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&a.appendChild(Bo({tagName:"div",className:c0.attachmentMetadataContainer,childNodes:Bo({tagName:"span",className:c0.attachmentMetadata,childNodes:[Bo({tagName:"span",className:c0.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),Bo({tagName:"span",className:c0.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),Fl("click",{onElement:a,withCallback:this.didClickToolbar}),Fl("click",{onElement:a,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),sC("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:a,attachment:this.attachment}}),{do:()=>this.element.appendChild(a),undo:()=>Cy(a)}})),_d(this,"installCaptionEditor",V9(()=>{let a=Bo({tagName:"textarea",className:c0.attachmentCaptionEditor,attributes:{placeholder:W9.captionPlaceholder},data:{trixMutable:!0}});a.value=this.attachmentPiece.getCaption();let l=a.cloneNode();l.classList.add("trix-autoresize-clone"),l.tabIndex=-1;let h=function(){l.value=a.value,a.style.height=l.scrollHeight+"px"};Fl("input",{onElement:a,withCallback:h}),Fl("input",{onElement:a,withCallback:this.didInputCaption}),Fl("keydown",{onElement:a,withCallback:this.didKeyDownCaption}),Fl("change",{onElement:a,withCallback:this.didChangeCaption}),Fl("blur",{onElement:a,withCallback:this.didBlurCaption});let g=this.element.querySelector("figcaption"),w=g.cloneNode();return{do:()=>{if(g.style.display="none",w.appendChild(a),w.appendChild(l),w.classList.add("".concat(c0.attachmentCaption,"--editing")),g.parentElement.insertBefore(w,g),h(),this.options.editCaption)return pH(()=>a.focus())},undo(){Cy(w),g.style.display=null}}})),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=e,this.element=t,this.container=n,this.options=i,this.attachment=this.attachmentPiece.attachment,Fh(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var e;let t=this.undos.pop();for(this.savePendingCaption();t;)t(),t=this.undos.pop();(e=this.delegate)===null||e===void 0||e.didUninstallAttachmentEditor(this)}savePendingCaption(){if(this.pendingCaption!=null){let a=this.pendingCaption;var e,t,n,i;this.pendingCaption=null,a?(e=this.delegate)===null||e===void 0||(t=e.attachmentEditorDidRequestUpdatingAttributesForAttachment)===null||t===void 0||t.call(e,{caption:a},this.attachment):(n=this.delegate)===null||n===void 0||(i=n.attachmentEditorDidRequestRemovingAttributeForAttachment)===null||i===void 0||i.call(n,"caption",this.attachment)}}didClickToolbar(e){return e.preventDefault(),e.stopPropagation()}didClickActionButton(e){var t;if(e.target.getAttribute("data-trix-action")==="remove")return(t=this.delegate)===null||t===void 0?void 0:t.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}didKeyDownCaption(e){var t,n;if(s1t[e.keyCode]==="return")return e.preventDefault(),this.savePendingCaption(),(t=this.delegate)===null||t===void 0||(n=t.attachmentEditorDidRequestDeselectingAttachment)===null||n===void 0?void 0:n.call(t,this.attachment)}didInputCaption(e){this.pendingCaption=e.target.value.replace(/\s/g," ").trim()}didChangeCaption(e){return this.savePendingCaption()}didBlurCaption(e){return this.savePendingCaption()}},gP=class extends iu{constructor(e,t){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=e,this.composition=t,this.documentView=new Y1(this.composition.document,{element:this.element}),Fl("focus",{onElement:this.element,withCallback:this.didFocus}),Fl("blur",{onElement:this.element,withCallback:this.didBlur}),Fl("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),Fl("mousedown",{onElement:this.element,matchingSelector:h0,withCallback:this.didClickAttachment}),Fl("click",{onElement:this.element,matchingSelector:"a".concat(h0),preventDefault:!0})}didFocus(e){var t;let n=()=>{var i,a;if(!this.focused)return this.focused=!0,(i=this.delegate)===null||i===void 0||(a=i.compositionControllerDidFocus)===null||a===void 0?void 0:a.call(i)};return((t=this.blurPromise)===null||t===void 0?void 0:t.then(n))||n()}didBlur(e){this.blurPromise=new Promise(t=>pH(()=>{var n,i;return fH(this.element)||(this.focused=null,(n=this.delegate)===null||n===void 0||(i=n.compositionControllerDidBlur)===null||i===void 0||i.call(n)),this.blurPromise=null,t()}))}didClickAttachment(e,t){var n,i;let a=this.findAttachmentForElement(t),l=!!ky(e.target,{matchingSelector:"figcaption"});return(n=this.delegate)===null||n===void 0||(i=n.compositionControllerDidSelectAttachment)===null||i===void 0?void 0:i.call(n,a,{editCaption:l})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var e,t,n,i,a,l;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((n=this.delegate)===null||n===void 0||(i=n.compositionControllerWillSyncDocumentView)===null||i===void 0||i.call(n),this.documentView.sync(),(a=this.delegate)===null||a===void 0||(l=a.compositionControllerDidSyncDocumentView)===null||l===void 0||l.call(a)),(e=this.delegate)===null||e===void 0||(t=e.compositionControllerDidRender)===null||t===void 0?void 0:t.call(e)}rerenderViewForObject(e){return this.invalidateViewForObject(e),this.render()}invalidateViewForObject(e){return this.documentView.invalidateViewForObject(e)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(e,t){var n;if(((n=this.attachmentEditor)===null||n===void 0?void 0:n.attachment)===e)return;let i=this.documentView.findElementForObject(e);if(!i)return;this.uninstallAttachmentEditor();let a=this.composition.document.getAttachmentPieceForAttachment(e);this.attachmentEditor=new mP(a,i,this.element,t),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var e;return(e=this.attachmentEditor)===null||e===void 0?void 0:e.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(e,t){var n,i;return(n=this.delegate)===null||n===void 0||(i=n.compositionControllerWillUpdateAttachment)===null||i===void 0||i.call(n,t),this.composition.updateAttributesForAttachment(e,t)}attachmentEditorDidRequestRemovingAttributeForAttachment(e,t){var n,i;return(n=this.delegate)===null||n===void 0||(i=n.compositionControllerWillUpdateAttachment)===null||i===void 0||i.call(n,t),this.composition.removeAttributeForAttachment(e,t)}attachmentEditorDidRequestRemovalOfAttachment(e){var t,n;return(t=this.delegate)===null||t===void 0||(n=t.compositionControllerDidRequestRemovalOfAttachment)===null||n===void 0?void 0:n.call(t,e)}attachmentEditorDidRequestDeselectingAttachment(e){var t,n;return(t=this.delegate)===null||t===void 0||(n=t.compositionControllerDidRequestDeselectingAttachment)===null||n===void 0?void 0:n.call(t,e)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(e){return this.composition.document.getAttachmentById(parseInt(e.dataset.trixId,10))}},vP=class extends iu{},pke="data-trix-mutable",l1t="[".concat(pke,"]"),u1t={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},yP=class extends iu{constructor(e){super(e),this.didMutate=this.didMutate.bind(this),this.element=e,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,u1t)}stop(){return this.observer.disconnect()}didMutate(e){var t,n;if(this.mutations.push(...Array.from(this.findSignificantMutations(e)||[])),this.mutations.length)return(t=this.delegate)===null||t===void 0||(n=t.elementDidMutate)===null||n===void 0||n.call(t,this.getMutationSummary()),this.reset()}reset(){this.mutations=[]}findSignificantMutations(e){return e.filter(t=>this.mutationIsSignificant(t))}mutationIsSignificant(e){if(this.nodeIsMutable(e.target))return!1;for(let t of Array.from(this.nodesModifiedByMutation(e)))if(this.nodeIsSignificant(t))return!0;return!1}nodeIsSignificant(e){return e!==this.element&&!this.nodeIsMutable(e)&&!tke(e)}nodeIsMutable(e){return ky(e,{matchingSelector:l1t})}nodesModifiedByMutation(e){let t=[];switch(e.type){case"attributes":e.attributeName!==pke&&t.push(e.target);break;case"characterData":t.push(e.target.parentNode),t.push(e.target);break;case"childList":t.push(...Array.from(e.addedNodes||[])),t.push(...Array.from(e.removedNodes||[]))}return t}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){let{additions:e,deletions:t}=this.getTextChangesFromCharacterData(),n=this.getTextChangesFromChildList();Array.from(n.additions).forEach(h=>{Array.from(e).includes(h)||e.push(h)}),t.push(...Array.from(n.deletions||[]));let i={},a=e.join("");a&&(i.textAdded=a);let l=t.join("");return l&&(i.textDeleted=l),i}getMutationsByType(e){return Array.from(this.mutations).filter(t=>t.type===e)}getTextChangesFromChildList(){let e,t,n=[],i=[];return Array.from(this.getMutationsByType("childList")).forEach(a=>{n.push(...Array.from(a.addedNodes||[])),i.push(...Array.from(a.removedNodes||[]))}),n.length===0&&i.length===1&&$1(i[0])?(e=[],t=[`
`]):(e=oH(n),t=oH(i)),{additions:e.filter((a,l)=>a!==t[l]).map(aC),deletions:t.filter((a,l)=>a!==e[l]).map(aC)}}getTextChangesFromCharacterData(){let e,t,n=this.getMutationsByType("characterData");if(n.length){let i=n[0],a=n[n.length-1],l=function(h,g){let w,C;return h=v0.box(h),(g=v0.box(g)).length<h.length?[C,w]=LEe(h,g):[w,C]=LEe(g,h),{added:w,removed:C}}(aC(i.oldValue),aC(a.target.data));e=l.added,t=l.removed}return{additions:e?[e]:[],deletions:t?[t]:[]}}},oH=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=[];for(let t of Array.from(r))switch(t.nodeType){case Node.TEXT_NODE:e.push(t.data);break;case Node.ELEMENT_NODE:Fh(t)==="br"?e.push(`
`):e.push(...Array.from(oH(t.childNodes)||[]))}return e},bP=class extends K1{constructor(e){super(...arguments),this.file=e}perform(e){let t=new FileReader;return t.onerror=()=>e(!1),t.onload=()=>{t.onerror=null;try{t.abort()}catch{}return e(!0,this.file)},t.readAsArrayBuffer(this.file)}},aH=class{constructor(e){this.element=e}shouldIgnore(e){return!!mC.samsungAndroid&&(this.previousEvent=this.event,this.event=e,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&c1t(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&this.event.inputType!=="insertText"&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var e;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&((e=this.event.data)===null||e===void 0?void 0:e.length)>50}isBeforeInputInsertText(){return this.event.type==="beforeinput"&&this.event.inputType==="insertText"}previousEventWasUnidentifiedKeydown(){var e,t;return((e=this.previousEvent)===null||e===void 0?void 0:e.type)==="keydown"&&((t=this.previousEvent)===null||t===void 0?void 0:t.key)==="Unidentified"}},c1t=(r,e)=>$Ee(r)===$Ee(e),f1t=new RegExp("(".concat("\uFFFC","|").concat(SP,"|").concat(Ey,"|\\s)+"),"g"),$Ee=r=>r.replace(f1t," ").trim(),X1=class extends iu{constructor(e){super(...arguments),this.element=e,this.mutationObserver=new yP(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new aH(this.element);for(let t in this.constructor.events)Fl(t,{onElement:this.element,withCallback:this.handlerFor(t)})}elementDidMutate(e){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var e,t;return(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidRequestRender)===null||t===void 0?void 0:t.call(e)}requestReparse(){var e,t;return(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidRequestReparse)===null||t===void 0||t.call(e),this.requestRender()}attachFiles(e){let t=Array.from(e).map(n=>new bP(n));return Promise.all(t).then(n=>{this.handleInput(function(){var i,a;return(i=this.delegate)===null||i===void 0||i.inputControllerWillAttachFiles(),(a=this.responder)===null||a===void 0||a.insertFiles(n),this.requestRender()})})}handlerFor(e){return t=>{t.defaultPrevented||this.handleInput(()=>{if(!fH(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(t))return;this.eventName=e,this.constructor.events[e].call(this,t)}})}}handleInput(e){try{var t;(t=this.delegate)===null||t===void 0||t.inputControllerWillHandleInput(),e.call(this)}finally{var n;(n=this.delegate)===null||n===void 0||n.inputControllerDidHandleInput()}}createLinkHTML(e,t){let n=document.createElement("a");return n.href=e,n.textContent=t||e,n.outerHTML}};_d(X1,"events",{});({browser:h1t,keyNames:mke}=gC),d1t=0,tm=class extends X1{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(let t in e){let n=e[t];this.inputSummary[t]=n}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),b0.reset()}elementDidMutate(e){var t,n;return this.isComposing()?(t=this.delegate)===null||t===void 0||(n=t.inputControllerDidAllowUnhandledInput)===null||n===void 0?void 0:n.call(t):this.handleInput(function(){return this.mutationIsSignificant(e)&&(this.mutationIsExpected(e)?this.requestRender():this.requestReparse()),this.reset()})}mutationIsExpected(e){let{textAdded:t,textDeleted:n}=e;if(this.inputSummary.preferDocument)return!0;let i=t!=null?t===this.inputSummary.textAdded:!this.inputSummary.textAdded,a=n!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,l=[`
`,` 
`].includes(t)&&!i,h=n===`
`&&!a;if(l&&!h||h&&!l){let w=this.getSelectedRange();if(w){var g;let C=l?t.replace(/\n$/,"").length||-1:t?.length||1;if((g=this.responder)!==null&&g!==void 0&&g.positionIsBlockBreak(w[1]+C))return!0}}return i&&a}mutationIsSignificant(e){var t;let n=Object.keys(e).length>0,i=((t=this.compositionInput)===null||t===void 0?void 0:t.getEndData())==="";return n||!i}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new Bm(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(e,t){var n;return((n=this.responder)===null||n===void 0?void 0:n.deleteInDirection(e))!==!1?this.setInputSummary({didDelete:!0}):t?(t.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(e){var t;if(!function(i){if(i==null||!i.setData)return!1;for(let a in OEe){let l=OEe[a];try{if(i.setData(a,l),!i.getData(a)===l)return!1}catch{return!1}}return!0}(e))return;let n=(t=this.responder)===null||t===void 0?void 0:t.getSelectedDocument().toSerializableDocument();return e.setData("application/x-trix-document",JSON.stringify(n)),e.setData("text/html",Y1.render(n).innerHTML),e.setData("text/plain",n.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(e){let t={};return Array.from(e?.types||[]).forEach(n=>{t[n]=!0}),t.Files||t["application/x-trix-document"]||t["text/html"]||t["text/plain"]}getPastedHTMLUsingHiddenElement(e){let t=this.getSelectedRange(),n={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},i=Bo({style:n,tagName:"div",editable:!0});return document.body.appendChild(i),i.focus(),requestAnimationFrame(()=>{let a=i.innerHTML;return Cy(i),this.setSelectedRange(t),e(a)})}};_d(tm,"events",{keydown(r){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;let e=mke[r.keyCode];if(e){var t;let i=this.keys;["ctrl","alt","shift","meta"].forEach(a=>{var l;r["".concat(a,"Key")]&&(a==="ctrl"&&(a="control"),i=(l=i)===null||l===void 0?void 0:l[a])}),((t=i)===null||t===void 0?void 0:t[e])!=null&&(this.setInputSummary({keyName:e}),b0.reset(),i[e].call(this,r))}if(oke(r)){let i=String.fromCharCode(r.keyCode).toLowerCase();if(i){var n;let a=["alt","shift"].map(l=>{if(r["".concat(l,"Key")])return l}).filter(l=>l);a.push(i),(n=this.delegate)!==null&&n!==void 0&&n.inputControllerDidReceiveKeyboardCommand(a)&&r.preventDefault()}}},keypress(r){if(this.inputSummary.eventName!=null||r.metaKey||r.ctrlKey&&!r.altKey)return;let e=g1t(r);var t,n;return e?((t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.insertString(e),this.setInputSummary({textAdded:e,didDelete:this.selectionIsExpanded()})):void 0},textInput(r){let{data:e}=r,{textAdded:t}=this.inputSummary;if(t&&t!==e&&t.toUpperCase()===e){var n;let i=this.getSelectedRange();return this.setSelectedRange([i[0],i[1]+t.length]),(n=this.responder)===null||n===void 0||n.insertString(e),this.setInputSummary({textAdded:e}),this.setSelectedRange(i)}},dragenter(r){r.preventDefault()},dragstart(r){var e,t;return this.serializeSelectionToDataTransfer(r.dataTransfer),this.draggedRange=this.getSelectedRange(),(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidStartDrag)===null||t===void 0?void 0:t.call(e)},dragover(r){if(this.draggedRange||this.canAcceptDataTransfer(r.dataTransfer)){r.preventDefault();let n={x:r.clientX,y:r.clientY};var e,t;if(!vC(n,this.draggingPoint))return this.draggingPoint=n,(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidReceiveDragOverPoint)===null||t===void 0?void 0:t.call(e,this.draggingPoint)}},dragend(r){var e,t;(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidCancelDrag)===null||t===void 0||t.call(e),this.draggedRange=null,this.draggingPoint=null},drop(r){var e,t;r.preventDefault();let n=(e=r.dataTransfer)===null||e===void 0?void 0:e.files,i=r.dataTransfer.getData("application/x-trix-document"),a={x:r.clientX,y:r.clientY};if((t=this.responder)===null||t===void 0||t.setLocationRangeFromPointRange(a),n!=null&&n.length)this.attachFiles(n);else if(this.draggedRange){var l,h;(l=this.delegate)===null||l===void 0||l.inputControllerWillMoveText(),(h=this.responder)===null||h===void 0||h.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(i){var g;let w=qh.fromJSONString(i);(g=this.responder)===null||g===void 0||g.insertDocument(w),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(r){var e,t;if((e=this.responder)!==null&&e!==void 0&&e.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(r.clipboardData)&&r.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillCutText(),this.deleteInDirection("backward"),r.defaultPrevented))return this.requestRender()},copy(r){var e;(e=this.responder)!==null&&e!==void 0&&e.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(r.clipboardData)&&r.preventDefault()},paste(r){let e=r.clipboardData||r.testClipboardData,t={clipboard:e};if(!e||v1t(r))return void this.getPastedHTMLUsingHiddenElement(_=>{var ge,fe,me;return t.type="text/html",t.html=_,(ge=this.delegate)===null||ge===void 0||ge.inputControllerWillPaste(t),(fe=this.responder)===null||fe===void 0||fe.insertHTML(t.html),this.requestRender(),(me=this.delegate)===null||me===void 0?void 0:me.inputControllerDidPaste(t)});let n=e.getData("URL"),i=e.getData("text/html"),a=e.getData("public.url-name");if(n){var l,h,g;let _;t.type="text/html",_=a?gH(a).trim():n,t.html=this.createLinkHTML(n,_),(l=this.delegate)===null||l===void 0||l.inputControllerWillPaste(t),this.setInputSummary({textAdded:_,didDelete:this.selectionIsExpanded()}),(h=this.responder)===null||h===void 0||h.insertHTML(t.html),this.requestRender(),(g=this.delegate)===null||g===void 0||g.inputControllerDidPaste(t)}else if(ike(e)){var w,C,D;t.type="text/plain",t.string=e.getData("text/plain"),(w=this.delegate)===null||w===void 0||w.inputControllerWillPaste(t),this.setInputSummary({textAdded:t.string,didDelete:this.selectionIsExpanded()}),(C=this.responder)===null||C===void 0||C.insertString(t.string),this.requestRender(),(D=this.delegate)===null||D===void 0||D.inputControllerDidPaste(t)}else if(i){var F,z,Y;t.type="text/html",t.html=i,(F=this.delegate)===null||F===void 0||F.inputControllerWillPaste(t),(z=this.responder)===null||z===void 0||z.insertHTML(t.html),this.requestRender(),(Y=this.delegate)===null||Y===void 0||Y.inputControllerDidPaste(t)}else if(Array.from(e.types).includes("Files")){var $,re;let _=($=e.items)===null||$===void 0||($=$[0])===null||$===void 0||(re=$.getAsFile)===null||re===void 0?void 0:re.call($);if(_){var oe,ne,he;let ge=p1t(_);!_.name&&ge&&(_.name="pasted-file-".concat(++d1t,".").concat(ge)),t.type="File",t.file=_,(oe=this.delegate)===null||oe===void 0||oe.inputControllerWillAttachFiles(),(ne=this.responder)===null||ne===void 0||ne.insertFile(t.file),this.requestRender(),(he=this.delegate)===null||he===void 0||he.inputControllerDidPaste(t)}}r.preventDefault()},compositionstart(r){return this.getCompositionInput().start(r.data)},compositionupdate(r){return this.getCompositionInput().update(r.data)},compositionend(r){return this.getCompositionInput().end(r.data)},beforeinput(r){this.inputSummary.didInput=!0},input(r){return this.inputSummary.didInput=!0,r.stopPropagation()}}),_d(tm,"keys",{backspace(r){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",r)},delete(r){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",r)},return(r){var e,t;return this.setInputSummary({preferDocument:!0}),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0?void 0:t.insertLineBreak()},tab(r){var e,t;(e=this.responder)!==null&&e!==void 0&&e.canIncreaseNestingLevel()&&((t=this.responder)===null||t===void 0||t.increaseNestingLevel(),this.requestRender(),r.preventDefault())},left(r){var e;if(this.selectionIsInCursorTarget())return r.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("backward")},right(r){var e;if(this.selectionIsInCursorTarget())return r.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("forward")},control:{d(r){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",r)},h(r){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",r)},o(r){var e,t;return r.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0||t.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return(r){var e,t;(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0||t.insertString(`
`),this.requestRender(),r.preventDefault()},tab(r){var e,t;(e=this.responder)!==null&&e!==void 0&&e.canDecreaseNestingLevel()&&((t=this.responder)===null||t===void 0||t.decreaseNestingLevel(),this.requestRender(),r.preventDefault())},left(r){if(this.selectionIsInCursorTarget())return r.preventDefault(),this.expandSelectionInDirection("backward")},right(r){if(this.selectionIsInCursorTarget())return r.preventDefault(),this.expandSelectionInDirection("forward")}},alt:{backspace(r){var e;return this.setInputSummary({preferDocument:!1}),(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformTyping()}},meta:{backspace(r){var e;return this.setInputSummary({preferDocument:!1}),(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformTyping()}}}),tm.proxyMethod("responder?.getSelectedRange"),tm.proxyMethod("responder?.setSelectedRange"),tm.proxyMethod("responder?.expandSelectionInDirection"),tm.proxyMethod("responder?.selectionIsInCursorTarget"),tm.proxyMethod("responder?.selectionIsExpanded");p1t=r=>{var e;return(e=r.type)===null||e===void 0||(e=e.match(/\/(\w+)$/))===null||e===void 0?void 0:e[1]},m1t=!(($9=" ".codePointAt)===null||$9===void 0||!$9.call(" ",0)),g1t=function(r){if(r.key&&m1t&&r.key.codePointAt(0)===r.keyCode)return r.key;{let e;if(r.which===null?e=r.keyCode:r.which!==0&&r.charCode!==0&&(e=r.charCode),e!=null&&mke[e]!=="escape")return v0.fromCodepoints([e]).toString()}},v1t=function(r){let e=r.clipboardData;if(e){if(e.types.includes("text/html")){for(let t of e.types){let n=/^CorePasteboardFlavorType/.test(t),i=/^dyn\./.test(t)&&e.getData(t);if(n||i)return!0}return!1}{let t=e.types.includes("com.apple.webarchive"),n=e.types.includes("com.apple.flat-rtfd");return t||n}}},Bm=class extends iu{constructor(e){super(...arguments),this.inputController=e,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(e){if(this.data.start=e,this.isSignificant()){var t,n;this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&((n=this.responder)===null||n===void 0||n.deleteInDirection("left")),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(t=this.responder)===null||t===void 0?void 0:t.getSelectedRange()}}update(e){if(this.data.update=e,this.isSignificant()){let t=this.selectPlaceholder();t&&(this.forgetPlaceholder(),this.range=t)}}end(e){return this.data.end=e,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.setSelectedRange(this.range),(i=this.responder)===null||i===void 0||i.insertString(this.data.end),(a=this.responder)===null||a===void 0?void 0:a.setSelectedRange(this.range[0]+this.data.end.length)):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset();var t,n,i,a}getEndData(){return this.data.end}isEnded(){return this.getEndData()!=null}isSignificant(){return!h1t.composesExistingText||this.inputSummary.didInput}canApplyToDocument(){var e,t;return((e=this.data.start)===null||e===void 0?void 0:e.length)===0&&((t=this.data.end)===null||t===void 0?void 0:t.length)>0&&this.range}};Bm.proxyMethod("inputController.setInputSummary"),Bm.proxyMethod("inputController.requestRender"),Bm.proxyMethod("inputController.requestReparse"),Bm.proxyMethod("responder?.selectionIsExpanded"),Bm.proxyMethod("responder?.insertPlaceholder"),Bm.proxyMethod("responder?.selectPlaceholder"),Bm.proxyMethod("responder?.forgetPlaceholder");p0=class extends X1{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){return this.scheduledRender?this.composing?(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidAllowUnhandledInput)===null||t===void 0?void 0:t.call(e):void 0:this.reparse();var e,t}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var e,t;cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(t=this.delegate)===null||t===void 0||t.render(),(e=this.afterRender)===null||e===void 0||e.call(this),this.afterRender=null}reparse(){var e;return(e=this.delegate)===null||e===void 0?void 0:e.reparse()}insertString(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var i;return(i=this.responder)===null||i===void 0?void 0:i.insertString(t,n)})}toggleAttributeIfSupported(e){var t;if(J9().includes(e))return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformFormatting(e),this.withTargetDOMRange(function(){var n;return(n=this.responder)===null||n===void 0?void 0:n.toggleCurrentAttribute(e)})}activateAttributeIfSupported(e,t){var n;if(J9().includes(e))return(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformFormatting(e),this.withTargetDOMRange(function(){var i;return(i=this.responder)===null||i===void 0?void 0:i.setCurrentAttribute(e,t)})}deleteInDirection(e){let{recordUndoEntry:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordUndoEntry:!0};var n;t&&((n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping());let i=()=>{var l;return(l=this.responder)===null||l===void 0?void 0:l.deleteInDirection(e)},a=this.getTargetDOMRange({minLength:2});return a?this.withTargetDOMRange(a,i):i()}withTargetDOMRange(e,t){var n;return typeof e=="function"&&(t=e,e=this.getTargetDOMRange()),e?(n=this.responder)===null||n===void 0?void 0:n.withTargetDOMRange(e,t.bind(this)):(b0.reset(),t.call(this))}getTargetDOMRange(){var e,t;let{minLength:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{minLength:0},i=(e=(t=this.event).getTargetRanges)===null||e===void 0?void 0:e.call(t);if(i&&i.length){let a=y1t(i[0]);if(n===0||a.toString().length>=n)return a}}withEvent(e,t){let n;this.event=e;try{n=t.call(this)}finally{this.event=null}return n}};_d(p0,"events",{keydown(r){if(oke(r)){var e;let t=_1t(r);(e=this.delegate)!==null&&e!==void 0&&e.inputControllerDidReceiveKeyboardCommand(t)&&r.preventDefault()}else{let t=r.key;r.altKey&&(t+="+Alt"),r.shiftKey&&(t+="+Shift");let n=this.constructor.keys[t];if(n)return this.withEvent(r,n)}},paste(r){var e;let t,n=(e=r.clipboardData)===null||e===void 0?void 0:e.getData("URL");return b1t(r)?(r.preventDefault(),this.attachFiles(r.clipboardData.files)):x1t(r)?(r.preventDefault(),t={type:"text/plain",string:r.clipboardData.getData("text/plain")},(i=this.delegate)===null||i===void 0||i.inputControllerWillPaste(t),(a=this.responder)===null||a===void 0||a.insertString(t.string),this.render(),(l=this.delegate)===null||l===void 0?void 0:l.inputControllerDidPaste(t)):n?(r.preventDefault(),t={type:"text/html",html:this.createLinkHTML(n)},(h=this.delegate)===null||h===void 0||h.inputControllerWillPaste(t),(g=this.responder)===null||g===void 0||g.insertHTML(t.html),this.render(),(w=this.delegate)===null||w===void 0?void 0:w.inputControllerDidPaste(t)):void 0;var i,a,l,h,g,w},beforeinput(r){let e=this.constructor.inputTypes[r.inputType];e&&(this.withEvent(r,e),this.scheduleRender())},input(r){b0.reset()},dragstart(r){var e,t;(e=this.responder)!==null&&e!==void 0&&e.selectionContainsAttachments()&&(r.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(t=this.responder)===null||t===void 0?void 0:t.getSelectedRange(),point:K9(r)})},dragenter(r){G9(r)&&r.preventDefault()},dragover(r){if(this.dragging){r.preventDefault();let t=K9(r);var e;if(!vC(t,this.dragging.point))return this.dragging.point=t,(e=this.responder)===null||e===void 0?void 0:e.setLocationRangeFromPointRange(t)}else G9(r)&&r.preventDefault()},drop(r){var e,t;if(this.dragging)return r.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillMoveText(),(t=this.responder)===null||t===void 0||t.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(G9(r)){var n;r.preventDefault();let i=K9(r);return(n=this.responder)===null||n===void 0||n.setLocationRangeFromPointRange(i),this.attachFiles(r.dataTransfer.files)}},dragend(){var r;this.dragging&&((r=this.responder)===null||r===void 0||r.setSelectedRange(this.dragging.range),this.dragging=null)},compositionend(r){this.composing&&(this.composing=!1,mC.recentAndroid||this.scheduleRender())}}),_d(p0,"keys",{ArrowLeft(){var r,e;if((r=this.responder)!==null&&r!==void 0&&r.shouldManageMovingCursorInDirection("backward"))return this.event.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("backward")},ArrowRight(){var r,e;if((r=this.responder)!==null&&r!==void 0&&r.shouldManageMovingCursorInDirection("forward"))return this.event.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("forward")},Backspace(){var r,e,t;if((r=this.responder)!==null&&r!==void 0&&r.shouldManageDeletingInDirection("backward"))return this.event.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0||t.deleteInDirection("backward"),this.render()},Tab(){var r,e;if((r=this.responder)!==null&&r!==void 0&&r.canIncreaseNestingLevel())return this.event.preventDefault(),(e=this.responder)===null||e===void 0||e.increaseNestingLevel(),this.render()},"Tab+Shift"(){var r,e;if((r=this.responder)!==null&&r!==void 0&&r.canDecreaseNestingLevel())return this.event.preventDefault(),(e=this.responder)===null||e===void 0||e.decreaseNestingLevel(),this.render()}}),_d(p0,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var r;this.deleteByDragRange=(r=this.responder)===null||r===void 0?void 0:r.getSelectedRange()})},deleteCompositionText(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var r;if((r=this.responder)!==null&&r!==void 0&&r.canIncreaseNestingLevel())return this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.increaseNestingLevel()})},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent(){var r;if((r=this.responder)!==null&&r!==void 0&&r.canDecreaseNestingLevel())return this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.decreaseNestingLevel()})},formatRemove(){this.withTargetDOMRange(function(){for(let t in(r=this.responder)===null||r===void 0?void 0:r.getCurrentAttributes()){var r,e;(e=this.responder)===null||e===void 0||e.removeCurrentAttribute(t)}})},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var r;return(r=this.delegate)===null||r===void 0?void 0:r.inputControllerWillPerformRedo()},historyUndo(){var r;return(r=this.delegate)===null||r===void 0?void 0:r.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){let r=this.deleteByDragRange;var e;if(r)return this.deleteByDragRange=null,(e=this.delegate)===null||e===void 0||e.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.moveTextFromRange(r)})},insertFromPaste(){var r;let{dataTransfer:e}=this.event,t={dataTransfer:e},n=e.getData("URL"),i=e.getData("text/html");if(n){var a;let w;this.event.preventDefault(),t.type="text/html";let C=e.getData("public.url-name");w=C?gH(C).trim():n,t.html=this.createLinkHTML(n,w),(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(t),this.withTargetDOMRange(function(){var D;return(D=this.responder)===null||D===void 0?void 0:D.insertHTML(t.html)}),this.afterRender=()=>{var D;return(D=this.delegate)===null||D===void 0?void 0:D.inputControllerDidPaste(t)}}else if(ike(e)){var l;t.type="text/plain",t.string=e.getData("text/plain"),(l=this.delegate)===null||l===void 0||l.inputControllerWillPaste(t),this.withTargetDOMRange(function(){var w;return(w=this.responder)===null||w===void 0?void 0:w.insertString(t.string)}),this.afterRender=()=>{var w;return(w=this.delegate)===null||w===void 0?void 0:w.inputControllerDidPaste(t)}}else if(i){var h;this.event.preventDefault(),t.type="text/html",t.html=i,(h=this.delegate)===null||h===void 0||h.inputControllerWillPaste(t),this.withTargetDOMRange(function(){var w;return(w=this.responder)===null||w===void 0?void 0:w.insertHTML(t.html)}),this.afterRender=()=>{var w;return(w=this.delegate)===null||w===void 0?void 0:w.inputControllerDidPaste(t)}}else if((r=e.files)!==null&&r!==void 0&&r.length){var g;t.type="File",t.file=e.files[0],(g=this.delegate)===null||g===void 0||g.inputControllerWillPaste(t),this.withTargetDOMRange(function(){var w;return(w=this.responder)===null||w===void 0?void 0:w.insertFile(t.file)}),this.afterRender=()=>{var w;return(w=this.delegate)===null||w===void 0?void 0:w.inputControllerDidPaste(t)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString(`
`)},insertLink(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},insertParagraph(){var r;return(r=this.delegate)===null||r===void 0||r.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.insertLineBreak()})},insertReplacementText(){let r=this.event.dataTransfer.getData("text/plain"),e=this.event.getTargetRanges()[0];this.withTargetDOMRange(e,()=>{this.insertString(r,{updatePosition:!1})})},insertText(){var r;return this.insertString(this.event.data||((r=this.event.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet")}});y1t=function(r){let e=document.createRange();return e.setStart(r.startContainer,r.startOffset),e.setEnd(r.endContainer,r.endOffset),e},G9=r=>{var e;return Array.from(((e=r.dataTransfer)===null||e===void 0?void 0:e.types)||[]).includes("Files")},b1t=function(r){let e=r.clipboardData;if(e)return e.types.includes("Files")&&e.types.length===1&&e.files.length>=1},x1t=function(r){let e=r.clipboardData;if(e)return e.types.includes("text/plain")&&e.types.length===1},_1t=function(r){let e=[];return r.altKey&&e.push("alt"),r.shiftKey&&e.push("shift"),e.push(r.key),e},K9=r=>({x:r.clientX,y:r.clientY}),sH="[data-trix-attribute]",lH="[data-trix-action]",w1t="".concat(sH,", ").concat(lH),TP="[data-trix-dialog]",S1t="".concat(TP,"[data-trix-active]"),T1t="".concat(TP," [data-trix-method]"),GEe="".concat(TP," [data-trix-input]"),KEe=(r,e)=>(e||(e=V1(r)),r.querySelector("[data-trix-input][name='".concat(e,"']"))),YEe=r=>r.getAttribute("data-trix-action"),V1=r=>r.getAttribute("data-trix-attribute")||r.getAttribute("data-trix-dialog-attribute"),xP=class extends iu{constructor(e){super(e),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=e,this.attributes={},this.actions={},this.resetDialogInputs(),Fl("mousedown",{onElement:this.element,matchingSelector:lH,withCallback:this.didClickActionButton}),Fl("mousedown",{onElement:this.element,matchingSelector:sH,withCallback:this.didClickAttributeButton}),Fl("click",{onElement:this.element,matchingSelector:w1t,preventDefault:!0}),Fl("click",{onElement:this.element,matchingSelector:T1t,withCallback:this.didClickDialogButton}),Fl("keydown",{onElement:this.element,matchingSelector:GEe,withCallback:this.didKeyDownDialogInput})}didClickActionButton(e,t){var n;(n=this.delegate)===null||n===void 0||n.toolbarDidClickButton(),e.preventDefault();let i=YEe(t);return this.getDialog(i)?this.toggleDialog(i):(a=this.delegate)===null||a===void 0?void 0:a.toolbarDidInvokeAction(i,t);var a}didClickAttributeButton(e,t){var n;(n=this.delegate)===null||n===void 0||n.toolbarDidClickButton(),e.preventDefault();let i=V1(t);var a;return this.getDialog(i)?this.toggleDialog(i):(a=this.delegate)===null||a===void 0||a.toolbarDidToggleAttribute(i),this.refreshAttributeButtons()}didClickDialogButton(e,t){let n=ky(t,{matchingSelector:TP});return this[t.getAttribute("data-trix-method")].call(this,n)}didKeyDownDialogInput(e,t){if(e.keyCode===13){e.preventDefault();let n=t.getAttribute("name"),i=this.getDialog(n);this.setAttribute(i)}if(e.keyCode===27)return e.preventDefault(),this.hideDialog()}updateActions(e){return this.actions=e,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton((e,t)=>{e.disabled=this.actions[t]===!1})}eachActionButton(e){return Array.from(this.element.querySelectorAll(lH)).map(t=>e(t,YEe(t)))}updateAttributes(e){return this.attributes=e,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton((e,t)=>(e.disabled=this.attributes[t]===!1,this.attributes[t]||this.dialogIsVisible(t)?(e.setAttribute("data-trix-active",""),e.classList.add("trix-active")):(e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"))))}eachAttributeButton(e){return Array.from(this.element.querySelectorAll(sH)).map(t=>e(t,V1(t)))}applyKeyboardCommand(e){let t=JSON.stringify(e.sort());for(let n of Array.from(this.element.querySelectorAll("[data-trix-key]"))){let i=n.getAttribute("data-trix-key").split("+");if(JSON.stringify(i.sort())===t)return sC("mousedown",{onElement:n}),!0}return!1}dialogIsVisible(e){let t=this.getDialog(e);if(t)return t.hasAttribute("data-trix-active")}toggleDialog(e){return this.dialogIsVisible(e)?this.hideDialog():this.showDialog(e)}showDialog(e){var t,n;this.hideDialog(),(t=this.delegate)===null||t===void 0||t.toolbarWillShowDialog();let i=this.getDialog(e);i.setAttribute("data-trix-active",""),i.classList.add("trix-active"),Array.from(i.querySelectorAll("input[disabled]")).forEach(l=>{l.removeAttribute("disabled")});let a=V1(i);if(a){let l=KEe(i,e);l&&(l.value=this.attributes[a]||"",l.select())}return(n=this.delegate)===null||n===void 0?void 0:n.toolbarDidShowDialog(e)}setAttribute(e){let t=V1(e),n=KEe(e,t);return n.willValidate&&!n.checkValidity()?(n.setAttribute("data-trix-validate",""),n.classList.add("trix-validate"),n.focus()):((i=this.delegate)===null||i===void 0||i.toolbarDidUpdateAttribute(t,n.value),this.hideDialog());var i}removeAttribute(e){var t;let n=V1(e);return(t=this.delegate)===null||t===void 0||t.toolbarDidRemoveAttribute(n),this.hideDialog()}hideDialog(){let e=this.element.querySelector(S1t);var t;if(e)return e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"),this.resetDialogInputs(),(t=this.delegate)===null||t===void 0?void 0:t.toolbarDidHideDialog((n=>n.getAttribute("data-trix-dialog"))(e))}resetDialogInputs(){Array.from(this.element.querySelectorAll(GEe)).forEach(e=>{e.setAttribute("disabled","disabled"),e.removeAttribute("data-trix-validate"),e.classList.remove("trix-validate")})}getDialog(e){return this.element.querySelector("[data-trix-dialog=".concat(e,"]"))}},m0=class extends vP{constructor(e){let{editorElement:t,document:n,html:i}=e;super(...arguments),this.editorElement=t,this.selectionManager=new Yg(this.editorElement),this.selectionManager.delegate=this,this.composition=new zm,this.composition.delegate=this,this.attachmentManager=new uP(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=hH.getLevel()===2?new p0(this.editorElement):new tm(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new gP(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new xP(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new hP(this.composition,this.selectionManager,this.editorElement),n?this.editor.loadDocument(n):this.editor.loadHTML(i)}registerSelectionManager(){return b0.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return b0.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(e){if(this.notifyEditorElement("document-change"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(e){return this.currentAttributes=e,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(e){this.pasting&&(this.pastedRange=e)}compositionShouldAcceptFile(e){return this.notifyEditorElement("file-accept",{file:e})}compositionDidAddAttachment(e){let t=this.attachmentManager.manageAttachment(e);return this.notifyEditorElement("attachment-add",{attachment:t})}compositionDidEditAttachment(e){this.compositionController.rerenderViewForObject(e);let t=this.attachmentManager.manageAttachment(e);return this.notifyEditorElement("attachment-edit",{attachment:t}),this.notifyEditorElement("change")}compositionDidChangeAttachmentPreviewURL(e){return this.compositionController.invalidateViewForObject(e),this.notifyEditorElement("change")}compositionDidRemoveAttachment(e){let t=this.attachmentManager.unmanageAttachment(e);return this.notifyEditorElement("attachment-remove",{attachment:t})}compositionDidStartEditingAttachment(e,t){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(e),this.compositionController.installAttachmentEditorForAttachment(e,t),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(e){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(e){if(!this.loadingSnapshot||this.isFocused())return this.requestedLocationRange=e,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(e){return this.removeAttachment(e)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")}compositionControllerDidBlur(){return this.notifyEditorElement("blur")}compositionControllerDidSelectAttachment(e,t){return this.toolbarController.hideDialog(),this.composition.editAttachment(e,t)}compositionControllerDidRequestDeselectingAttachment(e){let t=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(e);return this.selectionManager.setLocationRange(t[1])}compositionControllerWillUpdateAttachment(e){return this.editor.recordUndoEntry("Edit Attachment",{context:e.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(e){return this.removeAttachment(e)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(e){return this.recordFormattingUndoEntry(e)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControllerWillPaste(e){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:e})}inputControllerDidPaste(e){return e.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:e})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(e){return this.toolbarController.applyKeyboardCommand(e)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(e){return this.selectionManager.setLocationRangeFromPointRange(e)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(e){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!tP(this.attachmentLocationRange,e)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(e,t){return this.invokeAction(e,t)}toolbarDidToggleAttribute(e){if(this.recordFormattingUndoEntry(e),this.composition.toggleCurrentAttribute(e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(e,t){if(this.recordFormattingUndoEntry(e),this.composition.setCurrentAttribute(e,t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(e){if(this.recordFormattingUndoEntry(e),this.composition.removeCurrentAttribute(e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(e){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(e){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:e})}toolbarDidHideDialog(e){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:e})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(e){return!!this.actionIsExternal(e)||!((t=this.actions[e])===null||t===void 0||(t=t.test)===null||t===void 0||!t.call(this));var t}invokeAction(e,t){return this.actionIsExternal(e)?this.notifyEditorElement("action-invoke",{actionName:e,invokingElement:t}):(n=this.actions[e])===null||n===void 0||(n=n.perform)===null||n===void 0?void 0:n.call(this);var n}actionIsExternal(e){return/^x-./.test(e)}getCurrentActions(){let e={};for(let t in this.actions)e[t]=this.canInvokeAction(t);return e}updateCurrentActions(){let e=this.getCurrentActions();if(!vC(e,this.currentActions))return this.currentActions=e,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions})}runEditorFilters(){let e=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach(i=>{let{document:a,selectedRange:l}=e;e=i.call(this.editor,e)||{},e.document||(e.document=a),e.selectedRange||(e.selectedRange=l)}),t=e,n=this.composition.getSnapshot(),!tP(t.selectedRange,n.selectedRange)||!t.document.isEqualTo(n.document))return this.composition.loadSnapshot(e);var t,n}updateInputElement(){let e=function(t,n){let i=e1t[n];if(i)return i(t);throw new Error("unknown content type: ".concat(n))}(this.compositionController.getSerializableElement(),"text/html");return this.editorElement.setInputElementValue(e)}notifyEditorElement(e,t){switch(e){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(e,t)}removeAttachment(e){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(e),this.render()}recordFormattingUndoEntry(e){let t=Zu(e),n=this.selectionManager.getLocationRange();if(t||!Zg(n))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return[this.getLocationContext(),this.getTimeContext(),...Array.from(t)]}getLocationContext(){let e=this.selectionManager.getLocationRange();return Zg(e)?e[0].index:e}getTimeContext(){return Y9.interval>0?Math.floor(new Date().getTime()/Y9.interval):0}isFocused(){var e;return this.editorElement===((e=this.editorElement.ownerDocument)===null||e===void 0?void 0:e.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}};_d(m0,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:()=>!0,perform(){return hH.pickFiles(this.editor.insertFiles)}}}),m0.proxyMethod("getSelectionManager().setLocationRange"),m0.proxyMethod("getSelectionManager().getLocationRange");E1t=Object.freeze({__proto__:null,AttachmentEditorController:mP,CompositionController:gP,Controller:vP,EditorController:m0,InputController:X1,Level0InputController:tm,Level2InputController:p0,ToolbarController:xP}),k1t=Object.freeze({__proto__:null,MutationObserver:yP,SelectionChangeObserver:rP}),C1t=Object.freeze({__proto__:null,FileVerificationOperation:bP,ImagePreloadOperation:sP});nke("trix-toolbar",`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`);_P=class extends HTMLElement{connectedCallback(){this.innerHTML===""&&(this.innerHTML=rke.getDefaultHTML())}},A1t=0,D1t=function(r){if(!r.hasAttribute("contenteditable"))return r.setAttribute("contenteditable",""),function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.times=1,Fl(e,t)}("focus",{onElement:r,withCallback:()=>O1t(r)})},O1t=function(r){return I1t(r),M1t(r)},I1t=function(r){var e,t;if((e=(t=document).queryCommandSupported)!==null&&e!==void 0&&e.call(t,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),Fl("mscontrolselect",{onElement:r,preventDefault:!0})},M1t=function(r){var e,t;if((e=(t=document).queryCommandSupported)!==null&&e!==void 0&&e.call(t,"DefaultParagraphSeparator")){let{tagName:n}=Nh.default;if(["div","p"].includes(n))return document.execCommand("DefaultParagraphSeparator",!1,n)}},ZEe=mC.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"};nke("trix-editor",`%t {
    display: block;
}

%t:empty:not(:focus)::before {
    content: attr(placeholder);
    color: graytext;
    cursor: text;
    pointer-events: none;
    white-space: pre-line;
}

%t a[contenteditable=false] {
    cursor: text;
}

%t img {
    max-width: 100%;
    height: auto;
}

%t `.concat(h0,` figcaption textarea {
    resize: none;
}

%t `).concat(h0,` figcaption textarea.trix-autoresize-clone {
    position: absolute;
    left: -9999px;
    max-height: 0px;
}

%t `).concat(h0,` figcaption[data-trix-placeholder]:empty::before {
    content: attr(data-trix-placeholder);
    color: graytext;
}

%t [data-trix-cursor-target] {
    display: `).concat(ZEe.display,` !important;
    width: `).concat(ZEe.width,` !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

%t [data-trix-cursor-target=left] {
    vertical-align: top !important;
    margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
    vertical-align: bottom !important;
    margin-right: -1px !important;
}`));wP=class extends HTMLElement{get trixId(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++A1t),this.trixId)}get labels(){let e=[];this.id&&this.ownerDocument&&e.push(...Array.from(this.ownerDocument.querySelectorAll("label[for='".concat(this.id,"']"))||[]));let t=ky(this,{matchingSelector:"label"});return t&&[this,null].includes(t.control)&&e.push(t),e}get toolbarElement(){var e;if(this.hasAttribute("toolbar"))return(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.getAttribute("toolbar"));if(this.parentNode){let t="trix-toolbar-".concat(this.trixId);this.setAttribute("toolbar",t);let n=Bo("trix-toolbar",{id:t});return this.parentNode.insertBefore(n,this),n}}get form(){var e;return(e=this.inputElement)===null||e===void 0?void 0:e.form}get inputElement(){var e;if(this.hasAttribute("input"))return(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.getAttribute("input"));if(this.parentNode){let t="trix-input-".concat(this.trixId);this.setAttribute("input",t);let n=Bo("input",{type:"hidden",id:t});return this.parentNode.insertBefore(n,this.nextElementSibling),n}}get editor(){var e;return(e=this.editorController)===null||e===void 0?void 0:e.editor}get name(){var e;return(e=this.inputElement)===null||e===void 0?void 0:e.name}get value(){var e;return(e=this.inputElement)===null||e===void 0?void 0:e.value}set value(e){var t;this.defaultValue=e,(t=this.editor)===null||t===void 0||t.loadHTML(this.defaultValue)}notify(e,t){if(this.editorController)return sC("trix-".concat(e),{onElement:this,attributes:t})}setInputElementValue(e){this.inputElement&&(this.inputElement.value=e)}connectedCallback(){this.hasAttribute("data-trix-internal")||(D1t(this),function(e){e.hasAttribute("role")||e.setAttribute("role","textbox")}(this),function(e){if(e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby"))return;let t=function(){let n=Array.from(e.labels).map(a=>{if(!a.contains(e))return a.textContent}).filter(a=>a),i=n.join(" ");return i?e.setAttribute("aria-label",i):e.removeAttribute("aria-label")};t(),Fl("focus",{onElement:e,withCallback:t})}(this),this.editorController||(sC("trix-before-initialize",{onElement:this}),this.editorController=new m0({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(()=>sC("trix-initialize",{onElement:this}))),this.editorController.registerSelectionManager(),this.registerResetListener(),this.registerClickListener(),function(e){!document.querySelector(":focus")&&e.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===e&&e.focus()}(this))}disconnectedCallback(){var e;return(e=this.editorController)===null||e===void 0||e.unregisterSelectionManager(),this.unregisterResetListener(),this.unregisterClickListener()}registerResetListener(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)}unregisterResetListener(){return window.removeEventListener("reset",this.resetListener,!1)}registerClickListener(){return this.clickListener=this.clickBubbled.bind(this),window.addEventListener("click",this.clickListener,!1)}unregisterClickListener(){return window.removeEventListener("click",this.clickListener,!1)}resetBubbled(e){if(!e.defaultPrevented&&e.target===this.form)return this.reset()}clickBubbled(e){if(e.defaultPrevented||this.contains(e.target))return;let t=ky(e.target,{matchingSelector:"label"});return t&&Array.from(this.labels).includes(t)?this.focus():void 0}reset(){this.value=this.defaultValue}},XEe={VERSION:c_t,config:gC,core:t1t,models:dke,views:a1t,controllers:E1t,observers:k1t,operations:C1t,elements:Object.freeze({__proto__:null,TrixEditorElement:wP,TrixToolbarElement:_P}),filters:Object.freeze({__proto__:null,Filter:fP,attachmentGalleryFilter:fke})};Object.assign(XEe,dke),window.Trix=XEe,setTimeout(function(){customElements.get("trix-toolbar")||customElements.define("trix-toolbar",_P),customElements.get("trix-editor")||customElements.define("trix-editor",wP)},0)});var vH,yC,vke=ze(()=>{gke();vH=la(Y_());bo();dE();yC=class extends nn{get resourceId(){return this.controllerTarget.dataset.resourceId}get resourceName(){return this.controllerTarget.dataset.resourceName}get attachmentKey(){return this.controllerTarget.dataset.attachmentKey}get attachmentsDisabled(){return gd(this.controllerTarget.dataset.attachmentsDisabled)}get hideAttachmentFilename(){return gd(this.controllerTarget.dataset.hideAttachmentFilename)}get hideAttachmentFilesize(){return gd(this.controllerTarget.dataset.hideAttachmentFilesize)}get hideAttachmentUrl(){return gd(this.controllerTarget.dataset.hideAttachmentUrl)}get uploadUrl(){let r=new vH.default(window.location.origin),e=new vH.default(window.Avo.configuration.root_path);return r.path(`${e.path()}/avo_api/resources/${this.resourceName}/${this.resourceId}/attachments`),r.query(e.query()),r.toString()}connect(){this.attachmentsDisabled&&this.controllerTarget.querySelector(".trix-button-group--file-tools").remove(),window.addEventListener("trix-file-accept",r=>{if(r.target===this.editorTarget){if(this.attachmentsDisabled){r.preventDefault(),alert("This field has attachments disabled.");return}if(!this.resourceId){r.preventDefault(),alert("You can't upload files into the Trix editor until you save the resource.");return}this.attachmentKey||(r.preventDefault(),alert("You haven't set an `attachment_key` to this Trix field."))}}),window.addEventListener("trix-attachment-add",r=>{r.target===this.editorTarget&&r.attachment.file&&this.uploadFileAttachment(r.attachment)})}uploadFileAttachment(r){this.uploadFile(r.file,e=>r.setUploadProgress(e),e=>r.setAttributes(e))}uploadFile(r,e,t){var l;let n=this.createFormData(r),i=new XMLHttpRequest;i.open("POST",this.uploadUrl,!0);let a=(l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.content;a&&i.setRequestHeader("X-CSRF-Token",a),i.upload.addEventListener("progress",h=>{let g=h.loaded/h.total*100;e(g)}),i.addEventListener("load",()=>{if(i.status===200){let h;try{h=JSON.parse(i.response)}catch(w){h={}}let g={url:h.url,href:h.href};this.hideAttachmentFilename&&(g.filename=null),this.hideAttachmentFilesize&&(g.filesize=null),this.hideAttachmentUrl&&(g.href=null),t(g)}}),i.send(n)}createFormData(r){let e=new FormData;return e.append("Content-Type",r.type),e.append("file",r),e.append("filename",r.name),e.append("attachment_key",this.attachmentKey),e}};Wr(yC,"targets",["editor","controller"])});var yke=ze(()=>{pge();mge();gge();vge();yge();bge();kge();qve();Nve();Bve();hbe();_0e();Z_();w0e();S0e();T0e();E0e();k0e();C0e();A0e();D0e();O0e();I0e();M0e();L0e();P0e();R0e();y_e();b_e();x_e();$Te();KTe();YTe();ZTe();QTe();eEe();lEe();uEe();cEe();TEe();vke();qi.register("action",pE);qi.register("actions-overflow",V_);qi.register("actions-picker",$_);qi.register("attachments",mE);qi.register("boolean-filter",vE);qi.register("copy-to-clipboard",hM);qi.register("dashboard-card",_E);qi.register("filter",Ah);qi.register("panel-refresh",pL);qi.register("hidden-input",uk);qi.register("input-autofocus",ck);qi.register("item-select-all",x1);qi.register("item-selector",fk);qi.register("loading-button",dk);qi.register("menu",pk);qi.register("modal",mk);qi.register("multiple-select-filter",gk);qi.register("per-page",vk);qi.register("preview",yk);qi.register("resource-edit",w1);qi.register("resource-index",gL);qi.register("resource-show",vL);qi.register("search",Yk);qi.register("select",Zk);qi.register("select-filter",Xk);qi.register("self-destroy",VL);qi.register("sidebar",z1);qi.register("tabs",U1);qi.register("text-filter",eC);qi.register("tippy",tC);qi.register("toggle",W1);qi.register("belongs-to-field",gE);qi.register("code-field",xE);qi.register("date-field",m1);qi.register("easy-mde",lk);qi.register("key-value",hk);qi.register("progress-bar-field",bk);qi.register("reload-belongs-to-field",xk);qi.register("tags-field",H1);qi.register("trix-field",yC)});var bke=de((yH,bH)=>{(function(r,e){typeof define=="function"&&define.amd?define([],e):typeof yH<"u"?e():(e(),r.FileSaver={})})(yH,function(){"use strict";function r(h,g){return typeof g>"u"?g={autoBom:!1}:typeof g!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),g={autoBom:!g}),g.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function e(h,g,w){var C=new XMLHttpRequest;C.open("GET",h),C.responseType="blob",C.onload=function(){l(C.response,g,w)},C.onerror=function(){console.error("could not download file")},C.send()}function t(h){var g=new XMLHttpRequest;g.open("HEAD",h,!1);try{g.send()}catch{}return 200<=g.status&&299>=g.status}function n(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(g)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,a=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(h,g,w){var C=i.URL||i.webkitURL,D=document.createElement("a");g=g||h.name||"download",D.download=g,D.rel="noopener",typeof h=="string"?(D.href=h,D.origin===location.origin?n(D):t(D.href)?e(h,g,w):n(D,D.target="_blank")):(D.href=C.createObjectURL(h),setTimeout(function(){C.revokeObjectURL(D.href)},4e4),setTimeout(function(){n(D)},0))}:"msSaveOrOpenBlob"in navigator?function(h,g,w){if(g=g||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(r(h,w),g);else if(t(h))e(h,g,w);else{var C=document.createElement("a");C.href=h,C.target="_blank",setTimeout(function(){n(C)})}}:function(h,g,w,C){if(C=C||open("","_blank"),C&&(C.document.title=C.document.body.innerText="downloading..."),typeof h=="string")return e(h,g,w);var D=h.type==="application/octet-stream",F=/constructor/i.test(i.HTMLElement)||i.safari,z=/CriOS\/[\d]+/.test(navigator.userAgent);if((z||D&&F||a)&&typeof FileReader<"u"){var Y=new FileReader;Y.onloadend=function(){var oe=Y.result;oe=z?oe:oe.replace(/^data:[^;]*;/,"data:attachment/file;"),C?C.location.href=oe:location=oe,C=null},Y.readAsDataURL(h)}else{var $=i.URL||i.webkitURL,re=$.createObjectURL(h);C?C.location=re:location.href=re,C=null,setTimeout(function(){$.revokeObjectURL(re)},4e4)}});i.saveAs=l.saveAs=l,typeof bH<"u"&&(bH.exports=l)})});var xke,_ke=ze(()=>{CI();xke=la(bke());Ib.close_filters_dropdown=function(){document.querySelector(".filters-dropdown-selector").classList.add("hidden")};Ib.open_filter=function(){let r=this.getAttribute("unique-id");setTimeout(()=>{document.querySelector(`[data-filter-id="${r}"] .pill`).click()},150)};Ib.download=function(){let r=atob(this.getAttribute("content")),e=new Array(r.length);for(let n=0;n<r.length;n++)e[n]=r.charCodeAt(n);let t=new Uint8Array(e);(0,xke.saveAs)(new Blob([t]),this.getAttribute("filename"))}});var P1t=de(Tke=>{var nJt=la(xue());Ghe();Khe();var aJt=la(Yhe()),wke=la(Xhe()),Ske=la(f4());G4();KI();Bpe();zpe();yke();_ke();window.Avo.localStorage=new YI;window.Turbolinks=Mb;var EP=null;Ske.bind("r r r",()=>{EP=document.scrollingElement.scrollTop,Mb.visit(window.location.href,{action:"replace"})});function L1t(){window.navigator.userAgent.indexOf("Mac OS X")>=0?(document.body.classList.add("os-mac"),document.body.classList.remove("os-pc")):(document.body.classList.add("os-pc"),document.body.classList.remove("os-mac"))}function xH(){H_('[data-tippy="tooltip"]',{theme:"light",content(r){let e=r.getAttribute("title");return r.removeAttribute("title"),r.removeAttribute("data-tippy"),e}})}window.initTippy=xH;wke.start();document.addEventListener("turbo:load",()=>{xH(),L1t(),EP&&setTimeout(()=>{document.scrollingElement.scrollTo(0,EP),EP=0},50),setTimeout(()=>{document.body.classList.remove("turbo-loading")},1)});document.addEventListener("turbo:frame-load",()=>{xH()});document.addEventListener("turbo:before-fetch-response",r=>z0(Tke,null,function*(){var e,t,n;if(r.detail.fetchResponse.response.status===500){let{id:i,src:a}=r.target;(n=(t=(e=r.detail.fetchResponse)==null?void 0:e.response)==null?void 0:t.url)!=null&&n.includes("/failed_to_load")||(r.target.src=`${window.Avo.configuration.root_path}/failed_to_load?turbo_frame=${i}&src=${a}`)}}));document.addEventListener("turbo:visit",()=>{document.body.classList.add("turbo-loading")});document.addEventListener("turbo:submit-start",()=>document.body.classList.add("turbo-loading"));document.addEventListener("turbo:submit-end",()=>document.body.classList.remove("turbo-loading"));document.addEventListener("turbo:before-cache",()=>{document.querySelectorAll("[data-turbo-remove-before-cache]").forEach(r=>r.remove())});window.Avo=window.Avo||{configuration:{}};window.Avo.menus={resetCollapsedState(){Array.from(document.querySelectorAll("[data-menu-key-param]")).map(r=>r.getAttribute("data-menu-key-param")).filter(Boolean).forEach(r=>{window.localStorage.removeItem(r)})}}});P1t();})();
/*!
 * @kurkle/color v0.1.9
 * https://github.com/kurkle/color#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT License
 */
/*!
 * Chart.js v3.7.0
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */
/*!
 * Chartkick.js
 * Create beautiful charts with one line of JavaScript
 * https://github.com/ankane/chartkick.js
 * v4.2.0
 * MIT License
 */
/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.19.11
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * URI.js - Mutating URLs
 * IPv6 Support
 *
 * Version: 1.19.11
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * URI.js - Mutating URLs
 * Second Level Domain (SLD) Support
 *
 * Version: 1.19.11
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * chartjs-adapter-date-fns v2.0.0
 * https://www.chartjs.org
 * (c) 2021 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */
/*!
 * hotkeys-js v3.8.7
 * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies.
 * 
 * Copyright (c) 2021 kenny wong <wowohoo@qq.com>
 * http://jaywcjlove.github.io/hotkeys
 * 
 * Licensed under the MIT license.
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! @license DOMPurify 3.0.8 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.8/LICENSE */
/*! https://mths.be/punycode v1.4.0 by @mathias */
/*! js-cookie v3.0.5 | MIT */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
//# sourceMappingURL=avo.base.js.map
